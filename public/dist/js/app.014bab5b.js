(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[2143],{26663:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-63d180"},39952:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-6556ea"},56772:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-de6f16"},76324:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-a08026"},18995:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-6b6aac"},34298:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-f45cd5"},97300:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-52b0f3"},86420:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-ef99e2"},45359:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-067d44"},81146:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-f3d3ec"},34638:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-5c433a"},41395:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-2a4834"},74390:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-21265f"},9960:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-af1545"},31725:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-d6ff11"},89758:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-efdd5e"},58980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-2629fb"},95273:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-440202"},81859:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-0fffa5"},44229:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-f2bfec"},48137:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-8c0d45"},44301:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-8c2dc8"},38039:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-64d144"},29948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-4ec1d6"},98443:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-0df823"},3224:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-887f3f"},39795:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-57283c"},13622:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-f0c552"},59038:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-6cd5c0"},56723:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-cd8a9c"},8414:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-b73918"},84476:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-16fed0"},67931:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-ffff10"},36306:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-6c8a15"},46551:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-b4800c"},13254:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-77df85"},61018:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-dc12b7"},95327:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-9ac77d"},12976:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-b56710"},56478:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-44ec63"},67785:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-4f587b"},11563:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-c41b91"},48751:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-1e5b92"},12366:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-427ffe"},10607:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-5e198c"},56437:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-e7d6c5"},22306:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-2588fa"},35786:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-67c765"},7810:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-25f3ed"},65810:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-cc56a2"},10964:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-76ed7c"},85376:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-59e113"},62336:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-90e176"},75914:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-81a08a"},37787:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-b0f923"},75820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-6d7def"},84793:(e,t,n)=>{"use strict";n.r(t)},46700:(e,t,n)=>{var a={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-SG":85383,"./en-SG.js":85383,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-nz":76319,"./en-nz.js":76319,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-tw":74152,"./zh-tw.js":74152};function r(e){e=i(e);return n(e)}function i(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(a)},r.resolve=i,(e.exports=r).id=46700},12621:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var t=n(67154),v=n.n(t),t=n(87757),y=n.n(t),t=n(48926),a=n.n(t),i=n(36144);function g(e){return r.apply(this,arguments)}function r(){return(r=a()(y().mark(function e(t){var n,a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.key,e.abrupt("return",i.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(e){return o.apply(this,arguments)}function o(){return(o=a()(y().mark(function e(t){var n,a,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.key,e.abrupt("return",i.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var x=n(74483),t=n(30381),b=n.n(t),u=n(35239),T=n(64396).Z.account.auditLog.timeScreening,s={type:"",dateFilter:void 0,projectId:void 0,selectedDateRange:[],selectedQuickTimeChoice:8,staredQuickTimeChoice:-1,quickTime:""};const l={namespace:T,state:Object.assign({},s),reducers:{save:function(e,t){t=t.payload;return v()({},e,t)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(s))}},effects:{init:y().mark(function e(t,n){var a,r,i,o,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,n.call,a=n.put,n.select,r=n.take,i=s.type,o=s.params,e.next=5,a({type:"save",payload:{type:i,projectId:u.t.get(u.V.curProject).id}});case 5:return s="default-time-"+i,e.next=8,a({type:"getDefaultValue",payload:{key:s,params:o,formatStr:"YYYY-MM-DD HH:mm:ss",defaultValue:u.t.getWidthProject(u.V.messageDateFilter)&&u.t.getWidthProject(u.V.messageDateFilter)[i]||void 0,projectId:u.t.get(u.V.curProject).id}});case 8:return e.next=10,r("getDefaultValue/@@end");case 10:return e.abrupt("return");case 11:case"end":return e.stop()}},e)}),getDefaultValue:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return v()({},e)[T]});case 4:return f=e.sent,d=f.projectId,s=a.params,c=a.formatStr,u=a.defaultValue,f=a.key,e.next=9,r(g,{projectId:a.projectId||d,key:f});case 9:if(d=e.sent,2e4!==(f=d.data).code){e.next=28;break}if(!(p=JSON.parse(f.result))||-1===p.staredQuickTimeChoice){e.next=23;break}if(d=p.currSelector,h=p.selectedQuickTimeChoice,m=p.staredQuickTimeChoice,f=s&&-1===s.quickChoice.indexOf("-")?x.A$.indexOf(s.quickChoice):-1<m?m:h,h=s?-1===s.quickChoice.indexOf("-")?(0,x.B9)(f,c):[s.from,s.to]:-1<m?(0,x.B9)(m,c):(0,x.B9)(h,c),0===d)return l={from:h[0],to:h[1],quickChoice:s&&-1<s.quickChoice.indexOf("-")?s.quickChoice:x.A$[f],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,x.vv)(h),currSelector:0},e.next=21,i({type:"save",payload:{selectedQuickTimeChoice:f,staredQuickTimeChoice:m,selectedDateRange:h,dateFilter:l,quickTime:s&&-1<s.quickChoice.indexOf("-")?"":x.A$[m]}});e.next=21;break;case 21:e.next=28;break;case 23:return h=s?-1===s.quickChoice.indexOf("-")?x.A$.indexOf(s.quickChoice):-1:u&&(-1===u.quickChoice.indexOf("-")?x.A$.indexOf(u.quickChoice):-1),m=s?0<h?(0,x.B9)(h,c):[s.from,s.to]:u?0<h?(0,x.B9)(h,c):[u.from,u.to]:[b()().subtract(29,"days"),b()()].map(function(e){return e.format(c)}),l={from:m[0],to:m[1],quickChoice:s?s.quickChoice:u?u.quickChoice:x.A$[8],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,x.vv)(m),currSelector:0<h||!h||s?0:1},e.next=28,i({type:"save",payload:{selectedQuickTimeChoice:h,staredQuickTimeChoice:-1,selectedDateRange:m,dateFilter:l,quickTime:""}});case 28:return e.abrupt("return",{dateFilter:l});case 29:case"end":return e.stop()}},e)}),setDefaultValue:y().mark(function e(t,n){var a,r,i,o,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.put,o=n.select,e.next=4,o(function(e){return v()({},e)[T]});case 4:return s=e.sent,i=s.projectId,e.prev=6,o=a.key,s=a.value,e.next=10,r(c,{projectId:a.projectId||i,key:o,value:s});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:case"end":return e.stop()}},e,null,[[6,12]])})}}},74483:(e,t,n)=>{"use strict";n.d(t,{Sz:()=>r,vv:()=>i,ld:()=>o,A$:()=>s,B9:()=>c,p6:()=>u});var t=n(30381),a=n.n(t),r=/([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,i=function(e,t){if(Array.isArray(e)){var n=e[0],e=e[1];return a()(e,t).diff(a()(n,t),"days")+1}return 0},o=["今天","昨天","本周","上周","本月","上月","本季","上季","今年","去年"],s=["今天","昨天","本周","上周","近3天","本月","近7天","上月","近30天","本季","近90天","上季","近180天","今年","近365天","去年"],c=function(e,t){var n=[];switch(e){case 0:n=[a()().startOf("day"),a()()];break;case 1:n=[a()().subtract(1,"days").startOf("day"),a()().subtract(1,"days").endOf("day")];break;case 2:n=[a()().startOf("week"),a()()];break;case 3:n=[a()().subtract(1,"weeks").startOf("week"),a()().subtract(1,"weeks").endOf("week")];break;case 5:n=[a()().startOf("month"),a()()];break;case 7:n=[a()().subtract(1,"months").startOf("month"),a()().subtract(1,"months").endOf("month")];break;case 9:n=[a()().startOf("quarter"),a()()];break;case 11:n=[a()().subtract(1,"quarters").startOf("quarter"),a()().subtract(1,"quarters").endOf("quarter")];break;case 13:n=[a()().startOf("year"),a()()];break;case 15:n=[a()().subtract(1,"years").startOf("year"),a()().subtract(1,"years").endOf("year")];break;case 4:n=[a()().subtract(3,"days"),a()()];break;case 6:n=[a()().subtract(7,"days"),a()()];break;case 8:n=[a()().subtract(29,"days"),a()()];break;case 10:n=[a()().subtract(89,"days"),a()()];break;case 12:n=[a()().subtract(179,"days"),a()()];break;case 14:n=[a()().subtract(364,"days"),a()()]}return n.map(function(e){return e.format(t)})},u=function(e,t,n){for(var a="",r=0;r<t.length;r++){var i,o=void 0,s=void 0;n?(o=(i=t[r].split(" "))[0],s=i[1]):o=t[r];for(var c=o.split("-"),u=0;u<c.length;u++)0===u&&(a+=c[u]+(1===e?"年":".")),1===u&&(a+=c[u]+(1===e?"月":".")),2===u&&(a+=c[u]+(1===e?"日":""));s&&(a+=1===e?s.split(":")[0]+"时"+s.split(":")[1]+"分":" "+s),0===r&&(a+=" - ")}return a}},4878:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),l=n.n(t),t=n(87757),p=n.n(t),o=n(36144);function d(e){var t=e.projectId,n=e.searchKey,a=e.pageIndex,r=e.pageSize,i=e.filterModel,e=e.statusList;return o.h.post("/warning/log/user/project/aspect/list",{projectId:t,title:n,pageIndex:void 0===a?1:a,pageSize:void 0===r?20:r,filterModel:void 0===i?{}:i,statusList:void 0===e?[]:e})}const a={namespace:n(64396).Z.aspectWarning,state:{projectId:void 0,initLoading:!0,warningData:{data:void 0,fetchParams:{statusList:[],analysis:{},aspect:{aspect1:[],aspect2:[]},searchKey:"",pageIndex:1,pageSize:20}}},reducers:{save:function(e,t){t=t.payload;return l()({},e,t)}},effects:{fetchWarningList:p().mark(function e(t,n){var a,r,i,o,s,c,u;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,s=n.select,i=n.put,e.next=4,s(function(e){return e.aspectWarning});case 4:return s=e.sent,o=s.warningData,c=s.projectId,s={},a.analysis||a.aspect?s=l()({},o.fetchParams,{filterModel:l()({analysis:o.fetchParams.analysis,aspect:o.fetchParams.aspect},a),pageIndex:1,projectId:a.projectId||c}):(s=l()({},o.fetchParams,{filterModel:{analysis:o.fetchParams.analysis,aspect:o.fetchParams.aspect}},a,{projectId:a.projectId||c}),a.statusList&&(s.pageIndex=1)),c=void 0,e.prev=10,e.next=13,r(d,s);case 13:u=e.sent,2e4===(u=u.data).code&&(c=u.result),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,u={warningData:{data:c,fetchParams:l()({},o.fetchParams,a)},initLoading:!1},a.projectId&&(u.projectId=a.projectId),e.next=25,i({type:"save",payload:u});case 25:return e.finish(20);case 26:case"end":return e.stop()}},e,null,[[10,18,20,26]])})}}},90646:(e,t,n)=>{"use strict";n.d(t,{Oq:()=>o,p9:()=>u,Kj:()=>i,kQ:()=>l});var t=n(67154),a=n.n(t),s=n(70715),c=n(39432),r=n(94644),i=function(e){var e=e.slice(0,10),t=Math.sqrt(e[0].total);return e.map(function(e){return a()({},e,{rate:Math.sqrt(e.total)/t})})},o=function(e,t){return{series:[{type:"graph",layout:"force",silent:!0,animation:!1,legendHoverLink:!1,force:{repulsion:[.4*t,.8*t],gravity:.11,layoutAnimation:!1},itemStyle:{color:"#ffffffff"},data:e.map(function(e){return{symbolSize:e.rate*t/3}})}]}},u=function(r,e,t,i,o){return{title:{text:e},graphic:[{type:"text",left:(0,c.jD)(e,14)+8+20,top:18,style:{text:"(来自全部消息)",font:"normal 14px "+s.I8,fill:"#8C8C8C"}}],tooltip:{formatter:function(e){var t=e.marker,n=e.data,a=n.value,e=n.name,n=n.total;return("label"!==e?[t+" "+e,"声量："+a,"占比："+(a/n*100).toFixed(2)+"%"]:[n.name+"："+n.total,'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#D96969;"></span> 负面：'+n.negativeCount+'<span style="color: #8c8c8c">('+(n.negativeCount/n.total*100).toFixed(2)+"%)</span>",'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#0074B8;"></span> 中性：'+n.neutralCount+'<span style="color: #8c8c8c">('+(n.neutralCount/n.total*100).toFixed(2)+"%)</span>",'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#00B76E;"></span> 正面：'+n.positiveCount+'<span style="color: #8c8c8c">('+(n.positiveCount/n.total*100).toFixed(2)+"%)</span>"]).join("<br>")}},series:t.map(function(e,t){var n=r[t],a=n.rate*i/3*.35,t=26*n.rate,t=t*n.name.length>2*(a-10)?2*(a-10)/n.name.length:t;return{type:"pie",name:n.name,center:e,hoverOffset:4,radius:[a-5,a],label:{normal:{show:!0,position:"center",formatter:"{a|"+n.name+"}",rich:{a:{color:"#262626",fontSize:t,fontFamily:s.I8}}}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(155,155,155,0.5)",borderColor:"#ffffff",borderWidth:.5}},data:[{value:n.positiveCount,type:"pie",name:"正面",selName:n.name,total:n.total,selEmotion:["PROMOTER"],itemStyle:o&&o.selName?{color:"pie"===o.type&&n.name===o.selName&&o.selEmotion.includes("PROMOTER")?"#15B374":"#8c8c8c"}:{}},{value:n.neutralCount,type:"pie",name:"中性",selName:n.name,total:n.total,selEmotion:["PASSIVE"],itemStyle:o&&o.selName?{color:"pie"===o.type&&n.name===o.selName&&o.selEmotion.includes("PASSIVE")?"#1574B3":"#8c8c8c"}:{}},{value:n.negativeCount,type:"pie",name:"负面",selName:n.name,total:n.total,selEmotion:["DETRACTOR"],itemStyle:o&&o.selName?{color:"pie"===o.type&&n.name===o.selName&&o.selEmotion.includes("DETRACTOR")?"#D96969":"#8c8c8c"}:{}},{value:0,name:"label",total:n,selName:n.name,selEmotion:["PROMOTER","PASSIVE","DETRACTOR"],type:"pie",itemStyle:{color:"#ffffffff"}}]}})}},l=function(e,t,n,a){"image"===t?(0,r._v)(e,a):"data"===t&&(n=[n.reduce(function(e,t){return[].concat(e,[[t.name,t.total,t.positiveCount,t.neutralCount,t.negativeCount]])},[["关键词","声量总数","正面","中性","负面"]])],(0,r.aT)(n,a))}},70018:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>a,aq:()=>function(e){var t=["时间"].concat(Object.values(r)),n=e.reduce(function(e,t){return[].concat(e,[["time"].concat(Object.keys(r)).map(function(e){return t[e]})])},[t]),a=e.reduce(function(e,n){return[].concat(e,[["time"].concat(Object.keys(r)).map(function(e,t){return 0===t?n[e]:0===n.total?0:n[e]/n.total})])},[t]);return{length:e.length,datasets:[{dimensions:t,source:n},{dimensions:t,source:a}]}},kQ:()=>i,Gn:()=>o});var t=n(67154),u=n.n(t),l=n(39432),p=n(70715),r={positive:"正面",neutral:"中性",negative:"负面"};var a=function(e,t,r,n){var a=e.datasets,i=(e.length,n-226),o=t;if(i<(0,l.jD)(t))for(var s=0,c=t.length;s<c;s++)if(o=t.substring(0,c-1-(s+1)),(0,l.jD)(o+"...",12)<=i){o+="...";break}return{title:{text:o},grid:{containLabel:!0,left:20,right:20,bottom:20,top:80},tooltip:{type:"axis",formatter:function(e){var a=e.data,e=["正面","中性","负面"].map(function(e,t){var n=a[t+1],n="COUNT"===r?n:(100*n).toFixed(2)+"%";return'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+p.Rt[t]+';"></span> '+e+"："+n});return[""+a[0]].concat(e).join("</br>")}},legend:{top:42,left:20,itemWidth:10,itemHeight:10,itemGap:16,icon:p.W4.square},dataset:a.map(function(e){return u()({},e)}),xAxis:[{type:"category"}],yAxis:[{type:"value",axisLabel:{formatter:function(e){return"RATIO"===r?100<e?"":100*e+"%":e}}}],series:[].concat(Array.from({length:3}).map(function(e,t){return{type:"bar",barMaxWidth:40,datasetIndex:"RATIO"===r?1:0,stack:"emotion"}}))}},i=function(e,t,n,a,r){var i=void 0;"image"===t?i=e:"data"===t&&(n=("COUNT"===r?n.datasets[0]:n.datasets[1]).source,i=[JSON.parse(JSON.stringify(n))]),a({type:t,obj:i,name:e.getOption().title[0].text})},o=[{title:"比例",value:"RATIO"},{title:"数量",value:"COUNT"}]},97220:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var t=n(67294),p=n.n(t),d=n(8201),f=n(39432),h=n(43036),t=n(45697),t=n.n(t),m=n(98191),n=function(e){var t=e.data,n=e.title,a=e.titleOverlay,r=e.bottomTitle,i=e.bottomOverlay,o=e.loading,s=p().useState("--"),c=s[0],u=s[1],e=p().useState(void 0),s=e[0],l=e[1];return p().useEffect(function(){(0,d.P)(t)&&(u(t.value),l(t.bottomValue))},[t]),p().createElement(d.Z,{data:t,className:"yt_number_info_wrapper",loading:o,renderTitle:p().createElement(m.Z,{showDefTitle:!0,title:n,titleOverlay:a})},p().createElement("div",{className:"ni_middle"},p().createElement(h.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:c},p().createElement("span",null,f.ZP.getApproximateNum(c)))),r&&s&&p().createElement("div",{className:"ni_bottom"},p().createElement("span",null,r,"："),p().createElement("span",null,f.ZP.getApproximateNum(s)),i&&p().createElement("span",null,p().createElement(h.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:i},p().createElement("i",{className:"icon-cem_file1"})))))};const a=n;n.propTypes={data:t().shape({value:t().oneOfType([t().string,t().number]),bottomValue:t().oneOfType([t().string,t().number])}),title:t().string,titleOverlay:t().string,bottomOverlay:t().string,loading:t().bool}},53946:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>a,Qj:()=>function(e){var t=["渠道"].concat(Object.values(c)),n=e.reduce(function(e,t){return[].concat(e,[["name"].concat(Object.keys(c)).map(function(e){return t[e]})])},[t]),a=e.reduce(function(e,n){return[].concat(e,[["name"].concat(Object.keys(c)).map(function(e,t){return 0===t?n[e]:n[e]/n.total})])},[t]),r=["情感"].concat(Object.values(c)),i=e.reduce(function(e,t){return e+t.total},0),o=r.map(function(e,a){return[e,0===a?"数量":n.reduce(function(e,t,n){return 0===n?e:e+t[a]},0)]}),s=o.map(function(e,t){return[e[0],0===t?"比例":e[1]/i]});return{length:e.length,datasets:[{dimensions:r,source:o},{dimensions:t,source:n},{dimensions:r,source:s},{dimensions:t,source:a}]}},nF:()=>o,kQ:()=>function(e,t,n,a){"image"===t?(0,i._v)(e,a):"data"===t&&(n=n.datasets.reduce(function(e,t){return[].concat(e,t.source.map(function(e,t){return 0<t?e.map(function(e,t){return 0<t&&e<1?(100*e).toFixed(2)+"%":e}):e}),[[""]])},[]),(0,i.aT)([n],a))}});var r=n(70715),i=n(94644),c={positive:"正面",neutral:"中性",negative:"负面"};var a=function(e,t,i){var n=e.datasets,a=(e.length,"NUMBER"===i?0:2);return{title:{text:t},color:r.Rt,tooltip:{trigger:"axis",formatter:function(e){if(e instanceof Array)return e.reduceRight(function(e,t){var n=t.marker,a=t.value,r=t.seriesName,t=a[4-t.seriesIndex],t="NUMBER"===i?t:t?(100*t).toFixed(2)+"%":"0.00%";return[].concat(e,[n+" "+r+"："+t])},[e[0].axisValue]).join("<br/>");var t=e.data,n=e.marker,e="NUMBER"===i?t[1]:(100*t[1]).toFixed(2)+"%";return[n+" "+t[0],("NUMBER"===i?"数量":"比例")+"："+e].join("</br>")}},grid:[{left:320,right:40,top:80,containLabel:!0}],legend:{itemWidth:12,itemHeight:12,itemGap:16,top:50,left:14,icon:r.W4.square},dataset:n.map(function(e){return e}),xAxis:{type:"category",axisTick:{show:!0,interval:0,alignWithLabel:!0},axisLabel:{show:!0,interval:0}},yAxis:{axisLabel:{showMinLabel:!1,formatter:function(e){return"NUMBER"===i?e:(100*e).toFixed(0)+"%"}}},series:[{type:"pie",datasetIndex:0+a,tooltip:{trigger:"item"},hoverOffset:0,center:[160,170],radius:74,label:{formatter:function(e){var t=e.data,e="NUMBER"===i?t[1]:(100*t[1]).toFixed(2)+"%";return["{a|"+t[0]+"}","{b|"+e+"}"].join("\n")},rich:{a:{color:"#000000"},b:{color:"#8C8C8C",lineHeight:17,verticalAlign:"bottom"}}},labelLine:{smooth:!0,length:5,lineStyle:{color:"#BFBFBF"}}}].concat(Array.from({length:3}).map(function(e,t){return{name:Object.values(c)[2-t],encode:{y:3-t,x:0},type:"bar",barMaxWidth:36,datasetIndex:1+a,stack:"emotion",itemStyle:{color:r.Rt[2-t]}}}))}};var o=[{title:"数量",value:"NUMBER"},{title:"比例",value:"RATIO"}]},29480:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>a,__:()=>o,kQ:()=>r,X7:()=>function(e,t,r){var n=e.sort(function(e,t){return!(!t.data||!e.data)&&t.data[t.data.length-1].count-e.data[e.data.length-1].count});"DAY"!==t&&(n=e.map(function(e){return s()({},e,{data:e.data.map(function(e){return s()({},e,{name:(0,u.yV)(t,e.name)})})})}));var i=0,a=n.map(function(t){var e,n,a="--";return!r||(e=r.find(function(e){return e.name===t.name}))&&0!==e.count&&(a=0==(n=t.total-e.count)?"0":""+(n/e.count*100).toFixed(2)),i+=t.total,[t.name,t.total,a]}),o=n.map(function(e){return e.name}),e=["日期"].concat(o),o=n[0].data.map(function(e){return[e.name]}),o=n.reduce(function(e,t){return t.data.forEach(function(t){return e.find(function(e){return e[0]===t.name}).push(t.count)}),e},[].concat(o));return{allTotal:i,length:n.length,tableDatas:r?a.slice().sort(function(e,t){return t[1]-e[1]}).map(function(e){var t=0===e[1]?0:e[1]<1?(100*e[1]).toFixed(2)+"%":e[1];return[e[0],t,e[2]]}):void 0,datasets:[{dimensions:["渠道","数量","环比"],source:a},{dimensions:e,source:o},{dimensions:["日期","总量"],source:o.map(function(e){return[e[0],e.reduce(function(e,t,n){return 0===n?e:e+t},0)]})}]}}});var t=n(67154),s=n.n(t),t=n(67294),c=n(70715),i=n(94644),u=n(39432);var a=function(e,n,a,r){void 0===r&&(r="COUNT");var i=e.datasets,e=e.length,o="all"===a?2:1;return{title:{text:n},grid:[{left:400,right:40,top:80,containLabel:!0}],dataset:i.map(function(e){return s()({},e,{sourceHeader:!1})}),tooltip:{trigger:"axis",enterable:!0,hideDelay:500,formatter:function(e){var t=e[0].axisValue,e=e.map(function(e){var t=e.marker,n=e.seriesName,a=e.seriesIndex,a=e.data[a];return{name:t+" "+n+"："+("RATIO"===r?0===a?0:(100*a).toFixed(2)+"%":a),value:a}});return(e=e.sort(function(e,t){return t.value-e.value}).map(function(e){return e.name})).splice(0,0,'<span class="yt_echart_tooltip_title">'+("关注度"===n?"关注度":"声量")+'<span style="color: #8C8C8C">（'+t+"）</span></span>"),e.join("</br>")}},legend:{top:40,left:400,right:40,itemWidth:14,itemHeight:12,type:"scroll",pageIconSize:12,data:i[o].dimensions.slice(1),icon:c.W4.lineRing},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!0}},yAxis:{minInterval:"RATIO"===r?void 0:1,axisLabel:{showMinLabel:!1,formatter:function(e){return"RATIO"===r?(100*e).toFixed(0)+"%":e}}},series:[{type:"pie",datasetIndex:0,hoverOffset:0,center:[200,160],radius:77,tooltip:{trigger:"item",formatter:function(e){var t=e.marker,n=e.data,e=n.value;return t+" "+n.name+"："+("RATIO"===r?0===e?0:(100*e).toFixed(2)+"%":e)}},label:{formatter:function(e){var t=e.data,e=t.value;return["{a|"+t.name+"}","{b|"+("RATIO"===r?0===e?0:(100*e).toFixed(2)+"%":u.ZP.getApproximateNum(e))+"}"].join("\n")},rich:{a:{color:"#000000"},b:{color:"#8C8C8C",lineHeight:14,verticalAlign:"bottom"}}},labelLine:{smooth:!0,length:5,lineStyle:{color:"#BFBFBF"}},data:i[0].source.map(function(e,t){t=t<8;return{value:e[1],name:e[0],label:{show:t},labelLine:{show:t},emphasis:{label:{show:t},labelLine:{show:t}}}})}].concat(Array.from({length:"all"===a?1:e}).map(function(e,t){return{type:"line",stack:a,symbol:1<i[o].source.length?"none":"emptyCircle",datasetIndex:o,areaStyle:{opacity:.1},itemStyle:{color:c.Fq[t]}}}))}},r=function(e,t,n,a,r){"image"===t?(0,i._v)(e,a):"data"===t&&(t=n.tableDatas,n=n.datasets,r=JSON.parse(JSON.stringify([r||n[0].dimensions].concat(n[0].source.map(function(e){return[e[0],e[1]<1?(100*e[1]).toFixed(2)+"%":e[1],e[2]]})))),t||r.forEach(function(e){return e.splice(2,1)}),n=[n[1].dimensions].concat(n[1].source),n=[].concat(r,[[""]],n),(0,i.aT)([n],a))},o={c0:["cem_cumulate-colour-new","cem_cumulate-twocolour-new","交错折线图"],c1:["cem_cumulate","cem_cumulate-col","堆叠折线图"],c2:["cem_cumulate-alone","cem_cumulate-alone-col","总量图"]}},17707:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>a,yv:()=>function(e){var t=e[0]?e[0].path.split("@"):[];return{path:["全部"].concat(t).filter(function(e){return e}),data:e}}});var d=n(39432),f=n(70715);function h(e,t){return 12*t<(0,d.jD)(e,12)?e.substring(0,t-1)+"...":e}var a=function(e,t,n,i){var a=.4*n,r=e.treemap,o=r.path,s=r.data,c=e.heatmap,u=c.xNames,l=c.yNames,p=c.xMaxs,r=c.data,e=o.length,c=n-(14+a+10+20),n=Math.max.apply(null,u.map(function(e){e=(0,d.jD)(e,12);return 72<e?72:e})),n=c/(u.length+1)<n;return{title:{text:t},grid:{left:24+a,top:80,bottom:n?55:45,right:40,containLabel:!0},xAxis:{type:"category",data:u,splitArea:{show:!0},axisLabel:{interval:0,rotate:n?45:0,margin:n?15:8,formatter:function(e){return h(e,6)}}},yAxis:{type:"category",data:l,name:i,nameTextStyle:{color:"#262626"},splitArea:{show:!0}},tooltip:{formatter:function(e){var t=e.borderColor,n=e.componentSubType,a=e.data;if("treemap"===n&&"#F7F8FA"!==t){var r=a.name,e=a.value,t=a.path;if(t)return["指标层级："+function(e){switch(e){case 1:return"一级";case 2:return"二级";case 3:return"三级";case 4:return"四级";default:return"未知"}}(t.split("@").length+1),"指标名称："+r,"指标声量："+e].join("</br>")}else if("heatmap"===n){a=a.value;return[i+"："+l[a[1]],"指标名称："+u[a[0]],"指标声量："+a[2]].join("</br>")}}},dataZoom:[{type:"slider",show:!0,start:0,end:100,height:16,handleSize:"100%",bottom:15,showDelay:!1}],graphic:[{type:"group",bottom:15,left:(14+a-56*e-4*(e-1))/2,children:o.map(function(e,t){e=h(e,4);return{type:"group",left:56*t,children:[{type:"polygon",info:o.slice(1,t+1),shape:{points:0!==t?[[0,0],[52,0],[56,9],[52,18],[0,18],[4,9],[0,0]]:[[0,0],[52,0],[56,9],[52,18],[0,18],[0,0]]},style:{fill:"#E9EAEC"}},{type:"text",left:(56-(0,d.jD)(e,10))/2,top:4,info:o.slice(1,t+1),style:{text:e,font:"10px "+f.I8,fill:"#8C8C8C"}}]}})}],series:[{name:"全部",type:"treemap",left:14,top:50,bottom:50,width:a,leafDepth:2,nodeClick:!1,drillDownIcon:"",roam:!1,breadcrumb:{show:!1},levels:[{itemStyle:{borderColor:"#ffffff",borderWidth:0,gapWidth:4},upperLabel:{show:!1,color:"#262626"}},{itemStyle:{borderColor:"#F7F8FA",borderWidth:4,gapWidth:2},upperLabel:{show:!0,color:"#262626"},emphasis:{itemStyle:{borderColor:"#F7F8FA"},upperLabel:{show:!0,color:"#262626"}}}],data:s},{type:"heatmap",data:r.map(function(e){var t=e[0],n=(e[1],e[2]),a=p[t];return{value:e,itemStyle:{color:n?f.Fq[t]:"#e5e5e5",borderColor:"#fff",borderWidth:1,opacity:a&&n?1-.5*(1-n/a):1}}}),label:{show:!0}}]}}},7802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var N=n(67294),_=n.n(N),t=n(45697),t=n.n(t),O=n(43036),j=n(50976),D=n(30133),M=n(49975),A=n(31705),L=n(33798),P=n(94644),F=n(70715),R=n(39432),n=function(e){var t=e.isInitial,a=e.loading,r=e.isPercentage,n=e.title,i=e.titleDescription,c=e.tooltipTitle,u=e.data,o=e.diffData,s=e.dateRange,l=e.dateDimension,p=e.onDateDimensionChange,d=e.chartType,f=e.onChartTypeChange,h=e.chartTypeOptions,m=e.appendix,v=e.dimensionName,y=e.onClick,g=_().useState(void 0),x=g[0],b=g[1];_().useEffect(function(){var e,t,n,o,s;!a&&x&&0<u.length&&(e={data:"sum"===d?function(e,t){if(0<e.length){for(var n=[],a=0;a<e.length;a++)if(0===a)"self"===t&&n.push(e[0]),n.push(["全部"].concat(Array.from({length:e[0].length-1}).map(function(){return 0})));else for(var r=1;r<e[a].length;r++)n["self"===t?1:0][r]+=e[a][r];return n}}(u,"self"):u,chartType:d,isPercentage:r,tooltipTitle:c},t=e.data,n=e.chartType,o=e.isPercentage,s=e.tooltipTitle,e={legend:{type:"scroll",pageIconSize:12,left:0,right:32,top:0,itemWidth:"bar"!==n?16:10,itemHeight:"bar"!==n?16:10,itemGap:8,textStyle:{padding:[2,8,0,0]},data:t.slice(1,t.length).sort(function(e,t){return t[t.length-1]-e[e.length-1]}).map(function(e){return{name:e[0],icon:"bar"!==n?F.W4.lineRing:"rect"}})},tooltip:{trigger:"axis",formatter:function(e){return e.map(function(e,t){var n=e.marker,a=e.name,r=e.seriesName,i=e.value,e=e.encode.y;return(0===t?s+"（"+a+"）<br>":"")+n+" "+r+"："+(o?(100*i[e]).toFixed(2)+"%":i[e])+"<br>"}).join("")}},grid:{show:!1,left:"2.5%",right:36,top:36,containLabel:!0},dataset:{source:t},xAxis:{type:"category",boundaryGap:"bar"===n},yAxis:{type:"value",axisLabel:{formatter:function(e){return o&&0<e?100*e+"%":e}},minInterval:o?.2:1},series:Array.from({length:t.length-1}).map(function(){return{type:"bar"===n?"bar":"line",seriesLayoutBy:"row",barMaxWidth:"bar"===n?36:0,barCategoryGap:"bar"===n?"22%":"0%",showSymbol:2===t[0].length,smooth:"bar"!==n,areaStyle:{opacity:"line"!==n&&"bar"!==n?.1:0},stack:"stack"===n?"stack":""}})},x.clear(),x.setOption(e))},[t,a,u,x,d]);var T=[{type:"bar",className:"cem_histogram-gray",activeClassName:"cem_histogram-colour",title:"簇状柱形图"},{type:"area",className:"cem_cumulate-colour-new",activeClassName:"cem_cumulate-twocolour-new",title:"交错折线图"},{type:"stack",className:"cem_cumulate",activeClassName:"cem_cumulate-col",title:"堆叠折线图"},{type:"sum",className:"cem_cumulate-alone",activeClassName:"cem_cumulate-alone-col",title:"总量图"}],I=[];if(h&&0<h.length)for(var w=0;w<T.length;w++)for(var E=0;E<h.length;E++)if(T[w].type===h[E]){I.push(T[w]);break}e=[];if("sum"===d){for(var k=0,C=0,S=0;S<o.length;S++)k+=o[S][1],C+=o[S][2];e.push(["全部",k,C])}else{g=JSON.parse(JSON.stringify(o));g.sort(function(e,t){return t[1]-e[1]}),e=g}return _().createElement("div",{className:"bar_trend-wrapper"},t?_().createElement(D.Z,null):_().createElement(N.Fragment,null,_().createElement("div",{className:0===I.length?"bar_trend-header no-chart-types":"bar_trend-header"},_().createElement("span",{className:"title"},n,i),_().createElement(A.Z,{onDownChartClick:function(){(0,P._v)(x,n)},onDownExcelClick:function(){var e,t;t=n,0<(e=u).length&&(0,P.aT)([e],t)}}),0<I.length&&_().createElement("div",{className:"chart-types"},I.map(function(e){var t=e.type,n=e.className,a=e.activeClassName,e=e.title;return _().createElement(O.Z,{key:t,placement:"top",overlay:e},_().createElement("span",null,_().createElement(L.Z,{enable:!0,isActive:d===t,defaultIcon:n,activeIcon:a,onClick:function(){return f(t)}})))})),s&&_().createElement(M.Z,{dateRange:s,defaultValue:l,onChange:p}),m),_().createElement("div",{className:"bar_trend-body"},a||0!==u.length?_().createElement(N.Fragment,null,_().createElement("div",{className:"bar_trend-chart"},_().createElement(j.Z,{theme:"yunting_multi_color",option:{},showLoading:a,style:{width:"100%",height:"100%",display:0<u.length?"block":"none"},loadingOption:{text:"",color:"#1574B3"},onChartReady:function(e){return b(e)},onEvents:{click:y}})),_().createElement("div",{className:"bar_trend-table"},_().createElement("div",{className:"bar_trend-theader"},_().createElement("div",null,v),_().createElement("div",null,"当期"),_().createElement("div",null,"环比",_().createElement(O.Z,{overlay:"环比增长=（当期-上期）/ 上期",placement:"top"},_().createElement("i",{className:"icon-cem_file1"})))),_().createElement("div",{className:"bar_trend-tbody"},e.map(function(e,t){return _().createElement("div",{key:t},_().createElement(O.Z,{overlay:e[0],placement:"top"},_().createElement("div",null,e[0])),_().createElement(O.Z,{overlay:r?(100*e[1]).toFixed(2)+"%":R.ZP.formatNumber(e[1]),placement:"top"},_().createElement("div",null,r?(100*e[1]).toFixed(2)+"%":R.ZP.formatNumber(e[1]))),_().createElement(O.Z,{overlay:_().createElement("div",{className:"table-cell"},0===e[2]?"-":((e[1]-e[2])/e[2]*100).toFixed(2)+"%",0<e[2]&&e[1]-e[2]!=0&&_().createElement("i",{className:"icon-cem_three-states-"+(0<e[1]-e[2]?"up":"down")})),overlayClassName:"trend-chart-table-content-pop",placement:"top"},_().createElement("div",null,0===e[2]?_().createElement("span",{style:{display:"inline-block",textAlign:"right",width:"100%",marginRight:14}},"--"):_().createElement(_().Fragment,null,_().createElement("span",{className:"ellipsis_value"},((e[1]-e[2])/e[2]*100).toFixed(2)),"%"),0<e[2]&&e[1]-e[2]!=0&&_().createElement("i",{className:"icon-cem_three-states-"+(0<e[1]-e[2]?"up":"down")}))))})))):_().createElement("div",{className:"empty-block"},"暂无数据"))))};n.propTypes={isInitial:t().bool,loading:t().bool,isPercentage:t().bool,title:t().string.isRequired,tooltipTitle:t().string.isRequired,titleDescription:t().node,data:t().array.isRequired,diffData:t().array.isRequired,dateRange:t().number.isRequired,dateDimension:t().string.isRequired,onDateDimensionChange:t().func.isRequired,chartType:t().oneOf(["area","bar","stack","sum"]),chartTypeOptions:t().arrayOf(t().oneOf(["area","bar","stack","sum"])),onChartTypeChange:t().func,appendix:t().node,dimensionName:t().string.isRequired};const a=n},30118:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>o,kQ:()=>s,CA:()=>r,dA:()=>c});function i(e){if("string"==typeof e)switch(!0){case"COMMENT"===e:return"评论";case"ATTITUDE"===e:return"点赞";case"REPOST"===e:return"转发";case"BROWSE"===e:return"浏览"}}var a=n(39432),r=function(e){if("string"==typeof e)switch(!0){case"评论"===e:return"COMMENT";case"点赞"===e:return"ATTITUDE";case"转发"===e:return"REPOST";case"浏览"===e:return"BROWSE"}},o=function(e,t){return{title:{text:t},tooltip:{triger:"item",formatter:function(e){return e.marker+" "+e.name+"："+e.value+"（"+e.percent+"%）"}},series:[{type:"pie",radius:75,hoverAnimation:!1,center:["50%","55%"],data:e.map(function(e){var t=e.type,e=e.count;return{name:0===e?null:i(t),value:0===e?null:e}}),emphasis:{itemStyle:{color:"#d2d2d2"}},label:{position:"outside",color:"#000",formatter:function(e){var t=e.data,e=t.name,t=t.value;return[""+e,"{value|"+a.ZP.getApproximateNum(t)+"}"].join("\n")},rich:{value:{fontSize:12,lineHeight:18,color:"#8c8c8c",align:"left"}}},labelLine:{smooth:!0,length:5,lineStyle:{color:"#bfbfbf"}}}]}},s=function(e,t,n,a){var r=void 0;"image"===t?r=e:"data"===t&&((n=n.map(function(e){var t=e.type,e=e.count;return[i(t),e]})).splice(0,0,["互动类型","互动量"]),r=[n]),a({type:t,obj:r,name:e.getOption().title[0].text})},c=function(t,n,a){setTimeout(function(){var e={type:n,seriesIndex:0,seriesName:"overview-wordcloud"};a&&(e.name=a),t.dispatchAction(e)},0)}},10329:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>a,kQ:()=>c,RH:()=>function(t){var e=["互动渠道"].concat(Object.keys(t).filter(function(e){return"totalCount"!==e})),n=[];return r=t.totalCount,Object.keys(t).forEach(function(e){"totalCount"!==e&&0!==t[e]&&n.push([e,t[e]])}),n.splice(0,0,["互动渠道","声量"]),{datasets:[{dimensions:e,source:n}]}}});var r,t=n(67154),i=n.n(t),o=n(70715),s=n(39432);var a=function(e,t,n,a){return{title:{text:t},dataset:e.datasets.map(function(e){return i()({},e)}),tooltip:{triger:"item",formatter:function(e){var t=e.marker,n=e.name,a=e.value,e=e.percent;return t+" "+n+"："+a[1]+"（"+e+"%）"}},series:[{type:"pie",center:["75%","55%"],radius:74,hoverOffset:0,label:{position:"outside",color:"#000",formatter:function(e){e=e.data;return[""+e[0],"{value|"+s.ZP.getApproximateNum(e[1])+"}"].join("\n")},rich:{value:{fontSize:12,lineHeight:18,color:"#8c8c8c",align:"left"}}},labelLine:{smooth:!0,length:5,lineStyle:{color:"#BFBFBF"}}}],graphic:[{type:"text",left:"15%",top:114,silent:!0,style:{text:""+s.ZP.getApproximateNum(r),fill:"#000",font:"48px "+o.I8}},{type:"text",left:"13%",bottom:16,silent:!0,style:{text:"关注度",fill:"#8C8C8C",font:"14px "+o.I8}},{type:"text",left:"22%",bottom:16,silent:!0,style:{text:a,fill:"#262626",font:"14px "+o.I8}}]}},c=function(e,t,n,a){var r=void 0;"image"===t?r=e:"data"===t&&(n=n.datasets[0].source,r=[JSON.parse(JSON.stringify(n))]),a({type:t,obj:r,name:e.getOption().title[0].text})}},23061:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),f=n.n(t),t=n(87757),h=n.n(t),m=n(87219),t=n(30381),v=n.n(t),y=n(29480),a=n(36144);function l(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return a.h.post("/brand-insight/chart/find/INTERACTION_TOTAL_CHART",{projectId:t,filterModel:n,dateFilter:e})}function p(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return a.h.post("/brand-insight/chart/find/VOLUME_TIME_TREND_CHART",{projectId:t,filterModel:n,dateFilter:e})}function g(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return a.h.post("/brand-insight/chart/find/BRAND_DIMENSION_TREND",{projectId:t,filterModel:n,dateFilter:e})}function x(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return a.h.post("/brand-insight/chart/find/BRAND_DIMENSION_COUNT",{projectId:t,filterModel:n,dateFilter:e})}function c(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return a.h.post("/brand-insight/chart/find/VOLUME_SOURCE_CHART",{projectId:t,filterModel:n,dateFilter:e})}function u(t){return new Promise(function(e){return setTimeout(e,t)})}var b=n(64396).Z.brand.brandOverview,d={numberInfoData:void 0,pieLineTrendData:void 0,timeType:"DAY",brandDimensionTrendData:void 0,brandTimeType:"DAY",brandDimensionDict:{},dataSource:[],filterParams:void 0,projectId:void 0,dateRange:0,dateOptions:[]};const r={namespace:b,state:Object.assign({},d),reducers:{save:function(e,t){t=t.payload;return f()({},e,t)}},effects:{fetchDatas:h().mark(function e(t,n){var a,r,i,o,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,i=n.call,e.next=4,o(function(e){return f()({},e)[b]});case 4:if(s=e.sent,o=s.filterParams,s=s.projectId,JSON.stringify(o)!==JSON.stringify(a.filterParams)||s!==a.projectId)return e.next=10,r({type:"save",payload:Object.assign({},d)});e.next=18;break;case 10:return e.next=12,i(u,100);case 12:return e.next=14,r({type:"save",payload:a});case 14:return e.next=16,i(u,100);case 16:return e.next=18,r({type:"fetchDataSourceData",payload:a});case 18:case"end":return e.stop()}},e)}),fetchPieLineTrendData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return f()({},e)[b]});case 4:return s=e.sent,c=s.filterParams,u=s.projectId,s=s.timeType,o=a.timeType||s,s=f()({},(0,m.ZP)(a.filterParams||c,function(e){e.dateFilter.dateGroupType=o}),{projectId:a.projectId||u}),u=c=null,e.prev=11,e.next=14,r(p,s);case 14:if(l=e.sent,2e4!==(l=l.data).code){e.next=26;break}if(0!==l.result.length){e.next=22;break}c=u="empty",e.next=26;break;case 22:return u=(0,y.X7)(l.result,o),c={value:u.allTotal,bottomValue:"--"},e.next=26,i({type:"fetchInteractData",payload:a});case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(11);case 30:return e.prev=30,e.next=33,i({type:"save",payload:f()({},a,{numberInfoData:c,pieLineTrendData:u})});case 33:return e.finish(30);case 34:case"end":return e.stop()}},e,null,[[11,28,30,34]])}),fetchInteractData:h().mark(function e(t,n){var a,r,i,o,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[b]});case 4:return s=e.sent,o=s.filterParams,c=s.projectId,s=s.numberInfoData,c=f()({},a.filterParams||o,{projectId:c}),e.prev=9,e.next=12,r(l,c);case 12:if(c=e.sent,2e4===(u=c.data).code&&u.result)return e.next=17,i({type:"save",payload:{numberInfoData:(0,m.ZP)(s,function(e){e.bottomValue=u.result})}});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])}),fetchBrandDimensionTrendData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return f()({},e)[b]});case 4:return c=e.sent,l=c.filterParams,p=c.projectId,u=c.brandTimeType,o=a.brandTimeType||u,s=f()({},(0,m.ZP)(a.filterParams||l,function(e){var t=e.dateFilter,n=t.from,a=t.to,t=t.numOfDays;e.dateFilter.from=v()(n).subtract(t,"days").format("YYYY-MM-DD"),e.dateFilter.to=v()(a).subtract(t,"days").format("YYYY-MM-DD"),e.dateFilter.dateGroupType=o}),{projectId:a.projectId||p}),c=f()({},(0,m.ZP)(a.filterParams||l,function(e){e.dateFilter.dateGroupType=o}),{projectId:a.projectId||p}),u=null,l={},e.prev=12,p=void 0,e.next=16,r(x,s);case 16:return d=e.sent,2e4===(d=d.data).code&&(p=d.result),e.next=21,r(g,c);case 21:d=e.sent,2e4===(d=d.data).code&&(u=0===d.result.length?"empty":(l=d.result.reduce(function(e,t){return f()({},e,((e={})[t.name]=t.id,e))},{}),(0,y.X7)(d.result,o,p))),e.next=28;break;case 26:e.prev=26,e.t0=e.catch(12);case 28:return e.prev=28,e.next=31,i({type:"save",payload:f()({},a,{brandDimensionTrendData:u,brandDimensionDict:l})});case 31:return e.finish(28);case 32:case"end":return e.stop()}},e,null,[[12,26,28,32]])}),fetchDataSourceData:h().mark(function e(t,n){var a,r,i,o,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[b]});case 4:return s=e.sent,o=s.filterParams,s=s.projectId,s=f()({},a.filterParams||o,{projectId:a.projectId||s}),e.next=10,r(c,s);case 10:if(s=e.sent,2e4===(s=s.data).code&&0<s.result.length)return s=s.result,e.next=16,i({type:"save",payload:{dataSource:s}});e.next=16;break;case 16:case"end":return e.stop()}},e)})}}},56685:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),c=n.n(t),t=n(87757),u=n.n(t),t=n(87219),r=n(36144);function l(e){var t=e.filterModel,n=e.dateFilter,a=e.projectId,e=e.dimensionId;return r.h.post("/index-analyse/chart/find/WEIBO_INDEX_TREND",{projectId:a,filterModel:t,dateFilter:n,dimensionId:e})}function p(e){var t=e.filterModel,n=e.dateFilter,a=e.projectId,e=e.dimensionId;return r.h.post("/index-analyse/chart/find/BAIDU_INDEX_TREND",{projectId:a,filterModel:t,dateFilter:n,dimensionId:e})}function d(e){var t=e.filterModel,n=e.dateFilter,a=e.projectId,e=e.dimensionId;return r.h.post("/index-analyse/chart/find/QIHU_INDEX_TREND",{projectId:a,filterModel:t,dateFilter:n,dimensionId:e})}var f=n(64396).Z.brand.analyzeOfIndex,a={filterParams:void 0,projectId:"",dimensionId:"",weibo:void 0,baidu:void 0,zhishu360:void 0,baiduSelect:"BAIDU_SEARCH_INDEX",select360:"QIHU_TREND_INDEX"};const i={namespace:f,state:Object.assign({},a),reducers:{changeSel:(0,t.ZP)(function(t,e){var n=e.payload;Object.keys(n).forEach(function(e){t[e]=n[e]})}),save:(0,t.ZP)(function(t,e){var n=e.payload;Object.keys(n).forEach(function(e){t[e]=n[e]})}),clean:function(){return Object.assign({},a)}},effects:{init:u().mark(function e(t,n){var a;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"fetchWeibo"});case 4:return e.next=6,a({type:"fetchBaidu"});case 6:return e.next=8,a({type:"fetch360"});case 8:case"end":return e.stop()}},e)}),fetchWeibo:u().mark(function e(t,n){var a,r,i,o,s;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.next=3,o(function(e){return c()({},e)[f]});case 3:return s=e.sent,i=s.filterParams,o=s.projectId,s=s.dimensionId,e.next=9,a(l,c()({},i,{projectId:o,dimensionId:s}));case 9:return s=e.sent,e.next=12,r({type:"save",payload:{weibo:s.data.result}});case 12:case"end":return e.stop()}},e)}),fetchBaidu:u().mark(function e(t,n){var a,r,i,o,s;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.next=3,o(function(e){return c()({},e)[f]});case 3:return s=e.sent,i=s.filterParams,o=s.projectId,s=s.dimensionId,e.next=9,a(p,c()({},i,{projectId:o,dimensionId:s}));case 9:return s=e.sent,e.next=12,r({type:"save",payload:{baidu:s.data.result}});case 12:case"end":return e.stop()}},e)}),fetch360:u().mark(function e(t,n){var a,r,i,o,s;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.next=3,o(function(e){return c()({},e)[f]});case 3:return s=e.sent,i=s.filterParams,o=s.projectId,s=s.dimensionId,e.next=9,a(d,c()({},i,{projectId:o,dimensionId:s}));case 9:return s=e.sent,e.next=12,r({type:"save",payload:{zhishu360:s.data.result}});case 12:case"end":return e.stop()}},e)})}}},44836:(e,t,n)=>{"use strict";n.d(t,{E:()=>B,Z:()=>i});var D=n(67294),M=n.n(D),A=n(19586),L=n(7802),P=n(97220),a=n(85354),r=n.n(a),t=n(45697),a=n.n(t),c=n(50976),u=n(8201),o=n(30118),l=n(98191),t=function(t){function e(e){var i=t.call(this,e)||this;return i.renderChart=function(e,t,n){t?(0,u.P)(e)&&(n=(0,o.Rl)(e,n),t.clear(),t.setOption(n)):i.chartRef=void 0},i._handleOnChartClick=function(e){var t=e.componentType,n=e.componentSubType,a=e.name,r=i.state.selectedName;"series"===t&&"pie"===n&&(n=void 0,r===a?(i.props.onChartClick(),(0,o.dA)(i.chartRef,"downplay","")):(i.props.onChartClick(e),n=a,(0,o.dA)(i.chartRef,"highlight",""),(0,o.dA)(i.chartRef,"downplay",a)),i.setState({selectedName:n}))},i._handleOnMouseOver=function(e){var t=e.componentType,n=e.componentSubType,a=e.name,r=e.color,e=i.state.selectedName;"series"===t&&"pie"===n&&(e&&e!==a?(0,o.dA)(i.chartRef,"highlight",r):(0,o.dA)(i.chartRef,"downplay",a))},i._handleOnMouseOut=function(e){var t=e.componentType,n=e.componentSubType,a=e.color,e=i.state.selectedName;"series"===t&&"pie"===n&&e&&e===name&&(0,o.dA)(i.chartRef,"highlight",a)},i.state={selectedName:void 0},i}r()(e,t);var n=e.prototype;return n.componentDidMount=function(){var e=this.props,t=e.data,e=e.title;this.renderChart(t,this.chartRef,e)},n.shouldComponentUpdate=function(e,t){return e.loading!==this.props.loading||(e.title!==this.props.title||JSON.stringify(e.data)!==JSON.stringify(this.props.data))},n.componentDidUpdate=function(){var e=this.props,t=e.data,e=e.title;this.renderChart(t,this.chartRef,e),(0,o.dA)(this.chartRef,"downplay","")},n.render=function(){var t=this,e=this.props,n=e.data,a=e.onMoreClick,r=e.loading,i=e.titleOverlay,e=e.title;return M().createElement(u.Z,{className:"type-pie-wrapper",data:n,loading:r,renderTitle:M().createElement(l.Z,{title:e,data:n,titleOverlay:i,onMoreClick:function(e){return(0,o.kQ)(t.chartRef,e,n,a)}})},M().createElement(c.Z,{theme:"yunting_multi_color",option:{},onChartReady:function(e){return t.chartRef=e},onEvents:{click:this._handleOnChartClick,mouseover:this._handleOnMouseOver,mouseout:this._handleOnMouseOut}}))},e}(M().Component);t.propTypes={title:a().string.isRequired,loading:a().bool.isRequired,data:a().arrayOf(a().shape({type:a().string.isRequired,count:a().number.isRequired}))};const F=t;function p(e){if("string"==typeof e)switch(!0){case"BBS"===e:return"论坛";case"QUE_ANS"===e:return"问答";case"SOCIAL"===e:return"社交媒体";case"SELF"===e:return"自媒体";case"NEWS"===e:return"新闻媒体";case"LEGAL"===e:return"法律维权"}}var d=n(39432),t=function(e){var i=e.data,o=e.onMoreClick,t=e.loading,n=e.titleOverlay,a=e.title,e=M().useState(void 0),s=e[0],r=e[1];return M().useEffect(function(){var e;s&&((0,u.P)(i)?(e={title:{text:a},tooltip:{triger:"item",formatter:function(e){return e.marker+" "+e.name+"："+e.value+"（"+e.percent+"%）"}},series:[{type:"pie",radius:75,hoverAnimation:!1,center:["50%","55%"],data:i.map(function(e){var t=e.type,e=e.count;return{name:0===e?null:p(t),value:0===e?null:e}}),label:{position:"outside",color:"#000",formatter:function(e){var t=e.data,e=t.name,t=t.value;return[""+e,"{value|"+d.ZP.getApproximateNum(t)+"}"].join("\n")},rich:{value:{fontSize:12,lineHeight:18,color:"#8c8c8c",align:"left"}}},labelLine:{smooth:!0,length2:4,lineStyle:{color:"#bfbfbf"}}}]},s.clear(),s.setOption(e)):r(void 0))},[i,s]),M().createElement(u.Z,{className:"num-pie-wrapper",data:i,loading:t,renderTitle:M().createElement(l.Z,{title:a,data:i,titleOverlay:n,onMoreClick:function(e){return t=s,n=i,a=o,r=void 0,"image"===(e=e)?r=t:"data"===e&&((n=n.map(function(e){var t=e.type,e=e.count;return[p(t),e]})).splice(0,0,["互动渠道","互动量"]),r=[n]),void a({type:e,obj:r,name:t.getOption().title[0].text});var t,n,a,r}})},M().createElement(c.Z,{theme:"yunting_multi_color",style:{width:"100%",height:"100%"},option:{},onChartReady:r}))};t.propTypes={title:a().string.isRequired,loading:a().bool.isRequired,data:a().arrayOf(a().shape({type:a().string.isRequired,count:a().number.isRequired}))};const R=t;var z=n(53754),t=n(97189),V=n.n(t),B=[{id:"COMMENT",name:"评论"},{id:"ATTITUDE",name:"点赞"},{id:"REPOST",name:"转发"},{id:"BROWSE",name:"浏览"}];const i=function(e){var t=e.isInitial,n=e.curDimensionValName,a=e.curDimensionName,r=e.filterParams,i=e.onMoreClick,o=e.getFilterRef,s=e.dateRange,c=e.inteCountLoading,u=e.inteTypeLoading,l=e.inteChannelLoading,p=e.dataCount,d=e.typeData,f=e.inteData,h=e.onTypeChartClick,m=e.satisDataLoading,v=e.comparisionOptions,y=e.comparisionValue,g=e.interTypeValue,x=e.interDateDimension,b=e.interChartType,T=e.interData,I=e.interDiffData,w=e.channelChartLoading,E=e.channelDateDimension,k=e.channelChartType,C=e.channelData,S=e.channelDiffData,N=e.onFilterChange,_=e.fetchInterChartData,O=e.fetchChannelChartData,j=e.saveState,y=M().createElement(D.Fragment,null,M().createElement(z.Z,{type:1,title:"互动类型",options:B,value:g,onChange:function(e){return _({interTypeValue:e})}}),M().createElement(z.Z,{type:1,title:"对比",options:v,value:y,maxLength:2,onChange:function(e){return _({comparisionValue:e})}}));return M().createElement("div",{className:"yt_brand_analyzing_interaction_wrapper"},M().createElement(A.Z,{ref:o,values:r,model:"BRAND_INTERACTION_ANALYSIS",showList:["condition","time","save"],filterCondition:{filter:["TAG","MESSAGE_RELATION","DIMENSION"],dimension:V().getQuery("id")},onFilterReady:N,onChange:N}),M().createElement("div",{className:"ao_content"},M().createElement("div",{className:"ao_content_top"},M().createElement(P.Z,{title:n+"互动量",data:{value:p},loading:c,titleOverlay:"互动量：微博和媒体文章在传播的过程中其他用户的“浏览”、“转发”、“点赞”和“评论”等行为即“互动”。互动量是基于各平台对这些行为给出的具体数值累加而来。"}),M().createElement(F,{data:d,onMoreClick:i,loading:u,title:n+"互动类型",titleOverlay:"互动量：微博和媒体文章在传播的过程中其他用户的“浏览”、“转发”、“点赞”和“评论”等行为即“互动”。互动量是基于各平台对这些行为给出的具体数值累加而来。",onChartClick:h}),M().createElement(R,{data:f,onMoreClick:i,loading:l,title:n+"互动量",titleOverlay:"互动量：微博和媒体文章在传播的过程中其他用户的“浏览”、“转发”、“点赞”和“评论”等行为即“互动”。互动量是基于各平台对这些行为给出的具体数值累加而来。"})),M().createElement("div",{className:"ao_content_center"},M().createElement(L.Z,{title:n+"互动量总走势",tooltipTitle:"互动量",isInitial:t,loading:m,data:T,diffData:I,dateRange:s,dateDimension:x,onDateDimensionChange:function(e){return _({interDateDimension:e})},chartType:b,chartTypeOptions:["bar","area"],onChartTypeChange:function(e){return j({interChartType:e})},appendix:y,dimensionName:a})),M().createElement("div",{className:"ao_content_bottom"},M().createElement(L.Z,{title:n+"渠道互动量走势分析",tooltipTitle:"互动量",isInitial:t,loading:w,data:C,diffData:S,dateRange:s,dateDimension:E,onDateDimensionChange:function(e){return O({channelDateDimension:e})},chartType:k,chartTypeOptions:["area","stack","sum"],onChartTypeChange:function(e){return j({channelChartType:e})},dimensionName:"渠道类型"}))))}},52653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>de});var a=n(67154),b=n.n(a),r=n(87757),T=n.n(r),I=n(87219),s=n(36144);function x(e){var t=e.dateFilter,n=e.projectId,a=e.filterModel,e=e.menuDimension;return s.h.post("/brand-insight/chart/find/VOLUME_DISTRIBUTION_CHART",{filterModel:a,dateFilter:t,projectId:n,menuDimension:e})}function w(e){var t=e.dateFilter,n=e.projectId,a=e.filterModel,e=e.menuDimension;return s.h.post("/brand-insight/chart/find/ATTENTION_COUNT",{filterModel:a,dateFilter:t,projectId:n,menuDimension:e})}function u(e){var t=e.filterModel,n=e.dateFilter,a=e.orderTime,e=e.projectId;return s.h.post("/brand-insight/chart/find/INTERACTION_TOTAL_CHART",{projectId:e,filterModel:t,dateFilter:n,orderTime:a})}function l(e){var t=e.filterModel,n=e.dateFilter,a=e.orderTime,e=e.projectId;return s.h.post("/brand-insight/chart/find/INTERACTION_CATEGORY_CHART",{projectId:e,filterModel:t,dateFilter:n,orderTime:a})}function d(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return s.h.post("/brand-insight/chart/find/CHANNEL_TOTAL_TREND",{projectId:t,filterModel:n,dateFilter:e})}function p(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return s.h.post("/brand-insight/chart/find/CHANNEL_VOLUME_TREND",{projectId:t,filterModel:n,dateFilter:e})}function f(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.calculateType;return s.h.post("/brand-insight/chart/find/CHANNEL_EMOTION_TREND",{projectId:t,filterModel:n,dateFilter:a,calculateType:e})}function h(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return s.h.post("/brand-insight/chart/find/CHANNEL_EMOTION_COUNT",{projectId:t,filterModel:n,dateFilter:e})}function m(e){if(e&&0<e.length){e.sort(function(e,t){return!(!e.data||!t.data)&&t.data[t.data.length-1].count-e.data[t.data.length-1].count});for(var t,n=[],a=0;a<e.length;a++)Object.prototype.hasOwnProperty.call(e[a],"name")&&(0===a&&n.push(["时间"].concat(e[0].data.map(function(e){return e.name}))),t=[e[a].name].concat(e[a].data.map(function(e){return e.count})),n.push(t));return n}return[]}function v(e){var t=e.from,n=e.to;if(t&&n&&"string"==typeof t&&"string"==typeof n){var a="YYYY-MM-DD",r=y()(n,a).diff(y()(t,a),"days"),t=y()(t,a).subtract(r+1,"days").format(a),a=y()(n,a).subtract(r+1,"days").format(a);return b()({},e,{from:t,to:a})}}function c(t){return new Promise(function(e){return setTimeout(e,t)})}var i=n(30381),y=n.n(i),g=n(53946),E=n(10329),t=n(64396),k=t.Z.brand.brandAnalysis,C=t.Z.brand.brandAnalysisSub.channel,S=t.Z.public.menu,o={isInitial:!0,curDimensionName:"",curDimensionValName:"",filterParams:{},projectId:"",menuDimension:"",dateRange:1,count:void 0,inteNumCount:void 0,volData:void 0,volRate:"--",menuName:"",inteData:void 0,totalTrendLoading:!1,comparisionOptions:[],comparisionValue:[],channelTypeOptions:[],channelTypeValue:[],totalTrendDateDimension:"DAY",totalTrendChartType:"bar",originTotalTrendData:[],totalTrendData:[],totalTrendDiffData:[],volTrendDateDimension:"DAY",volTrendChartType:"area",originVolTrendData:[],volTrendData:[],volTrendDiffData:[],emoTrendEmoType:{id:"1",name:"正面"},emoTrendValType:{id:"PERCENTAGE",name:"比例"},emoTrendDateDimension:"DAY",emoTrendChartType:"area",originEmoTrendChartData:[],emoTrendChartData:[],emoTrendChartDiffData:[],emotionAnalyzeData:void 0},a={subNamespace:C,state:Object.assign({},o),reducers:{saveChannelState:(0,I.ZP)(function(t,e){var n=e.payload;Object.keys(n).forEach(function(e){t[C][e]=n[e]})}),cleanChannelState:(0,I.ZP)(function(e,t){e[C]=Object.assign({},o)})},effects:{fetchChannelDatas:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return b()({},e)[k][C]});case 4:if(s=e.sent,o=s.filterParams,s=s.projectId,JSON.stringify(o)!==JSON.stringify(a.filterParams)||s!==a.projectId)return e.next=10,i({type:"saveChannelState",payload:b()({},a,{isInitial:!0})});e.next=22;break;case 10:return e.next=12,r(c,100);case 12:return e.next=14,i({type:"fetchVolumeTypeData",payload:a});case 14:return e.next=16,i({type:"fetchInterCountData",payload:a});case 16:return e.next=18,i({type:"fetchInterCategoryData",payload:a});case 18:return e.next=20,i({type:"saveChannelState",payload:{isInitial:!1}});case 20:return e.next=22,i({type:"fetchEmotionAnalyzeData",payload:a});case 22:case"end":return e.stop()}},e)}),fetchVolumeTypeData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[k][C]});case 4:return d=e.sent,f=d.filterParams,s=d.projectId,c=d.menuDimension,h=b()({menuDimension:""},a.filterParams||f,{projectId:a.projectId||s}),u=b()({menuDimension:a.menuDimension||c},a.filterParams||f,{projectId:a.projectId||s}),p=l=null,d="--",f="",e.prev=14,e.next=17,r(x,h);case 17:if(h=e.sent,(h=h.data)&&2e4===h.code&&"{}"!==JSON.stringify(h.result))return p=h.result.totalCount,l=(0,E.RH)(h.result),e.next=24,r(w,u);e.next=34;break;case 24:if(y=e.sent,2e4===(m=y.data).code)return g=u.filterModel.dimension[0].values,v=g[0],e.next=30,o(function(e){return e[S].menuList.brandInsightMenus[s]});e.next=34;break;case 30:y=e.sent,(g=m.result.find(function(e){return String(e.id)===String(v)}))&&(d=(100*g.count).toFixed(2)+"%"),f=y.find(function(e){return String(e.id)===String(c)}).name;case 34:e.next=38;break;case 36:e.prev=36,e.t0=e.catch(14);case 38:return e.prev=38,e.next=41,i({type:"saveChannelState",payload:b()({},a,{volData:l,count:p,volRate:d,menuName:f})});case 41:return e.finish(38);case 42:case"end":return e.stop()}},e,null,[[14,36,38,42]])}),fetchInterCountData:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[k][C]});case 4:return s=e.sent,c=s.filterParams,s=s.projectId,c=b()({orderTime:a.orderTime},a.filterParams||c,{projectId:a.projectId||s}),s=null,e.prev=9,e.next=12,r(u,c);case 12:c=e.sent,2e4===(c=c.data).code&&c.result&&(s=c.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"saveChannelState",payload:b()({},a,{inteNumCount:s})});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),fetchInterCategoryData:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[k][C]});case 4:return s=e.sent,c=s.filterParams,u=s.projectId,s=b()({orderTime:a.orderTime},a.filterParams||c,{projectId:a.projectId||u}),c=null,e.prev=9,e.next=12,r(l,s);case 12:u=e.sent,2e4===(u=u.data).code&&0<u.result.length&&(c=u.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,o({type:"saveChannelState",payload:b()({},s,{inteData:c})});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),fetchTotalTrendData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return b()({},e)[k][C]});case 4:return c=e.sent,l=c.filterParams,o=c.projectId,s=c.comparisionValue,u=c.channelTypeValue,c=c.totalTrendDateDimension,u={projectId:o,dateFilter:b()({},l.dateFilter,{dateGroupType:a&&a.totalTrendDateDimension?a.totalTrendDateDimension:c}),filterModel:b()({},l.filterModel,{dimension:[b()({},l.filterModel.dimension,{values:a&&a.comparisionValue?l.filterModel.dimension[0].values.concat(a.comparisionValue):l.filterModel.dimension[0].values.concat(s)})],messageCategory:a&&a.channelTypeValue?a.channelTypeValue:0<u.length?u:l.filterModel.messageCategory})},e.prev=11,e.next=14,r(d,u);case 14:if(l=e.sent,2e4===(l=l.data).code)return p=l.result,e.next=20,i({type:"saveChannelState",payload:{originTotalTrendData:0<p.length?p.map(function(e){return[e.name,e.total]}):[],totalTrendData:m(p)}});e.next=20;break;case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(11);case 24:if(e.prev=24,a)return e.next=28,i({type:"saveChannelState",payload:a});e.next=28;break;case 28:return p=b()({},u,{dateFilter:v(u.dateFilter)}),e.next=31,i({type:"fetchTotalTrendDiffData",payload:b()({},p)});case 31:return e.finish(24);case 32:case"end":return e.stop()}},e,null,[[11,22,24,32]])}),fetchTotalTrendDiffData:T().mark(function e(t,n){var a,s,c,r,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,c=n.select,e.prev=2,e.next=5,a(d,r);case 5:if(r=e.sent,2e4===(u=r.data).code)return e.delegateYield(T().mark(function e(){var n,a,t,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=u.result,e.next=4,c(function(e){return b()({},e)[k][C]});case 4:for(t=e.sent,r=t.originTotalTrendData,i=function(t){var e=a.filter(function(e){return e.name===r[t][0]})[0];n.push([].concat(r[t],[e?e.total:0]))},o=0;o<r.length;o++)i(o);return e.next=10,s({type:"saveChannelState",payload:{totalTrendDiffData:n}});case 10:case"end":return e.stop()}},e)})(),"t0",9);e.next=9;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),console.error(e.t1);case 14:case"end":return e.stop()}},e,null,[[2,11]])}),fetchVolTrendChartData:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[k][C]});case 4:return s=e.sent,c=s.filterParams,o=s.projectId,s=s.volTrendDateDimension,s={projectId:o,dateFilter:b()({},c.dateFilter,{dateGroupType:a&&a.volTrendDateDimension?a.volTrendDateDimension:s}),filterModel:c.filterModel},e.prev=9,e.next=12,r(p,s);case 12:if(c=e.sent,2e4===(c=c.data).code)return u=c.result,e.next=18,i({type:"saveChannelState",payload:{originVolTrendData:0<u.length?u.map(function(e){return[e.name,e.total]}):[],volTrendData:m(u)}});e.next=18;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),console.error(e.t0);case 23:if(e.prev=23,a)return e.next=27,i({type:"saveChannelState",payload:a});e.next=27;break;case 27:return u=b()({},s,{dateFilter:v(s.dateFilter)}),e.next=30,i({type:"fetchVolTrendChartDiffData",payload:b()({},u)});case 30:return e.finish(23);case 31:case"end":return e.stop()}},e,null,[[9,20,23,31]])}),fetchVolTrendChartDiffData:T().mark(function e(t,n){var a,s,c,r,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,c=n.select,e.prev=2,e.next=5,a(p,r);case 5:if(r=e.sent,2e4===(u=r.data).code)return e.delegateYield(T().mark(function e(){var n,a,t,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=u.result,e.next=4,c(function(e){return b()({},e)[k][C]});case 4:for(t=e.sent,r=t.originVolTrendData,i=function(t){var e=a.filter(function(e){return e.name===r[t][0]})[0];n.push([].concat(r[t],[e?e.total:0]))},o=0;o<r.length;o++)i(o);return e.next=10,s({type:"saveChannelState",payload:{volTrendDiffData:n}});case 10:case"end":return e.stop()}},e)})(),"t0",9);e.next=9;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),console.error(e.t1);case 14:case"end":return e.stop()}},e,null,[[2,11]])}),fetchEmoTrendChartData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return b()({},e)[k][C]});case 4:return u=e.sent,o=u.filterParams,s=u.projectId,c=u.emoTrendDateDimension,l=u.emoTrendValType,u=u.emoTrendEmoType,u={projectId:s,dateFilter:b()({},o.dateFilter,{dateGroupType:a&&a.emoTrendDateDimension?a.emoTrendDateDimension:c}),filterModel:b()({},o.filterModel,{escore:a&&a.emoTrendEmoType?[a.emoTrendEmoType.id]:[u.id]}),calculateType:(a&&a.emoTrendValType?a.emoTrendValType:l).id},e.prev=11,e.next=14,r(f,u);case 14:if(l=e.sent,2e4===(l=l.data).code)return p=l.result,e.next=20,i({type:"saveChannelState",payload:{originEmoTrendChartData:0<p.length?p.map(function(e){return[e.name,e.total]}):[],emoTrendChartData:m(p)}});e.next=20;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),console.error(e.t0);case 25:if(e.prev=25,a)return e.next=29,i({type:"saveChannelState",payload:a});e.next=29;break;case 29:return p=b()({},u,{dateFilter:v(u.dateFilter)}),e.next=32,i({type:"fetchEmoTrendChartDiffData",payload:b()({},p)});case 32:return e.finish(25);case 33:case"end":return e.stop()}},e,null,[[11,22,25,33]])}),fetchEmoTrendChartDiffData:T().mark(function e(t,n){var a,s,c,r,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,c=n.select,e.prev=2,e.next=5,a(f,r);case 5:if(r=e.sent,2e4===(u=r.data).code)return e.delegateYield(T().mark(function e(){var n,a,t,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=u.result,e.next=4,c(function(e){return b()({},e)[k][C]});case 4:for(t=e.sent,r=t.originEmoTrendChartData,i=function(t){var e=a.filter(function(e){return e.name===r[t][0]})[0];n.push([].concat(r[t],[e?e.total:0]))},o=0;o<r.length;o++)i(o);return e.next=10,s({type:"saveChannelState",payload:{emoTrendChartDiffData:n}});case 10:case"end":return e.stop()}},e)})(),"t0",9);e.next=9;break;case 9:e.next=13;break;case 11:e.prev=11,e.t1=e.catch(2);case 13:case"end":return e.stop()}},e,null,[[2,11]])}),fetchEmotionAnalyzeData:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[k][C]});case 4:return s=e.sent,c=s.filterParams,s=s.projectId,c=b()({},a.filterParams||c,{projectId:s}),s=null,e.prev=9,e.next=12,r(h,c);case 12:c=e.sent,2e4===(c=c.data).code&&0<c.result.length&&(s=(0,g.Qj)(c.result)),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"saveChannelState",payload:b()({},a,{emotionAnalyzeData:s})});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])})}};function N(e){var t=e.dateFilter,n=e.projectId,e=e.filterModel;return s.h.post("/brand-insight/chart/find/SATISFACTION_EMOTION_PERCENTAGE_CHART",{filterModel:e,dateFilter:t,projectId:n})}function _(e){var t=e.dateFilter,n=e.projectId,e=e.filterModel;return s.h.post("/brand-insight/chart/find/EMOTION_TREND_CHART",{filterModel:e,dateFilter:t,projectId:n})}function O(e){var t=e.filterModel,n=e.dateFilter,e=e.projectId;return s.h.post("/brand-insight/chart/find/TOPIC_ASPECT_TOP",{projectId:e,filterModel:t,dateFilter:n})}function j(e){var t=e.filterModel,n=e.dateFilter,a=e.projectId,r=e.pageIndex,e=e.pageSize;return s.h.post("/brand-insight/chart/find/CONTENT_TOPIC_MESSAGES",{projectId:a,filterModel:t,dateFilter:n,pageIndex:void 0===r?1:r,pageSize:void 0===e?100:e})}function D(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return s.h.post("/widget/data/find/ASPECT_TIME_LINE",{projectId:t,filterModel:n,dateFilter:e,topSize:50,type:"WORD_TIME_LINE"})}function M(t){return new Promise(function(e){return setTimeout(e,t)})}var A=n(90646),L=n(70018),P=t.Z.brand.brandAnalysis,F=t.Z.brand.brandAnalysisSub.content,R={isInitial:!0,projectId:"",curDimensionValName:"",dateRange:0,filterParams:void 0,satisChartData:void 0,emoTrendData:void 0,trendTimeType:"DAY",formulaType:"COUNT",topicType:{id:"weiboTopics",name:"微博话题"},activeSeriesIndex:-1,activeDataIndex:-1,topTenTopicData:[],postList:[],postOrder:{id:"cTime_DESC",name:"时间由大到小"},dimensionId:""};function z(e,t){try{return"weiboTopics"===e?t.split("#")[1]:t.split("SUP_TOC")[1]}catch(e){}return""}r={subNamespace:F,state:Object.assign({},R),reducers:{saveContentState:(0,I.ZP)(function(t,e){var n=e.payload;Object.keys(n).forEach(function(e){t[F][e]=n[e]})}),cleanContentState:(0,I.ZP)(function(e,t){e[F]=Object.assign({},R)})},effects:{fetchContentDatas:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[P][F]});case 4:if(s=e.sent,o=s.filterParams,s=s.projectId,JSON.stringify(o)!==JSON.stringify(a.filterParams)||s!==a.projectId)return e.next=10,i({type:"saveContentState",payload:Object.assign({},R)});e.next=22;break;case 10:return e.next=12,r(M,100);case 12:return e.next=14,i({type:"saveContentState",payload:b()({},a,{isInitial:!0})});case 14:return e.next=16,r(M,100);case 16:return e.next=18,i({type:"fetchSatisChartData",payload:a});case 18:return e.next=20,i({type:"fetchContentHotWordData",payload:a});case 20:return e.next=22,i({type:"fetchTopTenTopic",payload:a});case 22:case"end":return e.stop()}},e)}),fetchSatisChartData:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[P][F]});case 4:return s=e.sent,o=s.filterParams,c=s.projectId,s=null,c=b()({},(0,I.ZP)(a.filterParams||o,function(){}),{projectId:a.projectId||c}),e.prev=9,e.next=12,r(N,c);case 12:c=e.sent,2e4===(c=c.data).code&&c.result&&(s=c.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"saveContentState",payload:b()({},a,{satisChartData:s})});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),fetchEmotionTrendData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return b()({},e)[P][F]});case 4:return c=e.sent,o=c.filterParams,l=c.projectId,s=c.trendTimeType,c=null,u=a.trendTimeType||s,l=b()({},(0,I.ZP)(a.filterParams||o,function(e){e.dateFilter.dateGroupType=u}),{projectId:a.projectId||l}),e.prev=11,e.next=14,r(_,l);case 14:l=e.sent,2e4===(l=l.data).code&&l.result&&0<l.result.length&&(c=(0,L.aq)(l.result)),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"saveContentState",payload:b()({},a,{emoTrendData:c})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchTopTenTopic:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.prev=2,e.next=5,s(function(e){return b()({},e)[P][F]});case 5:return c=e.sent,o=c.filterParams,s=c.projectId,c=c.topicType,c={projectId:s,dateFilter:o.dateFilter,filterModel:b()({},o.filterModel,{topicType:(a&&a.topicType?a.topicType:c).id})},e.next=12,r(O,c);case 12:if(c=e.sent,2e4===(c=c.data).code)return e.next=17,i({type:"saveContentState",payload:{topTenTopicData:c.result.reverse(),activeSeriesIndex:-1,activeDataIndex:-1}});e.next=19;break;case 17:return e.next=19,i({type:"fetchPostList"});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),console.error(e.t0);case 24:return e.prev=24,e.next=27,i({type:"saveContentState",payload:{isInitial:!1}});case 27:if(a)return e.next=30,i({type:"saveContentState",payload:a});e.next=30;break;case 30:return e.finish(24);case 31:case"end":return e.stop()}},e,null,[[2,21,24,31]])}),fetchPostList:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.prev=2,e.next=5,c(function(e){return b()({},e)[P][F]});case 5:return u=e.sent,o=u.filterParams,s=u.projectId,p=u.topTenTopicData,d=u.postOrder,c=u.activeDataIndex,u=u.topicType,l=u.id,p=[{contain:a&&-1<a.activeDataIndex?[z(l,p[a.activeDataIndex].topicName)]:-1<c?[z(l,p[c].topicName)]:p.map(function(e){e=e.topicName;return z(l,e)})}],d={projectId:s,dateFilter:o.dateFilter,filterModel:b()({},o.filterModel,{dimension:a&&0===a.activeSeriesIndex?o.filterModel.dimension:[],sortName:(a&&a.postOrder?a.postOrder:d).id.split("_")[0],sortOrder:(a&&a.postOrder?a.postOrder:d).id.split("_")[1]})},"weiboTopics"===l?d.filterModel.topics=p:d.filterModel.superTopics=p,e.next=18,r(j,d);case 18:if(d=e.sent,2e4===(d=d.data).code)return e.next=23,i({type:"saveContentState",payload:{postList:d.result.messages}});e.next=23;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(2),console.error(e.t0);case 28:if(e.prev=28,a)return e.next=32,i({type:"saveContentState",payload:a});e.next=32;break;case 32:return e.finish(28);case 33:case"end":return e.stop()}},e,null,[[2,25,28,33]])}),fetchContentHotWordData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[P][F]});case 4:return u=e.sent,s=u.filterParams,c=u.projectId,u=b()({},a.filterParams||s,{projectId:a.projectId||c}),c=s=null,e.prev=9,e.next=12,r(D,u);case 12:u=e.sent,2e4===(u=u.data).code&&0<u.result.list.length&&(u=u.result.list,l=u.reduce(function(e,t){return e+t.total},0),c=u.map(function(e){return b()({},e,{precent:e.total/l,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}),s=0===c.length?[]:(0,A.Kj)(c.slice().sort(function(e,t){return t.total-e.total}))),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"saveContentState",payload:b()({},a,{hotWordBubbleData:s,hotWordDoubleData:c})});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])})}};function V(e){var t=e.filterModel,n=e.dateFilter,a=e.orderTime,e=e.projectId;return s.h.post("/brand-insight/chart/find/INTERACTION_TYPE_CHART",{projectId:e,filterModel:t,dateFilter:n,orderTime:a})}function B(e){var t=e.filterModel,n=e.dateFilter,a=e.orderTime,e=e.projectId;return s.h.post("brand-insight/chart/find/INTERACTION_TOTAL_CHART",{projectId:e,filterModel:t,dateFilter:n,orderTime:a})}function q(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.orderTime,e=e.interactionType;return s.h.post("/brand-insight/chart/find/INTERACTION_CATEGORY_CHART",{projectId:t,filterModel:n,dateFilter:a,orderTime:r,interactionType:e})}function U(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.interactionType;return s.h.post("/brand-insight/interaction/chart/find/INTERACTION_TIME_TREND_CHART",{projectId:t,filterModel:n,dateFilter:a,interactionType:e})}function H(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.menuDimension;return s.h.post("/brand-insight/chart/find/INTERACTION_CATEGORY_TIME_TREND_CHART",{projectId:t,filterModel:n,dateFilter:a,menuDimension:e})}function W(t){return new Promise(function(e){return setTimeout(e,t)})}var i=n(44836),Z=t.Z.brand.brandAnalysis,J=t.Z.brand.brandAnalysisSub.interaction,Y={isInitial:!0,curDimensionName:"",curDimensionValName:"",filterParams:{},projectId:"",dateRange:0,dataCount:void 0,inteData:void 0,typeData:void 0,comparisionOptions:[],comparisionValue:[],interTypeValue:i.E.map(function(e){return e.id}),interDateDimension:"DAY",interChartType:"bar",originInterData:[],interData:[],interDiffData:[],channelDateDimension:"DAY",channelChartType:"area",originChannelData:[],channelData:[],channelDiffData:[]},i={subNamespace:J,state:Object.assign({},Y),reducers:{saveInteractionState:(0,I.ZP)(function(t,e){var n=e.payload;Object.keys(n).forEach(function(e){t[J][e]=n[e]})}),cleanInteractionState:(0,I.ZP)(function(e,t){e[J]=Object.assign({},Y)})},effects:{fetchInterDatas:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return b()({},e)[Z][J]});case 4:if(s=e.sent,o=s.filterParams,s=s.projectId,JSON.stringify(o)!==JSON.stringify(a.filterParams)||s!==a.projectId)return e.next=10,i({type:"saveInteractionState",payload:b()({},a,{isInitial:!0})});e.next=20;break;case 10:return e.next=12,r(W,100);case 12:return e.next=14,i({type:"fetchInteractionCountData",payload:a});case 14:return e.next=16,i({type:"fetchInteractionTypeData",payload:a});case 16:return e.next=18,i({type:"fetchInteractionChannelData",payload:a});case 18:return e.next=20,i({type:"saveInteractionState",payload:{isInitial:!1}});case 20:case"end":return e.stop()}},e)}),fetchInteractionCountData:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[Z][J]});case 4:return s=e.sent,c=s.filterParams,s=s.projectId,c=b()({orderTime:a.orderTime},a.filterParams||c,{projectId:a.projectId||s}),s=null,e.prev=9,e.next=12,r(B,c);case 12:c=e.sent,2e4===(c=c.data).code&&0!==c.result&&(s=c.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"saveInteractionState",payload:b()({},a,{dataCount:s})});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),fetchInteractionTypeData:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[Z][J]});case 4:return s=e.sent,c=s.filterParams,s=s.projectId,c=b()({orderTime:a.orderTime},a.filterParams||c,{projectId:a.projectId||s}),s=null,e.prev=9,e.next=12,r(V,c);case 12:c=e.sent,2e4===(c=c.data).code&&(s=0===c.result.length?"empty":c.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:if(e.prev=19,a)return e.next=23,i({type:"saveInteractionState",payload:b()({},a,{typeData:s})});e.next=23;break;case 23:return e.finish(19);case 24:case"end":return e.stop()}},e,null,[[9,17,19,24]])}),fetchInteractionChannelData:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Z][J]});case 4:return s=e.sent,c=s.filterParams,s=s.projectId,c=b()({orderTime:a.orderTime},a.filterParams||c,{projectId:a.projectId||s,interactionType:[a.interactionType]}),s=null,e.prev=9,e.next=12,r(q,c);case 12:c=e.sent,2e4===(c=c.data).code&&(s=0===c.result.length?"empty":c.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,o({type:"saveInteractionState",payload:b()({},a,{inteData:s})});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),fetchInterChartData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return b()({},e)[Z][J]});case 4:return c=e.sent,o=c.filterParams,s=c.projectId,u=c.comparisionValue,l=c.interTypeValue,c=c.interDateDimension,u={projectId:s,dateFilter:b()({},o.dateFilter,{dateGroupType:a&&a.interDateDimension?a.interDateDimension:c}),filterModel:b()({},o.filterModel,{dimension:[b()({},o.filterModel.dimension,{values:a&&a.comparisionValue?o.filterModel.dimension[0].values.concat(a.comparisionValue):o.filterModel.dimension[0].values.concat(u)})]}),interactionType:a&&a.interTypeValue?a.interTypeValue:l},e.prev=11,e.next=14,r(U,u);case 14:if(l=e.sent,2e4===(l=l.data).code)return p=l.result,e.next=20,i({type:"saveInteractionState",payload:{originInterData:0<p.length?p.map(function(e){return[e.name,e.total]}):[],interData:m(p)}});e.next=20;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),console.error(e.t0);case 25:if(e.prev=25,a)return e.next=29,i({type:"saveInteractionState",payload:a});e.next=29;break;case 29:return p=b()({},u,{dateFilter:v(u.dateFilter)}),e.next=32,i({type:"fetchInterChartDiffData",payload:b()({},p)});case 32:return e.finish(25);case 33:case"end":return e.stop()}},e,null,[[11,22,25,33]])}),fetchInterChartDiffData:T().mark(function e(t,n){var a,s,c,r,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,c=n.select,e.prev=2,e.next=5,a(U,r);case 5:if(r=e.sent,2e4===(u=r.data).code)return e.delegateYield(T().mark(function e(){var n,a,t,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=u.result,e.next=4,c(function(e){return b()({},e)[Z][J]});case 4:for(t=e.sent,r=t.originInterData,i=function(t){var e=a.filter(function(e){return e.name===r[t][0]})[0];n.push([].concat(r[t],[e?e.total:0]))},o=0;o<r.length;o++)i(o);return e.next=10,s({type:"saveInteractionState",payload:{interDiffData:n}});case 10:case"end":return e.stop()}},e)})(),"t0",9);e.next=9;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),console.error(e.t1);case 14:case"end":return e.stop()}},e,null,[[2,11]])}),fetchChannelChartData:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[Z][J]});case 4:return s=e.sent,c=s.filterParams,o=s.projectId,s=s.channelDateDimension,s={projectId:o,dateFilter:b()({},c.dateFilter,{dateGroupType:a&&a.channelDateDimension?a.channelDateDimension:s}),filterModel:c.filterModel},e.prev=9,e.next=12,r(H,s);case 12:if(c=e.sent,2e4===(c=c.data).code)return u=c.result,e.next=18,i({type:"saveInteractionState",payload:{originChannelData:u.length&&0<u.filter(function(e){return e.name}).length?u.filter(function(e){return e.name}).map(function(e){return[e.name,e.total]}):[],channelData:m(u)}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(9);case 22:if(e.prev=22,a)return e.next=26,i({type:"saveInteractionState",payload:a});e.next=26;break;case 26:return u=b()({},s,{dateFilter:v(s.dateFilter)}),e.next=29,i({type:"fetchChannelChartDiffData",payload:b()({},u)});case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,null,[[9,20,22,30]])}),fetchChannelChartDiffData:T().mark(function e(t,n){var a,s,c,r,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,c=n.select,e.prev=2,e.next=5,a(H,r);case 5:if(r=e.sent,2e4===(u=r.data).code)return e.delegateYield(T().mark(function e(){var n,a,t,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=u.result,e.next=4,c(function(e){return b()({},e)[Z][J]});case 4:for(t=e.sent,r=t.originChannelData,i=function(t){var e=a.filter(function(e){return e.name===r[t][0]})[0];n.push([].concat(r[t],[e?e.total:0]))},o=0;o<r.length;o++)i(o);return e.next=10,s({type:"saveInteractionState",payload:{channelDiffData:n}});case 10:case"end":return e.stop()}},e)})(),"t0",9);e.next=9;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),console.error(e.t1);case 14:case"end":return e.stop()}},e,null,[[2,11]])})}},G=n(29480),K=n(17707);function Q(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.dimensionId;return s.h.post("/brand-insight/chart/find/VOLUME_TIME_TREND_CHART",{projectId:t,filterModel:n,dateFilter:a,menuDimension:e})}function X(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.dimensionId;return s.h.post("/brand-insight/chart/find/INTERACTION_TOTAL_CHART",{projectId:t,filterModel:n,dateFilter:a,menuDimension:e})}function $(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.dimensionId;return s.h.post("/brand-insight/chart/find/ATTENTION_TREND",{projectId:t,filterModel:n,dateFilter:a,menuDimension:e})}function ee(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.dimensionId;return s.h.post("/brand-insight/chart/find/ATTENTION_COUNT",{projectId:t,filterModel:n,dateFilter:a,menuDimension:e})}function te(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.dimensionId,i=e.aspectLevel,e=e.aspect;return s.h.post("/brand-insight/chart/find/LABEL_ASPECT",{projectId:t,filterModel:n,dateFilter:a,dimensionId:r,aspectLevel:i,aspect:e})}function ne(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.dimensionId,i=e.aspectLevel,o=e.aspect,e=e.lineAspect;return s.h.post("/brand-insight/chart/find/LABEL_DIMENSION",{projectId:t,filterModel:n,dateFilter:a,dimensionId:r,aspectLevel:i,aspect:o,lineAspect:e})}function ae(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.dimensionId;return s.h.post("/brand-insight/chart/find/VOLUME_SOURCE_CHART",{projectId:t,filterModel:n,dateFilter:a,menuDimension:e})}function re(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.dimensionId;return s.h.post("/brand-insight/chart/find/SATISFACTION_TREND",{projectId:t,filterModel:n,dateFilter:a,menuDimension:e})}function ie(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.dimensionId;return s.h.post("/widget/data/find/ASPECT_TIME_LINE",{projectId:t,filterModel:n,dateFilter:a,topSize:50,menuDimension:e,type:"WORD_TIME_LINE"})}function oe(t){return new Promise(function(e){return setTimeout(e,t)})}var se=t.Z.brand.brandAnalysis,ce=t.Z.brand.brandAnalysisSub.overview,ue=t.Z.public.menu,le="",pe={numberInfoData:void 0,pieLineTrendData:void 0,timeType:"DAY",dateOptions:[],attentionTrendData:void 0,attentionTimeType:"DAY",valData:void 0,dataSource:[],originSatisFactionData:[],satisfactionData:[],satisfactionDiffData:[],satisfactionDateDimension:"DAY",tagDistributionData:void 0,aspectLevel:1,aspect:"",hotWordBubbleData:void 0,hotWordDoubleData:void 0,filterParams:void 0,projectId:void 0,dimensionId:"",dateRange:0},n={subNamespace:ce,state:Object.assign({},pe),reducers:{saveOverviewState:(0,I.ZP)(function(t,e){var n=e.payload;Object.keys(n).forEach(function(e){t[ce][e]=n[e]})}),cleanOverviewState:(0,I.ZP)(function(e,t){e[ce]=Object.assign({},pe)})},effects:{fetchOverViewDatas:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return b()({},e)[se][ce]});case 4:if(s=e.sent,o=s.filterParams,s=s.projectId,JSON.stringify(o)!==JSON.stringify(a.filterParams)||s!==a.projectId)return e.next=10,r({type:"saveOverviewState",payload:Object.assign({},pe)});e.next=22;break;case 10:return e.next=12,i(oe,100);case 12:return e.next=14,r({type:"saveOverviewState",payload:a});case 14:return e.next=16,i(oe,100);case 16:return e.next=18,r({type:"fetchOverviewDataSource",payload:a});case 18:return e.next=20,r({type:"fetchOverviewTagDistributionData",payload:a});case 20:return e.next=22,r({type:"fetchOverviewHotWordData",payload:a});case 22:case"end":return e.stop()}},e)}),fetchOverviewDataSource:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[se][ce]});case 4:return s=e.sent,c=s.filterParams,o=s.projectId,s=s.dimensionId,c=b()({projectId:a.projectId||o,dimensionId:a.dimensionId||s},a.filterParams||c),e.next=11,r(ae,c);case 11:if(c=e.sent,2e4===(c=c.data).code&&0<c.result.length)return c=c.result,e.next=17,i({type:"saveOverviewState",payload:{dataSource:c}});e.next=17;break;case 17:case"end":return e.stop()}},e)}),fetchOverviewSatisData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[se][ce]});case 4:return c=e.sent,u=c.filterParams,o=c.projectId,s=c.satisfactionDateDimension,c=c.dimensionId,c=b()({projectId:a.projectId||o,dimensionId:a.dimensionId||c},(0,I.ZP)(a.filterParams||u,function(e){e.dateFilter.dateGroupType=a&&a.satisfactionDateDimension?a.satisfactionDateDimension:s})),e.prev=10,e.next=13,r(re,c);case 13:if(u=e.sent,2e4===(u=u.data).code)return l=u.result,e.next=19,i({type:"saveOverviewState",payload:{originSatisFactionData:0<l.length?l.map(function(e){return[e.name,e.total]}):[],satisfactionData:m(l)}});e.next=19;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(10);case 23:return e.prev=23,e.next=26,i({type:"saveOverviewState",payload:a});case 26:return l=b()({},c,{dateFilter:v(c.dateFilter)}),e.next=29,i({type:"fetchOverviewSatisDiffData",payload:b()({},l)});case 29:return e.finish(23);case 30:case"end":return e.stop()}},e,null,[[10,21,23,30]])}),fetchOverviewSatisDiffData:T().mark(function e(t,n){var a,s,c,r,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,c=n.select,e.prev=2,e.next=5,a(re,r);case 5:if(r=e.sent,2e4===(u=r.data).code)return e.delegateYield(T().mark(function e(){var n,a,t,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=u.result,e.next=4,c(function(e){return b()({},e)[se][ce]});case 4:for(t=e.sent,r=t.originSatisFactionData,i=function(t){var e=a.filter(function(e){return e.name===r[t][0]})[0];n.push([].concat(r[t],[e?e.total:0]))},o=0;o<r.length;o++)i(o);return e.next=10,s({type:"saveOverviewState",payload:{satisfactionDiffData:n}});case 10:case"end":return e.stop()}},e)})(),"t0",9);e.next=9;break;case 9:e.next=13;break;case 11:e.prev=11,e.t1=e.catch(2);case 13:case"end":return e.stop()}},e,null,[[2,11]])}),fetchOverviewPieLineTrendData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return b()({},e)[se][ce]});case 4:return c=e.sent,u=c.filterParams,l=c.projectId,o=c.timeType,c=c.dimensionId,s=a.timeType||o,c=b()({dimensionId:a.dimensionId||c},(0,I.ZP)(a.filterParams||u,function(e){e.dateFilter.dateGroupType=s}),{projectId:a.projectId||l}),l=u=null,e.prev=12,e.next=15,i(Q,c);case 15:if(p=e.sent,2e4!==(p=p.data).code){e.next=27;break}if(0!==p.result.length){e.next=23;break}u=l="empty",e.next=27;break;case 23:return l=(0,G.X7)(p.result,s),u={value:l.allTotal,bottomValue:"--"},e.next=27,r({type:"fetchOverviewInteractData",payload:a});case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(12);case 31:return e.prev=31,e.next=34,r({type:"saveOverviewState",payload:b()({},a,{numberInfoData:u,pieLineTrendData:l})});case 34:return e.finish(31);case 35:case"end":return e.stop()}},e,null,[[12,29,31,35]])}),fetchOverviewInteractData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[se][ce]});case 4:return c=e.sent,o=c.filterParams,u=c.projectId,s=c.numberInfoData,c=c.dimensionId,u=b()({},a.filterParams||o,{dimensionId:a.dimensionId||c,projectId:u}),e.prev=10,e.next=13,r(X,u);case 13:if(u=e.sent,2e4===(l=u.data).code&&l.result)return e.next=18,i({type:"saveOverviewState",payload:{numberInfoData:(0,I.ZP)(s,function(e){e.bottomValue=l.result})}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(10);case 22:case"end":return e.stop()}},e,null,[[10,20]])}),fetchOverviewAttentionTrendData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,s=n.select,e.next=4,s(function(e){return b()({},e)[se][ce]});case 4:return s=e.sent,l=s.filterParams,p=s.projectId,c=s.attentionTimeType,u=s.dimensionId,o=a.attentionTimeType||c,s=b()({dimensionId:a.dimensionId||u},(0,I.ZP)(a.filterParams||l,function(e){var t=e.dateFilter,n=t.from,a=t.to,t=t.numOfDays;e.dateFilter.from=y()(n).subtract(t,"days").format("YYYY-MM-DD"),e.dateFilter.to=y()(a).subtract(t,"days").format("YYYY-MM-DD"),e.dateFilter.dateGroupType=o}),{projectId:a.projectId||p}),c=b()({dimensionId:a.dimensionId||u},(0,I.ZP)(a.filterParams||l,function(e){e.dateFilter.dateGroupType=o}),{projectId:a.projectId||p}),u=null,l=void 0,e.prev=14,p=void 0,e.next=18,i(ee,s);case 18:return d=e.sent,2e4===(d=d.data).code&&(p=d.result),e.next=23,i($,c);case 23:d=e.sent,2e4===(d=d.data).code&&0<d.result.length&&(u=0===d.result.length?"empty":(l=d.result,(0,G.X7)(d.result,o,p))),e.next=30;break;case 28:e.prev=28,e.t0=e.catch(14);case 30:return e.prev=30,e.next=33,r({type:"saveOverviewState",payload:b()({},a,{attentionTrendData:u,valData:l})});case 33:return e.finish(30);case 34:case"end":return e.stop()}},e,null,[[14,28,30,34]])}),fetchOverviewTagDistributionData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return b()({},e)[se][ce]});case 4:return p=e.sent,s=p.filterParams,c=p.projectId,u=p.aspect,l=p.aspectLevel,p=p.dimensionId,e.next=12,o(function(e){return b()({},e)[ue]});case 12:return m=e.sent,h=m.menuList,d=null,e.prev=15,f=a.dimensionId||p,y=a.projectId||c,m=h.brandInsightMenus,h=m?m[y].find(function(e){return e.id===parseInt(f)}).name:"",m=b()({projectId:y,dimensionId:f,aspect:a.aspect||u,aspectLevel:a.aspectLevel||l},a.filterParams||s),e.next=23,i(te,m);case 23:if(g=e.sent,2e4!==(v=g.data).code){e.next=37;break}if(0!==v.result.aspectList.length){e.next=30;break}d="empty",e.next=37;break;case 30:return le=m.aspect,y=(0,K.yv)(v.result.aspectList),g=v.result.dimensionList,x=v.result.aspectList.map(function(e){return e.name}),d={treemap:y,heatmap:{xNames:x,yNames:g,xMaxs:[],data:g.reduce(function(e,t,n){return[].concat(e,x.map(function(e,t){return[t,n,null]}))},[])},yAxisName:h},e.next=37,r({type:"fetchTagDetailDataLauncher",payload:{params:m,xNames:x,yNames:g}});case 37:e.next=41;break;case 39:e.prev=39,e.t0=e.catch(15);case 41:return e.prev=41,e.next=44,r({type:"saveOverviewState",payload:(0,I.ZP)(a,function(e){e.tagDistributionData=d})});case 44:return e.finish(41);case 45:case"end":return e.stop()}},e,null,[[15,39,41,45]])}),fetchTagDetailDataLauncher:T().mark(function e(t,n){var a,s,c,u,l,p,d,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.put,c=n.call,u=n.select,e.next=4,c(oe,100);case 4:l=a.params,p=a.xNames,d=a.yNames,r=T().mark(function e(r){var t,i,o,n;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(function(e){return b()({},e)[se][ce]});case 2:if(n=e.sent,t=n.tagDistributionData,le!==a.params.aspect)return e.abrupt("return",{v:void 0});e.next=6;break;case 6:return e.next=8,c(ne,b()({},l,{lineAspect:p[r]}));case 8:if(n=e.sent,2e4===(i=n.data).code&&le===a.params.aspect)return n=(o=0,I.ZP)(t,function(a){d.forEach(function(t,e){var n=i.result.find(function(e){return e.name===t}),n=n?parseInt(n.value):0;a.heatmap.data[r+e*p.length]=[r,e,n],o=Math.max(o,n),e===d.length-1&&a.heatmap.xMaxs.push(o)})}),e.next=15,s({type:"saveOverviewState",payload:{tagDistributionData:n}});e.next=15;break;case 15:return e.next=17,c(oe,100);case 17:case"end":return e.stop()}},e)}),i=0;case 7:if(i<p.length)return e.delegateYield(r(i),"t0",9);e.next=15;break;case 9:if("object"==typeof(o=e.t0))return e.abrupt("return",o.v);e.next=12;break;case 12:i++,e.next=7;break;case 15:case"end":return e.stop()}},e)}),fetchOverviewHotWordData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[se][ce]});case 4:return c=e.sent,u=c.filterParams,s=c.projectId,c=c.dimensionId,u=b()({},a.filterParams||u,{projectId:a.projectId||s,dimensionId:a.dimensionId||c}),c=s=null,e.prev=10,e.next=13,r(ie,u);case 13:u=e.sent,2e4===(u=u.data).code&&(0===u.result.list.length?c=s="empty":(u=u.result.list,l=u.reduce(function(e,t){return e+t.total},0),c=u.map(function(e){return b()({},e,{precent:e.total/l,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}),s=0===c.length?[]:(0,A.Kj)(c.slice().sort(function(e,t){return t.total-e.total})))),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"saveOverviewState",payload:b()({},a,{hotWordBubbleData:s,hotWordDoubleData:c})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])})}};const de={namespace:t.Z.brand.brandAnalysis,state:((t={})[n.subNamespace]=n.state,t[a.subNamespace]=a.state,t[r.subNamespace]=r.state,t[i.subNamespace]=i.state,t),reducers:b()({},n.reducers,a.reducers,r.reducers,i.reducers),effects:b()({},n.effects,a.effects,r.effects,i.effects)}},92765:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),d=n.n(t),t=n(87757),f=n.n(t),i=n(36144);function h(e){var t=e.projectId,n=e.keyword,a=e.statusList,r=e.pageSize,e=e.pageIndex;return i.h.post("/store/list",{projectId:t,storeName:n,statusList:a,pageIndex:e,pageSize:r})}function s(e){e=e.projectId;return i.h.post("/store/stat",{projectId:e})}var m=n(64396).Z.colManage.manage,a={storeData:void 0,storeListData:void 0,projectId:void 0,keyword:"",statusList:[],pageIndex:1,pageSize:20};const r={namespace:m,state:d()({},a),reducers:{save:function(e,t){t=t.payload;return d()({},e,t)},clean:function(e,t){t.payload;return d()({},a)}},effects:{fetchData:f().mark(function e(t,n){var a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.select,e.next=4,r({type:"fetchStoreData",payload:a});case 4:return e.next=6,r({type:"fetchStoreListData",payload:a});case 6:case"end":return e.stop()}},e)}),fetchStoreListData:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,u=n.select,i=n.put,o=null,e.next=5,u(function(e){return d()({},e)[m]});case 5:return p=e.sent,s=p.keyword,c=p.statusList,u=p.pageIndex,l=p.pageSize,p=p.projectId,l=d()({keyword:s,statusList:c,pageIndex:u,pageSize:l,projectId:p},a),e.prev=12,e.next=15,r(h,l);case 15:p=e.sent,2e4===(p=p.data).code&&(o=p.result),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,i({type:"save",payload:d()({},l,{storeListData:o})});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])}),fetchStoreData:f().mark(function e(t,n){var a,r,i,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.put,i=null,e.prev=3,e.next=6,a(s,o);case 6:o=e.sent,2e4===(o=o.data).code&&(i=o.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,r({type:"save",payload:{storeData:i}});case 16:return e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,11,13,17]])})}}},27664:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),d=n(36144);function l(e){var t=e.projectId,n=e.dateFilter,a=e.source,r=e.shopName,i=e.waiter,o=e.typeList,s=e.product,c=e.aspect1,u=e.aspect2,e=e.queryType;return d.h.post("/waiter-session/chart/find/SESSION_TOTAL_DISTRIBUTION",{projectId:t,dateFilter:n,source:a,shopName:r,waiter:i,typeList:o,product:s,aspect1:c,aspect2:u,queryType:e})}function p(e){var t=e.projectId,n=e.trendPlatformType,a=e.dateFilter,r=e.source,i=e.aspect1,o=e.aspect2,s=e.shopName,c=e.waiter,u=e.typeList,l=e.product,e=e.queryType;return d.h.post("/waiter-session/chart/find/DATE_TREND_LINE",{projectId:t,dateFilter:a,groupType:n,source:r,aspect1:i,aspect2:o,shopName:s,waiter:c,typeList:u,product:l,queryType:void 0===e?"PRODUCT":e})}function f(e){var t=e.projectId,n=e.source,a=e.shopName,r=e.waiter,i=e.typeList,o=e.aspect1,s=e.aspect2,c=e.product,u=e.dateFilter,l=e.productCompare,p=e.productAspectType,e=e.queryType;return d.h.post("/waiter-session/chart/find/MENTION_POINT_DETAIL_CHART",{projectId:t,source:n,shopName:a,waiter:r,typeList:i,aspect1:o,aspect2:s,product:c,dateFilter:u,compareProduct:"none"===l?"":l,groupType:p,queryType:void 0===e?"ASPECT":e})}function v(e){var t=e.projectId,n=e.dateFilter,a=e.source,r=e.shopName,i=e.waiter,o=e.typeList,s=e.product,e=e.groupType;return d.h.post("/waiter-session/chart/find/MENTION_OTHER_PRODUCT",{projectId:t,dateFilter:n,source:a,shopName:r,waiter:i,typeList:o,product:s,groupType:e})}var t=n(35239),y=n(32283),g=n(39432),n=n(64396),x=n.Z.conversation.commodityAnalyze,b=n.Z.public.header,T={isInitial:!0,conData:{total:0,sum:0,sourceList:[],titlePrefix:""},trendData:void 0,trendTimeType:"DAY",trendPlatformType:"SOURCE",productFocusPointData:void 0,productOptions:[],productCompare:"",productAspectType:"ASPECT1",formulaType:"NUMBER",focusDisData:void 0,mentionedGoodsData:{data:[],groupType:{id:"BRAND",name:"品牌"}},filter:{},headerState:t.t.get(t.V.conversationCommodityHeader)};const a={namespace:x,state:h()({projectId:void 0},Object.assign({},T)),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)}},effects:{fetchDatas:m().mark(function e(t,n){var a,r,i,o,s,c,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return h()({},e)[x]});case 4:return u=e.sent,s=u.filter,c=u.projectId,e.next=9,i(function(e){return h()({},e)[b]});case 9:if(u=e.sent,u=u.screeningMap.product,JSON.stringify(a.filter)!==JSON.stringify(s)||c!==a.projectId||a.refresh)return l=u.filter(function(e){return e!==a.filter.product[0]}).reduce(function(e,t){return[].concat(e,[{title:t,value:t}])},[]),l=h()({},Object.assign({},T),{productOptions:l,productList:u},a),e.next=16,o({type:"save",payload:l});e.next=32;break;case 16:return e.next=18,r(g.gw,200);case 18:return e.next=20,o({type:"fetchConversationData",payload:l});case 20:return e.next=22,r(g.gw,200);case 22:return e.next=24,o({type:"fetchConversationTrendData",payload:l});case 24:return e.next=26,r(g.gw,200);case 26:return e.next=28,o({type:"fetchProductFocusPointData",payload:l});case 28:return e.next=30,r(g.gw,200);case 30:return e.next=32,o({type:"fetchMentionedGoods",payload:l});case 32:case"end":return e.stop()}},e)}),fetchConversationData:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.prev=1,e.next=4,i(function(e){return h()({},e)[x]});case 4:return s=e.sent,c=s.projectId,u=s.filter,o=s.filter.product,e.next=10,a(l,h()({projectId:c},u,{queryType:"PRODUCT"}));case 10:if(s=e.sent,2e4===(c=s.data).code)return u=c.result,s=u.totalCount,c=u.sourceList,u=c.reduce(function(e,t){return e+t.docCount},0),e.next=17,r({type:"save",payload:{conData:{total:s,sourceList:c,sum:u,titlePrefix:o[0]||""}}});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(1);case 21:return e.prev=21,e.next=24,r({type:"save",payload:{isInitial:!1}});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[1,19,21,25]])}),fetchConversationTrendData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return h()({},e)[x]});case 4:return s=e.sent,u=s.trendTimeType,c=s.trendPlatformType,l=s.projectId,s=s.filter,c={trendPlatformType:a.trendPlatformType||c,trendTimeType:a.trendTimeType||u},u=null,e.prev=11,e.next=14,r(p,h()({projectId:l},c,s,{dateFilter:h()({},s.dateFilter,{dateGroupType:c.trendTimeType})}));case 14:l=e.sent,2e4===(l=l.data).code&&0<l.result.list.length&&(u=(0,y.PT)(l.result,c.trendTimeType,s.product[0]+"会话走势")),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:h()({},c,{trendData:u})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchProductFocusPointData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,r(g.gw,a.timeOut);case 4:return e.next=6,o(function(e){return h()({},e)[x]});case 6:return l=e.sent,s=l.productCompare,u=l.productAspectType,d=l.projectId,c=l.filter,p=l.formulaType,l=l.aspect1,u={productCompare:void 0!==a.productCompare?a.productCompare:s,productAspectType:a.aspectType||u,formulaType:a.formulaType||p,aspect1:a.aspect1||l},p=h()({projectId:d},c,u),l=null,e.prev=16,e.next=19,r(f,p);case 19:d=e.sent,2e4===(p=d.data).code&&0<p.result.length&&p.result[0]&&0<p.result[0].data.length&&(d=c.product,d=d[0],l=(0,y.tQ)(p.result,"aspect","提及"+d+"时的关注点",u.productCompare?[d,u.productCompare]:[d],u.formulaType)),e.next=26;break;case 24:e.prev=24,e.t0=e.catch(16);case 26:return e.prev=26,e.next=29,i({type:"save",payload:h()({},u,{productFocusPointData:l})});case 29:return e.finish(26);case 30:case"end":return e.stop()}},e,null,[[16,24,26,30]])}),fetchMentionedGoods:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.prev=2,e.next=5,o(function(e){return h()({},e)[x]});case 5:return l=e.sent,s=l.projectId,c=l.filter,u=l.mentionedGoodsData,l=l.mentionedGoodsData.groupType,l=h()({projectId:s},c,{groupType:(a&&a.groupType?a.groupType:l).id}),e.next=13,r(v,l);case 13:if(f=e.sent,2e4!==(f=f.data).code){e.next=22;break}if(0<(d=f.result).length)return p=d.reduce(function(e,t){return e+t.count},0),d.forEach(function(e,t){var n=e.count/p*100;e.percentage=Number.isInteger(n)?n:Number(n.toFixed(2)),e.rank=t+1}),e.next=22,i({type:"save",payload:{mentionedGoodsData:h()({},u,{data:d})}});e.next=22;break;case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(2);case 26:return e.prev=26,e.next=29,o(function(e){return h()({},e)[x]});case 29:return f=e.sent,d=f.mentionedGoodsData,f=f.mentionedGoodsData.groupType,f={groupType:a.groupType||f},e.next=35,i({type:"save",payload:{mentionedGoodsData:h()({},d,f)}});case 35:return e.finish(26);case 36:case"end":return e.stop()}},e,null,[[2,24,26,36]])})}}},74857:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),a=n(36144);function v(e){return a.h.post("/waiter-session/list",h()({},e))}function o(e){return a.h.post("/waiter-session/detail/find",h()({},e))}function s(e){return a.h.post("/session/filter/find/list",h()({},e))}var y=n(35239),g=n(64396).Z.conversationHome;const r={namespace:g,state:{conversationList:void 0,conversationDetail:void 0,detailProduct:[],detailAspect:[],conversationStartTime:"",conversationListTotal:0,detailAspectKeywordList:void 0,currentDisplayGroup:{},conversationFilter:{source:[],shopName:[],typeList:[],waiter:[],position:[]},conversationFilterValue:{},pageSize:10,pageIndex:1,filterParams:{}},reducers:{save:function(e,t){t=t.payload;return h()({},e,t)}},effects:{fetchConversationList:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,p=n.select,e.next=4,p(function(e){return h()({},e)[g]});case 4:if(p=e.sent,o=p.pageSize,s=p.conversationList,c=p.filterParams,u=p.conversationFilterValue,l={},Object.keys(u).filter(function(e){return 0<u[e].length}).forEach(function(e){return l[e]=u[e]}),a.filterParams)return p=a.filterParams.position,e.next=15,i({type:"save",payload:{filterParams:a.filterParams,conversationFilterValue:{position:p}}});e.next=15;break;case 15:return d=a.pageIndex,e.next=18,r(v,h()({projectId:y.t.get(y.V.curProject).id,pageSize:o,pageIndex:(d-1)*o+1},c,a.filterParams,l));case 18:return f=e.sent,f=f.data.result,e.next=22,i({type:"save",payload:{conversationList:1===d?f.conversationList:s.concat(f.conversationList),conversationListTotal:f.total,pageIndex:d}});case 22:if(1===d&&0<f.conversationList.length)return e.next=25,i({type:"fetchConversationDetail",payload:{group:f.conversationList[0].group}});e.next=27;break;case 25:e.next=30;break;case 27:if(1===d&&0===f.conversationList.length)return e.next=30,i({type:"save",payload:{currentDisplayGroup:{},conversationDetail:[]}});e.next=30;break;case 30:case"end":return e.stop()}},e)}),fetchConversationDetail:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,n.select,e.next=4,i(o,{projectId:y.t.get(y.V.curProject).id,group:a.group});case 4:return i=e.sent,i=i.data.result,e.next=8,r({type:"save",payload:{currentDisplayGroup:a.group,conversationDetail:i.contentList.reverse(),detailProduct:i.product,detailAspect:i.aspect,detailAspectKeywordList:i.aspect.reduce(function(t,e){var o=e.aspectId;if(!e.aspectList)return t;var n=e.aspectList.reduce(function(e,t){var n=t.messageId,a=t.start,r=t.highLightWord,i=t.end;e[n]||(e[n]=[]);t=e[n].find(function(e){return e.aspectId===o});return t?t.keywords.push({highLightWord:r,start:a,end:i}):e[n].push({aspectId:o,keywords:[{highLightWord:r,start:a,end:i}]}),e},{});return Object.keys(n).forEach(function(e){t[e]?t[e]=t[e].concat(n[e]):t[e]=n[e]}),t},{}),conversationStartTime:i.startTime}});case 8:case"end":return e.stop()}},e)}),fetchConversationFilter:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,n.select,e.next=4,a(s,{projectId:y.t.get(y.V.curProject).id,product:i.product});case 4:return i=e.sent,i=i.data.result,e.next=8,r({type:"save",payload:{conversationFilter:i}});case 8:case"end":return e.stop()}},e)}),clearConversationList:m().mark(function e(t,n){var a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"save",payload:{conversationList:void 0,conversationListTotal:0,conversationDetail:void 0,filterParams:void 0,conversationFilterValue:{}}});case 4:case"end":return e.stop()}},e)}),saveValue:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"save",payload:a});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)})}}},32283:(e,t,n)=>{"use strict";n.d(t,{ao:()=>a,eW:()=>r,tQ:()=>i,PT:()=>function(n,a,e){var r=void 0;n.list.map(function(e){var t=0===e.dateList.length;return t||r||(r=e.dateList.map(function(e){return u(e.date,a)})),t}).forEach(function(e,t){e&&(n.list[t]=c()({},n.list[t],{dateList:r.map(function(e){return{date:e,count:0,queryCount:0}})}))});var i=[],t=["日期"].concat(n.list.map(function(e){return e.name})),o=n.list.reduce(function(e,t){return[].concat(e,[t.dateList.reduce(function(e,t,n){t=t.queryCount||0;return i[n]?i[n]+=t:i[n]=t,[].concat(e,[t])},[])])},[r]),s=n.list.reduce(function(e,t){return[].concat(e,[t.dateList.reduce(function(e,t){return[].concat(e,[0===t.count?0:+(t.queryCount/t.count).toFixed(4)])},[])])},[r]);return{length:n.list.length,title:e,dataset:[{dimensions:t,source:o},{dimensions:t,source:s},{dimensions:[null,"全部"],source:[r,i]}]}}});var t=n(67154),c=n.n(t),a=function(e){return"number"==typeof e?0<=e&&e<1e3?e:e<1e4?(e/1e3).toFixed(2)+"千":(e/1e4).toFixed(2)+"万":"--"},r=function(e,t){var n=e.sort(function(e,t){return t.count-e.count}).map(function(e){return e.name}),a=e.reduce(function(e,t){return e+t.count},0);return{tableData:e.map(function(e){var t=e.name,e=e.count;return{name:t,value:e,precent:e/a}}),dataType:t,title:"product"===t?"商品分布":"关注点分布",chartData:{length:1,dimensions:["aspect"].concat(e.map(function(e){return e.name})),source:[n,e.map(function(e){return e.count})]}}},i=function(n,e,t,a,r){void 0===r&&(r="NUMBER");var i,o=n[0].data.sort(function(e,t){return t.value-e.value}).map(function(e){return e.name}),s=n[0].data.reduce(function(e,t){return e+parseInt(t.value)},0),c=[];c=n&&1===n.length?n[0].data.map(function(e){var t=e.name,e=e.value;return{name:t,value:e,precent:parseInt(e)/s}}):(i=n[1].data.reduce(function(e,t){return e+parseInt(t.value)},0),n[0].data.map(function(e){for(var t=0;t<n[1].data.length;t++)if(e.name===n[1].data[t].name)return e.value2=n[1].data[t].value,{name:e.name,value:e.value,precent:parseInt(e.value)/s,value2:e.value2,precent2:parseInt(e.value2)/i};return null}));var u=Math.max.apply(null,n.reduce(function(e,t){return[].concat(e,t.data.map(function(e){return e.value}))},[])),l=[e].concat(a.reduce(function(e,t){return[].concat(e,[t+"-数量",t+"-比例"])},[])),r=c.reduce(function(e,t){return e[0].push(t.value),e[1].push(t.precent),t.value2&&(e[2]?e[2].push(t.value2):e[2]=[t.value2]),t.precent2&&(e[3]?e[3].push(t.precent2):e[3]=[t.precent2]),e},[[],[]]),r=[o].concat(r);return{tableData:c,title:t,dataType:e,product:a,chartData:{max:u,length:n.length,dimensions:l,source:r}}},u=function(e,t){if("WEEK"!==t)return e;e=e.split("-");return e[0]+"年"+e[1]+"周"}},63102:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),f=n.n(t),t=n(87757),h=n.n(t),m=n(36144);function v(e){var t=e.projectId,n=e.dateFilter,a=e.source,r=e.shopName,i=e.waiter,o=e.typeList,s=e.product,c=e.aspect1,u=e.aspect2,l=e.brand,e=e.queryType;return m.h.post("/waiter-session/chart/find/SESSION_TOTAL_DISTRIBUTION",{projectId:t,dateFilter:n,source:a,shopName:r,waiter:i,typeList:o,product:s,aspect1:c,aspect2:u,brand:l,queryType:e})}function d(e){var t=e.projectId,n=e.trendPlatformType,a=e.dateFilter,r=e.source,i=e.aspect1,o=e.aspect2,s=e.shopName,c=e.waiter,u=e.typeList,l=e.product,p=e.brand,e=e.queryType;return m.h.post("/waiter-session/chart/find/DATE_TREND_LINE",{projectId:t,dateFilter:a,groupType:n,source:r,aspect1:i,aspect2:o,shopName:s,waiter:c,typeList:u,product:l,brand:p,queryType:e})}function l(e){var t=e.projectId,n=e.source,a=e.shopName,r=e.waiter,i=e.typeList,o=e.aspect1,s=e.aspect2,c=e.product,u=e.brand,l=e.dateFilter,p=e.productCompare,d=e.productAspectType,f=e.queryType,e=e.position;return m.h.post("/waiter-session/chart/find/MENTION_POINT_DETAIL_CHART",{projectId:t,source:n,shopName:a,waiter:r,typeList:i,aspect1:o,aspect2:s,product:c,brand:u,dateFilter:l,compareProduct:p,groupType:d,queryType:void 0===f?"PRODUCT":f,position:e})}function u(t){return new Promise(function(e){return setTimeout(e,t)})}var t=n(35239),y=n(32283),g=n(64396).Z.conversation.concernAnalyze,p={isInitial:!0,conData:{total:0,sum:0,sourceList:[],titlePrefix:""},trendData:void 0,trendTimeType:"DAY",trendPlatformType:"SOURCE",productFocusPointData:void 0,formulaType:"NUMBER",position:[],projectId:void 0,headerState:t.t.get(t.V.conversationConcernHeader),filter:{},chartValue:void 0};const a={namespace:g,state:f()({},Object.assign({},p)),reducers:{save:function(e,t){t=t.payload;return f()({},e,t)}},effects:{fetchDatas:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,r=n.put,i=n.call,e.next=4,o(function(e){return f()({},e)[g]});case 4:if(s=e.sent,o=s.filter,s=s.projectId,JSON.stringify(a.filter)!==JSON.stringify(o)||s!==a.projectId||a.refresh)return c=f()({},Object.assign({},p),a),e.next=11,r({type:"save",payload:c});e.next=23;break;case 11:return e.next=13,i(u,200);case 13:return e.next=15,r({type:"fetchConversationData",payload:c});case 15:return e.next=17,i(u,200);case 17:return e.next=19,r({type:"fetchConversationTrendData",payload:c});case 19:return e.next=21,i(u,200);case 21:return e.next=23,r({type:"fetchProductFocusPointData",payload:c});case 23:case"end":return e.stop()}},e)}),fetchConversationData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,d=n.select,e.prev=2,e.next=5,d(function(e){return f()({},e)[g]});case 5:return u=e.sent,o=u.projectId,s=u.filter,c=u.chartValue,e.next=11,r(v,f()({projectId:o},s,{queryType:c?"":"ASPECT",brand:c?c.values.id:s.brand,aspect1:c?[]:s.aspect1,aspect2:c?[]:s.aspect2}));case 11:if(l=e.sent,2e4===(p=l.data).code)return d=p.result,u=d.totalCount,l=d.sourceList,p=l.reduce(function(e,t){return e+t.docCount},0),d=s.aspectTitle,e.next=19,i({type:"save",payload:{conData:{total:u,sourceList:l,sum:p,titlePrefix:"「"+(c?c.values.id:d)+"」"},projectId:o||a.projectId}});e.next=19;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(2);case 23:return e.prev=23,e.next=26,i({type:"save",payload:{isInitial:!1}});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[2,21,23,27]])}),fetchConversationTrendData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[g]});case 4:return c=e.sent,l=c.trendTimeType,u=c.trendPlatformType,p=c.projectId,s=c.filter,c=c.chartValue,u={trendPlatformType:a.trendPlatformType||u,trendTimeType:a.trendTimeType||l},l=null,e.prev=12,e.next=15,r(d,f()({projectId:p},u,s,{queryType:c?"":"ASPECT",dateFilter:f()({},s.dateFilter,{dateGroupType:u.trendTimeType}),brand:c?c.values.id:s.brand,aspect1:c?[]:s.aspect1,aspect2:c?[]:s.aspect2}));case 15:p=e.sent,2e4===(p=p.data).code&&0<p.result.list.length&&(l=(0,y.PT)(p.result,u.trendTimeType,"「"+(c?c.values.id:s.aspectTitle)+"」关注点走势")),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,i({type:"save",payload:f()({},u,{trendData:l})});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])}),fetchProductFocusPointData:h().mark(function e(t,n){var a,r,i,o,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return f()({},e)[g]});case 3:return c=e.sent,i=c.projectId,o=c.filter,s=c.chartValue,u=c.position,c=null,e.prev=9,e.next=12,a(l,f()({projectId:i},o,{brand:s?s.values.id:o.brand,aspect1:s?[]:o.aspect1,aspect2:s?[]:o.aspect2,position:u}));case 12:u=e.sent,2e4===(u=u.data).code&&0<u.result.length&&(c=(0,y.tQ)(u.result,"product","客户关注「"+(s?s.values.id:o.aspectTitle)+"」时提及到的商品",[""+(s?s.values.id:o.aspectTitle)])),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,r({type:"save",payload:{productFocusPointData:c}});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])})}}},67918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),d=n(36144);function v(e){var t=e.projectId,n=e.dateFilter,a=e.source,r=e.shopName,i=e.waiter,o=e.typeList,s=e.product,c=e.aspect1,u=e.aspect2,l=e.compareProduct,p=e.queryType,e=e.brand;return d.h.post("/waiter-session/chart/find/PRODUCT_ASPECT_TIME_CHART",{projectId:t,queryType:p,dateFilter:n,source:a,shopName:r,waiter:i,typeList:o,product:s,aspect1:c,aspect2:u,compareProduct:l,brand:e})}function y(e){var t=e.projectId,n=e.dateFilter,a=e.source,r=e.shopName,i=e.waiter,o=e.typeList,s=e.product,c=e.aspect1,u=e.aspect2,l=e.groupType,p=e.queryType,e=e.brand;return d.h.post("/waiter-session/chart/find/ASPECT_PRODUCT_DISTRIBUTION",{projectId:t,dateFilter:n,source:a,shopName:r,waiter:i,typeList:o,product:s,aspect1:c,aspect2:u,groupType:l,queryType:p,brand:e})}function c(t){return new Promise(function(e){return setTimeout(e,t)})}var g=n(64396).Z.conversation.detail,r={type:1,isInitial:!0,lineChartData:{total:0,data:[],comparedProduct:""},comparisonList:[],treeChartData:{groupType:{id:"SHOP",name:"店铺"},data:[]},projectId:"",queryType:"",filterParams:{dateFilter:{},source:[],shopName:[],waiter:[],typeList:[],position:[],product:[],aspect:[],aspect1:[],aspect2:[],brand:""},selectedChart:"",selectedValue:{date:"",source:"",shopName:"",waiter:""}};const a={namespace:g,state:h()({},Object.assign({},r)),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)}},effects:{fetchDatas:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.prev=2,e.next=5,o(function(e){return h()({},e)[g]});case 5:if(s=e.sent,o=s.filterParams,s=s.projectId,JSON.stringify(o)!==JSON.stringify(a.filterParams)||s!==a.projectId)return e.next=11,i({type:"save",payload:h()({},a)});e.next=17;break;case 11:return e.next=13,r(c,500);case 13:return e.next=15,i({type:"fetchLineChartData",payload:a});case 15:return e.next=17,i({type:"fetchTreeChartData",payload:a});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(2);case 21:case"end":return e.stop()}},e,null,[[2,19]])}),fetchLineChartData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.prev=2,e.next=5,o(function(e){return h()({},e)[g]});case 5:return l=e.sent,s=l.projectId,c=l.filterParams,u=l.lineChartData,p=l.lineChartData.comparedProduct,l=l.queryType,p=h()({projectId:s},c,{queryType:a.queryType||l,compareProduct:void 0!==a.comparedProduct?a.comparedProduct:p}),e.next=14,r(v,p);case 14:if(f=e.sent,2e4!==(f=f.data).code){e.next=21;break}if(f.result&&0<f.result.length)return d=f.result,d=d[0].total,e.next=21,i({type:"save",payload:{lineChartData:h()({},u,{data:f.result,total:d})}});e.next=21;break;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(2);case 25:return e.prev=25,e.next=28,o(function(e){return h()({},e)[g]});case 28:return f=e.sent,d=f.lineChartData,f=f.lineChartData.comparedProduct,f={comparedProduct:a.comparedProduct||f},e.next=34,i({type:"save",payload:{lineChartData:h()({},d,f),isInitial:!1}});case 34:return e.finish(25);case 35:case"end":return e.stop()}},e,null,[[2,23,25,35]])}),fetchTreeChartData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.prev=2,e.next=5,o(function(e){return h()({},e)[g]});case 5:return l=e.sent,s=l.projectId,p=l.queryType,c=l.filterParams,u=l.treeChartData,l=l.treeChartData.groupType,p=h()({projectId:s},c,{groupType:(a.groupType||l).id,queryType:p}),e.next=14,r(y,p);case 14:if(f=e.sent,2e4===(d=f.data).code)return e.next=19,i({type:"save",payload:{treeChartData:h()({},u,{data:d.result})}});e.next=19;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(2);case 23:return e.prev=23,e.next=26,o(function(e){return h()({},e)[g]});case 26:return f=e.sent,d=f.treeChartData,f=f.treeChartData.groupType,f={groupType:a.groupType||f},e.next=32,i({type:"save",payload:{treeChartData:h()({},d,f)}});case 32:return e.finish(23);case 33:case"end":return e.stop()}},e,null,[[2,21,23,33]])}),reset:m().mark(function e(t,n){var a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.prev=1,e.next=4,a({type:"save",payload:h()({},Object.assign.apply(Object,[{}].concat(r)))});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,null,[[1,6]])})}}},36757:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),f=n(36144);function h(e){var t=e.projectId,n=e.dateFilter,a=e.source,r=e.shopName,i=e.waiter,o=e.typeList,s=e.product,c=e.aspect1,u=e.aspect2,e=e.queryType;return f.h.post("/waiter-session/chart/find/SESSION_TOTAL_DISTRIBUTION",{projectId:t,dateFilter:n,source:a,shopName:r,waiter:i,typeList:o,product:s,aspect1:c,aspect2:u,queryType:e})}function l(e){var t=e.projectId,n=e.trendPlatformType,a=e.dateFilter,r=e.source,i=e.aspect1,o=e.aspect2,s=e.shopName,c=e.waiter,u=e.typeList,l=e.product,e=e.queryType;return f.h.post("/waiter-session/chart/find/DATE_TREND_LINE",{projectId:t,dateFilter:a,groupType:n,source:r,aspect1:i,aspect2:o,shopName:s,waiter:c,typeList:u,product:l,queryType:void 0===e?"":e})}function u(e){var t=e.projectId,n=e.dateFilter,a=e.source,r=e.shopName,i=e.waiter,o=e.typeList,e=e.conPosition;return f.h.post("/waiter-session/chart/find/PRODUCT_DISTRIBUTION",{projectId:t,dateFilter:n,source:a,shopName:r,waiter:i,typeList:o,position:e})}function m(e){var t=e.projectId,n=e.source,a=e.shopName,r=e.waiter,i=e.typeList,o=e.focusAspectType,s=e.aspect1,e=e.dateFilter;return f.h.post("/waiter-session/chart/find/ASPECT_DISTRIBUTION",{projectId:t,source:n,shopName:a,waiter:r,typeList:i,groupType:o,aspect1:s,dateFilter:e})}function v(t){return new Promise(function(e){return setTimeout(e,t)})}var t=n(35239),y=n(32283),g=n(64396).Z.conversation.overview,x={isInitial:!0,conData:{total:0,sum:0,mentionedGoods:0,mentionedAspect:0,sourceList:[]},trendData:void 0,trendTimeType:"DAY",trendPlatformType:"SOURCE",conPosition:[],productDisData:void 0,focusDisData:void 0,focusAspectType:"ASPECT1",filter:void 0,projectId:void 0,headerState:t.t.get(t.V.conversationOverviewHeader)};const a={namespace:g,state:p()({},Object.assign({},x)),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clear:function(e,t){t.payload;return p()({},e,Object.assign({},x))}},effects:{fetchDatas:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return p()({},e)[g]});case 4:if(s=e.sent,o=s.filter,s=s.projectId,JSON.stringify(a.filter)!==JSON.stringify(o)||s!==a.projectId)return c=p()({},Object.assign({},x),a),e.next=11,i({type:"save",payload:c});e.next=27;break;case 11:return e.next=13,r(v,200);case 13:return e.next=15,i({type:"fetchConversationData",payload:c});case 15:return e.next=17,r(v,200);case 17:return e.next=19,i({type:"fetchConversationTrendData",payload:c});case 19:return e.next=21,r(v,200);case 21:return e.next=23,i({type:"fetchProductDistributionData",payload:c});case 23:return e.next=25,r(v,200);case 25:return e.next=27,i({type:"fetchFocusDistributionData",payload:c});case 27:case"end":return e.stop()}},e)}),fetchConversationData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,c=n.select,e.prev=1,e.next=4,c(function(e){return p()({},e)[g]});case 4:return u=e.sent,l=u.projectId,o=u.filter,i=u.conData,s=p()({projectId:l},o),e.next=11,a(h,s);case 11:if(c=e.sent,2e4===(u=c.data).code)return l=u.result,o=l.totalCount,s=l.sourceList,c=l.sessionReferProductCount,u=l.sessionReferAspectCount,l=s.reduce(function(e,t){return e+t.docCount},0),e.next=18,r({type:"save",payload:{conData:p()({},i,{total:o,sourceList:s,sum:l,mentionedGoods:c||0,mentionedAspect:u||0})}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(1);case 22:return e.prev=22,e.next=25,r({type:"save",payload:{isInitial:!1}});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[1,20,22,26]])}),fetchConversationTrendData:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return p()({},e)[g]});case 4:return u=e.sent,c=u.trendTimeType,s=u.trendPlatformType,o=u.projectId,u=u.filter,s={trendPlatformType:a.trendPlatformType||s,trendTimeType:a.trendTimeType||c},c=null,e.prev=11,e.next=14,r(l,p()({projectId:o},s,u,{dateFilter:p()({},u.dateFilter,{dateGroupType:s.trendTimeType})}));case 14:u=e.sent,2e4===(u=u.data).code&&0<u.result.list.length&&(c=(0,y.PT)(u.result,s.trendTimeType,"会话量走势")),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:p()({trendData:c},s)});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchProductDistributionData:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.next=3,o(function(e){return p()({},e)[g]});case 3:return s=e.sent,i=s.projectId,o=s.filter,c=s.conPosition,s=null,e.prev=8,e.next=11,a(u,p()({projectId:i},o,{conPosition:c}));case 11:c=e.sent,2e4===(c=c.data).code&&0<c.result.length&&(s=(0,y.eW)(c.result,"product")),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,r({type:"save",payload:{productDisData:s}});case 21:return e.finish(18);case 22:case"end":return e.stop()}},e,null,[[8,16,18,22]])}),fetchFocusDistributionData:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return p()({},e)[g]});case 4:return c=e.sent,s=c.focusAspectType,u=c.projectId,c=c.filter,s={focusAspectType:a.aspectType||s},u=p()({projectId:u},s,c),a.aspect1&&(u.aspect1=a.aspect1),c=null,e.prev=12,e.next=15,r(m,u);case 15:u=e.sent,2e4===(u=u.data).code&&0<u.result.length&&(c=(0,y.eW)(u.result,"aspect")),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,i({type:"save",payload:p()({},s,{focusDisData:c})});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])})}}},42042:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),v=n.n(t),t=n(87757),y=n.n(t),m=n(79607),a=n(36144);function g(e){e=e.projectId;return a.h.post("/session/filter/find",{projectId:e})}function l(e){var t=e.waiterIds,e=e.type;return a.h.post("/waiter-session/type/update",{waiterIds:t,type:e})}var p=n(87219),d=n(5133),x=n(64396).Z.conversation.setting;const r={namespace:x,state:JSON.parse(JSON.stringify({dataList:void 0,clusterDataList:void 0,type:["UNKNOWN"],platform:[],platformOpts:[],store:[],storeOpts:[],waiter:[],keyword:"",pageIndex:1,pageSize:20,total:0,unknownTotal:0,projectId:void 0})),reducers:{save:function(e,t){t=t.payload;return v()({},e,t)},updateClusterDataList:function(e,t){var n=t.payload,a=e.dataList,r=e.pageSize,t=e.pageIndex,t=n.pageIndex||t,a=n.dataList||a,r=n.pageSize||r;return v()({},e,n,{pageIndex:t,dataList:a,pageSize:r,clusterDataList:a.slice((t-1)*r,t*r)})}},effects:{fetchParams:y().mark(function e(t,n){var a,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"fetchOptions",payload:a});case 4:case"end":return e.stop()}},e)}),fetchOptions:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return v()({},e)[x]});case 4:return h=e.sent,s=h.pageSize,c=[],u="error",l=[],p=0,f=[],h=[],e.prev=7,e.next=10,r(g,{projectId:a.projectId});case 10:if(m=e.sent,2e4===(m=m.data).code&&m.result.waiter.length)return c=m.result.waiter,e.next=16,i.resolve({type:"fetchDataList",payload:{waiter:c,sync:!0}});e.next=27;break;case 16:return l=e.sent,p=l.length,u=l.slice(0,s),d=l.reduce(function(e,t){return"UNKNOWN"===t.typeId?e+1:e},0),e.next=22,i.resolve({type:"updateOptions",payload:{waiter:c}});case 22:m=e.sent,f=m.platformOpts,h=m.storeOpts,e.next=28;break;case 27:u="empty";case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(7),console.log(e.t0);case 33:return e.prev=33,e.next=36,i({type:"save",payload:v()({},a,{clusterDataList:u,dataList:l,total:p,waiter:c,unknownTotal:d,platformOpts:f,storeOpts:h})});case 36:return e.finish(33);case 37:case"end":return e.stop()}},e,null,[[7,30,33,37]])}),fetchDataList:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,r=n.put,e.next=4,o(function(e){return v()({},e)[x]});case 4:if(s=e.sent,h=s.keyword,i=s.platform,o=s.type,p=s.store,f=s.waiter,s=s.pageSize,c=a.type||o,u=a.platform||i,l=a.store||p,p=a.waiter||f,d=void 0!==a.keyword?a.keyword:h,f=p.reduce(function(e,t){return c.length&&!c.includes(t.typeId)||u.length&&!u.includes(t.sourceId)||l.length&&!l.includes(t.shopName)||d&&!(0,m.u5)(t.waiterName,d)||e.push(v()({},t,{waiterName:t.waiterName,platform:t.sourceName,shopName:t.shopName,waiterType:t.typeId})),e},[]),a.sync)return e.abrupt("return",f);e.next=19;break;case 19:return e.next=21,r.resolve({type:"updateOptions",payload:{waiter:p,type:c,platform:u,store:l}});case 21:return h=e.sent,e.next=24,r({type:"updateClusterDataList",payload:v()({waiter:p,dataList:f,total:f.length,unknownTotal:f.reduce(function(e,t){return"UNKNOWN"===t.typeId?e+1:e},0),pageIndex:1,pageSize:s},h)});case 24:case"end":return e.stop()}},e)}),updateOptions:y().mark(function e(t,n){var a,r,i,o,s,c,u,l;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.select,e.next=4,r(function(e){return v()({},e)[x]});case 4:return l=e.sent,u=l.platform,r=l.type,l=l.store,i=a.type||r,o=a.platform||u,s=a.store||l,c=a.waiter.reduce(function(e,t){return i.length&&!i.includes(t.typeId)||(e[0][t.sourceId]||(e[0][t.sourceId]=t.sourceName),o.length&&!o.includes(t.sourceId)||e[1][t.shopName]||(e[1][t.shopName]=t.shopName)),e},[{},{}]),u=Object.keys(c[0]).map(function(e){return{id:e,name:c[0][e]}}),l=Object.keys(c[1]).map(function(e){return{id:e,name:c[1][e]}}),e.abrupt("return",{type:i,platform:o.length?u.reduce(function(e,t){return o.includes(t.id)&&e.push(t.id),e},[]):[],store:s.length?l.reduce(function(e,t){return s.includes(t.id)&&e.push(t.id),e},[]):[],platformOpts:u,storeOpts:l});case 15:case"end":return e.stop()}},e)}),updateWaiterType:y().mark(function e(t,n){var a,r,i,o,s,c,u;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return v()({},e)[x]});case 4:return u=e.sent,s=u.waiter,e.next=8,i(l,a);case 8:if(u=e.sent,2e4===(c=u.data).code)return u=(0,p.ZP)(s,function(n){a.waiterIds.forEach(function(t){var e=n.findIndex(function(e){return e.id===t});-1<e&&(n[e].typeId=a.type,e=n.splice(e,1)[0],n.splice(0,0,e))})}),e.next=14,r({type:"fetchDataList",payload:{waiter:u}});e.next=17;break;case 14:d.Z.success(c.msg),e.next=18;break;case 17:d.Z.error(c.msg);case 18:case"end":return e.stop()}},e)})}}},79607:(e,t,n)=>{"use strict";n.d(t,{Lh:()=>a,uG:()=>r,u5:()=>function(e,t){return new RegExp(t.toLocaleLowerCase()).test(e.toLocaleLowerCase())}});var a=[{name:"售前",id:"PRE_SALE"},{name:"售后",id:"AFTER_SALE"},{name:"未分类",id:"UNKNOWN"}],r=[{title:"售前",value:"PRE_SALE"},{title:"售后",value:"AFTER_SALE"},{title:"未分类",value:"UNKNOWN"}]},63123:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});function E(t){return new Promise(function(e){setTimeout(e,t)})}var t=n(67154),k=n.n(t),t=n(87757),C=n.n(t),S=n(12791),N=n(87219),t=n(64396),_=(n(61193),n(75483)),m=n(92360),u=n(61409),a=n(35239),O=t.Z.dashboard.dashboard,r={projectId:"",title:"",dashboardType:"",dashboardId:"",folderId:"",dashboards:void 0,collect:[],fetchingDashboards:[],dateFilter:{},lock:!0,enlargeId:"",systermAuthority:!1};const i={namespace:O,state:Object.assign({},r),effects:{fetchDashboards:C().mark(function e(t,n){var a,r,i,o,s,c,u,l;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,s=n.select,e.next=3,s(function(e){return e[O]});case 3:return s=e.sent,i=s.dashboardId,o=s.projectId,s=s.dateFilter,e.next=9,a(S.j2,{id:i,dateFilter:s});case 9:return c=e.sent,u=c.data.result,c=u,e.next=14,a(S.Gs,{key:i,projectId:o});case 14:return l=e.sent,u=l.data.result,l=(0,_.QC)(c,u?JSON.parse(u):[]),e.next=19,r({type:"save",payload:{dashboards:l,collect:u?JSON.parse(u):[]}});case 19:return e.abrupt("return",l);case 20:case"end":return e.stop()}},e)}),updateCollectValue:C().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,a=n.call,r=n.put,u=n.select,i=c.id,o=c.selectId,s=c.val,e.next=5,u(function(e){return e[O]});case 5:return p=e.sent,c=p.dashboardId,u=p.projectId,l=p.dashboards,p=p.collect,p=(0,N.ZP)(p,function(n){var a=!1;n.forEach(function(e,t){e.id===i&&(a=!0,n[t]=(0,N.ZP)(n[t],function(e){e.collect=(0,N.ZP)(e.collect,function(e){var t=!1;e.forEach(function(e){e.id===o&&(t=!0,e.value=s)}),t||e.push({id:o,value:s})})}))}),a||n.push({id:i,collect:[{id:o,value:s}]})}),e.next=13,a(S.xi,{key:c,projectId:u,value:JSON.stringify(p)});case 13:if(d=e.sent,2e4===(d=d.data).code)return e.next=18,r({type:"save",payload:{dashboards:(0,N.ZP)(l,function(n){n.forEach(function(e,t){e.id===i&&(n[t]=(0,N.ZP)(n[t],function(e){e.selector.forEach(function(e){e.id===o&&(e.collectValue=s)})}))})}),collect:p}});e.next=20;break;case 18:e.next=21;break;case 20:m.Message.error(d.msg);case 21:case"end":return e.stop()}},e)}),fetchChart:C().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x,b,T,I,w;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,s=a.chart,c=a.dashId,e.next=5,o(function(e){return e[O]});case 5:if(b=e.sent,u=b.dateFilter,l=b.fetchingDashboards,p=b.dashboardId,c&&c!==p)return e.abrupt("return");e.next=11;break;case 11:if(6<=l.length)return e.next=14,r(E,100);e.next=17;break;case 14:return e.next=16,i({type:"fetchChart",payload:k()({},a,{dashId:p})});case 16:return e.abrupt("return");case 17:return e.next=19,i({type:"save",payload:{fetchingDashboards:(0,N.ZP)(l,function(e){e.includes(s.id)||e.push(s.id)})}});case 19:return s.selector&&s.selector.forEach(function(e){switch(e.id){case"countType":d=e.value;break;case"aspectType":f=e.value;break;case"dateGroupingType":h=e.value;break;case"tagType":m=e.value;break;case"topicType":v=e.value;break;case"brandsSeriesType":y=e.value}}),e.prev=20,e.next=23,r(S.nO,{chartId:s.id,countType:d,aspectType:f,topicType:v,tagType:m,brandsSeriesType:y,dateFilter:(0,N.ZP)(u,function(e){e.dateGroupType=h})});case 23:b=e.sent,b=b.data.result,g=b,e.next=32;break;case 28:e.prev=28,e.t0=e.catch(20),x=e.t0,g="error";case 32:if("Abort"===x)return e.abrupt("return");e.next=34;break;case 34:return e.next=36,o(function(e){return e[O]});case 36:if(w=e.sent,T=w.dashboards,I=w.fetchingDashboards,w.dashboardId===p&&T){e.next=42;break}return e.abrupt("return");case 42:return w=(0,N.ZP)(T,function(e){var n,a;T.forEach(function(e,t){e.id===s.id&&(n=t,a=e)}),a=(0,N.ZP)(a,function(e){var t,n;g?(t=(n=(0,_.Rl)(g)).option,n=n.source,e.option=t,e.source=n):(e.option="empty",e.source=[])}),e[n]=a}),e.next=45,i({type:"save",payload:{dashboards:w,fetchingDashboards:(0,N.ZP)(I,function(e){e.splice(e.findIndex(function(e){return e===s.id}),1)})}});case 45:return e.abrupt("return",g);case 46:case"end":return e.stop()}},e,null,[[20,28]])}),onSelectorChange:C().mark(function e(t,n){var a,r,i,o,s,c,u,l;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,s=a.id,c=a.selectId,u=a.val,e.next=5,o(function(e){return e[O]});case 5:return l=e.sent,l=l.dashboards,l=(0,N.ZP)(l,function(n){n.forEach(function(e,t){e.id===s&&(n[t]=(0,N.ZP)(n[t],function(e){e.selector=(0,N.ZP)(e.selector,function(e){e.forEach(function(e){e.id===c&&(e.value=u)})})}))})}),e.next=10,i({type:"save",payload:{dashboards:l}});case 10:if(["stackType","tableView","labelType"].includes(c)){e.next=15;break}return e.next=13,r(E,10);case 13:return e.next=15,i({type:"fetchChart",payload:{chart:l.filter(function(e){return e.id===s})[0]}});case 15:case"end":return e.stop()}},e)}),onLayoutChange:C().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[O]});case 4:if(f=e.sent,o=f.dashboards,s=f.dashboardType,h=f.systermAuthority,c=a.id,u=a.x,l=a.y,p=a.w,d=a.h,f=a.chartName,!s||"SYSTEM_FOLDER"===s&&!h)return e.abrupt("return");e.next=11;break;case 11:return e.next=13,r(S.YF,{id:c,x:u,y:l,w:p,h:d,chartName:f});case 13:if((h=e.sent)&&200===h.status)return e.next=17,i({type:"save",payload:{dashboards:(0,N.ZP)(o,function(n){n.forEach(function(e,t){e.id===c&&(n[t].x=u,n[t].y=l,n[t].w=p,n[t].h=d)})})}});e.next=19;break;case 17:e.next=20;break;case 19:m.Message.error("图列更新失败，请重试");case 20:case"end":return e.stop()}},e)}),addNewDash:C().mark(function e(t,n){var a,r,i;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[O]});case 4:return i=e.sent,i=i.dashboards,e.next=8,r({type:"save",payload:{dashboards:(0,N.ZP)(i,function(e){e.push(a)})}});case 8:return e.next=10,r({type:"fetchChart",payload:{chart:a}});case 10:case"end":return e.stop()}},e)}),removeDash:C().mark(function e(t,n){var a,r,i;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[O]});case 4:return i=e.sent,i=i.dashboards,e.next=8,r({type:"save",payload:{dashboards:i.filter(function(e){return e.id!==a.id})}});case 8:case"end":return e.stop()}},e)}),delDash:C().mark(function e(t,n){var a,r,i,o,s,c;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.put,i=n.select,o=o.id,e.next=5,i(function(e){return e[O]});case 5:return c=e.sent,s=c.dashboardId,e.prev=7,e.next=10,a(S.Cw,{id:o});case 10:if((c=e.sent)&&200===c.status)return e.next=14,r({type:"removeDash",payload:{id:o}});e.next=16;break;case 14:e.next=17;break;case 16:m.Message.error("图表删除失败，请重试");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),300020===e.t0.data.code&&(m.Message.error("该图表已被其他管理员删除"),u.mW.push("/dashboard/"+s));case 22:case"end":return e.stop()}},e,null,[[7,19]])})},reducers:{onLockChange:function(e){return a.t.set(a.V.dashboardLock,!e.lock,"session"),k()({},e,{lock:!e.lock})},changeEnlargeId:function(e,t){t=t.payload;return k()({},e,{enlargeId:t.id})},save:function(e,t){t=t.payload;return k()({},e,t)},clean:function(e,t){t.payload;return(0,S.rp)(),Object.assign({},r)}}}},12791:(e,t,n)=>{"use strict";n.d(t,{j2:()=>function(e){var t=e.id,n=e.dateFilter,e=l(function(){return c.h.post("/data-dashboard/chart/position/list",{id:t,dateFilter:n})})();return u.push(e),e},nO:()=>function(e){var t=e.chartId,n=e.countType,a=e.aspectType,r=e.dateFilter,i=e.topicType,o=e.tagType,s=e.brandsSeriesType,e=l(function(){return c.h.post("/data-dashboard/chart/show",{chartId:t,countType:n,aspectType:a,dateFilter:r,topicType:i,tagType:o,brandsSeriesType:s})})();return u.push(e),e},YF:()=>function(e){var t=e.id,n=e.x,a=e.y,r=e.w,i=e.h,e=e.chartName;try{o.Z.add(o.Z.store.html,{chartName:e,time:s()().format("YYYY-MM-DD HH-mm-ss SSS"),id:(new Date).getTime()+"---"+e+"---"+Math.random(),x:n,y:a,w:r,h:i})}catch(e){console.log(e)}return c.h.post("/data-dashboard/chart/position/update",{id:t,x:n,y:a,w:r,h:i})},Cw:()=>function(e){e=e.id;return c.h.post("/data-dashboard/chart/delete",{id:e})},Gs:()=>function(e){var t=e.key,n=e.projectId,e=l(function(){return c.h.post("/default/value/find",{key:t,projectId:n})})();return u.push(e),e},xi:()=>function(e){var t=e.key,n=e.projectId,e=e.value;return c.h.post("/default/value/update",{key:t,projectId:n,value:e})},rp:()=>function(){u.forEach(function(e){return e.cancel()}),u=[]}});var c=n(36144),o=n(90549),t=(n(50757),n(30381)),s=n.n(t),u=[];function l(a){var r={};return function(){var e=new Promise(function(t,n){Object.defineProperty(r,"signal",{set:function(){n("Abort")}}),a().then(function(e){return t(e)}).catch(function(e){return n(e)})});return Object.assign(e,{cancel:function(){r.signal=!0}})}}},31185:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),g=n.n(t),t=n(87757),x=n.n(t),d=n(36144);n(50757);function p(e){e=e.id;return d.h.post("/data-dashboard/chart/filter/find",{id:e})}function f(e){e=e.dashboardTemplateId;return d.h.post("/data-dashboard/template/filter/find",{dashboardTemplateId:e})}function b(e){var t=e.name,n=(e.description,e.id),a=e.dashboardId,r=e.filterModel,e=e.rules;return d.h.post("/data-dashboard/chart/filter/update",{name:t,id:n,dashboardId:a,filterModel:r,rules:e})}function T(e){var t=e.filterModel,n=e.projectId,a=e.key,r=e.name,i=(e.description,e.dashboardId),o=e.x,s=e.y,c=e.w,u=e.h,l=e.dashboardTemplateId,p=e.rules,e=e.originChartId;return d.h.post("/data-dashboard/chart/add",{filterModel:t,projectId:n,key:a,name:r,dashboardId:i,x:o,y:s,w:c,h:u,dashboardTemplateId:l,rules:p,originChartId:e})}function h(e){var t=e.projectId,n=e.filter,a=e.title,r=e.templateId,e=e.rules;return d.h.post("data-dashboard/preview",{projectId:t,filter:n,title:a,templateId:r,rules:e})}var I=n(12791),w=n(75483),t=n(64396),m=n(92360),v=n(61409),E=t.Z.dashboard.template.edit,a={editId:void 0,copyId:void 0,templateData:void 0,projectId:void 0,chartId:void 0,dashId:void 0,temId:void 0,dimensionModelId:"",option:void 0};const r={namespace:E,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return g()({},e,t)},closePreview:function(e){return g()({},e,{option:void 0})},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchTemplateData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.payload,r=n.call,n.select,i=n.put,o=void 0,c="",e.prev=3,u=void 0,a.chartId)return e.next=8,r(p,{id:a.chartId});e.next=11;break;case 8:u=e.sent,e.next=15;break;case 11:if(a.temId)return e.next=14,r(f,{dashboardTemplateId:a.temId});e.next=15;break;case 14:u=e.sent;case 15:u&&2e4===(l=u.data).code&&(o=l.result,s=l.result.dashboardTemplateId,c=l.result.dimensionModelId),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),300020===e.t0.data.code&&(m.Message.error("该图表已被其他管理员删除"),v.mW.push("/dashboard/"+a.dashId));case 21:return e.prev=21,e.next=24,i({type:"save",payload:g()({},a,{temId:s||a.temId,templateData:o,dimensionModelId:c})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[3,18,21,25]])}),commitChart:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return e[E]});case 4:if(v=e.sent,s=v.projectId,c=v.chartId,u=v.temId,l=v.dashId,p=void 0,e.prev=10,d=a.filterModel,f=a.rules,h=a.name,m=a.description,c&&!a.isCopy)return e.next=15,r(b,{filterModel:d,rules:f,name:h,description:m,id:c,dashboardId:l});e.next=18;break;case 15:p=e.sent,e.next=27;break;case 18:return e.next=20,r(I.j2,{id:l});case 20:if(v=e.sent,2e4===(v=v.data).code)return v=(0,w.$C)(v.result||[]),e.next=26,r(T,g()({projectId:s,originChartId:c||null,key:JSON.stringify(a.rules),name:h,description:m,dashboardId:l,dashboardTemplateId:u,filterModel:d,rules:f},v));e.next=27;break;case 26:p=e.sent;case 27:if(!p){e.next=34;break}if(2e4!==(y=p.data).code){e.next=34;break}if(y.result)return e.next=33,o({type:"save",payload:{chartId:y.result}});e.next=33;break;case 33:a.callback&&a.callback();case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(10),console.log(e.t0);case 39:case"end":return e.stop()}},e,null,[[10,36]])}),fetchPreviewChart:x().mark(function e(t,n){var a,r,i,o,s,c,u,l;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,c=n.select,i=n.put,e.next=4,c(function(e){return e[E]});case 4:return u=e.sent,o=u.projectId,l=u.temId,e.prev=7,s=a.filterModel,c=a.rules,u=a.name,l={projectId:o,filter:s,title:u,rules:c,templateId:l},e.next=12,r(h,l);case 12:if(l=e.sent,2e4!==(l=l.data).code||!l.result){e.next=22;break}if(l=l.result)return e.next=19,i({type:"save",payload:{option:l}});e.next=21;break;case 19:e.next=22;break;case 21:m.Message.error("预览失败");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(7),m.Message.error("预览失败");case 27:case"end":return e.stop()}},e,null,[[7,24]])})}}},62529:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),o=n(36144);n(50757);function f(e){var t=e.pageIndex,n=e.pageSize,a=e.query,r=e.filter,i=e.types,e=e.params;return o.h.post("/dashboard/template/list",{pageIndex:t,pageSize:n,query:a,filter:r,types:i,params:e})}function s(){return o.h.post("/data-dashboard/template/filter")}function h(e){var t=e.projectId,e=e.templateId;return o.h.post("data-dashboard/preview",{projectId:t,templateId:e})}var c=[{icon:"cem_index-card",name:"指标卡",type:"INDICATOR"},{icon:"cem_pie-chart",name:"饼状图",type:"PIE"},{icon:"cem_form-chart",name:"表格",type:"FORM"},{icon:"cem_histogram1",name:"柱状图",type:"HISTOGRAM"},{icon:"cem_bar-chart1",name:"条形图",type:"BAR"},{icon:"cem_line-chart1",name:"折线图",type:"LINE"},{icon:"cem_scatter-diagram",name:"散点图",type:"SCATTER"},{icon:"cem_scatter-plot",name:"气泡图",type:"scatter"},{icon:"cem_side-by-side-bar-chart",name:"对比条形图",type:"BAR"},{icon:"cem_radar-chart",name:"雷达图",type:"RADAR"},{icon:"cem_parallel-graph",name:"平行坐标图",type:"PARALLEL"},{icon:"cem_area-chart",name:"面积图",type:"TREEMAP"},{icon:"cem_dendrogram1",name:"树状图",type:"TREE"},{icon:"cem_asahi-chart",name:"旭日图",type:"SUNBURST"},{icon:"cem_word-cloud",name:"词云图",type:"GRAPH"},{icon:"cem_dashboard",name:"仪表盘",type:"dashboard"},{icon:"cem_sankey",name:"桑基图",type:"SNAKEY"},{icon:"cem_relation-diagram",name:"关系图",type:"graph"},{icon:"cem_thermodynamic-chart",name:"热力图",type:"HEAT"},{icon:"cem_k-line-chart",name:"k线图",type:"CANDLESTICK"},{icon:"cem_calendar",name:"日历图",type:"CALENDAR"},{icon:"cem_funnel",name:"漏斗图",type:"FUNNEL"},{icon:"cem_river-map",name:"河流图",type:"THEMERIVER"},{icon:"cem_double-column-chart",name:"热词图",type:"HOT_WORDS"}],m=n(64396).Z.dashboard.template.list;const a={namespace:m,state:{query:"",pageIndex:1,pageSize:10,list:void 0,total:0,types:[],params:[],typeFilterList:void 0,paramFilterList:void 0,projectId:void 0},reducers:{save:function(e,t){t=t.payload;return p()({},e,t)}},effects:{fetchConditions:d().mark(function e(t,n){var a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.call,a=n.put,r=[],i=[],e.prev=2,e.next=5,o(s);case 5:return o=e.sent,2e4===(o=o.data).code&&((o=o.result).typeModelList&&(r=o.typeModelList.reduce(function(e,t){var n=c.find(function(e){return e.type===t.type});return n?[].concat(e,[n]):e},[])),o.params&&(i=o.params.map(function(e){return{id:e.id,label:e.name,options:e.children.map(function(e){return{id:e.id,label:e.name}})}}))),e.next=10,a({type:"fetchTemplateList",payload:{}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.prev=14,e.next=17,a({type:"save",payload:{typeFilterList:r,paramFilterList:i}});case 17:return e.finish(14);case 18:case"end":return e.stop()}},e,null,[[2,12,14,18]])}),fetchTemplateList:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,s=n.select,i=n.put,e.prev=2,e.next=5,s(function(e){return e[m]});case 5:return c=e.sent,c.query,o=c.pageIndex,s=c.pageSize,u=c.types,l=c.params,c=c.projectId,u={filter:{filterModel:{sortName:"createdAt",sortOrder:"DESC"}},projectId:a.projectId||c,pageIndex:a.pageIndex||o,pageSize:a.pageSize||s,query:a.query,types:a.types||u,params:a.params||l},e.next=15,r(f,u);case 15:if(l=e.sent,2e4===(u=l.data).code)return l=u.result,u=l.result,l=l.count,e.next=21,i({type:"save",payload:p()({},a,{total:l,list:u})});e.next=21;break;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(2);case 25:case"end":return e.stop()}},e,null,[[2,23]])}),fetchPreviewChart:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return e[m]});case 4:return s=e.sent,l=s.projectId,s=s.list,c=a.id,l={projectId:l,templateId:c},u=null,e.prev=10,e.next=13,r(h,l);case 13:l=e.sent,2e4===(l=l.data).code&&l.result&&(u=l.result),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.next=22,o({type:"save",payload:{list:s.map(function(e){return e.id===c&&(e.option=u),e})}});case 22:case"end":return e.stop()}},e,null,[[10,18]])})}}},75483:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Rl:()=>getOption,QC:()=>formatServerToFrontData,$C:()=>getNewPosition});var immer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87219),dashboards=function(e){var r=this;this.get=function(t){return r.data.filter(function(e){return e.id===t})[0]},this.add=function(){},this.remove=function(t){r.get(t)&&(r.data=r.data.splice(r.data.findIndex(function(e){return e.id===t}),1))},this.setOption=function(t,n,a){r.data=r.data.map(function(e){return e.id===t&&(e[n]=a),e})},this.data=JSON.parse(JSON.stringify(e))},dateGroupingType=[{title:"按天",value:"DAY"},{title:"按周",value:"WEEK"},{title:"按月",value:"MONTH"}],countType=[{title:"数量",value:"COUNT"},{title:"百分比",value:"PERCENT"}],aspectType=[{title:"一级指标",value:"ASPECT1"},{title:"二级指标",value:"ASPECT2"}],stackType={c0:["cem_cumulate-colour-new","cem_cumulate-twocolour-new","交错折线图"],c1:["cem_cumulate","cem_cumulate-col","堆叠折线图"],c2:["cem_histogram-gray","cem_histogram-colour","簇状柱形图"],c3:["cem_division","cem_division-colour","堆叠柱形图"]},tableViewList=[{title:"图形",value:"chart"},{title:"表格",value:"table"}],getStackType=function(e){var t={};return e.map(function(e){return e.value}).forEach(function(e){stackType[e]?t[e]=stackType[e]:console.error("stackType配置错误，没有value为"+e+"的项")}),t},preferList=[{rotate:"0",row:"1",length:"12"}];function setDefaultSelector(t,e){if(/^sort_/.test(t.type))return e.find(function(e){return e.id===t.type.replace("sort_","")})?e.find(function(e){return e.id===t.type.replace("sort_","")}).option:[];switch(t.type){case"dateGroupingType":return dateGroupingType;case"countType":return countType;case"aspectType":return aspectType;case"stackType":return stackType;case"prefer":return preferList;case"tableView":return tableViewList;case"labelType":return[{title:"展示图表标签",value:"boolean"==typeof t.value?t.value:t.value="false"!==t.value}];default:return console.error("selector类型配置错误"),[]}}function getSelector(widget){try{var selector;return eval(widget),selector}catch(err){console.error("图表widget配置项解析失败")}}function formatServerToFrontData(e,t){return(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(e,function(e){e.forEach(function(a){var r=t.some(function(e){return e.id===a.id})?t.filter(function(e){return e.id===a.id})[0].collect:[];a.selector=getSelector(a.widget),a.selector&&a.selector.length&&(a.selector=(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(a.selector,function(e){for(var t=e.length-1;0<=t;t--)e[t]=(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(e[t],function(t){var n=r.some(function(e){return e.id===t.id})?r.filter(function(e){return e.id===t.id})[0].value:void 0;t.collectValue=n,t.id=t.type||t.id,t.option&&t.option[0]&&(n&&t.option.some(function(e){return e.value===n})?t.value=n:t.value&&t.option.some(function(e){return e.value===t.value})?t.value=t.value:t.value=t.option[0].value),t.option=t.option&&"stackType"===t.id?getStackType(t.option):t.option})}),a.selector=(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(a.selector,function(n){n.forEach(function(e,t){!e.option&&e.type&&(n[t]=(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(e,function(t){var n=r.some(function(e){return e.id===t.id})?r.filter(function(e){return e.id===t.id})[0].value:void 0;t.collectValue=n,t.id=t.type,t.option=setDefaultSelector(t,a.selector),t.option&&t.option[0]&&(n&&t.option.some(function(e){return e.value===n})?t.value=n:t.value&&t.option.some(function(e){return e.value===t.value})?t.value=t.value:t.value=t.option[0].value)}))})}),a.selector=(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(a.selector,function(e){for(var t=e.length-1;0<=t;t--)0===e[t].option.length&&(console.warn("图表id为"+a.id+"，列表id（type）为"+e[t].id+"的配置项无列表"),e.splice(t,1))}))})})}function getOption(op){var option,source;try{eval(op)}catch(err){option="error",console.error("op解析失败，请查看op格式，"+err)}return{option:option,source:source}}function getNewPosition(e){var t=e.map(function(e){return{x:e.x+e.w,y:e.y+e.h}}),n=0,a=0;return e.length&&(n=Math.max.apply(Math,e.map(function(e){return e.y})),e=Math.max.apply(Math,e.filter(function(e){return e.y===n}).map(function(e){return e.x+e.w})),t=Math.max.apply(Math,t.map(function(e){return e.y})),a=36<e+12?(n=t,0):e),{x:a,y:n,w:12,h:10}}},3171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var t=n(67154),d=n.n(t),t=n(87757),v=n.n(t),y=n(35239),a=n(36144);function c(e){return a.h.post("/widget/data/find/EMOTION_COUNTER_BAR",d()({},e))}function f(e,t){return a.h.post(e,d()({},t))}function r(e){var t=e.reduce(function(e,t){return t?e+t.value:e},0);e.forEach(function(e){e&&(e.ratio=(e.value/t*100).toFixed(2)+"%")})}function g(e){var t=e,n=t.sort(function(e,t){return t.value-e.value});return t=60<=n.length?n.slice(0,60):(e=Math.ceil(n.length/30),[].concat(n,Array(30*e-t.length).fill(void 0))),r(t),t}var i=[{title:"粗",value:20,disabled:!1},{title:"中",value:40,disabled:!1},{title:"细",value:60,disabled:!1}];const o={namespace:"opinionChart",state:{wordCloud:!0,queryTimeType:"",count:0,average:0,json_bar:"没有数据可用",json_word:[],clusterType:i[0].value,clusterTypeOptions:i,opinion:y.t.get(y.V.curProject)&&y.t.get(y.V.curProject).submenu&&y.t.get(y.V.curProject).submenu.includes("OPINION"),currTaskId:"",reloaded:!1,refreshing:!1,allData:{20:[],40:[],60:[]},type:1,opinionTaskValid:!0,invalidReason:0,hasRecord:!1,messageTotal:0,loading:!1},effects:{getList:v().mark(function e(t,n){var a,r,i,o,s;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.next=3,o(function(e){return e.opinionChart});case 3:return s=e.sent,i=s.queryParams,e.next=7,a(c,d()({},i));case 7:if(2e4===(o=e.sent).data.code)return s=o.data.result,i=s.total,o=s.avg,s=s.list,e.next=12,r({type:"save",payload:{json_bar:s,count:i,average:o}});e.next=12;break;case 12:case"end":return e.stop()}},e)}),getWordCloudList:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,c=n.select,e.next=3,c(function(e){return e.opinionChart});case 3:if(u=e.sent,i=u.queryParams,o=u.clusterType,s=u.type,c=u.currTaskId,u=u.opinionTaskValid,i&&u)return p=4!==s?(l="/opinion/result",{projectId:i.projectId,filterModel:{taskId:c,clusterLevel:o}}):(l="/widget/data/find/OPINION_WORD",d()({},i)),e.next=13,a(f,l,p);e.next=19;break;case 13:if(2e4===(p=e.sent).data.code)return 0<(p=p.data.result||[]).length&&(p=g(p)),e.next=19,r({type:"save",payload:{json_word:p,loading:4===s}});e.next=19;break;case 19:case"end":return e.stop()}},e)}),handleOpinion:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.payload,n.call,a=n.put,d=n.select,r=u.clusterLevel,i=u.data,o=u.taskId,e.next=5,d(function(e){return e.opinionChart});case 5:if(h=e.sent,s=h.allData,c=h.currTaskId,u=h.hasRecord,l=h.type,p=h.clusterTypeOptions,d=h.refreshing,f=h.messageTotal,h=h.reloaded,o!==c||u){e.next=32;break}if(0<r)return s[r]=g(i),!d||u||h||Object.keys(s).forEach(function(e,t){p[t].disabled=0===s[e].length}),e.next=20,a({type:"save",payload:{allData:JSON.parse(JSON.stringify(s)),clusterTypeOptions:JSON.parse(JSON.stringify(p))}});e.next=27;break;case 20:if(20===r)return m=g(i),e.next=24,a({type:"save",payload:{json_word:m,loading:!1}});e.next=24;break;case 24:60===r&&(m=decodeURIComponent(window.location.search).split("?"),m[0],m=m[1],m={taskId:c,uri:m,data:JSON.parse(JSON.stringify(s))},y.t.set(y.V.opinionDetail,m)),e.next=32;break;case 27:return e.next=29,a({type:"save",payload:{refreshing:!1,clusterTypeOptions:p.map(function(e){return e.disabled=!1,e})}});case 29:if(4!==l&&5e3<f)return e.next=32,a({type:"getWordCloudList"});e.next=32;break;case 32:case"end":return e.stop()}},e)}),reset:v().mark(function e(t,n){var a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.next=3,a({type:"save",payload:{reloaded:!1,loading:!0,allData:{20:[],40:[],60:[]},json_word:[]}});case 3:case"end":return e.stop()}},e)}),resetClusterOptions:v().mark(function e(t,n){var a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.next=3,a({type:"save",payload:{clusterTypeOptions:i}});case 3:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return d()({},e,t)}}}},57585:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),a=n.n(t),t=n(87757),u=n.n(t),r=n(36144);function l(e){return r.h.post("/opinion/result/other",a()({},e))}const i={namespace:"detail",state:{msgCount:0,topChartData:{chartData:{wordAgeList:[],list:[]},sOption:{},wOption:{}}},reducers:{save:function(e,t){t=t.payload;return a()({},e,t)}},effects:{fetchWordData:u().mark(function e(a,r){var i,o,s,c;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.payload,i=r.call,o=r.put,r.select,s={wordAgeList:[],list:[]},e.prev=3,e.next=6,i(l,c);case 6:c=e.sent,2e4===(c=c.data).code&&(s=c.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,o({type:"save",payload:{topChartData:{chartData:s,sOption:(t=s,n=void 0,t=0<(n=s.wordAgeList.sort(function(e,t){return t.count-e.count}).slice(0,100).map(function(e,t,n){n=e.count/n[0].count*40;return{name:e.keyword,value:[e.age,e.count,e.keyword,n<10?10:n]}})).length?n[0].value[1].toString().length:0,{title:{text:"词龄-词频散点图",left:0,top:10},grid:{left:18*Math.ceil((t+1)/2)+20,top:"15%",bottom:"15%",right:"10%"},xAxis:{type:"value",maxInterval:864e5,axisLabel:{formatter:function(e){return 0===e?"":e.toFixed(0)+"天"}}},yAxis:{type:"value",axisLabel:{formatter:function(e){return 0===e?0:e.toFixed(0)}}},dataZoom:[{type:"slider",xAxisIndex:0,showDetail:!1,height:20,bottom:0,fiterMode:"empty"},{type:"slider",yAxisIndex:0,left:0,showDetail:!1,width:20,fiterMode:"empty"}],tooltip:{formatter:function(e){var t=e.value;e.dataIndex;return[e.marker+" "+t[2],"词龄："+t[0]+"天","词频："+t[1]].join("<br>")}},series:{type:"scatter",name:"scatterSeries",symbolSize:function(e){return e[3]},itemStyle:{normal:{color:"#1574B388"},emphasis:{color:"#1FA1F788"}},data:n}}),wOption:{title:{text:"词云图谱",left:0},tooltip:{formatter:function(e){return e.marker+" "+e.name+"："+e.data.oriValue}},series:{name:"opinionWordCloud",type:"wordCloud",shape:"circle",left:"center",top:"center",sizeRange:[12,60],gridSize:6,rotationRange:[0,0],drawOutOfBound:!1,data:s.list.sort(function(e,t){return t.count-e.count}).slice(0,100).map(function(e){return{name:e.name,value:Math.sqrt(e.total),oriValue:e.total}}),textStyle:{emphasis:{color:"#D8D8D8"}}}}}}});case 16:return e.finish(13);case 17:case"end":return e.stop()}var t,n},e,null,[[3,11,13,17]])})}}},58334:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),g=n.n(t),t=n(87757),x=n.n(t),t=n(64396),i=n(36144);function h(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.pageType,e=e.downType;return i.h.post("/scene/message/count/type/time",{projectId:t,filterModel:n,downType:e,dateFilter:a,pageType:r,chartType:"volume_count_type_time"})}function m(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.pageType,e=e.configType;return i.h.post("/scene/brandSeries/count",{projectId:t,filterModel:n,dateFilter:a,pageType:r,chartType:"volume_series_aspect_count",configType:e})}function b(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.pageType,e=e.configType;return i.h.post("/scene/relation",{projectId:t,filterModel:n,dateFilter:a,chartType:"volume_series_count",pageType:r,configType:e})}function y(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.pageType,e=e.configType;return i.h.post("/scene/brandSeries/count",{projectId:t,filterModel:n,dateFilter:a,chartType:"volume_series_aspect_count",pageType:r,configType:e})}function d(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.aspectLevel,e=e.parentAspect;return i.h.post("/scene/aspect-emotion",{projectId:t,filterModel:n,dateFilter:a,aspectLevel:r,parentAspect:e})}function T(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return i.h.post("/opinion/add",{projectId:t,filterModel:{},filterType:"OPINION_TASK",dateFilter:e,newFilterModel:n})}function u(e){var t=e.projectId,n=e.taskId,e=e.clusterLevel;return i.h.post("/opinion/result",{projectId:t,filterModel:{taskId:n,clusterLevel:e}})}function l(e){e=e.projectId;return i.h.post("/filter/config/find",{projectId:e})}function I(e){var t=e.projectId,n=e.dateFilter,e=e.filterModel;return i.h.post("/scene/message/count",{projectId:t,dateFilter:n,filterModel:e,pageType:"SCENE_INDEX",chartType:"volume_count"})}var w=n(87219),E=t.Z.drillDown.sceneAnalyze;const a={namespace:E,state:JSON.parse(JSON.stringify({c1Data:void 0,c1TimeType:"DAY",timeOpts:[],c2Data:void 0,c2AnalyzeObj:"",topicOpts:[],c3Data:void 0,c4Data:void 0,c4SelectedObjs:[],compareOpts:[],c4DefaultName:void 0,c5Data:void 0,c5Aspect1:"",c5AspectLevel:"ASPECT1",c6Data:void 0,clusterLevel:"",taskId:void 0,clusterLevelOpts:[{title:"粗",value:"20",disabled:!0},{title:"中",value:"40",disabled:!0},{title:"细",value:"60",disabled:!0}],tmpC6Data:{20:[],40:[],60:[]},wsRunning:!1,projectId:void 0,pageType:void 0,sceneName:void 0,filterModel:void 0,oriFilterModel:void 0,dateFilter:void 0,analysisModel:void 0,target:{id:void 0,name:void 0},aspectName:void 0,aspectIdKey:void 0,aspectId:void 0,topicName:void 0,topicId:void 0})),reducers:{save:function(e,t){t=t.payload;return g()({},e,t)}},effects:{fetchData:x().mark(function e(t,n){var a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"save",payload:a});case 4:return e.next=6,r({type:"fetchCompareConfig",payload:{}});case 6:return e.next=8,r({type:"fetchC1Data",payload:{}});case 8:return e.next=10,r({type:"fetchC2Data",payload:{}});case 10:return e.next=12,r({type:"fetchC3Data",payload:{}});case 12:return e.next=14,r({type:"fetchC4Data",payload:{}});case 14:return e.next=16,r({type:"fetchC5Data",payload:{}});case 16:return e.next=18,r({type:"addOpinionTask",payload:{}});case 18:case"end":return e.stop()}},e)}),fetchC1Data:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return e[E]});case 4:return d=e.sent,o=d.projectId,s=d.filterModel,f=d.dateFilter,c=d.pageType,u=d.aspectName,l=d.aspectId,p=d.c1TimeType,d="error",e.prev=13,e.next=16,r(h,{projectId:o,filterModel:s,pageType:c,downType:l,dateFilter:(0,w.ZP)(f,function(e){e.dateGroupType=a.c1TimeType||p})});case 16:f=e.sent,f=f.data,d=2e4===f.code&&f.result.length?f.result.find(function(e){return e.name===u}).data:"empty",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),console.log(e.t0);case 24:return e.prev=24,e.next=27,i({type:"save",payload:g()({c1Data:d},a)});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[13,21,24,28]])}),fetchC2Data:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return e[E]});case 4:return p=e.sent,o=p.projectId,s=p.filterModel,c=p.dateFilter,u=p.pageType,f=p.topicOpts,l=p.c2AnalyzeObj,p="error",e.prev=12,d=a.c2AnalyzeObj||l,e.next=16,r(m,{projectId:o,filterModel:s,dateFilter:c,pageType:u,configType:f.find(function(e){return e.value===d}).title});case 16:f=e.sent,f=f.data,p=2e4===f.code&&f.result.length?f.result:"empty",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),console.log(e.t0);case 24:return e.prev=24,e.next=27,i({type:"save",payload:g()({c2Data:p},a)});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[12,21,24,28]])}),fetchC3Data:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[E]});case 4:return d=e.sent,s=d.projectId,d.filterModel,c=d.dateFilter,u=d.aspectIdKey,l=d.aspectName,d.aspectId,p=d.oriFilterModel,d="error",f=0,e.prev=13,e.next=16,r(I,{projectId:s,dateFilter:c,filterModel:p});case 16:return v=e.sent,2e4===(v=v.data).code&&(f=v.result.count),e.next=21,r(b,{projectId:s,filterModel:p,dateFilter:c});case 21:v=e.sent,2e4===(h=v.data).code&&h.result.nodes.length?(m=u+":"+l,v=h.result.nodes.find(function(e){return e.key===m}),y=v?v.total:0,d=h.result.relations.reduce(function(e,t){var n,a,r,i=void 0;return t.source===m?i="target":t.target===m&&(i="source"),i&&(n=h.result.nodes.find(function(e){return e.key===t[i]}),a=0===y?0:t.total/y,r=0==(r=0===f?0:n.total/f)?0:a/r,n&&e.push(g()({},n,{relTotal:t.total,aspectCount:y,messageCount:f,trustRate:a,upRate:r}))),e},[]),console.log(d)):d="empty",e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),console.log(e.t0);case 29:return e.prev=29,e.next=32,i({type:"save",payload:g()({c3Data:d,messageCount:f},a)});case 32:return e.finish(29);case 33:case"end":return e.stop()}},e,null,[[13,26,29,33]])}),fetchC4Data:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,p=n.select,e.next=4,p(function(e){return e[E]});case 4:return f=e.sent,o=f.projectId,s=f.filterModel,c=f.dateFilter,u=f.pageType,l=f.topicId,v=f.topicName,p=f.c4SelectedObjs,d="error",h=f="",m=a.c4SelectedObjs||p,e.prev=13,e.next=16,r(y,{projectId:o,filterModel:(0,w.ZP)(s,function(e){var t=e.find(function(e){return"CONFIG"===e.id});t||e.push(t={id:"CONFIG",values:[]});e=t.values.find(function(e){return e.id===l});e||t.values.push(e={id:l,values:[]}),h=e.values[0],e.values=m}),dateFilter:c,pageType:u,configType:v});case 16:v=e.sent,2e4===(v=v.data).code&&v.result.length?(d=v.result.sort(function(e,t){return t.count-e.count}).slice(0,10),v=v.result.find(function(e){return e.id===h}),f=v?v.name:"",m=d.map(function(e){return e.id})):d="empty",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),console.log(e.t0);case 24:return e.prev=24,e.next=27,i({type:"save",payload:{c4Data:d,c4SelectedObjs:m,c4DefaultName:f}});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[13,21,24,28]])}),fetchC5Data:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return e[E]});case 4:return l=e.sent,o=l.projectId,s=l.filterModel,c=l.dateFilter,p=l.c5AspectLevel,u=l.c5Aspect1,l="error",e.prev=11,e.next=14,r(d,{projectId:o,filterModel:s,parentAspect:void 0!==a.c5Aspect1?a.c5Aspect1:u,dateFilter:c,aspectLevel:a.c5AspectLevel||p});case 14:p=e.sent,p=p.data,l=2e4===p.code&&p.result.length?p.result:"empty",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0);case 22:return e.prev=22,e.next=25,i({type:"save",payload:g()({c5Data:l},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,19,22,26]])}),addOpinionTask:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[E]});case 4:return p=e.sent,o=p.projectId,s=p.dateFilter,d=p.filterModel,c=p.clusterLevelOpts,l=void 0,p=!(u="error"),e.prev=10,e.next=13,r(T,{projectId:o,dateFilter:s,filterModel:d});case 13:if(d=e.sent,2e4!==(d=d.data).code||!d.result){e.next=25;break}if(v=d.result,f=v.messageTotal,h=v.status,m=v.id,v=v.opinionTotal,"FINISH"===h)return e.next=20,i({type:"fetchOpinionData",payload:{taskId:m,clusterLevel:"20",wsRunning:!1,clusterLevelOpts:(0,w.ZP)(c,function(e){e.forEach(function(e){e.disabled=!1})})}});e.next=23;break;case 20:return e.abrupt("return");case 23:"ENABLE"===h?(p=!0,u=1):v<20?u=2:f<50?u=3:5e5<f&&(u=4);case 24:l=m;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(10),console.log(e.t0);case 30:return e.prev=30,e.next=33,i({type:"save",payload:g()({c6Data:u,taskId:l,wsRunning:p},a)});case 33:return e.finish(30);case 34:case"end":return e.stop()}},e,null,[[10,27,30,34]])}),fetchOpinionData:x().mark(function e(t,n){var a,r,i,o,s,c;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[E]});case 4:return s=e.sent,o=s.projectId,c=s.taskId,s="error",e.prev=8,e.next=11,r(u,{projectId:o,taskId:a.taskId||c,clusterLevel:a.clusterLevel});case 11:c=e.sent,c=c.data,s=2e4===c.code&&c.result.length?c.result:"empty",e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),console.log(e.t0);case 19:return e.prev=19,e.next=22,i({type:"save",payload:g()({c6Data:s},a)});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[8,16,19,23]])}),fetchCompareConfig:x().mark(function e(t,n){var a,r,i,o,s,c;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[E]});case 4:return s=e.sent,c=s.projectId,o=s.topicName,s=[],e.prev=8,e.next=11,a(l,{projectId:c});case 11:c=e.sent,2e4===(c=c.data).code&&("品牌"===o?s=c.result.brands.map(function(e){return{title:e.name,value:e.id}}):"型号"===o&&(s=c.result.series.map(function(e){return{title:e.name,value:e.id}}))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),console.log(e.t0);case 19:return e.prev=19,e.next=22,r({type:"save",payload:{compareOpts:s}});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[8,16,19,23]])})}}},89744:(e,t,n)=>{"use strict";n.d(t,{X:()=>function(e){var t=e.map(function(e){return s(e.key)}),n=e.map(function(e){return[s(e.key),e.docCount]}),a=["日期"].concat(t),r=e[0].recent7DaysDataVOS.map(function(e){return e.key}).map(function(t){var n=[t];return e.map(function(e){e.recent7DaysDataVOS.forEach(function(e){t===e.key&&n.push(e.docCount)})}),n});return{length:e.length,datasets:[{dimensions:t,source:n},{dimensions:a,source:r}]}},R:()=>a});var t=n(67154),r=n.n(t),i=n(70715),o=n(39432);function s(e){switch(e){case"1":return"电商评论";case"8":return"客服会话";case"17":return"调查问卷"}}var a=function(t,e){var n=t.datasets,a=t.length;return{title:{text:e},grid:[{left:560,right:100,top:90,bottom:24,containLabel:!0}],dataset:n.map(function(e){return r()({},e,{sourceHeader:!1})}),tooltip:{trigger:"axis",enterable:!0,hideDelay:200,backgroundColor:"#ffffff",borderColor:"#e5e5e5",borderWidth:"1",extraCssText:"border-radius: 2px 2px 2px 0px 2px;\n      box-shadow: 0px 9px 28px 8px rgba(0,0,0,0.05), 0px 6px 16px 0px rgba(0,0,0,0.08), 0px 3px 6px -4px rgba(0,0,0,0.12)",formatter:function(e){for(var t=e[0].axisValue.replace(/-/g,"/"),n=0,a=0;a<e.length;a++)n+=e[a].data[a+1];var r=e.map(function(e){var t=e.marker,n=e.seriesName,a=e.seriesIndex,a=e.data[a];return{name:'\n            <div class="line_chart">\n              <span style="color: #8c8c8c">'+t+" "+n+'</span>\n              <span style="color: #262626;">'+(0===a?0:""+a)+"</span>\n            </div>\n            ",value:a}});return(r=r.sort(function(e,t){return t.value-e.value}).map(function(e){return e.name})).splice(0,0,'<span style="color: #8c8c8c">'+t+"</span>",'<span style="margin-right: 80px;font-weight: 600">总计</span><span style="font-weight: 500">'+n+"</span>"),r.join('<p style="height: 16px"></p>')}},legend:{top:60,left:30,right:40,itemWidth:12,itemHeight:12,type:"scroll",icon:"circle"},xAxis:{type:"category",boundaryGap:!1,axisLabel:{color:"#8c8c8c",margin:16,formatter:function(e){return t&&t.length?(0,o.Sn)("DAY",e):e}},axisPointer:{type:"line",label:{show:!1}}},yAxis:{minInterval:1,axisLine:{show:!1},axisLabel:{color:"#8c8c8c",showMinLabel:!1,formatter:function(e){return(0,o.fy)(e)}},splitLine:{show:!0,lineStyle:{type:"dashed"}}},series:[{type:"pie",smooth:!0,datasetIndex:0,hoverOffset:0,center:[220,"58%"],radius:["50%","150"],width:524,itemStyle:{smooth:!0,normal:{borderWidth:0,borderColor:"#fff",smooth:!0},emphasis:{borderWidth:0,shadowBlur:0,shadowOffsetX:0}},tooltip:{trigger:"item",formatter:function(e){var t=e.marker,n=e.data,a=n.value;return t+' <span style="margin-right: 36px;color: #8c8c8c">'+n.name+'</span><span style="font-weight: 500">'+a+" ("+e.percent+"%)</span>"}},data:n[0].source.map(function(e){return{value:e[1],name:e[0],label:{show:!1},labelLine:{show:!1},emphasis:{label:{show:!1},labelLine:{show:!1}}}})}].concat(Array.from({length:a}).map(function(e,t){return{type:"line",symbol:"emptyCircle",showSymbol:!1,datasetIndex:1,areaStyle:{opacity:.1},axisLabel:{show:!0,color:"#626262",formatter:function(e){return(0,o.hE)(e)}},itemStyle:{color:i.ad[t]}}}))}}},19706:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),l=n.n(t),t=n(87757),p=n.n(t),r=n(36144);function d(e){var t=e.pageIndex,n=e.pageSize,a=e.projectId,e=e.searchKeyWord;return r.h.post("/filter/pageFilter",{pageIndex:t,pageSize:n,projectId:a,searchKeyWord:e})}function s(e){return r.h.post("/filter/delete",{id:e})}var f=n(64396).Z.explore.savaFilter,a={projectId:"",filterData:void 0,modalShow:!1,id:void 0,pageIndex:1,pageSize:10};const i={namespace:f,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return l()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchSaveFilter:p().mark(function e(t,n){var a,r,i,o,s,c,u;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return l()({},e)[f]});case 4:return c=e.sent,o=c.projectId,s=c.pageIndex,u=c.pageSize,c=null,e.prev=9,e.next=12,r(d,{projectId:o,pageIndex:s,pageSize:u});case 12:u=e.sent,2e4===(u=u.data).code&&(c=u.result.result&&0!==u.result.result.length?u.result:"empty"),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"save",payload:l()({},a,{filterData:c})});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),deleteUrl:p().mark(function e(t,n){var a,r,i,o;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return l()({},e)[f]});case 3:return o=e.sent,o=o.target.id,e.next=7,a(s,o);case 7:if(o=e.sent,2e4===o.data.code)return e.next=12,r({type:"save",payload:{modalShow:!1}});e.next=14;break;case 12:return e.next=14,r({type:"fetchSaveFilter"});case 14:case"end":return e.stop()}},e)})}}},31155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),l=n.n(t),t=n(87757),p=n.n(t),r=n(36144);function d(e){var t=e.pageIndex,n=e.pageSize,a=e.projectId,e=e.searchKeyWord;return r.h.post("/freeExploring/index/searchRecord/list",{pageIndex:t,pageSize:n,projectId:a,searchKeyWord:e})}function s(e){e=e.recordId;return r.h.post("/freeExploring/index/searchRecord/delete",{recordId:e})}var t=n(64396),f=(n(35239),t.Z.explore.savaResult),a={projectId:"",filterData:void 0,modalShow:!1,id:void 0,pageIndex:0,pageSize:10};const i={namespace:f,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return l()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchSaveFilter:p().mark(function e(t,n){var a,r,i,o,s,c,u;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return l()({},e)[f]});case 4:return s=e.sent,c=s.projectId,o=s.pageIndex,u=s.pageSize,s=c||a,c=null,e.prev=10,e.next=13,r(d,{projectId:s,pageIndex:o,pageSize:u});case 13:u=e.sent,2e4===(u=u.data).code&&(c=u.result.result&&0!==u.result.result.length?u.result:"empty"),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:l()({},a,{filterData:c})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),deleteUrl:p().mark(function e(t,n){var a,r,i,o;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return l()({},e)[f]});case 3:return o=e.sent,o=o.target.id,e.next=7,a(s,{recordId:o});case 7:if(o=e.sent,2e4===o.data.code)return e.next=12,r({type:"save",payload:{modalShow:!1}});e.next=14;break;case 12:return e.next=14,r({type:"fetchSaveFilter"});case 14:case"end":return e.stop()}},e)})}}},73630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),u=n.n(t),t=n(87757),l=n.n(t),a=n(36144);function p(e){e=e.projectId;return a.h.post("/freeExploring/index/findRecent7DaysData?projectId="+e)}function s(){return a.h.get("/freeExploring/index/findTouchSpotByAccountId")}var t=n(64396),d=n(89744),f=t.Z.freedom,r={projectId:void 0,pieLineData:void 0,touchData:void 0};const i={namespace:f,state:Object.assign({},r),reducers:{save:function(e,t){t=t.payload;return u()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},r)}},effects:{fetch7DaysAllData:l().mark(function e(t,n){var a,r,i,o,s,c;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return u()({},e)[f]});case 4:return s=e.sent,c=s.projectId,s=null,e.prev=7,e.next=10,r(p,{projectId:a.projectId||c});case 10:c=e.sent,2e4===(c=c.data).code&&(s=0===c.result.length?"empty":(0,d.X)(c.result)),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,i({type:"save",payload:u()({},a,{pieLineData:s})});case 20:return e.finish(17);case 21:case"end":return e.stop()}},e,null,[[7,15,17,21]])}),findTouchSpotByAccountId:l().mark(function e(t,n){var a,r,i,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,r=n.put,n.select,i=null,e.prev=3,e.next=6,o(s);case 6:o=e.sent,2e4===(o=o.data).code&&(i=0===o.result.length?"empty":o.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,r({type:"save",payload:u()({},a,{touchData:i})});case 16:return e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,11,13,17]])})}}},16235:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),t=n(48926),a=n.n(t),i=n(36144);function d(e){return i.h.post("/freeExploring/index/dataChart/find",e)}function v(e){return i.h.post("/freeExploring/index/wordCloud/find",e)}function y(e){return r.apply(this,arguments)}function r(){return(r=a()(m().mark(function e(t){var n,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.key,e.abrupt("return",i.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return o.apply(this,arguments)}function o(){return(o=a()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.key,e.abrupt("return",i.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(e){return c.apply(this,arguments)}function c(){return(c=a()(m().mark(function e(t){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.h.post("/freeExploring/index/searchRecord/detail/find",{recordId:t}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(){return i.h.get("/freeExploring/index/findTouchSpotByAccountId")}var t=n(64396),g=n(97194),t=t.Z.explore.result,l={key:"FREE_EXPLORE_DEFAULT_FILTER",projectId:void 0,filterValue:{},filterValues:[],comparisonItems:[],selectValue:"",recordId:void 0,filterId:void 0,labelType:"no",labelTypeFlavor:"",timeType:void 0,timeTypeFlavor:"",timeOptions:[],wordCloudFlavor:[],chartData:void 0,allWordCloudList:[],expandParam:"",recordName:"",wordCloudTotal:void 0};const f={namespace:t,state:JSON.parse(JSON.stringify(l)),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},l)},saveChartData:function(e,t){t=t.payload;return e.chartData=t.chartData,h()({},e)},distributeData:function(e,t){var n=t.payload,a=e.allWordCloudList,r=(e.recordName,["#7262FD","#5B8FF9","#78D3F8","#60DDA9"]),i=n.result,o=i.exploreFilterModel,s=i.wordCountResult,c=i.trendResult,u=i.expandParam,l=i.name,p=o.comparisonItems,t=o.dateFilter,n=o.headerFilterParamsNew,i=o.messageCategory,o=o.wordCountConfigs;s.forEach(function(e){e.data&&e.data.length?a.push({data:e.data}):a.push({data:"empty"})}),o.forEach(function(e,t){a[t].enablePos=e.enablePos,a[t].topN=e.topN,a[t].modal=e.modal,a[t].wordCloudModal=e.wordCloudModal,a[t].wordCloudTotal=e.wordCloudTotal}),p.map(function(e,t){return e.color=r[t]});var d=l,u=JSON.parse(u);return h()({},e,{comparisonItems:p,chartData:c||"empty",dateFilter:t,headerFilterParamsNew:n,filterValue:{headerFilterParamsNew:n,dateFilter:t},selectValue:i,allWordCloudList:a,expandParam:u,timeType:u.dateFilter.dateGroupType,recordName:d})},saveTimeOptions:function(e,t){var n=t.payload,t=(0,g.f)(n.numOfDays,!0),n=t.dateOptions,t=t.defaultDateType;return e.timeOptions=n,e.timeType=t,h()({},e)}},effects:{fetchDefaultValue:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return e.exploreResult});case 3:return p=e.sent,l=p.projectId,f=p.key,c=p.filterValue,o=p.allWordCloudList,u=(0,g.f)(c.dateFilter.numOfDays||30,!0),s=u.dateOptions,p=u.defaultDateType,c=p||"DAY",u="no",e.prev=11,e.next=14,a(y,{projectId:l,key:f});case 14:if(p=e.sent,l=p.data,f=JSON.parse(l.result),2e4===l.code&&l.result)return p=f.labelTypeFlavor,l=void 0===p?"":p,p=f.timeTypeFlavor,d=void 0===p?"":p,f=f.wordCloudFlavor,f=void 0===f?[]:f,d&&s.some(function(e){return e.value===d})&&(c=d),l&&(u=l),f&&f.length&&(f[0]?o[0]=h()({data:void 0,enablePos:!1},f[0],{topN:f[0].topN||"50",modal:f[0].modal||"0",wordCloudModal:f[0].wordCloudModal||"0"}):o[0]={data:void 0,topN:"50",modal:"0",wordCloudModal:"0",enablePos:!1}),e.next=24,r({type:"save",payload:{labelTypeFlavor:l,timeTypeFlavor:d,wordCloudFlavor:f,allWordCloudList:o}});e.next=24;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(11),console.log(e.t0);case 29:return e.prev=29,e.next=32,r({type:"save",payload:{labelType:u,timeOptions:s,timeType:c,allWordCloudList:o}});case 32:return e.finish(29);case 33:case"end":return e.stop()}},e,null,[[11,26,29,33]])}),setDefaultValue:m().mark(function e(t,n){var a,r,i,o,s,c,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,c=n.select,i=n.put,e.next=4,c(function(e){return e.exploreResult});case 4:return u=e.sent,o=u.projectId,l=u.key,s=u.labelTypeFlavor,c=u.timeTypeFlavor,u=u.wordCloudFlavor,u={labelTypeFlavor:a&&void 0!==a.labelTypeFlavor?a.labelTypeFlavor:s,timeTypeFlavor:void 0!==a.timeTypeFlavor?a.timeTypeFlavor:c,wordCloudFlavor:a&&a.wordCloudFlavor||u},e.next=13,r(p,{projectId:o,key:l,value:JSON.stringify(u)});case 13:if(l=e.sent,2e4===l.data.code)return e.next=18,i({type:"save",payload:h()({},u)});e.next=18;break;case 18:case"end":return e.stop()}},e)}),fetchBarOrLineData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,u=n.select,i="error",o=[],e.prev=3,e.next=6,u(function(e){return e.exploreResult});case 6:return l=e.sent,s=l.comparisonItems,c=l.timeType,u=l.projectId,p=l.filterValue,l=l.selectValue,s.forEach(function(e){o.push({name:e.name,keywords:e.keywords})}),p=h()({comparisonItems:o,enablePos:!1,messageCategory:l,wordCountConfigs:[],projectId:u},p,{dateFilter:h()({},p.dateFilter)}),c&&(p.dateFilter.dateGroupType=c),e.next=17,a(d,p);case 17:p=e.sent,p=p.data,i=2e4===p.code&&0<p.result.length?p.result:"empty",e.next=24;break;case 22:e.prev=22,e.t0=e.catch(3);case 24:return e.prev=24,e.next=27,r({type:"save",payload:{chartData:i}});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[3,22,24,28]])}),fetchWordCloud:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,p=n.select,e.next=4,p(function(e){return e.exploreResult});case 4:return d=e.sent,o=d.comparisonItems,s=d.projectId,c=d.selectValue,u=d.filterValue,l=d.allWordCloudList,p=d.wordCloudFlavor,d=a.index,l[d]||(p[d]?l[d]=h()({data:void 0,enablePos:!1},p[d],{topN:p[d].topN||"50",modal:p[d].modal||"0",wordCloudModal:p[d].modal||"0"}):(l[d]={data:void 0,enablePos:!1,topN:"50",modal:"0",wordCloudModal:"0"},p[d]={enablePos:void 0,topN:void 0,modal:void 0,wordCloudModal:void 0})),e.next=15,i({type:"save",payload:{fetchingIndex:d,allWordCloudList:JSON.parse(JSON.stringify(l)),wordCloudFlavor:p}});case 15:return f=h()({projectId:s},u,{messageCategory:c,comparisonItems:[o[d]],topSize:100,enablePos:l[d].enablePos}),e.prev=16,e.next=19,r(v,f);case 19:f=e.sent,2e4===(f=f.data).code&&f.result?(l[d].data=f.result.length?f.result.slice(0,l[d].topN):"empty",l[d].wordCloudTotal=f.result.reduce(function(e,t){return e+t.total},0)):l[d].data="error",e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),l[d].data="error";case 27:return e.prev=27,e.next=30,i({type:"save",payload:{allWordCloudList:JSON.parse(JSON.stringify(l)),fetchingIndex:null}});case 30:return e.finish(27);case 31:case"end":return e.stop()}},e,null,[[16,24,27,31]])}),exploreResultDetail:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,n.select,e.prev=2,e.next=5,a(s,i.recordId);case 5:if(i=e.sent,2e4===(i=i.data).code)return e.next=10,r({type:"distributeData",payload:{result:i.result}});e.next=10;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("error:",e.t0);case 15:case"end":return e.stop()}},e,null,[[2,12]])}),findTouchSpotByAccountId:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,i=n.call,a=n.put,n.select,r=null,e.prev=3,e.next=6,i(u);case 6:i=e.sent,2e4===(i=i.data).code&&(r=i.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,a({type:"save",payload:{touchData:r}});case 16:return e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,11,13,17]])})}}},4270:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});function d(e){return a.h.post("/scene/aspect/count/time",e)}function f(e){return a.h.post("/scene/scene/new_advice/find",e)}function p(e){return a.h.post("/scene/export",e)}var t=n(37316),l=n.n(t),t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),a=n(36144),v=n(40845),t=n(64396),y=n(87219),g=t.Z.explore.scene.advice,r={dateOptions:[],defaultDateType:void 0,trendData:void 0,timeType:"DAY",fTimeType:"",projectId:void 0,analysisModel:void 0,filterModel:void 0,filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:"SCENE_MY_ADVICE",hotAdviceData:void 0,newAdviceData:void 0};const i={namespace:g,state:JSON.parse(JSON.stringify(r)),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},r)}},effects:{fetchParams:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return h()({},e)[g]});case 4:if(c=e.sent,o=c.filterModel,f=c.dateFilter,s=c.pageType,c=c.fTimeType,JSON.stringify(o)===JSON.stringify(a.filterModel)&&JSON.stringify(f)===JSON.stringify(a.dateFilter))return e.abrupt("return");e.next=11;break;case 11:return u={fTimeType:c},l={timeType:c||a.defaultDateType},e.next=15,r(v.o,{projectId:a.projectId,key:s});case 15:if(f=e.sent,2e4===(f=f.data).code&&f.result)try{p=JSON.parse(f.result),Object.keys(p).forEach(function(e){u[e]=p[e]}),d=Object.keys(l),Object.keys(u).forEach(function(e,t){u[e]&&(l[d[t]]=u[e])})}catch(e){}return["timeType"].forEach(function(t){a.dateOptions.find(function(e){return e.value===l[t]})||(l[t]=a.defaultDateType)}),f=h()({},a,l,u),e.next=22,i({type:"fetchDatas",payload:f});case 22:case"end":return e.stop()}},e)}),fetchDatas:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchTrendData",payload:a});case 4:return e.next=6,r({type:"fetchNewMessage",payload:a});case 6:return e.next=8,r({type:"fetchHotMessage",payload:a});case 8:case"end":return e.stop()}},e)}),fetchTrendData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return h()({},e)[g]});case 4:return u=e.sent,o=u.projectId,s=u.headerFilterParamsNew,l=u.dateFilter,p=u.pageType,c=u.timeType,u="error",e.prev=11,l=(0,y.ZP)(a.dateFilter||l,function(e){e.dateGroupType=a.timeType||c}),e.next=15,r(d,{projectId:a.projectId||o,dateFilter:l,headerFilterParamsNew:a.headerFilterParamsNew||s,filterModel:[],pageType:p,chartType:"scene_aspect_count_time"});case 15:p=e.sent,p=p.data,u=2e4===p.code?p.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:return e.prev=22,e.next=25,i({type:"save",payload:h()({trendData:u},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,20,22,26]])}),setDefaultValue:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return h()({},e)[g]});case 4:return u=e.sent,o=u.projectId,s=u.pageType,c=l()(u,["projectId","pageType"]),u=["fTimeType"].reduce(function(e,t){return e[t]=(void 0!==a[t]?a:c)[t],e},{}),e.prev=9,e.next=12,r(v.s,{projectId:a.projectId||o,key:s,value:JSON.stringify(u)});case 12:if(u=e.sent,2e4===u.data.code)return e.next=17,i({type:"save",payload:h()({},a)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])}),fetchNewMessage:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return h()({},e)[g]});case 4:return o=e.sent,s=o.projectId,c=o.headerFilterParamsNew,l=o.dateFilter,p=o.pageType,u=o.timeType,l=(0,y.ZP)(a.dateFilter||l,function(e){null!=e&&e.dateGroupType&&(e.dateGroupType=a.timeType||u)}),e.next=13,r(f,{projectId:a.projectId||s,dateFilter:l,headerFilterParamsNew:a.headerFilterParamsNew||c,filterModel:[],pageType:p,chartType:"scene_aspect_advice_new_count",keyword:a.keywords||"",pageIndex:a.page||1,pageSize:a.pageSize||10,orderByTime:"cTimeMin"});case 13:if(p=e.sent,2e4===(p=p.data).code)return e.next=18,i({type:"save",payload:h()({},a,{newAdviceData:p.result})});e.next=18;break;case 18:case"end":return e.stop()}},e)}),fetchHotMessage:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return h()({},e)[g]});case 4:return o=e.sent,s=o.projectId,c=o.headerFilterParamsNew,l=o.dateFilter,p=o.pageType,u=o.timeType,l=(0,y.ZP)(a.dateFilter||l,function(e){null!=e&&e.dateGroupType&&(e.dateGroupType=a.timeType||u)}),e.next=13,r(f,{projectId:a.projectId||s,dateFilter:l,headerFilterParamsNew:a.headerFilterParamsNew||c,filterModel:[],pageType:p,chartType:"scene_aspect_advice_new_count",keyword:a.keywords||"",pageIndex:a.page||1,pageSize:a.pageSize||10,orderByTime:""});case 13:if(p=e.sent,2e4===(p=p.data).code)return e.next=18,i({type:"save",payload:h()({},a,{hotAdviceData:p.result})});e.next=18;break;case 18:case"end":return e.stop()}},e)}),fetchExport:m().mark(function e(t,n){var a,r,i,o,s,c,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.put,c=n.select,e.next=4,c(function(e){return h()({},e)[g]});case 4:return i=e.sent,o=i.projectId,l=i.headerFilterParamsNew,c=i.dateFilter,u=i.pageType,s=i.timeType,c=(0,y.ZP)(a.dateFilter||c,function(e){null!=e&&e.dateGroupType&&(e.dateGroupType=a.timeType||s)}),e.next=13,r(p,{projectId:a.projectId||o,dateFilter:c,headerFilterParamsNew:a.headerFilterParamsNew||l,filterModel:[],pageType:u,chartType:a.chartType,keyword:a.keywords||""});case 13:l=e.sent,2e4===(u=l.data).code&&((l=document.createElement("a")).href=u.result,l.click());case 16:case"end":return e.stop()}},e)})}}},81236:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(37316),l=n.n(t),t=n(67154),y=n.n(t),t=n(87757),g=n.n(t),t=n(64396),x=n(87219),v=n(40845),s=n(36144);n(25365);function b(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,r=e.filterModel,i=e.pageType,o=e.configType,e=e.analysisModel;return s.h.post("/scene/competing-analysis",{projectId:t,dateFilter:n,headerFilterParamsNew:a,filterModel:r,pageType:i,configType:o,analysisModel:e})}var T=t.Z.explore.scene.competingAnalysis,a={sceneBarData:void 0,dateOptions:[],defaultDateType:void 0,singleSceneBarData:void 0,singleSceneType:"",singleTopType:"",fSingleSceneType:"",fSingleTopType:"",sceneType:"",timeType:"DAY",fTimeType:"",sceneBarLineData:void 0,projectId:void 0,analysisModel:void 0,filterModel:[],filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:"SCENE_COMPETING_ANALYSIS"};const r={namespace:T,state:JSON.parse(JSON.stringify(a)),reducers:{save:function(e,t){t=t.payload;return y()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchParams:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return y()({},e)[T]});case 4:if(l=e.sent,o=l.filterModel,m=l.dateFilter,s=l.pageType,c=l.fTimeType,u=l.fSingleSceneType,l=l.fSingleTopType,JSON.stringify(o)===JSON.stringify(a.filterModel)&&JSON.stringify(m)===JSON.stringify(a.dateFilter))return e.abrupt("return");e.next=13;break;case 13:return p={fTimeType:c,fSingleSceneType:u,fSingleTopType:l},d={timeType:c||a.defaultDateType,singleSceneType:u||"性别",singleTopType:l||"top10"},e.next=17,r(v.o,{projectId:a.projectId,key:s});case 17:if(m=e.sent,2e4===(m=m.data).code&&m.result)try{f=JSON.parse(m.result),Object.keys(f).forEach(function(e){p[e]=f[e]}),h=Object.keys(d),Object.keys(p).forEach(function(e,t){p[e]&&(d[h[t]]=p[e])})}catch(e){}return["timeType"].forEach(function(t){a.dateOptions.find(function(e){return e.value===d[t]})||(d[t]=a.defaultDateType)}),m=y()({},a,d,p),e.next=24,i({type:"fetchDatas",payload:m});case 24:case"end":return e.stop()}},e)}),fetchDatas:g().mark(function e(t,n){var a,r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchSceneData",payload:a});case 4:case"end":return e.stop()}},e)}),fetchSceneData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,h=n.select,e.next=4,h(function(e){return y()({},e)[T]});case 4:return m=e.sent,o=m.projectId,s=m.headerFilterParamsNew,c=m.dateFilter,u=m.pageType,v=m.analysisModel,l=m.fTimeType,p="error",d="",f=a.dateOptions,h=a.timeType,m=f&&f.find(function(e){return e.value===l}),d=f&&m?l:h,e.prev=16,v={projectId:a.projectId||o,dateFilter:(0,x.ZP)(a.dateFilter||c,function(e){e.dateGroupType=d}),filterModel:[],headerFilterParamsNew:a.headerFilterParamsNew||s,pageType:u,analysisModel:a.analysisModel||v,configType:(a.analysisModel||v)[0].values[0].label},e.next=20,r(b,v);case 20:v=e.sent,v=v.data,p=!(2e4===v.code&&0<v.result.length)||v.result.every(function(e){return 0===e.total})?"empty":v.result,e.next=28;break;case 25:e.prev=25,e.t0=e.catch(16),console.log(e.t0);case 28:return e.prev=28,delete a.timeType,e.next=32,i({type:"save",payload:y()({},a,{singleSceneBarData:p,sceneBarData:p,sceneBarLineData:p,timeType:d})});case 32:return e.finish(28);case 33:case"end":return e.stop()}},e,null,[[16,25,28,33]])}),fetchSceneLabelData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,h=n.select,e.next=4,h(function(e){return y()({},e)[T]});case 4:return m=e.sent,o=m.projectId,s=m.headerFilterParamsNew,c=m.dateFilter,u=m.pageType,v=m.analysisModel,l=m.fTimeType,p="error",d="",f=a.dateOptions,h=a.timeType,m=f&&f.find(function(e){return e.value===l}),d=f&&m?l:h,e.prev=16,v={projectId:a.projectId||o,dateFilter:(0,x.ZP)(a.dateFilter||c,function(e){e.dateGroupType=d}),filterModel:[],headerFilterParamsNew:a.headerFilterParamsNew||s,pageType:u,analysisModel:a.analysisModel||v,configType:(a.analysisModel||v)[0].values[0].label},e.next=20,r(b,v);case 20:v=e.sent,v=v.data,p=!(2e4===v.code&&0<v.result.length)||v.result.every(function(e){return 0===e.total})?"empty":v.result,e.next=28;break;case 25:e.prev=25,e.t0=e.catch(16),console.log(e.t0);case 28:return e.prev=28,delete a.timeType,e.next=32,i({type:"save",payload:y()({},a,{sceneBarLineData:p,timeType:d})});case 32:return e.finish(28);case 33:case"end":return e.stop()}},e,null,[[16,25,28,33]])}),setDefaultValue:g().mark(function e(t,n){var a,r,i,o,s,c,u;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return y()({},e)[T]});case 4:return u=e.sent,o=u.projectId,s=u.pageType,c=l()(u,["projectId","pageType"]),u=["fTimeType","fSingleSceneType","fSingleTopType"].reduce(function(e,t){return e[t]=(void 0!==a[t]?a:c)[t],e},{}),e.prev=9,e.next=12,r(v.s,{projectId:a.projectId||o,key:s,value:JSON.stringify(u)});case 12:if(u=e.sent,2e4===u.data.code)return e.next=17,i({type:"save",payload:y()({},a)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])})}}},49447:(e,t,n)=>{"use strict";n.d(t,{M:()=>k,Z:()=>p});n(43378);var f=n(62443),a=n(67154),h=n.n(a),t=n(85354),r=n.n(t),a=n(67294),m=n.n(a),v=n(70715),y=n(87300),g=n(39432),i={force:["注：","数值越大，节点越大，也越居于中心位置","关联的节点越多，越居于中心位置","关联关系越大，连线越粗，与相关节点也越近"],circular:["注：","数值越大，节点越大","关联关系越大，连线越粗"]},x={positive:"正面消息",total:"标签数量",negative:"负面消息"},t=function(a){function e(){for(var f,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(f=a.call.apply(a,[this].concat(t))||this).chartRef=void 0,f.chartData={categories:[],links:[],data:[]},f.getChartRef=function(e){f.chartRef=e},f.setValue=function(e,t,i,n){var o=e.nodes,a=e.relations,r=a.map(function(e){return"posRate"===t?e.positive:"negRate"===t?e.negative:e[t]}),s=Math.max.apply(null,r),c=Math.min.apply(null,r),e=a.reduce(function(e,t,n){var a=r[n];return a&&(n=s===c?1:(a-c)/(s-c)*39+1,e.push(h()({},t,{value:a,lineStyle:{width:1},emphasis:{lineStyle:{width:n}}}))),e},[]),u=o.map(function(e){return"posRate"===t?e.positive/e.total:"negRate"===t?e.negative/e.total:e[t]}),l=o.reduce(function(e,t){t=t.sceneName;return e.includes(t)||e.push(t),e},[]),p=Math.max.apply(null,u),d=Math.min.apply(null,u),a=o.reduce(function(e,t,n){var a=u[n],r=p===d?10:(a-d)/(p-d)*(Number(i)-10)+10;return e[l.indexOf(t.sceneName)].push({value:a,id:t.key,name:t.name,data:{total:t.total,positive:t.positive,negative:t.negative,posRate:t.positive/t.total,negRate:t.negative/t.total},category:t.sceneName,symbolSize:r,itemStyle:{color:v.OW[l.indexOf(t.sceneName)]},label:{show:!0,fontSize:10,color:"#262626"}}),n===o.length-1?e.reduce(function(t,e){return e.sort(function(e,t){return t.value-e.value}).forEach(function(e){t.push(e)}),t},[]):e},l.map(function(){return[]}));f.chartData={links:e,data:n?a:a.filter(function(e){return e.value}),categories:l}},f.getOption=function(e,l,p,t){var n=f.chartData,d=n.data,a=n.links,n=n.categories;return{title:{text:l},tooltip:{showDelay:200,hideDelay:0,enterable:!0,confine:!0,padding:0,backgroundColor:"#ffffff",borderColor:"#e5e5e5",borderWidth:"1",extraCssText:"border-radius: 2px;\n        box-shadow: 0px 9px 28px 8px rgba(0,0,0,0.05), 0px 6px 16px 0px rgba(0,0,0,0.08), 0px 3px 6px -4px rgba(0,0,0,0.12)",triggerOn:"click",position:function(e,t,n,a,r){var i=r.contentSize,o=r.viewSize,r=e[0]<o[0]/2?0:-1,o=e[1]<o[1]/2?-.5:-1;return[e[0]+r*i[0]+(r?-10:10),e[1]+o*i[1]]},formatter:function(s,c,u){if(s)return setTimeout(function(){var e,t,n,a,r=s.dataType,i=s.data,o=s.marker;"node"!==r?((a=i.source.split(":"))[0],e=a[1],(n=i.target.split(":"))[0],t=n[1],r=d.find(function(e){return e.id===i.source}),a=d.find(function(e){return e.id===i.target}),n="posRate"===p?"positive":"negRate"===p?"negative":p,r=r?r.data[n]:0,a=a?a.data[n]:0,a=[x[n]+"："+i[n],"占「"+e+"」比例："+(r&&i[n]?(i[n]/r*100).toFixed(2):"0.00")+"%","占「"+t+"」比例："+(a&&i[n]?(i[n]/a*100).toFixed(2):"0.00")+"%"].join("</br>"),u(c,(0,y.r)(o+"连线："+e+" - "+t,[a],[{title:"消息",icon:"icon-cem_jump-message",callback:function(){return f._handleOnJumpMsg(s,l,p)}}],"yt_new_tooltip_wrapper"))):(a=i.data,a=["<div style='display: flex;justify-content: space-between;align-items: center;color: #8c8c8c;'><div><span style='vertical-align: bottom'></span>标签数量</div><div style='color: #262626;margin-left: 10px;'>\n                  "+(0,g.hE)(a.total)+"\n                </div></div>"].join("</br>"),u(c,(0,y.r)(o+"节点："+i.name,[a],[{title:"消息",icon:"icon-cem_jump-message",callback:function(){return f._handleOnJumpMsg(s,l,p)}}],"yt_new_tooltip_wrapper")))})}},legend:{data:n,left:40,top:50,icon:"circle",type:"scroll",itemWidth:10,itemHeight:10,itemGap:16},graphic:{type:"group",silent:!0,left:20,bottom:16,children:i[e].map(function(e,t){return{type:"text",style:{text:e,fill:"#8C8C8C",font:'12px "Microsoft YaHei", sans-serif',y:20*t}}})},series:[{type:"graph",layout:e,roam:!0,draggable:!0,circular:{rotateLabel:!0},zoom:.75,force:{initLayout:"circular",repulsion:Number(t.repulsion),gravity:Number(t.gravity),edgeLength:[50,100],friction:.1},data:d,links:a,categories:n.map(function(e){return{name:e}}),focusNodeAdjacency:!0,itemStyle:{borderColor:"#fff",borderWidth:0,shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.1)"},label:{position:"right",formatter:"{b}"},lineStyle:{curveness:"circular"===e?.3:0,opacity:.3},emphasis:{lineStyle:{width:10}}}]}},f}r()(e,a);var t=e.prototype;return t.renderChart=function(e,t,n,a,r,i){this.setValue(e,a,r.maxRadius,i),this.changeChartType(n,t,a,r)},t.changeChartType=function(e,t,n,a){a=this.getOption(e,t,n,a);this.chartRef.clear(),this.chartRef.setOption(a)},e}(m().PureComponent),b=n(8201),T=n(98191),I=n(50976),o=n(92360),w=n(60496),u=n(94644),a=n(45697),a=n.n(a),s=(n(33798),n(43036)),c=n(61409),l={maxRadius:0,repulsion:0,gravity:0,callback:void 0,visible:!1,maxRadiusTest:!0,repulsionTest:!0,gravityTest:!0};const E=function(t){function e(e){var s=t.call(this,e)||this;return s._handleOnConfirm=function(){var e=s.state,t=e.callback,n=e.maxRadius,a=e.repulsion,r=e.gravity,i=e.maxRadiusTest,o=e.repulsionTest,e=e.gravityTest;i&&o&&e&&(t&&t({maxRadius:n,repulsion:a,gravity:r}),s._handleOnCancel())},s._handleOnCancel=function(){s.setState(JSON.parse(JSON.stringify(l)))},s._handleOnChange=function(e,t){var n,a=!!Number(t);a&&("maxRadius"===e&&(t<10||100<t||!/^[1-9]\d*$/.test(t))&&(a=!1),"repulsion"===e&&(t<50||1e3<t||!/^[1-9]\d*$/.test(t))&&(a=!1),"gravity"===e&&(t<.01||1<t||4<String(t).length)&&(a=!1)),s.setState(((n={})[e+"Test"]=a,n[e]=t,n))},s.state=JSON.parse(JSON.stringify(l)),s}r()(e,t);var n=e.prototype;return n.show=function(e){this.setState(h()({visible:!0},e))},n.render=function(){var t=this,e=this.state,n=e.visible,a=e.maxRadiusTest,r=(e.repulsionTest,e.gravityTest,e.maxRadius);e.repulsion,e.gravity;return m().createElement(o.Dialog,{title:m().createElement("span",{style:{display:"inline-flex",alignItems:"center"}},"图表配置",m().createElement(s.Z,{placement:"top",overlay:m().createElement(c.rU,{className:"yt-new-feedback-read-more",to:"https://www.yuque.com/docs/share/65dc5ff0-5e47-4687-a25f-d4bcbb36d97e?# 《关联关系分析的图使用说明》",target:"_blank"},"查看图表配置说明")},m().createElement("i",{className:"icon-cem_file1",style:{color:"#8C8C8C",marginLeft:4,fontSize:12}}))),className:"yt_graph_chart_config_wrapper",size:"tiny",visible:n,onCancel:this._handleOnCancel},m().createElement(o.Dialog.Body,null,m().createElement("div",{className:"item"},m().createElement("span",null,"半径因子"),m().createElement("div",null,m().createElement(o.Input,{value:r,onChange:function(e){return t._handleOnChange("maxRadius",e)},type:""}),m().createElement("div",{className:"tips",style:{visibility:a?"hidden":"visible"}},"请输入10~100之间的整数")))),m().createElement(o.Dialog.Footer,null,m().createElement(o.Button,{type:"default",onClick:this._handleOnCancel},"取消"),m().createElement(o.Button,{type:"primary",onClick:this._handleOnConfirm},"确定")))},e}(m().PureComponent);var k=[{title:"标签数量",value:"total"},{title:"消息好评率",value:"posRate"},{title:"消息差评率",value:"negRate"},{title:"正面消息",value:"positive"},{title:"负面消息",value:"negative"}],C=[{title:"图表配置",type:"config"}],d={positive:"正面消息",total:"标签数量",negative:"负面消息"},n=function(s){function e(e){var p=s.call(this,e)||this;return p._handleOnJumpMsg=function(e,t,n){p.props.onMsgClick(e,t,n)},p._handleOnJumpAnalyze=function(e,t){p.props.onClick(e,t,"analyze")},p._handleOnMouseOverOut=function(e){var t,n,a,r=e.componentSubType,i=e.dataType,o=e.type,s=e.data,c=p.props.dataType,u=p.chartData.data,l=Object.keys(c)[0];"graph"===r&&(a=[],"edge"===i&&((n=s.source.split(":"))[0],t=n[1],(r=s.target.split(":"))[0],n=r[1],r=u.find(function(e){return e.id===s.source}),u=u.find(function(e){return e.id===s.target}),l="posRate"===c[l]?"positive":"negRate"===c[l]?"negative":c[l],r=r?r.data[l]:0,u=u?u.data[l]:0,a=["连线："+t+" - "+n,d[l]+"："+s[l],"在提及「"+t+"」的"+d[l]+"中占："+(r&&s[l]?(s[l]/r*100).toFixed(2):"0.00")+"%","在提及「"+n+"」的"+d[l]+"中占："+(u&&s[l]?(s[l]/u*100).toFixed(2):"0.00")+"%"]),p.setState({showData:"mouseover"===o?i:"",params:"mouseover"===o?h()({},e,{tooltipContent:a}):{}}))},p.handleOnMoreClick=function(e){var a,r,i,t=p.props,n=t.title,o=t.data,s=t.onChange,c=t.dataType,t=t.chartConfig;"image"===e&&p.chartRef?(0,u._v)(p.chartRef,n):"config"===e?(a=Object.values(c)[0],r=Object.values(t)[0],i=Object.keys(t)[0],p.configDialog.show(h()({},r[a],{callback:function(e){var t,n;s&&s(((n={})[i]=h()({},r,((t={})[a]=e,t)),n))}}))):"data"===e&&(0,b.P)(o)&&(0,u.aT)([o.nodes.reduce(function(e,t){return e.push([t.sceneName,t.name,t.positive,t.neutral,t.negative,t.total]),e},[["场景","场景标签","正面","中性","负面","总数量"]]),o.relations.reduce(function(e,t){return e.push([t.sourceSceneName,t.source.split(":")[1],t.targetSceneName,t.target.split(":")[1],t.positive,t.neutral,t.negative,t.total]),e},[["源-场景","源-场景标签","目标-场景","目标-场景标签","正面","中性","负面","总数量"]])],n,["节点","边"])},p.state={chartType:"circular",showZero:!1,showData:"",params:{}},p}r()(e,s);var t=e.prototype;return t.componentDidMount=function(){var a=this;this.internalId=setInterval(function(){var e,t,n;a.chartRef&&(clearInterval(a.internalId),a.renderChart(),t=(e=a.chartRef._dom.children)[0],n=e[1],t.addEventListener("mouseleave",function(e){a.chartLeaveTimeout=setTimeout(function(){a.chartLeaveTimeout&&(n.style.display="none")},500)}),n.addEventListener("mouseenter",function(e){a.chartLeaveTimeout=void 0}))},200)},t.componentDidUpdate=function(e,t){var n=e.data,a=e.dataType,r=e.chartConfig,i=this.props,o=i.data,e=i.dataType,i=i.chartConfig;((0,b.P)(o)&&JSON.stringify(n)!==JSON.stringify(o)||JSON.stringify(a)!==JSON.stringify(e)||JSON.stringify(r)!==JSON.stringify(i)||t.showZero!==this.state.showZero)&&this.renderChart(),!(0,b.P)(o)&&this.chartRef&&(this.chartRef=void 0),(0,b.P)(o)&&t.chartType!==this.state.chartType&&(e=Object.values(e)[0],i=Object.values(i)[0],s.prototype.changeChartType.call(this,this.state.chartType,this.props.title,e,i[e]))},t.renderChart=function(){var e=this.props,t=e.data,n=e.title,a=e.dataType,r=e.chartConfig,i=this.state,e=i.chartType,i=i.showZero;(0,b.P)(t)&&this.chartRef&&(a=Object.values(a)[0],r=Object.values(r)[0],s.prototype.renderChart.call(this,t,n,e,a,r[a],i))},t.render=function(){var t=this,e=this.props,n=e.data,a=e.loading,r=e.title,i=e.titleOverlay,o=e.dataType,s=e.flavorDataType,c=e.onChange,u=this.state,l=(u.chartType,u.showZero,u.showData),e=u.params,u=e.data,e=e.tooltipContent,p=Object.keys(o)[0],d=Object.keys(s)[0];return m().createElement(b.Z,{className:"yt_market_bm_analysis_bar_line_in_one_chart",data:n,loading:a,renderTitle:m().createElement(T.Z,{title:r,titleOverlay:i,data:n,onMoreClick:this.handleOnMoreClick,moreOptions:C,newColor:!0},m().createElement(w.Z,{options:k,activeObj:o[p],flavor:s[d],divider:"right",rightHook:!0,onChange:function(e){var t;return c(((t={})[p]=e,t))},onFlavorChange:function(e){var t;return c(((t={})[d]=e,t))}}),m().createElement(f.default,{placement:"top",content:"导出数据",mouseEnterDelay:.6},m().createElement("i",{className:"icon-daochu",onClick:function(){return t.handleOnMoreClick("data")}})),m().createElement(f.default,{placement:"top",content:"导出图片",mouseEnterDelay:.6},m().createElement("i",{className:"icon-xiazaitupian",onClick:function(){return t.handleOnMoreClick("image")}})))},m().createElement(I.Z,{onChartReady:this.getChartRef,theme:"yt_multi_color_10",option:{},style:{height:"100%"},onEvents:{mouseover:this._handleOnMouseOverOut,mouseout:this._handleOnMouseOverOut}}),l&&m().createElement("div",{className:"show_data_wrapper"},"node"===l?m().createElement("ul",null,m().createElement("li",null,"节点：",u.name),m().createElement("li",null,"标签数量：",(0,g.hE)(u.data.total)),m().createElement("li",null,"消息好评率：",(100*u.data.posRate).toFixed(2),"%"),m().createElement("li",null,"消息差评率：",(100*u.data.negRate).toFixed(2),"%"),m().createElement("li",null,"正面消息：",(0,g.hE)(u.data.positive)),m().createElement("li",null,"负面消息：",(0,g.hE)(u.data.negative))):"edge"===l?m().createElement("ul",null,e.map(function(e,t){return m().createElement("li",{key:t},e)})):null),m().createElement(E,{ref:function(e){return t.configDialog=e}}))},e}(t);n.propTypes={data:a().any,titleOverlay:a().oneOf([a().string,a().node]),title:a().string,loading:a().bool,dataType:a().string,flavorDataType:a().string,onChange:a().func,onClick:a().func,chartConfig:a().shape(((t={})[a().string]={maxRadius:a().number,repulsion:a().number,gravity:a().number},t))};const p=n},43226:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(37316),l=n.n(t),t=n(67154),v=n.n(t),t=n(87757),y=n.n(t),t=n(64396),g=n(87219),x=n(40845),b=n(92534),i=n(36144);function p(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,e=e.filterModel;return i.h.post("/scene/relation",{projectId:t,dateFilter:n,headerFilterParamsNew:a,filterModel:e})}function T(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,r=e.filterModel,e=e.pageType;return i.h.post("/scene/message/count/type/time",{projectId:t,dateFilter:n,headerFilterParamsNew:a,filterModel:r,pageType:e,chartType:"volume_count_type_time"})}var I=n(49447),w=t.Z.explore.scene.overview,a={dateOptions:[],defaultDateType:void 0,trendData:void 0,timeType:"DAY",fTimeType:"",seneData:void 0,seneDateType:"DAY",flavorSeneDateType:"",relData:void 0,relDataType:"total",flavorRelDataType:"",relChartConfig:void 0,projectId:void 0,analysisModel:void 0,headerFilterParamsNew:void 0,filterModel:[],filterValues:[],dateFilter:void 0,pageType:"SCENE_INDEX"};const r={namespace:w,state:JSON.parse(JSON.stringify(a)),effects:{fetchParams:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return v()({},e)[w]});case 4:if(l=e.sent,o=l.filterModel,m=l.dateFilter,s=l.pageType,c=l.fTimeType,u=l.flavorRelDataType,l=l.flavorSeneDateType,JSON.stringify(o)===JSON.stringify(a.filterModel)&&JSON.stringify(m)===JSON.stringify(a.dateFilter))return e.abrupt("return");e.next=13;break;case 13:return p={fTimeType:c,flavorSeneDateType:l,flavorRelDataType:u,relChartConfig:I.M.reduce(function(e,t){return e[t.value]={maxRadius:50,repulsion:100,gravity:.1},e},{})},d={timeType:c||a.defaultDateType,seneDateType:l||a.defaultDateType,relDataType:"total"},e.next=17,r(x.o,{projectId:a.projectId,key:s});case 17:if(m=e.sent,2e4===(m=m.data).code&&m.result)try{f=JSON.parse(m.result),Object.keys(f).forEach(function(e){p[e]=f[e]}),h=Object.keys(d),Object.keys(p).forEach(function(e,t){p[e]&&(d[h[t]]=p[e])})}catch(e){}return["timeType","seneDateType"].forEach(function(t){a.dateOptions.find(function(e){return e.value===d[t]})||(d[t]=a.defaultDateType)}),m=v()({},a,d,p),e.next=24,i({type:"fetchData",payload:m});case 24:case"end":return e.stop()}},e)}),fetchData:y().mark(function e(t,n){var a,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchTrendData",payload:a});case 4:return e.next=6,r({type:"fetchSeneData",payload:a});case 6:return e.next=8,r({type:"fetchRelativeData",payload:a});case 8:case"end":return e.stop()}},e)}),fetchTrendData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,f=n.select,e.next=4,f(function(e){return v()({},e)[w]});case 4:return h=e.sent,o=h.projectId,s=h.headerFilterParamsNew,c=h.dateFilter,m=h.pageType,u=h.fTimeType,l="error",p="",d=a.dateOptions,f=a.timeType,h=d&&d.find(function(e){return e.value===u}),p=d&&h?u:f,e.prev=15,e.next=18,r(b.lm,{projectId:a.projectId||o,dateFilter:(0,g.ZP)(a.dateFilter||c,function(e){e.dateGroupType=p}),headerFilterParamsNew:a.headerFilterParamsNew||s,filterModel:[],pageType:m});case 18:m=e.sent,2e4===(m=m.data).code?delete(l=m.result).filterCount:l="empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return e.prev=25,delete a.timeType,e.next=29,i({type:"save",payload:v()({trendData:l},a,{timeType:p})});case 29:return e.finish(25);case 30:case"end":return e.stop()}},e,null,[[15,23,25,30]])}),fetchSeneData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,f=n.select,e.next=4,f(function(e){return v()({},e)[w]});case 4:return h=e.sent,o=h.projectId,s=h.headerFilterParamsNew,c=h.dateFilter,m=h.pageType,u=h.flavorSeneDateType,l="error",p="",d=a.dateOptions,f=a.seneDateType,h=d&&d.find(function(e){return e.value===u}),p=d&&h?u:f,e.prev=15,e.next=18,r(T,{projectId:a.projectId||o,dateFilter:(0,g.ZP)(a.dateFilter||c,function(e){e.dateGroupType=p}),headerFilterParamsNew:a.headerFilterParamsNew||s,filterModel:[],pageType:m});case 18:m=e.sent,m=m.data,l=2e4===m.code&&m.result.length?m.result.reduce(function(e,n){return"用户简画"===n.name||"buyer.age"===n.name||"buyer.gender"===n.name?e[0]&&"用户简画"===e[0].name?(e[0].total+=n.total,e[0].data.forEach(function(t){var e=n.data.find(function(e){return e.name===t.name});e&&(t.count+=e.count)})):e.splice(0,0,v()({},n,{name:"用户简画"})):e.push(n),e},[]):"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return e.prev=25,delete a.seneDateType,e.next=29,i({type:"save",payload:v()({seneData:l},a,{seneDateType:p})});case 29:return e.finish(25);case 30:case"end":return e.stop()}},e,null,[[15,23,25,30]])}),fetchRelativeData:y().mark(function e(t,n){var a,r,i,o,s,c,u;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return v()({},e)[w]});case 4:return c=e.sent,o=c.projectId,s=c.headerFilterParamsNew,u=c.dateFilter,c="error",e.prev=9,e.next=12,r(p,{projectId:a.projectId||o,headerFilterParamsNew:a.headerFilterParamsNew||s,filterModel:[],dateFilter:a.dateFilter||u});case 12:u=e.sent,u=u.data,c=2e4===u.code&&u.result.relations.length?u.result:"empty",e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"save",payload:v()({relData:c},a)});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),setDefaultValue:y().mark(function e(t,n){var a,r,i,o,s,c,u;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return v()({},e)[w]});case 4:return u=e.sent,o=u.projectId,s=u.pageType,c=l()(u,["projectId","pageType"]),u=["fTimeType","flavorSeneDateType","flavorRelDataType","relChartConfig"].reduce(function(e,t){return e[t]=(void 0!==a[t]?a:c)[t],e},{}),e.prev=9,e.next=12,r(x.s,{projectId:a.projectId||o,key:s,value:JSON.stringify(u)});case 12:if(u=e.sent,2e4===u.data.code)return e.next=17,i({type:"save",payload:v()({},a)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])})},reducers:{save:function(e,t){t=t.payload;return v()({},e,t)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(a))}}}},3226:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(37316),l=n.n(t),t=n(67154),y=n.n(t),t=n(87757),g=n.n(t),t=n(64396),v=n(87219),m=n(40845),x=n(92534),i=n(36144);n(25365);function h(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,r=e.filterModel,e=e.pageType;return i.h.post("/scene/message/count/type",{projectId:t,dateFilter:n,headerFilterParamsNew:a,filterModel:r,pageType:e,chartType:"volume_count_type"})}var b=t.Z.explore.scene.relation,a={dateOptions:[],defaultDateType:void 0,trendData:void 0,timeType:"DAY",fTimeType:"",pieData:void 0,oriPieData:void 0,barData:void 0,oLineData:void 0,oBarData:void 0,analyzeLineData:void 0,analyzeBarData:void 0,alzTimeType:"DAY",alzFTimeType:"",alzOptions:[],alzIdKey:"",alzName:"",projectId:void 0,analysisModel:void 0,filterModel:[],filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:"SCENE_USER"};const r={namespace:b,state:JSON.parse(JSON.stringify(a)),reducers:{save:function(e,t){t=t.payload;return y()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchParams:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return y()({},e)[b]});case 4:if(u=e.sent,o=u.filterModel,h=u.dateFilter,s=u.pageType,c=u.fTimeType,u=u.alzFTimeType,JSON.stringify(o)===JSON.stringify(a.filterModel)&&JSON.stringify(h)===JSON.stringify(a.dateFilter))return e.abrupt("return");e.next=12;break;case 12:return l={fTimeType:c,alzFTimeType:u},p={timeType:c||a.defaultDateType,alzTimeType:u||a.defaultDateType},e.next=16,r(m.o,{projectId:a.projectId,key:s});case 16:if(h=e.sent,2e4===(h=h.data).code&&h.result)try{d=JSON.parse(h.result),Object.keys(d).forEach(function(e){l[e]=d[e]}),f=Object.keys(p),Object.keys(l).forEach(function(e,t){l[e]&&(p[f[t]]=l[e])})}catch(e){}return["timeType","alzTimeType"].forEach(function(t){a.dateOptions.find(function(e){return e.value===p[t]})||(p[t]=a.defaultDateType)}),h=y()({},a,p,l),e.next=23,i({type:"fetchDatas",payload:h});case 23:case"end":return e.stop()}},e)}),fetchDatas:g().mark(function e(t,n){var a,r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchTrendData",payload:a});case 4:return e.next=6,r({type:"fetchBarData",payload:a});case 6:return e.next=8,r({type:"fetchPieData",payload:a});case 8:case"end":return e.stop()}},e)}),fetchTrendData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,p=n.select,e.next=4,p(function(e){return y()({},e)[b]});case 4:return d=e.sent,o=d.projectId,s=d.headerFilterParamsNew,c=d.dateFilter,h=d.pageType,u=d.fTimeType,l="",p=a.dateOptions,f=a.timeType,d=p&&p.find(function(e){return e.value===u}),l=p&&d?u:f,f="error",e.prev=15,e.next=18,r(x.lm,{projectId:a.projectId||o,dateFilter:(0,v.ZP)(a.dateFilter||c,function(e){e.dateGroupType=l}),headerFilterParamsNew:a.headerFilterParamsNew||s,filterModel:[],pageType:h});case 18:h=e.sent,h=h.data,f=2e4===h.code?h.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return e.prev=25,delete a.timeType,e.next=29,i({type:"save",payload:y()({trendData:f},a,{timeType:l})});case 29:return e.finish(25);case 30:case"end":return e.stop()}},e,null,[[15,23,25,30]])}),fetchBarData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return y()({},e)[b]});case 4:return c=e.sent,o=c.projectId,p=c.dateFilter,u=c.headerFilterParamsNew,l=c.pageType,c.alzIdKey,s="error",c=[],e.prev=11,p={projectId:a.projectId||o,dateFilter:a.dateFilter||p,filterModel:[],headerFilterParamsNew:a.headerFilterParamsNew||u,pageType:l},e.next=15,r(h,p);case 15:u=e.sent,2e4===(l=u.data).code&&0<l.result.relation.length?(s=l.result.relation,p=l.result,u=p.age,l=p.gender,p=p.relation,c=[].concat(l.map(function(e){return{name:e.name,idKey:"user.gender"}}),u.map(function(e){return{name:e.name,idKey:"user.age"}}),p.map(function(e){return{name:e.name,idKey:"relation"}}))):s="empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:if(e.prev=22,"empty"===s)return e.next=26,i({type:"save",payload:y()({},a,{barData:s,alzOptions:[],alzName:"",analyzeLineData:"empty",analyzeBarData:"empty"})});e.next=28;break;case 26:e.next=34;break;case 28:return e.next=30,i({type:"save",payload:y()({},a,{barData:s,alzOptions:c,alzName:c[0].name})});case 30:return e.next=32,i({type:"fetchAnalyzeBarData",payload:a});case 32:return e.next=34,i({type:"fetchAnalyzeLineData",payload:a});case 34:return e.finish(22);case 35:case"end":return e.stop()}},e,null,[[11,20,22,35]])}),fetchPieData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return y()({},e)[b]});case 4:return d=e.sent,o=d.projectId,s=d.dateFilter,c=d.headerFilterParamsNew,f=d.pageType,u=d.oriPieData,l=a.findKey,p="error",d=[],e.prev=12,f={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:[],headerFilterParamsNew:a.headerFilterParamsNew||c,pageType:f},e.next=16,r(h,f);case 16:f=e.sent,f=f.data,p=2e4===f.code&&0<f.result.age.length&&0<f.result.gender.length?(d=l?u:f.result,"gender"===l?y()({},u,{age:f.result.age}):"age"===l?y()({},u,{gender:f.result.gender}):f.result):"empty",e.next=23;break;case 21:e.prev=21,e.t0=e.catch(12);case 23:return e.prev=23,e.next=26,i({type:"save",payload:{pieData:p,oriPieData:d}});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[12,21,23,27]])}),fetchAnalyzeLineData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,d=n.select,e.next=4,d(function(e){return e[b]});case 4:return f=e.sent,o=f.projectId,s=f.headerFilterParamsNew,m=f.dateFilter,c=f.pageType,u=f.alzFTimeType,l=f.alzName,p="",d=a.dateOptions,h=a.alzTimeType,f=d&&d.find(function(e){return e.value===u}),p=d&&f?u:h,f="error",h=void 0,e.prev=16,e.next=19,r(x.P5,{projectId:a.projectId||o,filterModel:[],pageType:c,headerFilterParamsNew:a.headerFilterParamsNew||s,dateFilter:(0,v.ZP)(a.dateFilter||m,function(e){e.dateGroupType=p})});case 19:m=e.sent,2e4===(m=m.data).code&&m.result.length?(h=m.result,void 0===(f=m.result.find(function(e){return e.name===l}))&&(f="empty")):f="empty",e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),console.log(e.t0);case 27:return e.prev=27,delete a.alzTimeType,e.next=31,i({type:"save",payload:y()({oLineData:h,analyzeLineData:f},a,{alzTimeType:p})});case 31:return e.finish(27);case 32:case"end":return e.stop()}},e,null,[[16,24,27,32]])}),fetchAnalyzeBarData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[b]});case 4:return p=e.sent,o=p.projectId,s=p.headerFilterParamsNew,p.filterModel,m=p.dateFilter,c=p.alzName,u=p.alzOptions,p.aspectId,l="error",p=void 0,d=0,e.prev=14,e.next=17,r(x.e1,{projectId:a.projectId||o,filterModel:[],headerFilterParamsNew:a.headerFilterParamsNew||s,dateFilter:a.dateFilter||m});case 17:m=e.sent,2e4===(f=m.data).code&&f.result.nodes.length?(p=f.result,m=u.find(function(e){return e.name===c}).idKey,h=m+":"+c,m=f.result.nodes.find(function(e){return e.key===h}),v=m?m.total:0,void 0===(l=(l=f.result.relations.reduce(function(e,t){var n,a,r,i=void 0;return t.source===h?i="target":t.target===h&&(i="source"),i&&(n=f.result.nodes.find(function(e){return e.key===t[i]}),a=0===v?0:t.total/v,r=0==(r=0===d?0:n.total/d)?0:a/r,n&&e.push(y()({},n,{relTotal:t.total,aspectCount:v,messageCount:d,trustRate:a,upRate:r}))),e},[])).filter(function(e){return"relation"!==e.scene&&"user.age"!==e.scene&&"user.gender"!==e.scene}))&&(l="empty")):l="empty",e.next=25;break;case 22:e.prev=22,e.t0=e.catch(14),console.log(e.t0);case 25:return e.prev=25,e.next=28,i({type:"save",payload:y()({oBarData:p,analyzeBarData:l},a)});case 28:return e.finish(25);case 29:case"end":return e.stop()}},e,null,[[14,22,25,29]])}),setDefaultValue:g().mark(function e(t,n){var a,r,i,o,s,c,u;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return y()({},e)[b]});case 4:return u=e.sent,o=u.projectId,s=u.pageType,c=l()(u,["projectId","pageType"]),u=["fTimeType","alzFTimeType"].reduce(function(e,t){return e[t]=(void 0!==a[t]?a:c)[t],e},{}),e.prev=9,e.next=12,r(m.s,{projectId:a.projectId||o,key:s,value:JSON.stringify(u)});case 12:if(u=e.sent,2e4===u.data.code)return e.next=17,i({type:"save",payload:y()({},a)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])})}}},92534:(e,t,n)=>{"use strict";n.d(t,{lm:()=>function(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,r=e.filterModel,e=e.pageType;return o.h.post("/scene/aspect/count/time",{projectId:t,dateFilter:n,headerFilterParamsNew:a,filterModel:r,pageType:e,chartType:"scene_aspect_count_time"})},As:()=>function(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,r=e.filterModel,e=e.pageType;return o.h.post("/scene/message/count/type/time",{projectId:t,dateFilter:n,headerFilterParamsNew:a,filterModel:r,pageType:e,chartType:"volume_count_type_time"})},P5:()=>function(e){var t=e.projectId,n=e.headerFilterParamsNew,a=e.filterModel,r=e.dateFilter,e=e.pageType;return o.h.post("/scene/message/count/type/time",{projectId:t,headerFilterParamsNew:n,filterModel:a,dateFilter:r,pageType:e,chartType:"volume_count_type_time"})},e1:()=>function(e){var t=e.projectId,n=e.headerFilterParamsNew,a=e.filterModel,r=e.dateFilter,i=e.pageType,e=e.configType;return o.h.post("/scene/relation",{projectId:t,headerFilterParamsNew:n,filterModel:a,dateFilter:r,configType:e,pageType:i,chartType:"volume_series_count"})}});var o=n(36144)},16851:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(37316),l=n.n(t),t=n(67154),g=n.n(t),t=n(87757),x=n.n(t),t=n(64396),b=n(87219),T=n(92534),m=n(40845),I=t.Z.explore.scene.spokesperson,a={dateOptions:[],defaultDateType:void 0,trendData:void 0,timeType:"DAY",fTimeType:"",oLineData:void 0,oBarData:void 0,analyzeLineData:void 0,analyzeBarData:void 0,alzTimeType:"DAY",alzFTimeType:"",alzOptions:[],alzIdKey:"endorser",alzName:"",barData:void 0,projectId:void 0,analysisModel:void 0,filterModel:[],filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:"SCENE_SPOKESMAN_ANALYSIS"};const r={namespace:I,state:JSON.parse(JSON.stringify(a)),reducers:{save:function(e,t){t=t.payload;return g()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchParams:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return g()({},e)[I]});case 4:if(u=e.sent,o=u.filterModel,h=u.dateFilter,s=u.pageType,c=u.fTimeType,u=u.alzFTimeType,JSON.stringify(o)===JSON.stringify(a.filterModel)&&JSON.stringify(h)===JSON.stringify(a.dateFilter))return e.abrupt("return");e.next=12;break;case 12:return l={fTimeType:c,alzFTimeType:u},p={timeType:c||a.defaultDateType,alzTimeType:u||a.defaultDateType},e.next=16,r(m.o,{projectId:a.projectId,key:s});case 16:if(h=e.sent,2e4===(h=h.data).code&&h.result)try{d=JSON.parse(h.result),Object.keys(d).forEach(function(e){l[e]=d[e]}),f=Object.keys(p),Object.keys(l).forEach(function(e,t){l[e]&&(p[f[t]]=l[e])})}catch(e){}return["timeType","alzTimeType"].forEach(function(t){a.dateOptions.find(function(e){return e.value===p[t]})||(p[t]=a.defaultDateType)}),h=g()({},a,p,l),e.next=23,i({type:"fetchDatas",payload:h});case 23:case"end":return e.stop()}},e)}),fetchDatas:x().mark(function e(t,n){var a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchTrendData",payload:a});case 4:return e.next=6,r({type:"fetchBarData",payload:a});case 6:case"end":return e.stop()}},e)}),fetchTrendData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,f=n.select,e.next=4,f(function(e){return g()({},e)[I]});case 4:return h=e.sent,o=h.projectId,s=h.headerFilterParamsNew,c=h.dateFilter,m=h.pageType,u=h.fTimeType,l="error",p="",d=a.dateOptions,f=a.timeType,h=d&&d.find(function(e){return e.value===u}),p=d&&h?u:f,e.prev=15,e.next=18,r(T.lm,{projectId:a.projectId||o,dateFilter:(0,b.ZP)(a.dateFilter||c,function(e){e.dateGroupType=p}),headerFilterParamsNew:a.headerFilterParamsNew||s,filterModel:[],pageType:m});case 18:m=e.sent,m=m.data,l=2e4===m.code?m.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return e.prev=25,delete a.timeType,e.next=29,i({type:"save",payload:g()({trendData:l},a,{timeType:p})});case 29:return e.finish(25);case 30:case"end":return e.stop()}},e,null,[[15,23,25,30]])}),fetchBarData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return g()({},e)[I]});case 4:return l=e.sent,o=l.projectId,s=l.dateFilter,c=l.headerFilterParamsNew,p=l.pageType,u=l.alzIdKey,l="error",e.prev=11,p={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:[],headerFilterParamsNew:a.headerFilterParamsNew||c,pageType:p},e.next=15,r(T.As,p);case 15:p=e.sent,p=p.data,l=2e4===p.code&&0<p.result.length?p.result.sort(function(e,t){return t.total-e.total}).map(function(e){return{name:e.name,count:e.total}}):"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:if(e.prev=22,"empty"===l)return e.next=26,i({type:"save",payload:g()({},a,{barData:l,alzOptions:[],alzName:"",analyzeLineData:"empty",analyzeBarData:"empty"})});e.next=28;break;case 26:e.next=34;break;case 28:return e.next=30,i({type:"save",payload:g()({},a,{barData:l,alzOptions:l.map(function(e){return{name:e.name,idKey:a.alzIdKey||u}}),alzName:l[0].name})});case 30:return e.next=32,i({type:"fetchAnalyzeBarData",payload:a});case 32:return e.next=34,i({type:"fetchAnalyzeLineData",payload:a});case 34:return e.finish(22);case 35:case"end":return e.stop()}},e,null,[[11,20,22,35]])}),fetchAnalyzeLineData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,m=n.select,e.next=4,m(function(e){return e[I]});case 4:return v=e.sent,o=v.projectId,s=v.headerFilterParamsNew,y=v.dateFilter,c=v.pageType,u=v.alzFTimeType,l=v.alzName,p="error",d=void 0,f="",h=a.dateOptions,m=a.alzTimeType,v=h&&h.find(function(e){return e.value===u}),f=h&&v?u:m,e.prev=16,e.next=19,r(T.P5,{projectId:a.projectId||o,filterModel:[],pageType:c,headerFilterParamsNew:a.headerFilterParamsNew||s,dateFilter:(0,b.ZP)(a.dateFilter||y,function(e){e.dateGroupType=f})});case 19:y=e.sent,y=y.data,p=2e4===y.code&&y.result.length?(d=y.result,y.result.find(function(e){return e.name===l})):"empty",e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),console.log(e.t0);case 27:return e.prev=27,delete a.alzTimeType,e.next=31,i({type:"save",payload:g()({oLineData:d,analyzeLineData:p},a,{alzTimeType:f})});case 31:return e.finish(27);case 32:case"end":return e.stop()}},e,null,[[16,24,27,32]])}),fetchAnalyzeBarData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[I]});case 4:return p=e.sent,o=p.projectId,s=p.headerFilterParamsNew,m=p.dateFilter,c=p.alzIdKey,u=p.alzName,p.aspectId,l="error",p=void 0,d=0,e.prev=13,e.next=16,r(T.e1,{projectId:a.projectId||o,filterModel:[],headerFilterParamsNew:a.headerFilterParamsNew||s,dateFilter:a.dateFilter||m});case 16:m=e.sent,f=m.data,l=2e4===f.code&&f.result.nodes.length?(p=f.result,h=c+":"+u,m=f.result.nodes.find(function(e){return e.key===h}),v=m?m.total:0,f.result.relations.reduce(function(e,t){var n,a,r,i=void 0;return t.source===h?i="target":t.target===h&&(i="source"),i&&(n=f.result.nodes.find(function(e){return e.key===t[i]}),a=0===v?0:t.total/v,r=0==(r=0===d?0:n.total/d)?0:a/r,n&&e.push(g()({},n,{relTotal:t.total,aspectCount:v,messageCount:d,trustRate:a,upRate:r}))),e},[])):"empty",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),console.log(e.t0);case 24:return e.prev=24,e.next=27,i({type:"save",payload:g()({oBarData:p,analyzeBarData:l},a)});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[13,21,24,28]])}),setDefaultValue:x().mark(function e(t,n){var a,r,i,o,s,c,u;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return g()({},e)[I]});case 4:return u=e.sent,o=u.projectId,s=u.pageType,c=l()(u,["projectId","pageType"]),u=["fTimeType"].reduce(function(e,t){return e[t]=(void 0!==a[t]?a:c)[t],e},{}),e.prev=9,e.next=12,r(m.s,{projectId:a.projectId||o,key:s,value:JSON.stringify(u)});case 12:if(u=e.sent,2e4===u.data.code)return e.next=17,i({type:"save",payload:g()({},a)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])})}}},50537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(37316),l=n.n(t),t=n(67154),g=n.n(t),t=n(87757),x=n.n(t),t=n(64396),b=n(87219),m=n(40845),T=n(92534),I=t.Z.explore.scene.usage,a={dateOptions:[],defaultDateType:void 0,trendData:void 0,timeType:"DAY",fTimeType:"",oLineData:void 0,oBarData:void 0,analyzeLineData:void 0,analyzeBarData:void 0,alzTimeType:"DAY",alzFTimeType:"",alzOptions:[],alzIdKey:"",alzName:"",barData:void 0,projectId:void 0,analysisModel:void 0,filterModel:[],filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:void 0};const r={namespace:I,state:JSON.parse(JSON.stringify(a)),reducers:{save:function(e,t){t=t.payload;return g()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchParams:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return g()({},e)[I]});case 4:if(u=e.sent,o=u.filterModel,h=u.dateFilter,s=u.pageType,c=u.fTimeType,u=u.alzFTimeType,JSON.stringify(o)===JSON.stringify(a.filterModel)&&JSON.stringify(h)===JSON.stringify(a.dateFilter))return e.abrupt("return");e.next=12;break;case 12:return l={fTimeType:c,alzFTimeType:u},p={timeType:c||a.defaultDateType,alzTimeType:u||a.defaultDateType},e.next=16,r(m.o,{projectId:a.projectId,key:s});case 16:if(h=e.sent,2e4===(h=h.data).code&&h.result)try{d=JSON.parse(h.result),Object.keys(d).forEach(function(e){l[e]=d[e]}),f=Object.keys(p),Object.keys(l).forEach(function(e,t){l[e]&&(p[f[t]]=l[e])})}catch(e){}return["timeType","alzTimeType"].forEach(function(t){a.dateOptions.find(function(e){return e.value===p[t]})||(p[t]=a.defaultDateType)}),h=g()({},a,p,l),e.next=23,i({type:"fetchDatas",payload:h});case 23:case"end":return e.stop()}},e)}),fetchDatas:x().mark(function e(t,n){var a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchTrendData",payload:a});case 4:return e.next=6,r({type:"fetchBarData",payload:a});case 6:case"end":return e.stop()}},e)}),fetchTrendData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,f=n.select,e.next=4,f(function(e){return g()({},e)[I]});case 4:return h=e.sent,o=h.projectId,s=h.headerFilterParamsNew,c=h.dateFilter,m=h.pageType,u=h.fTimeType,l="error",p="",d=a.dateOptions,f=a.timeType,h=d&&d.find(function(e){return e.value===u}),p=d&&h?u:f,e.prev=15,e.next=18,r(T.lm,{projectId:a.projectId||o,dateFilter:(0,b.ZP)(a.dateFilter||c,function(e){e.dateGroupType=p}),headerFilterParamsNew:a.headerFilterParamsNew||s,filterModel:[],pageType:m});case 18:m=e.sent,m=m.data,l=2e4===m.code?m.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return e.prev=25,delete a.timeType,e.next=29,i({type:"save",payload:g()({trendData:l},a,{timeType:p})});case 29:return e.finish(25);case 30:case"end":return e.stop()}},e,null,[[15,23,25,30]])}),fetchBarData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return g()({},e)[I]});case 4:return l=e.sent,o=l.projectId,s=l.dateFilter,c=l.headerFilterParamsNew,p=l.pageType,u=l.alzIdKey,l="error",e.prev=11,p={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:[],headerFilterParamsNew:a.headerFilterParamsNew||c,pageType:p},e.next=15,r(T.As,p);case 15:p=e.sent,p=p.data,l=2e4===p.code&&0<p.result.length?p.result.sort(function(e,t){return t.total-e.total}).map(function(e){return{name:e.name,count:e.total}}):"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:if(e.prev=22,"empty"===l)return e.next=26,i({type:"save",payload:g()({},a,{barData:l,alzOptions:[],alzName:"",analyzeLineData:"empty",analyzeBarData:"empty"})});e.next=28;break;case 26:e.next=34;break;case 28:return e.next=30,i({type:"save",payload:g()({},a,{barData:l,alzOptions:l.map(function(e){return{name:e.name,idKey:a.alzIdKey||u}}),alzName:l[0].name})});case 30:return e.next=32,i({type:"fetchAnalyzeBarData",payload:a});case 32:return e.next=34,i({type:"fetchAnalyzeLineData",payload:a});case 34:return e.finish(22);case 35:case"end":return e.stop()}},e,null,[[11,20,22,35]])}),fetchAnalyzeLineData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,m=n.select,e.next=4,m(function(e){return e[I]});case 4:return v=e.sent,o=v.projectId,s=v.headerFilterParamsNew,y=v.dateFilter,c=v.pageType,u=v.alzFTimeType,l=v.alzName,p="error",d=void 0,f="",h=a.dateOptions,m=a.alzTimeType,v=h&&h.find(function(e){return e.value===u}),f=h&&v?u:m,e.prev=16,e.next=19,r(T.P5,{projectId:a.projectId||o,filterModel:[],pageType:c,headerFilterParamsNew:a.headerFilterParamsNew||s,dateFilter:(0,b.ZP)(a.dateFilter||y,function(e){e.dateGroupType=f})});case 19:y=e.sent,y=y.data,p=2e4===y.code&&y.result.length?(d=y.result,y.result.find(function(e){return e.name===l})):"empty",e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),console.log(e.t0);case 27:return e.prev=27,delete a.alzTimeType,e.next=31,i({type:"save",payload:g()({oLineData:d,analyzeLineData:p},a,{alzTimeType:f})});case 31:return e.finish(27);case 32:case"end":return e.stop()}},e,null,[[16,24,27,32]])}),fetchAnalyzeBarData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[I]});case 4:return p=e.sent,o=p.projectId,s=p.headerFilterParamsNew,m=p.dateFilter,c=p.alzIdKey,u=p.alzName,p.aspectId,l="error",p=void 0,d=0,e.prev=13,e.next=16,r(T.e1,{projectId:a.projectId||o,filterModel:[],headerFilterParamsNew:a.headerFilterParamsNew||s,dateFilter:a.dateFilter||m});case 16:m=e.sent,f=m.data,l=2e4===f.code&&f.result.nodes.length?(p=f.result,h=c+":"+u,m=f.result.nodes.find(function(e){return e.key===h}),v=m?m.total:0,f.result.relations.reduce(function(e,t){var n,a,r,i=void 0;return t.source===h?i="target":t.target===h&&(i="source"),i&&(n=f.result.nodes.find(function(e){return e.key===t[i]}),a=0===v?0:t.total/v,r=0==(r=0===d?0:n.total/d)?0:a/r,n&&e.push(g()({},n,{relTotal:t.total,aspectCount:v,messageCount:d,trustRate:a,upRate:r}))),e},[])):"empty",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),console.log(e.t0);case 24:return e.prev=24,e.next=27,i({type:"save",payload:g()({oBarData:p,analyzeBarData:l},a)});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[13,21,24,28]])}),setDefaultValue:x().mark(function e(t,n){var a,r,i,o,s,c,u;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return g()({},e)[I]});case 4:return u=e.sent,o=u.projectId,s=u.pageType,c=l()(u,["projectId","pageType"]),u=["fTimeType","alzFTimeType"].reduce(function(e,t){return e[t]=(void 0!==a[t]?a:c)[t],e},{}),e.prev=9,e.next=12,r(m.s,{projectId:a.projectId||o,key:s,value:JSON.stringify(u)});case 12:if(u=e.sent,2e4===u.data.code)return e.next=17,i({type:"save",payload:g()({},a)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])})}}},37342:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var t=n(85354),a=n.n(t),t=n(67294),r=n.n(t),i=n(57558),o=function(t){function e(){var e=t.call(this)||this;return e.state={},e}a()(e,t);var n=e.prototype;return n.componentDidMount=function(){},n.render=function(){return r().createElement("div",{className:"container"},r().createElement("div",{className:"nav"},r().createElement(i.Z,null)),r().createElement("div",{className:"bottom-container"},r().createElement("div",{className:"mainContent"},this.props.children)))},e}(t.Component)},45680:(e,t,l)=>{"use strict";l(82932);var n=l(31929),s=(l(27959),l(61193)),c=(String(s.Z.getUser()&&s.Z.getUser().username),String(s.Z.getUser()&&s.Z.getUser().username),s.Z.getAuthority(),l(61409)),g=l(36144),a=l(67294),x=l.n(a),r=l(47190),i=l(30037),o=l(55609),u=[],p=l(20431),d=l(20402);p.keys().forEach(function(e){p(e).default.namespace?u.push(p(e).default):console.error("非法的namespace，该model无法正确加载，model路径/pages/"+e.substr(2))}),d.keys().forEach(function(e){d(e).default.namespace?u.push(d(e).default):console.error("非法的namespace，该model无法正确加载，model路径/components/"+e.substr(2))});var f=(0,o.default)({history:(0,r.lX)(),onError:function(e,t){console.error(e)}});f.use((0,i.Z)()),u.forEach(function(e){f.model(e)});l(9405);var h=l(89552),m=l(68356),v=l.n(m);function y(e){e.error;return e.pastDelay?x().createElement(h.default,{size:"large",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}):null}var b=function(e){return v()({loader:e,loading:y})},T=l(85354),I=l.n(T),w=l(37316),E=l.n(w),k=l(67154),C=l.n(k),S=l(93913),N=l.n(S),_=l(45697),O=l.n(_),j=l(97189),D=l.n(j),M=l(35239),A=l(57558),L=l(81506),P=l.n(L),F=l(43036),R=l(51474);const z=function(t){function e(e){e=t.call(this,e)||this;return e.stop=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},e.state={searchKeyWords:""},e}I()(e,t);var n=e.prototype;return n.search=function(){this.setState({searchKeyWords:this.searchInput.value})},n.handleChecked=function(e){this.props.onSel(e)},n.render=function(){var t=this,e=this.props,n=e.classNames,a=e.style,e=e.showMenu,r=this.state.searchKeyWords,e=e.filter(function(e){return"dashboard"===e.menuType&&(!r||r&&-1!==e.name.toLocaleLowerCase().indexOf(r.trim().toLocaleLowerCase()))});return x().createElement("div",{className:(n||"")+" dashboard_search",onClick:function(e){return t.stop(e)},style:a},x().createElement("div",{className:"allSelContent"},x().createElement("div",{className:"search"},x().createElement("p",null,x().createElement("input",{value:r,placeholder:"请输入关键词",ref:function(e){return t.searchInput=e},type:"text",onChange:function(){return t.search()}})),x().createElement("i",{className:r.trim()?"icon-cem_cancel":"icon-cem_search",onClick:r.trim()?function(){return t.setState({searchKeyWords:""})}:function(){}})),r&&0<e.length&&x().createElement("div",{className:"dash_Count"},x().createElement("span",null,"仪表盘"),x().createElement("span",null,e.length)),r&&0<e.length?x().createElement("div",{className:"all"},e.map(function(e){return x().createElement("p",{className:e.sel?"singleSel sel":"singleSel",key:e.id,onClick:function(){return t.handleChecked(e.id)}},x().createElement("span",null,e.name),x().createElement("span",null,e.fatherName))})):r&&x().createElement("div",{className:"all",style:{padding:"12px 12px 0"}},"没有找到相关数据")))},e}(a.Component);const V=function(e){var o=e.edit,s=e.copy,c=e.del,t=e.className,n=e.children,a=x().useState("0"),r=a[0],u=a[1],i=x().useState("0"),e=i[0],l=i[1],a=x().useState(!1),i=a[0],p=a[1],a=x().useState(null),d=a[0],f=a[1];return o||s||c?x().createElement("div",{className:"copy "+t+" "+(i?"show":""),ref:function(e){return f(e)},onClick:function(e){return e.stopPropagation()},onMouseEnter:function(){return e=d.getBoundingClientRect(),t=e.x,n=e.y,a=e.width,r=e.height,i={w:60,h:16+26*[o,s,c].filter(function(e){return e}).length},(r=n+r-6)+(e=i.h)>window.innerHeight&&(r=n-e+6),u(t+a-i.w/2-a/2),l(r),void p(!0);var e,t,n,a,r,i},onMouseLeave:function(){return p(!1)}},i&&x().createElement("div",{className:"copy_wrap",style:{left:r+"px",top:e+"px"}},o&&x().createElement("p",{onClick:o},"编辑"),s&&x().createElement("p",{onClick:s},"复制"),c&&x().createElement("p",{onClick:c},"删除")),n):null};var B=l(2258),q=l.n(B),U=l(5133),H=l(23570),W=function(e){function t(t){if(p===r&&f===c)return t({result:"faild"}),!1;if(!p)return y("输入框不能为空"),v(!1),!1;var e="",n={projectId:s,name:p.substring(0,20),dashboardFolderId:f};return(e="copy"===u?(n.id=o,"/data-dashboard/copy"):r?(n.id=o,"/data-dashboard/update"):"/data-dashboard/add")&&g.h.post(e,n).then(function(e){e=e.data;2e4===e.code&&(t({result:"success"}),U.Z.success(e.msg))}).catch(function(e){U.Z.error(e.data.msg)}),!1}var n=e.folderOpts,a=void 0===n?[]:n,r=e.dashName,i=e.setParams,o=e.dashId,s=e.projectId,c=e.folderId,u=e.type,l="副本_"+r,n=x().useState("copy"===u?l.substring(0,20):r&&r.substring(0,20)||""),p=n[0],d=n[1],e=x().useState(c||a[0].value),f=e[0],h=e[1],l=x().useState(!0),m=l[0],v=l[1],n=x().useState(20<p.length?"最多输入20个字":""),e=n[0],y=n[1];x().useEffect(function(){i({dashName:p,folderId:f,dashId:o,confirmRun:t}),!m&&r&&r.length<=20&&v(!0)},[f,p]);l="",n=a.find(function(e){return e.value===f});return n&&(l=n.label),x().createElement("div",{className:"yt_modal_dashboard_content_wrapper"},x().createElement("div",{className:"content_item"},x().createElement("span",{className:"required"},"仪表盘名称"),x().createElement("span",{className:m?"":"required_error",style:{position:"relative"}},x().createElement(H.Z,{className:"content_item_input",defaultValue:p,placeholder:"请输入仪表盘名称",onChange:function(e){e=e.target.value;""===e.trim()?(y("输入框不能为空"),v(!1)):20<=e.length?(y("最多只能输入20个字符"),v(!1)):(y(""),v(!0)),d(e)},onBlur:function(e){e=e.target.value;""===e.trim()?(y("输入框不能为空"),v(!1)):20===e.length&&(y(""),v(!0))},maxLength:20}),x().createElement("span",{className:"tip_text"},e))),x().createElement("div",{className:"content_item"},x().createElement("span",null,"所属文件夹"),x().createElement("span",null,x().createElement(q(),{className:"content_item_select",value:l,onChange:function(e){h(e)},inputIcon:x().createElement("i",{className:"icon-cem_arrow-launches",style:{color:"#8C8C8C"}})},a.map(function(e){return x().createElement(q().Option,{value:e.value,key:e.value},e.label)})))))};const Z=W;W.propTypes={folderOpts:O().arrayOf({label:O().string,value:O().string}),dashName:O().string,folderId:O().string,setParams:O().func,dashId:O().string,projectId:O().string};var J=function(e){function t(t){if(d===r&&l===i)return t({result:"faild"}),!1;if(!d)return v("输入框不能为空"),m(!1),!1;var e="",n={projectId:c,name:d.substring(0,20),type:l};return(e=r?(n.id=s,"/dashboard/folder/update"):"/dashboard/folder/add")&&g.h.post(e,n).then(function(e){e=e.data;2e4===e.code&&(t({result:"success"}),U.Z.success(e.msg))}).catch(function(e){U.Z.error(e.data.msg)}),!1}var n=e.options,a=void 0===n?[{label:"个人文件夹",value:"SELF_FOLDER"},{label:"系统文件夹",value:"SYSTEM_FOLDER"}]:n,r=e.name,i=e.type,o=e.setParams,s=e.id,c=e.projectId,u=e.personalOnly,n=void 0!==u&&u,e=x().useState(n?"SELF_FOLDER":i||a[0].value),l=e[0],p=e[1],u=x().useState(r||""),d=u[0],f=u[1],e=x().useState(!0),h=e[0],m=e[1],u=x().useState(""),e=u[0],v=u[1];x().useEffect(function(){o({folderType:l,folderName:d,confirmRun:t}),!h&&d&&d.length<=20&&m(!0)},[d,l]);u=0<a.length?a.find(function(e){return e.value===l}).label:"";return x().createElement("div",{className:"yt_modal_folder_content_wrapper"},x().createElement("div",{className:"content_item"},x().createElement("span",null,"文件夹类型"),x().createElement("span",null,x().createElement(q(),{disabled:n,className:"content_item_select",value:u,inputIcon:x().createElement("i",{className:"icon-cem_arrow-launches",style:{color:"#8C8C8C"}}),onChange:function(e){p(e)}},a.map(function(e){return x().createElement(q().Option,{value:e.value,key:e.value},e.label)})))),x().createElement("div",{className:"content_item"},x().createElement("span",{className:"required"},"文件夹名称"),x().createElement("span",{className:h?"":"required_error",style:{position:"relative"}},x().createElement(H.Z,{className:"content_item_input",defaultValue:d,placeholder:"请输入文件夹名称",onChange:function(e){e=e.target.value;""===e.trim()?(v("输入框不能为空"),m(!1)):20<=e.length?(v("最多只能输入20个字符"),m(!1)):(v(""),m(!0)),f(e)},onBlur:function(e){e=e.target.value;""===e.trim()?(v("输入框不能为空"),m(!1)):20===e.length&&(v(""),m(!0))},maxLength:20}),x().createElement("span",{className:"tip_text"},e))))};const Y=J;J.propTypes={options:O().arrayOf({label:O().string,value:O().string}),name:O().string,type:O().string,setParams:O().func,id:O().string,projectId:O().string,personalOnly:O().bool};var G=l(57522),K={dashboard:"仪表盘",folder:"文件夹"},Q=function(e){function t(t){var e="";"dashboard"===r?e="/data-dashboard/delete":"folder"===r&&(e="/dashboard/folder/delete"),e&&g.h.post(e,{id:a}).then(function(e){e=e.data;2e4===e.code?(t({result:"success"}),U.Z.success("删除成功")):(t({result:"failed"}),U.Z.error(e.msg))}).catch(function(e){e=e.data;t({result:"failed"}),U.Z.error(e.msg)})}var n=e.deleteText,a=e.id,r=e.type,i=e.setParams;return x().useEffect(function(){i({confirmRun:t})},[]),x().createElement("div",{className:"yt_modal_dashboard_delete_wrapper"},n)};const X=Q;Q.propTypes={deleteText:O().string,setParams:O().func,id:O().string,type:O().oneOf(["dashboard","folder"])};const $={delete:function(e){var n=C()({},e,{dialogType:"danger",titleText:e.titleText||"确定删除此"+K[e.type]+"？",showClose:!1,content:e.content||x().createElement(X,e)});return n.onOk?(0,G.Z)(n):new Promise(function(e,t){n.onOk=e,n.onCancel=t,(0,G.Z)(n)})},folder:function(e){var n=C()({},e,{titleText:e.titleText||(e.name?"编辑":"新建")+"文件夹",titleHelp:e.titleHelp||"「个人文件夹」及文件夹里面的仪表盘只有创建者自己可见；「系统文件夹」是由管理员角色创建的，整个项目共享的文件夹，即非管理员也可以看见，且非管理员没有编辑和删除权限",content:e.content||x().createElement(Y,e)});return n.onOk?(0,G.Z)(n):new Promise(function(e,t){n.onOk=e,n.onCancel=t,(0,G.Z)(n)})},dashboard:function(e){var n=C()({},e,{titleText:e.titleText||("copy"===e.type?"复制":e.dashName?"编辑":"新建")+"仪表盘",titleHelp:e.titleHelp||"「个人文件夹」及文件夹里面的仪表盘只有创建者自己可见；「系统文件夹」是由管理员角色创建的，整个项目共享的文件夹，即非管理员也可以看见，且非管理员没有编辑和删除权限",content:e.content||x().createElement(Z,e)});return n.onOk?(0,G.Z)(n):new Promise(function(e,t){n.onOk=e,n.onCancel=t,(0,G.Z)(n)})}};var ee=l(92360),te=function(t){function e(e){var i=t.call(this,e)||this;return i._handelFolder=function(e){$.folder({name:e?e.name:"",id:e?e.id:"",type:e?e.folderType:"SYSTEM_FOLDER",projectId:M.t.get(M.V.curProject).id,personalOnly:!s.Z.hasAuthority("DASHBOARD_OPERATION"),onOk:function(){return i.freshMenu()},onCancel:function(){}})},i._handelDashboard=function(t,e,n,a){var r=P()(i).showMenu.map(function(e){return{label:e.name,value:e.id,menuType:e.menuType,folderType:e.folderType}}).filter(function(e){return"folder"===e.menuType&&(s.Z.hasAuthority("DASHBOARD_OPERATION")||"SELF_FOLDER"===e.folderType)});0!==r.length?$.dashboard({dashId:n,dashName:e,onOk:function(){return i.freshMenu()},folderOpts:r,folderId:t.fatherId?r.some(function(e){return e.value===t.fatherId})?t.fatherId:r[0].value:t.id,projectId:M.t.get(M.V.curProject).id,type:a,onCancel:function(){}}):ee.Message.warning("请新建“个人文件夹”再进行复制")},i.dashDelete=function(a){var r=P()(i).showMenu;$.delete({id:a.id,type:a.menuType,deleteText:"确认删除"+a.name+"?",onCancel:function(){},onOk:function(e){var t,n;"success"===e.result&&(n=(t=r.filter(function(e){return"dashboard"===e.menuType}))[0].id,e=r[0].id,"dashboard"===a.menuType?a.id===i.props.params.id&&c.mW.push((a.id!==n?t[0]:t[1]).path):r.filter(function(e){return e.fatherId===a.id}).map(function(e){return e.id}).includes(i.props.params.id)&&c.mW.push((a.id!==e?t:t.filter(function(e){return e.fatherId!==a.id}))[0].path),i.freshMenu())}})},i.closeDrop=function(){i.setState({searchShow:!1})},i.stop=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},i.jumpToNewMenu=function(e){var t=document.querySelector('a[href="/dashboard/'+e+'"]');t&&t.scrollIntoView({behavior:"smooth"}),i.closeDrop(),c.mW.push("/dashboard/"+e)},i.renderMenuSort=function(){var t=s.Z.hasAuthority("DASHBOARD_OPERATION");t&&new R.ZP(document.querySelector(".sortWrap"),{sort:!0,animation:150,draggable:".fold_sort_wrap_SYSTEM_FOLDER",handel:".disabled",onEnd:function(e){var t=e.oldIndex,n=e.newIndex;t!==n&&((e=i.sortMenu.filter(function(e){return"SYSTEM_FOLDER"===e.folderType}).map(function(e){return e.id})).splice(n,0,e.splice(t,1)[0]),i.sortDashMenu({type:"FOLDER",ids:e}))}}),new R.ZP(document.querySelector(".sortWrap"),{sort:!0,animation:150,draggable:".fold_sort_wrap_SELF_FOLDER",handel:".disabled",onEnd:function(e){var t=e.oldIndex,n=e.newIndex,a=i.sortMenu.filter(function(e){return"SELF_FOLDER"!==e.folderType}).length;t!==n&&((e=i.sortMenu.filter(function(e){return"SELF_FOLDER"===e.folderType}).map(function(e){return e.id})).splice(n-a,0,e.splice(t-a,1)[0]),i.sortDashMenu({type:"FOLDER",ids:e}))}}),Array.from(document.querySelectorAll(".dashboard_sort_wrap")).filter(function(e){return t||"SELF_FOLDER"===e.getAttribute("data-folderType")}).forEach(function(a){return new R.ZP(a,{sort:!0,animation:150,onEnd:function(e){var t=e.oldIndex,n=e.newIndex;t!==n&&((e=i.sortMenu.filter(function(e){return e.id===a.getAttribute("data-folderId")})[0].children.map(function(e){return{id:e.id,name:e.name}})).splice(n,0,e.splice(t,1)[0]),i.sortDashMenu({type:"DASHBOARD",ids:e.map(function(e){return e.id})}))}})})},i.freshMenu=function(){i.scrollTop=document.querySelector(".menuItem").scrollTop,i.props.fetchMenuList()},i.sortDashMenu=function(e){i.scrollTop=document.querySelector(".menuItem").scrollTop,i.props.sortDashboardMenu(e)},i.renderMenu=function(e,t){var n=i.props.shrinkMenu,a=s.Z.hasAuthority("DASHBOARD_OPERATION");return x().createElement("div",{className:"secondMenu "+("dark"===e.style?"dark":"disabled"===e.style?"disabled":""),key:"second"+t},x().createElement("div",{className:"wrap"},x().createElement(c.rU,{target:e.target||"",activeClassName:"is-active",className:"menu-a",to:e.path},x().createElement(F.Z,{overlayClassName:"dashboard_tooltip",overlay:x().createElement("div",{style:{width:"200px"}},"SYSTEM_FOLDER"===e.folderType?"此为系统文件夹，「系统文件夹」是由项目管理员创建的、整个项目共享的文件夹，而非管理员可以看见，但非管理员没有编辑和删除权限。":"此为个人文件夹。「个人文件夹」及文件夹里面的仪表盘只有创建者自己可见。"),placement:"topLeft",destroyTooltipOnHide:!0,overlayStyle:{display:"folder"!==e.menuType||n?"none":"block"}},x().createElement("i",{className:"icon-cem_"+(n&&!e.icon?"line":e.icon)+" iconfont "+("dark"===e.style?"dark_style":"")})),x().createElement("span",{className:"name",title:e.name,style:{width:"dark"===e.style?"148px":"122px"}},e.name)),!n&&"folder"===e.menuType&&("SELF_FOLDER"===e.folderType||a)&&x().createElement(F.Z,{overlay:"新建仪表盘",mouseEnterDelay:.5,placement:"top"},x().createElement("i",{className:"icon-cem_add-to add",onClick:function(){return i._handelDashboard(e)}})),!n&&x().createElement(V,{edit:"SELF_FOLDER"===e.folderType||a?function(){"dashboard"===e.menuType?i._handelDashboard(e,e.name,e.id):i._handelFolder(e)}:void 0,copy:"dashboard"===e.menuType?function(){i._handelDashboard(e,e.name,e.id,"copy")}:void 0,del:"SELF_FOLDER"===e.folderType||a?function(){return i.dashDelete(e)}:void 0,className:"more"},x().createElement("i",{className:"icon-cem_more-two-31 "}))))},i.state={searchShow:!1,projectId:M.t.get(M.V.curProject).id},i}I()(e,t);var n=e.prototype;return n.componentDidMount=function(){window.addEventListener("click",this.closeDrop),document.querySelector(".sortWrap")&&this.renderMenuSort()},n.componentDidUpdate=function(e){this.menuListFething!==e.menuListFething&&!1===e.menuListFething&&(this.renderMenuSort(),document.querySelector(".menuItem").scrollTop=this.scrollTop),this.menuListFething=e.menuListFething},n.render=function(){var n=this,e=this.props,t=e.shrinkMenu,a=e.menuListFething,r=this.state.searchShow,i=this.showMenu,e=this.sortMenu;return x().createElement("div",{className:(t?"shrink":"")+" menuWrap dash_wrap"},x().createElement("div",{className:"files"},x().createElement("span",null,"文件夹 ",x().createElement("span",null,"（",i.filter(function(e){return"folder"===e.menuType}).length,"）")),!t&&x().createElement("span",{className:"control"},x().createElement(F.Z,{overlay:"搜索仪表盘",placement:"top",mouseEnterDelay:.5},x().createElement("i",{className:"icon-cem_search",onClick:function(e){n.stop(e),n.setState({searchShow:!r})}})),x().createElement(F.Z,{overlay:"新建文件夹",placement:"top",mouseEnterDelay:.5},x().createElement("i",{className:"icon-cem_add-to",onClick:this._handelFolder}))),r&&x().createElement(z,{classNames:"dashboard_serach",onSel:function(e){return n.jumpToNewMenu(e)},showMenu:i})),x().createElement("div",{className:"menuItem",ref:function(e){return n.menu=e},onScroll:function(e){return n.props.scroll(e)}},x().createElement(ee.Loading,{loading:a,style:{height:"200px"}},!a&&x().createElement("div",{className:"sortWrap"},e&&e.map(function(e,t){return x().createElement("div",{key:t,className:"fold_sort_wrap_"+e.folderType},n.renderMenu(e,t),x().createElement("div",{className:"dashboard_sort_wrap","data-folderId":e.id,"data-folderType":e.folderType},e.children.map(function(e,t){return n.renderMenu(e,t)})))})))))},N()(e,[{key:"showMenu",get:function(){var e=this.props.secondMenu;return e&&e.child?e.child:[]}},{key:"sortMenu",get:function(){var e=this,t=[];return this.showMenu.filter(function(e){return"folder"===e.menuType}).forEach(function(e){e.children=[],t.push(e)}),t.forEach(function(t){e.showMenu.forEach(function(e){e.fatherId===t.id&&t.children.push(e)})}),t}}]),e}(x().Component);te.contextTypes={};const ne=te;var ae=l(15941),re=function(e){function t(t){g.h.post("user/opinion/delete",{ids:a}).then(function(e){e=e.data;2e4===e.code?(t({result:"success"}),U.Z.success("删除成功")):(t({result:"failed"}),U.Z.error(e.msg))}).catch(function(e){e=e.data;t({result:"failed"}),U.Z.error(e.msg)})}var n=e.deleteText,a=e.ids,r=e.setParams;return x().useEffect(function(){r({confirmRun:t})},[]),x().createElement("div",{className:"yt_modal_dashboard_delete_wrapper"},n)};const ie=re;re.propTypes={deleteText:O().string,setParams:O().func,ids:O().string};const oe={delete:function(e){var n=C()({},e,{dialogType:"danger",titleText:e.titleText||"确定删除此典型意见？",showClose:!1,content:e.content||x().createElement(ie,e)});return n.onOk?(0,G.Z)(n):new Promise(function(e,t){n.onOk=e,n.onCancel=t,(0,G.Z)(n)})}};l(21218);var se=l(64396),ce=se.Z.public.menu,ue=se.Z.global,le=function(t){function e(e){var s=t.call(this,e)||this;return s.setData=function(e){var t=e.inboxMenu,e=e.selProjectItem;t.find(function(e){return"brand"===e.special}).child.filter(function(e){return 2===e.type}).map(function(e){return e.path}).includes(location.pathname)&&t.find(function(e){return"brand"===e.special}).child.forEach(function(e){"brandDetailOverview"===e.special?(e.name=t.find(function(e){return"brand"===e.special}).child.find(function(e){return e.path&&-1!==e.path.indexOf(D().getQuery("id"))}).name+"概览",e.path="/brand/analyzing?id="+D().getQuery("id")):2===e.type&&"disabled"!==e.style&&(e.path=e.path+"?id="+D().getQuery("id"))}),s.setState({inboxMenu:t,selProjectItem:e,seted:!0})},s.locationListener=function(){var e=window.location.pathname;e!==s.pathname&&s.setMenu(),s.pathname=e},s.getAllWarningCount=function(){var t=s.state.projectId;g.h.post("/warning/log/user/aspect/warning/unread/count").then(function(e){e=e.data;2e4!==e.code||(e=e.result.find(function(e){return e.projectId===t}))&&s.props.setAspectWarningCount({count:e.unreadTotal})})},s.showCount=function(e){switch(!0){case e<1e3:return e;case e<1e4:return new String(e).replace(/(?=(\B)(\d{3})+$)/g,",");case e<1e6:return(e/1e4|0)+"万+";case e<1e7:return(e/1e6|0)+"百万+";case e<1e8:return(e/1e7|0)+"千万+";default:return(e/1e8|0)+"亿+"}},s.renderMessageStyle=function(e){var t=s.state.selProjectItem,n=s.props,i=n.shrinkMenu,o=n.allMessageCount,e=e?e.filter(function(e){return!e.projectId||e.projectId===t.id}).filter(function(e){return!e.projectAuthority||(M.t.get(M.V.curProject).submenu||[]).includes(e.projectAuthority)}).filter(function(e){return!e.type||e.type===s.type||e.type===s.accountType}):[];return x().createElement("div",{className:"menuWrap",onScroll:function(e){return s.scroll(e)},style:{maxHeight:"calc(100% - 100px)"}},x().createElement("div",{className:"menuItem"},e.some(function(e){return e.showBack})&&x().createElement("div",{className:"back_to_last"},x().createElement("div",{onClick:function(){return M.t.get(M.V.leaveRouter,"session")?c.mW.push(M.t.get(M.V.leaveRouter,"session")):console.error("未获取到菜单")}},x().createElement("i",{className:"icon-fanhui1"}),x().createElement("span",null,"返回上级"))),e.map(function(t,e){var n=t.path&&t.path.startsWith("/opinion/");t.message=0;o.length;Number(t.messageTypeId)!==Number(o.id)&&("all"!==t.messageTypeId||o.id)||(t.message=o.total),s.props.personalMessageCount.forEach(function(e){e.id===t.id&&(t.message=e.total)}),"/aspectWarning"===t.path&&(t.message=s.props.aspectWarningCount);var a=t.path?t.path.split("?"):[],r=a[0],a=a[1],r={pathname:r};return a&&(r.search="?"+a),t.state&&(r.state=t.state),!(s.props.location.state&&s.props.location.state.title?s.props.location.state.title:void 0)||"/account/project/comment/subscribe"!==r.pathname&&"/account/project/price/subscribe"!==r.pathname||(r.state={titles:[{title:"所有项目",url:"/account/project"}]}),x().createElement("div",{className:"secondMenu "+("dark"===t.style?"dark":"disabled"===t.style?"disabled":"")+" "+("hide"===t.style?"hide":""),key:"second"+e},x().createElement("div",{className:"wrap "+(i?"info_fold":"")},x().createElement(c.rU,{target:t.target||"",activeClassName:"is-active",className:"menu-a "+(i?"":"unfold"),to:"disabled"===t.style?null:r,onClick:function(){t.setLeaveSession&&M.t.set(M.V.leaveRouter,s.props.location||t.setLeaveSession,"session")}},x().createElement("i",{className:"icon-cem_"+t.icon+" icon-"+t.icon+" iconfont "+(0<t.message&&!t.messageTypeId?"circle_badge":"")}),x().createElement("span",{className:"name"},t.name),0<t.message&&x().createElement("span",{className:"message "+(t.messageTypeId?"gray":"")+" "+(i?"fold_count":"")},s.showCount(t.message))),n&&!i&&x().createElement(V,{className:"more",del:function(){return s.handleOnCardDelete(t.path)}},x().createElement("i",{className:"icon-cem_more-two-31 "}))))})))},s.renderSettingStyle=function(){var n=s.props.shrinkMenu;return x().createElement("div",{className:"menuWrap back-end",onScroll:function(e){return s.scroll(e)},style:{maxHeight:"calc(100% - 34px)"}},s.state.menu&&s.state.menu.map(function(e,t){return x().createElement("div",{className:"menuItem",key:"item"+t},e.path?x().createElement(c.rU,{to:e.path,className:"menu-a top-menu",activeClassName:"is-active"},x().createElement("span",null,e.name),x().createElement("i",{className:"icon-cem_"+e.icon})):x().createElement("a",{className:"menu-a top-menu top-menu-default"},x().createElement("span",null,n?e.name.substring(0,-1!==e.name.indexOf("（")?e.name.indexOf("（"):4):e.name)),x().createElement("div",{className:"secondMenu person_center",style:{height:46*e.child.length+"px"}},e.child&&e.child.map(function(e,t){return x().createElement("div",{className:"wrap person_wrap  "+(n?"is_fold":""),key:"second"+t},x().createElement(c.rU,{activeClassName:"is-active",className:"menu-a",to:e.path},x().createElement("i",{className:"icon-cem_"+e.icon+" icon-"+e.icon+" iconfont"}),x().createElement("span",{className:"name"},e.name)))})))}))},s.handleOnCardDelete=function(e){var t=e.split("/").filter(function(e){return e}),n=t[0],t=t[1];"opinion"===n&&oe.delete({ids:[t],onOk:function(){s.props.fetchMenuList(),window.location.pathname===e&&c.mW.replace("/opinion")},onCancel:function(){}})},s.state={projectId:M.t.get(M.V.curProject).id,model:"",menu:[],inboxMenu:[],selProjectItem:{},dialogVisible:!1,editIndex:null,inputName:!1,logoUrl:""},s}I()(e,t);var n=e.prototype;return n.shrinking=function(){this.props.changeShrink().then(function(e){e=e.payload.shrinkMenu;M.t.set(M.V.shrink,e),document.getElementById("right-wrap").style.left=e?"60px":"256px";e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)})},n.scroll=function(t){document.querySelectorAll(".secondMenu span.name").forEach(function(e){e.style.setProperty("--y",-t.target.scrollTop-1+"px")})},n.setMenu=function(){var e=window.location.pathname;-1!==e.indexOf("personalSettings")?this.setState({menu:(0,ae.Zn)(),model:"personSetting"}):-1!==e.indexOf("account/project/")?this.setState({menu:(0,ae.Mp)(),model:"projectSetting"}):-1!==e.indexOf("account")?this.setState({menu:(0,ae.Rh)(),model:"accountSetting"}):this.setState({model:"front"})},n.componentDidMount=function(){this.getAllWarningCount(),this.setMenu(),this.props.fetchPersonalCount(),document.getElementById("right-wrap").style.left=this.props.shrinkMenu?"60px":"256px",window.addEventListener("click",this.locationListener),window.addEventListener("popstate",this.locationListener,!1)},n.componentWillUnmount=function(){window.removeEventListener("click",this.locationListener)},n.renderSetting=function(){var e,t=this,n=this.props,a=n.shrinkMenu,r=n.location.pathname,i="";return s.Z.hasAuthority("QUESTIONNAIRE_BOARD_SETTING")&&r.startsWith("/research")?i="/research/setting":s.Z.hasAuthority("SERVICE_CLASSIFICATION")&&r.startsWith("/service")?i="/service/setting":s.Z.hasAuthority("SUBSCRIBE_URL_SETTING")&&r.startsWith("/product")||s.Z.hasAuthority("SUBSCRIBE_URL_SETTING")&&r.startsWith("/opinion")||s.Z.hasAuthority("SUBSCRIBE_URL_SETTING")&&r.startsWith("/aspectWarning")?(n=(e=M.t.get(M.V.curProject)).id,e=e.name,M.t.set(M.V.backProjectConfig,{id:n,name:e}),i="/account/project/comment/subscribe"):s.Z.hasAuthority("SUBSCRIBE_URL_PRICE_SETTING")&&r.startsWith("/price")&&(i="/account/project/price/subscribe"),i?x().createElement("span",{className:"setting_button "+(i===r||r.startsWith("/product/config")||r.startsWith("/price/config")?"is-active":""),style:{transform:a?"scale(0)":"scale(1)"},onClick:function(){M.t.set(M.V.leaveRouter,t.props.location||"","session"),c.mW.push({state:{titles:[{title:"项目概览",url:"/product/overview"}]},pathname:i})}},x().createElement("i",{className:"icon-cem_collection-settings"}),x().createElement("span",null,"配置")):""},n.render=function(){var e=this,t=this.state,n=t.selProjectItem,a=t.model,r=this.props,i=r.shrinkMenu,o=r.fetchMenuList,s=r.sortDashboardMenu,c=r.menuListFething,u=r.fetchPublicData,t="http://yunting-1251101074.coscd.myqcloud.com",r=l(26663);return x().createElement("div",{className:(i?"shrink":"")+" nav"},x().createElement(A.Z,{ref:"leftHeader",onDataChange:this.setData,fetchPublicData:u}),x().createElement("div",{className:"menu-bottom-wrap"},x().createElement("div",{className:(i?"":"shrink_active")+" shrinkIcon",onClick:function(){return e.shrinking()}},x().createElement("i",{className:"icon-cem_next-page"})),-1!==["front","projectSetting"].indexOf(a)&&x().createElement("div",{className:"sel-project-name"},x().createElement("div",{className:"project-wrap"},x().createElement("p",{className:"project-avatar"},"front"===a?x().createElement("img",{src:n.pictureUrl?t+n.pictureUrl:r}):x().createElement("img",{src:M.t.get(M.V.project).find(function(e){return e.id===M.t.get(M.V.backProjectConfig).id}).pictureUrl?t+M.t.get(M.V.project).find(function(e){return e.id===M.t.get(M.V.backProjectConfig).id}).pictureUrl:r})),x().createElement("p",{className:"project-name",style:{display:i?"none":"block"}},"front"===a?n.name:M.t.get(M.V.backProjectConfig)?M.t.get(M.V.backProjectConfig).name:""))),-1!==["front","projectSetting"].indexOf(a)&&(this.secondMenu&&"dashboard"===this.secondMenu.special?x().createElement(ne,C()({},this.props,{secondMenu:this.secondMenu,selProjectItem:n,shrinkMenu:i,fetchMenuList:o,sortDashboardMenu:s,scroll:this.scroll,menuListFething:c})):this.renderMessageStyle(("front"===a?this.secondMenu:this.state.menu[0]).child)),-1!==["personSetting","accountSetting"].indexOf(a)&&this.renderSettingStyle(),x().createElement("div",{className:"shrink-bottom"},x().createElement("div",{className:"bottom_left"},this.renderSetting()))))},N()(e,[{key:"isNotSetting",get:function(){var e=window.location.pathname;return-1===e.indexOf("personalSettings")&&-1===e.indexOf("account")}},{key:"secondMenu",get:function(){var n=this;if(this.isNotSetting){var a,e=1===window.location.search.indexOf("%")||-1!==window.location.search.indexOf("source=detail")||-1!==window.location.search.indexOf("publicOpinionTopicId")||-1!==window.location.search.indexOf("specialTopicName")||"/research/setting/template"===window.location.pathname||"/research/setting/edit"===window.location.pathname||"/account/project/base"===window.location.pathname||"/account/project/base/sku"===window.location.pathname||-1!==window.location.pathname.indexOf("/explore/free/result")||-1!==window.location.pathname.indexOf("/explore/opinion/screen")?"":window.location.search,r=window.location.pathname+e;return this.state.inboxMenu.forEach(function(t){t.child.forEach(function(e){(e.path===r||e.childPath&&-1!==e.childPath.indexOf(r))&&(n.type=e.target?2:e.type,a=t)})}),a?a:{}}return{}}},{key:"accountType",get:function(){var t=window.location.pathname,n="";return this.state.menu.forEach(function(e){e.child.forEach(function(e){(e.path===t||e.childPath&&-1!==e.childPath.indexOf(t))&&(n=e.type)})}),n}}]),e}(x().Component);const pe=(0,o.connect)(function(e){var t=e.loading,n=e.inbox,e=E()(e,["loading","inbox"]);return{allMessageCount:n.allMessageCount,personalMessageCount:e[ce].personalMessageCount,shrinkMenu:e[ce].shrinkMenu,aspectWarningCount:e[ce].aspectWarningCount,menuListFething:t.effects[ce+"/fetchMenuList"]}},function(t){return{fetchPersonalCount:function(){return t({type:ce+"/fetchPersonalCount"})},changeShrink:function(){return t({type:ce+"/changeShrink"})},setAspectWarningCount:function(e){return t({type:ce+"/setAspectWarningCount",payload:e})},sortDashboardMenu:function(e){return t({type:ce+"/sortDashboardMenu",payload:e})},fetchMenuList:function(e){return t({type:ce+"/fetchMenuList",payload:e})},fetchPublicData:function(e){return t({type:ue+"/fetchPublicData",payload:e})}}})(le);var de=function(e){function t(){var t=e.call(this)||this;return t.setWarningCount=function(e){return t.setState({warningCount:e})},t.tip=function(){return'\n  <div>\n    <div>\n      <img src="../../.././images/whiteScreen.png" />\n      <div>页面白屏？尝试清空缓存以修复</div>\n      <div>清空缓存</div>\n    </div>\n  </div>\n'},t.state={left:"256px",warningCount:0},t}I()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.nodeTimes=0},n.render=function(){return x().createElement("div",{className:"menu-container"},"/login"===location.pathname||"/tourists/active"===location.pathname?"":x().createElement(pe,this.props),x().createElement("div",{className:"right-container",id:"right-wrap"},x().createElement("div",{className:"mainContent"},this.props.children)))},t}(a.Component),fe=l(37342),he=l(75820);const me=function(e){var t=x().useState,n=t[0],t=t[1];return x().useEffect(function(){n&&(n.onerror=function(){n.src=he})},[n]),x().createElement("div",{className:"plain-container"},x().createElement("div",{className:"top"},x().createElement("div",{className:"logo"},x().createElement("a",{href:"/overview"},x().createElement("img",{src:s.Z.getUser()&&s.Z.getUser().accountHead?s.Z.getUser().accountHead:"//yunting-1251101074.coscd.myqcloud.com/account_head/"+window.location.hostname+"/128_45.png",ref:t,className:"log_img",alt:""})))),x().createElement("div",{className:"content"},e.children))};function ve(e,t,n){e.location.query.id?t(null,function(){return x().createElement(n,null)}):t(null,De)}var ye=b(function(){return Promise.all([l.e(4736),l.e(540),l.e(8625)]).then(l.bind(l,38625))}),ge=[{path:"/inbox",name:"public",onEnter:function(e,t){"/inbox"===e.location.pathname&&t("/inbox/public")},childRoutes:[{path:"public",name:"publicInbox",component:ye},{path:"commont",name:"commont",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"COMMENT"})})}},{path:"questions",name:"questions",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"QUE_ANS"})})}},{path:"bbs",name:"bbs",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"BBS"})})}},{path:"social",name:"social",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"SOCIAL"})})}},{path:"self",name:"self",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"SELF"})})}},{path:"news",name:"news",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"NEWS"})})}},{path:"complaint",name:"complaint",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"COMPLAINT"})})}},{path:"video",name:"video",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"VIDEO"})})}},{path:"questionnaire",name:"questionnaire",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"QUESTIONAIRE"})})}},{path:"question",name:"question",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"QUESTION"})})}},{path:"service",name:"service",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{messageType:"SERVICE"})})}},{path:"personal",name:"personalInbox",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{model:"PERSONAL"})})}},{path:"folder",name:"folderInbox",getComponents:function(e,t){t(null,function(){return x().createElement(ye,C()({model:"FOLDER",folderId:e.location.query.id},e))})}},{path:"archive",name:"archiveInbox",getComponents:function(e,t){t(null,function(){return x().createElement(ye,{model:"ARCHIVE"})})}}]}],xe=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(1433)]).then(l.bind(l,78496))}),be=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(2934)]).then(l.bind(l,2402))}),Te=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(2475),l.e(4074)]).then(l.bind(l,54074))}),Ie=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(2475),l.e(6904)]).then(l.bind(l,86904))}),we=b(function(){return l.e(5304).then(l.bind(l,35304))}),Ee=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(2475),l.e(7040)]).then(l.bind(l,56172))}),ke=[{path:"/social",component:b(function(){return Promise.resolve().then(l.bind(l,37342))}),childRoutes:[{path:"tag/brand/detail",name:"brandDetail",getComponents:function(e,t){t(null,function(){return x().createElement(we,{type:"brandDetail"})})}},{path:"tag/models/detail",name:"modelsDetail",getComponents:function(e,t){t(null,function(){return x().createElement(we,{type:"modelsDetail"})})}}]}],Ce=[{path:"/social",name:"social",onEnter:function(e,t){"/social"===e.location.pathname&&t("/social/overview")},childRoutes:[{path:"overview",name:"overview",component:xe},{path:"models",name:"models",onEnter:function(e,t){"/models"===e.location.pathname&&t("/models/top10")},childRoutes:[{path:"top10",name:"top10",component:be},{path:"comparison",name:"comparison",component:Te}]},{path:"tag",name:"tag",onEnter:function(e,t){"/tag"===e.location.pathname&&t("/tag/brand/top")},childRoutes:[{path:"brand",name:"brand",childRoutes:[{path:"top",name:"brandTop",getComponents:function(e,t){t(null,function(){return x().createElement(Ie,C()({},e,{key:"brandTop"}))})}},{path:"trend",name:"brandTrend",getComponents:function(e,t){t(null,function(){return x().createElement(Ee,C()({type:"brandTrend",key:"brandTrend"},e))})}}]},{path:"models",name:"models",childRoutes:[{path:"top",name:"modelsTop",getComponents:function(e,t){t(null,function(){return x().createElement(Ie,C()({},e,{key:"modelsTop"}))})}},{path:"trend",name:"modelsTrend",getComponents:function(e,t){t(null,function(){return x().createElement(Ee,C()({type:"modelsTrend",key:"modelsTrend"},e))})}}]}]}]}],Se=b(function(){return Promise.all([l.e(4736),l.e(2840),l.e(9618),l.e(157),l.e(5278),l.e(390)]).then(l.bind(l,37957))}),Ne=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(8642),l.e(1031)]).then(l.bind(l,31031))}),_e=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(8642),l.e(102)]).then(l.bind(l,70102))}),Oe=b(function(){return Promise.all([l.e(4736),l.e(3330),l.e(6198),l.e(8642),l.e(6566)]).then(l.bind(l,6566))}),je=(b(function(){return Promise.all([l.e(4736),l.e(2840),l.e(9618),l.e(3361)]).then(l.bind(l,73361))}),[{path:"/product",name:"product",onEnter:function(e,t){"/product"===e.location.pathname&&t("/product/overview")},childRoutes:[{path:"overview",name:"productOverview",getComponents:function(e,t){t(null,function(){return x().createElement(Se,C()({key:"overview",type:"overview"},e))})}},{path:"analyze",name:"productAnalyze",getComponents:function(e,t){t(null,function(){return x().createElement(Se,C()({key:"product",type:"product"},e))})}},{path:"service",name:"productService",getComponents:function(e,t){t(null,function(){return x().createElement(Se,C()({key:"service",type:"service"},e))})}},{path:"marketing",name:"productMarketing",getComponents:function(e,t){t(null,function(){return x().createElement(Se,C()({key:"marketing",type:"marketing"},e))})}},{path:"aspectTrend",name:"productAspectTrend",component:b(function(){return Promise.all([l.e(4736),l.e(540),l.e(5932)]).then(l.bind(l,5932))})},{path:"selfAnalysis",name:"selfAnalysis",component:Oe},{path:"customer",name:"customerProduct",component:Ne},{path:"compare",name:"compareProduct",component:_e}]}]),De=b(function(){return l.e(9167).then(l.bind(l,99167))}),Me=b(function(){return l.e(6883).then(l.bind(l,66883))}),Ae=b(function(){return l.e(1652).then(l.bind(l,21652))}),Le=b(function(){return l.e(1455).then(l.bind(l,1455))}),Pe=b(function(){return l.e(6880).then(l.bind(l,26880))}),Fe=b(function(){return l.e(7500).then(l.bind(l,37500))}),Re=b(function(){return l.e(8292).then(l.bind(l,78292))}),ze=[{path:"/brand",name:"BrandOverview",onEnter:function(e,t){"/brand"===e.location.pathname&&t("/brand/analyze/overview")},childRoutes:[{path:"analyze/overview",name:"BrandOverview",component:Fe},{path:"analyzing",name:"BrandAnalyze",indexRoute:{getComponents:function(e,t){return ve(e,t,Re)}}},{path:"channel",name:"AnalyzeOfChannel",indexRoute:{getComponents:function(e,t){return ve(e,t,Me)}}},{path:"content",name:"AnalyzeOfContent",indexRoute:{getComponents:function(e,t){return ve(e,t,Ae)}}},{path:"interaction",name:"AnalyzeOfInteraction",indexRoute:{getComponents:function(e,t){return ve(e,t,Le)}}},{path:"index",name:"index",indexRoute:{getComponents:function(e,t){return ve(e,t,Pe)}}}]}],Ve=(b(function(){return Promise.all([l.e(8458),l.e(3062)]).then(l.bind(l,13062))}),b(function(){return Promise.all([l.e(8458),l.e(5958)]).then(l.bind(l,25958))})),Be=b(function(){return l.e(8224).then(l.bind(l,8224))}),qe=[{path:"/service",name:"service",childRoutes:[{path:"setting",name:"setting",component:b(function(){return l.e(1014).then(l.bind(l,91014))})},{path:"overview",name:"overview",component:b(function(){return Promise.all([l.e(4736),l.e(540),l.e(3478)]).then(l.bind(l,30500))})},{path:"spu",name:"spu",component:b(function(){return Promise.all([l.e(4736),l.e(540),l.e(1703),l.e(7566),l.e(9280)]).then(l.bind(l,77361))})},{path:"match",name:"match",component:b(function(){return Promise.all([l.e(4736),l.e(540),l.e(1703),l.e(7734)]).then(l.bind(l,41377))})},{path:"commodityAnalyze",name:"commodityAnalyze",indexRoute:{component:Ve},childRoutes:[{path:"detail",name:"detail",component:Be}]},{path:"concernAnalyze",name:"concernAnalyze",indexRoute:{component:b(function(){return Promise.all([l.e(4736),l.e(540),l.e(1703),l.e(7566),l.e(5806)]).then(l.bind(l,89165))})}},{path:"gombitAnalyze",name:"gombitAnalyze",indexRoute:{component:b(function(){return Promise.all([l.e(4736),l.e(540),l.e(1703),l.e(7566),l.e(7198)]).then(l.bind(l,36724))})}}]}],Ue=b(function(){return Promise.all([l.e(4736),l.e(8971)]).then(l.bind(l,88971))}),He=b(function(){return Promise.all([l.e(4736),l.e(3544)]).then(l.bind(l,83544))}),We=b(function(){return Promise.all([l.e(4736),l.e(6735)]).then(l.bind(l,46735))}),Ze=b(function(){return l.e(9167).then(l.bind(l,99167))}),Je=[{path:"dashboard",name:"dashboard",childRoutes:[{path:":id",name:"dashboardView",indexRoute:{getComponents:function(e,t){e.params.id?t(null,function(){return x().createElement(Ue,C()({key:e.location.query.id},e))}):t(null,Ze)}},childRoutes:[{path:"list",name:"DashboardTemplateList",component:He},{path:"edit",name:"DashboardTemplateEdit",component:We}]}]}],Ye=b(function(){return l.e(4060).then(l.bind(l,44060))}),Ge=b(function(){return Promise.all([l.e(4736),l.e(214)]).then(l.bind(l,30214))}),Ke=b(function(){return l.e(7762).then(l.bind(l,7762))}),Qe=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(8245),l.e(4162),l.e(8603),l.e(2137)]).then(l.bind(l,54792))}),Xe=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(8245),l.e(4162),l.e(8603),l.e(1940)]).then(l.bind(l,86666))}),$e=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(8245),l.e(4162),l.e(6118)]).then(l.bind(l,86118))}),et=b(function(){return l.e(4849).then(l.bind(l,14849))}),tt=b(function(){return l.e(1322).then(l.bind(l,91322))}),nt=b(function(){return l.e(1427).then(l.bind(l,11427))}),at=b(function(){return l.e(8577).then(l.bind(l,58577))}),rt=[{path:"/research",name:"research",childRoutes:[{path:"overview",name:"overview",component:b(function(){return Promise.all([l.e(8245),l.e(994)]).then(l.bind(l,40994))})},{path:"contact",name:"contact",component:at},{path:"manage",name:"manage",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(Ye,e)})}},childRoutes:[{path:"analysis",name:"analysis",component:Qe},{path:"distribute",name:"distribute",component:Ge,childRoutes:[]},{path:"distribute/edit",name:"distributeEdit",component:Ke}]},{path:"board",name:"board",childRoutes:[{path:"nps/:id",name:"nps",getComponents:function(e,t){var n=e.params;t(null,function(){return x().createElement(Xe,{key:n.id})})}},{path:"satisfaction/:id",name:"satisfaction",getComponents:function(e,t){var n=e.params;t(null,function(){return x().createElement($e,{key:n.id})})}}]},{path:"setting",name:"setting",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(et,e)})}},childRoutes:[{path:"edit",name:"settingEdit",component:tt},{path:"template",name:"templateEdit",component:nt}]}]}],it=b(function(){return l.e(8048).then(l.bind(l,68048))}),ot=b(function(){return l.e(136).then(l.bind(l,70136))}),st=b(function(){return l.e(3004).then(l.bind(l,93004))}),ct=b(function(){return l.e(8086).then(l.bind(l,68086))}),ut=b(function(){return Promise.all([l.e(3330),l.e(5654)]).then(l.bind(l,12008))}),lt=b(function(){return l.e(1093).then(l.bind(l,81093))}),pt=b(function(){return l.e(9338).then(l.bind(l,19338))}),dt=b(function(){return Promise.all([l.e(4736),l.e(6148)]).then(l.bind(l,46148))}),ft=b(function(){return Promise.all([l.e(4736),l.e(8481)]).then(l.bind(l,8481))}),ht=b(function(){return l.e(6219).then(l.bind(l,16219))}),mt=b(function(){return l.e(9710).then(l.bind(l,99710))}),vt=b(function(){return l.e(9350).then(l.bind(l,69350))}),yt=b(function(){return l.e(9158).then(l.bind(l,39158))}),gt=b(function(){return Promise.all([l.e(4736),l.e(2840),l.e(9618),l.e(9973)]).then(l.bind(l,99973))}),xt=b(function(){return Promise.all([l.e(4736),l.e(8011)]).then(l.bind(l,98011))}),bt=[{path:"/price",name:"price",childRoutes:[{path:"overview",name:"price/overview",component:it},{path:"branding",name:"price/branding",component:ot},{path:"product",name:"price/product",getComponents:function(e,t){t(null,function(){return x().createElement(st,{pageType:"MODEL"})})}},{path:"spu",name:"price/spu",getComponents:function(e,t){t(null,function(){return x().createElement(st,{pageType:"SPU"})})}},{path:"shop",name:"price/shop",getComponents:function(e,t){t(null,function(){return x().createElement(st,{pageType:"SHOP"})})}},{path:"spu",name:"price/spu",getComponents:function(e,t){t(null,function(){return x().createElement(st,{pageType:"SPU"})})}},{path:"realTimePrice",name:"realTimePrice",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(xt,C()({type:"ALL"},e))})}},childRoutes:[{path:"priceDetail",name:"priceDetail",component:b(function(){return l.e(9914).then(l.bind(l,49914))})}]},{path:"star",name:"priceDetailStar",getComponents:function(e,t){t(null,function(){return x().createElement(xt,C()({type:"STAR"},e))})}}]},{path:"/priceHistory",name:"priceHistory",component:ht},{path:"/priceWarning",name:"priceWarning",indexRoute:{component:mt},childRoutes:[{path:"add",name:"addWarning",component:vt},{path:"weChatPush",name:"weChatPush",component:yt}]},{path:"/priceCompare",name:"priceCompare",component:gt},{path:"/priceChaos",name:"priceChaos",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(ct,C()({key:e.location.query.id},e))})}},childRoutes:[{path:"pushLog",name:"PricePushLog",component:lt},{path:"editRule",name:"PriceEditRule",component:ut},{path:"ruleList",name:"PriceRuleList",component:pt},{path:"screenshot",name:"PriceScreenshot",component:dt}]},{path:"/priceMonitorChart",name:"priceMonitorChart",component:ft}],r=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(8642),l.e(2360)]).then(l.bind(l,52360))}),i=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(8642),l.e(3280)]).then(l.bind(l,3280))}),m=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(8642),l.e(6759)]).then(l.bind(l,56759))}),Tt=b(function(){return Promise.all([l.e(3330),l.e(6198),l.e(8642),l.e(2158)]).then(l.bind(l,32158))}),T=[{path:"/market",name:"market",childRoutes:[{path:"newMonitoring",name:"newMonitoring",component:r},{path:"hotDiscovery",name:"hotDiscovery",component:i},{path:"salesAnalysis",name:"salesAnalysis",component:m},{path:"brandAnalysis",name:"brandAnalysis",getComponents:function(e,t){t(null,function(){return x().createElement(Tt,{key:"brand"})})}},{path:"modelAnalysis",name:"modelAnalysis",getComponents:function(e,t){t(null,function(){return x().createElement(Tt,{key:"model"})})}}]}],w=b(function(){return l.e(2250).then(l.bind(l,72250))}),k=b(function(){return Promise.all([l.e(4736),l.e(5862)]).then(l.bind(l,75862))}),S=b(function(){return l.e(6368).then(l.bind(l,1242))}),_=b(function(){return Promise.all([l.e(4736),l.e(6478)]).then(l.bind(l,86478))}),L=b(function(){return Promise.all([l.e(4736),l.e(1125)]).then(l.bind(l,33862))}),B=b(function(){return l.e(8167).then(l.bind(l,12475))}),W=b(function(){return l.e(1554).then(l.bind(l,31554))}),It=b(function(){return l.e(9167).then(l.bind(l,99167))}),J=b(function(){return l.e(2538).then(l.bind(l,2538))}),Q=b(function(){return l.e(7131).then(l.bind(l,17131))}),te=b(function(){return l.e(2715).then(l.bind(l,92715))}),re=b(function(){return Promise.all([l.e(4736),l.e(6083)]).then(l.bind(l,86083))}),O=b(function(){return l.e(5003).then(l.bind(l,5003))}),le=b(function(){return l.e(8651).then(l.bind(l,48651))}),xe=b(function(){return l.e(7182).then(l.bind(l,7182))}),be=b(function(){return l.e(5072).then(l.bind(l,75072))}),Te=b(function(){return l.e(1347).then(l.bind(l,81347))}),Oe=b(function(){return Promise.all([l.e(4736),l.e(5585)]).then(l.bind(l,85585))}),Ne=b(function(){return Promise.all([l.e(4736),l.e(8194)]).then(l.bind(l,4521))}),_e=b(function(){return Promise.all([l.e(8505),l.e(236)]).then(l.bind(l,43775))}),Fe=b(function(){return Promise.all([l.e(8505),l.e(1047)]).then(l.bind(l,8469))}),Ve=b(function(){return Promise.all([l.e(5278),l.e(4222)]).then(l.bind(l,18514))}),Be=b(function(){return Promise.resolve().then(l.bind(l,21218))}),He=b(function(){return Promise.all([l.e(4736),l.e(2840),l.e(157),l.e(3921)]).then(l.bind(l,4333))}),We=b(function(){return l.e(8490).then(l.bind(l,98490))}),at=b(function(){return l.e(7986).then(l.bind(l,87986))}),Qe=b(function(){return Promise.all([l.e(4736),l.e(7518)]).then(l.bind(l,92017))}),Ge=b(function(){return l.e(7018).then(l.bind(l,7018))}),Ke=b(function(){return l.e(8327).then(l.bind(l,28327))}),tt=b(function(){return l.e(4400).then(l.bind(l,24400))}),nt=b(function(){return l.e(822).then(l.bind(l,55003))}),it=b(function(){return l.e(6940).then(l.bind(l,16940))}),ot=b(function(){return Promise.all([l.e(4736),l.e(1387)]).then(l.bind(l,21387))}),ht=b(function(){return Promise.all([l.e(4736),l.e(5979)]).then(l.bind(l,5979))}),mt=b(function(){return l.e(5292).then(l.bind(l,5292))}),wt=b(function(){return l.e(2659).then(l.bind(l,42659))}),vt=b(function(){return l.e(3040).then(l.bind(l,13040))}),yt=b(function(){return l.e(370).then(l.bind(l,60370))}),gt=b(function(){return l.e(1725).then(l.bind(l,81725))}),lt=b(function(){return l.e(1542).then(l.bind(l,61542))}),ut=b(function(){return Promise.all([l.e(5379),l.e(1862)]).then(l.bind(l,10723))}),pt=b(function(){return Promise.all([l.e(5379),l.e(3216)]).then(l.bind(l,78500))}),dt=b(function(){return l.e(1780).then(l.bind(l,81780))}),ft=b(function(){return Promise.all([l.e(4736),l.e(2537)]).then(l.bind(l,52862))}),r=(b(function(){return Promise.all([l.e(8929),l.e(3468)]).then(l.bind(l,48850))}),b(function(){return l.e(1450).then(l.bind(l,61450))})),i=b(function(){return Promise.all([l.e(4736),l.e(9215)]).then(l.bind(l,79215))}),m=b(function(){return Promise.all([l.e(8929),l.e(9387)]).then(l.bind(l,87771))}),Et=b(function(){return Promise.all([l.e(4736),l.e(747)]).then(l.bind(l,25876))}),kt=b(function(){return Promise.all([l.e(4736),l.e(4878)]).then(l.bind(l,88562))}),Ct=b(function(){return Promise.all([l.e(4736),l.e(1414)]).then(l.bind(l,81414))}),Oe=[{path:"/account",name:"account",onEnter:function(e,t){"/account"===e.location.pathname&&t("/account/overview")},childRoutes:[{path:"overview",name:"accountOverview",component:w},{path:"customSetting",name:"customSetting",component:k},{path:"user",name:"user",component:it,indexRoute:{component:ht},childRoutes:[{path:"userEdit",name:"userEdit",component:ot}]},{path:"team",name:"team",indexRoute:{component:mt},childRoutes:[{path:"edit",name:"teamEdit",getComponents:function(e,t){var n=e.location.state;n&&n.id?t(null,function(){return x().createElement(wt,C()({key:n.id},e))}):t(null,It)}}]},{path:"role",name:"role",component:vt},{path:"project",name:"project",indexRoute:{component:Be},childRoutes:[{path:"preview",name:"projectPreview",component:re},{path:"linkTopic",name:"linkTopic",indexRoute:{component:gt},childRoutes:[{path:"value",name:"value",component:lt}]},{path:"base",name:"base",indexRoute:{component:ut},childRoutes:[{path:"sku",name:"sku",component:pt}]},{path:"topic",name:"projectTopic",indexRoute:{component:O},childRoutes:[{path:"topicValue",name:"topicValue",component:le}]},{path:"uselessWord",name:"uselessWord",component:xe},{path:"aspectSystem",name:"aspectSystem",childRoutes:[{path:"global",name:"aspectGlobal",component:be},{path:"tree",name:"aspectTree",indexRoute:{component:Te},childRoutes:[{path:"edit",name:"treeEdit",component:Oe}]}]},{path:"alert",name:"alert",indexRoute:{component:_e},childRoutes:[{path:"log",name:"log",component:Fe},{path:"edit",name:"edit",component:Ve},{path:"detail",name:"detail",component:tt}]},{path:"dataFeedback",name:"dataFeedback",indexRoute:{component:Ne}},{path:"comment/maintainList",name:"maintainList",component:yt},{path:"comment/batchAdd",name:"batchAdd",component:at},{path:"comment/addLink",name:"addLink",component:Qe},{path:"comment/linkManagement",name:"linkManagement"},{path:"comment/linkMaintenance",name:"linkMaintenance",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(Ct,C()({key:"comment"},e))})}}},{path:"price/linkMaintenance",name:"linkMaintenance",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(Ct,C()({key:"comment"},e))})}}},{path:"connection",name:"projectConnection",indexRoute:{component:He},childRoutes:[{path:"addLink",name:"addLink",component:Qe},{path:"upload",name:"upload",component:Ge},{path:"quickPick",name:"quickPick",component:Ke},{path:"batchAdd",name:"batchAdd",component:at},{path:"edit",name:"projectConnectionEdit",component:We}]},{path:"comment",name:"comment",component:dt,onEnter:function(e,t){"/account/project/comment"===e.location.pathname&&t({state:{titles:e.location.state.title},pathname:"/account/project/comment/subscribe"})},childRoutes:[{path:"subscribe/link",name:"subscribeLink",component:ft},{path:"subscribe",name:"subscribe",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(Et,C()({key:"comment"},e))})}},childRoutes:[{path:"edit",name:"rulesEdit",component:i},{path:"linkMaintenance",name:"linkMaintenance",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(Ct,C()({key:"comment"},e))})}}}]},{path:"link",name:"link",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(kt,C()({key:"comment"},e))})}},childRoutes:[{path:"batchAdd",name:"batchAdd",component:at},{path:"linkMaintenance",name:"linkMaintenance",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(Ct,C()({key:"comment"},e))})}}},{path:"linkRecycleBin",name:"linkRecycleBin",component:b(function(){return Promise.all([l.e(4736),l.e(4878)]).then(l.bind(l,88562))})}]}]},{path:"/account/project/comment/subscribe/rules",name:"rules",component:r},{path:"/account/project/comment/subscribe/rules/edit",name:"rulesEdit",component:i},{path:"/account/project/comment/subscribe/recycling",name:"recycling",component:m},{path:"price/maintainList",name:"maintainList",component:yt},{path:"price/addLink",name:"addLink",component:Qe},{path:"price",name:"price",component:dt,onEnter:function(e,t){"/account/project/price"===e.location.pathname&&t({state:{titles:e.location.state.title},pathname:"/account/project/price/subscribe"})},childRoutes:[{path:"subscribe",name:"subscribe",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(Et,C()({key:"price"},e))})}},childRoutes:[{path:"edit",name:"rulesEdit",component:i},{path:"link",name:"subscribeLink",component:ft},{path:"linkMaintenance",name:"linkMaintenance",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(Ct,C()({key:"comment"},e))})}}}]},{path:"link",name:"link",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(kt,C()({key:"comment"},e))})}},childRoutes:[{path:"batchAdd",name:"batchAdd",component:at},{path:"linkMaintenance",name:"linkMaintenance",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(Ct,C()({key:"comment"},e))})}}}]}]},{path:"/account/project/price/subscribe/rules",name:"rules",component:r},{path:"/account/project/price/subscribe/rules/edit",name:"rulesEdit",component:i},{path:"/account/project/price/subscribe/recycling",name:"recycling",component:m},{path:"uselessMsg/custom",name:"customUselessMsg",component:J},{path:"uselessMsg/smart",name:"smartUselessMsg",component:Q},{path:"tag",name:"tag",indexRoute:{component:te}},{path:"messageRule",name:"messagerule",component:nt}]},{path:"outboxSetting",name:"outboxSetting",component:S},{path:"history",name:"history",component:_},{path:"auditLog",name:"auditLog",component:L},{path:"whiteList",name:"whiteList",component:B},{path:"loginSetting",name:"loginSetting",component:W}]}],St=b(function(){return l.e(385).then(l.bind(l,20385))}),Nt=b(function(){return Promise.all([l.e(4736),l.e(9912)]).then(l.bind(l,12284))}),_e=[{path:"/account/project/",name:"public",childRoutes:[].concat(["QUE_ANS","BBS","SOCIAL","SELF","NEWS","COMPLAINT","VIDEO"].map(function(n){return{path:n.toLowerCase(),name:"publicInbox",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(St,C()({type:n},e))})}},childRoutes:[{path:"edit",name:"edit",component:Nt}]}}))}],Fe=[{path:"/personalSettings",name:"personalSettings",onEnter:function(e,t){"/personalSettings"===e.location.pathname&&t("/personalSettings/overview")},childRoutes:[{path:"overview",name:"personalSettingsOverview",component:b(function(){return Promise.all([l.e(4736),l.e(9520)]).then(l.bind(l,59520))})},{path:"password",name:"password",component:b(function(){return l.e(1086).then(l.bind(l,61086))})},{path:"authorization",name:"authorization",component:b(function(){return l.e(1543).then(l.bind(l,61543))})},{path:"smartFolder",name:"smartFolder",indexRoute:{component:b(function(){return Promise.all([l.e(4736),l.e(173)]).then(l.bind(l,60173))})}},{path:"messageRemind",name:"messageRemind",component:b(function(){return l.e(949).then(l.bind(l,70949))})},{path:"download",name:"download",component:b(function(){return l.e(8967).then(l.bind(l,58967))})},{path:"privateMessageRule",name:"privateMessageRule",component:b(function(){return l.e(6297).then(l.bind(l,46297))})}]}],Ve=b(function(){return Promise.all([l.e(4736),l.e(9729)]).then(l.bind(l,79729))}),tt=b(function(){return Promise.all([l.e(4736),l.e(540),l.e(1204)]).then(l.bind(l,31204))}),_t=b(function(){return Promise.all([l.e(4736),l.e(5213)]).then(l.bind(l,75213))}),Ne=b(function(){return Promise.all([l.e(4736),l.e(540),l.e(9731),l.e(1560)]).then(l.bind(l,91455))}),He=b(function(){return Promise.all([l.e(4736),l.e(540),l.e(9731),l.e(2707),l.e(4424)]).then(l.bind(l,31353))}),Ot=b(function(){return Promise.all([l.e(4736),l.e(540),l.e(9731),l.e(2707),l.e(8938)]).then(l.bind(l,32610))}),Ge=b(function(){return Promise.all([l.e(4736),l.e(540),l.e(9731),l.e(320)]).then(l.bind(l,2320))}),Ke=b(function(){return Promise.all([l.e(4736),l.e(540),l.e(9731),l.e(2707),l.e(4088)]).then(l.bind(l,70858))}),We=b(function(){return Promise.all([l.e(4736),l.e(540),l.e(1565)]).then(l.bind(l,34757))}),yt=[{path:"/explore",name:"explore",onEnter:function(e,t){"/explore"===e.location.pathname&&t("/explore/free")},childRoutes:[{path:"free",name:"free",indexRoute:{component:Ve},childRoutes:[{path:"result",name:"result",component:tt}]},{path:"scene",name:"scene",onEnter:function(e,t){"/scene"===e.location.pathname&&t("/scene/overview")},childRoutes:[{path:"overview",name:"sceneOverview",component:Ne},{path:"user",name:"SceneUser",component:He},{path:"myAdvice",name:"sceneMyAdvice",component:Ge},{path:"spokesmanAnalysis",name:"sceneSpokesmanAnalysis",component:Ke},{path:"competingAnalysis",name:"sceneCompetingAnalysis",component:b(function(){return Promise.all([l.e(4736),l.e(540),l.e(5930)]).then(l.bind(l,15930))})},{path:":id",name:"sceneUsage",getComponents:function(e,t){var n=e.location,a=n.pathname.substring(n.pathname.lastIndexOf("/")+1);switch(a){case"use":a="SCENE_USE";break;case"useScene":a="SCENE_USE_SCENE";break;case"buyDecision":a="SCENE_BUY_DECISION"}t(null,function(){return x().createElement(Ot,C()({key:a,type:a},e))})}}]},{path:"/opinion/:id",name:"opinion",getComponents:function(e,t){t(null,function(){return x().createElement(_t,e)})}},{path:"opinion",name:"opinion",indexRoute:{getComponents:function(e,t){t(null,function(){return x().createElement(_t,e)})}},childRoutes:[{path:"screen",name:"screen",component:We}]}]}],jt=l(91235),Qe=l(14187),dt=l(89565);const Dt={defaultTemplate:[{select:!0,endPage:!1,sortId:1,questionTypes:[]},{sortId:2,endPage:!0,questionTypes:[{config:dt.Ou[Qe.ns.TAIL],type:Qe.ns.TAIL}]},{questionTypes:[{config:dt.Ou[Qe.ns.CLOSE_PAGE],type:Qe.ns.CLOSE_PAGE}],sortId:3,endPage:!0}],NPS:[{select:!0,endPage:!1,sortId:1,questionTypes:[{select:!0,config:dt.Ou[Qe.ns.NPS_SCORE],value:{},type:Qe.ns.NPS_SCORE,sortId:1},{select:!1,config:dt.Ou[Qe.ns.NPS_REASON],value:{},type:Qe.ns.NPS_REASON,sortId:2}]},{sortId:2,endPage:!0,questionTypes:[{config:dt.Ou[Qe.ns.TAIL],type:Qe.ns.TAIL}]},{questionTypes:[{config:dt.Ou[Qe.ns.CLOSE_PAGE],type:Qe.ns.CLOSE_PAGE}],sortId:3,endPage:!0}],SATISFACTION:[{select:!0,sortId:1,questionTypes:[{select:!0,config:dt.Ou[Qe.ns.SATISFACTION],value:{},type:Qe.ns.SATISFACTION,sortId:1},{select:!1,config:dt.Ou[Qe.ns.SATISFACTION_REASON],value:{},type:Qe.ns.SATISFACTION_REASON,sortId:2}]},{sortId:2,endPage:!0,questionTypes:[{config:dt.Ou[Qe.ns.TAIL],type:Qe.ns.TAIL}]},{questionTypes:[{config:dt.Ou[Qe.ns.CLOSE_PAGE],type:Qe.ns.CLOSE_PAGE}],sortId:3,endPage:!0}]};var Mt=se.Z.research.questions,ft=function(t){function e(e){var n=t.call(this,e)||this;return n._handelConfigChange=function(e){n.leaveHookTest=!1,n.props.configChange(e)},n.routerWillLeave=function(){return!!n.leaveHookTest||"信息还未保存，确认要离开？"},n._handleOnSubmit=function(e,t){n.props.submit(e).then(function(e){2e4===e.code?(n.leaveHookTest=!0,t?"CLOSED"===n.props.status||"UN_DISPATCH"===n.props.status?n.dialogRef.showDialog({type:"dispatch",nps:{status:n.props.status},callback:function(){n._jumpPage()}}):n._jumpPage():U.Z.success(e.msg)):U.Z.error(e.msg)})},n._jumpPage=function(){"DISPATCHED"!==n.props.status&&n.props.updateStatus(),c.mW.push({pathname:"/research/manage/distribute",state:{id:n.props.id,title:n.props.name,questionnaireType:n.props.types}})},n.state={},n._event={onConfigChange:n._handelConfigChange,onSubmit:n._handleOnSubmit,getDialogRef:function(e){return n.dialogRef=e}},n}I()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.save({list:Dt[Object.keys(Dt).includes((0,j.getQuery)("type"))?(0,j.getQuery)("type"):"defaultTemplate"],projectId:M.t.get(M.V.curProject).id,id:!(0,j.getQuery)("id")||(0,j.getQuery)("copy")?void 0:(0,j.getQuery)("id")}),this.props.fetchDashboardList({}),(0,j.getQuery)("id")&&this.props.fetchConfig({id:(0,j.getQuery)("id"),copy:(0,j.getQuery)("copy")}),this.props.router.setRouteLeaveHook(this.props.route,this.routerWillLeave)},n.componentWillUnmount=function(){this.props.clear()},n.render=function(){return x().createElement(jt.Z,C()({},this.state,this.props,this._event))},e}(a.Component),at=(0,o.connect)(function(e){var t=e.loading,e=E()(e,["loading"]);return C()({},e[Mt],{fetchingConfig:t.effects[Mt+"/fetchConfig"]||!1})},function(t){return{save:function(e){return t({type:Mt+"/save",payload:e})},fetchDashboardList:function(e){return t({type:Mt+"/fetchDashboardList",payload:e})},addPage:function(e){return t({type:Mt+"/addPage",payload:e})},delPage:function(e){return t({type:Mt+"/delPage",payload:e})},pageChange:function(e){return t({type:Mt+"/pageChange",payload:e})},pageSort:function(e){return t({type:Mt+"/pageSort",payload:e})},addQues:function(e){return t({type:Mt+"/addQues",payload:e})},delQues:function(e){return t({type:Mt+"/delQues",payload:e})},quesChange:function(e){return t({type:Mt+"/quesChange",payload:e})},quesSort:function(e){return t({type:Mt+"/quesSort",payload:e})},configChange:function(e){return t({type:Mt+"/configChange",payload:e})},onPageButtonConfig:function(e){return t({type:Mt+"/onPageButtonConfig",payload:e})},onHeaderConfig:function(e){return t({type:Mt+"/onHeaderConfig",payload:e})},fetchConfig:function(e){return t({type:Mt+"/fetchConfig",payload:e})},submit:function(e){return t({type:Mt+"/submit",payload:e})},updateStatus:function(){return t({type:Mt+"/updateStatus"})},clear:function(){return t({type:Mt+"/clear"})}}})(ft);function At(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Pt=b(function(){return Promise.all([l.e(4736),l.e(2777)]).then(l.bind(l,22777))}),Ft=b(function(){return l.e(1977).then(l.bind(l,1977))}),r=b(function(){return l.e(8732).then(l.bind(l,98732))}),Rt=b(function(){return l.e(7325).then(l.bind(l,7325))}),i=b(function(){return Promise.all([l.e(4736),l.e(1438)]).then(l.bind(l,91438))}),m=b(function(){return l.e(8073).then(l.bind(l,98073))}),zt=b(function(){return l.e(9167).then(l.bind(l,99167))}),J=b(function(){return Promise.all([l.e(4736),l.e(8922)]).then(l.bind(l,21011))}),Q=b(function(){return Promise.all([l.e(4736),l.e(1145)]).then(l.bind(l,81145))}),te=b(function(){return Promise.all([l.e(4736),l.e(2840),l.e(9618),l.e(3361)]).then(l.bind(l,73361))}),Vt=(b(function(){return Promise.all([l.e(4736),l.e(2840),l.e(9618),l.e(3361)]).then(l.bind(l,73361))}),b(function(){return Promise.all([l.e(4736),l.e(5945)]).then(l.bind(l,55945))})),nt=b(function(){return l.e(4400).then(l.bind(l,24400))}),S=b(function(){return Promise.all([l.e(5278),l.e(4222)]).then(l.bind(l,18514))}),_=b(function(){return l.e(1574).then(l.bind(l,81574))}),L=b(function(){return l.e(872).then(l.bind(l,50872))}),B=b(function(){return l.e(2806).then(l.bind(l,72806))}),W=b(function(){return l.e(662).then(l.bind(l,70662))}),Ve=b(function(){return l.e(4896).then(l.bind(l,84896))}),tt=b(function(){return l.e(1473).then(l.bind(l,71473))}),Ne=b(function(){return l.e(9851).then(l.bind(l,89851))}),Bt=b(function(){return Promise.all([l.e(4736),l.e(6915)]).then(l.bind(l,86915))}),He=b(function(){return l.e(2070).then(l.bind(l,2070))}),Ge=b(function(){return Promise.all([l.e(8505),l.e(4261)]).then(l.bind(l,68889))}),Ke=b(function(){return l.e(3966).then(l.bind(l,3966))}),We=b(function(){return l.e(7515).then(l.bind(l,87515))}),dt=b(function(){return l.e(8858).then(l.bind(l,28858))}),Qe=b(function(){return l.e(8530).then(l.bind(l,28530))}),se=b(function(){return l.e(5619).then(l.bind(l,75619))}),a=b(function(){return l.e(483).then(l.bind(l,40483))}),qt=b(function(){return l.e(7740).then(l.bind(l,57740))}),o=b(function(){return l.e(7891).then(l.bind(l,77891))}),ft=b(function(){return l.e(9895).then(l.bind(l,89895))}),b=b(function(){return l.e(7091).then(l.bind(l,77091))});c.mW.listen(function(e){for(var t,n=e.pathname,a=At(Ht);!(t=a()).done;){var r=t.value;if(r.path===n)return!0;if(r.childRoutes)for(var i=At(r.childRoutes);!(o=i()).done;){var o=o.value;if(r.path+"/"+o.path===n)return!0}}"/login"===n||s.Z.isLoginIn()||c.mW.push("/login"),"/login"===n&&s.Z.isLoginIn()&&c.mW.push("/")});var Ut=[{path:"/info",component:me,childRoutes:[{name:"feedback",path:"feedback",component:Qe}]}].concat(ke,[{path:"/tab",component:fe.default,onEnter:function(e,t){"/tab"===e.location.pathname&&t("/inbox")},childRoutes:[{name:"detail",path:"detail",component:te},{name:"uselessMsgDetail",path:"/account/project/uselessMsg/detail",component:a},{path:"sceneAnalyze",name:"sceneAnalyze",component:o},{path:"connectionData",name:"projectConnectionDetailData",component:_},{path:"bind",name:"bind",component:Q},{path:"/about",name:"about",component:He},{path:"/opinionList",name:"opinionList",getComponents:function(e,t){t(null,function(){return x().createElement(Bt,e)})}},{path:"/opinionDetail",name:"opinionDetail",getComponents:function(e,t){t(null,function(){return x().createElement(Vt,e)})}},{path:"/research/questions",name:"questions",component:at}]},{path:"/",component:de,onEnter:function(e,t){s.Z.getAuthority()?"/"===e.location.pathname&&t("/inbox"):t("/login")},childRoutes:[].concat(ge,Ce,je,ze,qe,Je,rt,bt,T,Fe,Oe,_e,yt,[{path:"warningEdit",component:S},{path:"project/overview",name:"overview",component:dt},{path:"project/eventCalendar",name:"eventCalendar",component:dt},{path:"opinion/overview",name:"overview",component:dt},{path:"opinion/eventManagement",name:"eventManagement",component:dt},{path:"activity/overview",name:"overview",component:dt},{path:"activity/eventManagement",name:"eventManagement",component:dt},{path:"activity/index",name:"index",component:dt},{path:"activity/needsTrack",name:"needsTrack",component:dt},{path:"monitor/feedbackTrack",name:"feedbackTrack",component:dt},{path:"entity",name:"entity",component:dt},{path:"activity",name:"activity",component:dt},{path:"brand",name:"brand",component:dt},{path:"opinionDetail",name:"opinionDetail",getComponents:function(e,t){t(null,function(){return x().createElement(Vt,e)})}},{path:"weChartPush_chart",name:"weChartPush_chart",component:tt},{path:"timeSetting",name:"timeSetting",component:i},{path:"aspectWarning",name:"aspectWarning",indexRoute:{component:Ge},childRoutes:[{path:"detail",name:"detail",component:nt}]},{path:"collection",name:"collection",childRoutes:[{path:"manage",name:"manage",component:Ke},{path:"export",name:"export",component:We}]},{path:"weibo_back",name:"weibo_back",component:zt},{path:"*",component:zt}])}]),Ht=[{path:"/login",name:"login",component:Pt},{path:"/bind",name:"bind",component:Q},{path:"/binded",name:"binded",component:m},{path:"/listPage",name:"listPage",component:L},{path:"/warningNotice",name:"warningNotice",component:B},{path:"/warningNoticeList",name:"warningNoticeList",component:W},{path:"/weChatPush",name:"weChatPush",childRoutes:[{path:"list",name:"Mobile_WechatPush_List",component:Ve},{path:"chart",name:"Mobile_WechatPush_Chart",component:tt},{path:"thresholdValue",name:"Mobile_WechatPush_ThresholdValue",component:Ne}]},{path:"/tourists",name:"tourists",childRoutes:[{path:"active",name:"active",getComponents:function(e,t){e.location.query.token?t(null,Ft):t(null,Pt)}},{path:"reset",name:"reset",getComponents:function(e,t){e.location.query.token?t(null,Rt):t(null,Pt)}}]},{path:"/reset",name:"resetPsw",component:r},{path:"/set",name:"set",component:Rt},{path:"/research/answer",component:se},{path:"/nps/answer",component:qt,getComponents:function(e,t){e.location.query.id||e.location.query.uniqueKey?t(null,function(){return x().createElement(qt,null)}):t(null,zt)}},{path:"/notFind",component:zt},{path:"/models/page",component:ft,onEnter:function(e,t){/beta|cemdemo|3c|demo|localhost/g.exec(window.location.hostname)&&s.Z.getAuthority()||t("/login")}},{path:"/antd",component:J,onEnter:function(e,t){/beta|192|localhost/g.exec(window.location.hostname)||t("/notFind")}},{path:"helpCenter",name:"helpCenter",component:b}];Ut.unshift.apply(Ut,Ht);var ft=l(90549),J=l(30381),b=l.n(J),J=l(70715),Wt=l(13853),Zt=l(82925);b().locale("zh-cn",{week:{dow:1,doy:7}}),ft.Z.init(),(0,J.aW)(),l(94680),l(42314),l(84793);var Jt,Yt=document.querySelector("link[rel='shortcut icon']"),Gt=window.location.protocol+"//yunting-1251101074.coscd.myqcloud.com/web_title/"+window.location.hostname+"/64_64.ico";function Kt(e){var t,n=Wt.v[e];n&&(t=localStorage.getItem("cem-web-tile"),(e=document.querySelector("title"))&&(e.innerText=n+"-"+t))}(0,g.v)(Gt).then(function(){Yt&&Yt.setAttribute("href",Gt+"?_="+(new Date).getTime())}).catch(function(){}),Jt="云听CEM",g.h.post("/account/slogan",{host:window.location.hostname}).then(function(e){e=e.data.result;e.webTitle&&(Jt=e.webTitle),localStorage.setItem("cem-web-tile",Jt),Kt(location.pathname)}),c.mW.listen(function(e){"dashboard"===e.pathname.split("/")[1]?Kt("/dashboard"):e.pathname.includes("/research/board/satisfaction")?Kt("/research/board/satisfaction"):e.pathname.includes("/research/board/nps")&&Kt("/research/board/nps"),Kt(e.pathname)}),f.router(function(){return x().createElement(n.default,{locale:Zt.Z},x().createElement(c.F0,{routes:Ut,history:c.mW}))}),f.start("#app")},66853:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});t=n(64396),n=n(69767),t=t.Z.market.brandAnalysis;const a=(0,n.P)(t)},38739:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});t=n(64396),n=n(69767),t=t.Z.market.modelAnalysis;const a=(0,n.P)(t)},69767:(e,t,n)=>{"use strict";n.d(t,{P:()=>M});var t=n(37316),l=n.n(t),t=n(67154),w=n.n(t),t=n(87757),E=n.n(t),f=n(87219),d=n(39713),t=n(48926),a=n.n(t),c=n(36144);function k(e){return r.apply(this,arguments)}function r(){return(r=a()(E().mark(function e(t){var n,a;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageType,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return i.apply(this,arguments)}function i(){return(i=a()(E().mark(function e(t){var n,a,r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.pageType,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:r,value:JSON.stringify(a)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(){return o.apply(this,arguments)}function o(){return(o=a()(E().mark(function e(t){var n,a,r,i;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cartType,a=t.sameRateType,r=t.projectId,i=t.pageType,e.abrupt("return",c.h.post("/product/overview/set-same-rate",{marketInsightModule:i,cartType:n,sameRateType:a,projectId:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return s.apply(this,arguments)}function s(){return(s=a()(E().mark(function e(t){var n,a,r,i,o,s;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,a=t.analysisModel,r=t.filterModel,i=t.dateFilter,o=t.sameRateType,s=t.pageType,o)return e.next=4,u({cartType:"ON_COUNT_CARD_CHART",pageType:s,sameRateType:o,projectId:n});e.next=4;break;case 4:return e.abrupt("return",c.h.post("/market/insight/chart/find/ON_COUNT_CARD_CHART",{analysisModel:a,filterModel:r,dateFilter:i,projectId:n}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=a()(E().mark(function e(t){var n,a,r,i,o,s;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,a=t.analysisModel,r=t.filterModel,i=t.dateFilter,o=t.sameRateType,s=t.pageType,o)return e.next=4,u({cartType:"SKU_ON_COUNT_CARD_CHART",pageType:s,sameRateType:o,projectId:n});e.next=4;break;case 4:return e.abrupt("return",c.h.post("/market/insight/chart/find/SKU_ON_COUNT_CARD_CHART",{analysisModel:a,filterModel:r,dateFilter:i,projectId:n}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=a()(E().mark(function e(t){var n,a,r,i,o,s;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,a=t.analysisModel,r=t.filterModel,i=t.dateFilter,o=t.sameRateType,s=t.pageType,o)return e.next=4,u({cartType:"ACTIVITY_ITEM_COUNT_CARD_CHART",pageType:s,sameRateType:o,projectId:n});e.next=4;break;case 4:return e.abrupt("return",c.h.post("/market/insight/chart/find/ACTIVITY_ITEM_COUNT_CARD_CHART",{analysisModel:a,filterModel:r,dateFilter:i,projectId:n}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return b.apply(this,arguments)}function b(){return(b=a()(E().mark(function e(t){var n,a,r,i,o,s;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,a=t.analysisModel,r=t.filterModel,i=t.dateFilter,o=t.sameRateType,s=t.pageType,o)return e.next=4,u({cartType:"SALE_COUNT_CARD_CHART",pageType:s,sameRateType:o,projectId:n});e.next=4;break;case 4:return e.abrupt("return",c.h.post("/market/insight/chart/find/SALE_COUNT_CARD_CHART",{analysisModel:a,filterModel:r,dateFilter:i,projectId:n}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return(I=a()(E().mark(function e(t){var n,a,r,i;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.analysisModel,r=t.filterModel,i=t.dateFilter,e.abrupt("return",c.h.post("/market/insight/chart/find/SOURCE_SALES_CHART",{projectId:n,analysisModel:a,filterModel:r,dateFilter:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=a()(E().mark(function e(t){var n,a,r,i,o;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.analysisModel,r=t.filterModel,i=t.dateFilter,o=t.isPromotion,e.abrupt("return",c.h.post("/market/insight/chart/find/PRICE_RANGE_DISTRIBUTE",{projectId:n,analysisModel:a,filterModel:r,dateFilter:i,isPromotion:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e){return _.apply(this,arguments)}function _(){return(_=a()(E().mark(function e(t){var n,a,r,i,o;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.analysisModel,r=t.filterModel,i=t.dateFilter,o=t.isPromotion,e.abrupt("return",c.h.post("/market/insight/chart/find/SKU_SALES_CHART",{projectId:n,analysisModel:a,filterModel:r,dateFilter:i,isPromotion:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return(j=a()(E().mark(function e(t){var n,a,r,i,o;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.analysisModel,r=t.filterModel,i=t.dateFilter,o=t.isPromotion,e.abrupt("return",c.h.post("/market/insight/chart/find/SHOP_SALES_CHART",{projectId:n,analysisModel:a,filterModel:r,dateFilter:i,isPromotion:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D={onSaleData:void 0,onSaleSKUData:void 0,activeData:void 0,saledData:void 0,platformSaledData:void 0,platformSaledDataType:-1,fPlatformSaledDataType:"",platformSaledTimeType:"DAY",fPlatformSaledTimeType:"",priceZoneData:void 0,priceZoneDataType:-1,fPriceZoneDataType:"",spuTop5Data:void 0,spuTop5DataType:-1,fSpuTop5DataType:"",spuTop5TimeType:"DAY",fSpuTop5TimeType:"",shopTop5Data:void 0,shopTop5DataType:-1,fShopTop5DataType:"",shopTop5TimeType:"DAY",fShopTop5TimeType:"",timeTypeOpts:[],defaultTimeType:"DAY",projectId:void 0,analysisModel:void 0,filterModel:void 0,dateFilter:void 0,pageType:""},M=function(I){return{namespace:I,state:Object.assign({},D),reducers:{save:function(e,t){t=t.payload;return w()({},e,t)},clean:function(){return Object.assign({},D)}},effects:{fetchParams:E().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x,b,T;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,h=n.select,r=n.call,i=n.put,e.next=4,h(function(e){e=w()({},e);return w()({},e[I])});case 4:if(m=e.sent,o=m.fPlatformSaledDataType,s=m.fPlatformSaledTimeType,c=m.fPriceZoneDataType,u=m.fSpuTop5DataType,l=m.fSpuTop5TimeType,p=m.fShopTop5DataType,d=m.fShopTop5TimeType,f=m.analysisModel,h=m.filterModel,g=m.dateFilter,m=m.projectId,JSON.stringify(f)===JSON.stringify(a.analysisModel)&&JSON.stringify(h)===JSON.stringify(a.filterModel)&&JSON.stringify(g)===JSON.stringify(a.dateFilter))return e.abrupt("return");e.next=18;break;case 18:if(v={platformSaledDataType:o||-1,platformSaledTimeType:s||a.defaultTimeType,priceZoneDataType:c||-1,spuTop5DataType:u||-1,spuTop5TimeType:l||a.defaultTimeType,shopTop5DataType:p||-1,shopTop5TimeType:d||a.defaultTimeType},y={fPlatformSaledDataType:o,fPlatformSaledTimeType:s,fPriceZoneDataType:c,fSpuTop5DataType:u,fSpuTop5TimeType:l,fShopTop5DataType:p,fShopTop5TimeType:d},m){e.next=31;break}return e.prev=21,e.next=24,r(k,{projectId:a.projectId,pageType:a.pageType});case 24:g=e.sent,2e4===(g=g.data).code&&g.result&&(x=JSON.parse(g.result),Object.keys(x).forEach(function(e){y[e]=x[e]}),b=Object.keys(v),Object.keys(y).forEach(function(e,t){y[e]&&(v[b[t]]=y[e])})),e.next=31;break;case 29:e.prev=29,e.t0=e.catch(21);case 31:return["platformSaledTimeType","spuTop5TimeType","shopTop5TimeType"].forEach(function(t){a.timeTypeOpts.find(function(e){return e.value===v[t]})||(v[t]=a.defaultTimeType)}),T=w()({},a,v,y),e.next=35,i({type:"fetchOnSaleData",payload:T});case 35:return e.next=37,i({type:"fetchOnSaleSKUData",payload:T});case 37:return e.next=39,i({type:"fetchActiveData",payload:T});case 39:return e.next=41,i({type:"fetchSaledData",payload:T});case 41:return e.next=43,i({type:"fetchPlatformSaledData",payload:T});case 43:return e.next=45,i({type:"fetchPriceZoneData",payload:T});case 45:if("MARKET_BRAND_ANALYSIS"===a.pageType)return e.next=48,i({type:"fetchSPUTop5Data",payload:T});e.next=48;break;case 48:return e.next=50,i({type:"fetchShopTop5Data",payload:T});case 50:case"end":return e.stop()}},e,null,[[21,29]])}),fetchOnSaleData:E().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,u=n.select,r=n.call,i=n.put,e.next=4,u(function(e){e=w()({},e);return w()({},e[I])});case 4:return l=e.sent,o=l.projectId,s=l.analysisModel,c=l.filterModel,u=l.dateFilter,p=l.pageType,l="error",e.prev=11,e.next=14,r(h,{projectId:a.projectId||o,dateFilter:a.dateFilter||u,analysisModel:a.analysisModel||s,filterModel:a.filterModel||c,sameRateType:a.onSaleCompareType,pageType:a.pageType||p});case 14:p=e.sent,2e4===(p=p.data).code&&(l=(0,d.V)(0,p.result)),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0);case 22:return e.prev=22,e.next=25,i({type:"save",payload:w()({onSaleData:l},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,19,22,26]])}),fetchOnSaleSKUData:E().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,u=n.select,r=n.call,i=n.put,e.next=4,u(function(e){e=w()({},e);return w()({},e[I])});case 4:return l=e.sent,o=l.projectId,s=l.analysisModel,c=l.filterModel,u=l.dateFilter,p=l.pageType,l="error",e.prev=11,e.next=14,r(m,{projectId:a.projectId||o,dateFilter:a.dateFilter||u,analysisModel:a.analysisModel||s,filterModel:a.filterModel||c,sameRateType:a.onSaleSKUDataCompareType,pageType:a.pageType||p});case 14:p=e.sent,2e4===(p=p.data).code&&(l=(0,d.V)(1,p.result)),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:w()({onSaleSKUData:l},a)});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchActiveData:E().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,u=n.select,r=n.call,i=n.put,e.next=4,u(function(e){e=w()({},e);return w()({},e[I])});case 4:return l=e.sent,o=l.projectId,s=l.analysisModel,c=l.filterModel,u=l.dateFilter,p=l.pageType,l="error",e.prev=11,e.next=14,r(y,{projectId:a.projectId||o,dateFilter:a.dateFilter||u,analysisModel:a.analysisModel||s,filterModel:a.filterModel||c,sameRateType:a.activeDataCompareType,pageType:a.pageType||p});case 14:p=e.sent,2e4===(p=p.data).code&&(l=(0,d.V)(2,p.result)),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:w()({activeData:l},a)});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchSaledData:E().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,u=n.select,r=n.call,i=n.put,e.next=4,u(function(e){e=w()({},e);return w()({},e[I])});case 4:return l=e.sent,o=l.projectId,s=l.analysisModel,c=l.filterModel,u=l.dateFilter,p=l.pageType,l="error",e.prev=11,e.next=14,r(x,{projectId:a.projectId||o,dateFilter:a.dateFilter||u,analysisModel:a.analysisModel||s,filterModel:a.filterModel||c,sameRateType:a.saledDataCompareType,pageType:a.pageType||p});case 14:p=e.sent,2e4===(p=p.data).code&&(l=(0,d.V)(3,p.result)),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:w()({saledData:l},a)});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchPlatformSaledData:E().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.select,r=n.call,i=n.put,e.next=4,s(function(e){e=w()({},e);return w()({},e[I])});case 4:return u=e.sent,o=u.projectId,s=u.analysisModel,p=u.filterModel,l=u.dateFilter,c=u.platformSaledTimeType,u="error",e.prev=11,e.next=14,r(T,{projectId:a.projectId||o,analysisModel:a.analysisModel||s,filterModel:a.filterModel||p,dateFilter:(0,f.ZP)(a.dateFilter||l,function(e){e.dateGroupType=a.platformSaledTimeType||c})});case 14:p=e.sent,2e4===(l=p.data).code&&(p=l.result.reduce(function(e,t){return!t.sourceList.length&&e},!0),u=p?"empty":l.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:w()({platformSaledData:u},a)});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchPriceZoneData:E().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.select,r=n.call,i=n.put,e.next=4,c(function(e){e=w()({},e);return w()({},e[I])});case 4:return u=e.sent,o=u.projectId,s=u.analysisModel,c=u.filterModel,p=u.dateFilter,l=u.priceZoneDataType,u="error",l=void 0!==a.priceZoneDataType?a.priceZoneDataType:l,l=-1===l?void 0:l,e.prev=13,e.next=16,r(C,{projectId:a.projectId||o,analysisModel:a.analysisModel||s,filterModel:a.filterModel||c,dateFilter:a.dateFilter||p,isPromotion:l});case 16:p=e.sent,2e4===(l=p.data).code&&(p=l.result.reduce(function(e,t){return!t.productCount&&e},!0),u=p?"empty":l.result),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.prev=23,e.next=26,i({type:"save",payload:w()({priceZoneData:u},a)});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[13,21,23,27]])}),fetchSPUTop5Data:E().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.select,r=n.call,i=n.put,e.next=4,c(function(e){e=w()({},e);return w()({},e[I])});case 4:return l=e.sent,o=l.projectId,s=l.analysisModel,c=l.filterModel,d=l.dateFilter,p=l.spuTop5DataType,u=l.spuTop5TimeType,l="error",p=void 0!==a.spuTop5DataType?a.spuTop5DataType:p,p=-1===p?void 0:p,e.prev=14,e.next=17,r(N,{projectId:a.projectId||o,analysisModel:a.analysisModel||s,filterModel:a.filterModel||c,dateFilter:(0,f.ZP)(a.dateFilter||d,function(e){e.dateGroupType=a.spuTop5TimeType||u}),isPromotion:p});case 17:d=e.sent,2e4===(p=d.data).code&&(d=p.result.reduce(function(e,t){return!t.sourceList.length&&e},!0),l=d?"empty":p.result),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(14);case 24:return e.prev=24,e.next=27,i({type:"save",payload:w()({spuTop5Data:l},a)});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[14,22,24,28]])}),fetchShopTop5Data:E().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.select,r=n.call,i=n.put,e.next=4,c(function(e){e=w()({},e);return w()({},e[I])});case 4:return l=e.sent,o=l.projectId,s=l.analysisModel,c=l.filterModel,d=l.dateFilter,p=l.shopTop5DataType,u=l.shopTop5TimeType,l="error",p=void 0!==a.shopTop5DataType?a.shopTop5DataType:p,p=-1===p?void 0:p,e.prev=14,e.next=17,r(O,{projectId:a.projectId||o,analysisModel:a.analysisModel||s,filterModel:a.filterModel||c,dateFilter:(0,f.ZP)(a.dateFilter||d,function(e){e.dateGroupType=a.shopTop5TimeType||u}),isPromotion:p});case 17:d=e.sent,2e4===(p=d.data).code&&(d=p.result.reduce(function(e,t){return!t.sourceList.length&&e},!0),l=d?"empty":p.result),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(14);case 24:return e.prev=24,e.next=27,i({type:"save",payload:w()({shopTop5Data:l},a)});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[14,22,24,28]])}),setDefaultValue:E().mark(function e(t,n){var a,r,i,o,s,c,u;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.select,r=n.call,i=n.put,e.next=4,s(function(e){e=w()({},e);return w()({},e[I])});case 4:return u=e.sent,o=u.projectId,s=u.pageType,c=l()(u,["projectId","pageType"]),u=["fPlatformSaledDataType","fPlatformSaledTimeType","fPriceZoneDataType","fSpuTop5DataType","fSpuTop5TimeType","fShopTop5DataType","fShopTop5TimeType"].reduce(function(e,t){return e[t]=(void 0!==a[t]?a:c)[t],e},{}),e.prev=9,e.next=12,r(p,{projectId:a.projectId||o,pageType:a.pageType||s,value:u});case 12:if(u=e.sent,2e4===u.data.code)return e.next=17,i({type:"save",payload:w()({},a)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])})}}}},39713:(e,t,n)=>{"use strict";n.d(t,{N:()=>a,V:()=>function(e,i){var o=r[e];return Object.keys(o).map(function(e,t){var n=o[e],a=n.endsWith("Rate"),r=i[n],n=null===r?null:Math.abs(r);return{name:1===t&&i.sameRateType?""+s[i.sameRateType]+e:e,count:n,format:a?"percent":"myriad",rise:r?0<r:null,compare:i.sameRateType}})}});var a=[{title:"全部",value:-1},{title:"动销销量",value:1},{title:"非动销销量",value:0}],s={WEEK:"周",MONTH:"月",QUATER:"季",YEAR:"年"},r=[{"在售商品数":"onCount","同比":"sameRate","环比":"circleRate","属性下架":"attributeOffCount","链接下架":"urlOffCount"},{"在售SKU数":"skuOnCount","同比":"sameRate","环比":"circleRate","在售SPU":"spuOnCount"},{"动销商品数":"activityItemCount","同比":"sameRate","环比":"circleRate","动销率":"activityItemRate","活动数量":"activityCount"},{"销量":"saleCount","同比":"sameRate","环比":"circleRate","动销销量":"activitySaleCount","非动销销量":"nonActivitySaleCount"}]},75919:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var a=n(67154),p=n.n(a),t=n(87757),d=n.n(t),a=n(64396),t=n(48926),r=n.n(t),o=n(36144);function f(e){return i.apply(this,arguments)}function i(){return(i=r()(d().mark(function e(t){var n,a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,e.abrupt("return",o.h.post("/market/insight/chart/find/ON_SALES_PRODUCT_INDICATOR_CARD",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return s.apply(this,arguments)}function s(){return(s=r()(d().mark(function e(t){var n,a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,e.abrupt("return",o.h.post("/market/insight/chart/find/TOTAL_SALES_INDICATOR_CARD",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return c.apply(this,arguments)}function c(){return(c=r()(d().mark(function e(t){var n,a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,e.abrupt("return",o.h.post("/market/insight/chart/find/SALES_INDICATOR_CARD",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e){return u.apply(this,arguments)}function u(){return(u=r()(d().mark(function e(t){var n,a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,e.abrupt("return",o.h.post("/market/insight/chart/find/CIRCULATION_SALES_INDICATOR_CARD",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return l.apply(this,arguments)}function l(){return(l=r()(d().mark(function e(t){var n,a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,e.abrupt("return",o.h.post("/market/insight/chart/find/SPU_TOTAL_SALES_CHART",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=r()(d().mark(function e(t){var n,a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,e.abrupt("return",o.h.post("/market/insight/chart/find/SPU_COUNT_SALES_CHART",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=r()(d().mark(function e(t){var n,a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,e.abrupt("return",o.h.post("/market/insight/chart/find/SPU_MATRIX_SALES_CHART",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var I=a.Z.market.hotDiscovery;const w={namespace:I,state:Object.assign({},{onSaleData:void 0,historySaleData:void 0,saleData:void 0,compareSaleData:void 0,historySaleRangeData:void 0,saleRangeData:void 0,saleAnalysisData:void 0,projectId:void 0,dateFilter:void 0,filterModel:void 0,analysisModel:void 0}),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)}},effects:{fetchParams:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,o=n.select,e.next=4,o(function(e){return p()({},e)[I]});case 4:if(s=e.sent,s.projectId,i=s.dateFilter,o=s.filterModel,s=s.analysisModel,JSON.stringify(a.filterModel)===JSON.stringify(o)&&JSON.stringify(a.dateFilter)===JSON.stringify(i)&&JSON.stringify(a.analysisModel)===JSON.stringify(s))return e.abrupt("return");e.next=11;break;case 11:return e.next=13,r({type:"fetchOnSaleData",payload:a});case 13:return e.next=15,r({type:"fetchHistorySaleData",payload:a});case 15:return e.next=17,r({type:"fetchSaleData",payload:a});case 17:return e.next=19,r({type:"fetchCompareSaleData",payload:a});case 19:return e.next=21,r({type:"fetchHistorySaleRangeData",payload:a});case 21:return e.next=23,r({type:"fetchSaleRangeData",payload:a});case 23:return e.next=25,r({type:"fetchSaleAnalysisData",payload:a});case 25:case"end":return e.stop()}},e)}),fetchOnSaleData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return p()({},e)[I]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,e.next=13,r(f,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l});case 13:l=e.sent,2e4===(l=l.data).code&&(u=[{name:"在售商品数",count:l.result,format:"myriad"}]),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:p()({},a,{onSaleData:u})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),fetchHistorySaleData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return p()({},e)[I]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,e.next=13,r(h,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l});case 13:l=e.sent,2e4===(l=l.data).code&&(u=[{name:"历史累计销量",count:l.result,format:"myriad"}]),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:p()({},a,{historySaleData:u})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),fetchSaleData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return p()({},e)[I]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,e.next=13,r(m,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l});case 13:l=e.sent,2e4===(l=l.data).code&&(u=[{name:"销量",count:l.result,format:"myriad"}]),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:p()({},a,{saleData:u})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),fetchCompareSaleData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return p()({},e)[I]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,e.next=13,r(v,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l});case 13:l=e.sent,2e4===(l=l.data).code&&(u=[{name:"上期销量",count:l.result,format:"myriad"}]),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:p()({},a,{compareSaleData:u})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),fetchHistorySaleRangeData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return p()({},e)[I]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,e.next=13,r(y,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l});case 13:l=e.sent,l=l.data,u=2e4===l.code&&l.result.length?l.result:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:p()({},a,{historySaleRangeData:u})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),fetchSaleRangeData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return p()({},e)[I]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,e.next=13,r(g,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l});case 13:l=e.sent,l=l.data,u=2e4===l.code&&l.result.length?l.result:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:p()({},a,{saleRangeData:u})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),fetchSaleAnalysisData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return p()({},e)[I]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,e.next=13,r(b,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l});case 13:l=e.sent,l=l.data,u=2e4===l.code&&l.result.length?l.result:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:p()({},a,{saleAnalysisData:u})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])})}}},52861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var t=n(67154),m=n.n(t),t=n(87757),v=n.n(t),h=n(87219),t=(n(39432),n(48926)),a=n.n(t),l=n(36144),r="MARKET_NEW_MONITORING";function p(e){return i.apply(this,arguments)}function i(){return(i=a()(v().mark(function e(t){var n,a,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,o=t.days,e.abrupt("return",l.h.post("/market/insight/chart/find/DAYS_NEW_PRODUCT_INDICATOR_CARD",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i,days:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return o.apply(this,arguments)}function o(){return(o=a()(v().mark(function e(t){var n,a,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,o=t.selectType,e.abrupt("return",l.h.post("/market/insight/chart/find/RANKING_OF_NEW_PRODUCTS_CHART",{filterModel:r,analysisModel:i,selectType:o,dateFilter:a,projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return s.apply(this,arguments)}function s(){return(s=a()(v().mark(function e(t){var n,a,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,o=t.selectType,e.abrupt("return",l.h.post("/market/insight/chart/find/TREND_OF_NEW_PRODUCTS_CHART",{filterModel:r,analysisModel:i,selectType:o,dateFilter:a,projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return c.apply(this,arguments)}function c(){return(c=a()(v().mark(function e(t){var n,a,r,i,o,s,c;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,o=t.selectType,s=t.selectValue,c=t.selectDate,e.abrupt("return",l.h.post("/market/insight/sku/list",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i,selectType:o,selectValue:s,selectDate:c}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return u.apply(this,arguments)}function u(){return(u=a()(v().mark(function e(t){var n,a,r,i,o,s,c,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,o=t.skuIdList,s=t.selectType,c=t.selectValue,u=t.selectDate,e.abrupt("return",l.h.post("/market/insight/sku/detail/list",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i,skuIdList:o,selectType:s,selectValue:c,selectDate:u}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return d.apply(this,arguments)}function d(){return(d=a()(v().mark(function e(t){var n;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",l.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return(I=a()(v().mark(function e(t){var n,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",l.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(t){return new Promise(function(e){return setTimeout(e,t)})}var E=n(64396).Z.market.newMonitoring;const k={namespace:E,state:Object.assign({},{count1:void 0,count7:void 0,count15:void 0,count30:void 0,timeType:"",timeTypeFlavor:"",selectType:"",selectTypeFlavor:"",topList:void 0,countTrend:void 0,pageSize:10,pageIndex:1,detailList:void 0,total:0,timeTypeOpts:[],defaultTimeType:"DAY",projeceId:void 0,analysisModel:void 0,filterModel:void 0,dateFilter:void 0}),reducers:{save:function(e,t){t=t.payload;return m()({},e,t)}},effects:{fetchParams:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return m()({},e)[E]});case 4:if(l=e.sent,o=l.projectId,s=l.dateFilter,c=l.filterModel,f=l.analysisModel,u=l.timeTypeFlavor,l=l.selectTypeFlavor,JSON.stringify(a.projectId)===JSON.stringify(o)&&JSON.stringify(a.filterModel)===JSON.stringify(c)&&JSON.stringify(a.dateFilter)===JSON.stringify(s)&&JSON.stringify(a.analysisModel)===JSON.stringify(f))return e.abrupt("return");e.next=13;break;case 13:return p={timeType:u||a.defaultTimeType,selectType:l||"SPU"},d={timeTypeFlavor:u,selectTypeFlavor:l},e.prev=15,e.next=18,r(b,{projectId:a.projectId});case 18:f=e.sent,2e4===(f=f.data).code&&f.result&&(d=JSON.parse(f.result),h=Object.keys(p),Object.keys(d).forEach(function(e,t){d[e]&&(p[h[t]]=d[e])})),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return["timeType"].forEach(function(t){a.timeTypeOpts.find(function(e){return e.value===p[t]})||(p[t]=a.defaultTimeType)}),e.next=28,i({type:"save",payload:m()({},a,d,p)});case 28:return e.next=30,i({type:"fetchDatas",payload:a});case 30:case"end":return e.stop()}},e,null,[[15,23]])}),fetchDatas:v().mark(function e(t,n){var a,r,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,e.next=4,r(w,100);case 4:return e.next=6,i({type:"fetchNewCard",payload:a});case 6:return e.next=8,i({type:"fetch7NewCard",payload:a});case 8:return e.next=10,i({type:"fetch15NewCard",payload:a});case 10:return e.next=12,i({type:"fetch30NewCard",payload:a});case 12:return e.next=14,i({type:"fetchTopList",payload:a});case 14:return e.next=16,i({type:"fetchSkuIdList",payload:a});case 16:case"end":return e.stop()}},e)}),fetchNewCard:v().mark(function e(t,n){var a,r,i,o,s,c,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return m()({},e)[E]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,l={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l,days:0},e.next=14,r(p,l);case 14:l=e.sent,2e4===(l=l.data).code&&(u=l.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,i({type:"save",payload:{count1:u}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,null,[[10,19]])}),fetch7NewCard:v().mark(function e(t,n){var a,r,i,o,s,c,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return m()({},e)[E]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,l={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l,days:7},e.next=14,r(p,l);case 14:l=e.sent,2e4===(l=l.data).code&&(u=l.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,i({type:"save",payload:{count7:u}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,null,[[10,19]])}),fetch15NewCard:v().mark(function e(t,n){var a,r,i,o,s,c,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return m()({},e)[E]});case 4:return c=e.sent,o=c.projectId,s=c.dateFilter,u=c.filterModel,c=c.analysisModel,u={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||u,analysisModel:a.analysisModel||c,days:15},c="error",e.prev=11,e.next=14,r(p,u);case 14:u=e.sent,2e4===(u=u.data).code&&(c=u.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,i({type:"save",payload:{count15:c}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,null,[[11,19]])}),fetch30NewCard:v().mark(function e(t,n){var a,r,i,o,s,c,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return m()({},e)[E]});case 4:return c=e.sent,o=c.projectId,s=c.dateFilter,u=c.filterModel,c=c.analysisModel,u={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||u,analysisModel:a.analysisModel||c,days:30},c="error",e.prev=11,e.next=14,r(p,u);case 14:u=e.sent,2e4===(u=u.data).code&&(c=u.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,i({type:"save",payload:{count30:c}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,null,[[11,19]])}),fetchTopList:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,u=n.select,i=n.put,e.next=4,u(function(e){return m()({},e)[E]});case 4:return l=e.sent,o=l.projectId,d=l.dateFilter,s=l.filterModel,c=l.analysisModel,u=l.timeType,f=l.selectType,l="error",e.prev=12,p=a.timeType||u,d=(0,h.ZP)(a.dateFilter||d,function(e){e.dateGroupType=p}),f={projectId:a.projectId||o,dateFilter:d,filterModel:a.filterModel||s,analysisModel:a.analysisModel||c,selectType:a.selectType||f},e.next=18,r(y,f);case 18:if(f=e.sent,2e4===(f=f.data).code&&f.result&&0<f.result.length)return l=f.result,e.next=24,i({type:"fetchCountTrend",payload:a});e.next=26;break;case 24:e.next=29;break;case 26:return l="empty",e.next=29,i({type:"save",payload:{countTrend:"empty"}});case 29:e.next=33;break;case 31:e.prev=31,e.t0=e.catch(12);case 33:return e.prev=33,e.next=36,i({type:"save",payload:m()({},a,{topList:l})});case 36:return e.finish(33);case 37:case"end":return e.stop()}},e,null,[[12,31,33,37]])}),fetchCountTrend:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,u=n.select,i=n.put,e.next=4,u(function(e){return m()({},e)[E]});case 4:return l=e.sent,o=l.projectId,d=l.dateFilter,s=l.filterModel,c=l.analysisModel,u=l.timeType,f=l.selectType,l="error",e.prev=12,p=a.timeType||u,d=(0,h.ZP)(a.dateFilter||d,function(e){e.dateGroupType=p}),f={projectId:a.projectId||o,dateFilter:d,filterModel:a.filterModel||s,analysisModel:a.analysisModel||c,selectType:a.selectType||f},e.next=18,r(g,f);case 18:f=e.sent,f=f.data,l=2e4===f.code&&f.result?f.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:return e.prev=25,e.next=28,i({type:"save",payload:{countTrend:l}});case 28:return e.finish(25);case 29:case"end":return e.stop()}},e,null,[[12,23,25,29]])}),fetchSkuIdList:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,u=n.select,i=n.put,e.next=4,u(function(e){return m()({},e)[E]});case 4:return p=e.sent,o=p.projectId,d=p.dateFilter,s=p.filterModel,c=p.analysisModel,p.timeType,u=p.selectType,l=[],p=0,e.prev=12,d=a.dateFilter||d,d={projectId:a.projectId||o,filterModel:a.filterValue||s,analysisModel:a.analysisModel||c,dateFilter:d},a.selectDate&&(d.selectDate=a.selectDate),a.selectTypes&&(d.selectType=a.selectTypes||u),a.selectValue&&(d.selectValue=a.selectValue),e.next=20,r(f,d);case 20:if(d=e.sent,2e4===(d=d.data).code&&0<d.result.length)return l=d.result,p=d.result.length,e.next=27,i({type:"fetchDetailList",payload:m()({},a,{skuIdList:l})});e.next=29;break;case 27:e.next=31;break;case 29:return e.next=31,i({type:"save",payload:{detailList:"empty"}});case 31:e.next=35;break;case 33:e.prev=33,e.t0=e.catch(12);case 35:return e.prev=35,e.next=38,i({type:"save",payload:m()({},a,{skuIdList:l,total:p})});case 38:return e.finish(35);case 39:case"end":return e.stop()}},e,null,[[12,33,35,39]])}),fetchDetailList:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,f=n.select,i=n.put,e.next=4,f(function(e){return m()({},e)[E]});case 4:return l=e.sent,o=l.projectId,h=l.dateFilter,s=l.filterModel,c=l.analysisModel,l.timeType,u=l.selectType,d=l.pageSize,p=l.pageIndex,f=l.skuIdList,l="error",e.prev=15,h=a.dateFilter||h,p=a.pageIndex||p,d=a.pageSize||d,f=a.skuIdList||f,h={projectId:a.projectId||o,filterModel:a.filterValue||s,analysisModel:a.analysisModel||c,skuIdList:f.slice((p-1)*d,p*d),dateFilter:h},a.selectDate&&(h.selectDate=a.selectDate),a.selectTypes&&(h.selectType=a.selectTypes||u),a.selectValue&&(h.selectValue=a.selectValue),e.next=26,r(x,h);case 26:h=e.sent,h=h.data,l=2e4===h.code&&0<h.result.count?h.result.result:"empty",e.next=33;break;case 31:e.prev=31,e.t0=e.catch(15);case 33:return e.prev=33,e.next=36,i({type:"save",payload:m()({},a,{detailList:l})});case 36:return e.finish(33);case 37:case"end":return e.stop()}},e,null,[[15,31,33,37]])}),updateFlavors:v().mark(function e(t,n){var a,r,i,o,s,c;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return m()({},e)[E]});case 4:return s=e.sent,c=s.projectId,o=s.timeTypeFlavor,s=s.selectTypeFlavor,e.prev=8,s={timeTypeFlavor:void 0!==a.timeTypeFlavor?a.timeTypeFlavor:o,selectTypeFlavor:void 0!==a.selectTypeFlavor?a.selectTypeFlavor:s},e.next=12,r(T,{projectId:c,value:JSON.stringify(s)});case 12:if(c=e.sent,2e4===c.data.code)return e.next=17,i({type:"save",payload:s});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}},e,null,[[8,19]])})}}},43637:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var t=n(67154),m=n.n(t),t=n(87757),v=n.n(t),d=n(87219),t=n(48926),a=n.n(t),i=n(36144),r="MARKET_SALES_ANALYSE";function p(e){return o.apply(this,arguments)}function o(){return(o=a()(v().mark(function e(t){var n,a,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,e.abrupt("return",i.h.post("/market/insight/chart/find/ON_COUNT_SKU_CARD_CHART",{projectId:n,dateFilter:a,filterModel:r,marketInsightModule:"MARKET_SALE_ANALYSIS"}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return s.apply(this,arguments)}function s(){return(s=a()(v().mark(function e(t){var n,a,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,e.abrupt("return",i.h.post("/market/insight/chart/find/ACTIVITY_ITEM_COUNT_CARD_CHART",{projectId:n,dateFilter:a,filterModel:r,marketInsightModule:"MARKET_SALE_ANALYSIS"}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=a()(v().mark(function e(t){var n,a,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,e.abrupt("return",i.h.post("/market/insight/chart/find/SALE_COUNT_CARD_CHART",{projectId:n,dateFilter:a,filterModel:r,marketInsightModule:"MARKET_SALE_ANALYSIS"}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return u.apply(this,arguments)}function u(){return(u=a()(v().mark(function e(t){var n,a,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.cardType,r=t.sameRateType,e.abrupt("return",i.h.post("/market/insight/set-same-rate",{projectId:n,cardType:a,sameRateType:r,marketInsightModule:"MARKET_SALE_ANALYSIS"}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=a()(v().mark(function e(t){var n,a,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,e.abrupt("return",i.h.post("/market/insight/chart/find/PRODUCT_SALE_DISTRIBUTE",{projectId:n,filterModel:r,dateFilter:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return b.apply(this,arguments)}function b(){return(b=a()(v().mark(function e(t){var n,a,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,e.abrupt("return",i.h.post("/market/insight/chart/find/SALE_TAKE_PRICE_CHART",{projectId:n,filterModel:r,dateFilter:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return(I=a()(v().mark(function e(t){var n;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",i.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e){return E.apply(this,arguments)}function E(){return(E=a()(v().mark(function e(t){var n,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",i.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(t){return new Promise(function(e){return setTimeout(e,t)})}var C=n(5133),S=n(64396).Z.market.salesAnalysis;const N={namespace:S,state:Object.assign({},{saling:void 0,activeSaling:void 0,salesCount:void 0,timeType:"",timeTypeFlavor:"",saleData:void 0,priceType:"",priceTypeFlavor:"",priceData:void 0,timeTypeOpts:[],defaultTimeType:"DAY",projeceId:void 0,analysisModel:void 0,filterModel:void 0,dateFilter:void 0}),reducers:{save:function(e,t){t=t.payload;return m()({},e,t)}},effects:{fetchParams:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return m()({},e)[S]});case 4:if(l=e.sent,o=l.projectId,s=l.dateFilter,c=l.filterModel,f=l.analysisModel,u=l.timeTypeFlavor,l=l.priceTypeFlavor,JSON.stringify(a.projectId)===JSON.stringify(o)&&JSON.stringify(a.filterModel)===JSON.stringify(c)&&JSON.stringify(a.dateFilter)===JSON.stringify(s)&&JSON.stringify(a.analysisModel)===JSON.stringify(f))return e.abrupt("return");e.next=13;break;case 13:return p={timeType:u||a.defaultTimeType,priceType:l||"takePriceList"},d={timeTypeFlavor:u,priceTypeFlavor:l},e.prev=15,e.next=18,r(T,{projectId:a.projectId});case 18:f=e.sent,2e4===(f=f.data).code&&f.result&&(d=JSON.parse(f.result),h=Object.keys(p),Object.keys(d).forEach(function(e,t){d[e]&&(p[h[t]]=d[e])})),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return["timeType"].forEach(function(t){a.timeTypeOpts.find(function(e){return e.value===p[t]})||(p[t]=a.defaultTimeType)}),e.next=28,i({type:"save",payload:m()({},a,d,p)});case 28:return e.next=30,i({type:"fetchDatas",payload:a});case 30:case"end":return e.stop()}},e,null,[[15,23]])}),fetchDatas:v().mark(function e(t,n){var a,r,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,e.next=4,r(k,100);case 4:return e.next=6,i({type:"fetchSalingCard",payload:a});case 6:return e.next=8,i({type:"fetchActiveCard",payload:a});case 8:return e.next=10,i({type:"fetchSalesCountCard",payload:a});case 10:return e.next=12,i({type:"fetchSaleData",payload:a});case 12:return e.next=14,i({type:"fetchPriceData",payload:a});case 14:case"end":return e.stop()}},e)}),fetchSalingCard:v().mark(function e(t,n){var a,r,i,o,s,c,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return m()({},e)[S]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,l={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l},e.next=14,r(p,l);case 14:l=e.sent,2e4===(l=l.data).code&&l.result&&(u=l.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,i({type:"save",payload:{saling:u}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,null,[[10,19]])}),fetchActiveCard:v().mark(function e(t,n){var a,r,i,o,s,c,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return m()({},e)[S]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.analysisModel,u="error",e.prev=10,l={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||l},e.next=14,r(f,l);case 14:l=e.sent,2e4===(l=l.data).code&&l.result&&(u=l.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,i({type:"save",payload:{activeSaling:u}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,null,[[10,19]])}),fetchSalesCountCard:v().mark(function e(t,n){var a,r,i,o,s,c,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return m()({},e)[S]});case 4:return c=e.sent,o=c.projectId,s=c.dateFilter,u=c.filterModel,c=c.analysisModel,u={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||u,analysisModel:a.analysisModel||c},c="error",e.prev=11,e.next=14,r(l,u);case 14:u=e.sent,2e4===(u=u.data).code&&u.result&&(c=u.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,i({type:"save",payload:{salesCount:c}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,null,[[11,19]])}),setSameRate:v().mark(function e(t,n){var a,r,i,o,s,c,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return m()({},e)[S]});case 4:return c=e.sent,o=c.projectId,s=a.cartType,c=a.sameRateType,e.next=9,r(h,{projectId:o,cardType:s,sameRateType:c});case 9:if(c=e.sent,2e4!==c.data.code){e.next=24;break}e.t0=s,e.next="ON_COUNT_SKU_CARD_CHART"===e.t0?15:"ACTIVITY_ITEM_COUNT_CARD_CHART"===e.t0?17:"SALE_COUNT_CARD_CHART"===e.t0?19:21;break;case 15:return u="fetchSalingCard",e.abrupt("break",21);case 17:return u="fetchActiveCard",e.abrupt("break",21);case 19:return u="fetchSalesCountCard",e.abrupt("break",21);case 21:return C.Z.success("设置成功"),e.next=24,i({type:u,payload:a});case 24:case"end":return e.stop()}},e)}),fetchSaleData:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,s=n.select,i=n.put,e.next=4,s(function(e){return m()({},e)[S]});case 4:return c=e.sent,o=c.projectId,l=c.dateFilter,p=c.filterModel,s=c.timeType,c="error",e.prev=10,u=a.timeType||s,l=(0,d.ZP)(a.dateFilter||l,function(e){e.dateGroupType=u}),p={projectId:a.projectId||o,dateFilter:l,filterModel:a.filterModel||p},e.next=16,r(y,p);case 16:return p=e.sent,p=p.data,c=2e4===p.code&&0<p.result.length?p.result:"empty",e.next=21,i({type:"save",payload:m()({},a,{saleData:c})});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(10);case 25:case"end":return e.stop()}},e,null,[[10,23]])}),fetchPriceData:v().mark(function e(t,n){var a,r,i,o,s,c,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,c=n.select,i=n.put,e.next=4,c(function(e){return m()({},e)[S]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterModel,l=u.priceType,u="error",e.prev=10,l={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,type:a.priceType||l},e.next=14,r(x,l);case 14:return l=e.sent,l=l.data,u=2e4===l.code&&0<l.result.length?l.result:"empty",e.next=19,i({type:"save",payload:m()({},a,{priceData:u})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(10);case 23:case"end":return e.stop()}},e,null,[[10,21]])}),updateFlavors:v().mark(function e(t,n){var a,r,i,o,s,c;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return m()({},e)[S]});case 4:return s=e.sent,c=s.projectId,o=s.timeTypeFlavor,s=s.priceTypeFlavor,e.prev=8,s={timeTypeFlavor:void 0!==a.timeTypeFlavor?a.timeTypeFlavor:o,priceTypeFlavor:void 0!==a.priceTypeFlavor?a.priceTypeFlavor:s},e.next=12,r(w,{projectId:c,value:JSON.stringify(s)});case 12:if(c=e.sent,2e4===c.data.code)return e.next=17,i({type:"save",payload:s});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}},e,null,[[8,19]])})}}},38141:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var t=n(67154),b=n.n(t),t=n(87757),T=n.n(t),l=n(87219),t=n(48926),a=n.n(t),d=n(36144);function I(e){var t=e.dateFilter,n=e.group,a=e.messageCategory,r=e.parent,i=e.dataLevel,o=e.id,s=e.index,c=e.pageIndex,u=e.pageSize,l=e.fromScene,p=e.headerFilterParamsNew,e=e.connectionId;return d.h.post("/message/detail/show",{group:n,dateFilter:t,messageCategory:a,parent:r,dataLevel:i,id:o,index:s,pageIndex:void 0===c?1:c,pageSize:void 0===u?20:u,fromScene:l,headerFilterParamsNew:p,connectionId:e})}function w(e){var t=e.messageIds,e=e.projectId;return d.h.post("/order/find",{messageIds:t,projectId:e})}function m(e){var t=e.projectId,n=e.withAspect,a=e.withRemark,e=e.sourceSessionId;return d.h.post("/waiter-session/detail/new/find",{projectId:t,withAspect:void 0===n||n,withRemark:void 0===a||a,sourceSessionId:e})}function E(e){var t=e.projectId,e=e.ids;return d.h.post("/message/tag/show",{projectId:t,ids:e})}function k(e){var t=e.ids,e=e.index;return d.h.post("/message/operator/list",{ids:t,index:e})}function c(){return d.h.get("/user/enable_user/list")}function f(e){var t=e.id,e=e.index;return d.h.post("/message/find",{id:t,index:e})}function p(e){var t=e.id,e=e.index;return d.h.post("/message/sign",{id:t,index:e})}function h(e){var t=e.id,e=e.index;return d.h.post("/message/cancel/sign",{id:t,index:e})}function u(e){var t=e.id,e=e.index;return d.h.post("/message/handle/rule",{id:t,index:e})}function C(e){return r.apply(this,arguments)}function r(){return(r=a()(T().mark(function e(t){var n,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.ids,e.abrupt("return",d.h.post("message/comment/tag/show",{projectId:n,ids:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function i(e){return o.apply(this,arguments)}function o(){return(o=a()(T().mark(function e(t){var n,a,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.feedbackDetails,r=t.historyTag,i=t.messageContent,o=t.messageId,e.abrupt("return",d.h.post("/data_feedback/save",{projectId:n,feedbackDetails:a,historyTag:r,messageContent:i,messageId:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(t){return new Promise(function(e){return setTimeout(e,t)})}var S=n(61193),n=n(64396),y=n.Z.global,N=n.Z.message.inboxDetail,s={detailData:void 0,detailDataFetching:!1,detailParams:void 0,specifyData:void 0,operatorList:void 0,pageIndex:0,pageSize:20,noMoreData:!1,resetTime:0,fetchedTag:!1},_={id:null,userId:null,messageId:null,commentId:null,status:null,createdAt:null,updatedAt:null,content:null,userHeadUrl:null,username:null,email:null};const g={namespace:N,state:Object.assign({},s),reducers:{save:function(e,t){t=t.payload;return b()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},b()({},s,{operatorList:e.operatorList}))}},effects:{fetchMsgDetail:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[N]});case 4:return l=e.sent,s=l.pageIndex,c=l.pageSize,u=l.detailParams,l=l.detailDataFetching,e.next=11,o(function(e){return e.inbox});case 11:if(d=e.sent,p=d.filterValue,d=d.MESSAGE_TYPE,l)return e.abrupt("return");e.next=16;break;case 16:return e.next=18,i({type:"save",payload:{detailDataFetching:!0}});case 18:return(f=a||u).pageIndex=1+s,m=!(h=null),e.prev=21,e.next=24,r(I,b()({},f,{pageSize:c,fromScene:p&&p.fromScene?p.fromScene:"",headerFilterParamsNew:p&&p.headerFilterParamsNew?p.headerFilterParamsNew:[]}));case 24:if(v=e.sent,v=v.data,S.Z.hasAuthority("MESSAGE_ORDER_NO"))return e.next=29,r(w,{messageIds:[f.oid],projectId:f.projectId});e.next=31;break;case 29:0<(g=e.sent).data.result.length&&2e4===g.data.code&&(v.result.messageBasics[0].oids=g.data.result[0].oid);case 31:if(2e4===v.code)return h=v.result.messageBasics.map(function(e){return b()({},e,{messageVO:_,tagVos:[],msgHistory:"",msgType:"USEFUL_DATA"})}),e.next=35,i({type:"save",payload:{detailData:JSON.parse(JSON.stringify(h))}});e.next=58;break;case 35:if(m=v.result.total<=s+c,f.pageIndex=m?v.result.total:s+c,(y=h.map(function(e){return e.id})).length)return e.next=41,r(k,{ids:y,index:f.index});e.next=44;break;case 41:g=e.sent,2e4===(g=g.data).code&&g.result.forEach(function(t){var e=h.find(function(e){return e.id===t.id});e&&(e.messageVO=t.messageVO)});case 44:return e.next=46,r(E,{ids:y,projectId:f.projectId});case 46:if(x=e.sent,2e4===(x=x.data).code&&x.result.forEach(function(t){var e=h.find(function(e){return e.id===t.commentId});e&&(e.tagVos=t.tagVos),e&&(e.aspectVos=t.aspectVos)}),d&&"COMMENT"!==d){e.next=58;break}return e.next=52,r(C,{ids:y,projectId:f.projectId});case 52:if(x=e.sent,2e4===(x=x.data).code)return x.result.forEach(function(t){var e=h.find(function(e){return e.id===t.commentId});e&&(e.aspectVos=t.aspectVos)}),e.next=58,i({type:"save",payload:{fetchedTag:!0}});e.next=58;break;case 58:e.next=62;break;case 60:e.prev=60,e.t0=e.catch(21);case 62:return e.prev=62,e.next=65,i({type:"save",payload:{detailData:JSON.parse(JSON.stringify(h)),pageIndex:f.pageIndex,noMoreData:m,detailParams:f,detailDataFetching:!1}});case 65:return e.finish(62);case 66:case"end":return e.stop()}},e,null,[[21,60,62,66]])}),fetchSpecifyMsg:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[N]});case 4:return s=e.sent,s=s.detailParams,e.next=8,o(function(e){return e.inbox});case 8:return c=e.sent,c=c.MESSAGE_TYPE,u=null,e.prev=11,e.next=14,r(f,a);case 14:if(p=e.sent,2e4!==(p=p.data).code){e.next=36;break}if(u=p.result.messageBasics.map(function(e){return b()({},e,{messageVO:_,tagVos:[]})}),(l=u.map(function(e){return e.id})).length)return e.next=22,r(k,{ids:l,index:s.index});e.next=25;break;case 22:p=e.sent,2e4===(p=p.data).code&&p.result.forEach(function(t){var e=u.find(function(e){return e.id===t.id});e&&(e.messageVO=t.messageVO)});case 25:return e.next=27,r(E,{ids:l,projectId:s.projectId});case 27:if(d=e.sent,2e4===(d=d.data).code&&d.result.forEach(function(t){var e=u.find(function(e){return e.id===t.commentId});e&&(e.tagVos=t.tagVos),e&&(e.aspectVos=t.aspectVos)}),c&&"COMMENT"!==c){e.next=36;break}return e.next=33,r(C,{ids:l,projectId:s.projectId});case 33:d=e.sent,2e4===(d=d.data).code&&d.result.forEach(function(t){var e=u.find(function(e){return e.id===t.commentId});e&&(e.aspectVos=t.aspectVos)});case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(11),console.error(e.t0);case 41:return e.prev=41,e.next=44,i({type:"save",payload:{specifyData:u}});case 44:return e.finish(41);case 45:case"end":return e.stop()}},e,null,[[11,38,41,45]])}),fetchEnableOperatorList:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.put,i=n.select,e.next=4,i(function(e){return b()({},e)[N]});case 4:if(s=e.sent,s.operatorList)return e.abrupt("return");e.next=8;break;case 8:return o=[],e.prev=9,e.next=12,a(c);case 12:s=e.sent,2e4===(s=s.data).code&&(o=s.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,r({type:"save",payload:{operatorList:o}});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),fetchCustomerServiceDetail:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[N]});case 4:return l=e.sent,p=l.detailParams,s=a||p,c=null,u=[],l=[],p=[],e.prev=11,e.next=14,r(m,s);case 14:if(d=e.sent,2e4===(d=d.data).code&&d.result)return(c=d.result).messageVO=_,c.tagVos=[],e.next=22,i({type:"save",payload:{detailData:c}});e.next=38;break;case 22:if(u=c.aspect,l=c.topic,p=c.product,(f=[d.result.id]).length)return e.next=29,r(k,{ids:f,index:s.index});e.next=32;break;case 29:h=e.sent,2e4===(h=h.data).code&&(c.messageVO=h.result[0].messageVO);case 32:return e.next=34,r(E,{ids:f,projectId:s.projectId});case 34:h=e.sent,2e4===(h=h.data).code&&(c.tagVos=h.result[0].tagVos),2e4===h.code&&(c.aspectVos=h.result[0].aspectVos);case 38:e.next=42;break;case 40:e.prev=40,e.t0=e.catch(11);case 42:return e.prev=42,e.next=45,i({type:"save",payload:{detailData:c,detailAspect:u,detailTopic:l,detailProduct:p,detailParams:s}});case 45:return e.finish(42);case 46:case"end":return e.stop()}},e,null,[[11,40,42,46]])}),setMessageInvalidate:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.select,i=n.call,o=n.put,e.next=4,r(function(e){return b()({},e)[N]});case 4:return c=e.sent,s=c.detailData,e.prev=6,e.next=9,i(p,a);case 9:if(u=e.sent,2e4===u.data.code)return e.next=14,i(v,5e3);e.next=20;break;case 14:if(c=s.find(function(e){return e.id===a.id}),c)return u=(0,l.ZP)(c,function(e){e.tagVos.find(function(e){return"无效数据"===e.tagId})||e.tagVos.splice(0,0,{commentId:null,tagId:"无效数据",tagName:"无效数据",tagValue:"无效数据",tagTypeName:null}),e.msgHistory=a.msgHistory}),e.next=20,o({type:"save",payload:{specifyData:[u]}});e.next=20;break;case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(6);case 24:case"end":return e.stop()}},e,null,[[6,22]])}),setMessageValidate:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[N]});case 4:return c=e.sent,s=c.detailData,e.prev=6,e.next=9,r(h,a);case 9:if(u=e.sent,2e4===u.data.code)return e.next=14,r(v,5e3);e.next=20;break;case 14:if(c=s.find(function(e){return e.id===a.id}),c)return u=(0,l.ZP)(c,function(e){var t=e.tagVos.findIndex(function(e){return"无效数据"===e.tagId});-1<t&&e.tagVos.splice(t,1),e.msgHistory=a.msgHistory}),e.next=20,i({type:"save",payload:{specifyData:[u]}});e.next=20;break;case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(6);case 24:case"end":return e.stop()}},e,null,[[6,22]])}),setMessageHandleByRule:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e.global});case 4:return c=e.sent,s=c.ruleSettingList,e.prev=6,e.next=9,r(u,a);case 9:if(c=e.sent,2e4===c.data.code)return e.next=14,i({type:y+"/save",payload:{ruleSettingList:(0,l.ZP)(s,function(e){e.push(a)})}});e.next=14;break;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}},e,null,[[6,16]])}),feedbackCommentTags:T().mark(function e(t,n){var a,r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,e.next=4,r(i,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)})}}},51797:(e,t,n)=>{"use strict";n.d(t,{fR:()=>function(n,e){var t=[];{var a,r,i,o;n.waiter&&n.waiter.length&&(a=[],r=[],i=[],o=[],n.waiter.forEach(function(e){a.exist("id",e.sourceId)||a.push({name:e.sourceName,id:e.sourceId}),r.exist("id",e.shopId)||r.push({name:e.shopName,id:e.shopId}),i.exist("id",e.waiterId)||i.push({name:e.waiterName,id:e.waiterId}),o.exist("id",e.typeId)||o.push({name:e.typeName,id:e.typeId})}),t.push.apply(t,[{id:"source",serverKey:"source",type:"checkbox",name:"平台",list:a},{id:"shop",serverKey:"shopName",type:"checkbox",name:"店铺",list:r},{id:"type",serverKey:"typeList",type:"checkbox",name:"客服类型",list:o},{id:"waiter",serverKey:"waiter",type:"checkbox",name:"客服",list:i}]))}n.brandProduct&&t.push({id:"brand",serverKey:"brand",type:"checkbox",name:"品牌",list:Object.keys(n.brandProduct).map(function(e){return{id:e,name:e}})});n.product&&n.product.length&&c[e].includes("product")&&t.push({id:"product",serverKey:"product",type:"all"===e?"checkbox":"radio",name:"型号",list:Object.keys(n.brandProduct).reduce(function(e,t){return e.concat(n.brandProduct[t])},[]).map(function(e){return{id:e,name:e}})});{var s;n.aspect&&c[e].includes("aspect")&&(s=[],Object.keys(JSON.parse(n.aspect)[0]).forEach(function(e){s.push({id:e,name:e,values:JSON.parse(n.aspect)[0][e].map(function(e){return{id:e,name:e}})})}),t.push({id:"aspect",serverKey:"aspect",type:"cascade",name:"关注点",list:s}))}return t.push({id:"keywords",serverKey:"keywords",type:"keywords",name:"关键词"}),t},bp:()=>function(e){var t={};return e.forEach(function(e){"aspect"===e.serverKey&&0<e.values.length?t[""+e.serverKey+(0<e.values[0].values.length?2:1)]=0<e.values[0].values.length?e.values[0].values.map(function(e){return e.id}):[e.values[0].id]:t[e.serverKey]=e.values}),t},g1:()=>function(e,n,t){var o=["source","shop","waiter"],s=["product","brand"];t.forEach(function(a){var r,t,i=n.waiter.filter(function(e){return a.values.includes(e[a.id+"Id"])});o.includes(a.id)&&e.forEach(function(n){var e;a.id===n.id&&(n.hasScreening=!0),a.id!==n.id&&o.includes(n.id)&&!n.hasScreening&&(e=[],i.forEach(function(t){e.some(function(e){return e.id===t[n.id+"Id"]})||e.push({id:t[n.id+"Id"],name:t[n.id+"Name"]})}),n.list=e)}),s.includes(a.id)&&(r=n.brandProduct,t=Object.keys(r),e.forEach(function(e){var n;a.id===e.id&&(e.hasScreening=!0),s.includes(e.id)&&!e.hasScreening&&("brand"===a.id?e.list=t.filter(function(e){return a.values.includes(e)}).reduce(function(e,t){return e.concat(r[t])},[]).map(function(e){return{id:e,name:e}}):"product"===a.id&&(n=[],t.forEach(function(t){a.values.forEach(function(e){r[t].includes(e)&&(n.some(function(e){return e.id===t})||n.push({id:t,name:t}))})}),e.list=n))}))});var a=o.concat(s);return t.forEach(function(n){e.forEach(function(e){var t;a.includes(n.id)&&a.includes(e.id)&&(t=e.list.map(function(e){return e.id}),n.id===e.id&&(n.values=n.values.filter(function(e){return t.includes(e)})))})}),{list:e,values:t.filter(function(e){return 0<e.values.length})}}});var c={commodityAnalyze:["product"],concernAnalyze:["aspect"],overview:[],all:["product","aspect"]};Array.prototype.exist=function(t,n){return this.some(function(e){return(t?e[t]:e)===n})}},42624:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),v=n(51797),o=n(36144);function s(e){e=e.projectId;return o.h.post("/session/filter/find",{projectId:e})}function y(e){e=e.id;return o.h.post("/filter/find/save",{id:e})}function d(e){var t=e.name,n=e.copy,a=e.id,r=e.type,i=e.projectId,e=e.selected;return o.h.post("/filter/add",{name:t,copy:n,type:r,id:a,projectId:i,selected:e})}var f=n(35239),g=n(64396).Z.serviceFilter;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var x={overview:"WAITER_SESSION_OVERVIEW",commodityAnalyze:"WAITER_SESSION_ASPECT",concernAnalyze:"WAITER_SESSION_PRODUCT",all:"MSG_WAITER_SESSION"};const a={namespace:g,state:{screeningMap:void 0,screeningList:[],screeningValues:[],dateFilter:{dateGroupType:"DAY",from:"2019-09-25",numOfDays:30,quickChoice:"近30天",remoteName:"cTime",to:"2019-10-24"},selSaveInfo:{id:"default",name:"全部",screeningValues:[]},detailInfo:[]},effects:{fetchScreeningMap:m().mark(function e(t,n){var a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,n.select,e.next=4,i(s,{projectId:f.t.get(f.V.curProject).id});case 4:return o=e.sent,(i=o.data.result).waiter&&i.waiter.forEach(function(e){e.waiterId=e.waiterName,e.shopId=e.shopName}),o=(0,v.fR)(i,a.type),e.next=10,r({type:"save",payload:{screeningMap:i,screeningList:o}});case 10:return e.abrupt("return");case 11:case"end":return e.stop()}},e)}),saveBoxChange:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,s=a.value,c=a.type,u=a.key,e.next=5,o(function(e){return e[g]});case 5:if(d=e.sent,l=d.screeningMap,d.screeningValues,p=d.selSaveInfo,"name"===u)return e.next=12,i({type:"save",payload:{selSaveInfo:h()({},JSON.parse(JSON.stringify(p)),{name:s})}});e.next=13;break;case 12:return e.abrupt("return",e.sent);case 13:if("default"===s.id)return f=(0,v.fR)(l,a.type),e.next=17,i({type:"save",payload:{screeningValues:[],selSaveInfo:{id:"default",name:"全部",screeningValues:[]},screeningList:f}});e.next=18;break;case 17:return e.abrupt("return",e.sent);case 18:return e.next=20,r(y,{id:s.id});case 20:if(d=e.sent,p=d.data.result)return f=(0,v.g1)((0,v.fR)(l,c).deepcopy(),l,JSON.parse(p.selected)),d=f.list,f=f.values,e.next=26,i({type:"save",payload:{screeningValues:f.deepcopy(),selSaveInfo:{id:s.id,name:p.name,screeningValues:f.deepcopy()},screeningList:d}});e.next=27;break;case 26:return e.abrupt("return",e.sent);case 27:case"end":return e.stop()}},e)}),saveScreening:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,a=n.call,r=n.put,i=n.select,o=c.type,s=c.name,c=c.model,e.next=5,i(function(e){return e[g]});case 5:return l=e.sent,u=l.selSaveInfo,l=l.screeningValues,e.next=10,a(d,{name:"update"===o?u.name:s,copy:"saveOther"===o,type:x[c],id:"save"===o?null:u.id,projectId:f.t.get(f.V.curProject).id,selected:JSON.stringify(l)});case 10:return p=e.sent,p=p.data.result,e.next=14,r({type:"save",payload:{selSaveInfo:{id:p.id,name:"update"===o?u.name:s,screeningValues:l}}});case 14:return e.abrupt("return",p);case 15:case"end":return e.stop()}},e)}),screeningValuesChange:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,o=n.select,e.next=4,o(function(e){return e[g]});case 4:return s=e.sent,o=s.screeningMap,s=s.screeningValues,i=s.deepcopy(),a.values.forEach(function(t){var n=JSON.parse(JSON.stringify(t.listDetail));i.some(function(e){return e.id===n.id})?(i.forEach(function(e){e.id===n.id&&(e.values=t.values,delete e.list)}),0===t.values.length&&i.splice(i.findIndex(function(e){return e.id===n.id}),1)):(delete n.list,i.push(h()({},n,{values:t.values})))}),s=(0,v.g1)((0,v.fR)(o,a.type).deepcopy(),o,i.deepcopy()),o=s.list,s=s.values,e.next=12,r({type:"save",payload:{screeningValues:s,screeningList:o}});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e)}),dateValueChange:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"save",payload:{dateFilter:a.value}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),clearAllValues:m().mark(function e(t,n){var a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,e.next=4,o(function(e){return e[g]});case 4:return i=e.sent,o=i.screeningMap,i.screeningValues,e.next=9,r({type:"save",payload:{screeningValues:[],screeningList:(0,v.fR)(o,a.type)}});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}),saveValue:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"save",payload:{screeningValues:a.value,selSaveInfo:{id:"default",name:"全部",screeningValues:[]}}});case 4:return e.next=6,r({type:"screeningValuesChange",payload:{values:[],type:a.type}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}),saveDetailInfoValue:m().mark(function e(t,n){var a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return e[g]});case 4:return i=e.sent,o=i.screeningList,a.value.forEach(function(e){var n,a;"source"===e.id&&(n=o.filter(function(e){return"source"===e.id})[0].list,e.values=e.values.map(function(t){return n.find(function(e){return e.id===t}).name})),"type"===e.id&&(a=o.filter(function(e){return"type"===e.id})[0].list,e.values=e.values.map(function(t){return a.find(function(e){return e.id===t}).name}))}),e.next=9,r({type:"save",payload:{detailInfo:a.value}});case 9:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return h()({},e,t)}}}},37361:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var t=n(67154),g=n.n(t),t=n(87757),x=n.n(t),t=n(37316),p=n.n(t),t=n(48926),a=n.n(t),d=n(36144);function f(a){var r={};return function(){var e=new Promise(function(t,n){Object.defineProperty(r,"signal",{set:function(){n("Abort")}}),a().then(function(e){return t(e)}).catch(function(e){return n(e)})});return Object.assign(e,{cancel:function(){r.signal=!0}})}}var h=null;function b(e){return r.apply(this,arguments)}function r(){return(r=a()(x().mark(function e(t){var n,a,r,i,o,s,c,u,l;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dateFilter,a=t.filterModel,r=t.pageIndex,i=t.pageSize,o=t.messageCategory,s=t.model,c=t.smartFolderId,u=p()(t,["dateFilter","filterModel","pageIndex","pageSize","messageCategory","model","smartFolderId"]),h&&h.cancel(),e.t0=s,e.next=void 0===e.t0?5:"PERSONAL"===e.t0||"FOLDER"===e.t0?7:"ARCHIVE"===e.t0?9:11;break;case 5:return l=f(function(){return d.h.post("/inbox/messages/list",g()({dateFilter:n,filterModel:a,pageIndex:r,pageSize:i,messageCategory:o},u,{type:void 0}))})(),e.abrupt("break",11);case 7:return l=f(function(){return d.h.post("/message/personal/list",g()({dateFilter:n,filterModel:a,pageIndex:r,pageSize:i,smartFolderId:c},u))})(),e.abrupt("break",11);case 9:return l=f(function(){return d.h.post("/message/processed/list",g()({dateFilter:n,filterModel:a,pageIndex:r,pageSize:i},u))})(),e.abrupt("break",11);case 11:return h=l,e.abrupt("return",l);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return i.apply(this,arguments)}function i(){return(i=a()(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.h.post("/data/message/export",t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return o.apply(this,arguments)}function o(){return(o=a()(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.h.post("/data/waiter-session/export",t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return s.apply(this,arguments)}function s(){return(s=a()(x().mark(function e(t){var n,a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dateFilter,a=t.filterModel,r=t.headerFilterParamsNew,e.abrupt("return",d.h.post("/message/all/count",{dateFilter:n,filterModel:a,headerFilterParamsNew:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(e){return v.apply(this,arguments)}function v(){return(v=a()(x().mark(function e(t){var n,a,r,i,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dateFilter,a=t.filterModel,r=t.orderTime,i=t.messageCategory,o=t.headerFilterParamsNew,e.abrupt("return",d.h.post("/inbox/messages/garbage-count",{dateFilter:n,filterModel:a,orderTime:r,messageCategory:i,headerFilterParamsNew:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return T.apply(this,arguments)}function T(){return(T=a()(x().mark(function e(t){var n,a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.routing,r=t.projectId,e.abrupt("return",d.h.post("message/private/operate",{id:n,status:1,routing:a,projectId:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return w.apply(this,arguments)}function w(){return(w=a()(x().mark(function e(t){var n,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.tagLists,e.abrupt("return",d.h.post("message/rule/findHighLightWord",{projectId:n,tagLists:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var E=n(35239),t=n(64396),k=(n(73098),t.Z.inbox),C={MODEL:"",MESSAGE_TYPE:void 0,smartFolderId:void 0,canRenderFilter:!1,filterReady:!1,filterValue:{},filterTip:void 0,topicType:void 0,sortName:"cTime|DESC",messageList:void 0,detailList:void 0,total:null,questionnaireCount:null,garbageTotal:0,curSelectMessage:{},pageIndex:1,pageSize:20,allMessageCount:[],serviceCustomerType:"",highLightWordList:[],highLightWords:{content:null,headerFilterParamsNew:null,textRankWord:null,scenceWords:null},hightLightTagsList:[],otherFilter:{msgId:void 0,eventName:void 0,specialTopicId:void 0,contentGroup:void 0,queryType:void 0,topic1Names:void 0,topic2Names:void 0}},S={COMMENT:"1",QUE_ANS:"2",BBS:"9",SOCIAL:"11",SELF:"12",NEWS:"4",COMPLAINT:"13",QUESTIONAIRE:"17",QUESTION:"6",VIDEO:"19",SERVICE:"8",length:11};const N={namespace:k,state:C,reducers:{save:function(e,t){t=t.payload;return g()({},e,t)},saveStorageFilterValue:function(e,t){var n=t.payload,t=void 0;return n.filterModel&&n.filterModel.topics&&0<n.filterModel.topics.length&&(t=n.filterModel.topics[0].topicType),g()({},e,{filterValue:n,topicType:t,otherFilter:{msgId:n.msgId,eventName:n.eventName,specialTopicId:n.specialTopicId,contentGroup:n.contentGroup,queryType:n.queryType,topic1Names:n.topic1Names,topic2Names:n.topic2Names},filterTip:n.filterTip,canRenderFilter:!0})},changeMessage:function(e,t){var n=t.payload,a=n.id,t=e.messageList;return t&&t.forEach(function(t){t.id===a&&Object.keys(n).forEach(function(e){return t[e]=n[e]})}),g()({},e,{messageList:JSON.parse(JSON.stringify(t))})},changeMessageCount:function(e,t){var n=t.payload,a=n.id,t=n.total,n=(e.allMessageCount,{id:a,total:t});return g()({},e,{allMessageCount:n})}},effects:{filterReady:x().mark(function e(t,n){var a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"save",payload:{filterReady:!0,MESSAGE_TYPE:a.messageType,MODEL:a.model,smartFolderId:a.smartFolderId}});case 4:return a.firstTime=!0,e.next=7,r({type:"filterChange",payload:a});case 7:case"end":return e.stop()}},e)}),filterChange:x().mark(function e(t,n){var a,r,i,o,s;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,s=n.select,e.next=4,s(function(e){return e.inbox});case 4:return i=e.sent,o=i.MODEL,s=i.otherFilter,e.next=9,r({type:"save",payload:((i={filterValue:a.filterValue,messageList:void 0,detailList:void 0,curSelectMessage:{}})[a.firstTime?void 0:"filterTip"]=null,i[a.firstTime?void 0:"otherFilter"]=s||{},i.allMessageCount=[],i)});case 9:return e.next=11,r({type:"fetchMessageList",payload:{}});case 11:if(o){e.next=14;break}return e.next=14,r({type:"getGarbageCount"});case 14:return e.next=16,r({type:"getHighLightWord",payload:{filterValue:a.filterValue}});case 16:case"end":return e.stop()}},e)}),sortTypeChange:x().mark(function e(t,n){var a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.select,e.next=4,r({type:"save",payload:{sortName:a.value}});case 4:return e.next=6,r({type:"fetchMessageList",payload:{}});case 6:case"end":return e.stop()}},e)}),getGarbageCount:x().mark(function e(t,n){var a,r,i,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return e[k]});case 3:return i=e.sent,o=i.MESSAGE_TYPE,i=i.filterValue,(i=JSON.parse(JSON.stringify(i))).filterModel=i.filterModel||{},i.filterModel.project=[E.t.get(E.V.curProject).id],o=g()({},i,{orderTime:0,messageCategory:o||""}),e.next=12,a(c,o);case 12:return o=e.sent,o=o.data.result,e.next=16,r({type:"save",payload:{garbageTotal:o}});case 16:case"end":return e.stop()}},e)}),fetchMessageList:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,v=n.select,e.next=4,v(function(e){return e[k]});case 4:return h=e.sent,o=h.MESSAGE_TYPE,s=h.MODEL,c=h.smartFolderId,m=h.filterValue,u=h.sortName,l=h.messageList,p=h.curSelectMessage,d=h.pageSize,f=h.topicType,v=h.otherFilter,h=a.pageIndex||1,(m=JSON.parse(JSON.stringify(m))).filterModel.sortName=u.substring(0,u.indexOf("|")),m.filterModel.sortOrder=u.substring(u.indexOf("|")+1,1/0),f&&m.filterModel.topics&&0<m.filterModel.topics.length&&(m.filterModel.topicType=f),v=g()({},m,{pageIndex:20*(h-1)+1,pageSize:d,messageCategory:o||"",model:s,smartFolderId:c},v,{projectId:E.t.get(E.V.curProject).id}),e.next=23,r(b,v);case 23:return y=e.sent,y=y.data.result,e.next=27,i({type:"save",payload:{messageList:1===h?y.messages:l.concat(y.messages),pageIndex:h,total:y.total,questionnaireCount:y.questionnaireCount,curSelectMessage:1===h?y.messages[0]:p}});case 27:if(!s||"PERSONAL"!==s&&"ARCHIVE"!==s){e.next=32;break}return e.next=30,i({type:"save",allMessageCount:[]});case 30:e.next=34;break;case 32:return e.next=34,i({type:"changeMessageCount",payload:{id:S[o],total:y.total}});case 34:if(1!==h||"PERSONAL"!==s&&"FOLDER"!==s||!y.messages.length||0!==y.messages[0].status){e.next=37;break}return e.next=37,i({type:"freshMessageStatus",payload:y.messages[0]});case 37:case"end":return e.stop()}},e)}),inboxClick:x().mark(function e(t,n){var a,r,i,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.select,i=n.put,e.next=4,r(function(e){return e[k]});case 4:return o=e.sent,o=o.MODEL,e.next=8,i({type:"save",payload:{curSelectMessage:a}});case 8:if("PERSONAL"!==o&&"FOLDER"!==o||1===a.status){e.next=11;break}return e.next=11,i({type:"freshMessageStatus",payload:a});case 11:case"end":return e.stop()}},e)}),downloadMessage:x().mark(function e(t,n){var a,r,i,o,s,c;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,e.next=4,o(function(e){return e[k]});case 4:return c=e.sent,s=c.filterValue,i=c.MESSAGE_TYPE,o=a.exportTypes,c=a.category,(s=JSON.parse(JSON.stringify(s))).type&&delete s.type,c=g()({},s,{projectId:E.t.get(E.V.curProject).id,messageCategory:a.messageCategory||i||"",exportTypes:o,category:c}),e.next=13,r(u,c);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}},e)}),downloadServiceMessage:x().mark(function e(t,n){var a,r,i,o,s,c;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,e.next=4,i(function(e){return e[k]});case 4:return o=e.sent,s=o.filterValue,c=o.otherFilter,i=a.exportTypes,o=a.category,(s=JSON.parse(JSON.stringify(s))).type&&delete s.type,c=g()({},s,{projectId:E.t.get(E.V.curProject).id,messageCategory:a.messageCategory,exportTypes:i,category:o},c),e.next=13,r(l,c);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}},e)}),getMessageCount:x().mark(function e(t,n){var a,r,i,o,s,c;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.select,i=n.put,e.next=4,r(function(e){return e.inbox});case 4:return o=e.sent,s=o.filterValue,o=o.MESSAGE_TYPE,(s=JSON.parse(JSON.stringify(s))).filterModel.project=[E.t.get(E.V.curProject).id],e.next=11,a(m,g()({},s));case 11:return s=e.sent,s=s.data.result,(c=S[o])&&(s=g()({},s.filter(function(e){return Number(c)===Number(e.id)})[0])),e.next=17,i({type:"save",payload:{allMessageCount:s}});case 17:case"end":return e.stop()}},e)}),freshMessageStatus:x().mark(function e(t,n){var a,r,i,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,n.select,r=n.put,i=o.id,o=o.routing,e.next=5,a(y,{id:i,routing:o,projectId:E.t.get(E.V.curProject).id});case 5:if(o=e.sent,2e4===o.data.code)return e.next=10,r({type:"changeMessage",payload:{id:i,status:1}});e.next=10;break;case 10:case"end":return e.stop()}},e)}),getHighLightWord:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,u=n.select,r=n.put,e.next=4,u(function(e){return e.inbox});case 4:for(f in l=e.sent,i=l.highLightWords,o=[],s="",p=a.filterValue,c=p.textRankWord,u=p.topic2Names,l=p.filterModel.content,p=p.headerFilterParamsNew,s=p&&0<p.length&&"CUSTOMER_SERVICE"===p[0].id?"SERVER"===p[0].values[0].values[0]?"SERVER":"CUSTOMER":"",l?(d=[],l.forEach(function(e){d=e.contain&&e.andContain?d.concat(e.contain).concat(e.andContain):e.contain&&d.concat(e.contain)}),d=[].concat(Array.from(new Set(d))),i.content=d.concat(o)):i.content=null,i.textRankWord=c?[c]:null,i.topic2Names=u||null,i)(h=i[f])&&(o=o.concat(h));return e.next=18,r({type:"save",payload:{highLightWords:i,highLightWordList:o,serviceCustomerType:s}});case 18:case"end":return e.stop()}},e)}),getHightLightTags:x().mark(function e(t,n){var a,r,i,o,s,c;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.payload,a=n.call,r=n.put,i=[],o=E.t.get(E.V.curProject).id,s=s.tagId)return e.next=8,a(I,{projectId:o,tagLists:[s]});e.next=11;break;case 8:s=e.sent,2e4===(s=s.data).code&&(c=s.result)&&(i=[].concat(Array.from(new Set(c))));case 11:return e.next=13,r({type:"save",payload:{hightLightTagsList:i}});case 13:case"end":return e.stop()}},e)}),clearData:x().mark(function e(t,n){var a,r,i;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.select,e.next=3,r(function(e){return e[k]});case 3:return i=e.sent,r=i.filterValue,i=i.allMessageCount,e.next=8,a({type:"save",payload:g()({},C,{filterValue:r,allMessageCount:i})});case 8:case"end":return e.stop()}},e)})}}},73098:(e,t,n)=>{"use strict";n.d(t,{Pk:()=>function(e){try{return n(19635)("./"+e+".png")}catch(e){return n(81146)}},Gt:()=>function(e){switch(e){case"COMMENT":return"电商评论";case"QUE_ANS":return"问答";case"BBS":return"论坛";case"SOCIAL":return"社交媒体";case"SELF":return"自媒体";case"NEWS":return"新闻媒体";case"COMPLAINT":return"投诉平台";case"QUESTIONAIRE":return"调查问卷";case"QUESTION":return"电商问答";case"SERVICE":return"客户会话";case"VIDEO":return"视频";default:return}},PM:()=>function(e){switch(e){case"COMMENT":return"MESSAGE_COMMENT";case"QUE_ANS":case"BBS":return"";case"SOCIAL":return"MESSAGE_SOCIAL";case"SELF":case"NEWS":case"COMPLAINT":return"";case"QUESTIONAIRE":return"MESSAGE_QUESTIONAIRE";case"QUESTION":case"VIDEO":return"";case"SERVICE":return"MESSAGE_SERVICE";default:return"MESSAGE_ALL"}}})},68096:(e,t,n)=>{"use strict";n.d(t,{O9:()=>s,FG:()=>a,WN:()=>r});var o=n(70715),s={normal:["#5B8FF9","#60DDA9","#F6BD15","#F08A8A","#78D3F8","#65789B","#F6903D","#028685","#7262FD","#9661BC"],emotion:["#15B374","#1574B3","#D96969"],aspect:["#15B374","#D96969"]},a=[{id:"n",text:"名词",color:"#729EF8",unSelected:!1},{id:"a",text:"形容词",color:"#F6903D",unSelected:!1},{id:"un",text:"其他",color:"#60DDA9",unSelected:!1}],r=function(e,r,t,i){var a,t={title:{text:"热词",top:16,left:24},tooltip:{padding:[16,12],backgroundColor:"#ffffff",borderColor:"#e5e5e5",borderWidth:"1",extraCssText:"border-radius: 2px;\n      box-shadow: 0px 9px 28px 8px rgba(0,0,0,0.05), 0px 6px 16px 0px rgba(0,0,0,0.08), 0px 3px 6px -4px rgba(0,0,0,0.12)",formatter:function(e){return"<span>"+e.marker+" "+e.name+'<span style="padding-left:46px">'+e.data.hotWordFix+"</span></span>"}},series:{name:"opinionWordCloud",type:"wordCloud",shape:"circle",width:"100%",height:"100%",sizeRange:[16,80],gridSize:10,rotationRange:[0,0],layoutAnimation:!1,data:e&&e.map(function(e,t){return{name:e.name,value:Math.sqrt(e.total),oriValue:e.total,pos:e.pos,hotWordFix:e.hotWordFix,index:t}}),textStyle:{emphasis:{color:"#D8D8D8"}}},graphic:[{type:"group",top:60,left:40,ignore:!r,children:r?(a=t,r.reduce(function(e,t,n){return[].concat(e,[{type:"circle",id:n,left:e[2*n-1]?e[2*n-1].left+14*e[2*n-1].style.text.length+12:0,shape:{cx:5,cy:4,r:5},style:{fill:""+(t.unSelected?"#e5e5e5":t.color)},onclick:function(){return a(t.id)}},{type:"text",left:e[2*n-1]?e[2*n-1].left+14*e[2*n-1].style.text.length+12+16:16,style:{text:t.text,font:"bolder 12px "+o.I8,fill:t.unSelected?"#e5e5e5":"#262626"},onclick:function(){return a(t.id)}}])},[])):[]}]};return t.series.textStyle.normal={color:function(t){if(r){var n=void 0;return r.forEach(function(e){e.id===t.data.pos&&(n=e.color)}),!i||i===t.name?n:"#D2D2D2"}var e=s.normal,a=e[t.dataIndex%e.length];return!i||i===t.name?a:"#D2D2D2"}},t}},21596:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,wordSelectOpts:()=>o});var t=n(67154),h=n.n(t),t=n(87757),y=n.n(t),g=n(35239),a=n(36144);function c(e){return a.h.post("/widget/data/find/EMOTION_COUNTER_BAR",h()({},e))}function m(e,t){return a.h.post(e,h()({},t))}function u(e){var t=e.id,e=e.projectId;return a.h.post("/opinion/task/update",{id:t,projectId:e})}function r(e){var t=e.reduce(function(e,t){return t?e+t.value:e},0);e.forEach(function(e){e&&(e.ratio=(e.value/t*100).toFixed(2)+"%")})}function x(e){var t=e,n=t.sort(function(e,t){return t.value-e.value});return t=60<=n.length?n.slice(0,60):(e=Math.ceil(n.length/30),[].concat(n,Array(30*e-t.length).fill(void 0))),r(t),t}var b=n(64396).Z.opinion.opinionChart,i=[{title:"粗",value:20,disabled:!1},{title:"中",value:40,disabled:!1},{title:"细",value:60,disabled:!1}],o=[{title:"词云",value:"0",icon:"icon-ciyunxuanze"},{title:"表格",value:"1",icon:"icon-biaoge"}];const s={namespace:b,state:{wordCloud:!0,queryTimeType:"",count:0,average:0,json_bar:"没有数据可用",json_word:[],clusterType:i[0].value,clusterTypeOptions:i,wordSelectOpts:o,opinion:g.t.get(g.V.curProject)&&g.t.get(g.V.curProject).submenu&&g.t.get(g.V.curProject).submenu.includes("OPINION"),currTaskId:"",otherTaskId:"",reloaded:!1,refreshing:!1,allData:{20:[],40:[],60:[]},type:1,opinionTaskValid:!0,invalidReason:0,hasRecord:!1,messageTotal:0,loading:!0,textRankWord:void 0,optionPage:1,baseType:void 0},effects:{getList:y().mark(function e(t,n){var a,r,i,o,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.next=3,o(function(e){return e[b]});case 3:return s=e.sent,i=s.queryParams,e.next=7,a(c,h()({},i));case 7:if(2e4===(o=e.sent).data.code)return s=o.data.result,i=s.total,o=s.avg,s=s.list,e.next=12,r({type:"save",payload:{json_bar:s,count:i,average:o}});e.next=12;break;case 12:case"end":return e.stop()}},e)}),getWordCloudList:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.put,c=n.select,e.next=4,c(function(e){return e[b]});case 4:if(c=e.sent,i=c.queryParams,p=c.clusterType,o=c.type,s=c.textRankWord,c=c.opinionTaskValid,i&&c)return l=4!==o?(u="/opinion/find/new/result",{projectId:i.projectId,dateFilter:i.dateFilter,headerFilterParamsNew:i.headerFilterParamsNew,messageCategory:"COMMENT",filterModel:h()({},i.filterModel,{clusterLevel:p,taskId:i.taskId||i.filterModel.taskId}),textRankWord:s}):(u="/widget/data/find/OPINION_WORD",h()({},i)),e.prev=12,e.next=15,a(m,u,l);e.next=35;break;case 15:if(2e4!==(p=e.sent).data.code){e.next=29;break}if(d=p.data.result||[],f=0<d.length&&d.reduce(function(e,t){return e+Number(t.value)},0),0<d.length)return d=x(d.map(function(e){return e.percent=(e.value/f*100).toFixed(2),e})),e.next=23,r({type:"save",payload:{json_word:d,loading:4===o,queryParams:l}});e.next=25;break;case 23:e.next=29;break;case 25:return e.next=27,r({type:"save",payload:{json_word:d}});case 27:return e.next=29,r({type:"save",payload:{loading:!s&&-1<i.status.indexOf("CALCULATING")}});case 29:e.next=35;break;case 31:return e.prev=31,e.t0=e.catch(12),e.next=35,r({type:"save",payload:{loading:4===o,queryParams:i}});case 35:case"end":return e.stop()}},e,null,[[12,31]])}),handleOpinion:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.payload,n.call,a=n.put,f=n.select,r=l.clusterLevel,i=l.data,o=l.taskId,e.next=5,f(function(e){return e[b]});case 5:if(m=e.sent,s=m.allData,c=m.currTaskId,u=m.otherTaskId,l=m.hasRecord,p=m.type,d=m.clusterTypeOptions,f=m.refreshing,h=m.messageTotal,m=m.reloaded,o!==c&&o!==u||l){e.next=33;break}if(0<r)return s[r]=x(i),!f||l||m||Object.keys(s).forEach(function(e,t){d[t].disabled=0===s[e].length}),e.next=21,a({type:"save",payload:{allData:JSON.parse(JSON.stringify(s)),clusterTypeOptions:JSON.parse(JSON.stringify(d))}});e.next=28;break;case 21:if(20===r)return v=x(i),e.next=25,a({type:"save",payload:{json_word:v,loading:!1}});e.next=25;break;case 25:60===r&&(v=decodeURIComponent(window.location.search).split("?"),v[0],v=v[1],v={taskId:o,uri:v,data:JSON.parse(JSON.stringify(s))},g.t.set(g.V.opinionDetail,v)),e.next=33;break;case 28:return e.next=30,a({type:"save",payload:{refreshing:!1,clusterTypeOptions:d.map(function(e){return e.disabled=!1,e})}});case 30:if(4!==p&&5e3<h)return e.next=33,a({type:"getWordCloudList"});e.next=33;break;case 33:case"end":return e.stop()}},e)}),reset:y().mark(function e(t,n){var a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.next=3,a({type:"save",payload:{reloaded:!1,loading:!0,allData:{20:[],40:[],60:[]},json_word:[]}});case 3:case"end":return e.stop()}},e)}),resetClusterOptions:y().mark(function e(t,n){var a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.next=3,a({type:"save",payload:{clusterTypeOptions:i}});case 3:case"end":return e.stop()}},e)}),taskUpdate:y().mark(function e(t,n){var a,r,i,o,s,c;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return h()({},e)[b]});case 4:return s=e.sent,o=s.projectId,s=a.id,e.next=9,r(u,{id:s,projectId:o});case 9:if(c=e.sent,2e4===(c=c.data).code)return e.next=14,i({type:"save",payload:{loading:!0}});e.next=15;break;case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return h()({},e,t)}}}},25822:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),i=n.n(t),t=n(50361),c=n.n(t),t=n(87757),h=n.n(t),m=n(68096),o=n(36144);function v(e){return o.h.post("/hotWords/find",i()({},e))}function s(e){var t=e.projectId,n=e.messageIds,a=e.taskId,r=e.typicalOpinion,e=e.clusterLevel;return o.h.post("/opinion/message/queryHighInfo/find",{projectId:t,messageIds:n,taskId:a,typicalOpinion:r,clusterLevel:e})}function u(e){var t=e.projectId,n=e.type,e=e.expandInfo;return o.h.post("/check/owner/list",{projectId:t,pageType:n,expandInfo:e})}var l=n(35239),t=n(64396),y=(n(81747),n(11724),t.Z.opinion.detail),p=(t.Z.IDBHeaderScreening.headerScreening,{relationData:new Map,deepCloneList:{}});const a={namespace:y,state:{wordCloud:!0,msgCount:0,topChartData:{chartData:[],sOption:{},wOption:{},wSection:{gOptions:void 0,_handleGraphicClick:void 0}},screeningMap:[],screeningValues:[],defaultValues:{clusterHotType:"0",clusterType:"0"},selectedWordName:void 0,typicalOpinion:void 0,optionPage:1},reducers:{save:function(e,t){t=t.payload;return i()({},e,t)}},effects:{fetchWordData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[y]});case 4:return p=e.sent,s=p.topChartData.wSection,c=p.selectedWordName,u=[],l=[],e.prev=9,e.next=12,r(v,a);case 12:p=e.sent,2e4===(p=p.data).code&&(d=0<p.result.length&&p.result.reduce(function(e,t){return e+Number(t.total)},0),u=0<p.result.length&&p.result.map(function(e){return e.hotWordFix=(e.total/d*100).toFixed(2),e}).sort(function(e,t){return t.hotWordFix-e.hotWordFix}),s.gOptions&&(f=s.gOptions.filter(function(e){return e.unSelected}).map(function(e){return e.id}))&&0<f.length&&(l=u.filter(function(e){return!f.includes(e.pos)}))),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"save",payload:{topChartData:{chartData:u,wOption:(0,m.WN)(0<l.length?l:u,s.gOptions,s._handleGraphicClick,c),wSection:s}}});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),fetchOpinionHighlightList:h().mark(function e(t,n){var a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.put,n.select,n.take,e.prev=2,e.next=5,a(s,i()({projectId:l.t.get(l.V.curProject).id},r));case 5:if(r=e.sent,r=r.data.result)return e.abrupt("return",r);e.next=9;break;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}},e,null,[[2,11]])}),fetchDefaultConfig:h().mark(function e(t,n){var a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=i.type,i=i.expandInfo,e.next=5,a(u,{projectId:l.t.get(l.V.curProject).id,type:r,expandInfo:i});case 5:return i=e.sent,i=i.data.result,e.abrupt("return",i);case 8:case"end":return e.stop()}},e)}),refilterList:h().mark(function e(t,n){var a,r,i,o,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,s=a.screeningValues,i=a.screeningMap,o=c()(s),p.deepCloneList.curScreeningMap=i.deepcopy(),(s=i.deepcopy()).forEach(function(n){var e=o.find(function(e){return e.id===n.id});e&&(e.values.forEach(function(t){n.data.some(function(e){return t.id===e.id&&(t.label=e.label,t.values=e.options.filter(function(e){return t.values.includes(e.id)}).map(function(e){return e.label}),!0)})}),e.values=e.values.filter(function(e){return 0<e.values.length}))}),setTimeout(function(){return p.deepCloneList.curScreeningMap=i.deepcopy()},0),console.timeEnd("filter"),e.next=11,r({type:"save",payload:{screeningList:s,screeningValues:o.reduce(function(e,t){return e.concat(t.values)},[])}});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e)})}}},2832:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var t=n(67154),a=n.n(t),t=n(87757),h=n.n(t),t=n(18446),f=n.n(t),r=n(36144);function s(e){e=e.brandId;return r.h.get("/opinion/topic/check?brandId="+e)}var m=n(64396),n=m.Z.opinion.opinionScreening,v=m.Z.IDBHeaderScreening.screening,y=m.Z.IDBHeaderScreening.savedScreening,g=m.Z.IDBHeaderScreening.timeScreening,i={showKind:null,showAdvanced:!(Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))}),content:[{}],advancedFilter:{},check:!0};const o={namespace:n,state:Object.assign(i,{}),effects:{init:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.payload,a=n.put,n.select,n.call,r=n.take,n.takeEvery,time("init-all"),i=l.screening,o=l.type,s=l.dateValue,c=l.contentValue,u=l.hasHour,l=l.filterId,e.next=6,a({type:m.Z.global+"/init"});case 6:return e.next=8,r(m.Z.global+"/init/@@end");case 8:if(c)return e.next=11,a({type:"save",payload:{content:c}});e.next=11;break;case 11:return d=i.value,p=i.noSavingFilterList,d=d||void 0,e.t0=Promise,e.next=16,a({type:y+"/init",payload:{type:o,filterId:l}});case 16:return e.t1=e.sent,e.next=19,a({type:v+"/fetchDefaultConfig",payload:{type:o,value:d,noSavingFilterList:p,expandInfo:{type:o}}});case 19:return e.t2=e.sent,e.next=22,a({type:g+"/init",payload:{type:o,params:s,hasHour:u}});case 22:return e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.abrupt("return",e.t0.all.call(e.t0,e.t4).then(function(e){timeE("init-all")}));case 25:case"end":return e.stop()}},e)}),clearAllValues:h().mark(function e(t,n){var a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.select,e.next=4,a({type:v+"/clearAllValues"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),savedFilterChange:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,n.take,e.next=4,i(function(e){return e[v]});case 4:return d=e.sent,o=d.oriDefaultConfig,s=d.defaultConfig,c=a.selFilterObj,u=a.selFilterSelected,e.next=10,r({type:"contentChange",payload:c&&c.id?u.content:[{}]});case 10:return l=c&&c.id&&u.fastFilterValues?Object.assign(JSON.parse(JSON.stringify(s)),{defaultChecked:[].concat(s.defaultChecked.filter(function(e){return e.id!==u.fastFilterValues.defaultChecksName[0]}),[u.fastFilterValues.defaultChecked[0]]),defaultChecks:[].concat(s.defaultChecks.filter(function(e){return e.id!==u.fastFilterValues.defaultChecksName[0]}),[u.fastFilterValues.defaultChecks[0]]),defaultChecksName:u.fastFilterValues.defaultChecksName}):o,e.next=13,r({type:v+"/save",payload:{defaultConfig:l}});case 13:return p=l.defaultChecked.find(function(e){return e.id===l.defaultChecksName[0]}),d=[],d=p?l.ownerChecked.filter(function(e){return!!e.values.some(function(e){return e.id===p.id})&&(e.values=e.values.filter(function(e){return e.id===p.id}),!0)}):[],e.next=18,r({type:v+"/updateScreeningValues",payload:c&&c.id?u.screeningValues:d});case 18:return e.abrupt("return",c);case 19:case"end":return e.stop()}},e)}),defaultValueChange:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[v]});case 4:if(l=e.sent,o=l.defaultConfig,s=l.screeningValues,c=l.curScreeningMap,u=a.value,l=a.from,void 0===u)return e.abrupt("return");e.next=11;break;case 11:return Object.keys(u).forEach(function(e){var n,t=s.deepcopy();o[e]=u[e],"defaultChecked"===e?(n=u.defaultChecked.find(function(e){return e.id===o.defaultChecksName[0]})||{},t.forEach(function(t){t.values.forEach(function(e){e.id===n.id&&(e.values=n.values,p=t.id,d=t.values)})}),o.ownerChecked=t):"defaultChecksName"===e&&c.forEach(function(e){e.data.some(function(e){return e.id===u.defaultChecksName[0]})&&(p=e.id,d=[{id:u.defaultChecksName[0],values:o.defaultChecked.find(function(e){return e.id===u.defaultChecksName[0]}).values}],o.ownerChecked=[{id:p,values:d}],f=o.ownerChecked)})}),e.next=14,r({type:v+"/save",payload:Object.assign({defaultConfig:JSON.parse(JSON.stringify(o))},f?{screeningValues:f}:{})});case 14:return e.next=16,r({type:v+"/screeningValuesChange",payload:{id:"model"===l?"":p,values:d}});case 16:return e.next=18,r({type:v+"/updateDefaultValue"});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}},e)}),freshFastFilter:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,c=n.select,e.next=4,c(function(e){return e[v]});case 4:return u=e.sent,r=u.screeningValues,i=u.defaultConfig,o=u.screeningList,s=JSON.parse(JSON.stringify(i)),c=r.map(function(e){return e.values}).flat(1),u=JSON.parse(JSON.stringify(s)),u=u.defaultChecks,l=s.defaultChecked.find(function(e){return e.id===s.defaultChecksName[0]}),p=l?u.find(function(e){return e.id===s.defaultChecksName[0]}).values:void 0,l&&c.some(function(e){return e.id===l.id})&&c.forEach(function(a){a.id===l.id&&(f()(l.values,a.values)||(l.values=a.values,d=s.defaultChecked.deepcopy()),a.values.some(function(e){return!p.map(function(e){return e.id}).includes(e)})&&a.values.filter(function(e){return!p.map(function(e){return e.id}).includes(e)}).forEach(function(t){var e=o.map(function(e){return e.data}).flat(1).find(function(e){return e.id===l.id}).options.find(function(e){return e.id===t}).label;if(p.length>=s.defaultNumberConfig)for(var n=p.length-1;0<n;n--)if(!a.values.includes(p[n].id)){p.splice(n,1);break}p.unshift({id:t,label:e})}))}),l&&d&&d.some(function(t){return t.id===s.defaultChecksName[0]&&(t.values=p.filter(function(e){return t.values.includes(e.id)}).map(function(e){return e.id}),!0)}),e.next=17,a({type:v+"/save",payload:{defaultConfig:Object.assign(i,{defaultChecked:d||i.defaultChecked,defaultChecks:u,ownerChecked:r}),oriDefaultConfig:Object.assign(i,{defaultChecked:d||i.defaultChecked,defaultChecks:u,ownerChecked:r})}});case 17:return e.next=19,a({type:v+"/updateDefaultValue"});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},e)}),fetchTopicCheck:h().mark(function e(t,n){var a,r,i,o;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.put,n.select,i=!0,e.prev=3,e.next=6,a(s,{brandId:o.brandId});case 6:o=e.sent,2e4===(o=o.data).code&&(i=o.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,r({type:"save",payload:{check:i}});case 16:return e.finish(13);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}},e,null,[[3,11,13,17]])})},reducers:{save:function(e,t){t=t.payload;return a()({},e,t)},clear:function(e){return Object.assign(i,{})},contentChange:function(e,t){t=t.payload;return a()({},e,{content:t})},changeShow:function(e,t){t=t.payload;return a()({},e,{showKind:void 0===t?null:t})},changeAdvancedShow:function(e,t){t=t.payload;return a()({},e,{showAdvanced:void 0===t?!e.showAdvanced:t})}}}},91797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),f=n.n(t),t=n(87757),h=n.n(t),o=n(36144);function m(e){var t=e.dateFilter,n=e.eventName,a=e.projectId,r=e.exportFields,i=e.filterModel,e=e.headerFilterParamsNew;return o.h.post("/opinion/index/opinion/find",{dateFilter:t,eventName:n,projectId:a,exportFields:r,filterModel:i,headerFilterParamsNew:e})}function d(e){var t=e.project,n=e.dateFilter,e=e.typicalOpinions;return o.h.post("/opinion/index/opinion/trend/find",{project:t,dateFilter:n,typicalOpinions:e})}var v=n(35239),u=n(40845),y=n(64396).Z.opinion.everyOpinion,a={dateFilter:void 0,eventName:[],projectId:void 0,exportFields:[],filterModel:{},headerFilterParamsNew:[],opinionData:[],pageType:"OPINION_INDEX"};const r={namespace:y,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchParams:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[y]});case 4:if(s=e.sent,o=s.filterModel,c=s.dateFilter,s=s.pageType,JSON.stringify(o)===JSON.stringify(a.filterModel)&&JSON.stringify(c)===JSON.stringify(a.dateFilter))return e.abrupt("return");e.next=10;break;case 10:return e.next=12,r(u.o,{projectId:a.projectId,key:s});case 12:return c=f()({},a),e.next=15,i({type:"opinionFind",payload:c});case 15:case"end":return e.stop()}},e)}),opinionFind:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return f()({},e)[y]});case 4:return p=e.sent,o=p.dateFilter,s=p.eventName,c=p.projectId,u=p.exportFields,l=p.filterModel,d=p.headerFilterParamsNew,p=null,e.prev=12,e.next=15,r(m,{dateFilter:a&&a.dateFilter||o,eventName:a&&a.eventName||s,projectId:a&&a.projectId||c,exportFields:a&&a.exportFields||u,filterModel:a&&a.filterModel||l,headerFilterParamsNew:a&&a.headerFilterParamsNew||d});case 15:if(d=e.sent,2e4===(d=d.data).code)return p=d.result,e.next=21,i({type:"save",payload:f()({},a,{opinionData:p})});e.next=21;break;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:return e.prev=25,e.next=28,i({type:"fetchTrendFind",payload:{opinionData:p}});case 28:return e.finish(25);case 29:case"end":return e.stop()}},e,null,[[12,23,25,29]])}),fetchTrendFind:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return f()({},e)[y]});case 4:return u=e.sent,o=u.projectId,s=u.opinionData,l=u.dateFilter,c=[],u=s.map(function(e){return e.id}),e.prev=10,l={project:o||v.t.get(v.V.curProject).id,typicalOpinions:u,dateFilter:l},e.next=14,i(d,l);case 14:l=e.sent,2e4===(p=l.data).code&&(c=(s||a.opinionData||[]).map(function(t){var e=p.result.filter(function(e){return e.opinion===t.id})[0];return f()({},t,{trend:e})})),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.prev=21,e.next=24,r({type:"save",payload:f()({},a,{opinionData:c})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[10,19,21,25]])})}}},88278:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),d=n.n(t),t=n(87757),f=n.n(t),r=n(36144);function h(e){var t=e.pageNumber,n=e.pageSize,a=e.projectId,e=e.name;return r.h.post("/opinion/list",{pageNumber:t,pageSize:n,projectId:a,name:e})}function s(e){var t=e.id,e=e.projectId;return r.h.post("/opinion/delete",{id:t,projectId:e})}function u(e){var t=e.id,n=e.projectId,e=e.newName;return r.h.post("/opinion/rename",{id:t,projectId:n,newName:e})}var m=n(35239),v=n(64396).Z.opinion.savaFilter,a={projectId:"",filterData:void 0,modalShow:!1,id:void 0,pageNumber:1,pageSize:10,name:void 0};const i={namespace:v,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return d()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{opinionList:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return d()({},e)[v]});case 4:return l=e.sent,o=l.projectId,s=l.pageNumber,c=l.pageSize,u=l.name,l=null,e.prev=10,e.next=13,r(h,{projectId:o||m.t.get(m.V.curProject).id,pageNumber:s,pageSize:c,name:a&&a.name||u});case 13:if(p=e.sent,2e4!==(p=p.data).code){e.next=26;break}if(p.result.list&&0!==p.result.list.length){e.next=25;break}if(1<s)return e.next=20,i({type:"opinionList",payload:{pageNumber:s-1}});e.next=22;break;case 20:e.next=23;break;case 22:l="empty";case 23:e.next=26;break;case 25:l=p.result;case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(10);case 30:return e.prev=30,e.next=33,i({type:"save",payload:d()({},a,{filterData:l})});case 33:return e.finish(30);case 34:case"end":return e.stop()}},e,null,[[10,28,30,34]])}),opinionDelete:f().mark(function e(t,n){var a,r,i,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return d()({},e)[v]});case 3:return o=e.sent,i=o.target.id,o=o.projectId,e.next=8,a(s,{id:i,projectId:o});case 8:if(o=e.sent,2e4===o.data.code)return e.next=13,r({type:"save",payload:{modalShow:!1}});e.next=15;break;case 13:return e.next=15,r({type:"opinionList"});case 15:case"end":return e.stop()}},e)}),opinionRename:f().mark(function e(t,n){var a,r,i,o,s,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return d()({},e)[v]});case 4:return s=e.sent,o=s.projectId,c=a.newName,s=a.id,e.next=9,r(u,{id:s,projectId:o,newName:c});case 9:if(c=e.sent,2e4===c.data.code)return e.next=14,i({type:"opinionList"});e.next=14;break;case 14:case"end":return e.stop()}},e)})}}},86878:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),d=n.n(t),t=n(87757),f=n.n(t),r=n(36144);function h(e){var t=e.pageNumber,n=e.pageSize,a=e.projectId,e=e.name;return r.h.post("/opinion/task/list",{pageNumber:t,pageSize:n,projectId:a,name:e})}function s(e){var t=e.id,e=e.projectId;return r.h.post("/opinion/task/delete",{id:t,projectId:e})}function c(e){var t=e.id,e=e.projectId;return r.h.post("/opinion/task/update",{id:t,projectId:e})}function u(e){var t=e.id,n=e.projectId,e=e.newName;return r.h.post("/opinion/task/rename",{id:t,projectId:n,newName:e})}var m=n(35239),v=n(64396).Z.opinion.savaResult,a={projectId:"",filterData:void 0,modalShow:!1,id:void 0,pageNumber:1,pageSize:10,name:void 0};const i={namespace:v,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return d()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{taskList:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return d()({},e)[v]});case 4:return u=e.sent,l=u.projectId,o=u.pageNumber,s=u.pageSize,c=u.name,u=l||a,l=null,e.prev=11,e.next=14,r(h,{projectId:u||m.t.get(m.V.curProject).id,pageNumber:o,pageSize:s,name:a&&a.name||c});case 14:if(p=e.sent,2e4!==(p=p.data).code){e.next=27;break}if(p.result.list&&0!==p.result.list.length){e.next=26;break}if(1<o)return e.next=21,i({type:"taskList",payload:{pageNumber:o-1}});e.next=23;break;case 21:e.next=24;break;case 23:l="empty";case 24:e.next=27;break;case 26:l=p.result;case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(11);case 31:return e.prev=31,e.next=34,i({type:"save",payload:d()({},a,{filterData:l})});case 34:return e.finish(31);case 35:case"end":return e.stop()}},e,null,[[11,29,31,35]])}),taskDelete:f().mark(function e(t,n){var a,r,i,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return d()({},e)[v]});case 3:return o=e.sent,i=o.target.id,o=o.projectId,e.next=8,a(s,{id:i,projectId:o});case 8:if(o=e.sent,2e4===o.data.code)return e.next=13,r({type:"save",payload:{modalShow:!1}});e.next=15;break;case 13:return e.next=15,r({type:"taskList"});case 15:case"end":return e.stop()}},e)}),taskUpdate:f().mark(function e(t,n){var a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return d()({},e)[v]});case 4:return o=e.sent,s=o.projectId,o=a.id,e.next=9,r(c,{id:o,projectId:s});case 9:if(s=e.sent,2e4===s.data.code)return e.next=14,i({type:"taskList"});e.next=14;break;case 14:case"end":return e.stop()}},e)}),taskRename:f().mark(function e(t,n){var a,r,i,o,s,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return d()({},e)[v]});case 4:return s=e.sent,o=s.projectId,c=a.value,s=a.id,e.next=9,r(u,{id:s,projectId:o,newName:c});case 9:if(c=e.sent,2e4===c.data.code)return e.next=14,i({type:"taskList"});e.next=14;break;case 14:case"end":return e.stop()}},e)})}}},59348:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var t=n(67154),v=n.n(t),t=n(87757),y=n.n(t),t=n(48926),a=n.n(t),i=n(36144);function g(e){return r.apply(this,arguments)}function r(){return(r=a()(y().mark(function e(t){var n,a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.key,e.abrupt("return",i.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(e){return o.apply(this,arguments)}function o(){return(o=a()(y().mark(function e(t){var n,a,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.key,e.abrupt("return",i.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var x=n(72156),t=n(30381),b=n.n(t),u=n(35239),T=n(64396).Z.opinion.timeScreening,s={type:"",dateFilter:void 0,projectId:void 0,selectedDateRange:[],selectedQuickTimeChoice:6,staredQuickTimeChoice:-1,quickTime:""};const l={namespace:T,state:Object.assign({},s),reducers:{save:function(e,t){t=t.payload;return v()({},e,t)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(s))}},effects:{init:y().mark(function e(t,n){var a,r,i,o,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,n.call,a=n.put,n.select,r=n.take,i=s.type,o=s.params,e.next=5,a({type:"save",payload:{type:i,projectId:u.t.get(u.V.curProject).id}});case 5:return s="default-time-"+i,e.next=8,a({type:"getDefaultValue",payload:{key:s,params:o,formatStr:"YYYY-MM-DD",defaultValue:u.t.getWidthProject(u.V.messageDateFilter)&&u.t.getWidthProject(u.V.messageDateFilter)[i]||void 0,projectId:u.t.get(u.V.curProject).id}});case 8:return e.next=10,r("getDefaultValue/@@end");case 10:return e.abrupt("return");case 11:case"end":return e.stop()}},e)}),getDefaultValue:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return v()({},e)[T]});case 4:return f=e.sent,d=f.projectId,s=a.params,c=a.formatStr,u=a.defaultValue,f=a.key,e.next=9,r(g,{projectId:a.projectId||d,key:f});case 9:if(d=e.sent,2e4!==(f=d.data).code){e.next=28;break}if(!(p=JSON.parse(f.result))||-1===p.staredQuickTimeChoice){e.next=23;break}if(d=p.currSelector,h=p.selectedQuickTimeChoice,m=p.staredQuickTimeChoice,f=s&&-1===s.quickChoice.indexOf("-")?x.A$.indexOf(s.quickChoice):-1<m?m:h,h=s?-1===s.quickChoice.indexOf("-")?(0,x.B9)(f,c):[s.from,s.to]:-1<m?(0,x.B9)(m,c):(0,x.B9)(h,c),0===d)return l={from:h[0],to:h[1],quickChoice:s&&-1<s.quickChoice.indexOf("-")?s.quickChoice:x.A$[f],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,x.vv)(h),currSelector:s&&x.Sz.test(s.from.trim())&&x.Sz.test(s.to.trim())?1:0},e.next=21,i({type:"save",payload:{selectedQuickTimeChoice:f,staredQuickTimeChoice:m,selectedDateRange:h,dateFilter:l,quickTime:s&&-1<s.quickChoice.indexOf("-")?"":x.A$[m]}});e.next=21;break;case 21:e.next=28;break;case 23:return h=s?-1===s.quickChoice.indexOf("-")?x.A$.indexOf(s.quickChoice):-1:u&&(-1===u.quickChoice.indexOf("-")?x.A$.indexOf(u.quickChoice):-1),m=s?0<h?(0,x.B9)(h,c):[s.from,s.to]:u?0<h?(0,x.B9)(h,c):[u.from,u.to]:[b()().subtract(29,"days").format(c),b()().format(c)],l={from:m[0],to:m[1],quickChoice:s?s.quickChoice:u?u.quickChoice:x.A$[8],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,x.vv)(m),currSelector:0<h||!h||s&&!x.Sz.test(s.from.trim())||s&&!x.Sz.test(s.to.trim())?0:1},e.next=28,i({type:"save",payload:{selectedQuickTimeChoice:h,staredQuickTimeChoice:-1,selectedDateRange:m,dateFilter:l,quickTime:""}});case 28:return e.abrupt("return",{dateFilter:l});case 29:case"end":return e.stop()}},e)}),setDefaultValue:y().mark(function e(t,n){var a,r,i,o,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.put,o=n.select,e.next=4,o(function(e){return v()({},e)[T]});case 4:return s=e.sent,i=s.projectId,e.prev=6,o=a.key,s=a.value,e.next=10,r(c,{projectId:a.projectId||i,key:o,value:s});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:case"end":return e.stop()}},e,null,[[6,12]])})}}},72156:(e,t,n)=>{"use strict";n.d(t,{Dl:()=>r,Sz:()=>o,vv:()=>s,ld:()=>c,A$:()=>u,B9:()=>l,p6:()=>p});var t=n(30381),a=n.n(t),r=function(e,t){t=i(e,t);return{from:t[0].format("YYYY/MM/DD"),to:t[1].format("YYYY/MM/DD")}},i=function(e,t){switch(e){case"今天":return[a()().add(t,"days"),a()().add(t,"days")];case"昨天":return[a()().add(t,"days").subtract(1,"days"),a()().add(t,"days").subtract(1,"days")];case"本周":return[a()().add(t,"days").startOf("week"),a()().add(t,"days")];case"上周":return[a()().add(t,"days").subtract(1,"weeks").startOf("week"),a()().add(t,"days").subtract(1,"weeks").endOf("week")];case"本月":return[a()().add(t,"days").startOf("month"),a()().add(t,"days")];case"上月":return[a()().add(t,"days").subtract(1,"months").startOf("month"),a()().add(t,"days").subtract(1,"months").endOf("month")];case"本季":return[a()().add(t,"days").startOf("quarter"),a()().add(t,"days")];case"上季":return[a()().add(t,"days").subtract(1,"quarters").startOf("quarter"),a()().add(t,"days").subtract(1,"quarters").endOf("quarter")];case"今年":return[a()().add(t,"days").startOf("year"),a()().add(t,"days")];case"去年":return[a()().add(t,"days").subtract(1,"years").startOf("year"),a()().add(t,"days").subtract(1,"years").endOf("year")];case"近3天":return[a()().add(t,"days").subtract(2,"days"),a()().add(t,"days")];case"近7天":return[a()().add(t,"days").subtract(6,"days"),a()().add(t,"days")];case"近30天":return[a()().add(t,"days").subtract(29,"days"),a()().add(t,"days")];case"近90天":return[a()().add(t,"days").subtract(89,"days"),a()().add(t,"days").startOf("day")];case"近180天":return[a()().add(t,"days").subtract(179,"days"),a()().add(t,"days")];case"近365天":return[a()().add(t,"days").subtract(364,"days"),a()().add(t,"days")]}},o=/([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,s=function(e,t){if(Array.isArray(e)){var n=e[0],e=e[1];return a()(e,t).diff(a()(n,t),"days")+1}return 0},c=["今天","昨天","本周","上周","本月","上月","本季","上季","今年","去年"],u=["今天","昨天","本周","上周","近3天","本月","近7天","上月","近30天","本季","近90天","上季","近180天","今年","近365天","去年"],l=function(e,t){var n=[];switch(e){case 0:n=[a()().startOf("day"),a()()];break;case 1:n=[a()().subtract(1,"days").startOf("day"),a()().subtract(1,"days").endOf("day")];break;case 2:n=[a()().startOf("week"),a()()];break;case 3:n=[a()().subtract(1,"weeks").startOf("week"),a()().subtract(1,"weeks").endOf("week")];break;case 5:n=[a()().startOf("month"),a()()];break;case 7:n=[a()().subtract(1,"months").startOf("month"),a()().subtract(1,"months").endOf("month")];break;case 9:n=[a()().startOf("quarter"),a()()];break;case 11:n=[a()().subtract(1,"quarters").startOf("quarter"),a()().subtract(1,"quarters").endOf("quarter")];break;case 13:n=[a()().startOf("year"),a()()];break;case 15:n=[a()().subtract(1,"years").startOf("year"),a()().subtract(1,"years").endOf("year")];break;case 4:n=[a()().subtract(2,"days"),a()()];break;case 6:n=[a()().subtract(6,"days"),a()()];break;case 8:n=[a()().subtract(29,"days"),a()()];break;case 10:n=[a()().subtract(89,"days"),a()().startOf("day")];break;case 12:n=[a()().subtract(179,"days"),a()()];break;case 14:n=[a()().subtract(364,"days"),a()()]}return n.map(function(e){return e.format(t)})},p=function(e,t,n){for(var a="",r=0;r<t.length;r++){var i,o=void 0,s=void 0;n?(o=(i=t[r].split(" "))[0],s=i[1]):o=t[r];for(var c=o.split("-"),u=0;u<c.length;u++)0===u&&(a+=c[u]+(1===e?"年":".")),1===u&&(a+=c[u]+(1===e?"月":".")),2===u&&(a+=c[u]+(1===e?"日":""));s&&(a+=1===e?s.split(":")[0]+"时"+s.split(":")[1]+"分":" "+s),0===r&&(a+=" - ")}return a}},48556:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),o=n.n(t),t=n(87757),c=n.n(t),p=n(36144);function i(e){e.projectId;return p.h.get("/opinion/findTouchSpot")}function s(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,r=e.name,i=e.queryType,o=e.calculationFrequency,s=e.calculationType,c=e.content,u=e.filterType,l=e.resultType,e=e.id;return p.h.post("/opinion/add/new",{projectId:t,dateFilter:n,headerFilterParamsNew:a,name:r,queryType:i,calculationFrequency:o,calculationType:s,content:c,filterType:u,resultType:l,id:e})}function u(e){e=e.id;return p.h.post("/opinion/find",{id:e})}function l(e){var t=e.key,e=e.projectId;return p.h.post("/default/value/find",{key:t,projectId:e})}function d(e){var t=e.key,n=e.projectId,e=e.value;return p.h.post("/default/value/update",{key:t,projectId:n,value:e})}var f=n(35239),t=n(64396),n=t.Z.opinion.opinionScreen,h=t.Z.message.screening,m=t.Z.opinion.timeScreening,a={showKind:null,showAdvanced:!(Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))}),content:[{}]};const r={namespace:n,state:Object.assign(a,{}),effects:{init:c().mark(function e(t,n){var a,r,i,o,s;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.select,n.call,i=n.take,a.screening,o=a.type,s=a.dateValue,a.contentValue,e.next=5,r({type:m+"/init",payload:{type:o,params:s}});case 5:return e.next=7,i(m+"/init/@@end");case 7:return e.abrupt("return");case 8:case"end":return e.stop()}},e)}),clearAllValues:c().mark(function e(t,n){var a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.select,e.next=4,a({type:h+"/clearAllValues"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),freshFastFilter:c().mark(function e(t,n){var a,r,i,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,i=n.select,e.next=4,i(function(e){return e[h]});case 4:return o=e.sent,r=o.screeningValues,i=o.defaultConfig,o.screeningList,o=JSON.parse(JSON.stringify(i)),r.map(function(e){return e.values}).flat(1),o=JSON.parse(JSON.stringify(o)),o=o.defaultChecks,e.next=13,a({type:h+"/save",payload:{defaultConfig:Object.assign(i,{defaultChecked:i.defaultChecked,defaultChecks:o,ownerChecked:r})}});case 13:return e.next=15,a({type:h+"/updateDefaultValue"});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e)}),fetchOpinionTouchSpot:c().mark(function e(t,n){var a,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=f.t.get(f.V.curProject).id,e.prev=2,e.next=5,a(i,{projectId:r});case 5:if(r=e.sent,2e4===(r=r.data).code)return e.abrupt("return",r.result);e.next=9;break;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}},e,null,[[2,11]])}),addOpinionTask:c().mark(function e(t,n){var a,r,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=i.projectId||f.t.get(f.V.curProject).id,e.prev=3,e.next=6,a(s,o()({projectId:r},i));case 6:if(i=e.sent,2e4===(i=i.data).code)return e.abrupt("return",i.result);e.next=10;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}},e,null,[[3,12]])}),findOpinionTask:c().mark(function e(t,n){var a,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,e.prev=2,e.next=5,a(u,o()({},r));case 5:if(r=e.sent,2e4===(r=r.data).code)return e.abrupt("return",r.result);e.next=9;break;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}},e,null,[[2,11]])}),setDefault:c().mark(function e(t,n){var a,r,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=i.projectId||f.t.get(f.V.curProject).id,e.prev=3,e.next=6,a(d,o()({projectId:r},i));case 6:if(i=e.sent,2e4===(i=i.data).code)return e.abrupt("return",i.result);e.next=10;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}},e,null,[[3,12]])}),getDefault:c().mark(function e(t,n){var a,r,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=i.projectId||f.t.get(f.V.curProject).id,e.prev=3,e.next=6,a(l,o()({projectId:r},i));case 6:if(i=e.sent,2e4===(i=i.data).code)return e.abrupt("return",i.result);e.next=10;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}},e,null,[[3,12]])})},reducers:{save:function(e,t){t=t.payload;return o()({},e,t)},clear:function(e){return Object.assign(a,{})},contentChange:function(e,t){t=t.payload;return o()({},e,{content:t})},changeShow:function(e,t){t=t.payload;return o()({},e,{showKind:void 0===t?null:t})},changeAdvancedShow:function(e,t){t=t.payload;return o()({},e,{showAdvanced:void 0===t?!e.showAdvanced:t})}}}},60597:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),a=n.n(t),n=n(64396).Z.opinionHome,r={};const i={namespace:n,state:Object.assign({},r),reducers:{save:function(e,t){t=t.payload;return a()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},r)}},effects:{}}},44334:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),c=n.n(t),t=n(87757),u=n.n(t),a=n(36144);function l(e){return a.h.post("/opinion/list",c()({},e))}function p(e){return a.h.post("/opinion/add",c()({},e))}var t=n(30381),d=n.n(t),f=n(5133),h="YYYY-MM-DD";const r={namespace:"opinion",state:{modalVisible:!1,step:1,analyseAspectShow:!1,filterModel:{filter:{},aspect:{aspect1:[],aspect2:[]}},dateRange:[d()().subtract(29,"days").format(h),d()().format(h)],pageIndex:1,pageSize:20,sortBy:"CREATED_AT",sortType:"DESC",list:[],total:0},effects:{createOpinionTask:u().mark(function e(t,n){var a,r,i,o,s;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.prev=1,e.next=4,i(function(e){return e.opinion});case 4:return s=e.sent,o=s.filterModel,i=o.filter,o=o.aspect,s=s.dateRange,e.next=11,a(p,{projectId:localStorage.getItem("cem-projectId"),filterType:"OPINION_TASK",filterModel:c()({},i,{aspect:c()({},o,{emotion:["positive","negative"]})}),dateFilter:{from:s[0]||"",to:s[1]||""}});case 11:if((s=e.sent).data&&2e4===s.data.code)return f.Z.success("操作成功"),e.next=16,r({type:"save",payload:{modalVisible:!1,step:1,filterModel:{filter:{},aspect:{aspect1:[],aspect2:[]}},dateRange:[d()().subtract(29,"days").format(h),d()().format(h)]}});e.next=18;break;case 16:return e.next=18,r({type:"fetchOpinionList"});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.error(e.t0);case 23:case"end":return e.stop()}},e,null,[[1,20]])}),fetchOpinionList:u().mark(function e(t,n){var a,r,i,o,s,c;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.prev=1,e.next=4,o(function(e){return e.opinion});case 4:return s=e.sent,i=s.pageIndex,o=s.pageSize,c=s.sortBy,s=s.sortType,e.next=11,a(l,{projectId:localStorage.getItem("cem-projectId"),pageNumber:i,pageSize:o,sortModel:{sortType:s,sortName:c}});case 11:if(s=e.sent,2e4===s.data.code)return c=s.data.result,s=c.result,c=c.count,e.next=17,r({type:"save",payload:{total:c,list:s}});e.next=17;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.error(e.t0);case 22:case"end":return e.stop()}},e,null,[[1,19]])}),saveState:u().mark(function e(t,n){var a,r;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"save",payload:a});case 4:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return c()({},e,t)}}}},39842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),d=n.n(t),t=n(87757),f=n.n(t),a=n(36144);function h(){return a.h.post("/message/rule/private/condition")}function m(e){var t=e.projectIdList,n=e.status,e=e.smartFolderIdList;return a.h.post("/message/rule/private/list",{projectIdList:void 0===t?[]:t,status:void 0===n?null:n,smartFolderIdList:void 0===e?[]:e})}function c(e){var t=e.projectId,n=e.filterModel,e=e.smartFolderIdList;return a.h.post("/message/rule/private/add",{projectId:t,filterModel:n,smartFolderIdList:void 0===e?[]:e})}function u(e){var t=e.id,n=e.filterModel,e=e.smartFolderIdList;return a.h.post("/message/rule/private/update",{id:t,filterModel:n,smartFolderIdList:e})}function o(e){var t=e.id,e=e.history;return a.h.post("/message/rule/history/update",{id:t,history:e})}function s(e){e=e.id;return a.h.post("/message/rule/delete",{id:e})}function l(e){var t=e.id,n=e.status,e=e.history;return a.h.post("/message/rule/status/update",{id:t,status:n,history:e})}var v=n(6233),p=n(5133),y=n(64396).Z.personalSet.messageRulePrivate;const r={namespace:y,state:{projectId:"",ruleList:[],conditionList:{projectList:[],userList:[],smartFolderList:[]},ruleDatas:[],folderOptions:[],projectOptions:[]},effects:{fetchCondition:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return d()({},e)[y]});case 4:return u=e.sent,p=u.projectId,s={projectList:[],userList:[],smartFolderList:[]},c=[],u=[],l=p,e.prev=7,e.next=10,r(h,a);case 10:if(p=e.sent,2e4===(p=p.data).code)return s=p.result,u=s.projectList.map(function(e){return{title:e.name,value:e.id}}),l=l||s.projectList[0].id,c=s.smartFolderList.filter(function(e){return e.value===l}).map(function(e){return{title:e.name,value:e.id}}),p=a&&a.folderData?a.folderData.reduce(function(e,t){var n=s.smartFolderList.find(function(e){return e.name===t});return n&&e.push(n.id),e},[]):[],a&&a.callback&&a.callback({projectIdList:[l],smartFolderIdList:p,status:null}),e.next=21,i({type:"fetchRuleList",payload:{projectIdList:[l],smartFolderIdList:p}});e.next=21;break;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(7);case 25:return e.prev=25,e.next=28,i({type:"save",payload:{projectId:l,conditionList:s,folderOptions:c,projectOptions:u}});case 28:return e.finish(25);case 29:case"end":return e.stop()}},e,null,[[7,23,25,29]])}),fetchRuleList:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return d()({},e)[y]});case 4:return l=e.sent,s=l.conditionList.smartFolderList,p=l.folderOptions,c=[],u=[],l=p,e.prev=8,e.next=11,r(m,a);case 11:p=e.sent,2e4===(p=p.data).code&&(c=p.result,u=(0,v.Ib)(c),l=s.filter(function(e){return e.value===a.projectIdList[0]}).map(function(e){return{title:e.name,value:e.id}})),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,i({type:"save",payload:{folderOptions:l,ruleList:c,ruleDatas:u}});case 21:return e.finish(18);case 22:case"end":return e.stop()}},e,null,[[8,16,18,22]])}),addRule:f().mark(function e(t,n){var a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,e.prev=2,e.next=5,i(function(e){return d()({},e)[y]});case 5:return s=e.sent,o=s.conditionList.smartFolderList,e.next=9,r(c,a);case 9:s=e.sent,2e4===(s=s.data).code&&a.onDialogOpen&&a.onDialogOpen({id:s.result,type:"created",history:!0,folderName:(0,v.R_)(a.smartFolderIdList,o)}),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(2);case 16:case"end":return e.stop()}},e,null,[[2,14]])}),updateRule:f().mark(function e(t,n){var a,r,i,o,s,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.prev=2,e.next=5,r(u,a);case 5:return c=e.sent,s=c.data,e.next=9,o(function(e){return d()({},e)[y]});case 9:if(c=e.sent,c=c.conditionList.smartFolderList,2e4===s.code)return a.onDialogOpen&&a.onDialogOpen({id:a.id,type:"edited",history:!0,folderName:(0,v.R_)(a.smartFolderIdList,c)}),e.next=15,i({type:"fetchRuleList",payload:a.filterObj});e.next=15;break;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(2);case 19:case"end":return e.stop()}},e,null,[[2,17]])}),updateHistoryRule:f().mark(function e(t,n){var a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,e.prev=2,e.next=5,i(o,a);case 5:return i=e.sent,2e4===i.data.code&&p.Z.success("消息规则设置成功"),e.next=10,r({type:"fetchRuleList",payload:a.filterObj});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}},e,null,[[2,12]])}),deleteRule:f().mark(function e(t,n){var a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,e.prev=2,e.next=5,i(s,a);case 5:return i=e.sent,2e4===i.data.code&&p.Z.success("消息规则删除成功"),e.next=10,r({type:"fetchRuleList",payload:a.filterObj});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}},e,null,[[2,12]])}),setRuleStatus:f().mark(function e(t,n){var a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,n.select,e.prev=2,e.next=5,i(l,a);case 5:if(i=e.sent,2e4===i.data.code)return p.Z.success("消息规则更新成功"),e.next=11,r({type:"fetchRuleList",payload:a.filterObj});e.next=11;break;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}},e,null,[[2,13]])})},reducers:{save:function(e,t){t=t.payload;return d()({},e,t)}}}},6233:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>function(e){return e.reduce(function(e,t){var n={id:t.id,projectId:t.projectId,projectName:t.projectName,status:t.status,history:t.history,rule:{},projects:[t.projectName],users:t.filter.fromUserList,folders:t.smartFolderList.map(function(e){return e.name}),ruleLine:1};return t.filter.fromUserList&&0<t.filter.fromUserList.length&&(n.rule["转发人"]=t.filter.fromUserList.map(function(e){return e.name}))&&(n.ruleLine+=1),t.filter.source&&0<t.filter.source.length&&(n.rule["数据来源"]=t.filter.source)&&(n.ruleLine+=1),t.filter.escore&&0<t.filter.escore.length&&(n.rule["情感"]=t.filter.escore)&&(n.ruleLine+=1),t.filter.star&&0<t.filter.star.length&&(n.rule["星级"]=t.filter.star)&&(n.ruleLine+=1),t.filter.connConfig&&0<t.filter.connConfig.length&&(n.rule=u()({},n.rule,t.filter.connConfig.reduce(function(e,t){return u()({},e,((e={})[t.name]=t.values,e))},{})))&&(n.ruleLine+=t.filter.connConfig.length),t.filter.content&&0<t.filter.content.length&&(n.rule["内容"]=t.filter.content.reduce(function(e,n,t){if(!(n.contain&&0!==n.contain.length||n.notContain&&0!==n.notContain.length))return e;var a=["contain","notContain"].reduce(function(e,t){return n[t]&&0<n[t].length?[].concat(e,[("contain"===t?"包含":"不包含")+n[t].map(function(e){return"“"+e+"”"}).join("，")]):e},[]),a=(n.sentence?"一句话中":"全文中")+"："+a.join("，且");return[].concat(e,[a])},[]))&&(n.ruleLine+=5<t.filter.content.length?5:t.filter.content.length),n.rule["内容"]&&0===n.rule["内容"].length&&(n.rule["内容"]=["无"]),[].concat(e,[n])},[])},Bd:()=>r,_l:()=>i,rV:()=>o,R_:()=>s});var t=n(67154),u=n.n(t),a=n(35239);var r=function(s){var c=JSON.parse(a.t.get(a.V.specifyFilterList)).list;return Object.keys(s).reduce(function(e,t){var n=s[t],a=Object.prototype.toString.call(n);if("[object Array]"===a){var r=n[0],r=Object.prototype.toString.call(r);if("[object String]"===r){var i=c.find(function(e){return e.special===t});return i?[].concat(e,[u()({},i,{values:n.map(function(t){var e=i.values.find(function(e){return e.name===t});return e?e.id:""})})]):e}if("[object Object]"===r)return[].concat(e,n.reduce(function(e,t){var n=c.find(function(e){return e.name===t.name});return n?[].concat(e,[u()({},n,{values:t.values.map(function(t){return n.values.find(function(e){return e.name===t}).id})})]):e},[]))}else if("[object Object]"===a){var o=c.find(function(e){return e.name===n.name});return o?[].concat(e,[u()({},o,{values:n.values.map(function(t){var e=o.values.find(function(e){return e.name===t});return e?e.id:""})})]):e}return e},[])},i=function(e){return e?e.reduce(function(e,t){var n;return"connConfig"===t.special||"tag"===t.special?(n={id:t.id,values:t.values},e[t.special]||(e[t.special]=[]),e[t.special].push(n)):"content"===t.special?e[t.special]=[{contain:t.values}]:e[t.special]=t.values,e},{}):{}},o=function(e){var t=document.createElement("canvas").getContext("2d");return t.font="14px PingFangSC-Regular",t.measureText(e).width},s=function(e,a){return e.reduce(function(e,t){var n=a.find(function(e){return e.id===t});return n&&e.push(n.name),e},[]).join("，")}},27338:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),l=n(39432),r=n(36144);function f(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,e=e.bdType;return r.h.post("/price-insight/chart/find/ANALYSIS_COUNT",{projectId:t,filterModel:a,dateFilter:n,groupType:e})}function o(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.groupType;return r.h.post("/price-insight/chart/find/ANALYSIS_COUNT",{projectId:t,filterModel:n,dateFilter:a,groupType:e})}function s(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,e=e.groupType;return r.h.post("/price-insight/chart/find/ANALYSIS_DATE_TREND",{projectId:t,filterModel:n,dateFilter:a,groupType:e})}var h=n(95298),m=n(64396).Z.price.priceBranding,v={bdData:void 0,bdType:"BRAND_MODEL",pieChartData:[],barChartData:[],isInitial:!0,dateFilter:{},filterModel:{},projectId:void 0};const a={namespace:m,state:p()({},Object.assign({},v)),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)}},effects:{fetchDatas:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return p()({},e)[m]});case 4:if(c=e.sent,o=c.filterModel,s=c.dateFilter,c=c.projectId,JSON.stringify(a.filterModel)!==JSON.stringify(o)||JSON.stringify(a.dateFilter)!==JSON.stringify(s)||c!==a.projectId)return u=p()({},Object.assign({},v),a),e.next=12,i({type:"save",payload:u});e.next=24;break;case 12:return e.next=14,r(l.gw,200);case 14:return e.next=16,i({type:"fetchPieChartData",payload:u});case 16:return e.next=18,r(l.gw,200);case 18:return e.next=20,i({type:"fetchBarChartData",payload:u});case 20:return e.next=22,r(l.gw,200);case 22:return e.next=24,i({type:"fetchBrandDistributionData",payload:u});case 24:case"end":return e.stop()}},e)}),fetchBrandDistributionData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return p()({},e)[m]});case 4:return c=e.sent,u=c.bdType,o=c.projectId,s=c.dateFilter,l=c.filterModel,c={bdType:a.bdType||u},u=null,e.prev=11,e.next=14,r(f,p()({projectId:o,dateFilter:s,filterModel:l},c));case 14:l=e.sent,2e4===(l=l.data).code&&(u=(0,h.f)(l.result)),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:p()({bdData:u},c)});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchPieChartData:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.prev=2,e.next=5,a(o,p()({},i,{groupType:"BRAND_MODEL"}));case 5:if(i=e.sent,2e4===(i=i.data).code)return e.next=10,r({type:"save",payload:{pieChartData:i.result}});e.next=10;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[2,12]])}),fetchBarChartData:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.prev=2,e.next=5,a(s,p()({},i,{groupType:"BRAND_MODEL"}));case 5:if(i=e.sent,2e4===(i=i.data).code)return e.next=10,r({type:"save",payload:{barChartData:i.result}});e.next=10;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:return e.prev=15,e.next=18,r({type:"save",payload:{isInitial:!1}});case 18:return e.finish(15);case 19:case"end":return e.stop()}},e,null,[[2,12,15,19]])})}}},41195:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),c=n.n(t),t=n(87757),l=n.n(t),t=n(64396),u=n(36144);function s(e){e=e.id;return u.h.post("/break_back_filter/find",{id:e})}function p(e){var t=e.filterDetail,n=e.pageIndex,a=e.pageSize,e=e.projectId;return u.h.post("/break_back_filter/list/uc",{filterDetail:t,pageIndex:n,pageSize:a,projectId:e})}function i(){return u.h.get("/team/list")}function d(e){var t=e.id,n=e.compareLine,a=e.compareType,r=e.filterDetail,i=e.name,o=e.projectId,s=e.remindType,e=e.teams;return u.h.post("/break_back_filter/save",{id:t,compareLine:n,compareType:a,filterDetail:r,name:i,projectId:o,remindType:s,teams:e})}var f=n(64814),h=t.Z.price.editRule,o=t.Z.screening;const a={namespace:h,state:Object.assign({},{step:1,id:void 0,value:{filterValue:void 0,money:"",userList:[],warningName:""},tableList:[],tableListTotal:0,pageSize:10,teamList:[],hasChange:!1}),reducers:{save:function(e,t){t=t.payload;return c()({},e,t)},changeStep:function(e,t){t=t.payload;return c()({},e,{step:t.step})},changePageSize:function(e,t){t=t.payload;return c()({},e,{pageSize:t.pageSize})}},effects:{fetchDefaultValue:l().mark(function e(t,n){var a,r,i,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return e[h]});case 3:return o=e.sent,o=o.id,e.next=7,a(s,{id:o});case 7:return o=e.sent,o=o.data.result,e.next=11,r({type:"save",payload:{value:(0,f.j)(o)}});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e)}),fetchTable:l().mark(function e(t,n){var a,r,i,o,s,c,u;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[h]});case 4:return c=e.sent,o=c.projectId,s=c.value,u=c.pageSize,c=(a||{}).currentPage,c=void 0===c?1:c,e.next=11,r(p,{projectId:o,filterDetail:s.filterValue,pageSize:u,pageIndex:c});case 11:return u=e.sent,c=u.data.result,(u=c.result||[]).forEach(function(t){t.configDetails&&t.configDetails.forEach(function(e){return t[e.topicTypeId]=e.topicValue})}),e.next=17,i({type:"save",payload:{tableList:u,tableListTotal:c.count||0}});case 17:case"end":return e.stop()}},e)}),fetchTeam:l().mark(function e(t,n){var a,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,n.select,e.next=3,r(i);case 3:return r=e.sent,r=r.data.result,e.next=7,a({type:"save",payload:{teamList:r.list}});case 7:case"end":return e.stop()}},e)}),changeValue:l().mark(function e(t,n){var a,r,i,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,n.call,a=n.put,o=n.select,r=i.id,i=i.value,e.next=5,o(function(e){return e[h]});case 5:return o=e.sent,(o=o.value)[r]=i,e.next=10,a({type:"save",payload:{value:JSON.parse(JSON.stringify(o)),hasChange:!0}});case 10:if("filterValue"===r)return e.next=13,a({type:"fetchTable"});e.next=13;break;case 13:return e.abrupt("return");case 14:case"end":return e.stop()}},e)}),submit:l().mark(function e(t,n){var a,r,i,o,s;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.next=3,o(function(e){return e[h]});case 3:return s=e.sent,i=s.value,o=s.id,s=s.projectId,e.next=9,a(d,c()({id:o,projectId:s},(0,f.y8)(i)));case 9:return e.next=11,r({type:"save",payload:{hasChange:!1}});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e)}),clearScreening:l().mark(function e(t,n){var a,r,i;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.select,e.next=3,r(function(e){return e[h]});case 3:return i=e.sent,i=i.value,e.next=7,a({type:o+"/clearAllValues"});case 7:return e.next=9,a({type:"save",payload:{value:c()({},i,{filterValue:[]})}});case 9:return e.next=11,a({type:"fetchTable"});case 11:return e.abrupt("return");case 12:case"end":return e.stop()}},e)})}}},64814:(e,t,n)=>{"use strict";n.d(t,{y8:()=>a,j:()=>r,X0:()=>i,BS:()=>o,kt:()=>s,uT:()=>c});var a=function(e){return{compareLine:e.money,compareType:"LT",filterDetail:e.filterValue,name:e.warningName,remindType:"WEIXIN",teams:e.userList}},r=function(e){return{filterValue:JSON.parse(e.filterDetail||"[]"),money:String(e.compareLine),userList:e.teams||[],warningName:String(e.name)}},i=function(e){return!e.trim()||0<Number(e)&&Number(e)<1e5&&/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/.test(e)},o=50,s=function(e){return e.length<o},c=function(e){var t=e.title;e.url;return[{title:"渠道乱价",url:"/priceChaos"},{title:t}]}},81538:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),l=n.n(t),t=n(87757),p=n.n(t),r=n(36144);function d(e){var t=e.pageIndex,n=e.pageSize,a=e.keyword,e=e.breakBackFilterId;return r.h.post("/break_price/log/list",{pageIndex:t,pageSize:n,keyword:a,breakBackFilterId:e})}var f=n(64396).Z.price.pushLog,a={breakBackFilterId:"",keyword:"",pageIndex:1,pageSize:10,count:0,pushList:void 0};const i={namespace:f,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return l()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchLogList:p().mark(function e(t,n){var a,r,i,o,s,c,u;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[f]});case 4:return c=e.sent,o=c.breakBackFilterId,u=c.keyword,s=c.pageIndex,c=c.pageSize,u={breakBackFilterId:a.breakBackFilterId||o,keyword:a.keyword||u,pageIndex:a.pageIndex||s,pageSize:a.pageSize||c},s="error",c=0,e.prev=11,e.next=14,r(d,u);case 14:u=e.sent,2e4===(u=u.data).code&&0<u.result.count?(s=u.result.result,c=u.result.count):s="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:l()({},a,{pushList:s,count:c})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])})}}},66697:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),l=n.n(t),t=n(87757),p=n.n(t),i=n(36144);function d(e){var t=e.projectId,n=e.pageIndex,a=e.pageSize,r=e.keyword,e=e.filterModel;return i.h.post("/break_back_filter/list",{projectId:t,pageIndex:n,pageSize:a,keyword:r,filterModel:e})}function f(e){e=e.id;return i.h.post("/break_back_filter/delete",{id:e})}var n=n(64396).Z.price.ruleList,a={projectId:void 0,id:"",keyword:"",pageIndex:1,pageSize:10,total:0,ruleList:void 0,dateFilter:{}};const r={namespace:n,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return l()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchRuleList:p().mark(function e(t,n){var a,r,i,o,s,c,u;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e.priceRuleList});case 4:return c=e.sent,u=c.projectId,c.keyword,s=c.pageIndex,c=c.pageSize,u={projectId:a.projectId||u,keyword:a.keyword,pageIndex:a.pageIndex||s,pageSize:a.pageSize||c},s="error",c=0,e.prev=11,e.next=14,r(d,u);case 14:u=e.sent,2e4===(u=u.data).code&&0<u.result.total?(s=u.result.list,c=u.result.total):s="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:l()({},a,{ruleList:s,total:c})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchDeleteRule:p().mark(function e(t,n){var a,r,i,o,s,c,u,l;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e.priceRuleList});case 4:return l=e.sent,s=l.projectId,c=l.keyword,u=l.pageIndex,l=l.pageSize,e.prev=9,e.next=12,r(f,{id:a.id});case 12:return e.next=14,i({type:"fetchRuleList",payload:{projectId:s,keyword:c,pageIndex:u,pageSize:l}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(9);case 18:case"end":return e.stop()}},e,null,[[9,16]])})}}},93890:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var t=n(67154),a=n.n(t),t=n(87757),o=n.n(t),r=n(36144);function i(e){e=e.id;return r.h.post("/break_back_filter/log/handle",{id:e})}function s(e){e=e.id;return r.h.post("/break_back_filter/log/find",{id:e})}var n=n(64396).Z.price.screenshot,c={logData:void 0};const u={namespace:n,state:Object.assign({},c),reducers:{save:function(e,t){t=t.payload;return a()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},c)}},effects:{fetchDeal:o().mark(function e(t,n){var a,r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,e.prev=2,e.next=5,a(i,{id:r.id});case 5:r=e.sent,r.data.result,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,null,[[2,10]])}),fetchGetData:o().mark(function e(t,n){var a,r,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.prev=2,e.next=5,a(s,{id:i.id});case 5:if(i=e.sent,2e4===(i=i.data).code&&i.result)return e.next=10,r({type:"save",payload:{logData:i.result}});e.next=10;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}},e,null,[[2,12]])})}}},85876:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),u=n(36144);function v(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return u.h.post("/break-price-chart/count",{projectId:t,filterModel:n,dateFilter:e})}function y(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return u.h.post("/break-price-chart/rate",{projectId:t,filterModel:n,dateFilter:e})}function l(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return u.h.post("/break-price-chart/break-rate",{projectId:t,filterModel:n,dateFilter:e})}function p(e){var t=e.projectId,n=e.filterModel,e=e.dateFilter;return u.h.post("/break-price-chart/trend",{projectId:t,filterModel:n,dateFilter:e})}function c(e){var t=e.projectId,n=e.detailTitle,a=e.remindRepetition,r=e.tableTitle,i=e.unify,o=e.warningInterval,s=e.workType,c=e.id,e=e.module;return u.h.post("/price/warning/setting",{projectId:t,detailTitle:n,remindRepetition:a,tableTitle:r,unify:i,warningInterval:o,workType:s,id:c,module:e})}function d(e){e=e.projectId;return u.h.post("/price/warning/setting/check",{projectId:e})}function f(e){var t=e.projectId,e=e.module;return u.h.post("/price/warning/setting/find",{projectId:t,module:e})}function g(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.pageIndex,i=e.pageSize,o=e.keyword,e=e.breakBackType;return u.h.post("/break_back_filter/log/list",{projectId:t,filterModel:n,dateFilter:a,pageIndex:r,pageSize:i,keyword:o,breakBackType:e})}var x=n(64396).Z.price.chaos;const a={namespace:x,state:Object.assign({},{breakPriceData:void 0,replacePriceData:void 0,unReplacePriceData:void 0,breakPriceRatedData:void 0,breakPriceTrendData:void 0,priceChaosLogData:void 0,priceType:"ALL",keyword:"",pageIndex:1,pageSize:10,projectId:void 0,filterModel:void 0,dateFilter:void 0,preferList:[],preferValue:{},module:"BREAK_BACK_PRICE"}),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)}},effects:{fetchDatas:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,e.next=4,r({type:"fetchPriceChaos",payload:a});case 4:return e.next=6,r({type:"fetchPriceChaosRate",payload:a});case 6:return e.next=8,r({type:"fetchChaosTrend",payload:a});case 8:return e.next=10,r({type:"fetchChaosLogList",payload:a});case 10:return e.next=12,r({type:"fetchSettingList",payload:a});case 12:return e.next=14,r({type:"fetchPreferValue",payload:a});case 14:case"end":return e.stop()}},e)}),fetchPriceChaos:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return h()({},e)[x]});case 4:return p=e.sent,o=p.projectId,s=p.filterModel,p=p.dateFilter,e.prev=8,p={projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||p},e.next=12,r(v,p);case 12:if(f=e.sent,2e4!==(d=f.data).code){e.next=29;break}if("{}"!==JSON.stringify(d.result)){e.next=21;break}l=u=c="empty",e.next=29;break;case 21:return c={total:d.result.breakCount,values:d.result.breakData},u={total:d.result.restoreCount,values:d.result.restoreData},l={total:d.result.unRecoveryCount,values:d.result.unRecoveryData},e.next=26,r(y,p);case 26:f=e.sent,2e4===(f=f.data).code&&f.result?(c.dayCompare=f.result.breakDaySameRate,c.weekCompare=f.result.breakWeekSameRate,u.dayCompare=f.result.restoreDaySameRate,u.weekCompare=f.result.restoreWeekSameRate,l.dayCompare=f.result.unRecoveryDaySameRate,l.weekCompare=f.result.unRecoveryWeekSameRate):(c.dayCompare=0,c.weekCompare=0,u.dayCompare=0,u.weekCompare=0,l.dayCompare=0,l.weekCompare=0);case 29:e.next=36;break;case 31:e.prev=31,e.t0=e.catch(8),l=u=c="error";case 36:return e.prev=36,e.next=39,i({type:"save",payload:h()({},a,{breakPriceData:c,replacePriceData:u,unReplacePriceData:l})});case 39:return e.finish(36);case 40:case"end":return e.stop()}},e,null,[[8,31,36,40]])}),fetchPriceChaosRate:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return h()({},e)[x]});case 4:return c=e.sent,o=c.projectId,u=c.filterModel,s=c.dateFilter,c="error",e.prev=9,e.next=12,r(l,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||u});case 12:u=e.sent,2e4===(u=u.data).code&&(c="{}"===JSON.stringify(u.result)?"empty":u.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"save",payload:h()({},a,{breakPriceRatedData:c})});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),fetchChaosTrend:m().mark(function e(t,n){var a,r,i,o,s,c,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return h()({},e)[x]});case 4:return c=e.sent,o=c.projectId,u=c.filterModel,s=c.dateFilter,c="error",e.prev=9,e.next=12,r(p,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||u});case 12:u=e.sent,2e4===(l=u.data).code&&(c="{}"===JSON.stringify(l.result)?"empty":["unRecoveryData","breakRateData"].reduce(function(e,n){return e.forEach(function(t){var e=l.result[n].find(function(e){return e.date===t.date});t["unRecoveryData"===n?"unReplaceCount":"breakRate"]=e?e.count:0}),e},l.result.breakData.map(function(e){return{date:e.date,breakCount:e.count}}))),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"save",payload:h()({},a,{breakPriceTrendData:c})});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),fetchChaosLogList:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,d=n.select,e.next=4,d(function(e){return h()({},e)[x]});case 4:return p=e.sent,o=p.projectId,s=p.filterModel,c=p.dateFilter,f=p.pageIndex,u=p.pageSize,l=p.keyword,d=p.priceType,p="error",e.prev=13,d=a.priceType||d,f={projectId:a.projectId||o,dateFilter:a.dateFilter||c,filterModel:a.filterModel||s,pageSize:a.pageSize||u,keyword:a.hasOwnProperty("keyword")?a.keyword:l,pageIndex:a.pageIndex||f},"ALL"!==d&&(f.breakBackType=d),e.next=19,r(g,f);case 19:f=e.sent,f=f.data,p=2e4===f.code&&f.result?f.result:"empty",e.next=26;break;case 24:e.prev=24,e.t0=e.catch(13);case 26:return e.prev=26,e.next=29,i({type:"save",payload:h()({},a,{priceChaosLogData:p})});case 29:return e.finish(26);case 30:case"end":return e.stop()}},e,null,[[13,24,26,30]])}),fetchSettingList:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[x]});case 4:return s=e.sent,s=s.projectId,e.next=8,r(d,{projectId:a.projectId||s});case 8:return s=e.sent,s=s.data.result,e.next=12,i({type:"save",payload:h()({},a,{preferList:s})});case 12:case"end":return e.stop()}},e)}),fetchPreferValue:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[x]});case 4:return s=e.sent,o=s.projectId,s=s.module,e.next=9,r(f,{projectId:a.projectId||o,module:s});case 9:return s=e.sent,s=s.data.result,e.next=13,i({type:"save",payload:h()({},a,{preferValue:{detailTitle:(JSON.parse(s.detailTitle)||[]).map(function(e){return e.id}),remindRepetition:s.remindRepetition,tableTitle:(JSON.parse(s.tableTitle)||[]).map(function(e){return e.id}),unify:s.unify,warningInterval:s.warningInterval,workType:s.workType,id:s.id}})});case 13:case"end":return e.stop()}},e)}),submitPreferValue:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,n.put,o=n.select,e.next=4,o(function(e){return e[x]});case 4:return s=e.sent,r=s.projectId,i=s.preferValue,o=s.preferList,s=s.module,e.next=11,a(c,h()({projectId:r},i,{detailTitle:JSON.stringify(o.find(function(e){return"detailTitle"===e.id}).config.filter(function(e){return i.detailTitle.includes(e.id)})),tableTitle:JSON.stringify(o.find(function(e){return"tableTitle"===e.id}).config.filter(function(e){return i.tableTitle.includes(e.id)})),module:s}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e)})}}},74681:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),i=n(36144);function l(e){var t=e.filterModel,n=e.dateFilter,e=e.projectId;return i.h.post("/price-insight/comment/find",{projectId:e,filterModel:t,dateFilter:n})}function o(e){var t=e.filterModel,n=e.dateFilter,e=e.projectId;return i.h.post("/price-insight/data/source/find",{filterModel:t,dateFilter:n,projectId:e})}function p(e){var t=e.filterModel,n=e.dateFilter,e=e.projectId;return i.h.post("/price-insight/sku/find",{projectId:e,filterModel:t,dateFilter:n})}function v(e){var t=e.filterModel,n=e.dateFilter,a=e.projectId,e=e.queryType;return i.h.post("/price-insight/price/range/find",{projectId:a,filterModel:t,dateFilter:n,queryType:e})}function f(e){var t=e.filterModel,n=e.dateFilter,a=e.projectId,r=e.sortModel,e=e.pdDataType;return i.h.post("/price-insight/chart/find/PRICE_DISTRIBUTION_CHART",{filterModel:t,dateFilter:n,projectId:a,sortModel:r,showType:e})}var d=n(39432),y=n(95298),g=n(64396).Z.price.priceOverview,x={isInitial:!0,msgData:{total:0,today:0,list:[]},skuData:{total:0,today:0,list:[]},priceData:{maxPrice:0,minPrice:0,middlePrice:0,queryType:{id:"LISTPRICE",name:"挂牌价"}},pdData:void 0,pdStatisticType:"TAKE_PRICE-ASC",pdDataType:"SKU",filterModel:void 0,dateFilter:void 0,projectId:void 0,headerFilter:{},dataDistribution:void 0};const a={namespace:g,state:h()({},Object.assign({},x)),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)}},effects:{fetchDatas:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return h()({},e)[g]});case 4:if(c=e.sent,o=c.filterModel,s=c.dateFilter,c=c.projectId,JSON.stringify(a.filterModel)!==JSON.stringify(o)||JSON.stringify(a.dateFilter)!==JSON.stringify(s)||c!==a.projectId)return u=h()({},Object.assign({},x),a),e.next=12,i({type:"save",payload:u});e.next=30;break;case 12:return e.next=14,i({type:"fetchDataDistribution",payload:u});case 14:return e.next=16,r(d.gw,200);case 16:return e.next=18,i({type:"fetchMsgData",payload:u});case 18:return e.next=20,r(d.gw,200);case 20:return e.next=22,i({type:"fetchSkuData",payload:u});case 22:return e.next=24,r(d.gw,200);case 24:return e.next=26,i({type:"fetchPriceData",payload:u});case 26:return e.next=28,r(d.gw,200);case 28:return e.next=30,i({type:"fetchPriceDistributionData",payload:u});case 30:case"end":return e.stop()}},e)}),fetchDataDistribution:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.put,n.select,r=n.call,e.prev=2,e.next=5,r(o,i);case 5:return i=e.sent,i=i.data.result,e.next=9,a({type:"save",payload:{dataDistribution:i}});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}},e,null,[[2,11]])}),fetchMsgData:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.prev=1,e.next=4,i(function(e){return h()({},e)[g]});case 4:return o=e.sent,i=o.projectId,u=o.filterModel,c=o.dateFilter,o=o.msgData,e.next=11,a(l,{projectId:i,filterModel:u,dateFilter:c});case 11:if(u=e.sent,2e4!==(c=u.data).code){e.next=23;break}if(u=c.result,s=u.todayCount,(c=u.countList)&&0<c.length)return u=c.reduce(function(e,t){return e+t.count},0),e.next=19,r({type:"save",payload:{msgData:{total:u,today:s,list:c}}});e.next=21;break;case 19:e.next=23;break;case 21:return e.next=23,r({type:"save",payload:h()({},o,{today:s})});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.error(e.t0);case 28:return e.prev=28,e.next=31,r({type:"save",payload:{isInitial:!1}});case 31:return e.finish(28);case 32:case"end":return e.stop()}},e,null,[[1,25,28,32]])}),fetchSkuData:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.prev=1,e.next=4,o(function(e){return h()({},e)[g]});case 4:return s=e.sent,i=s.projectId,o=s.filterModel,u=s.dateFilter,s=s.skuData,e.next=11,a(p,{projectId:i,filterModel:o,dateFilter:u});case 11:if(u=e.sent,2e4!==(u=u.data).code){e.next=22;break}if(u=u.result,c=u.todayGrowthCount,(u=u.countList)&&0<u.length)return e.next=18,r({type:"save",payload:{skuData:{total:0<u.length?u[u.length-1].count:0,today:c||0,list:u}}});e.next=20;break;case 18:e.next=22;break;case 20:return e.next=22,r({type:"save",payload:{skuData:h()({},s,{today:c||0})}});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.error(e.t0);case 27:case"end":return e.stop()}},e,null,[[1,24]])}),fetchPriceData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.prev=2,e.next=5,o(function(e){return h()({},e)[g]});case 5:return p=e.sent,s=p.projectId,c=p.filterModel,u=p.dateFilter,l=p.priceData,p=p.priceData.queryType,e.next=13,r(v,{projectId:s,filterModel:c,dateFilter:u,queryType:a.queryType&&a.queryType.id||p.id});case 13:if(p=e.sent,2e4===(p=p.data).code)return d=p.result,p=d.minPrice,f=d.maxPrice,d=d.middlePrice,e.next=19,i({type:"save",payload:{priceData:h()({},l,{minPrice:Number.isInteger(p)?p:p.toFixed(2),maxPrice:Number.isInteger(f)?f:f.toFixed(2),middlePrice:Number.isInteger(d)?d:d.toFixed(2)})}});e.next=19;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(2);case 23:return e.prev=23,e.next=26,o(function(e){return h()({},e)[g]});case 26:return f=e.sent,d=f.priceData,f=f.priceData.queryType,e.next=31,i({type:"save",payload:{priceData:h()({},d,{queryType:a.queryType||f})}});case 31:return e.finish(23);case 32:case"end":return e.stop()}},e,null,[[2,21,23,32]])}),fetchPriceDistributionData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,p=n.select,e.next=4,p(function(e){return h()({},e)[g]});case 4:return u=e.sent,o=u.filterModel,s=u.dateFilter,c=u.projectId,l=u.pdStatisticType,d=u.pdPriceType,p=u.pdDataType,u={pdStatisticType:a.pdStatisticType||l,pdPriceType:a.pdPriceType||d,pdDataType:a.pdDataType||p},l=null,e.prev=13,d=u.pdStatisticType.split("-"),p=d[0],d=d[1],e.next=17,r(f,{filterModel:o,dateFilter:s,projectId:c,sortModel:{sortName:p,sortType:d},showType:u.pdPriceType,pdDataType:u.pdDataType});case 17:d=e.sent,2e4===(d=d.data).code&&0<d.result.length&&(l=(0,y.i)(d.result,u.pdDataType)),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(13);case 24:return e.prev=24,e.next=27,i({type:"save",payload:h()({pdData:l},u)});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[13,22,24,28]])})}}},26365:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var t=n(67154),a=n.n(t),t=n(87757),l=n.n(t),r=n(35239),i=n(36144);function p(e){var t=r.t.get(r.V.curProject);if(t)return i.h.post("/price/history/list",a()({id:t.id},e))}n(97189),n(67294);var n=n(64396).Z.price.historyPrice,o={columns:[],data:[],total:0};const s={namespace:n,state:Object.assign({},o),effects:{getHistoryList:l().mark(function e(n,a){var r,i,o,s,c,u;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.payload,r=a.call,i=a.put,o=[],s=[],c=0,e.prev=3,e.next=6,r(p,u);case 6:u=e.sent,2e4===(u=u.data).code&&(u=u.result,c=u.count,t=u.result,s=(t&&t.length?(t.forEach(function(t){t.connectionConfig&&Object.keys(t.connectionConfig).forEach(function(e){return t[e]=t.connectionConfig[e]})}),t):(console.error("data无数据"),null))||[],o=u.result[0]?u.result[0].configDetailVoList:[]),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,i({type:"save",payload:{data:s,columns:o,total:c}});case 16:return e.finish(13);case 17:case"end":return e.stop()}var t},e,null,[[3,11,13,17]])}),saveState:l().mark(function e(t,n){var a,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"save",payload:a});case 4:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return a()({},e,t)},clearState:function(e,t){t.payload;return a()({},e,Object.assign({},o))}}}},12455:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),t=n(48926),a=n.n(t),u=n(36144),r=(Array.from({length:4}).map((e,t)=>({id:t+1,name:`测试${t}`,lastRemindTime:"2020-10-18 12:00:00",createdAt:"2020-10-18 8:00:00",status:"ENABLE",updatedAt:"2020-10-18 8:10:00",owner:"aa",updater:"aa",money:1111,compareType:"PRODUCT",priceCompareType:"GT"})),"PRICE_WARNING_LIST");function c(e){e=e.projectId;return u.h.post("/price/warning/setting/check",{projectId:e})}function l(e){var t=e.projectId,e=e.module;return u.h.post("/price/warning/setting/find",{projectId:t,module:e})}function f(e){var t=e.id,n=e.priceCompareType,e=e.warningPrice;return u.h.post("/price/warning/change/price",{id:t,priceCompareType:n,warningPrice:e})}function h(e){var t=e.pageIndex,n=e.pageSize,a=e.projectId,r=e.keyword,i=e.compareType,e=e.priceCompareType;return u.h.post("/price/warning/list",{pageIndex:t,pageSize:n,projectId:a,keyword:r,compareType:i,priceCompareType:e})}function m(e){var t=e.projectId,n=e.detailTitle,a=e.remindRepetition,r=e.tableTitle,i=e.unify,o=e.warningInterval,s=e.workType,c=e.id,e=e.module;return u.h.post("/price/warning/setting",{projectId:t,detailTitle:n,remindRepetition:a,tableTitle:r,unify:i,warningInterval:o,workType:s,id:c,module:e})}function v(e){e=e.id;return u.h.post("/price/warning/delete",{id:e})}function s(e){return i.apply(this,arguments)}function i(){return(i=a()(d().mark(function e(t){var n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",u.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return o.apply(this,arguments)}function o(){return(o=a()(d().mark(function e(t){var n,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",u.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var t=n(64396),g=n(5133),x=n(11912),b=t.Z.monitoring.warning,T={projectId:"",preferList:[],preferValue:{},data:[],form:0,to:0,count:0,pageSize:20,pageIndex:1,keyword:"",priceCompareType:"ALL",compareType:"ALL",activeColumnProps:[],module:"PRICE"};const I={namespace:b,state:Object.assign({},T),effects:{fetchParams:d().mark(function e(t,n){var a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,r=n.put,n.select,i=x.SE,e.prev=3,e.next=6,o(s,{projectId:a.projectId});case 6:o=e.sent,2e4===(o=o.data).code&&o.result&&(i=JSON.parse(o.result)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.next=15,r({type:"save",payload:{activeColumnProps:i,projectId:a.projectId}});case 15:return e.next=17,r({type:"fetchWarningList",payload:a});case 17:return e.next=19,r({type:"fetchSettingList"});case 19:return e.next=21,r({type:"fetchPreferValue"});case 21:case"end":return e.stop()}},e,null,[[3,11]])}),fetchSettingList:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[b]});case 4:return s=e.sent,s=s.projectId,e.next=8,r(c,{projectId:s});case 8:return s=e.sent,s=s.data.result,e.next=12,i({type:"save",payload:p()({preferList:s},a)});case 12:case"end":return e.stop()}},e)}),fetchPreferValue:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[b]});case 4:return s=e.sent,o=s.projectId,s=s.module,e.next=9,r(l,{projectId:o,module:s});case 9:return s=e.sent,s=s.data.result,e.next=13,i({type:"save",payload:p()({preferValue:{detailTitle:(JSON.parse(s.detailTitle)||[]).map(function(e){return e.id}),remindRepetition:s.remindRepetition,tableTitle:(JSON.parse(s.tableTitle)||[]).map(function(e){return e.id}),unify:s.unify,warningInterval:s.warningInterval,workType:s.workType,id:s.id}},a)});case 13:case"end":return e.stop()}},e)}),submitPreferValue:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,n.put,o=n.select,e.next=4,o(function(e){return e[b]});case 4:return s=e.sent,r=s.projectId,i=s.preferValue,o=s.preferList,s=s.module,e.next=11,a(m,p()({projectId:r},i,{detailTitle:JSON.stringify(o.find(function(e){return"detailTitle"===e.id}).config.filter(function(e){return i.detailTitle.includes(e.id)})),tableTitle:JSON.stringify(o.find(function(e){return"tableTitle"===e.id}).config.filter(function(e){return i.tableTitle.includes(e.id)})),module:s}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e)}),fetchWarningList:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return e[b]});case 4:return u=e.sent,o=u.projectId,s=u.pageIndex,l=u.pageSize,u.keyword,c=u.compareType,u=u.priceCompareType,c=a.compareType||c,u=a.priceCompareType||u,l={projectId:o,pageIndex:a.pageIndex||s,pageSize:a.pageSize||l,keyword:a.keyword},"ALL"!==c&&(l.compareType=c),"ALL"!==u&&(l.priceCompareType=u),e.next=18,r(h,l);case 18:if(l=e.sent,2e4===(l=l.data).code)return e.next=23,i({type:"save",payload:p()({from:l.result.from,to:l.result.to,count:l.result.count,data:l.result.result},a)});e.next=23;break;case 23:case"end":return e.stop()}},e)}),fetchWarningChange:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[b]});case 4:return s=e.sent,s.projectId,s=s.keyword,e.next=9,r(f,a);case 9:if(c=e.sent,2e4===(c=c.data).code)return g.Z.success(c.msg),e.next=15,i({type:"fetchWarningList",payload:{keyword:s}});e.next=17;break;case 15:e.next=18;break;case 17:g.Z.error(c.msg);case 18:case"end":return e.stop()}},e)}),deleteWarning:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[b]});case 4:return s=e.sent,s.projectId,s=s.keyword,e.next=9,r(v,{id:a.id});case 9:if(c=e.sent,2e4===(c=c.data).code)return g.Z.success(c.msg),e.next=15,i({type:"fetchWarningList",payload:{keyword:s}});e.next=17;break;case 15:e.next=18;break;case 17:g.Z.error(c.msg);case 18:case"end":return e.stop()}},e)}),setDefaultValue:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[b]});case 4:return s=e.sent,s=s.projectId,e.next=8,r(y,{projectId:a.projectId||s,value:JSON.stringify(a.activeColumnProps)});case 8:if(s=e.sent,2e4===s.data.code)return e.next=13,i({type:"save",activeColumnProps:a.activeColumnProps});e.next=13;break;case 13:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},T)}}}},11912:(e,t,n)=>{"use strict";n.d(t,{OB:()=>a,C0:()=>r,Ij:()=>i,SE:()=>o});var a=[{title:"全部",value:"ALL"},{title:"固定金额比价",value:"PRICE"},{title:"同类商品比价",value:"PRODUCT"}],r=[{title:"高于",value:"GT"},{title:"低于",value:"LT"}],i=[{title:"全部",value:"ALL"},{title:"高于",value:"GT"},{title:"低于",value:"LT"},{title:"差价高于",value:"LT_OR_GT"}],o=[{label:"预警名称",value:"name",fixed:"left",width:200,checked:!0},{label:"比价模式",value:"compareType",fixed:"",width:120,checked:!0},{label:"比价方式",value:"priceCompareType",fixed:"",width:120,checked:!0},{label:"比价金额",value:"money",fixed:"",width:160,checked:!0},{label:"上一次提醒时间",value:"lastRemindTime",fixed:"",width:160,checked:!1},{label:"最新修改时间",value:"updatedAt",fixed:"",width:160,checked:!0},{label:"最新修改用户",value:"owner",fixed:"",width:120,checked:!1},{label:"创建时间",value:"createdAt",fixed:"",width:160,checked:!1},{label:"操作",value:"operator",fixed:"right",width:250,checked:!0}]},75335:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),l=n.n(t),t=n(87757),p=n.n(t),i=n(36144);function u(e){var t=e.type,n=e.projectId,a=e.filterModel,r=e.dateFilter,e=e.groupType;return i.h.post("/price-insight/chart/find/"+(t&&"SPU"===t?"ANALYSIS_SPU":"ANALYSIS_COUNT"),{projectId:n,filterModel:a,dateFilter:r,groupType:e})}function c(e){var t=e.type,n=e.projectId,a=e.filterModel,r=e.dateFilter,e=e.groupType;return i.h.post("/price-insight/chart/find/"+(t&&"SPU"===t?"SPU_SALES_DATE_TREND_CHART":"ANALYSIS_DATE_TREND"),{projectId:n,filterModel:a,dateFilter:r,groupType:e})}function d(e){var t=e.projectId,n=e.dateFilter,e=e.projectConfigIdSkus;return i.h.post("/sales/count",{projectId:t,dateFilter:n,projectConfigIdSkus:e})}var f=n(64396).Z.price.productShop,r={isInitial:!0,projectId:"",filterModel:{},dateFilter:{},pieChartData:[],lineChartData:[],saleData:{},filteredItems:[],firstTopValue:30,sndTopValue:30};const a={namespace:f,state:{MODEL:l()({},Object.assign.apply(Object,[{}].concat(r))),SHOP:l()({},Object.assign.apply(Object,[{}].concat(r))),SPU:l()({},Object.assign.apply(Object,[{}].concat(r))),type:""},reducers:{save:function(e,t){var n=t.payload;return l()({},e,((t={})[e.type]=l()({},e[e.type],n),t))},saveType:function(e,t){t=t.payload;return l()({},e,{type:t.type})}},effects:{fetchData:p().mark(function e(t,n){var a,r,i,o,s,c,u;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,c=n.select,e.next=4,c(function(e){return l()({},e)[f]});case 4:if(i=e.sent,u=i[i.type],o=u.projectId,s=u.filterModel,c=u.dateFilter,u={projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||c},i.type&&"SPU"!==i.type&&(u.groupType=i.type),e.prev=8,o!==a.projectId||JSON.stringify(s)!==JSON.stringify(a.filterModel)||JSON.stringify(c)!==JSON.stringify(a.dateFilter))return e.next=12,r({type:"save",payload:l()({},u)});e.next=16;break;case 12:return e.next=14,r({type:"fetchPieChartData",payload:u});case 14:return e.next=16,r({type:"fetchLineChartData",payload:u});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),console.error(e.t0);case 21:case"end":return e.stop()}},e,null,[[8,18]])}),fetchPieChartData:p().mark(function e(t,n){var a,r,i,o,s,c;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return l()({},e)[f]});case 4:return s=e.sent,o=s.type,e.prev=6,e.next=9,r(u,l()({},a,{type:o}));case 9:if(c=e.sent,s=c.data,c="MODEL"!==o?s.result.slice(0,30).map(function(e){return e.spu}):[],2e4===s.code)return e.next=15,i({type:"save",payload:{pieChartData:s.result,filteredItems:c}});e.next=18;break;case 15:if("SHOP"===o)return e.next=18,i({type:"fetchShopSale",payload:{}});e.next=18;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.error(e.t0);case 23:case"end":return e.stop()}},e,null,[[6,20]])}),fetchLineChartData:p().mark(function e(t,n){var a,r,i,o,s;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return l()({},e)[f]});case 4:return s=e.sent,s=s.type,e.prev=6,e.next=9,r(c,l()({},a,{type:s}));case 9:if(s=e.sent,2e4===(s=s.data).code)return e.next=14,i({type:"save",payload:{lineChartData:s.result}});e.next=14;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.error(e.t0);case 19:return e.prev=19,e.next=22,i({type:"save",payload:{isInitial:!1}});case 22:return e.finish(19);case 23:case"end":return e.stop()}},e,null,[[6,16,19,23]])}),fetchShopSale:p().mark(function e(t,n){var a,r,i,o,s,c;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.next=3,o(function(e){return l()({},e)[f]});case 3:return c=e.sent,s=c[c.type],i=s.projectId,o=s.dateFilter,c=s.pieChartData,s={},c={projectId:i,dateFilter:o,projectConfigIdSkus:c.reduce(function(e,t){return l()({},e,((e={})[t.name]=t.skuList,e))},{})},e.prev=7,e.next=10,a(d,c);case 10:c=e.sent,2e4===(c=c.data).code&&(s=c.result),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,r({type:"save",payload:{saleData:s}});case 20:return e.finish(17);case 21:case"end":return e.stop()}},e,null,[[7,15,17,21]])}),init:p().mark(function e(t,n){var a;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.next=3,a({type:"save",payload:l()({},Object.assign.apply(Object,[{}].concat(r)))});case 3:case"end":return e.stop()}},e)})}}},95298:(e,t,n)=>{"use strict";n.d(t,{i:()=>function(e,t){var n="SKU"===t?"skuTotal":"msgTotal",a="SKU"===t?"skuNumber":"msgTotal",r=0,i=0,o=0,t=e.map(function(e){return s()({},e,{data:e.data.filter(function(e){return"其他"!==e.name})})}).sort(function(e,t){return t[n]-e[n]}).slice(0,10),e=t.map(function(t){return i+=t[n],r+=t.priceTotal,o+=t.priceRangeTotal,{name:t.name,value:0<t[n]?t[n]+Math.random():t[n],children:t.data.map(function(e){return{value:e[a],name:e.name,brand:t.name,count:e[a],price:e.price,priceRange:e.priceRange}})}}),t=t.reduce(function(e,t){return[].concat(e,[[t.name,t.priceTotal,""+(0===r?0:(t.priceTotal/r*100).toFixed(2)+"%"),t[n],""+(0===i?0:(t[n]/i*100).toFixed(2)+"%"),t.priceRangeTotal,""+(0===o?0:(t.priceRangeTotal/o*100).toFixed(2)+"%")]])},[["品牌","价格数量","价格数量占比","SKU数量","价格数量占比","价格区间数量","价格区间数量占比"]]);return{treemapData:e,pieData:{source:t,dimensions:["品牌","价格数量","SKU数量","价格区间数量"]}}},f:()=>function(e,t){return e.map(function(n){return{dimensions:["品牌",n.name],source:[0,1,2].map(function(e){return 0===e?n.children.reduce(function(e,t){return[].concat(e,[n.name+"$_$"+t.name])},["BRAND_MODEL"===t?"型号":"店铺"]):1===e?n.children.reduce(function(e,t){return[].concat(e,[t.count/n.count])},["比例"]):n.children.reduce(function(e,t){return[].concat(e,[t.count])},["数量"])})}})}});var t=n(67154),s=n.n(t)},46290:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var a=n(37316),l=n.n(a),c=(n(75314),n(11187)),t=n(67154),b=n.n(t),a=n(87757),T=n.n(a),t=n(64396),I=n(40845),f=n(87219),a=n(48926),r=n.n(a),p=n(36144);function d(e){return i.apply(this,arguments)}function i(){return(i=r()(T().mark(function e(t){var n,a,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.headerFilterParamsNew,r=t.dateFilter,i=t.filterModel,o=t.pageType,e.abrupt("return",p.h.post("/product/overview/chart/find/ASPECT2_TREND_QUERY",{projectId:n,headerFilterParamsNew:a,dateFilter:r,filterModel:i,pageType:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return o.apply(this,arguments)}function o(){return(o=r()(T().mark(function e(t){var n,a,r,i;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.headerFilterParamsNew,r=t.dateFilter,i=t.filterModel,e.abrupt("return",p.h.post("product/overview/chart/find/ASPECT_TREND_CARD",{projectId:n,headerFilterParamsNew:a,dateFilter:r,filterModel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return s.apply(this,arguments)}function s(){return(s=r()(T().mark(function e(t){var n,a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.headerFilterParamsNew,r=t.dateFilter,i=t.filterModel,o=t.type,s=t.businessPoint,c=t.emotion,u=t.formula,e.abrupt("return",p.h.post("data/aspect/chart/export",{projectId:n,headerFilterParamsNew:a,dateFilter:r,filterModel:i,type:o,businessPoint:s,emotion:c,formula:u}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w=t.Z.product.aspectTrend.overview,m={aspectTrendData:void 0,trendEmotion:"negative",aspectDateOptions:[],aspectDateType:"",aspectDateTypeFlavor:"",aspectTotalType:"",aspectPosType:"",aspectNegType:"",aspectBusType:"",aspectTotalTypeFlavor:"",aspectPosTypeFlavor:"",aspectNegTypeFlavor:"",aspectBusTypeFlavor:"",aspectCountData:void 0,aspectType:"",aspectTypeFlavor:"",aspectVolumeType:"",aspectVolumeTypeFlavor:"",selectAspectObj:{type:"",value:[],color:[]},rangedBusinessPointNames:[],projectId:void 0,analysisModel:void 0,filterModel:void 0,filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:"ASPECT_TREND"};const v={namespace:w,state:Object.assign({},m),reducers:{save:function(e,t){t=t.payload;return b()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},m)}},effects:{fetchParams:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,f=n.select,e.next=4,f(function(e){return b()({},e)[w]});case 4:return h=e.sent,h.projectId,h.filterModel,h.dateFilter,o=h.selectAspectObj,s=h.aspectTypeFlavor,c=h.aspectVolumeTypeFlavor,u=h.pageType,l=h.aspectDateTypeFlavor,p=h.aspectTotalTypeFlavor,d=h.aspectPosTypeFlavor,f=h.aspectNegTypeFlavor,h=h.aspectBusTypeFlavor,m={aspectTypeFlavor:s,aspectVolumeTypeFlavor:c,aspectDateTypeFlavor:l,aspectTotalTypeFlavor:p,aspectPosTypeFlavor:d,aspectNegTypeFlavor:f,aspectBusTypeFlavor:h},v={aspectType:s||"aspect1",aspectVolumeType:c||"total",aspectDateType:a.aspectDateTypeFlavor||l,aspectTotalType:p||"total",aspectPosType:d||"posRate",aspectNegType:f||"negRate",aspectBusType:h||"total"},e.next=21,r(I.o,{projectId:a.projectId,key:u});case 21:if(x=e.sent,2e4===(x=x.data).code&&x.result)try{y=JSON.parse(x.result),Object.keys(y).forEach(function(e){m[e]=y[e]}),g=Object.keys(v),Object.keys(m).forEach(function(e,t){m[e]&&(v[g[t]]=m[e])})}catch(e){}return["aspectDateType"].forEach(function(t){a.aspectDateOptions.find(function(e){return e.value===v[t]})||(v[t]=a.aspectDateTypeFlavor)}),x=b()({},a,v,m,{dateFilter:b()({},a.dateFilter,{dateGroupType:v.aspectDateType})}),e.next=28,i({type:"save",payload:b()({},x,{selectAspectObj:b()({},o,{type:x.aspectType})})});case 28:return e.next=30,i({type:"fetchDatas",payload:x});case 30:case"end":return e.stop()}},e)}),fetchDatas:T().mark(function e(t,n){var a,r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchAspectCountData",payload:a});case 4:return e.next=6,r({type:"fetchAspectTrendData",payload:a});case 6:case"end":return e.stop()}},e)}),fetchAspectCountData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return b()({},e)[w]});case 4:return u=e.sent,o=u.projectId,l=u.headerFilterParamsNew,s=u.dateFilter,u.rangedBusinessPointNames,u.aspectType,c=u.pageType,u="error",e.prev=12,e.next=15,r(d,{pageType:c,projectId:a.projectId||o,dateFilter:a.dateFilter||s,headerFilterParamsNew:(0,f.ZP)(a.headerFilterParamsNew||l,function(e){var t=e.find(function(e){return"DEFAULT"===e.id});t?t.values.find(function(e){return"MESSAGE_TYPE"===e.id})||t.values.push({id:"MESSAGE_TYPE",values:["COMMENT_APPEND","MESSAGE_COMMENT"]}):e.push({id:"DEFAULT",values:[{id:"MESSAGE_TYPE",values:["COMMENT_APPEND","MESSAGE_COMMENT"]}]})}),filterModel:[]});case 15:l=e.sent,l=l.data,u=2e4===l.code&&l.result.length?l.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,i({type:"save",payload:b()({},a,{aspectCountData:u})});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])}),fetchAspectTrendData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,p=n.select,e.next=4,p(function(e){return b()({},e)[w]});case 4:return l=e.sent,o=l.projectId,d=l.headerFilterParamsNew,s=l.dateFilter,p=l.aspectDateOptions,c=l.aspectDateTypeFlavor,u="error",l=b()({},a,{aspectDateType:a.dateFilter.dateGroupType}),p=p.find(function(e){return e.value===c}),l.filterModel&&c!==l.dateFilter.dateGroupType&&p&&(l=b()({},l,{dateFilter:b()({},l.dateFilter,{dateGroupType:c}),aspectDateType:c})),e.prev=14,e.next=17,r(h,{projectId:l.projectId||o,dateFilter:l.dateFilter||s,headerFilterParamsNew:(0,f.ZP)(a.headerFilterParamsNew||d,function(e){var t=e.find(function(e){return"DEFAULT"===e.id});t?t.values.find(function(e){return"MESSAGE_TYPE"===e.id})||t.values.push({id:"MESSAGE_TYPE",values:["COMMENT_APPEND","MESSAGE_COMMENT"]}):e.push({id:"DEFAULT",values:[{id:"MESSAGE_TYPE",values:["COMMENT_APPEND","MESSAGE_COMMENT"]}]})}),filterModel:[]});case 17:d=e.sent,d=d.data,u=2e4===d.code&&d.result.length?d.result:"empty",e.next=24;break;case 22:e.prev=22,e.t0=e.catch(14);case 24:return e.prev=24,e.next=27,i({type:"save",payload:b()({},l,{aspectTrendData:u})});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[14,22,24,28]])}),fetchExportRateData:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,e.next=4,i(function(e){return b()({},e)[w]});case 4:return o=e.sent,i=o.projectId,s=o.headerFilterParamsNew,o=o.dateFilter,e.prev=8,e.next=11,r(u,b()({},a,{projectId:i,dateFilter:o,headerFilterParamsNew:s,filterModel:[]}));case 11:s=e.sent,2e4===s.data.code&&c.default.success('操作成功，请到个人中心的下载列表或者点击右上角"小铃铛"下载'),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:case"end":return e.stop()}},e,null,[[8,16]])}),setDefaultValue:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return b()({},e)[w]});case 4:return u=e.sent,o=u.projectId,s=u.pageType,c=l()(u,["projectId","pageType"]),u=["aspectTypeFlavor","aspectVolumeTypeFlavor","aspectDateTypeFlavor","aspectTotalTypeFlavor","aspectPosTypeFlavor","aspectNegTypeFlavor","aspectBusTypeFlavor"].reduce(function(e,t){return e[t]=(void 0!==a[t]?a:c)[t],e},{}),e.prev=9,e.next=12,r(I.s,{projectId:a.projectId||o,key:s,value:JSON.stringify(u)});case 12:if(u=e.sent,2e4===u.data.code)return e.next=17,i({type:"save",payload:b()({},a)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])})}}},1269:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var t=n(67154),g=n.n(t),t=n(87757),x=n.n(t),t=n(48926),a=n.n(t),o=n(36144),i="PRODUCT_COMPARE",r="PRODUCT_COMPARE_ANALYSIS";function b(e){return s.apply(this,arguments)}function s(){return(s=a()(x().mark(function e(t){var n,a,r,i;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT2_EMOTION_ANALYSIS_QUERY",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return c.apply(this,arguments)}function c(){return(c=a()(x().mark(function e(t){var n,a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{projectId:n,dateFilter:a,filterModel:r,productOverviewModule:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return u.apply(this,arguments)}function u(){return(u=a()(x().mark(function e(t){var n,a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{projectId:n,dateFilter:a,filterModel:r,productOverviewModule:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=a()(x().mark(function e(t){var n,a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/USEFUL_ASPECT_COUNT_CARD",{projectId:n,dateFilter:a,filterModel:r,productOverviewModule:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=a()(x().mark(function e(t){var n,a,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.cartType,r=t.sameRateType,e.abrupt("return",o.h.post("/product/overview/set-same-rate",{projectId:n,cartType:a,sameRateType:r,productOverviewModule:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=a()(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return(I=a()(x().mark(function e(t){var n,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var t=n(64396),w=n(5133),E=n(9166),k=t.Z.product.compare,C={countCard:void 0,countSameRateType:"",positiveRate:void 0,positiveSameRateType:"",negativeRate:void 0,negativeSameRateType:"",cmtData:void 0,cmtAspectType:"",cmtAspFlavor:"",cmtType:"",cmtFlavor:"",cmtRangeCheck:!1,volData:void 0,volAspectType:"",volAspFlavor:"",volType:"",volFlavor:"",volRangeCheck:!1,menData:void 0,menAspectType:"",menAspFlavor:"",menRangeCheck:!1,perData:void 0,perAspectType:"",perAspFlavor:"",perRangeCheck:!1,tarRangedNames:void 0,tarAspectType:void 0,total:0,pageIndex:1,pageSize:10,aspectListType:"",aspectListTypeFlavor:"",aspectData:void 0,fetchedAspectData:void 0,projectId:void 0,filterModel:[],dateFilter:{},analysisModel:[],dateRange:0};const S={namespace:k,state:Object.assign({},C),reducers:{save:function(e,t){t=t.payload;return g()({},e,t)},clean:function(){return Object.assign({},C)}},effects:{fetchParams:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return g()({},e)[k]});case 4:if(p=e.sent,o=p.projectId,s=p.filterModel,c=p.dateFilter,p=p.analysisModel,JSON.stringify(o)===JSON.stringify(a.projectId)&&JSON.stringify(s)===JSON.stringify(a.filterValue)&&JSON.stringify(c)===JSON.stringify(a.dateFilter)&&JSON.stringify(p)===JSON.stringify(a.analysisModel))return e.abrupt("return");e.next=11;break;case 11:return u={cmtAspectType:"aspect1",cmtType:"posRate",volAspectType:"aspect1",volType:"aspectTotal",menAspectType:"aspect1",perAspectType:"aspect1",aspectListType:"aspect1"},l={cmtAspFlavor:"",cmtFlavor:"",volAspFlavor:"",volFlavor:"",menAspFlavor:"",perAspFlavor:"",aspectListTypeFlavor:""},e.prev=13,e.next=16,r(v,{projectId:a.projectId});case 16:p=e.sent,2e4===(p=p.data).code&&p.result&&(l=JSON.parse(p.result),d=Object.keys(u),Object.keys(l).forEach(function(e,t){l[e]&&(u[d[t]]=l[e])})),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.next=25,i({type:"save",payload:g()({},a,{filterModel:a.filterValue},l,u)});case 25:return e.next=27,i({type:"fetchCountCard",payload:a});case 27:return e.next=29,i({type:"fetchPositiveCard",payload:a});case 29:return e.next=31,i({type:"fetchNegativeCard",payload:a});case 31:return e.next=33,i({type:"fetchAspectData",payload:a});case 33:case"end":return e.stop()}},e,null,[[13,21]])}),setSameRate:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return g()({},e)[k]});case 4:return c=e.sent,o=c.projectId,s=a.cartType,c=a.sameRateType,e.next=9,r(h,{projectId:o,cartType:s,sameRateType:c});case 9:if(u=e.sent,2e4!==u.data.code){e.next=29;break}e.t0=s,e.next="USEFUL_ASPECT_COUNT_CARD"===e.t0?15:"POSITIVE_ASPECT_RATE_CARD"===e.t0?18:"NEGATIVE_ASPECT_RATE_CARD"===e.t0?21:24;break;case 15:return l="fetchCountCard",p="countSameRateType",e.abrupt("break",24);case 18:return l="fetchPositiveCard",p="positiveSameRateType",e.abrupt("break",24);case 21:return l="fetchNegativeCard",p="negativeSameRateType",e.abrupt("break",24);case 24:return w.Z.success("设置成功"),e.next=27,i({type:"save",payload:((u={})[p]=c,u)});case 27:return e.next=29,i({type:l,payload:a});case 29:case"end":return e.stop()}},e)}),fetchPositiveCard:x().mark(function e(t,n){var a,r,i,o,s,c,u,l;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return g()({},e)[k]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterValue,l=u.analysisModel,u="error",e.prev=10,l={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterValue||c,analysisModel:a.analysisModel||l},e.next=14,r(p,l);case 14:l=e.sent,2e4===(l=l.data).code&&l.result&&(u=l.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,i({type:"save",payload:{positiveRate:u,positiveSameRateType:u.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,null,[[10,19]])}),fetchNegativeCard:x().mark(function e(t,n){var a,r,i,o,s,c,u,l;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return g()({},e)[k]});case 4:return u=e.sent,o=u.projectId,s=u.dateFilter,c=u.filterValue,l=u.analysisModel,u="error",e.prev=10,l={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterValue||c,analysisModel:a.analysisModel||l},e.next=14,r(d,l);case 14:l=e.sent,2e4===(l=l.data).code&&l.result&&(u=l.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,i({type:"save",payload:{negativeRate:u,negativeSameRateType:u.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,null,[[10,19]])}),fetchCountCard:x().mark(function e(t,n){var a,r,i,o,s,c,u;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return g()({},e)[k]});case 4:return c=e.sent,o=c.projectId,s=c.dateFilter,u=c.filterValue,c=c.analysisModel,u={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterValue||u,analysisModel:a.analysisModel||c},c="error",e.prev=11,e.next=14,r(l,u);case 14:u=e.sent,2e4===(u=u.data).code&&u.result&&(c=u.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,i({type:"save",payload:{count:c,countSameRateType:c.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},e,null,[[11,19]])}),fetchAspectData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return g()({},e)[k]});case 4:return f=e.sent,h=f.projectId,v=f.dateFilter,m=f.filterValue,y=f.analysisModel,s={projectId:a.projectId||h,dateFilter:a.dateFilter||v,filterModel:a.filterValue||m,analysisModel:a.analysisModel||y},f=d=p=l=u=c="error",h=0,e.prev=11,e.next=14,r(b,s);case 14:v=e.sent,2e4===(m=v.data).code&&m.result.length?(y=s.analysisModel[0].values,v=y[0],y=(0,E.kR)(m.result,v.label,v.values),y.data,v=y.aspect1,y=y.aspect2,c={aspect1:v,aspect2:y},u=m.result,l=m.result,p=m.result,d=m.result,f=m.result,h=m.result.length):c="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,o({type:"save",payload:g()({},a,{filterModel:a.filterValue,aspectData:c,cmtData:u,volData:l,menData:p,perData:d,fetchedAspectData:f,total:h})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),updateFlavors:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,p=n.select,i=n.put,e.next=4,p(function(e){return g()({},e)[k]});case 4:return d=e.sent,f=d.projectId,o=d.cmtAspFlavor,s=d.cmtFlavor,c=d.volAspFlavor,u=d.volFlavor,l=d.menAspFlavor,p=d.perAspFlavor,d=d.aspectListTypeFlavor,e.prev=13,d={cmtAspFlavor:void 0!==a.cmtAspectType?a.cmtAspectType:o,cmtFlavor:void 0!==a.cmtType?a.cmtType:s,volAspFlavor:void 0!==a.volAspectType?a.volAspectType:c,volFlavor:void 0!==a.volType?a.volType:u,menAspFlavor:void 0!==a.menAspectType?a.menAspectType:l,perAspFlavor:void 0!==a.perAspectType?a.perAspectType:p,aspectListTypeFlavor:void 0!==a.aspectListType?a.aspectListType:d},e.next=17,r(T,{projectId:f,value:JSON.stringify(d)});case 17:if(f=e.sent,2e4===f.data.code)return e.next=22,i({type:"save",payload:d});e.next=22;break;case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(13);case 26:case"end":return e.stop()}},e,null,[[13,24]])})}}},9166:(e,t,n)=>{"use strict";n.d(t,{aH:()=>r,qR:()=>i,k_:()=>o,ct:()=>s,$j:()=>c,Rx:()=>l,JM:()=>p,BI:()=>d,yE:()=>function(e){return e.reduce(function(e,t){var n=e.find(function(e){return e.name===t.name});return n||(n={name:t.name,aspectTotal:0},e.push(n)),n.aspectTotal+=t.aspectPositive+t.aspectNegative,e},[])},zV:()=>function(i){var o=i.map(function(e){return e.aspect1}).reduce(function(e,t){return e.includes(t)?e:[].concat(e,[t])},[]),s=i.map(function(e){return e.aspect2}).reduce(function(e,t){return e.includes(t)?e:[].concat(e,[t])},[]),c={positive:0,negative:0,posRate:0,negRate:0,NES:0,aspectTotal:0,mentionRate:0};return i.reduce(function(e,t,n){var a=e.find(function(e){return e.name===t.name});a||(a={name:t.name,messageTotal:t.messageTotal,positive:0,negative:0,posRate:0,negRate:0,NES:0,mentionRate:0,aspectTotal:0,aspect1:[],aspect2:[]},e.push(a)),a.positive+=t.aspectPositive,a.negative+=t.aspectNegative,a.aspectTotal+=t.aspectPositive+t.aspectNegative,a.posRate=0===a.aspectTotal?0:a.positive/a.aspectTotal,a.negRate=0===a.aspectTotal?0:a.negative/a.aspectTotal,a.NES=0===a.aspectTotal?0:(a.positive-a.negative)/a.aspectTotal,a.mentionRate=0===t.messageTotal?0:a.aspectTotal/t.messageTotal,a.aspect2.push({id:t.id,aspect:t.aspect2,positive:t.aspectPositive,negative:t.aspectNegative,posRate:t.aspectPositive+t.aspectNegative===0?0:t.aspectPositive/(t.aspectPositive+t.aspectNegative),negRate:t.aspectPositive+t.aspectNegative===0?0:t.aspectNegative/(t.aspectPositive+t.aspectNegative),NES:t.aspectPositive+t.aspectNegative===0?0:(t.aspectPositive-t.aspectNegative)/(t.aspectPositive+t.aspectNegative),aspectTotal:t.aspectPositive+t.aspectNegative,mentionRate:0===t.messageTotal?0:(t.aspectPositive+t.aspectNegative)/t.messageTotal});var r=a.aspect1.find(function(e){return e.aspect===t.aspect1});return r||(r={id:t.id,aspect:t.aspect1,messageTotal:t.messageTotal,positive:0,negative:0,aspectTotal:0},a.aspect1.push(r)),r.aspect===t.aspect1&&(r.positive+=t.aspectPositive,r.negative+=t.aspectNegative,r.aspectTotal+=t.aspectPositive+t.aspectNegative),n===i.length-1&&e.forEach(function(n){n.aspect1=o.map(function(t){var e=n.aspect1.find(function(e){return e.aspect===t});return e?u()({},e,{posRate:0===e.aspectTotal?0:e.positive/e.aspectTotal,negRate:0===e.aspectTotal?0:e.negative/e.aspectTotal,NES:e.positive+e.negative===0?0:(e.positive-e.negative)/(e.positive+e.negative),mentionRate:0===e.messageTotal?0:(e.positive+e.negative)/e.messageTotal}):u()({aspect:t},c)}).filter(function(e){return e.aspect}),n.aspect2=s.map(function(t){var e=n.aspect2.find(function(e){return e.aspect===t});return e||u()({aspect:t},c)}).filter(function(e){return e.aspect})}),e},[])},kR:()=>function(e,t,n){var a=e.reduce(function(e,t){var n=e.find(function(e){return e.name===t.name});n||(n={name:t.name,id:t.id,messageTotal:t.messageTotal,totalCount:0,aspect1:[]},e.push(n));var a=n.aspect1.find(function(e){return e.name===t.aspect1});return a||(a={name:t.aspect1,count:0,posCount:0,negCount:0,aspect2:[]},n.aspect1.push(a)),a.aspect2.push({name:t.aspect2,posCount:t.aspectPositive,negCount:t.aspectNegative,count:t.aspectPositive+t.aspectNegative}),a.count+=t.aspectPositive+t.aspectNegative,a.posCount+=t.aspectPositive,a.negCount+=t.aspectNegative,n.totalCount+=t.aspectPositive+t.aspectNegative,e},[]);(a=n.map(function(t){return a.find(function(e){return e.id===t})})).forEach(function(e,t){t?a[0].totalCount&&(e.aspect1=a[0].aspect1.map(function(t){var n=e.aspect1.find(function(e){return e.name===t.name});return n?(n.aspect2=t.aspect2.map(function(t){var e=n.aspect2.find(function(e){return e.name===t.name});return e||{name:t.name,count:0,negCount:0,posCount:0}}),n):{name:t.name,count:0,posCount:0,negCount:0,aspect2:t.aspect2.map(function(e){return{name:e.name,count:0,posCount:0,negCount:0}})}})):(e.aspect1=e.aspect1.sort(function(e,t){return t.count-e.count}),e.aspect1.forEach(function(e){e.aspect2=e.aspect2.sort(function(e,t){return t.count-e.count})}))});n=a.reduce(function(n,a){return a.aspect1.forEach(function(t){n[0].push([a.name,t.name,t.count,0===a.totalCount?0:t.count/a.totalCount,t.posCount,t.negCount,0===t.count?0:t.posCount/t.count,0===t.count?0:t.negCount/t.count,0===a.messageTotal?0:t.count/a.messageTotal]),t.aspect2.forEach(function(e){n[1].push([a.name,t.name,e.name,e.count,0===a.totalCount?0:e.count/a.totalCount,e.posCount,e.negCount,0===e.count?0:e.posCount/e.count,0===e.count?0:e.negCount/e.count,0===a.messageTotal?0:e.count/a.messageTotal])})}),n},[[[t,"一级指标","指标声量","指标占比","指标正面声量","指标负面声量","指标好评率","指标差评率","指标提及率"]],[[t,"一级指标","二级指标","指标声量","指标占比","指标正面声量","指标负面声量","指标好评率","指标差评率","指标提及率"]]]),t=n[0],n=n[1];return{data:a,aspect1:t,aspect2:n}}});var t=n(67154),u=n.n(t),t=n(67294),a=n.n(t),r=(n(87219),function(){return a().createElement("div",null,a().createElement("p",null,"「指标声量」选定的有效消息中，可以提取出了的指标声量。注：这里的指标声量是按叶子级别指标（一般指二级指标）的作为计算，对于一级指标不去重。"),a().createElement("p",null,"「有效消息」获得的消息中，除去被标记为“无效消息”的消息数，剩下的均被标记为“有效消息”"),a().createElement("p",null,"「指标提及率」是指选中的消息中，指标声量÷有效消息数量"))}),i=function(){return a().createElement("div",null,a().createElement("p",null,"「指标声量」选定的有效消息中，可以提取出了的指标声量。注：这里的指标声量是按叶子级别指标（一般指二级指标）的作为计算，对于一级指标不去重。"),a().createElement("p",null,"「正面声量」即指标正面声量，只统计指标情感为正面的指标的声量。"),a().createElement("p",null,"「指标好评率」 = 指标正面声量 ÷ 指标声量。"))},o=function(){return a().createElement("div",null,a().createElement("p",null,"「指标声量」选定的有效消息中，可以提取出了的指标声量。注：这里的指标声量是按叶子级别指标（一般指二级指标）的作为计算，对于一级指标不去重。"),a().createElement("p",null,"「负面声量」即指标负面声量，只统计指标情感为负面的指标的声量。"),a().createElement("p",null,"「指标差评率」 = 指标负面声量 ÷ 指标声量。"))},s=function(){return a().createElement("div",null,a().createElement("p",null,"「指标好评率」指标正面声量÷（指标正面声量 + 指标负面声量）。"),a().createElement("p",null,"「指标差评率」指标负面声量÷（指标正面声量 + 指标负面声量）。"))},c=function(){return a().createElement("div",null,a().createElement("p",null,"「指标占比」具体指标的声量÷全部指标的声量。"),a().createElement("p",null,"左图展示的是指标声量，右图展示的是各分析对象的指标占比。"))},l=[{title:"一级指标",value:"aspect1"},{title:"二级指标",value:"aspect2"}],p=[{title:"指标好评率",value:"posRate"},{title:"指标差评率",value:"negRate"}],d=[{title:"指标声量",value:"aspectTotal"},{title:"指标正面声量",value:"positive"},{title:"指标负面声量",value:"negative"}]},8050:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),t=n(48926),a=n.n(t),o=n(36144),i="PRODUCT_CUSTOMER",r="PRODUCT_CUSTOMER_CONCERN";function c(e){return s.apply(this,arguments)}function s(){return(s=a()(d().mark(function e(t){var n,a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filterValue,a=t.dateFilter,r=t.projectId,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT_MENTION_RATE_CARD",{filterModel:n,dateFilter:a,projectId:r,productOverviewModule:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=a()(d().mark(function e(t){var n,a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filterValue,a=t.dateFilter,r=t.projectId,e.abrupt("return",o.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{filterModel:n,dateFilter:a,projectId:r,productOverviewModule:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=a()(d().mark(function e(t){var n,a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filterValue,a=t.dateFilter,r=t.projectId,e.abrupt("return",o.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{filterModel:n,dateFilter:a,projectId:r,productOverviewModule:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=a()(d().mark(function e(t){var n,a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sameRateType,a=t.cartType,r=t.projectId,e.abrupt("return",o.h.post("/product/overview/set-same-rate",{sameRateType:n,cartType:a,projectId:r,productOverviewModule:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=a()(d().mark(function e(t){var n,a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filterValue,a=t.dateFilter,r=t.projectId,i=t.aspectLevel,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT2_EMOTION_QUERY",{filterModel:n,dateFilter:a,projectId:r,aspectLevel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return b.apply(this,arguments)}function b(){return(b=a()(d().mark(function e(t){var n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return(I=a()(d().mark(function e(t){var n,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w=n(92360),t=n(64396),n=n(35642),E=t.Z.product.customer,k={projectId:void 0,dataAspect1:void 0,dataAspect2:void 0,metion:void 0,positiveRate:void 0,negativeRate:void 0,filter:{},chartTypeValue:{meAspectType:n.Rx[0].value,couAspectType:n.Rx[0].value,countType:n.FP[0].value},flavor:{}};const C={namespace:E,state:Object.assign({},k),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clean:function(){return Object.assign({},k)}},effects:{fetchParams:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return p()({},e)[E]});case 3:return c=e.sent,i=c.chartTypeValue,c=c.projectId,o={meAspectType:"",couAspectType:"",countType:""},s=JSON.parse(JSON.stringify(i)),e.prev=8,e.next=11,a(x,{projectId:c});case 11:c=e.sent,2e4===(c=c.data).code&&c.result&&(o=Object.assign(o,JSON.parse(c.result)),Object.keys(o).forEach(function(e){return s[e]=o[e]||s[e]})),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.next=20,r({type:"save",payload:{chartTypeValue:s,flavor:o}});case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},e,null,[[8,16]])}),fetchMentionRate:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return p()({},e)[E]});case 4:return u=e.sent,o=u.filter,s=u.projectId,c=a.aspectType,u="error",e.prev=9,e.next=12,r(y,p()({projectId:s,aspectLevel:"aspect1"===c?1:2},o));case 12:l=e.sent,2e4===(l=l.data).code&&l.result&&(u=l.result.length?l.result:"empty"),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,i({type:"save",payload:((l={})["aspect1"===c?"dataAspect1":"dataAspect2"]=u,l)});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}},e,null,[[9,17]])}),getMention:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return p()({},e)[E]});case 3:return o=e.sent,s=o.filter,i=o.projectId,o="error",e.prev=7,e.next=10,a(c,p()({projectId:i},s));case 10:s=e.sent,2e4===(s=s.data).code&&s.result&&(o=s.result),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.next=19,r({type:"save",payload:{metion:o}});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},e,null,[[7,15]])}),getPositiveRate:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return p()({},e)[E]});case 3:return o=e.sent,s=o.filter,i=o.projectId,o="error",e.prev=7,e.next=10,a(u,p()({projectId:i},s));case 10:s=e.sent,2e4===(s=s.data).code&&s.result&&(o=s.result),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.next=19,r({type:"save",payload:{positiveRate:o}});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},e,null,[[7,15]])}),getNegativeRate:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return p()({},e)[E]});case 3:return o=e.sent,s=o.filter,i=o.projectId,o="error",e.prev=7,e.next=10,a(f,p()({projectId:i},s));case 10:s=e.sent,2e4===(s=s.data).code&&s.result&&(o=s.result),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.next=19,r({type:"save",payload:{negativeRate:o}});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},e,null,[[7,15]])}),setCompare:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return p()({},e)[E]});case 4:return c=e.sent,o=c.projectId,s=a.cartType,c=a.sameRateType,e.prev=7,e.next=10,r(m,{projectId:o,cartType:s,sameRateType:c});case 10:if(c=e.sent,2e4!==c.data.code){e.next=26;break}e.t0=s,e.next="ASPECT_MENTION_RATE_CARD"===e.t0?16:"POSITIVE_ASPECT_RATE_CARD"===e.t0?18:"NEGATIVE_ASPECT_RATE_CARD"===e.t0?20:22;break;case 16:return u="getMention",e.abrupt("break",22);case 18:return u="getPositiveRate",e.abrupt("break",22);case 20:return u="getNegativeRate",e.abrupt("break",22);case 22:return w.Message.success("设置成功"),e.next=25,i({type:u});case 25:return e.abrupt("return",e.sent);case 26:e.next=30;break;case 28:e.prev=28,e.t1=e.catch(7);case 30:case"end":return e.stop()}},e,null,[[7,28]])}),chartTypeChange:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,o=n.select,e.t0=JSON,e.t1=JSON,e.next=6,o(function(e){return p()({},e)[E]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),s=e.t0.parse.call(e.t0,e.t3),i=s.chartTypeValue,o=a.key,s=a.value,i[o]=s,e.next=14,r({type:"save",payload:{chartTypeValue:JSON.parse(JSON.stringify(i))}});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e)}),updateFlavors:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return p()({},e)[E]});case 4:return c=e.sent,o=c.projectId,s=c.flavor,u=a.key,c=a.value,s[u]=c,u={meAspectType:s.meAspectType,couAspectType:s.couAspectType,countType:s.countType},e.prev=10,e.next=13,r(T,{projectId:o,value:JSON.stringify(u)});case 13:if(u=e.sent,2e4===u.data.code)return e.next=18,i({type:"save",payload:s});e.next=21;break;case 18:if(c)return e.next=21,i({type:"chartTypeChange",payload:a});e.next=21;break;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(10);case 25:case"end":return e.stop()}},e,null,[[10,23]])})}}},35642:(e,t,n)=>{"use strict";n.d(t,{Rx:()=>o,FP:()=>s,LK:()=>c,QS:()=>u,jr:()=>l,gF:()=>p,nW:()=>d,Oy:()=>f});var a=n(8201),r=n(2329),t=n(67294),i=n.n(t),o=[{title:"一级指标",value:"aspect1"},{title:"二级指标",value:"aspect2"}],s=[{title:"数量",value:"count"},{title:"比例",value:"rate"}],c=function(e){return(0,a.P)(e)?[{name:"指标提及率",count:e.aspectMentionRate,format:"percent"},{name:(0,r.kV)(e.sameRateType)+"同比",count:e.sameRate,rise:(0,r.hf)(e.sameRate),format:"percent"},{name:"环比",count:e.circleRate,rise:(0,r.hf)(e.circleRate),format:"percent"},{name:"指标声量",count:e.usefulAspectCount,format:"myriad"},{name:"有效消息",count:e.usefulCommentCount,format:"myriad"}]:e},u=function(){return i().createElement("div",null,i().createElement("p",null,"「指标声量」选定的有效消息中，可以提取出来的指标声量。注：这里的指标声量是按叶子级别指标（一般指二级指标）的作为计算，对于一级指标不去重。"),i().createElement("p",null,"「有效消息」获得的消息中，除去被标记为“无效消息”的消息数，剩下的均被标记为“有效消息”。"),i().createElement("p",null,"「指标提及率」是指选中的消息中，指标声量÷有效消息数量。"))},l=function(e){return(0,a.P)(e)?[{name:"指标好评率",count:e.positiveAspectRate,format:"percent"},{name:(0,r.kV)(e.sameRateType)+"同比",count:e.sameRate,rise:(0,r.hf)(e.sameRate),format:"percent"},{name:"环比",count:e.circleRate,rise:(0,r.hf)(e.circleRate),format:"percent"},{name:"正面声量",count:e.usefulPositiveAspectCount,format:"myriad"},{name:"指标声量",count:e.usefulAspectCount,format:"myriad"}]:e},p=function(){return i().createElement("div",null,i().createElement("p",null,"「指标声量」选定的有效消息中，可以提取出了的指标声量。注：这里的指标声量是按叶子级别指标（一般指二级指标）的作为计算，对于一级指标不去重。"),i().createElement("p",null,"「正面声量」即指标正面声量，只统计指标情感为正面的指标的声量。"),i().createElement("p",null,"「指标好评率」 = 指标正面声量 ÷ 指标声量。"))},d=function(e){return(0,a.P)(e)?[{name:"指标差评率",count:e.negativeAspectRate,format:"percent"},{name:(0,r.kV)(e.sameRateType)+"同比",count:e.sameRate,rise:(0,r.hf)(e.sameRate),format:"percent"},{name:"环比",count:e.circleRate,rise:(0,r.hf)(e.circleRate),format:"percent"},{name:"负面声量",count:e.usefulNegativeAspectCount,format:"myriad"},{name:"指标声量",count:e.usefulAspectCount,format:"myriad"}]:e},f=function(){return i().createElement("div",null,i().createElement("p",null,"「指标声量」选定的有效消息中，可以提取出了的指标声量。注：这里的指标声量是按叶子级别指标（一般指二级指标）的作为计算，对于一级指标不去重。"),i().createElement("p",null,"「负面声量」即指标负面声量，只统计指标情感为负面的指标的声量。"),i().createElement("p",null,"「指标差评率」 = 指标负面声量 ÷ 指标声量。"))}},13419:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),t=n(48926),a=n.n(t),s=n(36144);function v(e){return r.apply(this,arguments)}function r(){return(r=a()(m().mark(function e(t){var n,a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.enablePos,r=t.posList,i=t.filterModel,o=t.dateFilter,e.abrupt("return",s.h.post("/widget/data/find/WORD_TIME_LINE",{filterModel:i,dateFilter:o,projectId:n,topSize:100,enablePos:a,posList:r,type:"WORD_TIME_LINE"}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return i.apply(this,arguments)}function i(){return(i=a()(m().mark(function e(t){var n,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",s.h.post("/default/value/update",{key:"OVERVIEW_WORDCLOUD_STYLE",projectId:n,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return o.apply(this,arguments)}function o(){return(o=a()(m().mark(function e(){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.h.get("/team/list"));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return c.apply(this,arguments)}function c(){return(c=a()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.model,a=t.projectId,r=t.chartName,e.abrupt("return",s.h.post("/warning/aspect/find",{name:n,otherInfo:r,projectId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=a()(m().mark(function e(t){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.h.post("/warning/aspect/config",t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var y=n(64396).Z.product.overview;const g={namespace:y,state:{doublebarDatas:void 0,wordCloudDatas:void 0,posList:[],propEnable:!1,filterModel:void 0,dateFilter:void 0,projectId:void 0,wcDefStyleState:{activeStyleId:"local1",customStyleUrl:void 0},alertSettingData:{},teamListData:[],setAlertResult:void 0},reducers:{save:function(e,t){t=t.payload;return h()({},e,t)}},effects:{fetchWordCloudDatas:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return h()({},e)[y]});case 4:return p=e.sent,o=p.filterModel,s=p.dateFilter,c=p.projectId,d=p.propEnable,u=p.posList,p=l="error",e.prev=11,e.next=14,r(v,{filterModel:a.filterModel||o,dateFilter:a.dateFilter||s,projectId:a.projectId||c,posList:a.posList||u,enablePos:void 0!==a.propEnable?a.propEnable:d});case 14:d=e.sent,2e4===(d=d.data).code&&d.result.list.length?(d=d.result.list,f=d.reduce(function(e,t){return e+t.total},0),p=d.sort(function(e,t){return t.total-e.total}).map(function(e){return h()({},e,{precent:e.total/f,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}),l=JSON.parse(JSON.stringify(p))):p=l="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:h()({},a,{wordCloudDatas:l,doublebarDatas:p})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),setDefWordcloudStyle:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return h()({},e)[y]});case 4:return s=e.sent,c=s.wcDefStyleState,s=h()({},c),a.activeStyleId&&(s.activeStyleId=a.activeStyleId),a.customStyleUrl&&(s.customStyleUrl=a.customStyleUrl),e.next=11,r(u,{projectId:a.projectId,value:encodeURI(JSON.stringify(s))});case 11:if(c=e.sent,2e4===c.data.code)return e.next=16,i({type:"save",payload:{wcDefStyleState:s}});e.next=16;break;case 16:case"end":return e.stop()}},e)}),getAlertSettingData:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,e.next=4,r(l);case 4:return o=e.sent,s=o.data,o=[],2e4===s.code&&(o=s.result.list),e.next=10,r(p,a);case 10:return s=e.sent,2e4===(s=s.data).code&&(c=s.result),e.next=15,i({type:"save",payload:{alertSettingData:c,teamListData:o}});case 15:case"end":return e.stop()}},e)}),setAlertSettingData:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.next=4,a(d,i);case 4:return i=e.sent,i=i.data,i=i&&2e4===i.code,e.next=9,r({type:"save",payload:{setAlertResult:i}});case 9:case"end":return e.stop()}},e)})}}},94134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>z});var a=n(37316),l=n.n(a),r=n(67154),y=n.n(r),t=n(87757),g=n.n(t),a=n(64396),r=n(48926),i=n.n(r),c=n(36144);function d(e){return o.apply(this,arguments)}function o(){return(o=i()(g().mark(function e(t){var n,a,r,i,o,s;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.pageType,o=t.sameRateType,s=t.sameRateId,o)return e.next=4,c.h.post("/scene/message/count/set",{projectId:n,sameRateType:o,sameRateId:s,pageType:i,chartType:"volume_count"});e.next=4;break;case 4:return e.abrupt("return",c.h.post("/scene/message/count",{projectId:n,dateFilter:a,filterModel:r,chartType:"volume_count",pageType:i}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,e=e.pageType;return c.h.post("/scene/message/count/time",{projectId:t,dateFilter:n,filterModel:a,chartType:"volume_count_time",pageType:e})}function p(e){var t=e.projectId,n=e.dateFilter,e=e.filterModel;return c.h.post("/scene/relation",{projectId:t,dateFilter:n,filterModel:e})}function h(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,e=e.pageType;return c.h.post("/scene/message/count/type/time",{projectId:t,dateFilter:n,filterModel:a,chartType:"volume_count_type_time",pageType:e})}var x=n(40845),m=n(87219),t=n(85354),u=n.n(t),r=n(67294),v=n.n(r),b=n(70715),T=n(87300),I=n(39432),s={force:["注：","数值越大，节点越大，也越居于中心位置","关联的节点越多，越居于中心位置","关联关系越大，连线越粗，与相关节点也越近"],circular:["注：","数值越大，节点越大","关联关系越大，连线越粗"]},w={positive:"正面声量",total:"标签声量",negative:"负面声量"},t=function(a){function e(){for(var f,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(f=a.call.apply(a,[this].concat(t))||this).chartRef=void 0,f.chartData={categories:[],links:[],data:[]},f.getChartRef=function(e){f.chartRef=e},f.setValue=function(e,t,i,n){var o=e.nodes,a=e.relations,r=a.map(function(e){return"posRate"===t?e.positive:"negRate"===t?e.negative:e[t]}),s=Math.max.apply(null,r),c=Math.min.apply(null,r),e=a.reduce(function(e,t,n){var a=r[n];return a&&(n=s===c?1:(a-c)/(s-c)*39+1,e.push(y()({},t,{value:a,lineStyle:{width:1},emphasis:{lineStyle:{width:n}}}))),e},[]),u=o.map(function(e){return"posRate"===t?e.positive/e.total:"negRate"===t?e.negative/e.total:e[t]}),l=o.reduce(function(e,t){t=t.sceneName;return e.includes(t)||e.push(t),e},[]),p=Math.max.apply(null,u),d=Math.min.apply(null,u),a=o.reduce(function(e,t,n){var a=u[n],r=p===d?10:(a-d)/(p-d)*(Number(i)-10)+10;return e[l.indexOf(t.sceneName)].push({value:a,id:t.key,name:t.name,data:{total:t.total,positive:t.positive,negative:t.negative,posRate:t.positive/t.total,negRate:t.negative/t.total},category:t.sceneName,symbolSize:r,itemStyle:{color:b.Fq[l.indexOf(t.sceneName)]},label:{show:!0,fontSize:10,color:"#262626"}}),n===o.length-1?e.reduce(function(t,e){return e.sort(function(e,t){return t.value-e.value}).forEach(function(e){t.push(e)}),t},[]):e},l.map(function(){return[]}));f.chartData={links:e,data:n?a:a.filter(function(e){return e.value}),categories:l}},f.getOption=function(e,l,p,t){var n=f.chartData,d=n.data,a=n.links,n=n.categories;return{title:{text:l},tooltip:{showDelay:200,hideDelay:500,enterable:!0,padding:0,position:function(e,t,n,a,r){var i=r.contentSize,o=r.viewSize,r=e[0]<o[0]/2?0:-1,o=e[1]<o[1]/2?-.5:-1;return[e[0]+r*i[0]+(r?-10:10),e[1]+o*i[1]]},formatter:function(s,c,u){if(s)return setTimeout(function(){var e,t,n,a,r=s.dataType,i=s.data,o=s.marker;"node"!==r?((a=i.source.split(":"))[0],e=a[1],(n=i.target.split(":"))[0],t=n[1],r=d.find(function(e){return e.id===i.source}),a=d.find(function(e){return e.id===i.target}),n="posRate"===p?"positive":"negRate"===p?"negative":p,r=r?r.data[n]:0,a=a?a.data[n]:0,a=[w[n]+"："+i[n],"占「"+e+"」比例："+(r&&i[n]?(i[n]/r*100).toFixed(2):"0.00")+"%","占「"+t+"」比例："+(a&&i[n]?(i[n]/a*100).toFixed(2):"0.00")+"%"].join("</br>"),u(c,(0,T.r)(o+"连线："+e+" - "+t,[a],[{title:"消息",icon:"icon-cem_jump-message",callback:function(){return f._handleOnJumpMsg(s,l,p)}}]))):(a=i.data,a=["<span>\n              标签声量："+(0,I.hE)(a.total)+"\n            </span>","<span>\n              消息好评率："+(100*a.posRate).toFixed(2)+"%\n              </span>","<span>\n              消息差评率："+(100*a.negRate).toFixed(2)+"%\n              </span>","<span>\n              正向声量："+(0,I.hE)(a.positive)+"\n              </span>","<span>\n              负向声量："+(0,I.hE)(a.negative)+"\n              </span>"].join("</br>"),u(c,(0,T.U)(o+"节点："+i.name,[a],{jumpMsg:function(){return f._handleOnJumpMsg(s,l,p)},jumpAnalyze:function(){return f._handleOnJumpAnalyze(s,l)}})))})}},legend:{data:n,left:20,top:40,icon:"circle",type:"scroll"},graphic:{type:"group",silent:!0,left:20,bottom:16,children:s[e].map(function(e,t){return{type:"text",style:{text:e,fill:"#8C8C8C",font:'12px "Microsoft YaHei", sans-serif',y:20*t}}})},series:[{type:"graph",layout:e,roam:!0,draggable:!0,circular:{rotateLabel:!0},force:{initLayout:"circular",repulsion:Number(t.repulsion),gravity:Number(t.gravity),edgeLength:[50,100],friction:.1},data:d,links:a,categories:n.map(function(e){return{name:e}}),focusNodeAdjacency:!0,itemStyle:{borderColor:"#fff",borderWidth:0,shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.1)"},label:{position:"right",formatter:"{b}"},lineStyle:{curveness:"circular"===e?.3:0,opacity:.3},emphasis:{lineStyle:{width:10}}}]}},f}u()(e,a);var t=e.prototype;return t.renderChart=function(e,t,n,a,r,i){this.setValue(e,a,r.maxRadius,i),this.changeChartType(n,t,a,r)},t.changeChartType=function(e,t,n,a){a=this.getOption(e,t,n,a);this.chartRef.clear(),this.chartRef.setOption(a)},e}(v().PureComponent),E=n(8201),k=n(98191),C=n(50976),S=n(92360),N=n(60496),_=n(94644),r=n(45697),r=n.n(r),O=n(33798),j=n(43036),D=n(61409),M={maxRadius:0,repulsion:0,gravity:0,callback:void 0,visible:!1,maxRadiusTest:!0,repulsionTest:!0,gravityTest:!0};const A=function(t){function e(e){var s=t.call(this,e)||this;return s._handleOnConfirm=function(){var e=s.state,t=e.callback,n=e.maxRadius,a=e.repulsion,r=e.gravity,i=e.maxRadiusTest,o=e.repulsionTest,e=e.gravityTest;i&&o&&e&&(t&&t({maxRadius:n,repulsion:a,gravity:r}),s._handleOnCancel())},s._handleOnCancel=function(){s.setState(JSON.parse(JSON.stringify(M)))},s._handleOnChange=function(e,t){var n,a=!!Number(t);a&&("maxRadius"===e&&(t<10||100<t||!/^[1-9]\d*$/.test(t))&&(a=!1),"repulsion"===e&&(t<50||1e3<t||!/^[1-9]\d*$/.test(t))&&(a=!1),"gravity"===e&&(t<.01||1<t||4<String(t).length)&&(a=!1)),s.setState(((n={})[e+"Test"]=a,n[e]=t,n))},s.state=JSON.parse(JSON.stringify(M)),s}u()(e,t);var n=e.prototype;return n.show=function(e){this.setState(y()({visible:!0},e))},n.render=function(){var t=this,e=this.state,n=e.visible,a=e.maxRadiusTest,r=e.repulsionTest,i=e.gravityTest,o=e.maxRadius,s=e.repulsion,e=e.gravity;return v().createElement(S.Dialog,{title:v().createElement("span",{style:{display:"inline-flex",alignItems:"center"}},"图表配置",v().createElement(j.Z,{placement:"top",overlay:v().createElement(D.rU,{className:"yt-feedback-read-more",to:"https://www.yuque.com/docs/share/65dc5ff0-5e47-4687-a25f-d4bcbb36d97e?# 《关联关系分析的图使用说明》",target:"_blank"},"查看图表配置说明")},v().createElement("i",{className:"icon-cem_file1",style:{color:"#8C8C8C",marginLeft:4,fontSize:12}}))),className:"yt_graph_chart_config_wrapper",size:"tiny",visible:n,onCancel:this._handleOnCancel},v().createElement(S.Dialog.Body,null,v().createElement("div",{className:"item"},v().createElement("span",null,"半径因子"),v().createElement("div",null,v().createElement(S.Input,{value:o,onChange:function(e){return t._handleOnChange("maxRadius",e)},type:""}),v().createElement("div",{className:"tips",style:{visibility:a?"hidden":"visible"}},"请输入10~100之间的整数"))),v().createElement("div",{className:"item"},v().createElement("span",null,"斥力因子"),v().createElement("div",null,v().createElement(S.Input,{value:s,onChange:function(e){return t._handleOnChange("repulsion",e)}}),v().createElement("div",{className:"tips",style:{visibility:r?"hidden":"visible"}},"请输入50~1000之间的整数"))),v().createElement("div",{className:"item"},v().createElement("span",null,"引力因子"),v().createElement("div",null,v().createElement(S.Input,{value:e,onChange:function(e){return t._handleOnChange("gravity",e)}}),v().createElement("div",{className:"tips",style:{visibility:i?"hidden":"visible"}},"请输入0.01~1.00之间的两位小数")))),v().createElement(S.Dialog.Footer,null,v().createElement(S.Button,{type:"default",onClick:this._handleOnCancel},"取消"),v().createElement(S.Button,{type:"primary",onClick:this._handleOnConfirm},"确定")))},e}(v().PureComponent);var L=[{title:"标签声量",value:"total"},{title:"消息好评率",value:"posRate"},{title:"消息差评率",value:"negRate"},{title:"正向声量",value:"positive"},{title:"负向声量",value:"negative"}],P=[{title:"导出图片",type:"image"},{title:"导出数据",type:"data"},{title:"图表配置",type:"config"}],t=function(s){function e(e){var u=s.call(this,e)||this;return u._handleOnJumpMsg=function(e,t,n){u.props.onClick(e,t,"msg",n)},u._handleOnJumpAnalyze=function(e,t){u.props.onClick(e,t,"analyze")},u.handleOnMoreClick=function(e){var a,r,i,t=u.props,n=t.title,o=t.data,s=t.onChange,c=t.dataType,t=t.chartConfig;"image"===e&&u.chartRef?(0,_._v)(u.chartRef,n):"config"===e?(a=Object.values(c)[0],r=Object.values(t)[0],i=Object.keys(t)[0],u.configDialog.show(y()({},r[a],{callback:function(e){var t,n;s&&s(((n={})[i]=y()({},r,((t={})[a]=e,t)),n))}}))):"data"===e&&(0,E.P)(o)&&(0,_.aT)([o.nodes.reduce(function(e,t){return e.push([t.sceneName,t.name,t.positive,t.neutral,t.negative,t.total]),e},[["场景","场景标签","正面","中性","负面","总声量"]]),o.relations.reduce(function(e,t){return e.push([t.sourceSceneName,t.source.split(":")[1],t.targetSceneName,t.target.split(":")[1],t.positive,t.neutral,t.negative,t.total]),e},[["源-场景","源-场景标签","目标-场景","目标-场景标签","正面","中性","负面","总声量"]])],n,["节点","边"])},u.state={chartType:"circular",showZero:!0},u}u()(e,s);var t=e.prototype;return t.componentDidMount=function(){var a=this;this.internalId=setInterval(function(){var e,t,n;a.chartRef&&(clearInterval(a.internalId),a.renderChart(),t=(e=a.chartRef._dom.children)[0],n=e[1],t.addEventListener("mouseleave",function(e){a.chartLeaveTimeout=setTimeout(function(){a.chartLeaveTimeout&&(n.style.display="none")},2e3)}),n.addEventListener("mouseenter",function(e){a.chartLeaveTimeout=void 0}))},200)},t.componentDidUpdate=function(e,t){var n=e.data,a=e.dataType,r=e.chartConfig,i=this.props,o=i.data,e=i.dataType,i=i.chartConfig;((0,E.P)(o)&&JSON.stringify(n)!==JSON.stringify(o)||JSON.stringify(a)!==JSON.stringify(e)||JSON.stringify(r)!==JSON.stringify(i)||t.showZero!==this.state.showZero)&&this.renderChart(),!(0,E.P)(o)&&this.chartRef&&(this.chartRef=void 0),(0,E.P)(o)&&t.chartType!==this.state.chartType&&(e=Object.values(e)[0],i=Object.values(i)[0],s.prototype.changeChartType.call(this,this.state.chartType,this.props.title,e,i[e]))},t.renderChart=function(){var e=this.props,t=e.data,n=e.title,a=e.dataType,r=e.chartConfig,i=this.state,e=i.chartType,i=i.showZero;(0,E.P)(t)&&this.chartRef&&(a=Object.values(a)[0],r=Object.values(r)[0],s.prototype.renderChart.call(this,t,n,e,a,r[a],i))},t.render=function(){var t=this,e=this.props,n=e.data,a=e.loading,r=e.title,i=e.titleOverlay,o=e.dataType,s=e.flavorDataType,c=e.onChange,u=this.state,e=u.chartType,u=u.showZero,l=Object.keys(o)[0],p=Object.keys(s)[0];return v().createElement(E.Z,{className:"yt_market_bm_analysis_bar_line_in_one_chart",data:n,loading:a,renderTitle:v().createElement(k.Z,{title:r,titleOverlay:i,data:n,onMoreClick:this.handleOnMoreClick,moreOptions:P},v().createElement(S.Checkbox,{checked:u,onChange:function(e){return t.setState({showZero:e})},className:"zero_switch"},"显示'0'"),v().createElement(j.Z,{placement:"top",overlay:"和弦图"},v().createElement("span",{onClick:function(){return t.setState({chartType:"circular"})}},v().createElement(O.Z,{isActive:"circular"===e,defaultIcon:"cem_harmony-map-gray",activeIcon:"cem_harmony-map"}))),v().createElement(j.Z,{placement:"top",overlay:"关系图"},v().createElement("span",{onClick:function(){return t.setState({chartType:"force"})}},v().createElement(O.Z,{isActive:"force"===e,defaultIcon:"cem_relation-diagram-gray",activeIcon:"cem_relation-diagram"}))),v().createElement(N.Z,{options:L,activeObj:o[l],flavor:s[p],divider:"both",onChange:function(e){var t;return c(((t={})[l]=e,t))},onFlavorChange:function(e){var t;return c(((t={})[p]=e,t))}}))},v().createElement(C.Z,{onChartReady:this.getChartRef,theme:"yunting_multi_color",option:{},style:{height:"100%"}}),v().createElement(A,{ref:function(e){return t.configDialog=e}}))},e}(t);t.propTypes={data:r().any,titleOverlay:r().oneOf([r().string,r().node]),title:r().string,loading:r().bool,dataType:r().string,flavorDataType:r().string,onChange:r().func,onClick:r().func,chartConfig:r().shape(((t={})[r().string]={maxRadius:r().number,repulsion:r().number,gravity:r().number},t))};var F=a.Z.product.scene.overview,R={countData:void 0,sameRateId:void 0,countTrendData:void 0,timeType:"DAY",fTimeType:"",seneData:void 0,seneDateType:"DAY",flavorSeneDateType:"",relData:void 0,relDataType:"total",flavorRelDataType:"",relChartConfig:void 0,pageType:"SCENE_INDEX",filterModel:void 0,analysisModel:void 0,dateFilter:void 0,projectId:void 0,dateOptions:[],defaultDateType:void 0};const z={namespace:F,state:JSON.parse(JSON.stringify(R)),effects:{fetchParams:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return y()({},e)[F]});case 4:if(p=e.sent,p.projectId,o=p.filterModel,s=p.dateFilter,c=p.pageType,u=p.fTimeType,l=p.flavorRelDataType,p=p.flavorSeneDateType,JSON.stringify(o)===JSON.stringify(a.filterModel)&&JSON.stringify(s)===JSON.stringify(a.dateFilter))return e.abrupt("return");e.next=14;break;case 14:return d={fTimeType:u,flavorSeneDateType:p,flavorRelDataType:l,relChartConfig:L.reduce(function(e,t){return e[t.value]={maxRadius:50,repulsion:100,gravity:.1},e},{})},f={timeType:u||a.defaultDateType,seneDateType:p||a.defaultDateType,relDataType:"total"},e.next=18,r(x.o,{projectId:a.projectId,key:c});case 18:if(v=e.sent,2e4===(v=v.data).code&&v.result)try{h=JSON.parse(v.result),Object.keys(h).forEach(function(e){d[e]=h[e]}),m=Object.keys(f),Object.keys(d).forEach(function(e,t){d[e]&&(f[m[t]]=d[e])})}catch(e){}return["timeType","seneDateType"].forEach(function(t){a.dateOptions.find(function(e){return e.value===f[t]})||(f[t]=a.defaultDateType)}),v=y()({},a,f,d),e.next=25,i({type:"fetchCountData",payload:v});case 25:return e.next=27,i({type:"fetchCountTrendData",payload:v});case 27:return e.next=29,i({type:"fetchSeneData",payload:v});case 29:return e.next=31,i({type:"fetchRelativeData",payload:v});case 31:case"end":return e.stop()}},e)}),fetchCountData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return y()({},e)[F]});case 4:return l=e.sent,o=l.projectId,s=l.filterModel,c=l.dateFilter,p=l.pageType,u=l.sameRateId,l="error",e.prev=11,e.next=14,r(d,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||c,sameRateType:a.compareValue,sameRateId:u,pageType:p});case 14:p=e.sent,2e4===(p=p.data).code&&p.result&&(l=p.result),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0);case 22:return e.prev=22,e.next=25,i({type:"save",payload:y()({},a,{countData:l,sameRateId:l.sameRateId})});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,19,22,26]])}),fetchCountTrendData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return y()({},e)[F]});case 4:return l=e.sent,o=l.projectId,s=l.filterModel,c=l.dateFilter,p=l.pageType,u=l.timeType,l="error",e.prev=11,e.next=14,r(f,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:(0,m.ZP)(a.dateFilter||c,function(e){e.dateGroupType=a.timeType||u}),pageType:p});case 14:p=e.sent,p=p.data,l=2e4===p.code&&p.result.length?p.result:"empty",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0);case 22:return e.prev=22,e.next=25,i({type:"save",payload:y()({countTrendData:l},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,19,22,26]])}),fetchSeneData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return y()({},e)[F]});case 4:return l=e.sent,o=l.projectId,s=l.filterModel,c=l.dateFilter,p=l.pageType,u=l.seneDateType,l="error",e.prev=11,e.next=14,r(h,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:(0,m.ZP)(a.dateFilter||c,function(e){e.dateGroupType=a.seneDateType||u}),pageType:p});case 14:p=e.sent,p=p.data,l=2e4===p.code&&p.result.length?p.result.reduce(function(e,n){return"用户简画"===n.name||"buyer.age"===n.name||"buyer.gender"===n.name?e[0]&&"用户简画"===e[0].name?(e[0].total+=n.total,e[0].data.forEach(function(t){var e=n.data.find(function(e){return e.name===t.name});e&&(t.count+=e.count)})):e.splice(0,0,y()({},n,{name:"用户简画"})):e.push(n),e},[]):"empty",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0);case 22:return e.prev=22,e.next=25,i({type:"save",payload:y()({seneData:l},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,19,22,26]])}),fetchRelativeData:g().mark(function e(t,n){var a,r,i,o,s,c,u;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return y()({},e)[F]});case 4:return c=e.sent,o=c.projectId,s=c.filterModel,u=c.dateFilter,c="error",e.prev=9,e.next=12,r(p,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||u});case 12:u=e.sent,u=u.data,c=2e4===u.code&&u.result.relations.length?u.result:"empty",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:return e.prev=20,e.next=23,i({type:"save",payload:y()({relData:c},a)});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[9,17,20,24]])}),setDefaultValue:g().mark(function e(t,n){var a,r,i,o,s,c,u;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return y()({},e)[F]});case 4:return u=e.sent,o=u.projectId,s=u.pageType,c=l()(u,["projectId","pageType"]),u=["fTimeType","flavorSeneDateType","flavorRelDataType","relChartConfig"].reduce(function(e,t){return e[t]=(void 0!==a[t]?a:c)[t],e},{}),e.prev=9,e.next=12,r(x.s,{projectId:a.projectId||o,key:s,value:JSON.stringify(u)});case 12:if(u=e.sent,2e4===u.data.code)return e.next=17,i({type:"save",payload:y()({},a)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])})},reducers:{save:function(e,t){t=t.payload;return y()({},e,t)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(R))}}}},79405:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var a=n(67154),p=n.n(a),t=n(87757),m=n.n(t),a=n(64396),t=n(48926),r=n.n(t),o=n(36144);function u(e){return i.apply(this,arguments)}function i(){return(i=r()(m().mark(function e(t){var n,a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.pageType,e.abrupt("return",o.h.post("/scene/message/count",{projectId:n,dateFilter:a,filterModel:r,chartType:"volume_count",pageType:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return s.apply(this,arguments)}function s(){return(s=r()(m().mark(function e(t){var n,a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sameRateType,a=t.projectId,r=t.sameRateId,i=t.pageType,e.abrupt("return",o.h.post("/scene/message/count/set",{sameRateType:n,projectId:a,pageType:i,chartType:"volume_count",sameRateId:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return c.apply(this,arguments)}function c(){return(c=r()(m().mark(function e(t){var n,a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.pageType,e.abrupt("return",o.h.post("/scene/message/count/time",{projectId:n,dateFilter:a,filterModel:r,pageType:i,chartType:"volume_count_time"}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e){return f.apply(this,arguments)}function f(){return(f=r()(m().mark(function e(t){var n,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageType,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return y.apply(this,arguments)}function y(){return(y=r()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.pageType,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:r,value:JSON.stringify(a)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=r()(m().mark(function e(t){var n,a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dateFilter,a=t.projectId,r=t.filterModel,i=t.pageType,e.abrupt("return",o.h.post("/scene/message/count/type/time",{projectId:a,dateFilter:n,pageType:i,chartType:"volume_count_type_time",filterModel:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(t,e,n){return n.some(function(e){return e.value===t})?t:e}var T=a.Z.product.scene.usage,I={projectId:void 0,pageType:void 0,filter:void 0,flavorObj:void 0,filterObj:void 0,cardData:void 0,voiceData:void 0,dateOptions:[],defaultDateType:void 0,trendData:void 0};const w={namespace:T,state:Object.assign(I,{}),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clean:function(){return Object.assign({},I)}},effects:{fetchData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,a=n.call,r=n.put,i=n.select,o=c.filter,s=c.dateOptions,c=c.defaultDateType,e.next=5,i(function(e){return e[T]});case 5:return f=e.sent,u=f.flavorObj,l=f.pageType,p=f.projectId,d=f.filterObj,e.next=12,r({type:"save",payload:{filter:o,dateOptions:s,defaultDateType:c}});case 12:if(u){e.next=31;break}return e.prev=13,e.next=16,a(v,{projectId:p,pageType:l});case 16:if(f=e.sent,2e4===(f=f.data).code)return h={},f=JSON.parse(f.result||'{"trend":"","voice":""}'),h.trend=b(f.trend,c,s),h.voice=b(f.voice,c,s),e.next=25,r({type:"save",payload:{flavorObj:f,filterObj:h}});e.next=25;break;case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(13);case 29:e.next=36;break;case 31:return h=u,d.trend=b(h.trend,c,s),d.voice=b(h.voice,c,s),e.next=36,r({type:"save",payload:{filterObj:d}});case 36:return e.next=38,r({type:"fetchCountCard"});case 38:return e.next=40,r({type:"fetchTrendData"});case 40:return e.next=42,r({type:"fetchVoiceData"});case 42:case"end":return e.stop()}},e,null,[[13,27]])}),fetchCountCard:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.next=3,o(function(e){return e[T]});case 3:return s=e.sent,i=s.projectId,o=s.pageType,c=s.filter,s="error",e.next=10,a(u,{projectId:i,pageType:o,filterModel:c.filterValue,dateFilter:c.dateFilter});case 10:return c=e.sent,2e4===(c=c.data).code&&(s=c.result),e.next=15,r({type:"save",payload:{cardData:s}});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e)}),updateRateType:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[T]});case 4:return c=e.sent,o=c.projectId,u=c.pageType,s=c.cardData,c=a.type,e.next=11,r(l,{projectId:o,pageType:u,sameRateType:c,sameRateId:s.sameRateId});case 11:if(u=e.sent,2e4===(u=u.data).code)return e.next=16,i({type:"save",payload:{cardData:p()({},s,{sameRateType:c,sameRateId:u.result})}});e.next=18;break;case 16:return e.next=18,i({type:"fetchCountCard"});case 18:case"end":return e.stop()}},e)}),fetchTrendData:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,s=n.select,e.next=3,s(function(e){return e[T]});case 3:return c=e.sent,i=c.projectId,o=c.pageType,s=c.filter,u=c.filterObj,c="error",e.next=11,a(d,{projectId:i,pageType:o,filterModel:s.filterValue,dateFilter:p()({},s.dateFilter,{dateGroupType:u.trend})});case 11:return u=e.sent,2e4===(u=u.data).code&&(c=u.result&&0<u.result.length?u.result:"empty"),e.next=16,r({type:"save",payload:{trendData:c}});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e)}),fetchVoiceData:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,s=n.select,e.next=3,s(function(e){return e[T]});case 3:return c=e.sent,i=c.projectId,o=c.pageType,s=c.filter,u=c.filterObj,c="error",e.next=11,a(g,{projectId:i,pageType:o,filterModel:s.filterValue,dateFilter:p()({},s.dateFilter,{dateGroupType:u.voice})});case 11:return u=e.sent,2e4===(u=u.data).code&&(c=u.result&&0<u.result.length?u.result:"empty"),e.next=16,r({type:"save",payload:{voiceData:c}});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e)}),changeFilterValue:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return e[T]});case 4:return s=e.sent,i=s.filterObj,o=a.key,s=a.value,i[o]=s,e.next=10,r({type:"save",payload:{filterObj:JSON.parse(JSON.stringify(i))}});case 10:if("trend"===o)return e.next=13,r({type:"fetchTrendData"});e.next=15;break;case 13:e.next=18;break;case 15:if("voice"===o)return e.next=18,r({type:"fetchVoiceData"});e.next=18;break;case 18:case"end":return e.stop()}},e)}),setDefaultValue:m().mark(function e(t,n){var a,r,i,o,s,c,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return p()({},e)[T]});case 4:return u=e.sent,o=u.projectId,s=u.flavorObj,l=u.pageType,c=a.key,u=a.value,s[c]=u,e.prev=10,e.next=13,r(h,{projectId:a.projectId||o,pageType:a.pageType||l,value:s});case 13:if(l=e.sent,2e4===l.data.code)return e.next=18,i({type:"save",payload:{flavorObj:JSON.parse(JSON.stringify(s))}});e.next=18;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),console.log(e.t0);case 23:case"end":return e.stop()}},e,null,[[10,20]])})}}},78155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var a=n(67154),f=n.n(a),t=n(87757),h=n.n(t),a=n(64396),d=n(87219),t=n(48926),r=n.n(t),o=n(36144),s="SCENE_USER",i="PRODUCT_SCENE_USER";function u(e){return c.apply(this,arguments)}function c(){return(c=r()(h().mark(function e(t){var n,a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.chartType,i=void 0===i?"volume_count":i,e.abrupt("return",o.h.post("/scene/message/count",{projectId:n,dateFilter:a,filterModel:r,chartType:i,pageType:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return l.apply(this,arguments)}function l(){return(l=r()(h().mark(function e(t){var n,a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.chartType,i=void 0===i?"volume_count_time":i,e.abrupt("return",o.h.post("/scene/message/count/time",{projectId:n,dateFilter:a,filterModel:r,chartType:i,pageType:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return v.apply(this,arguments)}function v(){return(v=r()(h().mark(function e(t){var n,a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.chartType,i=void 0===i?"volume_count_type":i,e.abrupt("return",o.h.post("/scene/message/count/type",{projectId:n,dateFilter:a,filterModel:r,chartType:i,pageType:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=r()(h().mark(function e(t){var n,a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.sameRateType,i=t.chartType,r=void 0===i?"volume_count":i,i=t.sameRateId,e.abrupt("return",o.h.post("/scene/message/count/set",{projectId:n,sameRateType:a,chartType:r,sameRateId:i,pageType:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return b.apply(this,arguments)}function b(){return(b=r()(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return(I=r()(h().mark(function e(t){var n,a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:i,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w=n(5133),E=a.Z.product.scene.user,k={countCard:void 0,sameRateId:void 0,trendData:void 0,timeType:"",fTimeType:"",gender:void 0,age:void 0,relation:void 0,pageType:"SCENE_USER",projectId:void 0,filterModel:void 0,analysisModel:void 0,dateFilter:void 0,dateOptions:[],defaultTimeType:"DAY"};const C={namespace:E,state:Object.assign({},k),reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clean:function(){return Object.assign({},k)}},effects:{fetchParams:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return f()({},e)[E]});case 4:if(c=e.sent,o=c.filterModel,s=c.dateFilter,p=c.projectId,c=c.fTimeType,JSON.stringify(o)===JSON.stringify(a.filterModel)&&JSON.stringify(s)===JSON.stringify(a.dateFilter)&&p===a.projectId)return e.abrupt("return");e.next=11;break;case 11:return u={timeType:c||a.defaultTimeType},l={fTimeType:""},e.prev=13,e.next=16,r(x,{projectId:a.projectId});case 16:p=e.sent,2e4===(p=p.data).code&&p.result&&(l=JSON.parse(p.result),d=Object.keys(u),Object.keys(l).forEach(function(e,t){l[e]&&(u[d[t]]=l[e])})),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return["timeType"].forEach(function(t){a.dateOptions.find(function(e){return e.value===u[t]})||(u[t]=a.defaultTimeType)}),e.next=26,i({type:"save",payload:f()({},a,l,u)});case 26:return e.next=28,i({type:"fetchDatas",payload:a});case 28:case"end":return e.stop()}},e,null,[[13,21]])}),fetchDatas:h().mark(function e(t,n){var a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchCountCard",payload:a});case 4:return e.next=6,r({type:"fetchTrendData",payload:a});case 6:return e.next=8,r({type:"fetchAgeData",payload:a});case 8:return e.next=10,r({type:"fetchGenderData",payload:a});case 10:return e.next=12,r({type:"fetchRelationData",payload:a});case 12:case"end":return e.stop()}},e)}),setSameRate:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[E]});case 4:return s=e.sent,o=s.projectId,c=s.sameRateId,s=a.sameRateType,e.next=10,r(y,{projectId:o,sameRateType:s,sameRateId:c});case 10:if(c=e.sent,2e4===c.data.code)return w.Z.success("设置成功"),e.next=16,i({type:"fetchCountCard",payload:a});e.next=16;break;case 16:case"end":return e.stop()}},e)}),fetchCountCard:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[E]});case 4:return s=e.sent,o=s.projectId,c=s.dateFilter,s=s.filterModel,c={projectId:a.projectId||o,dateFilter:a.dateFilter||c,filterModel:a.filterModel||s},s="error",e.prev=10,e.next=13,r(u,c);case 13:c=e.sent,2e4===(c=c.data).code&&c.result&&(s=c.result),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.next=22,i({type:"save",payload:{countCard:s,sameRateId:s.sameRateId}});case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}},e,null,[[10,18]])}),fetchTrendData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return f()({},e)[E]});case 4:return c=e.sent,o=c.projectId,l=c.dateFilter,p=c.filterModel,s=c.timeType,c="error",e.prev=10,u=a.timeType||s,l=(0,d.ZP)(a.dateFilter||l,function(e){e.dateGroupType=u}),p={projectId:a.projectId||o,dateFilter:l,filterModel:a.filterModel||p},e.next=16,r(m,p);case 16:p=e.sent,p=p.data,c=2e4===p.code&&0<p.result.length?p.result:"empty",e.next=23;break;case 21:e.prev=21,e.t0=e.catch(10);case 23:return e.prev=23,e.next=26,i({type:"save",payload:f()({},a,{trendData:c})});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[10,21,23,27]])}),fetchGenderData:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[E]});case 4:return s=e.sent,o=s.projectId,c=s.dateFilter,s=s.filterModel,c={projectId:a.projectId||o,dateFilter:a.dateFilter||c,filterModel:a.filterModel||s},s="error",e.prev=10,e.next=13,r(p,c);case 13:c=e.sent,c=c.data,s=2e4===c.code&&0<c.result.gender.length?c.result.gender:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:{gender:s}});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),fetchAgeData:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[E]});case 4:return s=e.sent,o=s.projectId,c=s.dateFilter,s=s.filterModel,c={projectId:a.projectId||o,dateFilter:a.dateFilter||c,filterModel:a.filterModel||s},s="error",e.prev=10,e.next=13,r(p,c);case 13:c=e.sent,c=c.data,s=2e4===c.code&&0<c.result.age.length?c.result.age:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:{age:s}});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),fetchRelationData:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[E]});case 4:return s=e.sent,o=s.projectId,c=s.dateFilter,s=s.filterModel,c={projectId:a.projectId||o,dateFilter:a.dateFilter||c,filterModel:a.filterModel||s},s="error",e.prev=10,e.next=13,r(p,c);case 13:c=e.sent,c=c.data,s=2e4===c.code&&0<c.result.relation.length?c.result.relation:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:{relation:s}});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),updateFlavors:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return f()({},e)[E]});case 4:return s=e.sent,c=s.projectId,s=s.fTimeType,e.prev=7,s={fTimeType:void 0!==a.fTimeType?a.fTimeType:s},e.next=11,r(T,{projectId:c,value:JSON.stringify(s)});case 11:if(c=e.sent,2e4===c.data.code)return e.next=16,o({type:"save",payload:s});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])})}}},6861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>W});var a=n(67154),d=n.n(a),t=n(87757),f=n.n(t),a=n(64396),t=n(48926),r=n.n(t),o=n(36144),i="PRODUCT_SELF_ANALYSIS";function h(e){return s.apply(this,arguments)}function s(){return(s=r()(f().mark(function e(t){var n,a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.filterModel,r=t.dateFilter,e.abrupt("return",o.h.post("product/overview/chart/find/ASPECT2_EMOTION_QUERY",{projectId:n,filterModel:a,dateFilter:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(){return u.apply(this,arguments)}function u(){return(u=r()(f().mark(function e(t){var n,a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cartType,a=t.sameRateType,r=t.projectId,e.abrupt("return",o.h.post("/product/overview/set-same-rate",{productOverviewModule:"PRODUCT_SELF",cartType:n,sameRateType:a,projectId:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=r()(f().mark(function e(t){var n,a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,a=t.filterModel,r=t.dateFilter,i=t.sameRateType)return e.next=4,c({cartType:"USEFUL_ASPECT_COUNT_CARD",sameRateType:i,projectId:n});e.next=4;break;case 4:return e.abrupt("return",o.h.post("/product/overview/chart/find/USEFUL_ASPECT_COUNT_CARD",{projectId:n,filterModel:a,dateFilter:r,productOverviewModule:"PRODUCT_SELF"}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=r()(f().mark(function e(t){var n,a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,a=t.filterModel,r=t.dateFilter,i=t.sameRateType)return e.next=4,c({cartType:"POSITIVE_ASPECT_RATE_CARD",sameRateType:i,projectId:n});e.next=4;break;case 4:return e.abrupt("return",o.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{projectId:n,filterModel:a,dateFilter:r,productOverviewModule:"PRODUCT_SELF"}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=r()(f().mark(function e(t){var n,a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,a=t.filterModel,r=t.dateFilter,i=t.sameRateType)return e.next=4,c({cartType:"NEGATIVE_ASPECT_RATE_CARD",sameRateType:i,projectId:n});e.next=4;break;case 4:return e.abrupt("return",o.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{projectId:n,filterModel:a,dateFilter:r,productOverviewModule:"PRODUCT_SELF"}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return b.apply(this,arguments)}function b(){return(b=r()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/business_point/list",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return(I=r()(f().mark(function e(t){var n,a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.id,e.abrupt("return",o.h.post("/business_point/delete",{projectId:n,id:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e){return E.apply(this,arguments)}function E(){return(E=r()(f().mark(function e(t){var n,a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.projectId,e.abrupt("return",o.h.post("/business_point/save",{name:n,projectId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=r()(f().mark(function e(t){var n,a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.name,r=t.projectId,e.abrupt("return",o.h.post("/business_point/rename",{id:n,name:a,projectId:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return(N=r()(f().mark(function e(t){var n,a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.sortIds,e.abrupt("return",o.h.post("/business_point/sort",{projectId:n,sortIds:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e){return O.apply(this,arguments)}function O(){return(O=r()(f().mark(function e(t){var n,a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.projectId,e.abrupt("return",o.h.post("/business_point/aspect/list",{id:n,projectId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(e){return D.apply(this,arguments)}function D(){return(D=r()(f().mark(function e(t){var n,a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.projectId,r=t.name,i=t.filterList,e.abrupt("return",o.h.post("/business_point/filter/set",{id:n,projectId:a,name:r,filterList:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e){return A.apply(this,arguments)}function A(){return(A=r()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return(P=r()(f().mark(function e(t){var n,a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:i,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var F=n(5133),R=a.Z.product.selfAnalysis,z={WEEK:"周",MONTH:"月",QUATER:"季",YEAR:"年"},V={"指标声量":"usefulAspectCount","同比":"sameRate","环比":"circleRate","有效评论":"usefulCommentCount","指标提及率":"aspectMentionRate"},B={"指标好评率":"positiveAspectRate","同比":"sameRate","环比":"circleRate","正面声量":"usefulPositiveAspectCount","指标声量":"usefulAspectCount"},q={"指标差评率":"negativeAspectRate","同比":"sameRate","环比":"circleRate","负面声量":"usefulNegativeAspectCount","指标声量":"usefulAspectCount"};function U(i,o){return Object.keys(i).map(function(e,t){var n=i[e],a=n.endsWith("Rate"),r=o[n],n=null===r?null:Math.abs(r);return{name:1===t&&o.sameRateType?""+z[o.sameRateType]+e:e,count:n,format:a?"percent":"myriad",rise:r?0<r:null,compare:o.sameRateType}})}var H={chartData:void 0,isDataEmpty:!1,rateEmotionType:"",rateEmotionTypeFlavor:"",countEmotionType:"",countEmotionTypeFlavor:"",aspectCountData:void 0,posAspectRateData:void 0,negAspectRateData:void 0,businessPointList:void 0,rangedBusinessPointNames:[],configListData:void 0,projectId:void 0,analysisModel:void 0,filterModel:void 0,dateFilter:void 0};const W={namespace:R,state:Object.assign({},H),reducers:{save:function(e,t){t=t.payload;return d()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},H)}},effects:{fetchParams:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return d()({},e)[R]});case 4:if(p=e.sent,o=p.filterModel,s=p.dateFilter,c=p.analysisModel,p=p.projectId,JSON.stringify(o)===JSON.stringify(a.filterModel)&&JSON.stringify(s)===JSON.stringify(a.dateFilter)&&JSON.stringify(c)===JSON.stringify(a.analysisModel)&&p===a.projectId)return e.abrupt("return");e.next=11;break;case 11:return u={rateEmotionType:"positive",countEmotionType:"total"},l={rateEmotionTypeFlavor:"",countEmotionTypeFlavor:""},e.prev=13,e.next=16,r(M,{projectId:a.projectId});case 16:p=e.sent,2e4===(p=p.data).code&&p.result&&(l=JSON.parse(p.result)),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return l.rateEmotionTypeFlavor&&(u.rateEmotionType=l.rateEmotionTypeFlavor),l.countEmotionTypeFlavor&&(u.countEmotionType=l.countEmotionTypeFlavor),e.next=27,i({type:"save",payload:d()({},a,l,u)});case 27:return e.next=29,i({type:"fetchDatas",payload:a});case 29:case"end":return e.stop()}},e,null,[[13,21]])}),fetchDatas:f().mark(function e(t,n){var a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchBusinessPointList",payload:a});case 4:return e.next=6,r({type:"fetchAspectCount",payload:a});case 6:return e.next=8,r({type:"fetchPositiveAspectRate",payload:a});case 8:return e.next=10,r({type:"fetchNegativeAspectRate",payload:a});case 10:case"end":return e.stop()}},e)}),rangeOrFetchChartData:f().mark(function e(t,n){var a,r,i,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,e.next=4,o(function(e){return d()({},e)[R]});case 4:if(o=e.sent,i=o.chartData,o=o.businessPointList,i&&!a.shouldRefreshChart)return e.next=10,r({type:"save",payload:{businessPointList:a.businessPointList||o,chartData:a.rangedBusinessPointNames.reduce(function(e,t){var n=i.find(function(e){return e.view===t});return n&&e.push(n),e},[])}});e.next=12;break;case 10:e.next=14;break;case 12:return e.next=14,r({type:"fetchChartData",payload:d()({},a,{isDataEmpty:!!a.rangedBusinessPointNames.length})});case 14:case"end":return e.stop()}},e)}),fetchBusinessPointList:f().mark(function e(t,n){var a,r,i,o,s,c,u;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return d()({},e)[R]});case 4:return c=e.sent,u=c.projectId,s="error",c=[],e.prev=7,e.next=10,r(x,{projectId:a.projectId||u});case 10:if(u=e.sent,2e4===(u=u.data).code)return s=u.result.length?u.result:"empty",c=u.result.map(function(e){return e.name}),e.next=17,o({type:"rangeOrFetchChartData",payload:d()({},a,{rangedBusinessPointNames:c})});e.next=19;break;case 17:e.next=20;break;case 19:s="empty";case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(7);case 24:return e.prev=24,e.next=27,o({type:"save",payload:d()({},a,{businessPointList:s,rangedBusinessPointNames:c})});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[7,22,24,28]])}),fetchChartData:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return d()({},e)[R]});case 4:return u=e.sent,o=u.projectId,s=u.filterModel,p=u.dateFilter,l=u.rangedBusinessPointNames,u=!(c="error"),e.prev=10,l=a.rangedBusinessPointNames||l,e.next=14,r(h,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||p});case 14:p=e.sent,2e4===(p=p.data).code&&p.result.length?(c=p.result.reduce(function(a,r){return r.businessPoint.forEach(function(e){var t=e.id,n=e.name,e=a.find(function(e){return e.view===n});e||a.push(e={id:t,view:n,aspects:[]});t=r.positive+r.negative;e.aspects.push({total:t,aspect:r.aspect2,positive:r.positive,negative:r.negative,negRate:r.negative/t,posRate:r.positive/t,menRate:t/r.messageTotal})}),a},[]),u=void 0!==a.isDataEmpty?a.isDataEmpty:!c.length,c=c.length?l.reduce(function(e,t){var n=c.find(function(e){return e.view===t});return n&&e.push(n),e},[]):"empty"):(c="empty",u=!0),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.prev=21,e.next=24,i({type:"save",payload:d()({},a,{chartData:c,isDataEmpty:u})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[10,19,21,25]])}),fetchAspectCount:f().mark(function e(t,n){var a,r,i,o,s,c,u;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.select,r=n.call,i=n.put,e.next=4,s(function(e){return d()({},e)[R]});case 4:return c=e.sent,o=c.projectId,s=c.filterModel,u=c.dateFilter,c="error",e.prev=9,e.next=12,r(l,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||u,sameRateType:a.compareValue});case 12:u=e.sent,2e4===(u=u.data).code&&(c=U(V,u.result)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:return e.prev=20,e.next=23,i({type:"save",payload:d()({},a,{aspectCountData:c})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[9,17,20,24]])}),fetchPositiveAspectRate:f().mark(function e(t,n){var a,r,i,o,s,c,u;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.select,r=n.call,i=n.put,e.next=4,s(function(e){return d()({},e)[R]});case 4:return c=e.sent,o=c.projectId,s=c.filterModel,u=c.dateFilter,c="error",e.prev=9,e.next=12,r(m,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||u,sameRateType:a.compareValue});case 12:u=e.sent,2e4===(u=u.data).code&&(c=U(B,u.result)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:return e.prev=20,e.next=23,i({type:"save",payload:d()({},a,{posAspectRateData:c})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[9,17,20,24]])}),fetchNegativeAspectRate:f().mark(function e(t,n){var a,r,i,o,s,c,u;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.select,r=n.call,i=n.put,e.next=4,s(function(e){return d()({},e)[R]});case 4:return c=e.sent,o=c.projectId,s=c.filterModel,u=c.dateFilter,c="error",e.prev=9,e.next=12,r(y,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||u,sameRateType:a.compareValue});case 12:u=e.sent,2e4===(u=u.data).code&&(c=U(q,u.result)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:return e.prev=20,e.next=23,i({type:"save",payload:d()({},a,{negAspectRateData:c})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[9,17,20,24]])}),addBusinessPoint:f().mark(function e(t,n){var a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return d()({},e)[R]});case 4:return o=e.sent,o=o.projectId,e.prev=6,e.next=9,r(w,{projectId:a.projectId||o,name:a.name});case 9:if(s=e.sent,2e4===(s=s.data).code)return e.next=14,i({type:"fetchBusinessPointList",payload:{shouldRefreshChart:!0}});e.next=15;break;case 14:F.Z.success(s.msg);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}},e,null,[[6,17]])}),renameBusinessPoint:f().mark(function e(t,n){var a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return d()({},e)[R]});case 4:return o=e.sent,o=o.projectId,e.prev=6,e.next=9,r(k,{projectId:a.projectId||o,id:a.id,name:a.name});case 9:if(s=e.sent,2e4===(s=s.data).code)return e.next=14,i({type:"fetchBusinessPointList",payload:{shouldRefreshChart:!0}});e.next=15;break;case 14:F.Z.success(s.msg);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}},e,null,[[6,17]])}),deleteBusinessPoint:f().mark(function e(t,n){var a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return d()({},e)[R]});case 4:return o=e.sent,o=o.projectId,e.prev=6,e.next=9,r(T,{projectId:a.projectId||o,id:a.id});case 9:if(s=e.sent,2e4===(s=s.data).code)return e.next=14,i({type:"fetchBusinessPointList",payload:{shouldRefreshChart:!0}});e.next=15;break;case 14:F.Z.success(s.msg);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}},e,null,[[6,17]])}),rangeBusinessPoint:f().mark(function e(t,n){var a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return d()({},e)[R]});case 4:return s=e.sent,s=s.projectId,e.prev=6,e.next=9,r(S,{projectId:a.projectId||s,sortIds:a.rangedIds});case 9:if(s=e.sent,2e4===s.data.code)return e.next=14,o({type:"rangeOrFetchChartData",payload:{rangedBusinessPointNames:a.rangedNames,businessPointList:a.businessPointList}});e.next=14;break;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}},e,null,[[6,16]])}),fetchAspectList:f().mark(function e(t,n){var a,r,i,o,s,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return d()({},e)[R]});case 4:return s=e.sent,c=s.projectId,s="error",e.prev=7,e.next=10,r(_,{projectId:a.projectId||c,id:a.id});case 10:c=e.sent,c=c.data,s=2e4===c.code&&c.result.length?c.result:"empty",e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,o({type:"save",payload:{configListData:s}});case 20:return e.finish(17);case 21:case"end":return e.stop()}},e,null,[[7,15,17,21]])}),setAspect:f().mark(function e(t,n){var a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return d()({},e)[R]});case 4:return s=e.sent,s=s.projectId,e.prev=6,e.next=9,r(j,{projectId:a.projectId||s,id:a.id,name:a.name,filterList:a.filterList});case 9:if(s=e.sent,2e4===(s=s.data).code)return F.Z.success(s.msg),e.next=15,o({type:"fetchBusinessPointList",payload:{shouldRefreshChart:!0}});e.next=15;break;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}},e,null,[[6,17]])}),updateFlavors:f().mark(function e(t,n){var a,r,i,o,s,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return d()({},e)[R]});case 4:return s=e.sent,c=s.projectId,o=s.rateEmotionTypeFlavor,s=s.countEmotionTypeFlavor,e.prev=8,s={rateEmotionTypeFlavor:""===a.rateEmotionType||a.rateEmotionType?a.rateEmotionType:o,countEmotionTypeFlavor:""===a.countEmotionType||a.countEmotionType?a.countEmotionType:s},e.next=12,r(L,{projectId:c,value:JSON.stringify(s)});case 12:if(c=e.sent,2e4===c.data.code)return e.next=17,i({type:"save",payload:s});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}},e,null,[[8,19]])})}}},2329:(e,t,n)=>{"use strict";n.d(t,{hf:()=>r,kV:()=>i,bF:()=>o,X_:()=>s});var a=n(87219),c=n(39432),r=function(e){return 0===e||null===e?void 0:0<e},i=function(e){switch(e){case"WEEK":return"周";case"MONTH":return"月";case"QUATER":return"季";case"YEAR":return"年";default:return""}},o=function(e){var t=e.some(function(e){return"DEFAULT"===e.id})&&e.find(function(e){return"DEFAULT"===e.id}).values.some(function(e){return"SOURCE"===e.id}),n=e.some(function(e){return"TAG_RULE"===e.id})&&e.find(function(e){return"TAG_RULE"===e.id}).values,a=e.some(function(e){return"CONFIG"===e.id})&&e.find(function(e){return"CONFIG"===e.id}).values,r={};return a&&(r.connConfig=a.map(function(e){return{id:e.id,values:e.values}})),t&&(r.source=e.find(function(e){return"DEFAULT"===e.id}).values.find(function(e){return"SOURCE"===e.id}).values),n&&(r.tag=n.map(function(e){return{id:e.id,special:"tag",values:e.values}})),r};var s=function(e,t,i,o,s){return"line"===e&&o instanceof Array&&0<o.length?(0,a.ZP)(t,function(e){var t,n=(0,c.LV)(i,s),a=n.from,r=n.to;"DAY"!==s&&"HOUR"!==s&&(JSON.stringify(i)===JSON.stringify(o[0])?a=e.from:JSON.stringify(i)===JSON.stringify(o[o.length-1])&&(r=e.to)),e.from=a,e.to=r,e.numOfDays=(t=r,n=a,t=Date.parse(r),n=Date.parse(n),n=Math.abs(t-n),Math.floor(n/864e5)+1),e.quickChoice=a.replaceAll("-",".")+" - "+r.replaceAll("-",".")}):t}},31313:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67154),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_services__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(90096),public_storage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(35239),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(90355),public_dva_names__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(64396),namespace=public_dva_names__WEBPACK_IMPORTED_MODULE_5__.Z.project.warningEdit;const __WEBPACK_DEFAULT_EXPORT__={namespace:namespace,state:{isEdit:!1,changed:!1,title:"",description:"",formRule:{filterModel:{filter:{},analysis:{},aspect:{aspect1:[],aspect2:[]}},filterValue:[],calType:"PERCENT",min:100,dateRangeType:"LAST_SENVEN_DAYS",ruleDetail:[],ruleDetailCopy:[]},formPush:{receiverTeamIdList:[],receiverUserIdList:[],combined:!0,interval:18e5,workType:"weekday",repeatType:!0},teamList:[],userList:[]},effects:{analysisChange:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r,i,o;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e)[namespace]});case 4:return o=e.sent,(i=o.formRule).filterModel.analysis=a.value,(o=JSON.parse(JSON.stringify(i.filterModel.analysis))).values=o.values.map(function(e){return e.id}),o.special=o.type,delete o.type,i.filterValue=[o],e.next=14,r({type:"save",payload:{formRule:JSON.parse(JSON.stringify(i)),changed:!0}});case 14:case"end":return e.stop()}},e)}),formRuleChange:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function formRuleChange(_ref4,_ref5){var payload,put,select,_yield$select2,formRule,path,copy,competeVal,value;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function formRuleChange$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return payload=_ref4.payload,put=_ref5.put,select=_ref5.select,_context2.next=4,select(function(e){return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e)[namespace]});case 4:if(_yield$select2=_context2.sent,formRule=_yield$select2.formRule,path=payload.key.reduce(function(e,t){return e+"."+t},"formRule"),eval(path+"=payload.value"),"calType"===payload.key[0]&&(copy=JSON.parse(JSON.stringify(formRule.ruleDetailCopy)),formRule.ruleDetailCopy=JSON.parse(JSON.stringify(formRule.ruleDetail)),formRule.ruleDetail=copy),"filterModel"===payload.key[0]&&payload.key[1]&&"aspect"===payload.key[1]&&(competeVal=function(n,a){return(payload.value.aspect1.length&&payload.value.aspect1||payload.value.aspect2).map(function(t){var e=formRule[n].filter(function(e){return e.name===t})[0];return{name:t,value:e?e.value:a?"20":"200"}})},formRule.ruleDetail=competeVal("ruleDetail","PERCENT"===formRule.calType),formRule.ruleDetailCopy=competeVal("ruleDetailCopy","PERCENT"!==formRule.calType)),"dateRangeType"!==payload.key[0]){_context2.next=21;break}_context2.t0=payload.value,_context2.next="CURRENT_DAY"===_context2.t0?14:"LAST_THREE_DAYS"===_context2.t0?16:18;break;case 14:return value=30,_context2.abrupt("break",20);case 16:return value=50,_context2.abrupt("break",20);case 18:return value=100,_context2.abrupt("break",20);case 20:formRule.min=value;case 21:return _context2.next=23,put({type:"save",payload:{formRule:JSON.parse(JSON.stringify(formRule)),changed:!payload.noChange}});case 23:case"end":return _context2.stop()}},formRuleChange)}),formPushChange:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r,i;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e)[namespace]});case 4:return i=e.sent,(i=i.formPush)[a.key]=a.value,e.next=9,r({type:"save",payload:{formPush:JSON.parse(JSON.stringify(i)),changed:!0}});case 9:case"end":return e.stop()}},e)}),fetchUserList:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.call,e.next=3,r(_services__WEBPACK_IMPORTED_MODULE_2__.mE,{projectId:public_storage__WEBPACK_IMPORTED_MODULE_3__.t.get(public_storage__WEBPACK_IMPORTED_MODULE_3__.V.backProjectConfig).id});case 3:return r=e.sent,e.next=6,a({type:"save",payload:{teamList:r.data.result.team,userList:r.data.result.user}});case 6:case"end":return e.stop()}},e)}),getWarning:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r,i,o,s,c;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,a=n.put,n.select,o=n.call,e.next=4,o(_services__WEBPACK_IMPORTED_MODULE_2__.f4,{id:s.id});case 4:return r=e.sent,c=(0,_utils__WEBPACK_IMPORTED_MODULE_4__.EH)(r.data.result),i=c.formRule,o=c.formPush,s=c.title,c=c.description,e.next=8,a({type:"save",payload:{formRule:i,formPush:o,title:s,description:c}});case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e)}),submit:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r,i,o,s,c,u;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,s=n.select,r=n.call,e.next=4,s(function(e){return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e)[namespace]});case 4:return c=e.sent,i=c.title,o=c.description,s=c.formRule,c=c.formPush,e.prev=9,e.next=12,r(_services__WEBPACK_IMPORTED_MODULE_2__.GX,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},(0,_utils__WEBPACK_IMPORTED_MODULE_4__.Hr)(JSON.parse(JSON.stringify(s)),JSON.parse(JSON.stringify(c))),{title:i.trim(),description:o.trim(),projectId:public_storage__WEBPACK_IMPORTED_MODULE_3__.t.get(public_storage__WEBPACK_IMPORTED_MODULE_3__.V.backProjectConfig).id}));case 12:return u=e.sent,e.next=15,a({type:"save",payload:{changed:!1}});case 15:return e.abrupt("return",u);case 18:return e.prev=18,e.t0=e.catch(9),log(e.t0),e.abrupt("return",!1);case 22:case"end":return e.stop()}},e,null,[[9,18]])}),update:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r,i,o,s,c;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,i=n.call,e.next=4,o(function(e){return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e)[namespace]});case 4:return s=e.sent,s.title,s.description,o=s.formRule,s=s.formPush,e.prev=9,e.next=12,i(_services__WEBPACK_IMPORTED_MODULE_2__.Vx,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},(0,_utils__WEBPACK_IMPORTED_MODULE_4__.Hr)(o,s),{projectId:public_storage__WEBPACK_IMPORTED_MODULE_3__.t.get(public_storage__WEBPACK_IMPORTED_MODULE_3__.V.backProjectConfig).id,id:a.id}));case 12:return c=e.sent,e.next=15,r({type:"save",payload:{changed:!1}});case 15:return e.abrupt("return",c);case 18:return e.prev=18,e.t0=e.catch(9),log(e.t0),e.abrupt("return",!1);case 22:case"end":return e.stop()}},e,null,[[9,18]])}),saveInfo:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"save",payload:a});case 4:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e,t)}}}},90096:(e,t,n)=>{"use strict";n.d(t,{mE:()=>function(e){e=e.projectId;return r.h.post("/filter/find",{type:"INBOX",filterTypes:["USER","TEAM"],projectId:e})},GX:()=>function(e){return r.h.post("/warning/project/aspect/add",a()({},e))},Vx:()=>function(e){return r.h.post("/warning/project/aspect/update",a()({},e))},f4:()=>function(e){return r.h.post("/warning/project/aspect/find",a()({},e))}});var t=n(67154),a=n.n(t),r=n(36144)},90355:(e,t,n)=>{"use strict";n.d(t,{Hr:()=>function(e,t){var n=e.filterModel.aspect.aspect1.length?"ASPECT1":"ASPECT2",a=e.ruleDetail.map(function(e){return{aspectType:n,aspectName:e.name,threshold:e.value}});e.filterModel.analysis.values=e.filterModel.analysis.values.map(function(e){return e.id}),"connConfig"===e.filterModel.analysis.type&&(e.filterModel.analysis.type="CONN_CONFIG");"expandTopic"===e.filterModel.analysis.type&&(e.filterModel.analysis.type="EXPAND_TOPIC");"source"===e.filterModel.analysis.type&&(e.filterModel.analysis.type="SOURCE");"tag"===e.filterModel.analysis.type&&(e.filterModel.analysis.type="TAG");return{interval:t.interval,receiverTeamIdList:t.receiverTeamIdList,receiverUserIdList:t.receiverUserIdList,filterModel:r()({},e.filterModel,e.filterModel.filter),conditionModel:{min:"PERCENT"===e.calType?e.min:0,combined:!(1<e.ruleDetail.length)||t.combined,calType:e.calType,repeatType:t.repeatType?"ENABLE":"DISABLE",workType:o[t.workType],dateRangeType:e.dateRangeType},projectAspectWarningThresholdModelList:a}},EH:()=>function(e){var n=[];return Object.keys(e.filterModel).forEach(function(t){"connConfig"!==t&&"tag"!==t||e.filterModel[t]&&e.filterModel[t].forEach(function(e){return n.push({id:e.id,values:e.values,special:t})}),"escore"===t&&e.filterModel[t]&&n.push({id:"escore",values:e.filterModel[t],special:"escore"}),"source"===t&&e.filterModel[t]&&n.push({id:"source",values:e.filterModel[t],special:"source"})}),e.filterModel.analysis.values=e.filterModel.analysis.values.map(function(e){return{id:e,sel:!0}}),{formRule:{filterModel:{filter:{connConfig:e.filterModel.connConfig,tag:e.filterModel.tag,source:e.filterModel.source,escore:e.filterModel.escore},analysis:e.filterModel.analysis,aspect:e.filterModel.aspect},filterValue:n,calType:e.conditionModel.calType,min:e.conditionModel.min,dateRangeType:e.conditionModel.dateRangeType,ruleDetail:e.projectAspectWarningThresholdModelList?e.projectAspectWarningThresholdModelList.map(function(e){return{name:e.aspectName,value:e.threshold}}):[],ruleDetailCopy:[]},formPush:{receiverTeamIdList:e.receiverTeamList?e.receiverTeamList.map(function(e){return e.id}):[],receiverUserIdList:e.receiverUserList?e.receiverUserList.map(function(e){return e.id}):[],combined:void 0===e.conditionModel.combined||e.conditionModel.combined,interval:e.interval,workType:"08:00:00"===e.conditionModel.workType.start?"weekday":"00:00:00"===e.conditionModel.workType.start?"all":"",repeatType:"ENABLE"===e.conditionModel.repeatType},title:e.title,description:e.description}},uT:()=>i});var t=n(67154),r=n.n(t),a=n(35239),i=function(e){var t=e.title,e=e.url;return[{title:"所有项目",url:"/account/project"},{title:a.t.get(a.V.backProjectConfig).name,url:"/account/project/preview"},{title:"预警管理",url:"/account/project/alert"},{title:t,url:e}]},o={weekday:{start:"08:00:00",end:"22:00:00",weekDayList:["MON","TUES","WED","THUR","FRI"]},all:{start:"00:00:00",end:"23:59:00",weekDayList:["MON","TUES","WED","THUR","FRI","SAT","SUN"]}}},31290:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),s=n.n(t),t=n(87757),c=n.n(t),t=n(64396),a=n(36144);function u(e){e=e.projectId;return a.h.post("/overall-aspect/list",{projectId:e})}var t=t.Z.productExperience.aspectSystem.global,r={projectId:void 0,aspectList:void 0};const i={namespace:t,state:Object.assign({},r),reducers:{save:function(e,t){t=t.payload;return s()({},e,t)},clean:function(){return Object.assign({},r)}},effects:{fetchAspectData:c().mark(function e(t,n){var a,r,i,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,r=n.put,n.select,i="error",e.prev=3,e.next=6,o(u,{projectId:a.projectId});case 6:o=e.sent,2e4===(o=o.data).code&&(i=o.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,r({type:"save",payload:s()({},a,{aspectList:i})});case 16:return e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,11,13,17]])})}}},85027:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),a=n.n(t),t=n(87757),l=n.n(t),o=n(36144);function u(e){e=e.id;return o.h.post("/overall/aspect/tree/node/list",{id:e})}function p(e){var t=e.level,n=e.module,a=e.name,r=e.projectId,i=e.tree,e=e.id;return o.h.post(e?"/overall/aspect/tree/update":"/overall/aspect/tree/add",{level:t,module:n,name:a,projectId:r,tree:i,id:e})}function d(e){e=e.projectId;return o.h.post("/overall/aspect/node/list",{projectId:e})}function c(e){e=e.projectId;return o.h.post("/overall-aspect/list",{projectId:e})}var f=n(36490),h=n(64396).Z.productExperience.aspectSystem.treeEdit,r={projectId:void 0,curSelectNode:{},maxLevel:0,data:{},showTree:!1,id:void 0,name:void 0,moduleName:void 0,module:void 0,msgList:[],indexList:void 0,msgTypeList:void 0};const i={namespace:h,state:JSON.parse(JSON.stringify(r)),effects:{fetchTree:l().mark(function e(t,n){var a,r,i,o,s,c;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,r=n.select,i=n.call,e.next=4,r(function(e){return e[h]});case 4:return o=e.sent,c=o.id,e.next=8,i(u,{id:c});case 8:return s=e.sent,o=s.data.result,c=(0,f.j)(o.tree),s=c.data,c=c.maxLevel,e.next=13,a({type:"save",payload:{data:s,maxLevel:c,showTree:!0,module:o.module,name:o.name}});case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}},e)}),fetchNodeList:l().mark(function e(t,n){var a,r,i,o,s,c;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,r=n.select,i=n.call,e.next=4,r(function(e){return e[h]});case 4:return o=e.sent,c=o.projectId,o="error",e.prev=7,e.next=10,i(d,{projectId:c});case 10:c=e.sent,0<(c=c.data.result).length?(o=c.map(function(e){return{id:e.id,name:e.ytName,categoryRates:e.categoryRates}}),s=(0,f.K)(c)):o="empty",e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,a({type:"save",payload:{indexList:o,msgTypeList:s}});case 20:return e.finish(17);case 21:case"end":return e.stop()}},e,null,[[7,15,17,21]])}),fetchMsgType:l().mark(function e(t,n){var a,r,i,o,s;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.select,i=n.call,e.next=3,r(function(e){return e[h]});case 3:return o=e.sent,s=o.projectId,o=[],e.prev=6,e.next=9,i(c,{projectId:s});case 9:s=e.sent,0<(s=s.data.result).length&&(o=s[0].categoryRates.map(function(e){return{id:e.category,name:e.categoryName}})),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:return e.prev=16,e.next=19,a({type:"save",payload:{msgList:o}});case 19:return e.finish(16);case 20:case"end":return e.stop()}},e,null,[[6,14,16,20]])}),saveTree:l().mark(function e(t,n){var a,r,i,o,s,c,u;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.put,c=n.select,a=n.call,e.next=3,c(function(e){return e[h]});case 3:return u=e.sent,r=u.id,i=u.projectId,o=u.maxLevel,s=u.data,c=u.module,u=u.name,e.next=12,a(p,{id:r,projectId:i,level:o,tree:(0,f.y8)(s),module:c,name:u});case 12:return u=e.sent,u=u.data,e.abrupt("return",u);case 15:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return a()({},e,t)},clean:function(){return JSON.parse(JSON.stringify(r))},curSelectChange:function(e,t){t=t.payload;return a()({},e,{curSelectNode:t.curSelect})},dataChange:function(e,t){t=t.payload;return a()({},e,{data:t.data})}}}},36490:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>getIndexListType,iU:()=>getSelectMsgType,j:()=>formartServerToFrontData,WS:()=>leafNodeName,bc:()=>levelBgColor,$W:()=>levelTofont,$P:()=>setNodeStyle,h1:()=>levelName,kp:()=>createNewTree,XV:()=>getAllSelectedIndex,Dz:()=>testTree,y8:()=>formartFrontToServerData});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67154),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),leafNodeName="请选择",levelBgColor=["#61799B","#BEE1F9","#F6EBB9","#FFDAC5","#8DEBD5","#B6D1FE","#FED5DA","#ADF1F1"],levelHoverBorderColor=["#0C1B2F","#1574B3","#CDB446","#D07B49","#1EA082","#3D85FF","#D8727F","#0E97AD"],levelTofont=["零","一","二","三","四","五","六","七"],levelName=["根节点","一级指标","二级指标","三级指标","四级指标","五级指标","六级指标","七级指标"],setNodeStyle=function(e,t){return e.style=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e.style,{"background-color":levelBgColor[e.level!==t?e.level:levelBgColor.length-1],hover_border_color:levelHoverBorderColor[e.level!==t?e.level:levelBgColor.length-1]}),e};function createNewTree(e,a){e={id:"root",isroot:!0,topic:e,level:0};return function e(t,n){t.children=[{id:n,level:n,isroot:!1,topic:Number(n)===Number(a)?leafNodeName:levelTofont[n]+"级指标1"}],n<a&&e(t.children[0],n+1)}(e,1),function e(t){setNodeStyle(t,a),t.style["border-radius"]=t.level===a?"14px":"4px",t.children&&t.children.forEach(e)}(e),e}function formartServerToFrontData(e){e.id="root";function t(e){setNodeStyle(e,a),e.children&&e.children.forEach(t)}var a=0;return function t(n,e){n.level=e?e.level+1:0,n.level>a&&(a=n.level),n.children&&n.children.forEach(function(e){return t(e,n)})}(e),t(e),{data:e,maxLevel:a}}function formartFrontToServerData(e){return e}function getAllSelectedIndex(e){var n=new Set;return function e(t){t.children&&t.children.length?t.children.forEach(e):t.topic!==leafNodeName&&n.add(t.topic)}(e),Array.from(n)}function getIndexListType(e){return e.reduce(function(t,n){return n.categoryRates.forEach(function(e){t[e.category]?t[e.category].push(n.ytName):t[e.category]=[n.ytName]}),t},{})}function getSelectMsgType(e,t,n){if(e&&0<e.length){var a=[];return e.forEach(function(e){t[e]&&a.push.apply(a,t[e])}),Array.from(new Set(a))}return n.map(function(e){return e.name})}var testTree=function testTree(tree){var r=!0,t=function t(a){a.children||!eval("/^"+leafNodeName+"$/").test(a.topic)?a.children&&a.children.forEach(function(e){t(e)}):r=!1};return t(tree),r}},23413:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),i=n(36144);function f(e){var t=e.projectId,n=e.name,a=e.moduleList,r=e.pageIndex,e=e.pageSize;return i.h.post("/overall/aspect/tree/list",{projectId:t,name:n,moduleList:a,pageIndex:r,pageSize:e})}function c(e){e=e.projectId;return i.h.post("/filter/module/find",{projectId:e})}function u(e){var t=e.id,e=e.name;return i.h.post("/overall/aspect/tree/rename",{id:t,name:e})}var l=n(5133),h=n(64396).Z.productExperience.aspectSystem.tree,a={name:"",pageSize:10,pageIndex:1,moduleList:void 0,typeNameList:[],data:void 0,projectId:void 0};const r={namespace:h,state:JSON.parse(JSON.stringify(a)),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchTreeList:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return p()({},e)[h]});case 4:return c=e.sent,o=c.pageIndex,l=c.pageSize,u=c.moduleList,s=c.projectId,c="error",u=a.moduleList||u,e.prev=11,l={projectId:a.projectId||s,name:a.name,pageIndex:a.pageIndex||o,pageSize:a.pageSize||l},u&&0<u.length&&(l.moduleList=u),e.next=16,r(f,l);case 16:l=e.sent,l=l.data,c=2e4===l.code&&0<l.result.total?l.result:"empty",e.next=23;break;case 21:e.prev=21,e.t0=e.catch(11);case 23:return e.prev=23,e.next=26,i({type:"save",payload:p()({},a,{data:c})});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[11,21,23,27]])}),fetchModuleNameList:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return p()({},e)[h]});case 4:return s=e.sent,s=s.projectId,e.prev=6,e.next=9,r(c,{projectId:a.projectId||s});case 9:if(s=e.sent,2e4===(s=s.data).code)return e.next=14,o({type:"save",payload:{typeNameList:s.result}});e.next=14;break;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}},e,null,[[6,16]])}),editTree:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return p()({},e)[h]});case 4:return c=e.sent,s=c.name,e.prev=6,e.next=9,r(u,a);case 9:if(c=e.sent,2e4===(c=c.data).code)return l.Z.success(c.msg),e.next=15,o({type:"fetchTreeList",payload:{pageIndex:1,name:s}});e.next=15;break;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}},e,null,[[6,17]])})}}},45039:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var a=n(67154),p=n.n(a),t=n(87757),d=n.n(t),a=n(64396),t=n(48926),r=n.n(t),l=n(36144);function u(e){return i.apply(this,arguments)}function i(){return(i=r()(d().mark(function e(t){var n,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,a=t.valueFrom,e.abrupt("return",l.h.post("/subscribe-topic/find/topicValue",{type:n,valueFrom:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return o.apply(this,arguments)}function o(){return(o=r()(d().mark(function e(t){var n,a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,a=t.id,r=t.valueFrom,e.abrupt("return",l.h.post("/subscribe-topic/find/group",{type:n,id:a,valueFrom:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return s.apply(this,arguments)}function s(){return(s=r()(d().mark(function e(t){var n,a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.type,r=t.spuId,i=t.name,o=t.split,s=t.projectId,c=t.valueFrom,u=t.configList,e.abrupt("return",l.h.post("/subscribe-topic/add/group",{id:n,type:a,spuId:r,name:i,split:o,projectId:s,valueFrom:c,configList:u}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return c.apply(this,arguments)}function c(){return(c=r()(d().mark(function e(t){var n,a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ytIndustryTopicId,a=t.value,r=t.projectId,e.abrupt("return",l.h.post("/subscribe-topic/add/topicValue",{ytIndustryTopicId:n,value:a,projectId:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var v=n(5133),y=a.Z.product.setting.base.entryDrawer,g={type:"",split:"",topicList:void 0,compose:void 0,spuId:void 0,valueFrom:void 0};const x={namespace:y,state:Object.assign({},g),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clean:function(){return Object.assign({},g)}},effects:{fetchTopic:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return p()({},e)[y]});case 4:return s=e.sent,o=s.valueFrom,s=s.type,e.next=9,i(u,{valueFrom:a.valueFrom||o,type:a.type||s});case 9:if(c=e.sent,2e4===(c=c.data).code)return e.next=14,r({type:"save",payload:p()({},a,{split:"plus"===c.result.split?"+":"comma"===c.result.split?"、":"dash"===c.result.split?"-":" ",compose:c.result.compose,topicList:c.result.topicList})});e.next=14;break;case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}},e)}),fetchTopicValue:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,s=n.select,e.next=4,s(function(e){return p()({},e)[y]});case 4:return s=e.sent,c=s.type,o=s.topicList,s=s.valueFrom,e.next=10,i(f,{valueFrom:a.valueFrom||s,id:a.id,type:a.type||c});case 10:if(c=e.sent,2e4===(u=c.data).code)return l={},o.forEach(function(t,e){l["value"+e]=u.result.configList.some(function(e){return e.topicId===t.id})?u.result.configList.find(function(e){return e.topicId===t.id}).topicValueIds:[t.list.find(function(e){return e.name.includes("(空白)")}).id],l["oriValue"+e]=u.result.configList.some(function(e){return e.topicId===t.id})?u.result.configList.find(function(e){return e.topicId===t.id}).topicValueIds:[t.list.find(function(e){return e.name.includes("(空白)")}).id],l["title"+e]=u.result.configList.some(function(e){return e.topicId===t.id})?u.result.configList.find(function(e){return e.topicId===t.id}).topicValues:["(空白)"],l["oriTitle"+e]=u.result.configList.some(function(e){return e.topicId===t.id})?u.result.configList.find(function(e){return e.topicId===t.id}).topicValues:["(空白)"]}),e.next=17,r({type:"save",payload:p()({},l,{formatType:"plus"===u.result.split?"+":" "})});e.next=17;break;case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}},e)}),editTopic:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=a.index,e.next=5,r({type:"save",payload:((r={})["value"+i]=a["value"+i],r["title"+i]=a["title"+i],r)});case 5:case"end":return e.stop()}},e)}),fetchAdd:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.put,r=n.call,c=n.select,e.next=4,c(function(e){return p()({},e)[y]});case 4:return s=e.sent,i=s.valueFrom,o=s.type,c=s.split,s={},e.prev=9,c=p()({valueFrom:i,type:o,split:" "===c?"space":"+"===c?"plus":"、"===c?"comma":"-"===c?"dash":"space"},a),e.next=13,r(h,c);case 13:2e4===(s=e.sent).data.code&&(v.Z.success("操作成功"),a.callback&&a.callback()),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}},e,null,[[9,17]])}),fetchAddTopic:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return p()({},e)[y]});case 4:return c=e.sent,s=c.valueFrom,c=c.type,e.next=9,i(m,{projectId:s,ytIndustryTopicId:a.ytIndustryTopicId,value:a.value});case 9:if(u=e.sent,2e4===(u=u.data).code)return e.next=14,r({type:"fetchTopic",payload:{valueFrom:s,type:c}});e.next=14;break;case 14:return e.abrupt("return",u);case 15:case"end":return e.stop()}},e)})}}},91903:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(67154),h=n.n(a),t=n(87757),m=n.n(t),a=n(64396),l=n(5133),t=n(48926),r=n.n(t),u=n(36144);function v(e){return i.apply(this,arguments)}function i(){return(i=r()(m().mark(function e(t){var n,a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectIds,a=t.pageIndex,r=t.pageSize,i=t.name,o=t.type,s=t.spuId,c=t.valueFrom,e.abrupt("return",u.h.post("/subscribe-topic/list/group",{projectIds:n,pageIndex:a,pageSize:r,name:i,type:o,spuId:s,valueFrom:c}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return o.apply(this,arguments)}function o(){return(o=r()(m().mark(function e(t){var n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ids,e.abrupt("return",u.h.post("/subscribe-topic/delete/group",{ids:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var y=a.Z.product.setting.base.sku,s={name:"",total:0,pageIndex:1,pageSize:10,entryList:void 0,type:"SKU",spuId:void 0,drawerVisible:!1,projectId:void 0,projectIds:[]};const c={namespace:y,state:Object.assign({},s),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(){return Object.assign({},s)}},effects:{fetchList:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,l=n.select,e.next=4,l(function(e){return h()({},e)[y]});case 4:return d=e.sent,o=d.pageIndex,s=d.pageSize,c=d.projectId,u=d.spuId,l=d.type,f=d.projectIds,p="error",d=0,e.prev=12,f={name:a.name,pageIndex:a.pageIndex||o,pageSize:a.pageSize||s,valueFrom:a.projectId||c,spuId:a.spuId||u,type:a.type||l,projectIds:a.projectIds||f},e.next=16,i(v,f);case 16:f=e.sent,2e4===(f=f.data).code&&0<f.result.count?(p=f.result.result,d=f.result.count):p=[],e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),console.log(e.t0);case 24:return e.prev=24,e.next=27,r({type:"save",payload:h()({},a,{entryList:p,total:d})});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[12,21,24,28]])}),fetchDelete:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return h()({},e)[y]});case 4:return u=e.sent,s=u.name,c=u.type,e.prev=7,e.next=10,i(p,a);case 10:if(u=e.sent,2e4===u.data.code)return l.Z.success("操作成功"),e.next=16,r({type:"fetchList",payload:{name:s,type:c}});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])})}}},47911:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(67154),f=n.n(a),t=n(87757),h=n.n(t),a=n(64396),l=n(5133),t=n(48926),r=n.n(t),u=n(36144);function m(e){return i.apply(this,arguments)}function i(){return(i=r()(h().mark(function e(t){var n,a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectIds,a=t.pageIndex,r=t.pageSize,i=t.name,o=t.type,s=t.spuId,c=t.valueFrom,e.abrupt("return",u.h.post("/subscribe-topic/list/group",{projectIds:n,pageIndex:a,pageSize:r,name:i,type:o,spuId:s,valueFrom:c}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return o.apply(this,arguments)}function o(){return(o=r()(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ids,e.abrupt("return",u.h.post("/subscribe-topic/delete/group",{ids:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var v=a.Z.product.setting.base.spu,s={name:"",total:0,pageIndex:1,pageSize:10,entryList:void 0,type:"SPU",drawerVisible:!1,projectId:void 0,projectIds:[]};const c={namespace:v,state:Object.assign({},s),reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clean:function(){return Object.assign({},s)}},effects:{fetchList:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,u=n.select,e.next=4,u(function(e){return f()({},e)[v]});case 4:return p=e.sent,o=p.pageIndex,s=p.pageSize,c=p.projectId,u=p.type,d=p.projectIds,l="error",p=0,e.prev=11,d={name:a.name,pageIndex:a.pageIndex||o,pageSize:a.pageSize||s,valueFrom:a.projectId||c,type:a.type||u,projectIds:a.projectIds||d},e.next=15,i(m,d);case 15:d=e.sent,2e4===(d=d.data).code&&0<d.result.count?(l=d.result.result,p=d.result.count):l=[],e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),console.log(e.t0);case 23:return e.prev=23,e.next=26,r({type:"save",payload:f()({},a,{entryList:l,total:p})});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[11,20,23,27]])}),fetchDelete:h().mark(function e(t,n){var a,r,i,o,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return f()({},e)[v]});case 4:return u=e.sent,s=u.name,c=u.type,e.prev=7,e.next=10,i(p,a);case 10:if(u=e.sent,2e4===u.data.code)return l.Z.success("操作成功"),e.next=16,r({type:"fetchList",payload:{name:s,type:c}});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])})}}},55988:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var t=n(67154),d=n.n(t),t=n(87757),f=n.n(t),t=n(48926),a=n.n(t),c=n(36144);function h(e){return r.apply(this,arguments)}function r(){return(r=a()(f().mark(function e(t){var n,a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.batchNo,e.abrupt("return",c.h.post("/maintainedConnection/list",{projectId:n,batchNo:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return i.apply(this,arguments)}function i(){return(i=a()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",c.h.post("/maintainedConnection/remove",{id:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(e){return s.apply(this,arguments)}function s(){return(s=a()(f().mark(function e(t){var n,a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.spuGroupId,r=t.spuGroupName,i=t.skuGroupId,o=t.skuGroupName,s=t.customizeConfig,e.abrupt("return",c.h.post("/maintainedConnection/addConnection",{id:n,spuGroupId:a,spuGroupName:r,skuGroupId:i,skuGroupName:o,customizeConfig:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=a()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=a()(f().mark(function e(t){var n,a,r,i,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,o=t.pageSize,a=void 0===o?100:o,i=t.pageIndex,r=void 0===i?1:i,o=t.name,i=void 0===o?"":o,o=t.valueFrom,e.abrupt("return",c.h.post("/subscribe-topic/list",{projectId:n,pageIndex:r,pageSize:a,name:i,valueFrom:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=a()(f().mark(function e(t){var n,a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,i=t.valueFrom,s=t.pageSize,o=void 0===s?1e3:s,s=t.pageIndex,s=void 0===s?1:s,e.abrupt("return",c.h.post("/subscribe-topic-value/list",{projectId:n,topicId:a,value:r,valueFrom:i,pageSize:o,pageIndex:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return b.apply(this,arguments)}function b(){return(b=a()(f().mark(function e(t){var n,a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,e.abrupt("return",c.h.post("/subscribe-topic-value/add",{projectId:n,topicId:a,value:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var T=n(35239),t=n(64396),I=n(5133),w=t.Z.project.connection.maintainList,E={isEdit:!1,dataList:void 0,spuList:void 0,skuList:void 0,projectId:void 0,batchNo:""};const k={namespace:w,state:Object.assign({},E),reducers:{save:function(e,t){t=t.payload;return d()({},e,t)},clean:function(){return Object.assign({},E)}},effects:{fetchLinkList:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return d()({},e)[w]});case 4:if(p=e.sent,s=p.projectId,c=p.batchNo,u=p.isEdit,l=[],!a.batchNo&&!c&&T.t.getWidthProject(T.V.connectionLinkMaintainList,"session")&&T.t.getWidthProject(T.V.connectionLinkMaintainList,"session").length)return e.abrupt("return");e.next=11;break;case 11:return e.prev=11,e.next=14,i(h,{projectId:a&&a.projectId?a.projectId:s,batchNo:a&&a.batchNo?a.batchNo:c});case 14:p=e.sent,2e4===(p=p.data).code&&p.result&&(T.t.setWidthProject(T.V.connectionLinkMaintainList,p.result,"session"),l=p.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,r({type:"save",payload:{isEdit:!u,batchNo:a&&a.batchNo?a.batchNo:c,dataList:l}});case 24:return e.finish(21);case 25:return e.abrupt("return",l);case 26:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchAdd:f().mark(function e(t,n){var a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.put,r=n.call,i=n.select,e.next=4,i(function(e){return d()({},e)[w]});case 4:return i=e.sent,i.projectId,e.next=8,r(o,d()({},a));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}),fetchEntryOpts:f().mark(function e(t,n){var a,r,i,o,s,c,u;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return d()({},e)[w]});case 4:return c=e.sent,s=c.projectId,c=c.batchNo,e.prev=7,e.next=10,r(l,{projectId:a.projectId||s});case 10:if(u=e.sent,2e4!==(u=u.data).code){e.next=19;break}if(T.t.remove(T.V.newEntry),a.id||void 0===a.batchNo){e.next=17;break}return e.next=17,o({type:"fetchLinkList",payload:{projectId:a.projectId||s,batchNo:a.batchNo||c}});case 17:return e.next=19,o({type:"save",payload:d()({},a,{spuList:u.result.spuList,skuList:u.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}},e,null,[[7,21]])}),fetchDelete:f().mark(function e(t,n){var a,r,i,o,s,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return d()({},e)[w]});case 4:return c=e.sent,s=c.isEdit,e.prev=6,e.next=9,r(u,{id:a.id});case 9:if(c=e.sent,2e4===(c=c.data).code&&c.result)return I.Z.success("操作成功"),T.t.setWidthProject(T.V.connectionLinkMaintainList,c.result,"session"),e.next=16,o({type:"save",payload:{isEdit:!s,dataList:c.result}});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(6);case 20:case"end":return e.stop()}},e,null,[[6,18]])}),fetchTopicOpts:f().mark(function e(t,n){var a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.select,i=n.put,e.next=3,r(function(e){return d()({},e)[w]});case 3:return o=e.sent,s=o.projectId,o=[],e.prev=6,e.next=9,a(m,{projectId:s,valueFrom:[s]});case 9:s=e.sent,2e4===(s=s.data).code&&(o=s.result.result.filter(function(e){return"USER_CUSTOMIZE"===e.topicType})),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:return e.prev=16,e.next=19,i({type:"save",payload:{topicOpts:o}});case 19:return e.finish(16);case 20:return e.abrupt("return",o);case 21:case"end":return e.stop()}},e,null,[[6,14,16,20]])}),fetchTopicValue:f().mark(function e(t,n){var a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.select,n.put,e.next=4,r(y,{projectId:a.projectId,valueFrom:[a.projectId],topicId:a.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),fetchAddTopicValue:f().mark(function e(t,n){var a,r,i,o,s,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return d()({},e)[w]});case 4:return s=e.sent,s=s.projectId,e.next=8,r(x,{projectId:s,topicId:a.topicId,value:a.value});case 8:if(c=e.sent,2e4===(c=c.data).code)return e.next=13,o({type:"fetchTopicValue",payload:{projectId:s,topicId:a.topicId}});e.next=13;break;case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e)})}}},51196:(e,t,n)=>{"use strict";n.d(t,{zM:()=>a,hm:()=>r,Qs:()=>i});var a=[{id:"ASPECT_TOO_MANY",name:"多了指标"},{id:"EMOTION_WRONG",name:"情感有误"},{id:"ASPECT_NOT_ENOUGH",name:"少了指标"}],r=[{label:"全部",value:""},{label:"待处理",value:"PENDING"},{label:"已处理",value:"FINISH"}],i={"多了指标":1,"情感有误":2,"少了指标":3}},78813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),f=n.n(t),t=n(87757),h=n.n(t),s=n(36144);function m(e){var t=e.keyword,n=e.status,a=e.personList,r=e.issueList,i=e.pageIndex,o=e.pageSize,e=e.projectIds;return s.h.post("/data_feedback/find",{keyword:t,status:n,creators:a,feedbackTypes:r,pageIndex:i,pageSize:o,projectIds:e})}function o(e){return s.h.post("/data_feedback/filter/find",e)}var v=n(51196),y=n(35239),g=n(64396).Z.project.dataFeedback;const a={namespace:g,state:JSON.parse(JSON.stringify({status:"",name:"",issueList:void 0,personList:void 0,pagination:{current:1,pageSize:10,total:0},personListOpt:void 0,data:[]})),effects:{fetchFeedbackPersonList:h().mark(function e(t,n){var a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,n.select,e.prev=2,e.next=5,i(o,{type:"USER"});case 5:if(2e4===(i=e.sent).data.code)return e.next=9,r({type:"save",payload:f()({},a,{personListOpt:i.data.result})});e.next=9;break;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}},e,null,[[2,11]])}),fetchDataFeedbackList:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return f()({},e)[g]});case 4:return d=e.sent,o=d.pagination,l=d.issueList,p=d.personList,s=[],c=a.issueList||l,u=a.personList||p,l=(d=a||{}).pageIndex,p=d.page,d=d.pageSize,e.prev=12,d={keyword:a.name,status:a.status,pageIndex:p&&p.pageSize===o.pageSize?l:1,pageSize:d||o.pageSize,projectIds:[y.t.get(y.V.backProjectConfig).id]},c&&0<c.length&&(d.issueList=c),u&&0<u.length&&(d.personList=u),e.next=18,r(m,d);case 18:return d=e.sent,2e4===(d=d.data).code&&0<d.result.count?(d.result.result.map(function(e){e.feedbackTypeNames.sort(function(e,t){return v.Qs[e]-v.Qs[t]})}),s=d.result.result,o.total=d.result.count):o.total=0,e.next=23,i({type:"save",payload:{pagination:{current:p&&p.pageSize===o.pageSize?l:1,pageSize:p.pageSize||10,total:p.total||0}}});case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(12);case 27:return e.prev=27,e.next=30,i({type:"save",payload:f()({},a,{data:s})});case 30:return e.finish(27);case 31:case"end":return e.stop()}},e,null,[[12,25,27,31]])})},reducers:{save:function(e,t){t=t.payload;return f()({},e,t)}}}},6019:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),u=n(36144);function d(e){var t=e.projectId,e=e.messageCategory;return u.h.post("source/category/list",{projectId:t,messageCategory:e})}function v(e){var t=e.projectId,n=e.categoryId,a=e.name,r=e.sourceId,i=e.rules,o=e.id,s=e.key,c=e.content,e=e.topics;return u.h.post("/projects/connection/add",{projectId:t,categoryId:n,key:s,content:void 0===c?[]:c,topics:void 0===e?[]:e,name:a,sourceId:r,rules:void 0===i?[]:i,id:void 0===o?"":o})}function l(e){var t=e.sourceId,e=e.category;return u.h.post("/projects/connection-rule/find",{sourceId:t,category:e})}var y=n(64396).Z.project.dataUrlEdit,g={COMMENT:1,QUE_ANS:2,BBS:9,SOCIAL:11,SELF:12,NEWS:4,COMPLAINT:13,VIDEO:19},a={messageCategory:void 0,urlId:"",projectId:void 0,conditionList:void 0,platformList:void 0,platValue:void 0,ruleValue:void 0};const r={namespace:y,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchPlatformList:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.payload,p=n.call,a=n.put,r=u.messageCategory,i=u.urlId,o=u.projectId,s=u.syncKey,l=u.sourceId,c=u.name,u=null,l="NEWS"===r?30:l,e.prev=5,e.next=8,p(d,{messageCategory:r,projectId:o});case 8:if(p=e.sent,2e4===(p=p.data).code)return u=p.result,p=p.result,p=p[0],l=l||p.id,e.next=16,a({type:"fetchPlatformConditionList",payload:{id:l,messageCategory:r}});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(5);case 20:return e.prev=20,e.next=23,a({type:"save",payload:{platformList:u,messageCategory:r,urlId:i,projectId:o,platValue:{name:c,sourceId:l},ruleValue:s}});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[5,18,20,24]])}),commitDataScrabble:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,d=n.select,i=n.put,e.next=4,d(function(e){return h()({},e)[y]});case 4:return f=e.sent,o=f.projectId,s=f.messageCategory,c=f.urlId,u=a.name,l=a.sourceId,p=a.rules,d=a.content,f=a.contentStr,f={projectId:o,categoryId:g[s],name:u,sourceId:l,id:c,key:f},d&&(f.key=JSON.stringify(d),f.content=d),p&&(f.key=JSON.stringify(p),f.rules=p),e.next=14,r(v,f);case 14:return f=e.sent,2e4===(f=f.data).code&&a.callback&&a.callback(),e.next=19,i({type:"save",payload:{urlId:f.result,platValue:{name:u,sourceId:l}}});case 19:case"end":return e.stop()}},e)}),fetchPlatformConditionList:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return h()({},e)[y]});case 4:return s=e.sent,c=s.messageCategory,s=void 0,c={category:a.messageCategory||c,sourceId:a.id},e.prev=8,e.next=11,r(l,c);case 11:c=e.sent,2e4===(c=c.data).code&&(s=c.result),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,o({type:"save",payload:{conditionList:{list:s,sourceId:a.id}}});case 21:return e.finish(18);case 22:case"end":return e.stop()}},e,null,[[8,16,18,22]])})}}},52727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var t=n(67294),i=n.n(t),o=n(50976);const a=function(e){var t=e.loading,n=e.chartData,e=i().useState(void 0),a=e[0],r=e[1];return i().useEffect(function(){var e;a&&!t&&n&&0<n.length&&(e={grid:{show:!1,left:0,right:0,bottom:0},backgroundColor:"transparent",xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},data:0<(e=n).length?e.map(function(e){return e.date}):[]},yAxis:{type:"value",axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},series:[{type:"line",showSymbol:!1,smooth:!0,lineStyle:{width:0},areaStyle:{opacity:1},data:0<e.length?e.map(function(e){return e.count}):[],animation:!1}]},a.clear(),a.setOption(e))},[a,t,n]),i().createElement(o.Z,{theme:"yunting_multi_color",style:{width:"80px",height:"20px"},showLoading:t,loadingOption:{text:"",color:"#1574B3"},option:{},onChartReady:function(e){return r(e)}})}},54754:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),m=n.n(t),t=n(87757),v=n.n(t),c=n(36144);function s(e){var t=e.projectId,e=e.messageCategory;return c.h.post("/connection/category/list",{projectId:t,messageCategory:e})}function u(e){e=e.messageCategory;return c.h.post("/source/category/list",{messageCategory:e})}function y(e){var t=e.projectId,n=e.pageIndex,a=e.pageSize,r=e.sortModel,i=e.name,o=e.keyword,s=e.filterModel,e=e.messageCategory;return c.h.post("/connection/list",{projectId:t,pageIndex:n,pageSize:a,sortModel:r,name:i,keyword:o,filterModel:s,messageCategory:e})}function p(e){var t=e.projectId,e=e.ids;return c.h.post("/connection/data/list",{projectId:t,ids:e})}function l(e){e=e.ids;return c.h.post("/connection/delete",{ids:e})}var g=n(64396).Z.project.dataUrlList,r={projectId:"",messageCategory:"",targetUrl:null,searchText:"",avaUrls:[],selectedUrls:[],avaPlatforms:[],selectedPlatforms:[],pageIndex:1,pageSize:20,data:[],total:0,modalShow:!1,sortName:"CREATED_AT",sortType:"DESC"};const a={namespace:g,state:Object.assign({},r),effects:{fetchUrlNameList:v().mark(function e(t,n){var a,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return m()({},e)[g]});case 3:return o=e.sent,i=o.projectId,o=o.messageCategory,e.next=8,a(s,{projectId:i,messageCategory:o});case 8:return o=e.sent,o=o.data,e.next=12,r({type:"save",payload:{avaUrls:o.result}});case 12:case"end":return e.stop()}},e)}),fetchPlatformList:v().mark(function e(t,n){var a,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return m()({},e)[g]});case 3:return o=e.sent,o=o.messageCategory,e.next=7,a(u,{messageCategory:o});case 7:return o=e.sent,o=o.data,e.next=11,r({type:"save",payload:{avaPlatforms:o.result}});case 11:case"end":return e.stop()}},e)}),fetchUrlList:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,p=n.select,e.next=3,p(function(e){return m()({},e)[g]});case 3:return d=e.sent,i=d.projectId,o=d.messageCategory,s=d.searchText,c=d.selectedUrls,f=d.selectedPlatforms,u=d.pageIndex,l=d.pageSize,p=d.sortName,d=d.sortType,e.next=15,a(y,{projectId:i,messageCategory:o,keyword:s,name:0<c.length?c.map(function(e){return e.name}):[],sortModel:{sortName:p,sortType:d},pageIndex:u,pageSize:l,filterModel:{projectId:i,source:f}});case 15:if(f=e.sent,2e4===(f=f.data).code)return h=f.result,f=h.list,h=h.count,e.next=21,r({type:"save",payload:{data:f,total:h}});e.next=24;break;case 21:if(0<h)return e.next=24,r({type:"fetchTrendChartData"});e.next=24;break;case 24:case"end":return e.stop()}},e)}),fetchTrendChartData:v().mark(function e(t,n){var a,r,i,o,s,c,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,n.put,r=n.select,e.next=3,r(function(e){return m()({},e)[g]});case 3:return o=e.sent,s=o.projectId,i=o.data,o=i.map(function(e){return e.id}),e.next=9,a(p,{projectId:s,ids:o});case 9:if(s=e.sent,o=s.data,s=o.code,c=o.result,2e4===s)for(u=0;u<i.length;u++)for(l=0;l<c.length;l++)i[u].id===c[l].id&&(i[u].total=c[l].total,i[u].dateList=c[l].list);case 14:case"end":return e.stop()}},e)}),deleteUrl:v().mark(function e(t,n){var a,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return m()({},e)[g]});case 3:return o=e.sent,o=o.targetUrl.id,e.next=7,a(l,{ids:[o]});case 7:if(o=e.sent,2e4===o.data.code)return e.next=12,r({type:"save",payload:{modalShow:!1}});e.next=14;break;case 12:return e.next=14,r({type:"fetchUrlList"});case 14:case"end":return e.stop()}},e)}),resetState:v().mark(function e(t,n){var a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.call,a=n.put,n.select,e.next=3,a({type:"save",payload:m()({},r)});case 3:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return m()({},e,t)}}}},21218:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var t=n(37316),a=n.n(t),t=n(81506),r=n.n(t),t=n(85354),i=n.n(t),o=n(67294),s=n.n(o),c=n(92360),u=n(29383),l=n(12518),p=n(43036),d=n(61193),f=n(61409),h=n(35239),m=n(39432),t=n(30381),v=n.n(t),t=n(55609),y=n(64396).Z.projectAll,n=function(t){function e(e){var a=t.call(this,e)||this;return a.state={columns:[{label:"",prop:"paddingLeft",width:50},{label:"项目名称",prop:"name",render:function(t){return s().createElement("span",{className:"tableLink",onClick:function(e){return a.routerChange("/account/project/preview",t.name,t.id)}},t.name)}},{label:"消息数",prop:"messageTotal",renderHeader:function(){return s().createElement("span",null,"消息数",s().createElement(p.Z,{overlay:function(){return e=v()().subtract(1,"days").format("YYYY-MM-DD"),s().createElement(o.Fragment,null,s().createElement("div",null,"这里为你展示的数据是整个项目中全部消息，但不包括 被设为无效数据且不展示的消息。"),s().createElement("div",null,"计算截止日期为昨天（",e," 23：59：50）"));var e},overlayClassName:"project-list-popover",placement:"bottom"},s().createElement("i",{className:"cem-icon icon-cem_problem",style:{marginLeft:"4px"}})))},render:function(e){return s().createElement("span",null,m.ZP.formatNumber(e.messageTotal)||0)}}],handle:{label:"操作",prop:"operate",render:function(t,e,n){return s().createElement("div",{className:"operations topic-list-td"},d.Z.hasAuthority("PROJECT_EDIT")&&s().createElement("div",{className:"operation_columns",onClick:a.projectLinkManage.bind(r()(a),t.id,t.name)},s().createElement("span",null,"数据链接")),s().createElement("div",{className:"operation_columns",onClick:function(e){return a.routerChange("/account/project/linkTopic",t.name,t.id)}},s().createElement("span",null,"主题")),s().createElement("div",{className:"operation_columns",onClick:function(e){return a.routerChange("/account/project/tag",t.name,t.id)}},s().createElement("span",null,"标签")),s().createElement("div",{className:"operation_columns",onClick:function(e){return a.routerChange("/account/project/messageRule",t.name,t.id)}},s().createElement("span",null,"消息处理规则")),s().createElement("div",{className:"operation_columns",onClick:function(e){return a.routerChange("/account/project/uselessMsg/smart",t.name,t.id)}},s().createElement("span",null,"无效消息")),s().createElement("div",{className:"operation_columns",onClick:function(e){return a.routerChange("/account/project/uselessWord",t.name,t.id)}},s().createElement("span",null,"无效词管理")),d.Z.hasAuthority("ASPECT_TREE_SETTING")&&s().createElement("div",{className:"operation_columns",onClick:function(e){return a.routerChange("/account/project/aspectSystem/global",t.name,t.id)}},s().createElement("span",null,"指标体系")),s().createElement("div",{className:"operation_columns",onClick:function(e){return a.routerChange("/account/project/alert",t.name,t.id)}},s().createElement("span",null,"预警管理")))}},hasPush:!1},a}i()(e,t);var n=e.prototype;return n.componentDidMount=function(){(0,this.props.dispatch)({type:y+"/getProjectList"}),this.checkAuthority(),localStorage.connection_filter="",localStorage.storage_columns&&0<localStorage.storage_columns.length&&(JSON.parse(localStorage.storage_columns).connect_list="")},n.routerChange=function(e,t,n){h.t.set(h.V.backProjectConfig,{name:t,id:n}),f.mW.push(e)},n.checkAuthority=function(){var e=this.state,t=e.hasPush,n=e.columns,e=e.handle;t||!d.Z.hasAuthority("PROJECT_EDIT")&&!d.Z.hasAuthority("PROJECT_DELETE")||(n.push(e),this.setState({columns:n,hasPush:!0}))},n.projectLinkManage=function(e,t){this.props.project.title;h.t.set(h.V.backProjectConfig,{name:t,id:e}),h.t.set(h.V.leaveRouter,this.props.location||"","session"),f.mW.push({pathname:"/account/project"+(d.Z.hasAuthority("COMMENT")||d.Z.hasAuthority("PRICE")?"/preview":d.Z.hasAuthority("CONNECTION_QUE_ANS")?"/que_ans":d.Z.hasAuthority("CONNECTION_BBS")?"/bbs":d.Z.hasAuthority("CONNECTION_SELF")?"/self":d.Z.hasAuthority("CONNECTION_SOCIAL")?"/social":d.Z.hasAuthority("CONNECTION_NEWS")?"/news":d.Z.hasAuthority("CONNECTION_COMPLAINT")?"/complaint":d.Z.hasAuthority("CONNECTION_VIDEO")?"/video":""),state:{name:t,title:[{title:"所有项目",url:"/account/project"}]}})},n.render=function(){var e=this.state.columns,t=this.props,n=t.project,a=n.data,r=n.title,n=t.loading,t=document.documentElement.clientHeight-46-48-24;return s().createElement("div",{className:"flex-col"},s().createElement("div",{className:"flex-other container common-wrapper"},s().createElement(l.Z,{title:r}),s().createElement(c.Loading,{loading:n,text:"拼命加载中"},s().createElement("div",{className:"common-padding-12"},s().createElement("div",{style:{minHeight:t,backgroundColor:"#fff"}},s().createElement(u.Z,{columns:e,data:a||[],total:a.length}))))))},e}(o.Component);const g=(0,t.connect)(function(e){var t=e.loading;return{project:a()(e,["loading"])[y],loading:t.effects[y+"/getProjectList"]}})(n)},40748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var a=n(67154),p=n.n(a),t=n(87757),d=n.n(t),a=n(64396),t=n(48926),r=n.n(t),s=n(36144);function f(e){return i.apply(this,arguments)}function i(){return(i=r()(d().mark(function e(t){var n,a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.name,r=t.valueFrom,i=t.pageSize,o=t.pageIndex,e.abrupt("return",s.h.post("/subscribe-topic/list",{projectId:n,name:a,valueFrom:r,pageSize:i,pageIndex:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return o.apply(this,arguments)}function o(){return(o=r()(d().mark(function e(t){var n,a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.name,r=t.originTopicId,i=t.synthesisTopics,o=t.synthesisSplit,e.abrupt("return",s.h.post("/subscribe-topic/add",{projectId:n,name:a,originTopicId:r,synthesisTopics:i,synthesisSplit:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=r()(d().mark(function e(t){var n,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.id,e.abrupt("return",s.h.post("/subscribe-topic/delete",{projectId:n,id:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=r()(d().mark(function e(t){var n,a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.id,r=t.name,i=t.synthesisTopics,o=t.synthesisSplit,e.abrupt("return",s.h.post("/subscribe-topic/update",{projectId:n,id:a,name:r,synthesisTopics:i,synthesisSplit:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=r()(d().mark(function e(t){var n,a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.id,r=t.frontName,e.abrupt("return",s.h.post("/subscribe-topic/rename",{projectId:n,id:a,frontName:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=a.Z.product.setting.topic.overview,x={projectId:"",list:[],name:"",valueFrom:"all",page:{pageIndex:1,pageSize:20,count:0}};const b={namespace:g,state:x,reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},x)}},effects:{fetchList:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,u=n.select,e.next=3,u(function(e){return e[g]});case 3:return l=e.sent,i=l.name,o=l.projectId,s=l.valueFrom,c=l.page,u=c.pageSize,l=c.pageIndex,e.next=11,a(f,{name:i,projectId:o,valueFrom:"all"!==s&&"yt"===s?["yt"]:[o],pageSize:u,pageIndex:l});case 11:return l=e.sent,l=l.data.result,e.next=15,r({type:"save",payload:{list:l.result,page:p()({},c,{count:l.count})}});case 15:case"end":return e.stop()}},e)}),pageChange:d().mark(function e(t,n){var a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,n.call,a=n.put,o=n.select,r=i.pageIndex,i=i.pageSize,e.next=5,o(function(e){return e[g]});case 5:return o=e.sent,o=o.page,e.next=9,a({type:"save",payload:{page:p()({},o,{pageIndex:i!==o.pageSize?1:r,pageSize:i})}});case 9:return e.next=11,a({type:"fetchList"});case 11:case"end":return e.stop()}},e)}),valueFromChange:d().mark(function e(t,n){var a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[g]});case 4:return o=e.sent,i=o.page,o=a.valueFrom,e.next=9,r({type:"save",payload:{valueFrom:o,page:p()({},i,{pageIndex:1})}});case 9:return e.next=11,r({type:"fetchList"});case 11:case"end":return e.stop()}},e)}),nameChange:d().mark(function e(t,n){var a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[g]});case 4:return o=e.sent,i=o.page,o=a.name,e.next=9,r({type:"save",payload:{name:o,page:p()({},i,{pageIndex:1})}});case 9:return e.next=11,r({type:"fetchList"});case 11:case"end":return e.stop()}},e)}),addTopic:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[g]});case 4:return s=e.sent,o=s.projectId,s=a.name,e.next=9,r(u,{name:s,projectId:o});case 9:return c=e.sent,c=c.result,e.next=13,i({type:"fetchList"});case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e)}),editTopic:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[g]});case 4:return c=e.sent,o=c.projectId,s=a.name,c=a.id,e.next=9,r(h,{name:s,projectId:o,id:c});case 9:return c=e.sent,c.result,e.next=13,i({type:"fetchList"});case 13:case"end":return e.stop()}},e)}),delTopic:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[g]});case 4:return u=e.sent,o=u.projectId,s=u.list,c=u.page,u=a.id,e.next=11,r(l,{projectId:o,id:u});case 11:if(u=e.sent,u.result,1===s.length)return e.next=16,i({type:"save",payload:{page:p()({},c,{pageIndex:1})}});e.next=16;break;case 16:return e.next=18,i({type:"fetchList"});case 18:case"end":return e.stop()}},e)}),addAlias:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[g]});case 4:return c=e.sent,o=c.projectId,s=a.frontName,c=a.id,e.next=9,r(v,{frontName:s,projectId:o,id:c});case 9:return u=e.sent,u=u.result,e.next=13,i({type:"fetchList"});case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}},e)})}}},70019:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(67154),f=n.n(a),t=n(87757),h=n.n(t),a=n(64396),t=n(48926),r=n.n(t),u=n(36144);function m(e){return i.apply(this,arguments)}function i(){return(i=r()(h().mark(function e(t){var n,a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,i=t.valueFrom,o=t.pageSize,s=t.pageIndex,c=t.sortModel,e.abrupt("return",u.h.post("/subscribe-topic-value/list",{projectId:n,topicId:a,value:r,valueFrom:i,pageSize:o,pageIndex:s,sortModel:c}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return o.apply(this,arguments)}function o(){return(o=r()(h().mark(function e(t){var n,a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.topicId,e.abrupt("return",u.h.post("/subscribe-topic-value/add",{projectId:n,value:a,topicId:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return s.apply(this,arguments)}function s(){return(s=r()(h().mark(function e(t){var n,a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.id,r=t.topicId,e.abrupt("return",u.h.post("/subscribe-topic-value/delete",{projectId:n,id:a,topicId:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return c.apply(this,arguments)}function c(){return(c=r()(h().mark(function e(t){var n,a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.id,r=t.value,i=t.topicId,e.abrupt("return",u.h.post("/subscribe-topic-value/update",{projectId:n,id:a,value:r,topicId:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var v=a.Z.product.setting.topic.topicValue,y={projectId:"",topicId:"",topicName:"",list:[],name:"",valueFrom:"all",page:{pageIndex:1,pageSize:20,count:0},sortModel:{sortName:"UPDATED_AT",sortType:"DESC"}};const g={namespace:v,state:y,reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},y)}},effects:{fetchList:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,l=n.select,e.next=3,l(function(e){return e[v]});case 3:return p=e.sent,i=p.name,o=p.projectId,s=p.valueFrom,c=p.page,u=p.topicId,d=p.sortModel,l=c.pageSize,p=c.pageIndex,e.next=13,a(m,{value:i,projectId:o,topicId:u,valueFrom:"all"===s?[]:"yt"===s?["yt"]:[o],pageSize:l,pageIndex:p,sortModel:d});case 13:return d=e.sent,d=d.data.result,e.next=17,r({type:"save",payload:{list:d.result,page:f()({},c,{count:d.count})}});case 17:case"end":return e.stop()}},e)}),pageChange:h().mark(function e(t,n){var a,r,i,o;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,n.call,a=n.put,o=n.select,r=i.pageIndex,i=i.pageSize,e.next=5,o(function(e){return e[v]});case 5:return o=e.sent,o=o.page,e.next=9,a({type:"save",payload:{page:f()({},o,{pageIndex:i!==o.pageSize?1:r,pageSize:i})}});case 9:return e.next=11,a({type:"fetchList"});case 11:case"end":return e.stop()}},e)}),valueFromChange:h().mark(function e(t,n){var a,r,i,o;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[v]});case 4:return o=e.sent,i=o.page,o=a.valueFrom,e.next=9,r({type:"save",payload:{valueFrom:o,page:f()({},i,{pageIndex:1})}});case 9:return e.next=11,r({type:"fetchList"});case 11:case"end":return e.stop()}},e)}),nameChange:h().mark(function e(t,n){var a,r,i,o;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[v]});case 4:return o=e.sent,i=o.page,o=a.name,e.next=9,r({type:"save",payload:{name:o,page:f()({},i,{pageIndex:1})}});case 9:return e.next=11,r({type:"fetchList"});case 11:case"end":return e.stop()}},e)}),sortChange:h().mark(function e(t,n){var a,r,i,o;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[v]});case 4:return o=e.sent,i=o.page,o=a.sortModel,e.next=9,r({type:"save",payload:{sortModel:o,page:f()({},i,{pageIndex:1})}});case 9:return e.next=11,r({type:"fetchList"});case 11:case"end":return e.stop()}},e)}),addTopic:h().mark(function e(t,n){var a,r,i,o,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[v]});case 4:return c=e.sent,o=c.projectId,s=c.topicId,c=a.name,e.next=10,r(l,{value:c,projectId:o,topicId:s});case 10:return u=e.sent,u=u.result,e.next=14,i({type:"fetchList"});case 14:return e.abrupt("return",u);case 15:case"end":return e.stop()}},e)}),editTopic:h().mark(function e(t,n){var a,r,i,o,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[v]});case 4:return c=e.sent,o=c.projectId,u=c.topicId,s=a.name,c=a.id,e.next=10,r(d,{value:s,projectId:o,id:c,topicId:u});case 10:return u=e.sent,u.result,e.next=14,i({type:"fetchList"});case 14:case"end":return e.stop()}},e)}),delTopic:h().mark(function e(t,n){var a,r,i,o,s,c,u,l;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[v]});case 4:return u=e.sent,o=u.projectId,s=u.list,c=u.page,l=u.topicId,u=a.id,e.next=12,r(p,{projectId:o,id:u,topicId:l});case 12:if(l=e.sent,l.result,1===s.length)return e.next=17,i({type:"save",payload:{page:f()({},c,{pageIndex:1})}});e.next=17;break;case 17:return localStorage.setItem("delTopic",!0),e.next=20,i({type:"fetchList"});case 20:case"end":return e.stop()}},e)})}}},51417:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),a=n.n(t),t=n(87757),u=n.n(t),i=n(36144);function l(e){e=e.projectId;return i.h.post("/message/rule/public/condition",{projectId:e})}function c(e){var t=e.projectId,n=e.status,a=e.tagIdList,r=e.teamIdList,e=e.userIdList;return i.h.post("/message/rule/public/list",{projectId:t,status:void 0===n?null:n,tagIdList:void 0===a?[]:a,teamIdList:void 0===r?[]:r,userIdList:void 0===e?[]:e})}function o(e){var t=e.projectId,n=e.filterModel,a=e.tagIdList,r=e.teamIdList,e=e.userIdList;return i.h.post("/message/rule/public/add",{projectId:t,filterModel:n,tagIdList:a,teamIdList:r,userIdList:e})}function s(e){var t=e.id,n=e.filterModel,a=e.tagIdList,r=e.teamIdList,e=e.userIdList;return i.h.post("/message/rule/public/update",{id:t,filterModel:n,tagIdList:a,teamIdList:r,userIdList:e})}function p(e){var t=e.id,e=e.history;return i.h.post("/message/rule/history/update",{id:t,history:e})}function d(e){e=e.id;return i.h.post("/message/rule/delete",{id:e})}function f(e){var t=e.id,n=e.status,e=e.history;return i.h.post("/message/rule/status/update",{id:t,status:n,history:e})}var h=n(17945),m=n(5133);const r={namespace:n(64396).Z.project.messageRule,state:{ruleList:[],conditionList:[],ruleDatas:[],tagData:{dictionary:{},options:{}},recipientData:{dictionary:{},options:{}}},effects:{fetchCondition:u().mark(function e(t,n){var a,r,i,o,s,c;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,a=n.call,r=n.put,i=[],o={dictionary:{},options:{}},s={dictionary:{},options:{}},e.prev=3,e.next=6,a(l,c);case 6:c=e.sent,2e4===(c=c.data).code&&(i=c.result,o=(0,h.v5)([i]),s=(0,h.cC)([i])),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,r({type:"save",payload:{conditionList:i,tagData:o,recipientData:s}});case 16:return e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,11,13,17]])}),fetchRuleList:u().mark(function e(t,n){var a,r,i,o,s;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,a=n.call,r=n.put,i=[],o=[],e.prev=3,e.next=6,a(c,s);case 6:s=e.sent,2e4===(s=s.data).code&&(i=s.result,o=(0,h.Ib)(i)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,r({type:"save",payload:{ruleList:i,ruleDatas:o}});case 16:return e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,11,13,17]])}),addRule:u().mark(function e(t,n){var a,r;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,e.prev=2,e.next=5,r(o,a);case 5:r=e.sent,2e4===(r=r.data).code&&a.onDialogOpen&&a.onDialogOpen({id:r.result,type:"created",history:!0}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,null,[[2,10]])}),updateRule:u().mark(function e(t,n){var a,r,i;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,e.prev=2,e.next=5,i(s,a);case 5:if(i=e.sent,2e4===i.data.code)return a.onDialogOpen&&a.onDialogOpen({id:a.id,type:"edited",history:!0}),e.next=11,r({type:"fetchRuleList",payload:a.filterObj});e.next=11;break;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}},e,null,[[2,13]])}),updateHistoryRule:u().mark(function e(t,n){var a,r,i;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,e.prev=2,e.next=5,i(p,a);case 5:return i=e.sent,2e4===i.data.code&&m.Z.success("消息规则设置成功"),e.next=10,r({type:"fetchRuleList",payload:a.filterObj});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}},e,null,[[2,12]])}),deleteRule:u().mark(function e(t,n){var a,r,i;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,e.prev=2,e.next=5,i(d,a);case 5:return i=e.sent,2e4===i.data.code&&m.Z.success("消息规则删除成功"),e.next=10,r({type:"fetchRuleList",payload:a.filterObj});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}},e,null,[[2,12]])}),setRuleStatus:u().mark(function e(t,n){var a,r,i;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,e.prev=2,e.next=5,i(f,a);case 5:if(i=e.sent,2e4===i.data.code)return m.Z.success("消息规则更新成功"),e.next=11,r({type:"fetchRuleList",payload:a.filterObj});e.next=11;break;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}},e,null,[[2,13]])})},reducers:{save:function(e,t){t=t.payload;return a()({},e,t)}}}},17945:(e,t,n)=>{"use strict";n.d(t,{v5:()=>function(e){var a={},e=e.reduce(function(n,e){return e.tagList.forEach(function(t){a[t.name]||(a[t.name]=t.id);var e=n[t.value];e?e.find(function(e){return e===t.name})||(n[t.value]=n[t.value].concat(t.name)):n[t.value]=[t.name]}),n},{});return{dictionary:a,options:e}},cC:()=>function(e){var a={},e=e.reduce(function(e,t){var n=t.teamList,t=t.userList;return 0<n.length&&(e["团队"]=[],n.forEach(function(t){a[t.name]||(a[t.name]=t.id),e["团队"].find(function(e){return e.id===t.id})||(e["团队"]=e["团队"].concat(t.name))})),0<t.length&&(e["成员"]=[],t.forEach(function(t){a[t.name]||(a[t.name]=t.id),e["成员"].find(function(e){return e.id===t.id})||(e["成员"]=e["成员"].concat(t.name))})),e},{});return{dictionary:a,options:e}},Ib:()=>function(e){return e.reduce(function(e,t){var n={id:t.id,status:t.status,history:t.history,recipient:{},tag:{},rule:{},ruleLine:1};return t.teamList&&0<t.teamList.length&&(n.recipient["团队"]=t.teamList.map(function(e){return e.name})),t.userList&&0<t.userList.length&&(n.recipient["成员"]=t.userList.map(function(e){return e.name})),t.tagList&&(n.tag=t.tagList.reduce(function(e,t){var n=e[t.value];return e[t.value]=n?e[t.value].concat(t.name):[t.name],u()({},e)},{})),t.filter.source&&0<t.filter.source.length&&(n.rule["数据来源"]=t.filter.source)&&(n.ruleLine+=1),t.filter.escore&&0<t.filter.escore.length&&(n.rule["情感"]=t.filter.escore)&&(n.ruleLine+=1),t.filter.star&&0<t.filter.star.length&&(n.rule["星级"]=t.filter.star)&&(n.ruleLine+=1),t.filter.connConfig&&0<t.filter.connConfig.length&&(n.rule=u()({},n.rule,t.filter.connConfig.reduce(function(e,t){return u()({},e,((e={})[t.name]=t.values,e))},{})))&&(n.ruleLine+=t.filter.connConfig.length),n.ruleLine=2<n.ruleLine?3:n.ruleLine,t.filter.content&&0<t.filter.content.length&&(n.rule["内容"]=t.filter.content.reduce(function(e,n,t){if(!(n.contain&&0!==n.contain.length||n.notContain&&0!==n.notContain.length))return e;var a=["contain","notContain"].reduce(function(e,t){return n[t]&&0<n[t].length?[].concat(e,[("contain"===t?"包含":"不包含")+n[t].map(function(e){return"“"+e+"”"}).join("，")]):e},[]),a=(n.sentence?"一句话中":"全文中")+"："+a.join("，且");return[].concat(e,[a])},[]))&&(n.ruleLine+=5<t.filter.content.length?5:t.filter.content.length),n.rule["内容"]&&0===n.rule["内容"].length&&(n.rule["内容"]=["无"]),[].concat(e,[n])},[])},Bd:()=>r,_l:()=>i,rV:()=>o});var t=n(67154),u=n.n(t),a=n(35239);var r=function(s){var c=JSON.parse(a.t.get(a.V.filterList)).list;return Object.keys(s).reduce(function(e,t){var n=s[t],a=Object.prototype.toString.call(n);if("[object Array]"===a){var r=n[0],r=Object.prototype.toString.call(r);if("[object String]"===r){var i=c.find(function(e){return e.special===t});return i?[].concat(e,[u()({},i,{values:n.map(function(t){var e=i.values.find(function(e){return e.name===t});return e?e.id:""})})]):e}if("[object Object]"===r)return[].concat(e,n.reduce(function(e,t){var n=c.find(function(e){return e.name===t.name});return n?[].concat(e,[u()({},n,{values:t.values.map(function(t){return n.values.find(function(e){return e.name===t}).id})})]):e},[]))}else if("[object Object]"===a){var o=c.find(function(e){return e.name===n.name});return o?[].concat(e,[u()({},o,{values:n.values.map(function(t){var e=o.values.find(function(e){return e.name===t});return e?e.id:""})})]):e}return e},[])},i=function(e){return e.reduce(function(e,t){var n;return"connConfig"===t.special||"tag"===t.special?(n={id:t.id,values:t.values},e[t.special]||(e[t.special]=[]),e[t.special].push(n)):e[t.special]=t.values,e},{})},o=function(e){var t=document.createElement("canvas").getContext("2d");return t.font="14px PingFangSC-Regular",t.measureText(e).width}},67431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var t=n(67154),a=n.n(t),t=n(87757),i=n.n(t),r=n(36144);function o(){return r.h.post("/projects/list",{})}const s={namespace:n(64396).Z.projectAll,state:{title:["所有项目"],data:[]},effects:{getProjectList:i().mark(function e(t,n){var a,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,e.next=3,r(o);case 3:if(2e4===(r=e.sent).data.code)return r=r.data.result.list,e.next=8,a({type:"saveState",payload:{data:r}});e.next=8;break;case 8:case"end":return e.stop()}},e)}),saveState:i().mark(function e(t,n){var a,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"save",payload:a});case 4:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return a()({},e,t)}}}},28383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(75314),l=n(11187),t=n(67154),T=n.n(t),t=n(87757),I=n.n(t),t=n(64396),y=n(26582),p=n(99433),s=n(74644),w=n(35239),d=n(5133),E=t.Z.product.comment.linkMaintenance,a={projectId:w.t.get(w.V.backProjectConfig)&&w.t.get(w.V.backProjectConfig).id,linkTopicList:null,linkTopicListCurrentItem:null,batchlinkTopicListCurrentItem:null,linkTopicNameList:null,linkAddedTopicValueList:null,firstLoadAddedTopic:null,topicSuggestValue:void 0,totalListCount:void 0,currentIndex:0,handleCount:0,entryType:void 0,dataList:null,statusList:[],nextSpu:void 0,maintainParams:null,proInitStatus:void 0,connectionType:void 0,defaultEnterTopic:{}};const r={namespace:E,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return T()({},e,t)},resetData:function(e){return T()({},e,Object.assign({},a))},onDefualtTopicChange:function(e,t){var n=t.payload,a=n.id,r=n.value,t=e.linkAddedTopicValueList,n=e.linkTopicNameList,t=t&&0<t.length?t:n;return t&&(0<=(n=t.findIndex(function(e){return String(e.topicId||e.id)===String(a)}))?t[n].value=r:t=[].concat(t,[{topicId:a,value:r,id:a}]),e.linkAddedTopicValueList=t),T()({},e)}},effects:{getTopicSuggestValue:I().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,l=n.select,i=n.call,e.next=4,l(function(e){return T()({},e)[E]});case 4:if(l=e.sent,o=l.linkAddedTopicValueList,s=l.topicSuggestValue,f=a.projectId||w.t.get(w.V.backProjectConfig).id,c=a.topicId,u=a.init,l=a.values,p=a.value,l&&0<l.length)return e.prev=10,e.next=13,i(y.j2,{values:l,projectId:f});e.next=26;break;case 13:if(f=e.sent,2e4===(d=f.data).code)return f=u?d.result:s,e.next=19,r({type:"save",payload:{topicSuggestValue:f,linkAddedTopicValueList:o&&o.map(function(e){return e.id===c&&(e.topicId=c,e.topicValueId=d.result.topicId,e.topicValueName=d.result.value||p),e})}});e.next=20;break;case 19:return e.abrupt("return",d.result);case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(10);case 24:e.next=28;break;case 26:return e.next=28,r({type:"save",payload:{topicSuggestValue:[],linkAddedTopicValueList:o}});case 28:case"end":return e.stop()}},e,null,[[10,22]])}),addSingleLinkTopic:I().mark(function e(t,n){var a,r,i,o,s,c,u;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,c=n.select,i=n.put,e.next=4,c(function(e){return T()({},e)[E]});case 4:return u=e.sent,c=u.entryType,o=u.currentIndex,s=u.statusList,u=a.projectId||w.t.get(w.V.backProjectConfig).id,c=/isS|isP|isB/.exec(c)?{addFrom:/isS/.exec(c)?"SINGLE":/isP/.exec(c)?"RULE":"BATCH"}:{},e.prev=10,e.next=13,r(y.po,T()({},a,c,{projectId:u}));case 13:if(u=e.sent,2e4===u.data.code)return l.default.destroy(),e.next=19,i({type:"setCurrentTopicList",payload:{success:"ADD"}});e.next=20;break;case 19:return e.abrupt("return",{status:s[o]});case 20:d.Z.error("添加失败"),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(10);case 25:case"end":return e.stop()}},e,null,[[10,23]])}),getSingleLinkList:I().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return T()({},e)[E]});case 4:if(u=e.sent,s=u.connectionType,d=u.linkTopicList,c=u.linkTopicListCurrentItem,u=a.projectId||w.t.get(w.V.backProjectConfig).id,e.prev=9,!d||d.length<=0)return e.next=13,r(y.gD,T()({},a,{projectId:u}));e.next=28;break;case 13:if(d=e.sent,2e4!==(l=d.data).code){e.next=28;break}if(l.result&&l.result.list&&0<l.result.list.length&&!c)return p=l.result.list.map(function(e){"PRICE"===s?"REMOVE"===e.priceStatus&&(e.priceStatus="")&&(e.removed=!0):"REMOVE"===e.commentStatus&&(e.commentStatus="")&&(e.removed=!0),"PRICE"===s?!/null/.exec(e.priceStatus)&&e.priceStatus||(e.priceStatus="INIT"):!/null/.exec(e.commentStatus)&&e.commentStatus||(e.commentStatus="INIT"),e.skuId=0<e.skuId.indexOf(";")?e.skuId.split(";")[1]:e.skuId,e.skuId=0<e.skuId.indexOf("/")?e.skuId.split("/")[1]:e.skuId;var t=Array.isArray(e.configDetails)&&e.configDetails.find(function(e){return"店铺"===e.topicTypeValue});return t&&Array.isArray(e.urlTopics)&&e.urlTopics.unshift({id:t.topicTypeValue,name:t.topicValue}),e}).sort(function(e,t){return"PRICE"===s?e.priceStatus.localeCompare(t.priceStatus):e.commentStatus.localeCompare(t.commentStatus)}),d=p.findIndex(function(e){return"PRICE"===s?"INIT"===e.priceStatus:"INIT"===e.commentStatus}),f=p.filter(function(e){return"PRICE"===s?"ADD"===e.priceStatus:"ADD"===e.commentStatus}).length,e.next=22,o.resolve({type:"save",payload:{totalListCount:p.length,linkTopicList:p,linkTopicListCurrentItem:p[0<=d?d:0],currentIndex:0<=d?d:0,handleCount:f,statusList:p.map(function(e){return"PRICE"===s?"INIT"!==e.priceStatus?e.priceStatus:"":"INIT"!==e.commentStatus?e.commentStatus:""}),entryType:"isSingle"}});e.next=27;break;case 22:if(0<f)return e.next=25,o.resolve({type:"getAddedTopics",payload:{esId:p[0].esId}});e.next=25;break;case 25:return e.next=27,o({type:"getTopicsList",payload:{projectId:u,pageSize:100,pageIndex:1,name:"",valueFrom:[u]}});case 27:return e.abrupt("return",l.result);case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(9),e.next=34,o({type:"resetData"});case 34:case"end":return e.stop()}},e,null,[[9,30]])}),getLinkSalesTopics:I().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,u=n.select,i=n.put,e.next=4,u(function(e){return T()({},e)[E]});case 4:return l=e.sent,o=l.linkTopicList,s=l.currentIndex,c=a.projectId||w.t.get(w.V.backProjectConfig).id,e.prev=8,e.next=11,r(y.HE,T()({},a,{projectId:c}));case 11:if(p=e.sent,2e4===(d=p.data).code)return(u=0<Object.keys(d.result).length?d.result:null)&&(l=u.prop,p=u.urlTopics,d=Array.isArray(l)&&l.find(function(e){return"店铺"===e.id}),u.urlTopics=[].concat(d?[d]:[],Array.isArray(p)?p.filter(function(e){return"店铺"!==e.id}):[]),d&&(u.prop=l.filter(function(e){return"店铺"!==e.id})),u.imgUrl=u.imgUrl?u.imgUrl[0]:o[s].imgUrl),e.next=18,i.resolve({type:"save",payload:{linkTopicListCurrentItem:u}});e.next=20;break;case 18:return e.next=20,i({type:"getTopicsList",payload:{projectId:c,pageSize:100,pageIndex:1,name:"",valueFrom:[c]}});case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(8),e.next=26,i({type:"resetData"});case 26:case"end":return e.stop()}},e,null,[[8,22]])}),getTopicsList:I().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,f=n.select,i=n.put,e.next=4,f(function(e){return T()({},e)[E]});case 4:return f=e.sent,o=f.linkTopicList,s=f.currentIndex,c=f.linkTopicListCurrentItem,u=f.linkAddedTopicValueList,l=f.firstLoadAddedTopic,p=f.entryType,d=f.statusList,f=a.projectId||w.t.get(w.V.backProjectConfig).id,e.prev=13,e.next=16,r(y.ZS,T()({},a,{projectId:f}));case 16:if(h=e.sent,h=h.data,m="ADD"!==d[s]&&!/isE/.exec(p),(v="isBatch"!==p?u&&0<u.length?m&&l&&0<l.length?l:u:c:o[s].config)&&0<h.result.result.length&&h.result.result.map(function(t){var e,n,a,r,i=[t.name,t.naturalName].concat(t.keyword),o=Array.isArray(v)&&v.filter(function(e){return Number(t.id)===Number(e.topicId||e.id)});return c&&c.prop&&(e=c.prop,n=c.urlTopics,a=0<(r=[].concat(Array.isArray(e)?e.map(function(t){return n.find(function(e){return t.id===e.id})?{id:""}:t}):[],Array.isArray(n)?n:[])).length&&r.filter(function(e){return i.includes(e.id.trim())}),r=r.findIndex(function(e){return i.includes(e.id.trim())}),a&&0<a.length&&(t.connectionTopicName={id:a[0].id,topicId:t.id,name:a[0].name,index:Math.floor(r>=e.length?r-e.length-n.length:r/2)})),t.topicValueName="isBatch"!==p?o&&0<o.length&&(!m||i.some(function(e){return/店铺|品牌|型号/.exec(e)})?o[0].value:"")||"":o&&0<o.length&&o[0].topicValueName||"",-1<i.indexOf("店铺")&&!t.topicValueName&&(t.topicValueName=t.connectionTopicName&&t.connectionTopicName.name||""),t}),2e4!==h.code){e.next=31;break}if("isBatch"===p)return e.next=25,i({type:"getTopicSuggestValue",payload:{init:!0,values:h.result.result.filter(function(e){return e.topicValueName}).map(function(e){return{topicId:e.id,value:e.topicValueName,referenceId:e.referenceId}})}});e.next=27;break;case 25:e.next=29;break;case 27:return e.next=29,i({type:"save",payload:{topicSuggestValue:void 0}});case 29:return e.next=31,i({type:"save",payload:{linkTopicNameList:h.result.result,batchlinkTopicListCurrentItem:!c&&o[s]}});case 31:e.next=35;break;case 33:e.prev=33,e.t0=e.catch(13);case 35:case"end":return e.stop()}},e,null,[[13,33]])}),getAddedTopics:I().mark(function e(t,n){var a,r,i,o,s,c,u;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return T()({},e)[E]});case 4:return u=e.sent,s=u.linkAddedTopicValueList,c=a.projectId||w.t.get(w.V.backProjectConfig).id,e.prev=7,e.next=10,r(y.Vk,T()({},a,{projectId:c}));case 10:if(u=e.sent,2e4===(c=u.data).code)return u=s?{}:{firstLoadAddedTopic:c.result},e.next=16,o({type:"save",payload:T()({},u,{linkAddedTopicValueList:c.result})});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])}),getBatchTopics:I().mark(function e(t,n){var a,r,i,o,s;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.put,i=o.projectId||w.t.get(w.V.backProjectConfig).id,e.prev=3,e.next=6,a(y.Nz,T()({},o,{projectId:i}));case 6:if(o=e.sent,2e4===(o=o.data).code)return s=o.result.map(function(e){return{esId:e.esId,config:e.config,name:e.name,url:e.url}}),e.next=12,r({type:"save",payload:{linkTopicList:s,totalListCount:o.result.length,handleCount:0,statusList:Array.from({length:s.length},function(){return""})}});e.next=14;break;case 12:return e.next=14,r({type:"getLinkSalesTopics",payload:{esId:s[0].esId,projectId:i}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(3);case 18:case"end":return e.stop()}},e,null,[[3,16]])}),getListTopics:I().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,s=n.select,i=a.projectId||w.t.get(w.V.backProjectConfig).id,e.next=5,s(function(e){return T()({},e)[E]});case 5:return l=e.sent,p=l.dataList,o=l.currentIndex,s=l.handleCount,c=a.listIds,u=a.unprocessed,l=a.isEdit,p=p&&p.map(function(e){return{id:e.id,title:e.name,skuId:e.sku,imgUrl:0<e.imgUrl.length?e.imgUrl[0]:""}})||[],e.next=13,r({type:"save",payload:{handleCount:l?1:s,totalListCount:(u?p:c).length,linkTopicList:u?p:c}});case 13:return e.next=15,r({type:"getLinkSalesTopics",payload:{connectionId:u?p[o].id:c[0],projectId:i}});case 15:case"end":return e.stop()}},e)}),setCurrentTopicList:I().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x,b;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return T()({},e)[E]});case 4:if(y=e.sent,o=y.connectionType,s=y.linkTopicList,c=y.statusList,u=y.currentIndex,l=y.handleCount,p=y.entryType,d=y.totalListCount,f=y.maintainParams,h=w.t.get(w.V.backProjectConfig).id,m=a.currentIndex,y=a.success)return c[u]=y,e.next=19,r.resolve({type:"save",payload:{statusList:[].concat(c)}});e.next=30;break;case 19:if(v=c.filter(function(e){return e}).length,/isP/.exec(p)&&d-1<=v)return e.next=23,r.resolve({type:"fetchProLinkList",payload:T()({},f)});e.next=30;break;case 23:if(y=e.sent,v===d&&y)return e.next=27,r.resolve({type:"fetchLinkList",payload:{connectionType:o}});e.next=30;break;case 27:return e.next=29,r.resolve({type:"getListTopics",payload:{unprocessed:!0}});case 29:return e.abrupt("return");case 30:if(x=c.findIndex(function(e){return!e}),g=0<=m?m:u+1===d?x<0&&/isS/.exec(p)?0:x:u+1,e.prev=32,!(x=s[g])){e.next=54;break}if("object"==typeof x)return b=x.esId?{esId:x.esId}:{connectionId:x.id},e.next=39,r.resolve({type:"save",payload:{linkTopicListCurrentItem:x}});e.next=50;break;case 39:if("ADD"===c[g])return e.next=42,r.resolve({type:"getAddedTopics",payload:T()({},b)});e.next=42;break;case 42:if(/isS/.exec(p))return e.next=45,r({type:"getTopicsList",payload:{projectId:h,pageSize:100,pageIndex:1,name:"",valueFrom:[h]}});e.next=45;break;case 45:if(/isB|isP/.exec(p))return e.next=48,r({type:"getLinkSalesTopics",payload:T()({},b,{projectId:h})});e.next=48;break;case 48:e.next=52;break;case 50:return e.next=52,r({type:"getLinkSalesTopics",payload:{connectionId:x,projectId:h}});case 52:return e.next=54,r({type:"save",payload:{handleCount:0<=m?l:c.filter(function(e){return"ADD"===e}).length,currentIndex:g,statusList:[].concat(c)}});case 54:e.next=58;break;case 56:e.prev=56,e.t0=e.catch(32);case 58:case"end":return e.stop()}},e,null,[[32,56]])}),fetchLinkList:I().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,s=n.select,i=n.call,e.next=4,s(function(e){return T()({},e)[E]});case 4:return l=e.sent,o=l.maintainParams,s=l.nextSpu,c=l.proInitStatus,u=[],p=w.t.get(w.V.backProjectConfig).id,l=a.spuId,a.spuId||(a.spuId=s),e.prev=12,e.next=15,i(y.IC,T()({},a,{projectId:p}));case 15:p=e.sent,2e4===(p=p.data).code&&0<p.result.length&&(u=p.result),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:if(e.prev=22,d=c&&l?u.findIndex(function(e){return e.esId===c}):u.findIndex(function(e){return"INIT"===e.status}),f=u.filter(function(e){return"ADD"===e.status}).length,1===u.length||d===u.length-1||d<0)return e.next=28,r.resolve({type:"fetchProLinkList",payload:T()({},o)});e.next=28;break;case 28:return e.next=30,r({type:"save",payload:T()({},a,{dataList:u,statusList:u.map(function(e){return"INIT"===e.status?"":e.status}),handleCount:f,currentIndex:0<=d?d:0,linkAddedTopicValueList:null,nextSpu:a.spuId})});case 30:if(0!==d)return e.next=33,r.resolve({type:"getAddedTopics",payload:{connectionId:u[0]&&u[0].id}});e.next=33;break;case 33:return e.finish(22);case 34:return e.abrupt("return",u);case 35:case"end":return e.stop()}},e,null,[[12,20,22,34]])}),fetchProLinkList:I().mark(function e(t,n){var a,r,i,o,s,c,u;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,o=n.call,e.next=4,i(function(e){return T()({},e)[E]});case 4:return c=e.sent,s=c.nextSpu,c=w.t.get(w.V.backProjectConfig).id,e.prev=7,e.next=10,o(p.IC,T()({projectId:c||a.projectId},a));case 10:if(c=e.sent,2e4===(c=c.data).code)return c=c.result.list,u=Array.isArray(c)&&c[0]?c[0].spu:void 0,u=u&&(s&&s===u?c[1]?c[1].spu:void 0:u),e.next=18,r.resolve({type:"save",payload:{nextSpu:u}});e.next=19;break;case 18:return e.abrupt("return",u);case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}},e,null,[[7,21]])}),fetchIgnore:I().mark(function e(t,n){var a,r,i,o;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,e.next=4,i(function(e){return T()({},e)[E]});case 4:return i=e.sent,o=i.searchTitleWord,i=w.t.get(w.V.backProjectConfig).id,e.prev=7,e.next=10,r(y.Vu,{projectId:i||a.projectId,batchIgnoreId:a.batchIgnoreId,searchTitleWord:o,connectionType:a.connectionType,isAll:a.isAll});case 10:if(o=e.sent,2e4===(o=o.data).code)return e.abrupt("return",o);e.next=14;break;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(7);case 18:case"end":return e.stop()}},e,null,[[7,16]])}),setDefaultValue:I().mark(function e(t,n){var a,r,i;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=w.t.get(w.V.backProjectConfig).id,e.prev=3,e.next=6,r(s.sR,T()({projectId:i||a.projectId},a));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}},e,null,[[3,8]])}),getDefaultValue:I().mark(function e(t,n){var a,r,i,o;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.put,i=w.t.get(w.V.backProjectConfig).id,e.prev=3,e.next=6,a(s.oG,T()({projectId:i||o.projectId},o));case 6:if(o=e.sent,2e4===(o=o.data).code)return e.next=11,r({type:"save",payload:{defaultEnterTopic:o.result?JSON.parse(o.result):""}});e.next=11;break;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(3);case 15:case"end":return e.stop()}},e,null,[[3,13]])}),resetDataDispatch:I().mark(function e(t,n){var a;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.next=3,a({type:"resetData"});case 3:case"end":return e.stop()}},e)})}}},26582:(e,t,n)=>{"use strict";n.d(t,{j2:()=>function(e){return r.apply(this,arguments)},po:()=>function(e){return i.apply(this,arguments)},gD:()=>function(e){return o.apply(this,arguments)},HE:()=>function(e){return s.apply(this,arguments)},ZS:()=>function(e){return c.apply(this,arguments)},Vk:()=>function(e){return u.apply(this,arguments)},Nz:()=>function(e){return l.apply(this,arguments)},IC:()=>function(e){return p.apply(this,arguments)},Vu:()=>function(e){return d.apply(this,arguments)}});var t=n(48926),a=n.n(t),t=n(87757),h=n.n(t),m=n(36144);function r(){return(r=a()(h().mark(function e(t){var n,a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.values,e.abrupt("return",m.h.post("/subscribe-topic-value/suggest",{projectId:n,values:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function i(){return(i=a()(h().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d,f;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.connectionId,r=t.connectionType,i=t.packageType,o=t.topicList,s=t.name,c=t.url,u=t.esId,l=t.prop,p=t.urlTopics,d=t.addFrom,f=t.userConnectionId,e.abrupt("return",m.h.post("/subproject-connection/add",{projectId:n,connectionId:a,connectionType:r,packageType:i,topicList:o,name:s,url:c,esId:u,prop:l,urlTopics:p,addFrom:d,userConnectionId:f}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(){return(o=a()(h().mark(function e(t){var n,a,r,i,o,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hideExistsTasks,a=t.pageIndex,r=t.pageSize,i=t.sortModel,o=t.projectId,s=t.url,e.abrupt("return",m.h.post("/connection/smart/find",{hideExistsTasks:n,pageIndex:a,pageSize:r,sortModel:i,projectId:o,url:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(){return(s=a()(h().mark(function e(t){var n,a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connectionId,a=t.projectId,r=t.esId,e.abrupt("return",m.h.post("/subproject-connection/prop/find",{connectionId:n,projectId:a,esId:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=a()(h().mark(function e(t){var n,a,r,i,o;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageSize,r=t.pageIndex,i=t.name,o=t.valueFrom,e.abrupt("return",m.h.post("/subscribe-topic/list",{projectId:n,pageSize:a,pageIndex:r,name:i,valueFrom:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=a()(h().mark(function e(t){var n,a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connectionId,a=t.esId,r=t.projectId,i=t.userConnectionId,e.abrupt("return",m.h.post("/subproject-connection/topic/values",{connectionId:n,esId:a,projectId:r,userConnectionId:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=a()(h().mark(function e(t){var n,a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.batchNo,a=t.projectId,e.abrupt("return",m.h.post("/maintainedConnection/list",{batchNo:n,projectId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=a()(h().mark(function e(t){var n,a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.spuId,r=t.connectionType,e.abrupt("return",m.h.post("/subproject-connection/handle/list",{projectId:n,spuId:a,connectionType:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(){return(d=a()(h().mark(function e(t){var n,a,r,i,o;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.batchIgnoreId,o=t.connectionType,r=void 0===o?"DEFAULT":o,i=t.searchTitleWord,o=t.isAll,o=void 0!==o&&o,e.abrupt("return",m.h.post("/subproject-connection/ignore/batch",{projectId:n,batchIgnoreId:a,connectionType:r,searchTitleWord:i,isAll:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}},47501:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});function p(t){return new Promise(function(e){return setTimeout(e,t)})}var t=n(75314),o=n(11187),t=n(67154),S=n.n(t),t=n(87757),N=n.n(t),t=n(64396),_=n(74644),s=n(26582),O=n(35239),h=n(5133),c=n(33973),m=n(87219),j=t.Z.product.comment.linkManagement,a={searchTitleWord:"",dataList:[],ucConnectionIdList:[],list:void 0,listChart:{},listStatus:[],total:0,pageIndex:1,pageSize:10,spuGroupList:void 0,skuGroupList:void 0,sourceList:void 0,packageType:void 0,spuList:void 0,skuList:void 0,settingOpts:void 0,type:"all",details:[],topicOpts:void 0,projectId:void 0,connectionType:void 0,selTypes:null,isSelectAll:!(Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))}),isRecycleBin:!1};const r={namespace:j,state:a,reducers:{save:function(e,t){t=t.payload;return S()({},e,t)},clean:function(){return Object.assign({},a)},onSelectAll:function(e,t){t.payload;var t=e.list,n=e.dataList.length===t.length,t=t.map(function(e){return e.select=!n,e});return S()({},e,{list:t,dataList:n?[]:t,isSelectAll:!n})},onSelectDataList:function(e,t){var n=t.payload.spuId,a=e.list,t=e.dataList;return n&&(t.find(function(e){return e.id===n})?(a.find(function(e){return e.id===n}).select=!1,t=t.filter(function(e){return e.id!==n})):(a.find(function(e){return e.id===n}).select=!0,t.push(a.find(function(e){return e.id===n})))),S()({},e,{dataList:[].concat(t),list:a})}},effects:{fetchCountMsg:N().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,s=n.select,e.next=4,s(function(e){return S()({},e)[j]});case 4:return c=e.sent,u=c.connectionType,o=c.list,s=O.t.get(O.V.backProjectConfig).id,c=[],e.prev=9,u={projectId:s,skuSyncs:a.skuSyncs,connectionType:u},e.next=13,i(_.eM,u);case 13:if(u=e.sent,2e4===(l=u.data).code)return c=(o||[]).map(function(e){return S()({},e,{infoCount:l.result[e.sync_key].count1,three:l.result[e.sync_key].count2})}),e.next=19,r({type:"save",payload:S()({},a,{list:c})});e.next=19;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(9);case 23:return e.prev=23,p=[],o.map(function(e){return p.push(e.sync_key)}),e.next=28,r({type:"fetchRecentTrend",payload:{skuSyncs:p}});case 28:return e.finish(23);case 29:case"end":return e.stop()}},e,null,[[9,21,23,29]])}),fetchRecentTrend:N().mark(function e(t,n){var a,r,i,o,s,c,u,l;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,s=n.select,e.next=4,s(function(e){return S()({},e)[j]});case 4:return c=e.sent,u=c.connectionType,o=c.list,s=O.t.get(O.V.backProjectConfig).id,c=[],e.prev=9,u={projectId:s,skuSyncs:a.skuSyncs,connectionType:u},e.next=13,i(_.U2,u);case 13:if(u=e.sent,2e4===(l=u.data).code)return c=(o||[]).map(function(e){return S()({},e,{trend:l.result[e.sync_key]})}),e.next=19,r({type:"save",payload:S()({},a,{list:c})});e.next=19;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(9);case 23:case"end":return e.stop()}},e,null,[[9,21]])}),fetchAllTopics:N().mark(function e(t,n){var a,r,i,o,s,c,u,l;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return S()({},e)[j]});case 4:return u=e.sent,s=u.selTypes,l=O.t.get(O.V.backProjectConfig).id,c={},u=[],e.prev=9,e.next=12,i(_.oY,{projectId:a.projectId||l});case 12:l=e.sent,2e4===(l=l.data).code&&0<l.result.total&&(u=[].concat(l.result.list.map(function(e){return{value:e.name,label:e.name,id:e.id}})),c.settingOpts=u,s||(c.selTypes=[u[0].value])),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,r({type:"save",payload:S()({},a,c)});case 22:return e.finish(19);case 23:return e.abrupt("return",u);case 24:case"end":return e.stop()}},e,null,[[9,17,19,23]])}),fetchAllTopicsValue:N().mark(function e(t,n){var a,r,i,o;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,o=n.call,i=O.t.get(O.V.backProjectConfig).id,e.prev=3,r=r.topicId,i={topicId:r,projectId:i},e.next=8,o(_.NA,i);case 8:if(o=e.sent,2e4===(i=o.data).code)return e.next=13,a({type:"save",payload:((o={})["topic_"+r]=-1111!==r?i.result.list.map(function(e){return{id:e.id,name:e.value}}):c.$R,o)});e.next=13;break;case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(3);case 17:case"end":return e.stop()}},e,null,[[3,15]])}),fetchLinkList:N().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x,b,T,I,w,E,k,C;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,h=n.select,e.next=4,h(function(e){return S()({},e)[j]});case 4:if(b=e.sent,o=b.pageIndex,s=b.pageSize,c=b.projectId,b.dataList,u=b.spuGroupList,l=b.sourceList,p=b.packageType,d=b.skuGroupList,f=b.type,T=b.listStatus,I=b.connectionType,w=b.isRecycleBin,h=b.searchTitleWord,m=[],v=0,y={},g={},x=[],b=T,T=sessionStorage.getItem(O.V.linkManagementFilter),y=S()({},JSON.parse(T),a.searchTopics),e.prev=24,I={searchTopics:y,searchTitleWord:a.searchTitleWord||h,pageIndex:a.pageIndex||o,pageSize:a.pageSize||s,projectId:c||O.t.get(O.V.backProjectConfig).id,spuGroupList:a.spuGroupList||u,skuGroupList:a.skuGroupList||d,sourceList:a.sourceList||l,packageType:a.packageType||p,type:a.type||f,connectionType:a.connectionType||I},w){e.next=32;break}return e.next=29,i(_.IC,I);case 29:e.t0=e.sent,e.next=35;break;case 32:return e.next=34,i(_.Kx,I);case 34:e.t0=e.sent;case 35:if(w=e.t0,2e4===(w=w.data).code&&0<w.result.total&&(m=w.result.list,v=w.result.total,x.push.apply(x,w.result.list.map(function(e){return{id:e.id,select:!1}})),b=[]),w){for(E in y)y[E].length<=0&&delete y[E];if(sessionStorage.setItem(O.V.linkManagementFilter,JSON.stringify(S()({},y))),y&&"{}"!==JSON.stringify(y))for(k in y)g["values_"+k]=y[k]}e.next=43;break;case 41:e.prev=41,e.t1=e.catch(24);case 43:if(e.prev=43,a.id)return e.next=48,r({type:"save",payload:{listStatus:b}});e.next=50;break;case 48:e.next=52;break;case 50:return e.next=52,r({type:"save",payload:S()({},a,{dataList:[],total:v,list:m,listStatus:b},g)});case 52:if(m&&0<m.length)return C=[],m.map(function(e){return C.push(e.sync_key)}),e.next=57,r({type:"fetchCountMsg",payload:{skuSyncs:C}});e.next=57;break;case 57:return e.finish(43);case 58:return e.abrupt("return",m);case 59:case"end":return e.stop()}},e,null,[[24,41,43,58]])}),fetchHotData:N().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return S()({},e)[j]});case 4:return u=e.sent,p=u.projectId,s=u.listChart,d=u.connectionType,c=a.trendId,u=a.spuId,e.next=11,r(_.dP,{projectId:a.projectId||p,trendId:c,connectionType:d});case 11:return l=e.sent,(p=s[u])?(d=p.find(function(e){return e.id===c}))?d.chart=l.data.result.list.map(function(e){return e.doc_count}):p.push({id:c,chart:l.data.result.list.map(function(e){return e.doc_count})}):s[u]=[{id:c,chart:l.data.result.list.map(function(e){return e.doc_count})}],e.next=16,o({type:"save",payload:{listChart:s}});case 16:return e.abrupt("return",l);case 17:case"end":return e.stop()}},e)}),fetchDetail:N().mark(function e(t,n){var a,r,i,o,s;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return S()({},e)[j]});case 4:return o=e.sent,o=o.projectId,e.next=8,r(_.RR,{connectionId:a.connectionId,projectId:o});case 8:if(2e4===(s=e.sent).data.code)return e.next=12,i({type:"save",payload:{details:s.data.result}});e.next=12;break;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}},e)}),fetchEntryOpts:N().mark(function e(t,n){var a,r,i,o,s,c,u;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return S()({},e)[j]});case 4:return c=e.sent,s=c.searchTitleWord,c=c.projectId,e.prev=7,e.next=10,r(_.AI,{projectId:a.projectId||c});case 10:if(u=e.sent,2e4!==(u=u.data).code){e.next=19;break}if(O.t.remove(O.V.newEntry),a.id){e.next=17;break}return e.next=17,o({type:"fetchLinkList",payload:{projectId:a.projectId||c,searchTitleWord:s}});case 17:return e.next=19,o({type:"save",payload:S()({},a,{spuList:u.result.spuList,skuList:u.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}},e,null,[[7,21]])}),fetchAdd:N().mark(function e(t,n){var a,r,i,o,s,c,u,l;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return S()({},e)[j]});case 4:return c=e.sent,s=c.projectId,u=c.connectionType,c=c.searchTitleWord,e.prev=8,e.next=11,r(_.xZ,S()({projectId:s},a,{connectionType:u}));case 11:if(u=e.sent,2e4===u.data.code)return h.Z.success("添加成功"),l=a.id,e.next=18,r(p,200);e.next=20;break;case 18:return e.next=20,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c,id:l}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(8);case 24:case"end":return e.stop()}},e,null,[[8,22]])}),fetchRemoveAll:N().mark(function e(t,n){var a,r,i,o,s,c,u;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return S()({},e)[j]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,u=u.connectionType,e.prev=8,e.next=11,r(_.Fs,{projectId:s,notRemoveId:a.notRemoveId,searchTitleWord:c,connectionType:u});case 11:if(u=e.sent,!(2e4===(u=u.data).code&&0<u.result.total)){e.next=18;break}if(h.Z.success("操作成功，该商品链接将标识为“已移出”"),a.isList)return e.next=18,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}},e,null,[[8,20]])}),fetchRemove:N().mark(function e(t,n){var a,r,i,o,s,c,u,l;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,u=n.select,i=n.put,e.next=4,u(function(e){return S()({},e)[j]});case 4:return l=e.sent,o=l.projectId,s=l.searchTitleWord,c=l.connectionType,e.prev=8,u=a.batchRemoveId,l=a.searchTopics,e.next=12,r(_.VI,{projectId:o,batchRemoveId:u,searchTitleWord:s,connectionType:c,searchTopics:l});case 12:if(l=e.sent,2e4!==l.data.code){e.next=19;break}if(h.Z.success("删除数据成功"),a.isList)return e.next=19,i({type:"fetchLinkList",payload:{projectId:o,searchTitleWord:s}});e.next=19;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(8);case 23:case"end":return e.stop()}},e,null,[[8,21]])}),fetchReduction:N().mark(function e(t,n){var a,r,i,o,s,c,u,l;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,u=n.select,i=n.put,e.next=4,u(function(e){return S()({},e)[j]});case 4:return l=e.sent,o=l.projectId,s=l.searchTitleWord,c=l.connectionType,e.prev=8,u=a.bathReductionId,l=a.searchTopics,e.next=12,r(_._w,{projectId:o,bathReductionId:u,searchTitleWord:s,connectionType:c,searchTopics:l});case 12:if(l=e.sent,2e4===l.data.code)return h.Z.success("还原数据成功"),e.next=18,i({type:"fetchLinkList",payload:{projectId:o,searchTitleWord:s}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}},e,null,[[8,20]])}),fetchIgnoreSingle:N().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,l=n.select,i=n.put,e.next=4,l(function(e){return S()({},e)[j]});case 4:return p=e.sent,o=p.projectId,s=p.listStatus,f=p.connectionType,e.prev=8,c=a.ignoreId,u=a.id,l=a.connectionType,p=a.projectId,e.next=12,r(_.hj,{projectId:p||o,ignoreId:c,connectionType:l||f});case 12:if(f=e.sent,2e4!==(d=f.data).code){e.next=21;break}if(h.Z.success("操作成功，该商品链接将标识为“已忽略”"),(f=s.find(function(e){return e.id===u}))&&f.skus.find(function(e){return e.id===u}))return e.next=20,i({type:"save",payload:{listStatus:(0,m.ZP)(s,function(e){e.find(function(e){return e.id===u}).skus.find(function(e){return e.id===c}).subscribeStatus="IGNORE"})}});e.next=20;break;case 20:return e.abrupt("return",d.result);case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(8);case 25:case"end":return e.stop()}},e,null,[[8,23]])}),fetchIgnoreAll:N().mark(function e(t,n){var a,r,i,o,s,c,u;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return S()({},e)[j]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,u=u.connectionType,e.prev=8,e.next=11,r(_.vH,{projectId:s,notIgnoreId:a.notIgnoreId,searchTitleWord:c,connectionType:u});case 11:if(u=e.sent,2e4===u.data.code)return h.Z.success("操作成功，该商品链接将标识为“已忽略”"),e.next=17,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}},e,null,[[8,19]])}),fetchTopicOpts:N().mark(function e(t,n){var a,r,i,o,s;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.select,i=n.put,e.next=4,r(function(e){return S()({},e)[j]});case 4:return o=e.sent,s=o.projectId,o=[],e.prev=7,e.next=10,a(_.hl,{projectId:s,valueFrom:[s]});case 10:s=e.sent,2e4===(s=s.data).code&&(o=s.result.result.filter(function(e){return"USER_CUSTOMIZE"===e.topicType})),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,i({type:"save",payload:{topicOpts:o}});case 20:return e.finish(17);case 21:return e.abrupt("return",o);case 22:case"end":return e.stop()}},e,null,[[7,15,17,21]])}),fetchTopicValue:N().mark(function e(t,n){var a,r;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.select,n.put,e.next=4,r(_._c,{projectId:a.projectId,valueFrom:[a.projectId],topicId:a.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),fetchAddTopicValue:N().mark(function e(t,n){var a,r,i,o,s,c;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return S()({},e)[j]});case 4:return s=e.sent,s=s.projectId,e.next=8,r(_.IU,{projectId:s,topicId:a.topicId,value:a.value});case 8:if(c=e.sent,2e4===(c=c.data).code)return e.next=13,o({type:"fetchTopicValue",payload:{projectId:s,topicId:a.topicId}});e.next=13;break;case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e)}),getFlavors:N().mark(function e(t,n){var a,r,i,o,s;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return S()({},e)[j]});case 4:return s=e.sent,s=s.projectId,e.prev=6,e.next=9,r(_.oG,{projectId:a.projectId||s});case 9:if(s=e.sent,2e4===(s=s.data).code)return e.next=14,o({type:"save",payload:{selTypes:s.result&&JSON.parse(s.result)}});e.next=14;break;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}},e,null,[[6,16]])}),updateFlavors:N().mark(function e(t,n){var a,r,i,o,s,c;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return S()({},e)[j]});case 4:return s=e.sent,c=s.projectId,s=s.selTypes,e.prev=7,s=a.selTypes||s,e.next=11,r(_.sR,{projectId:c,value:JSON.stringify(s)});case 11:if(c=e.sent,2e4===c.data.code)return e.next=16,o({type:"save",payload:{selTypes:s}});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])}),updateDefaultTopic:N().mark(function e(t,n){var a,r,i,o;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,n.put,e.next=4,o(function(e){return S()({},e)[j]});case 4:return i=e.sent,o=i.selTypes,i=a.projectId||O.t.get(O.V.backProjectConfig).id,e.prev=7,o=a.selTypes||o,e.next=11,r(_.sR,{projectId:i,value:JSON.stringify(o)});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:case"end":return e.stop()}},e,null,[[7,13]])}),getSingleLinkList:N().mark(function e(t,n){var a,r,i;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=a.projectId||O.t.get(O.V.backProjectConfig).id,e.prev=3,e.next=6,r(s.gD,S()({},a,{projectId:i}));case 6:if(i=e.sent,2e4!==(i=i.data).code){e.next=11;break}if(i.result)return e.abrupt("return",i.result);e.next=11;break;case 11:return o.default.destroy(),e.abrupt("return","error");case 15:return e.prev=15,e.t0=e.catch(3),o.default.destroy(),e.abrupt("return","error");case 19:case"end":return e.stop()}},e,null,[[3,15]])})}}},74644:(e,t,n)=>{"use strict";n.d(t,{Kx:()=>function(e){return r.apply(this,arguments)},IC:()=>function(e){return o.apply(this,arguments)},oY:()=>function(e){return s.apply(this,arguments)},NA:()=>function(e){return c.apply(this,arguments)},dP:()=>function(e){return u.apply(this,arguments)},hj:()=>function(e){return l.apply(this,arguments)},_w:()=>function(e){return p.apply(this,arguments)},VI:()=>function(e){return d.apply(this,arguments)},Fs:()=>function(e){return f.apply(this,arguments)},vH:()=>function(e){return h.apply(this,arguments)},xZ:()=>function(e){return y.apply(this,arguments)},AI:()=>function(e){return g.apply(this,arguments)},RR:()=>function(e){return x.apply(this,arguments)},hl:()=>function(e){return b.apply(this,arguments)},_c:()=>function(e){return T.apply(this,arguments)},IU:()=>function(e){return I.apply(this,arguments)},oG:()=>function(e){return w.apply(this,arguments)},sR:()=>function(e){return E.apply(this,arguments)},eM:()=>function(e){return k.apply(this,arguments)},U2:()=>function(e){return C.apply(this,arguments)}});var t=n(48926),a=n.n(t),t=n(87757),m=n.n(t),v=n(36144),i="PRODUCT_CONFIG_LINK_FILTER";function r(){return(r=a()(m().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageIndex,r=t.pageSize,i=t.searchTitleWord,o=t.searchTopics,s=t.spuGroupList,c=t.skuGroupList,u=t.sourceList,l=t.packageType,p=t.type,d=t.connectionType,d=void 0===d?"DEFAULT":d,e.abrupt("return",v.h.post("/subproject-connection/recycleList",{projectId:n,pageIndex:a,pageSize:r,searchTitleWord:i,searchTopics:o,spuGroupList:s,skuGroupList:c,sourceList:u,packageType:l,type:p,connectionType:d}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(){return(o=a()(m().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageIndex,r=t.pageSize,i=t.searchTitleWord,o=t.searchTopics,s=t.spuGroupList,c=t.skuGroupList,u=t.sourceList,l=t.packageType,p=t.type,d=t.connectionType,d=void 0===d?"DEFAULT":d,e.abrupt("return",v.h.post("/subproject-connection/smartList",{projectId:n,pageIndex:a,pageSize:r,searchTitleWord:i,searchTopics:o,spuGroupList:s,skuGroupList:c,sourceList:u,packageType:l,type:p,connectionType:d}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(){return(s=a()(m().mark(function e(t){var n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",v.h.post("/subproject-connection/topic/allName",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=a()(m().mark(function e(t){var n,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topicId,a=t.projectId,e.abrupt("return",v.h.post("/subproject-connection/topic/allValue",{topicId:n,projectId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=a()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.trendId,a=t.projectId,r=t.connectionType,e.abrupt("return",v.h.post("/subproject-connection/trend",{trendId:n,projectId:a,connectionType:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=a()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.ignoreId,r=t.connectionType,e.abrupt("return",v.h.post("/subproject-connection/ignore/single",{projectId:n,ignoreId:a,connectionType:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=a()(m().mark(function e(t){var n,a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.bathReductionId,r=t.searchTitleWord,i=t.connectionType,o=t.searchTopics,e.abrupt("return",v.h.post("/subproject-connection/reduction/batch",{projectId:n,bathReductionId:a,searchTitleWord:r,connectionType:i,searchTopics:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(){return(d=a()(m().mark(function e(t){var n,a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.batchRemoveId,r=t.searchTitleWord,i=t.connectionType,o=t.searchTopics,e.abrupt("return",v.h.post("/subproject-connection/remove/batch",{projectId:n,batchRemoveId:a,searchTitleWord:r,connectionType:i,searchTopics:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=a()(m().mark(function e(t){var n,a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.notRemoveId,r=t.searchTitleWord,i=t.connectionType,i=void 0===i?"DEFAULT":i,e.abrupt("return",v.h.post("/subproject-connection/remove/all",{projectId:n,notRemoveId:a,searchTitleWord:r,connectionType:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=a()(m().mark(function e(t){var n,a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.notIgnoreId,r=t.searchTitleWord,i=t.connectionType,i=void 0===i?"DEFAULT":i,e.abrupt("return",v.h.post("/subproject-connection/ignore/all",{projectId:n,notIgnoreId:a,searchTitleWord:r,connectionType:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=a()(m().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d,f,h;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.esId,r=t.spuId,i=t.spuName,o=t.skuId,s=t.skuName,c=t.name,u=t.url,l=t.sourceId,p=t.connectionId,d=t.customizeConfig,f=t.connectionType,h=t.packageType,e.abrupt("return",v.h.post("/subproject-connection/add",{projectId:n,esId:a,spuId:r,spuName:i,skuId:o,skuName:s,name:c,url:u,sourceId:l,connectionId:p,customizeConfig:d,connectionType:f,packageType:h}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=a()(m().mark(function e(t){var n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",v.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(){return(x=a()(m().mark(function e(t){var n,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.connectionId,e.abrupt("return",v.h.post("/subproject-connection/find",{projectId:n,connectionId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(){return(b=a()(m().mark(function e(t){var n,a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,o=t.pageSize,a=void 0===o?100:o,i=t.pageIndex,r=void 0===i?1:i,o=t.name,i=void 0===o?"":o,o=t.valueFrom,e.abrupt("return",v.h.post("/subscribe-topic/list",{projectId:n,pageIndex:r,pageSize:a,name:i,valueFrom:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(){return(T=a()(m().mark(function e(t){var n,a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,i=t.valueFrom,s=t.pageSize,o=void 0===s?1e3:s,s=t.pageIndex,s=void 0===s?1:s,e.abrupt("return",v.h.post("/subscribe-topic-value/list",{projectId:n,topicId:a,value:r,valueFrom:i,pageSize:o,pageIndex:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(){return(I=a()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,e.abrupt("return",v.h.post("/subscribe-topic-value/add",{projectId:n,topicId:a,value:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(){return(w=a()(m().mark(function e(t){var n,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.key,a=void 0===a?i:a,e.abrupt("return",v.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(){return(E=a()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.key,r=void 0===r?i:r,e.abrupt("return",v.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(){return(k=a()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connectionType,a=t.skuSyncs,r=t.projectId,e.abrupt("return",v.h.post("/subproject-connection/smartList/countMsg/count",{projectId:r,skuSyncs:a,connectionType:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(){return(C=a()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connectionType,a=t.skuSyncs,r=t.projectId,e.abrupt("return",v.h.post("/subproject-connection/smartList/trend/find",{projectId:r,skuSyncs:a,connectionType:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}},33973:(e,t,n)=>{"use strict";n.d(t,{D2:()=>a,Zj:()=>r,$9:()=>i,$R:()=>o}),Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var a={"SPU词条":"spuGroupList","SKU词条":"skuGroupList","平台":"sourceList","销售版本":"packageType"},r=function(e){var n={};return e&&e.length?e.reduce(function(e,t){return n[t.name]||(n[t.name]=e.push(t)),e},[]):[]},i=function(e,t){var a=[];return t&&t.length&&t.forEach(function(t){var n=e.find(function(e){return e.id===t}).name;e.forEach(function(e){e.name===n&&a.push(e.id)})}),a},o=[{id:"未知",name:"未知"},{id:"套装",name:"套装"},{id:"非套装",name:"非套装"},{id:"未处理",name:"未处理"}]},4083:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var t=n(67154),a=n.n(t),t=n(64396),r=n(78144),t=t.Z.product.setting.public,i={titles:(0,r.Y)()};const o={namespace:t,state:i,reducers:{save:function(e,t){t=t.payload;return a()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},i)},titleChange:function(e,t){t=t.payload;return a()({},e,{titles:(0,r.Y)(t)})}},effects:{}}},3680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>K});var a=n(67154),b=n.n(a),t=n(87757),T=n.n(t),a=n(64396),t=n(48926),r=n.n(t),m=n(36144),i="PRODUCT_CONFIG_LINK_FILTER";function I(e){return o.apply(this,arguments)}function o(){return(o=r()(T().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageIndex,r=t.pageSize,i=t.searchTitleWord,o=t.searchTopics,s=t.spuGroupList,c=t.skuGroupList,u=t.sourceList,l=t.packageType,p=t.type,d=t.connectionType,d=void 0===d?"DEFAULT":d,e.abrupt("return",m.h.post("/subproject-connection/smartList",{projectId:n,pageIndex:a,pageSize:r,searchTitleWord:i,searchTopics:o,spuGroupList:s,skuGroupList:c,sourceList:u,packageType:l,type:p,connectionType:d}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return s.apply(this,arguments)}function s(){return(s=r()(T().mark(function e(t){var n;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",m.h.post("/subproject-connection/topic/allName",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return c.apply(this,arguments)}function c(){return(c=r()(T().mark(function e(t){var n,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topicId,a=t.projectId,e.abrupt("return",m.h.post("/subproject-connection/topic/allValue",{topicId:n,projectId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return u.apply(this,arguments)}function u(){return(u=r()(T().mark(function e(t){var n,a,r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.trendId,a=t.projectId,r=t.connectionType,e.abrupt("return",m.h.post("/subproject-connection/trend",{trendId:n,projectId:a,connectionType:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=r()(T().mark(function e(t){var n,a,r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.ignoreId,r=t.connectionType,e.abrupt("return",m.h.post("/subproject-connection/ignore/single",{projectId:n,ignoreId:a,connectionType:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=r()(T().mark(function e(t){var n,a,r,i;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.batchRemoveId,r=t.searchTitleWord,i=t.connectionType,e.abrupt("return",m.h.post("/subproject-connection/remove/batch",{projectId:n,batchRemoveId:a,searchTitleWord:r,connectionType:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=r()(T().mark(function e(t){var n,a,r,i;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.notRemoveId,r=t.searchTitleWord,i=t.connectionType,i=void 0===i?"DEFAULT":i,e.abrupt("return",m.h.post("/subproject-connection/remove/all",{projectId:n,notRemoveId:a,searchTitleWord:r,connectionType:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e){return E.apply(this,arguments)}function E(){return(E=r()(T().mark(function e(t){var n,a,r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.batchIgnoreId,r=t.searchTitleWord,e.abrupt("return",m.h.post("/subproject-connection/ignore/batch",{projectId:n,batchIgnoreId:a,searchTitleWord:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=r()(T().mark(function e(t){var n,a,r,i;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.notIgnoreId,r=t.searchTitleWord,i=t.connectionType,i=void 0===i?"DEFAULT":i,e.abrupt("return",m.h.post("/subproject-connection/ignore/all",{projectId:n,notIgnoreId:a,searchTitleWord:r,connectionType:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return(N=r()(T().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d,f,h;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.esId,r=t.spuId,i=t.spuName,o=t.skuId,s=t.skuName,c=t.name,u=t.url,l=t.sourceId,p=t.connectionId,d=t.customizeConfig,f=t.connectionType,h=t.packageType,e.abrupt("return",m.h.post("/subproject-connection/add",{projectId:n,esId:a,spuId:r,spuName:i,skuId:o,skuName:s,name:c,url:u,sourceId:l,connectionId:p,customizeConfig:d,connectionType:f,packageType:h}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e){return O.apply(this,arguments)}function O(){return(O=r()(T().mark(function e(t){var n;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",m.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(e){return D.apply(this,arguments)}function D(){return(D=r()(T().mark(function e(t){var n,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.connectionId,e.abrupt("return",m.h.post("/subproject-connection/find",{projectId:n,connectionId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e){return A.apply(this,arguments)}function A(){return(A=r()(T().mark(function e(t){var n,a,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,o=t.pageSize,a=void 0===o?100:o,i=t.pageIndex,r=void 0===i?1:i,o=t.name,i=void 0===o?"":o,o=t.valueFrom,e.abrupt("return",m.h.post("/subscribe-topic/list",{projectId:n,pageIndex:r,pageSize:a,name:i,valueFrom:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return(P=r()(T().mark(function e(t){var n,a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,i=t.valueFrom,s=t.pageSize,o=void 0===s?1e3:s,s=t.pageIndex,s=void 0===s?1:s,e.abrupt("return",m.h.post("/subscribe-topic-value/list",{projectId:n,topicId:a,value:r,valueFrom:i,pageSize:o,pageIndex:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e){return R.apply(this,arguments)}function R(){return(R=r()(T().mark(function e(t){var n,a,r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,e.abrupt("return",m.h.post("/subscribe-topic-value/add",{projectId:n,topicId:a,value:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(e){return V.apply(this,arguments)}function V(){return(V=r()(T().mark(function e(t){var n,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.key,a=void 0===a?i:a,e.abrupt("return",m.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e){return q.apply(this,arguments)}function q(){return(q=r()(T().mark(function e(t){var n,a,r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.key,r=void 0===r?i:r,e.abrupt("return",m.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var U=n(35239),H=n(5133);Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};function W(t){return new Promise(function(e){return setTimeout(e,t)})}var Z=[{id:"未知",name:"未知"},{id:"套装",name:"套装"},{id:"非套装",name:"非套装"},{id:"未处理",name:"未处理"}],J=n(87219),Y=a.Z.product.setting.link,G={searchTitleWord:"",dataList:[],list:void 0,listChart:{},listStatus:[],total:0,pageIndex:1,pageSize:10,searchTopics:void 0,spuGroupList:void 0,skuGroupList:void 0,sourceList:void 0,packageType:void 0,spuList:void 0,skuList:void 0,settingOpts:void 0,type:"all",details:[],topicOpts:void 0,projectId:void 0,connectionType:void 0,selTypes:["品牌"],isSelectAll:!(Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))})};const K={namespace:Y,state:Object.assign({},G),reducers:{save:function(e,t){t=t.payload;return b()({},e,t)},clean:function(){return Object.assign({},G)},onSelectAll:function(e,t){var n=t.payload,t=e.dataList,n=n.value;return b()({},e,{dataList:t.deepcopy().map(function(e){return e.skus&&(e.skus=e.skus.map(function(e){return e.select=!1,e})),e.select=!1,e}),isSelectAll:void 0===n?!e.isSelectAll:n})},onSelectDataList:function(e,t){var t=t.payload,n=t.spuId,a=t.skuId,r=t.value,t=e.dataList;return n&&a?t.find(function(e){return e.id===n}).skus.find(function(e){return e.id===a}).select=r:a||t.find(function(e){return e.id===n}).skus.forEach(function(e){return e.select=r}),b()({},e,{dataList:t.deepcopy()})}},effects:{fetchAllTopics:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,s=U.t.get(U.V.curProject),s=s.notShowTopicList,e.next=5,o(function(e){return b()({},e)[Y]});case 5:return c=e.sent,u=c.projectId,c=[],e.prev=8,e.next=11,i(l,{projectId:a.projectId||u});case 11:u=e.sent,2e4===(u=u.data).code&&0<u.result.total&&(c=[].concat(u.result.list.map(function(e){return{value:e.name,label:e.name,id:e.id}}),[{value:"SPU词条",label:"SPU词条",id:-1},{value:"SKU词条",label:"SKU词条",id:-11},{value:"平台",label:"平台",id:-111},{value:"销售版本",label:"销售版本",id:-1111}]),c=s&&s.includes("PACKAGE_TYPE")?c.filter(function(e){return-1111!==e.id}):c),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,r({type:"save",payload:b()({},a,{settingOpts:c})});case 21:return e.finish(18);case 22:return e.abrupt("return",c);case 23:case"end":return e.stop()}},e,null,[[8,16,18,22]])}),fetchAllTopicsValue:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return b()({},e)[Y]});case 4:return c=e.sent,u=c.projectId,e.prev=6,s=a.topicId,c={topicId:s},-11!==s&&-1!==s||(c.projectId=a.projectId||u),e.next=12,i(p,c);case 12:if(u=e.sent,2e4===(c=u.data).code)return e.next=17,r({type:"save",payload:((u={})["topic_"+s]=-1111!==s?c.result.list.map(function(e){return{id:e.id,name:e.value}}):Z,u)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(6);case 21:case"end":return e.stop()}},e,null,[[6,19]])}),fetchLinkList:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,h=n.select,e.next=4,h(function(e){return b()({},e)[Y]});case 4:return y=e.sent,o=y.pageIndex,s=y.pageSize,c=y.projectId,y.dataList,u=y.searchTopics,l=y.spuGroupList,p=y.sourceList,d=y.packageType,f=y.skuGroupList,h=y.type,g=y.listStatus,x=y.connectionType,m="error",v=0,y=[],g=g,e.prev=20,x={searchTopics:b()({},u,a.searchTopics),searchTitleWord:a.searchTitleWord,pageIndex:a.pageIndex||o,pageSize:a.pageSize||s,projectId:a.projectId||c,spuGroupList:a.spuGroupList||l,skuGroupList:a.skuGroupList||f,sourceList:a.sourceList||p,packageType:a.packageType||d,type:a.type||h,connectionType:x},e.next=24,i(I,x);case 24:x=e.sent,2e4===(x=x.data).code&&0<x.result.total?(y.push.apply(y,x.result.list.map(function(e){return{id:e.id,select:!1,skus:e.skus.map(function(e){return{id:e.id,select:!1}})}})),g=[].concat(x.result.list.map(function(e){return{id:e.id,spuName:e.spuName,skuName:e.skuName,spuId:e.spuId,skuId:e.skuId,skus:e.skus.map(function(e){return b()({},e,{id:e.id,subscribeStatus:e.subscribeStatus})})}})),m=x.result.list,v=x.result.total):m=[],e.next=31;break;case 29:e.prev=29,e.t0=e.catch(20);case 31:if(e.prev=31,a.id)return e.next=36,r({type:"save",payload:{listStatus:g}});e.next=38;break;case 36:e.next=40;break;case 38:return e.next=40,r({type:"save",payload:b()({},a,{searchTopics:b()({},u,a.searchTopics),dataList:y,total:v,list:m,listStatus:g})});case 40:return e.finish(31);case 41:return e.abrupt("return",m);case 42:case"end":return e.stop()}},e,null,[[20,29,31,41]])}),fetchHotData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return u=e.sent,p=u.projectId,s=u.listChart,d=u.connectionType,c=a.trendId,u=a.spuId,e.next=11,r(f,{projectId:a.projectId||p,trendId:c,connectionType:d});case 11:return l=e.sent,(p=s[u])?(d=p.find(function(e){return e.id===c}))?d.chart=l.data.result.list.map(function(e){return e.doc_count}):p.push({id:c,chart:l.data.result.list.map(function(e){return e.doc_count})}):s[u]=[{id:c,chart:l.data.result.list.map(function(e){return e.doc_count})}],e.next=16,o({type:"save",payload:{listChart:s}});case 16:return e.abrupt("return",l);case 17:case"end":return e.stop()}},e)}),fetchDetail:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return b()({},e)[Y]});case 4:return o=e.sent,o=o.projectId,e.next=8,r(j,{connectionId:a.connectionId,projectId:o});case 8:if(2e4===(s=e.sent).data.code)return e.next=12,i({type:"save",payload:{details:s.data.result}});e.next=12;break;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}},e)}),fetchEntryOpts:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return c=e.sent,s=c.searchTitleWord,c=c.projectId,e.prev=7,e.next=10,r(_,{projectId:a.projectId||c});case 10:if(u=e.sent,2e4!==(u=u.data).code){e.next=19;break}if(U.t.remove(U.V.newEntry),a.id){e.next=17;break}return e.next=17,o({type:"fetchLinkList",payload:{projectId:a.projectId||c,searchTitleWord:s}});case 17:return e.next=19,o({type:"save",payload:b()({},a,{spuList:u.result.spuList,skuList:u.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}},e,null,[[7,21]])}),fetchAdd:T().mark(function e(t,n){var a,r,i,o,s,c,u,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return c=e.sent,s=c.projectId,u=c.connectionType,c=c.searchTitleWord,e.prev=8,e.next=11,r(S,b()({projectId:s},a,{connectionType:u}));case 11:if(u=e.sent,2e4===u.data.code)return H.Z.success("添加成功"),l=a.id,e.next=18,r(W,200);e.next=20;break;case 18:return e.next=20,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c,id:l}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(8);case 24:case"end":return e.stop()}},e,null,[[8,22]])}),fetchRemoveAll:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,u=u.connectionType,e.prev=8,e.next=11,r(g,{projectId:s,notRemoveId:a.notRemoveId,searchTitleWord:c,connectionType:u});case 11:if(u=e.sent,!(2e4===(u=u.data).code&&0<u.result.total)){e.next=18;break}if(H.Z.success("操作成功，该商品链接将标识为“已移出”"),a.isList)return e.next=18,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}},e,null,[[8,20]])}),fetchRemove:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return d=e.sent,s=d.projectId,c=d.listStatus,u=d.searchTitleWord,d=d.connectionType,e.prev=9,l=a.id,p=a.batchRemoveId,e.next=13,r(v,{projectId:s,batchRemoveId:p,searchTitleWord:u,connectionType:d});case 13:if(d=e.sent,!(2e4===(d=d.data).code&&0<d.result.total)){e.next=24;break}if(H.Z.success("操作成功，该商品链接将标识为“已移出”"),d=c.find(function(e){return e.id===l}),1===p.length&&d&&d.skus.find(function(e){return e.id===l}))return e.next=21,o({type:"save",payload:{listStatus:(0,J.ZP)(c,function(e){e.find(function(e){return e.id===l}).skus.find(function(e){return e.id===p[0]}).subscribeStatus="REMOVE"})}});e.next=21;break;case 21:if(a.isList)return e.next=24,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:u}});e.next=24;break;case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(9);case 28:case"end":return e.stop()}},e,null,[[9,26]])}),fetchIgnoreSingle:T().mark(function e(t,n){var a,r,i,o,s,c,u,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return s=e.sent,l=s.projectId,s=s.listStatus,e.prev=7,c=a.ignoreId,u=a.id,e.next=11,r(d,{projectId:l,ignoreId:c});case 11:if(l=e.sent,2e4!==l.data.code){e.next=19;break}if(H.Z.success("操作成功，该商品链接将标识为“暂忽略”"),(l=s.find(function(e){return e.id===u}))&&l.skus.find(function(e){return e.id===u}))return e.next=19,o({type:"save",payload:{listStatus:(0,J.ZP)(s,function(e){e.find(function(e){return e.id===u}).skus.find(function(e){return e.id===c}).subscribeStatus="IGNORE"})}});e.next=19;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}},e,null,[[7,21]])}),fetchIgnore:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,e.prev=7,e.next=10,r(w,{projectId:s,batchIgnoreId:a.batchIgnoreId,searchTitleWord:c});case 10:if(u=e.sent,2e4===u.data.code)return H.Z.success("操作成功，该商品链接将标识为“暂忽略”"),e.next=16,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])}),fetchIgnoreAll:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,u=u.connectionType,e.prev=8,e.next=11,r(k,{projectId:s,notIgnoreId:a.notIgnoreId,searchTitleWord:c,connectionType:u});case 11:if(u=e.sent,2e4===u.data.code)return H.Z.success("操作成功，该商品链接将标识为“暂忽略”"),e.next=17,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}},e,null,[[8,19]])}),fetchTopicOpts:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.select,i=n.put,e.next=4,r(function(e){return b()({},e)[Y]});case 4:return o=e.sent,s=o.projectId,o=[],e.prev=7,e.next=10,a(M,{projectId:s,valueFrom:[s]});case 10:s=e.sent,2e4===(s=s.data).code&&(o=s.result.result.filter(function(e){return"USER_CUSTOMIZE"===e.topicType})),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,i({type:"save",payload:{topicOpts:o}});case 20:return e.finish(17);case 21:return e.abrupt("return",o);case 22:case"end":return e.stop()}},e,null,[[7,15,17,21]])}),fetchTopicValue:T().mark(function e(t,n){var a,r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.select,n.put,e.next=4,r(L,{projectId:a.projectId,valueFrom:[a.projectId],topicId:a.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),fetchAddTopicValue:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return s=e.sent,s=s.projectId,e.next=8,r(F,{projectId:s,topicId:a.topicId,value:a.value});case 8:if(c=e.sent,2e4===(c=c.data).code)return e.next=13,o({type:"fetchTopicValue",payload:{projectId:s,topicId:a.topicId}});e.next=13;break;case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e)}),getFlavors:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return s=e.sent,c=s.projectId,s=s.selTypes,e.prev=7,e.next=10,r(z,{projectId:a.projectId||c});case 10:if(c=e.sent,2e4===(c=c.data).code&&c.result)return e.next=15,o({type:"save",payload:{selTypes:JSON.parse(c.result)||s}});e.next=15;break;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:case"end":return e.stop()}},e,null,[[7,17]])}),updateFlavors:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[Y]});case 4:return s=e.sent,c=s.projectId,s=s.selTypes,e.prev=7,s=a.selTypes||s,e.next=11,r(B,{projectId:c,value:JSON.stringify(s)});case 11:if(c=e.sent,2e4===c.data.code)return e.next=16,o({type:"save",payload:{selTypes:s}});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])})}}},10952:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var a=n(67154),h=n.n(a),t=n(87757),m=n.n(t),a=n(64396),t=n(48926),r=n.n(t),v=n(36144);function y(e){return i.apply(this,arguments)}function i(){return(i=r()(m().mark(function e(t){var n,a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageIndex,r=t.pageSize,i=t.searchTitleWord,o=t.ruleNumbers,s=t.connectionType,e.abrupt("return",v.h.post("/subproject-connection/list",{projectId:n,pageIndex:a,pageSize:r,searchTitleWord:i,ruleNumbers:o,connectionType:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return o.apply(this,arguments)}function o(){return(o=r()(m().mark(function e(t){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.h.post("/subproject-connection/addBatch",[].concat(t)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return s.apply(this,arguments)}function s(){return(s=r()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.ignoreId,r=t.connectionType,e.abrupt("return",v.h.post("/subproject-connection/ignore/single",{projectId:n,ignoreId:a,connectionType:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return c.apply(this,arguments)}function c(){return(c=r()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.batchIgnoreId,r=t.searchTitleWord,e.abrupt("return",v.h.post("/subproject-connection/ignore/batch",{projectId:n,batchIgnoreId:a,searchTitleWord:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return u.apply(this,arguments)}function u(){return(u=r()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.notIgnoreId,r=t.searchTitleWord,e.abrupt("return",v.h.post("/subproject-connection/ignore/all",{projectId:n,notIgnoreId:a,searchTitleWord:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=r()(m().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d,f,h;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.esId,r=t.spuId,i=t.spuName,o=t.skuId,s=t.skuName,c=t.name,u=t.url,l=t.sourceId,p=t.connectionId,d=t.customizeConfig,f=t.connectionType,h=t.packageType,e.abrupt("return",v.h.post("/subproject-connection/add",{projectId:n,esId:a,spuId:r,spuName:i,skuId:o,skuName:s,name:c,url:u,sourceId:l,connectionId:p,customizeConfig:d,connectionType:f,packageType:h}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=r()(m().mark(function e(t){var n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",v.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return w.apply(this,arguments)}function w(){return(w=r()(m().mark(function e(t){var n,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.connectionId,e.abrupt("return",v.h.post("/subproject-connection/find",{projectId:n,connectionId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e){return k.apply(this,arguments)}function k(){return(k=r()(m().mark(function e(t){var n,a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,o=t.pageSize,a=void 0===o?100:o,i=t.pageIndex,r=void 0===i?1:i,o=t.name,i=void 0===o?"":o,o=t.valueFrom,e.abrupt("return",v.h.post("/subscribe-topic/list",{projectId:n,pageIndex:r,pageSize:a,name:i,valueFrom:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=r()(m().mark(function e(t){var n,a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,i=t.valueFrom,s=t.pageSize,o=void 0===s?1e3:s,s=t.pageIndex,s=void 0===s?1:s,e.abrupt("return",v.h.post("/subscribe-topic-value/list",{projectId:n,topicId:a,value:r,valueFrom:i,pageSize:o,pageIndex:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e){return _.apply(this,arguments)}function _(){return(_=r()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,e.abrupt("return",v.h.post("/subscribe-topic-value/add",{projectId:n,topicId:a,value:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return(j=r()(m().mark(function e(t){var n,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.type,e.abrupt("return",v.h.post("/subscribe/rules",{projectId:n,type:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D=n(35239),M=n(5133),A=a.Z.product.setting.subscribe.overview,L={searchTitleWord:"",firstId:"",dataList:void 0,total:0,pageIndex:1,pageSize:10,spuList:void 0,skuList:void 0,topicOpts:void 0,ruleOpts:[],ruleNumbers:[],projectId:void 0,connectionType:void 0};const P={namespace:A,state:Object.assign({},L),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(){return Object.assign({},L)}},effects:{fetchLinkList:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,u=n.select,e.next=4,u(function(e){return h()({},e)[A]});case 4:return d=e.sent,o=d.pageIndex,s=d.pageSize,c=d.projectId,u=d.ruleNumbers,f=d.connectionType,l="error",p=0,d="",e.prev=11,f={searchTitleWord:a.searchTitleWord,ruleNumbers:a.ruleNumbers||u,pageIndex:a.pageIndex||o,pageSize:a.pageSize||s,projectId:a.projectId||c,connectionType:a.connectionType||f},e.next=15,i(y,f);case 15:f=e.sent,2e4===(f=f.data).code&&0<f.result.total?(l=f.result.list,p=f.result.total,d=l[0].id):l=[],e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:return e.prev=22,e.next=25,r({type:"save",payload:h()({},a,{dataList:l,total:p,firstId:d})});case 25:return e.finish(22);case 26:return e.abrupt("return",l);case 27:case"end":return e.stop()}},e,null,[[11,20,22,26]])}),fetchDetail:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,e.next=4,i(function(e){return h()({},e)[A]});case 4:return i=e.sent,i=i.projectId,e.next=8,r(I,{connectionId:a.connectionId,projectId:i});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}),fetchEntryOpts:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return h()({},e)[A]});case 4:return c=e.sent,s=c.searchTitleWord,c=c.projectId,e.prev=7,e.next=10,r(b,{projectId:a.projectId||c});case 10:if(u=e.sent,2e4!==(u=u.data).code){e.next=19;break}if(D.t.remove(D.V.newEntry),a.id){e.next=17;break}return e.next=17,o({type:"fetchLinkList",payload:{projectId:a.projectId||c,connectionType:a.connectionType,searchTitleWord:s}});case 17:return e.next=19,o({type:"save",payload:h()({},a,{spuList:u.result.spuList,skuList:u.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}},e,null,[[7,21]])}),fetchTopicOpts:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.select,i=n.put,e.next=4,r(function(e){return h()({},e)[A]});case 4:return o=e.sent,s=o.projectId,o=[],e.prev=7,e.next=10,a(E,{projectId:s,valueFrom:[s]});case 10:s=e.sent,2e4===(s=s.data).code&&(o=s.result.result.filter(function(e){return"USER_CUSTOMIZE"===e.topicType})),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,i({type:"save",payload:{topicOpts:o}});case 20:return e.finish(17);case 21:return e.abrupt("return",o);case 22:case"end":return e.stop()}},e,null,[[7,15,17,21]])}),fetchTopicValue:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.select,n.put,e.next=4,r(C,{projectId:a.projectId,valueFrom:[a.projectId],topicId:a.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),fetchAddTopicValue:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return h()({},e)[A]});case 4:return s=e.sent,s=s.projectId,e.next=8,r(N,{projectId:s,topicId:a.topicId,value:a.value});case 8:if(c=e.sent,2e4===(c=c.data).code)return e.next=13,o({type:"fetchTopicValue",payload:{projectId:s,topicId:a.topicId}});e.next=13;break;case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e)}),fetchAdd:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return h()({},e)[A]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,e.prev=7,e.next=10,r(g,h()({projectId:s},a,{connectionType:a.connectionType}));case 10:if(u=e.sent,2e4!==u.data.code){e.next=17;break}if(M.Z.success("添加成功"),a.isList)return e.next=17,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(7);case 21:case"end":return e.stop()}},e,null,[[7,19]])}),fetchAddAll:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return h()({},e)[A]});case 4:return c=e.sent,s=c.projectId,c=c.searchTitleWord,e.prev=7,e.next=10,r(l,a);case 10:if(u=e.sent,2e4===(u=u.data).code&&1<=u.result["插入成功"])return M.Z.success("添加成功"),e.next=16,i({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=18;break;case 16:e.next=19;break;case 18:(4500014===u.code||u.result["插入成功"]<1)&&M.Z.error("只有被维护好了SPU词条和SKU词条的商品链接才支持批量添加操作");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),4500014===e.t0.data.code&&M.Z.error("只有被维护好了SPU词条和SKU词条的商品链接才支持批量添加操作");case 24:case"end":return e.stop()}},e,null,[[7,21]])}),fetchIgnoreSingle:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return h()({},e)[A]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,u=u.connectionType,e.prev=8,e.next=11,r(p,{projectId:s,ignoreId:a.ignoreId,connectionType:u});case 11:if(u=e.sent,2e4!==u.data.code){e.next=18;break}if(M.Z.success("操作成功，该商品链接将标识为“暂忽略”"),a.isList)return e.next=18,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}},e,null,[[8,20]])}),fetchIgnore:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return h()({},e)[A]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,e.prev=7,e.next=10,r(d,{projectId:s,batchIgnoreId:a.batchIgnoreId,searchTitleWord:c});case 10:if(u=e.sent,2e4===u.data.code)return M.Z.success("操作成功，该商品链接将标识为“暂忽略”"),e.next=16,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])}),fetchIgnoreAll:m().mark(function e(t,n){var a,r,i,o,s,c,u;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return h()({},e)[A]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,e.prev=7,e.next=10,r(f,{projectId:s,notIgnoreId:a.notIgnoreId,searchTitleWord:c});case 10:if(u=e.sent,2e4===u.data.code)return M.Z.success("操作成功，该商品链接将标识为“暂忽略”"),e.next=16,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])}),fetchRuleList:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return h()({},e)[A]});case 4:return s=e.sent,s=s.projectId,e.prev=6,e.next=9,r(O,{projectId:a.projectId||s,type:a.type});case 9:if(s=e.sent,2e4===(s=s.data).code&&s.result.length)return e.next=14,o({type:"save",payload:{ruleOpts:s.result.map(function(e){return{id:e,name:e}})}});e.next=14;break;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}},e,null,[[6,16]])})}}},18460:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var a=n(67154),f=n.n(a),t=n(87757),h=n.n(t),a=n(64396),t=n(48926),r=n.n(t),m=n(36144);function v(e){return i.apply(this,arguments)}function i(){return(i=r()(h().mark(function e(t){var n,a,r,i,o;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageIndex,r=t.pageSize,i=t.searchTitleWord,o=t.connectionType,e.abrupt("return",m.h.post("/subproject-connection/recycle/list",{projectId:n,pageIndex:a,pageSize:r,searchTitleWord:i,connectionType:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return o.apply(this,arguments)}function o(){return(o=r()(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",m.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return s.apply(this,arguments)}function s(){return(s=r()(h().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d,f;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.esId,r=t.spuId,i=t.spuName,o=t.skuId,s=t.skuName,c=t.name,u=t.url,l=t.sourceId,p=t.connectionId,d=t.connectionType,f=t.packageType,e.abrupt("return",m.h.post("/subproject-connection/add",{projectId:n,esId:a,spuId:r,spuName:i,skuId:o,skuName:s,name:c,url:u,sourceId:l,connectionId:p,connectionType:d,packageType:f}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return(u=r()(h().mark(function e(t){var n,a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.connectionId,e.abrupt("return",m.h.post("/subproject-connection/find",{projectId:n,connectionId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return y.apply(this,arguments)}function y(){return(y=r()(h().mark(function e(t){var n,a,r,i,o;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,o=t.pageSize,a=void 0===o?100:o,i=t.pageIndex,r=void 0===i?1:i,o=t.name,i=void 0===o?"":o,o=t.valueFrom,e.abrupt("return",m.h.post("/subscribe-topic/list",{projectId:n,pageIndex:r,pageSize:a,name:i,valueFrom:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=r()(h().mark(function e(t){var n,a,r,i,o,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,i=t.valueFrom,s=t.pageSize,o=void 0===s?1e3:s,s=t.pageIndex,s=void 0===s?1:s,e.abrupt("return",m.h.post("/subscribe-topic-value/list",{projectId:n,topicId:a,value:r,valueFrom:i,pageSize:o,pageIndex:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=r()(h().mark(function e(t){var n,a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,e.abrupt("return",m.h.post("/subscribe-topic-value/add",{projectId:n,topicId:a,value:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var I=n(35239),w=n(5133),E=a.Z.product.setting.subscribe.recycling,k={searchTitleWord:"",firstId:"",dataList:void 0,total:0,pageIndex:1,pageSize:10,spuList:[],skuList:[],projectId:void 0,connectionType:void 0};const C={namespace:E,state:Object.assign({},k),reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clean:function(){return Object.assign({},k)}},effects:{fetchLinkList:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,c=n.select,e.next=4,c(function(e){return f()({},e)[E]});case 4:return p=e.sent,o=p.pageIndex,s=p.pageSize,c=p.projectId,d=p.connectionType,u="error",l=0,p="",e.prev=10,d={searchTitleWord:a.searchTitleWord,pageIndex:a.pageIndex||o,pageSize:a.pageSize||s,projectId:a.projectId||c,connectionType:d},e.next=14,i(v,d);case 14:d=e.sent,2e4===(d=d.data).code&&0<d.result.total?(u=d.result.list,l=d.result.total,p=u[0].id):u=[],e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.prev=21,e.next=24,r({type:"save",payload:f()({},a,{dataList:u,total:l,firstId:p})});case 24:return e.finish(21);case 25:return e.abrupt("return",u);case 26:case"end":return e.stop()}},e,null,[[10,19,21,25]])}),fetchDetail:h().mark(function e(t,n){var a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,e.next=4,i(function(e){return f()({},e)[E]});case 4:return i=e.sent,i=i.projectId,e.next=8,r(c,{connectionId:a.connectionId,projectId:i});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}),fetchEntryOpts:h().mark(function e(t,n){var a,r,i,o,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return f()({},e)[E]});case 4:return c=e.sent,s=c.searchTitleWord,c=c.projectId,e.prev=7,e.next=10,r(l,{projectId:a.projectId||c});case 10:if(u=e.sent,2e4!==(u=u.data).code){e.next=19;break}if(I.t.remove(I.V.newEntry),a.id){e.next=17;break}return e.next=17,o({type:"fetchLinkList",payload:{projectId:a.projectId||c,searchTitleWord:s}});case 17:return e.next=19,o({type:"save",payload:f()({},a,{spuList:u.result.spuList,skuList:u.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}},e,null,[[7,21]])}),fetchEdit:h().mark(function e(t,n){var a,r,i,o,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return f()({},e)[E]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,u=u.connectionType,e.prev=8,e.next=11,r(p,f()({projectId:s},a,{connectionType:u}));case 11:if(u=e.sent,2e4!==u.data.code){e.next=18;break}if(w.Z.success("添加成功"),a.isList)return e.next=18,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}},e,null,[[8,20]])}),fetchTopicOpts:h().mark(function e(t,n){var a,r,i,o,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.select,i=n.put,e.next=4,r(function(e){return f()({},e)[E]});case 4:return o=e.sent,s=o.projectId,o=[],e.prev=7,e.next=10,a(d,{projectId:s,valueFrom:[s]});case 10:s=e.sent,2e4===(s=s.data).code&&(o=s.result.result.filter(function(e){return"USER_CUSTOMIZE"===e.topicType})),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,i({type:"save",payload:{topicOpts:o}});case 20:return e.finish(17);case 21:return e.abrupt("return",o);case 22:case"end":return e.stop()}},e,null,[[7,15,17,21]])}),fetchTopicValue:h().mark(function e(t,n){var a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.select,n.put,e.next=4,r(g,{projectId:a.projectId,valueFrom:[a.projectId],topicId:a.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),fetchAddTopicValue:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return f()({},e)[E]});case 4:return s=e.sent,s=s.projectId,e.next=8,r(b,{projectId:s,topicId:a.topicId,value:a.value});case 8:if(c=e.sent,2e4===(c=c.data).code)return e.next=13,o({type:"fetchTopicValue",payload:{projectId:s,topicId:a.topicId}});e.next=13;break;case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e)})}}},24773:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),f=n.n(t),t=n(87757),y=n.n(t),g=n(5133),t=n(64396),p=n(36144);function h(e){var t=e.projectId,n=e.number,a=e.pageIndex,r=e.pageSize,e=e.type;return p.h.post("/subscribe/rule/list",{projectId:t,number:n,pageIndex:a,pageSize:r,type:e})}function i(){return p.h.get("account/basic_info/list")}function c(e){e=e.id;return p.h.post("/subscribe/rule/delete",{id:e})}function x(e){var t=e.projectId,n=e.sourceIds,a=e.shopTypes,r=e.shopIds,i=e.brandIds,o=e.ytCategoryIds,s=e.minPrice,c=e.maxPrice,u=e.autoAdd,l=e.packageType,e=e.id;return p.h.post("/subscribe/rule/update",{projectId:t,sourceIds:n,shopTypes:a,shopIds:r,brandIds:i,ytCategoryIds:o,minPrice:s,maxPrice:c,autoAdd:u,packageType:l,id:e})}function b(e){var t=e.projectId,n=e.sourceIds,a=e.shopTypes,r=e.shopIds,i=e.brandIds,o=e.ytCategoryIds,s=e.minPrice,c=e.maxPrice,u=e.autoAdd,l=e.packageType,e=e.type;return p.h.post("/subscribe/rule/add",{projectId:t,sourceIds:n,shopTypes:a,shopIds:r,brandIds:i,ytCategoryIds:o,minPrice:s,maxPrice:c,autoAdd:u,packageType:l,type:e})}function d(e){var t=e.projectId,e=(e.pageIndex,e.pageSize,e.type);return p.h.post("/subscribe/rule/filter/list",{projectId:t,pageIndex:1,pageSize:100,type:e})}var T=t.Z.product.setting.subscribe.rule,a={ruleList:void 0,total:0,pageIndex:1,pageSize:10,keyword:"",projectId:void 0,type:void 0,settingOpts:[],sourceIdOpts:[],shopIdOpts:[],brandIdOpts:[],shopTypeOpts:[],catIdOpts:[],packageTypeOpts:[{id:1,name:"未知"},{id:2,name:"套装"},{id:3,name:"非套装"}],connectCount:[0,1]};const r={namespace:T,state:JSON.parse(JSON.stringify(a)),effects:{fetchRuleList:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,u=n.select,r=n.put,i=n.call,e.next=4,u(function(e){return e[T]});case 4:return p=e.sent,o=p.projectId,s=p.keyword,c=p.pageIndex,u=p.pageSize,d=p.type,l="error",p=0,e.prev=11,e.next=14,i(h,{projectId:a.projectId||o,pageIndex:a.pageIndex||c,pageSize:a.pageSize||u,number:void 0!==a.keyword?a.keyword:s,type:a.type||d});case 14:d=e.sent,2e4===(d=d.data).code&&d.result.list.length?(l=d.result.list,p=d.result.total):l="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,r({type:"save",payload:f()({},a,{total:p,ruleList:l})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchConnectCount:y().mark(function e(t,n){var a,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.select,a=n.put,r=n.call,e.next=3,r(i);case 3:if(r=e.sent,2e4===(r=r.data).code)return r=r.result.resource,r=r.find(function(e){return"CONNECTION"===e.content}),e.next=10,a({type:"save",payload:{connectCount:[r.used,r.topLimit]}});e.next=10;break;case 10:case"end":return e.stop()}},e)}),deleteRule:y().mark(function e(t,n){var a,r,i,o,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.select,i=n.put,o=n.call,e.next=4,r(function(e){return e[T]});case 4:return s=e.sent,s=s.projectId,e.next=8,o(c,{projectId:a.projectId||s,id:a.id});case 8:if(s=e.sent,2e4===(s=s.data).code)return g.Z.success(s.msg),e.next=14,i({type:"fetchRuleList",payload:{}});e.next=14;break;case 14:case"end":return e.stop()}},e)}),updateRule:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,l=n.select,n.put,r=n.call,e.next=4,l(function(e){return e[T]});case 4:return d=e.sent,i=d.projectId,m=a.sourceId,o=void 0===m?[]:m,f=a.shopType,s=void 0===f?[]:f,p=a.shopId,c=void 0===p?[]:p,h=a.brandId,u=void 0===h?[]:h,v=a.catId,l=void 0===v?[]:v,d=a.price,m=void 0===d?[]:d,f=a.autoAdd,p=void 0===f||f,h=a.packageType,v=void 0===h?[]:h,d=a.id,f=a.callback,e.prev=7,h=m[0],m=m[1],e.next=11,r(x,{projectId:i,sourceIds:o.map(function(e){return e.id}),shopTypes:s.map(function(e){return e.id}),shopIds:c.map(function(e){return e.id}),brandIds:u.map(function(e){return e.id}),ytCategoryIds:l.map(function(e){return e.id}),minPrice:h,maxPrice:m,autoAdd:p,packageType:v.map(function(e){return e.name}),id:d});case 11:v=e.sent,2e4===(v=v.data).code?(g.Z.success(v.msg),f&&f(d)):g.Z.success(v.msg),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(7);case 18:case"end":return e.stop()}},e,null,[[7,16]])}),addRule:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,l=n.select,n.put,r=n.call,e.next=4,l(function(e){return e[T]});case 4:return f=e.sent,i=f.projectId,m=a.sourceId,o=void 0===m?[]:m,v=a.shopType,s=void 0===v?[]:v,p=a.shopId,c=void 0===p?[]:p,h=a.brandId,u=void 0===h?[]:h,d=a.catId,l=void 0===d?[]:d,f=a.price,m=void 0===f?[]:f,v=a.autoAdd,p=void 0===v||v,h=a.packageType,d=void 0===h?[]:h,f=a.callback,v=a.type,e.prev=7,h=m[0],m=m[1],e.next=11,r(b,{projectId:i,sourceIds:o.map(function(e){return e.id}),shopTypes:s.map(function(e){return e.id}),shopIds:c.map(function(e){return e.id}),brandIds:u.map(function(e){return e.id}),ytCategoryIds:l.map(function(e){return e.id}),minPrice:h,maxPrice:m,autoAdd:p,packageType:d.map(function(e){return e.name}),type:v});case 11:v=e.sent,2e4===(v=v.data).code?(g.Z.success(v.msg),f&&f(v.result)):g.Z.success(v.msg),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(7);case 18:case"end":return e.stop()}},e,null,[[7,16]])}),fetchRuleParams:y().mark(function e(t,n){var a,r,i,o,s,c,u,l;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.select,r=n.put,i=n.call,e.next=4,s(function(e){return e[T]});case 4:return l=e.sent,u=l.projectId,o=l.type,e.prev=7,e.next=10,i(d,{projectId:a.projectId||u,type:a.type||o});case 10:if(c=e.sent,2e4===(s=c.data).code)return l=s.result,u=l.shops,o=void 0===u?[]:u,c=l.brands,s=void 0===c?[]:c,u=l.sources,c=void 0===u?[]:u,u=l.shopTypes,u=void 0===u?[]:u,l=l.ytCategories,l=void 0===l?[]:l,e.next=16,r({type:"save",payload:f()({},a,{sourceIdOpts:c,shopIdOpts:o,brandIdOpts:s,shopTypeOpts:u,catIdOpts:l})});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])})},reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clean:function(){return Object.assign({},a)}}}},59134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(67154),b=n.n(a),t=n(87757),T=n.n(t),a=n(64396),I=n(99433),v=n(5133),w=n(35239),t=n(30381),E=a.Z.product.comment.subscribeLink,i=a.Z.IDBHeaderScreening.timeScreening,r={searchTitleWord:"",firstId:"",dataList:void 0,total:0,pageIndex:1,pageSize:10,spuList:void 0,skuList:void 0,topicOpts:void 0,ruleOpts:[],ruleNumbers:void 0,projectId:void 0,connectionType:void 0,state:void 0,status:void 0,dateFilter:{activeValueTime:"noTimeLimit"},ruleNameObj:void 0,showKind:null,selectedRowKeys:[],isAll:!1,salesStatus:"",maintainParams:{},countData:{totalHis:0,countUpcoming:0,totalAdd:0,totalIgnore:0},activeKeys:{totalHis:{status:[]},countUpcoming:{status:["INIT"]},totalAdd:{status:["ADD"]},totalIgnore:{status:["IGNORE"]}},downloadNumber:0,batchLoading:!1,panelShow:!1};const o={namespace:E,state:Object.assign({},r),reducers:{save:function(e,t){t=t.payload;return b()({},e,t)},clean:function(){return Object.assign({},r)},changeShow:function(e,t){t=t.payload;return b()({},e,{showKind:void 0===t?null:t})}},effects:{timerInit:T().mark(function e(t,n){var a,r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.call,n.select,e.next=4,r({type:i+"/init",payload:b()({},a)});case 4:case"end":return e.stop()}},e)}),fetchSubscribeCount:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,s=n.select,e.next=4,s(function(e){return b()({},e)[E]});case 4:return c=e.sent,o=c.projectId,s=c.connectionType,c=c.ruleNumbers,e.next=10,i(I.H2,{connectionType:s||a.connectionType,projectId:o||w.t.get(w.V.backProjectConfig).id,ruleNumbers:c||a&&a.ruleNumbers});case 10:if(c=e.sent,2e4===(c=c.data).code)return e.next=15,r({type:"save",payload:{countData:c.result.resultMap}});e.next=15;break;case 15:case"end":return e.stop()}},e)}),fetchLinkList:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,r({type:"save",payload:b()({},a)});case 4:return e.next=6,o(function(e){return b()({},e)[E]});case 6:return y=e.sent,s=y.pageIndex,c=y.pageSize,u=y.projectId,l=y.connectionType,x=y.state,p=y.ruleNumbers,d=y.dateFilter,f=y.status,g=y.salesStatus,h=y.maintainParams,m=y.searchTitleWord,v=[],y=0,e.prev=19,g=b()({pageIndex:s,pageSize:a&&a.pageSize||c,projectId:u||w.t.get(w.V.backProjectConfig).id,ruleNumbers:p||a&&a.ruleNumbers,connectionType:l||a.connectionType,searchTitleWord:m||a&&a.searchTitleWord,status:f||a&&a.status,dateFilter:d||a&&a.dateFilter,cardSearch:a&&a.cardSearch,salesStatus:g?[g]:[]},x),e.next=23,i(I.IC,g);case 23:if(x=e.sent,2e4===(x=x.data).code&&0<x.result.total)return v=x.result.list,y=x.result.total,h.params=g,e.next=31,r({type:"fetchSubscribeCount",payload:{projectId:u,connectionType:l,ruleNumbers:p}});e.next=33;break;case 31:e.next=34;break;case 33:v=[];case 34:e.next=38;break;case 36:e.prev=36,e.t0=e.catch(19);case 38:return e.prev=38,e.next=41,r({type:"save",payload:b()({},a,{dataList:v,total:y,maintainParams:h})});case 41:return e.finish(38);case 42:return e.abrupt("return",v);case 43:case"end":return e.stop()}},e,null,[[19,36,38,42]])}),fetchDetail:T().mark(function e(t,n){var a,r,i;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,e.next=4,i(function(e){return b()({},e)[E]});case 4:return i=e.sent,i=i.projectId,e.next=8,r(I.RR,{connectionId:a.connectionId,projectId:i||w.t.get(w.V.backProjectConfig).id});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}),fetchEntryOpts:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[E]});case 4:return c=e.sent,s=c.searchTitleWord,c=c.projectId,e.prev=7,e.next=10,r(I.AI,{projectId:a.projectId||c});case 10:if(u=e.sent,2e4!==(u=u.data).code){e.next=19;break}if(w.t.remove(w.V.newEntry),a.id){e.next=17;break}return e.next=17,o({type:"fetchLinkList",payload:{projectId:a.projectId||c,connectionType:a.connectionType,searchTitleWord:s}});case 17:return e.next=19,o({type:"save",payload:b()({},a,{spuList:u.result.spuList,skuList:u.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}},e,null,[[7,21]])}),fetchTopicOpts:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.select,i=n.put,e.next=4,r(function(e){return b()({},e)[E]});case 4:return o=e.sent,s=o.projectId,o=[],e.prev=7,e.next=10,a(I.hl,{projectId:s,valueFrom:[s]});case 10:s=e.sent,2e4===(s=s.data).code&&(o=s.result.result.filter(function(e){return"USER_CUSTOMIZE"===e.topicType})),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,i({type:"save",payload:{topicOpts:o}});case 20:return e.finish(17);case 21:return e.abrupt("return",o);case 22:case"end":return e.stop()}},e,null,[[7,15,17,21]])}),fetchTopicValue:T().mark(function e(t,n){var a,r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.select,n.put,e.next=4,r(I._c,{projectId:a.projectId,valueFrom:[a.projectId],topicId:a.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),fetchAddTopicValue:T().mark(function e(t,n){var a,r,i,o,s,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[E]});case 4:return s=e.sent,s=s.projectId,e.next=8,r(I.IU,{projectId:s,topicId:a.topicId,value:a.value});case 8:if(c=e.sent,2e4===(c=c.data).code)return e.next=13,o({type:"fetchTopicValue",payload:{projectId:s,topicId:a.topicId}});e.next=13;break;case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e)}),fetchAdd:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[E]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,e.prev=7,e.next=10,r(I.xZ,b()({projectId:s},a,{connectionType:a.connectionType}));case 10:if(u=e.sent,2e4!==u.data.code){e.next=17;break}if(v.Z.success("添加成功"),a.isList)return e.next=17,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(7);case 21:case"end":return e.stop()}},e,null,[[7,19]])}),fetchAddAll:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return b()({},e)[E]});case 4:return c=e.sent,s=c.projectId,c=c.searchTitleWord,e.prev=7,e.next=10,r(I.D7,a);case 10:if(u=e.sent,2e4===(u=u.data).code&&1<=u.result["插入成功"])return v.Z.success("添加成功"),e.next=16,i({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=18;break;case 16:e.next=19;break;case 18:(4500014===u.code||u.result["插入成功"]<1)&&v.Z.error("只有被维护好了SPU词条和SKU词条的商品链接才支持批量添加操作");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),4500014===e.t0.data.code&&v.Z.error("只有被维护好了SPU词条和SKU词条的商品链接才支持批量添加操作");case 24:case"end":return e.stop()}},e,null,[[7,21]])}),fetchIgnoreSingle:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[E]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,u=u.connectionType,e.prev=8,e.next=11,r(I.hj,{projectId:s,ignoreId:a.ignoreId,connectionType:u});case 11:if(u=e.sent,2e4===u.data.code)return v.Z.success("操作成功，该商品链接将标识为“已忽略”"),e.next=17,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=17;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),v.Z.error("操作失败");case 22:case"end":return e.stop()}},e,null,[[8,19]])}),fetchIgnore:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,o({type:"save",payload:b()({},a)});case 4:return e.next=6,i(function(e){return b()({},e)[E]});case 6:return m=e.sent,s=m.projectId,c=m.connectionType,u=m.ruleNumbers,l=m.dateFilter,p=m.status,d=m.searchTitleWord,f=m.selectedRowKeys,h=m.isAll,m=m.salesStatus,e.prev=16,e.next=19,r(I.Vu,{projectId:s||w.t.get(w.V.backProjectConfig).id,batchIgnoreId:a.selectedRowKeys||f,isAll:h||a.isAll,connectionType:c,searchTitleWord:d,ruleNumbers:u,dateFilter:l,salesStatus:m?[m]:[]});case 19:if(m=e.sent,2e4===m.data.code)return v.Z.success("操作成功，选中商品链接将标识为“已忽略”"),e.next=25,o({type:"fetchLinkList",payload:{projectId:s,connectionType:c,ruleNumbers:u,dateFilter:l,status:p,searchTitleWord:d}});e.next=29;break;case 25:return e.next=27,o({type:"fetchSubscribeCount",payload:{projectId:s,connectionType:c,ruleNumbers:u}});case 27:return e.next=29,o({type:"save",payload:{selectedRowKeys:[]}});case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(16),v.Z.error("操作失败");case 34:return e.abrupt("return",!0);case 35:case"end":return e.stop()}},e,null,[[16,31]])}),fetchLinkExport:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,d=n.put,e.next=4,d({type:"save",payload:b()({},a)});case 4:return e.next=6,i(function(e){return b()({},e)[E]});case 6:return h=e.sent,o=h.projectId,s=h.connectionType,c=h.ruleNumbers,u=h.dateFilter,l=h.status,p=h.searchTitleWord,d=h.selectedRowKeys,f=h.salesStatus,h=h.downloadNumber,e.prev=16,e.next=19,r(I.u$,{projectId:o||w.t.get(w.V.backProjectConfig).id,downloadIds:a.selectedRowKeys||d,connectionType:s,searchTitleWord:p,ruleNumbers:c,dateFilter:u,status:l,downloadNumber:h,salesStatus:f?[f]:[]});case 19:h=e.sent,2e4===(f=h.data).code&&f.result&&((h=document.createElement("a")).href=f.result,h.click(),v.Z.success("链接导出成功")),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),v.Z.error("操作失败");case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}},e,null,[[16,24]])}),fetchIgnoreAll:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return b()({},e)[E]});case 4:return u=e.sent,s=u.projectId,c=u.searchTitleWord,e.prev=7,e.next=10,r(I.vH,{projectId:s,notIgnoreId:a.notIgnoreId,searchTitleWord:c});case 10:if(u=e.sent,2e4===u.data.code)return v.Z.success("操作成功，该商品链接将标识为“已忽略”"),e.next=16,o({type:"fetchLinkList",payload:{projectId:s,searchTitleWord:c}});e.next=16;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),v.Z.error("操作失败");case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}},e,null,[[7,18]])}),fetchRuleList:T().mark(function e(t,n){var a,r,i,o;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,i=n.select,r=n.put,e.next=4,i(function(e){return b()({},e)[E]});case 4:return o=e.sent,i=o.projectId,o=o.connectionType,e.prev=7,e.next=10,a(I.sg,{projectId:i,type:o,pageSize:100});case 10:if(o=e.sent,2e4===(o=o.data).code&&o.result.list.length)return e.next=15,r({type:"save",payload:{ruleOpts:o.result.list.map(function(e){return{id:e.number,name:e.ruleName||e.number}})}});e.next=15;break;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:case"end":return e.stop()}},e,null,[[7,17]])})}}},99433:(e,t,n)=>{"use strict";n.d(t,{IC:()=>function(e){return i.apply(this,arguments)},u$:()=>function(e){return o.apply(this,arguments)},H2:()=>function(e){var t=e.projectId,n=e.connectionType,e=e.ruleNumbers;return v.h.post("/subscribe/connection/count",{projectId:t,connectionType:n,ruleNumbers:e})},D7:()=>function(e){return s.apply(this,arguments)},hj:()=>function(e){return c.apply(this,arguments)},Vu:()=>function(e){return u.apply(this,arguments)},vH:()=>function(e){return l.apply(this,arguments)},xZ:()=>function(e){return p.apply(this,arguments)},AI:()=>function(e){return d.apply(this,arguments)},RR:()=>function(e){return f.apply(this,arguments)},hl:()=>function(e){return h.apply(this,arguments)},_c:()=>function(e){return y.apply(this,arguments)},IU:()=>function(e){return g.apply(this,arguments)},sg:()=>function(e){return x.apply(this,arguments)}});var t=n(67154),a=n.n(t),t=n(48926),r=n.n(t),t=n(87757),m=n.n(t),v=n(36144);function i(){return(i=r()(m().mark(function e(t){var n,a,r,i,o,s,c,u,l,p;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageIndex,r=t.pageSize,i=t.searchTitleWord,o=t.ruleNumbers,s=t.connectionType,c=t.dateFilter,u=t.status,l=t.salesStatus,p=t.cardSearch,e.abrupt("return",v.h.post("/subproject-connection/list",{projectId:n,pageIndex:a,pageSize:r,searchTitleWord:i,ruleNumbers:o,connectionType:s,dateFilter:c,status:u,salesStatus:l,cardSearch:p}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(){return(o=r()(m().mark(function e(t){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.h.post("/excel/product/download",a()({},t)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(){return(s=r()(m().mark(function e(t){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.h.post("/subproject-connection/addBatch",[].concat(t)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=r()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.ignoreId,r=t.connectionType,e.abrupt("return",v.h.post("/subproject-connection/ignore/single",{projectId:n,ignoreId:a,connectionType:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=r()(m().mark(function e(t){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.h.post("/subproject-connection/ignore/batch",a()({},t)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=r()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.notIgnoreId,r=t.searchTitleWord,e.abrupt("return",v.h.post("/subproject-connection/ignore/all",{projectId:n,notIgnoreId:a,searchTitleWord:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=r()(m().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d,f,h;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.esId,r=t.spuId,i=t.spuName,o=t.skuId,s=t.skuName,c=t.name,u=t.url,l=t.sourceId,p=t.connectionId,d=t.customizeConfig,f=t.connectionType,h=t.packageType,e.abrupt("return",v.h.post("/subproject-connection/add",{projectId:n,esId:a,spuId:r,spuName:i,skuId:o,skuName:s,name:c,url:u,sourceId:l,connectionId:p,customizeConfig:d,connectionType:f,packageType:h}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(){return(d=r()(m().mark(function e(t){var n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",v.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=r()(m().mark(function e(t){var n,a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.connectionId,e.abrupt("return",v.h.post("/subproject-connection/find",{projectId:n,connectionId:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=r()(m().mark(function e(t){var n,a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,o=t.pageSize,a=void 0===o?100:o,i=t.pageIndex,r=void 0===i?1:i,o=t.name,i=void 0===o?"":o,o=t.valueFrom,e.abrupt("return",v.h.post("/subscribe-topic/list",{projectId:n,pageIndex:r,pageSize:a,name:i,valueFrom:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=r()(m().mark(function e(t){var n,a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,i=t.valueFrom,s=t.pageSize,o=void 0===s?1e3:s,s=t.pageIndex,s=void 0===s?1:s,e.abrupt("return",v.h.post("/subscribe-topic-value/list",{projectId:n,topicId:a,value:r,valueFrom:i,pageSize:o,pageIndex:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=r()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.topicId,r=t.value,e.abrupt("return",v.h.post("/subscribe-topic-value/add",{projectId:n,topicId:a,value:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(){return(x=r()(m().mark(function e(t){var n,a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.type,r=t.pageSize,e.abrupt("return",v.h.post("/subscribe/rule/list",{projectId:n,type:a,pageSize:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}},90430:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});n(75314);var v=n(11187),t=n(67154),m=n.n(t),t=n(87757),y=n.n(t),t=n(64396),g=n(35239),d=n(36144);function h(e){var t=e.projectId,n=e.number,a=e.pageIndex,r=e.pageSize,i=e.type,e=e.ruleName;return d.h.post("/subscribe/rule/list",{projectId:t,number:n,pageIndex:a,pageSize:r,type:i,ruleName:e})}function i(){return d.h.get("account/basic_info/list")}function c(e){e=e.id;return d.h.post("/subscribe/rule/delete",{id:e})}function x(e){var t=e.projectId,n=e.sourceIds,a=e.shopTypes,r=e.shopIds,i=e.brandIds,o=e.ytCategoryIds,s=e.minPrice,c=e.maxPrice,u=e.autoAdd,l=e.packageType,p=e.ruleName,e=e.type;return d.h.post("/subscribe/rule/add",{projectId:t,sourceIds:n,shopTypes:a,shopIds:r,brandIds:i,ytCategoryIds:o,minPrice:s,maxPrice:c,autoAdd:u,ruleName:p,packageType:l,type:e})}function p(e){var t=e.projectId,e=(e.pageIndex,e.pageSize,e.type);return d.h.post("/subscribe/rule/filter/list",{projectId:t,pageIndex:1,pageSize:100,type:e})}function b(e){var t=e.queryType,n=e.words,a=e.pageIndex,r=e.pageSize,i=e.projectId,o=e.platform,e=e.shopType;return d.h.post("/subscribe/rule/filter/find",{queryType:t,words:n,pageIndex:a,pageSize:r,projectId:i,platform:o,shopType:e})}function u(e){var t=e.projectId,e=e.connectionType;return d.h.post("/subscribe/connection/count",{projectId:t,connectionType:e})}function l(e){var t=e.ruleName,n=e.projectId,e=e.type;return d.h.post("/subscribe/rule/name/check",{ruleName:t,projectId:n,type:e})}function f(e){var t=e.ruleName,n=e.id,a=e.projectId,e=e.type;return d.h.post("/subscribe/rule/rename",{ruleName:t,id:n,projectId:a,type:e})}var T=t.Z.product.comment.smartSubscribe,a={ruleList:void 0,total:0,pageIndex:1,pageSize:10,keyword:"",projectId:void 0,type:void 0,settingOpts:[],sourceIdOpts:[],shopIdOpts:[],brandIdOpts:[],shopTypeOpts:[],catIdOpts:[],packageTypeOpts:[{id:1,name:"未知"},{id:2,name:"套装"},{id:3,name:"非套装"}],connectCount:[0,1],countData:void 0,numberList:void 0,filterOptions:void 0,ruleName:""};const r={namespace:T,state:JSON.parse(JSON.stringify(a)),effects:{fetchSubscribeCount:y().mark(function e(t,n){var a,r,i,o,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,r=n.put,i=n.call,e.next=4,o(function(e){return e[T]});case 4:return s=e.sent,o=s.projectId,s=s.type,e.next=9,i(u,{projectId:o||g.t.get(g.V.backProjectConfig).id,connectionType:s||a.type});case 9:if(s=e.sent,2e4===(s=s.data).code)return s=s.result.resultMap,e.next=15,r({type:"save",payload:{countData:s}});e.next=15;break;case 15:case"end":return e.stop()}},e)}),fetchRuleList:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,l=n.select,r=n.put,i=n.call,e.next=4,l(function(e){return e[T]});case 4:return d=e.sent,o=d.projectId,s=d.keyword,c=d.pageIndex,u=d.pageSize,l=d.type,f=d.ruleName,p=[],d=0,e.prev=12,e.next=15,i(h,{projectId:o||g.t.get(g.V.backProjectConfig).id,pageIndex:a&&a.pageIndex||c,pageSize:a&&a.pageSize||u,number:s,type:l||a.type,ruleName:a&&a.ruleName||f});case 15:f=e.sent,2e4===(f=f.data).code&&f.result.list.length&&(p=f.result.list,d=f.result.total),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,r({type:"save",payload:m()({},a,{total:d,ruleList:p})});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])}),fetchConnectCount:y().mark(function e(t,n){var a,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.select,a=n.put,r=n.call,e.next=3,r(i);case 3:if(r=e.sent,2e4===(r=r.data).code)return r=r.result.resource,r=r.find(function(e){return"CONNECTION"===e.content}),e.next=10,a({type:"save",payload:{connectCount:[r.used,r.topLimit]}});e.next=10;break;case 10:case"end":return e.stop()}},e)}),deleteRule:y().mark(function e(t,n){var a,r,i,o,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.select,i=n.put,o=n.call,e.next=4,r(function(e){return e[T]});case 4:return s=e.sent,s=s.projectId,e.next=8,o(c,{projectId:s||g.t.get(g.V.backProjectConfig).id,id:a});case 8:if(s=e.sent,2e4===(s=s.data).code)return v.default.success(s.msg),e.next=14,i({type:"fetchRuleList",payload:{}});e.next=16;break;case 14:return e.next=16,i({type:"fetchSubscribeCount",payload:{}});case 16:case"end":return e.stop()}},e)}),fetchRuleRename:y().mark(function e(t,n){var a,r,i,o,s,c,u;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.select,n.put,r=n.call,e.next=4,s(function(e){return e[T]});case 4:return u=e.sent,i=u.projectId,o=a.id,s=a.ruleName,c=a.callback,u=a.type,e.prev=7,e.next=10,r(f,{projectId:i||g.t.get(g.V.backProjectConfig).id,ruleName:s,id:o,type:u});case 10:u=e.sent,2e4===(u=u.data).code?(v.default.success(u.msg),c&&c(o)):v.default.success(u.msg),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:case"end":return e.stop()}},e,null,[[7,15]])}),addRule:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,h=n.select,n.put,r=n.call,e.next=4,h(function(e){return e[T]});case 4:return l=e.sent,i=l.projectId,p=a.sourceId,o=void 0===p?[]:p,d=a.shopType,s=void 0===d?[]:d,m=a.shopId,c=void 0===m?[]:m,f=a.brandId,u=void 0===f?[]:f,h=a.catId,l=void 0===h?[]:h,p=a.ruleName,d=a.callback,m=a.type,f=a.minPrice,h=a.maxPrice,e.prev=7,e.next=10,r(x,{projectId:i||g.t.get(g.V.backProjectConfig).id,sourceIds:o,shopTypes:s,shopIds:c,brandIds:u,ytCategoryIds:l,minPrice:f,maxPrice:h,ruleName:p,type:m});case 10:m=e.sent,2e4===(m=m.data).code?(v.default.success("成功保存订阅规则"),d&&d(m.result)):v.default.success(m.msg),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:case"end":return e.stop()}},e,null,[[7,15]])}),fetchRuleParams:y().mark(function e(t,n){var a,r,i,o,s,c,u,l;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.select,r=n.put,i=n.call,e.next=4,s(function(e){return e[T]});case 4:return l=e.sent,u=l.projectId,o=l.type,e.prev=7,e.next=10,i(p,{projectId:u||g.t.get(g.V.backProjectConfig).id,type:a.type||o});case 10:if(c=e.sent,2e4===(s=c.data).code)return l=s.result,u=l.shops,o=void 0===u?[]:u,c=l.brands,s=void 0===c?[]:c,u=l.sources,c=void 0===u?[]:u,u=l.shopTypes,u=void 0===u?[]:u,l=l.ytCategories,l=void 0===l?[]:l,e.next=16,r({type:"save",payload:m()({},a,{sourceIdOpts:c,shopIdOpts:o,brandIdOpts:s,shopTypeOpts:u,catIdOpts:l})});e.next=16;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])}),searchRuleParams:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.select,i=n.put,o=n.call,e.next=4,r(function(e){return e[T]});case 4:return h=e.sent,s=h.projectId,c=a.queryType,u=a.words,l=a.platform,p=a.shopType,d=a.judge,(f={})[c+"Loading"]=!0,e.next=11,i({type:"save",payload:m()({},f)});case 11:return e.prev=11,e.next=14,o(b,{projectId:s||g.t.get(g.V.backProjectConfig).id,queryType:c.replace("Id","Name"),words:u,platform:l,shopType:p});case 14:h=e.sent,2e4===(h=h.data).code&&(d&&(f[c+"Opts"]=h.result),f[c+"Opt"]=h.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,f[c+"Loading"]=!1,e.next=25,i({type:"save",payload:m()({},a,f)});case 25:return e.finish(21);case 26:case"end":return e.stop()}},e,null,[[11,19,21,26]])}),ruleNameCheck:y().mark(function e(t,n){var a,r,i,o,s,c,u;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.select,n.put,r=n.call,e.next=4,s(function(e){return e[T]});case 4:return c=e.sent,i=c.projectId,o=a.ruleName,s=a.type,c=!0,e.prev=8,e.next=11,r(l,{ruleName:o,projectId:i||g.t.get(g.V.backProjectConfig).id,type:s});case 11:u=e.sent,2e4===u.data.code&&(c=TextTrackCue),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(8),v.default.destroy(),u=e.t0.data,c="规则名称不能重复"!==u.msg;case 21:return e.abrupt("return",c);case 22:case"end":return e.stop()}},e,null,[[8,16]])})},reducers:{save:function(e,t){t=t.payload;return m()({},e,t)},clean:function(){return Object.assign({},a)}}}},78144:(e,t,n)=>{"use strict";n.d(t,{Y:()=>function(e){void 0===e&&(e=[]);return[{title:"配置"}].concat(e)},u:()=>function(e){var t=e.location,n=t.pathname,a=t.state,r=e.fatherTitle,t=[];n.includes("comment")&&t.push({title:"电商评论",url:""});n.includes("price")&&t.push({title:"电商监控",url:""});e=n&&n.split("/")[3];{if(n.includes("subscribe")?t.push({title:"智能订阅",url:"/account/project/"+e+"/subscribe"}):t.push({title:"链接管理",url:"/account/project/"+e+"/link"}),a&&a.ruleNameObj&&a.ruleNameObj.ruleName&&t.push({title:a.ruleNameObj.ruleName,url:a.ruleNameObj.url||void 0,state:a.ruleNameObj.state||void 0}),a&&a.title&&t.push({title:a.title}),r&&r[0].url.includes("/account/project"))return[{title:"所有项目",url:"/account/project"},{title:"数据链接",url:"/account/project/preview"}].concat(t);if(r&&r[0].url.includes("/product/overview"))return[{title:"项目概况",url:"/account/project/preview"},{title:"数据链接",url:"/account/project/preview"}].concat(t)}return[{title:"数据链接",url:"/account/project/preview"}].concat(t)}})},4167:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),u=n.n(t),t=n(87757),l=n.n(t),a=n(36144);function p(e){return a.h.post("/tag/type/list",u()({},e))}function c(e){return a.h.post("/tag/update",u()({},e))}function s(e){return a.h.post("/tag/type/update",u()({},e))}function d(e){return a.h.post("/tag/delete",u()({},e))}function f(e){return a.h.post("/tag/type/delete",u()({},e))}function h(e){return a.h.post("/tag/add",u()({},e))}function i(e){return a.h.post("/tag/used",u()({},e))}function o(e){return a.h.post("/tag/type/used",u()({},e))}var m=n(5133),v=n(64396).Z.project.tag;const r={namespace:v,state:{modalShow:!1,modalMode:"addTag",targetTag:{id:"",name:"",tagTypeId:"",tagTypeName:""},tagTypeList:[],tempTagTypeList:[],step:1,list:[],total:0,pageIndex:1,pageSize:20,projectId:"",nameExists:!1,referenceNum:0},effects:{fetchTagList:l().mark(function e(t,n){var a,r,i,o,s,c;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.select,i=n.put,e.prev=1,e.next=4,r(function(e){return u()({},e)[v]});case 4:return s=e.sent,c=s.pageIndex,o=s.pageSize,s=s.projectId,e.next=10,a(p,{projectId:s,pageIndex:c,pageSize:o});case 10:if((s=e.sent).data.result)return c=s.data.result,o=c.count,s=c.result,c=s,e.next=16,i({type:"save",payload:{total:o||0,list:s||[],tagTypeList:c,tempTagTypeList:c}});e.next=16;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.error(e.t0);case 21:case"end":return e.stop()}},e,null,[[1,18]])}),renameTag:l().mark(function e(t,n){var a,r,i,o,s;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.prev=1,e.next=4,i(function(e){return u()({},e)[v]});case 4:return o=e.sent,s=o.targetTag,i=s.id,o=s.name,s=s.tagTypeId,e.next=11,a(c,{tagId:i,tagName:o,tagTypeId:s});case 11:if(2e4===e.sent.data.code)return m.Z.success("操作成功"),e.next=16,r({type:"reset"});e.next=18;break;case 16:return e.next=18,r({type:"fetchTagList"});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.error(e.t0);case 23:case"end":return e.stop()}},e,null,[[1,20]])}),renameTagType:l().mark(function e(t,n){var a,r,i,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.put,o=n.select,e.prev=2,e.next=5,o(function(e){return u()({},e)[v]});case 5:return i=e.sent,o=i.targetTag,i=o.tagTypeId,o=o.tagTypeName,e.next=11,a(s,{tagTypeId:i,tagTypeName:o});case 11:if(2e4===e.sent.data.code)return m.Z.success("操作成功"),e.next=16,r({type:"reset"});e.next=18;break;case 16:return e.next=18,r({type:"fetchTagList"});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.error(e.t0);case 23:case"end":return e.stop()}},e,null,[[2,20]])}),deleteTag:l().mark(function e(t,n){var a,r,i,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.prev=1,e.next=4,o(function(e){return u()({},e)[v]});case 4:return i=e.sent,o=i.targetTag,i=o.id,o=o.name,e.next=10,a(d,{tagId:i,tagName:o});case 10:if(2e4===e.sent.data.code)return m.Z.success("操作成功"),e.next=15,r({type:"save",payload:{tipModalShow:!1}});e.next=19;break;case 15:return e.next=17,r({type:"reset"});case 17:return e.next=19,r({type:"fetchTagList"});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.error(e.t0);case 24:case"end":return e.stop()}},e,null,[[1,21]])}),deleteTagType:l().mark(function e(t,n){var a,r,i,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,o=n.select,e.prev=1,e.next=4,o(function(e){return u()({},e)[v]});case 4:return i=e.sent,o=i.targetTag,i=o.tagTypeId,o=o.tagTypeName,e.next=10,a(f,{tagTypeId:i,tagTypeName:o});case 10:if(2e4===e.sent.data.code)return m.Z.success("操作成功"),e.next=15,r({type:"save",payload:{tipModalShow:!1}});e.next=19;break;case 15:return e.next=17,r({type:"reset"});case 17:return e.next=19,r({type:"fetchTagList"});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.error(e.t0);case 24:case"end":return e.stop()}},e,null,[[1,21]])}),addTag:l().mark(function e(t,n){var a,r,i,o,s,c;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.put,c=n.select,e.prev=2,s=o.targetTag,i=s.name,o=s.tagTypeId,s=s.tagTypeName,e.next=6,c(function(e){return u()({},e)[v]});case 6:return c=e.sent,c=c.projectId,e.next=10,a(h,{projectId:c,tagName:i,tagTypeId:o,tagTypeName:s});case 10:if(2e4===e.sent.data.code)return e.next=14,r({type:"save",payload:{step:2,targetTag:{id:"",name:"",tagTypeId:"",tagTypeName:""}}});e.next=16;break;case 14:return e.next=16,r({type:"fetchTagList"});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.error(e.t0);case 21:case"end":return e.stop()}},e,null,[[2,18]])}),fetchTagReferenceNum:l().mark(function e(t,n){var a,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.put,n.select,e.prev=2,r=r.tagId,e.next=6,a(i,{tagId:r});case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),fetchTagTypeReferenceNum:l().mark(function e(t,n){var a,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.put,n.select,e.prev=2,r=r.tagTypeId,e.next=6,a(o,{tagTypeId:r});case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}),reset:l().mark(function e(t,n){var a;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.next=3,a({type:"saveState",payload:{modalShow:!1,tipModalShow:!1,step:1,targetTag:{id:"",name:"",tagTypeId:"",tagTypeName:""},nameExists:!1}});case 3:case"end":return e.stop()}},e)}),saveState:l().mark(function e(t,n){var a,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"save",payload:a});case 4:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return u()({},e,t)}}}},75016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),a=n(36144);function f(e){var t=e.projectId,e=e.resource;return a.h.post("/filter/list/cache",{projectId:t,resource:e})}function h(e,t){return e&&e[t]?e[t].md5:t}var t=n(64396),m=n(90549),v=n(35239),c=t.Z.global;const r={namespace:c,state:{ruleSettingList:[],publicResource:{}},effects:{init:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,n.call,a=n.put,r=n.select,n.take,i=(i||{}).projectId,i=void 0===i?v.t.get(v.V.curProject).id:i,e.next=5,r(function(e){return e[c]});case 5:if(s=e.sent,(o=s.publicResource).projectId===i)return e.abrupt("return",o);e.next=9;break;case 9:return e.next=11,m.Z.get(m.Z.store.projectData,""+i);case 11:if(s=e.sent,s=s[0])return e.next=16,a({type:"save",payload:{publicResource:p()({projectId:i},s||{})}});e.next=17;break;case 16:return e.abrupt("return");case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}},e)}),fetchPublicData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,a=n.call,r=n.put,n.select,n.take,o=s.projectId,i=void 0===o?v.t.get(v.V.curProject).id:o,o=(s||{}).types,e.next=6,m.Z.get(m.Z.store.projectData,""+i);case 6:if(s=e.sent,c=s[0],o&&o.length<1)return e.next=11,r({type:"save",payload:{publicResource:p()({projectId:i},c||{})}});e.next=12;break;case 11:return e.abrupt("return");case 12:return u=o?o.reduce(function(e,t){return e[t]=h(c,t),e},{}):{CHECK_ENUM:h(c,"CHECK_ENUM"),ACCOUNT_SOURCE:h(c,"ACCOUNT_SOURCE"),BRAND_SERIES:h(c,"BRAND_SERIES"),VOC_ASPECT:h(c,"VOC_ASPECT"),TAG_TYPE:h(c,"TAG_TYPE"),TAG_DETAIL:h(c,"TAG_DETAIL"),ASPECT_MODEL:h(c,"ASPECT_MODEL"),USER_TEMPLATE_MODEL:h(c,"USER_TEMPLATE_MODEL"),BUSINESS_POINT:h(c,"BUSINESS_POINT"),MARKET_SPU_BRAND:h(c,"MARKET_SPU_BRAND"),MARKET_PLATFORM_SHOP:h(c,"MARKET_PLATFORM_SHOP"),PRICE_RANGE:h(c,"PRICE_RANGE"),CUSTOMER_TAG:h(c,"CUSTOMER_TAG"),QUESTION_NAME:h(c,"QUESTION_NAME"),MOBILE_DICT:h(c,"MOBILE_DICT"),WAITER_RELATION:h(c,"WAITER_RELATION"),WAITER_ASPECT_TREE:h(c,"WAITER_ASPECT_TREE"),WAITER_SESSION_ASPECT:h(c,"WAITER_SESSION_ASPECT"),TOPIC_CONFIG:h(c,"TOPIC_CONFIG"),SCENE_CONFIG:h(c,"SCENE_CONFIG"),CONN_CONFIG:h(c,"CONN_CONFIG"),CHECK_OWNER:h(c,"CHECK_OWNER"),USER_FILTER:h(c,"USER_FILTER"),DEFAULT_VALUE:h(c,"DEFAULT_VALUE")},e.next=15,a(f,{resource:u,projectId:i});case 15:if(u=e.sent,u=u.data.result,l={},u.forEach(function(e){return l[e.id]=e}),c)return e.next=22,a(m.Z.update,m.Z.store.projectData,p()({},c,l));e.next=24;break;case 22:e.next=26;break;case 24:return e.next=26,a(m.Z.add,m.Z.store.projectData,p()({projectId:i},l));case 26:return e.next=28,r({type:"save",payload:{publicResource:p()({projectId:i},c||{},l)}});case 28:return e.abrupt("return");case 29:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return p()({},e,t)}}}},70444:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),r=n.n(t),t=n(87757),h=n.n(t),t=n(64396),c=n(36144);Array.from({length:20}).map((e,t)=>({id:"3484480b2f8f467e9f08e5383a953adb",warningLogId:"3484480b2f8f467e9f08e5383a953adb",title:`微博电池发热预警预警${t+1}`,remindMsg:"任一事件的近30分钟【负面声量】为234",createdAt:"2019-1-01 10:00",status:"READ"})),Array.from({length:5}).map((e,t)=>({name:`预警专题${t+1}`,id:`${t}`})),Array.from({length:10}).map(e=>({dateRangeType:"LAST_THREE_DAYS",threshold:`${Math.round(100*Math.random())}`,warningValue:`${Math.round(1e3*Math.random())}`}));function m(e){var t=e.projectId,n=e.title,a=e.statusList,r=e.specialTopicIds,i=e.calTypes,o=e.dateRangeTypes,s=e.pageIndex,e=e.pageSize;return c.h.post("/warning/log/public/opinion/list",{projectId:t,title:n,statusList:a?[a]:["READ","UNREAD"],specialTopicIds:r,calTypes:i,dateRangeTypes:o,pageIndex:s,pageSize:e})}function o(e){e=e.projectId;return c.h.post("/public-opinion-warning/search/list",{projectId:e})}var i={isInitial:!0,projectId:"",searchText:"",status:"",topicOptions:[],topicValue:[],calTypes:[],dateRangeTypes:[],pageIndex:1,pageSize:20,total:0,readCount:0,unReadCount:0,list:[]},v=t.Z.sentiment.alert;const a={namespace:v,state:i,effects:{fetchTopic:h().mark(function e(t,n){var a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,n.select,e.prev=2,i=i.projectId,e.next=6,a(o,{projectId:i});case 6:if(i=e.sent,2e4===(i=i.data).code)return i=i.result.publicOpinionSpecialTopicList,e.next=12,r({type:"save",payload:{topicOptions:i}});e.next=12;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[2,14]])}),fetchAlertList:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.prev=2,e.next=5,u(function(e){return e[v]});case 5:return l=e.sent,o=l.projectId,s=l.searchText,c=l.status,u=l.topicValue,p=l.calTypes,d=l.dateRangeTypes,f=l.pageIndex,l=l.pageSize,e.next=16,r(m,{projectId:a.projectId||o,title:s,statusList:Object.prototype.hasOwnProperty.call(a,"status")?a.status:c,specialTopicIds:a.topicValue||u,calTypes:a.calTypes||p,dateRangeTypes:a.dateRangeTypes||d,pageIndex:a.pageIndex||f,pageSize:a.pageSize||l});case 16:if(p=e.sent,2e4===(d=p.data).code)return f=d.result,l=f.total,p=f.list,d=f.readCount,f=f.unReadCount,e.next=22,i({type:"save",payload:{list:p,total:l,readCount:d,unReadCount:f}});e.next=22;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),console.error(e.t0);case 27:return e.prev=27,e.next=30,i({type:"save",payload:a});case 30:return e.finish(27);case 31:case"end":return e.stop()}},e,null,[[2,24,27,31]])}),resetState:h().mark(function e(t,n){var a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.next=3,a({type:"save",payload:r()({},i)});case 3:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return r()({},e,t)}}}},41263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),d=n.n(t),t=n(87757),f=n.n(t),i=n(36144);function l(e){var t=e.projectId,n=e.dateFilter,a=e.specialTopicId,e=e.eventName;return i.h.post("/public-opinion/chart/find/CHANNEL_DISTRIBUTION",((n={projectId:t,dateFilter:n})[a?"specialTopicId":"eventName"]=[a||e],n))}function p(e){var t=e.projectId,n=e.dateFilter,a=e.specialTopicId,e=e.eventName;return i.h.post("/public-opinion-overview/chart/find/CHANNEL_ANALYSIS_POINT_CHART",((n={projectId:t,dateFilter:n})[a?"topicId":"eventName"]=a||[e],n))}function h(e){var t=e.projectId,n=e.dateFilter,a=e.channel,r=e.specialTopicId,e=e.eventName;return i.h.post("/public-opinion-overview/chart/find/CHANNEL_ANALYSIS_TREND_CHART",((a={projectId:t,dateFilter:n,channel:a})[r?"topicId":"eventName"]=r||[e],a))}var m=n(64396).Z.sentiment.analysis.channel,a={specialTopicId:void 0,eventName:void 0,filterName:"",projectId:void 0,channelList:void 0,analyzePointList:void 0,channelTrendList:void 0,selectChannel:{}};const r={namespace:m,state:a,dateFilter:void 0,reducers:{save:function(e,t){t=t.payload;return d()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{init:f().mark(function e(t,n){var a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"fetchChannelList"});case 4:return e.next=6,a({type:"fetchAnalyzePointList"});case 6:case"end":return e.stop()}},e)}),fetchChannelList:f().mark(function e(t,n){var a,r,i,o,s,c,u;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.put,s=n.select,e.next=4,s(function(e){return e[m]});case 4:return c=e.sent,i=c.dateFilter,o=c.projectId,s=c.specialTopicId,c=c.eventName,e.prev=9,e.next=12,a(l,{dateFilter:i,projectId:o,specialTopicId:s,eventName:c});case 12:u=e.sent,u=u.data,u=2e4===u.code?u.result?0===u.result.length?"empty":u.result:null:"error",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),u="error";case 20:return e.prev=20,e.next=23,r({type:"save",payload:{channelList:u}});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[9,17,20,24]])}),fetchAnalyzePointList:f().mark(function e(t,n){var a,r,i,o,s,c,u;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.put,s=n.select,e.next=4,s(function(e){return e[m]});case 4:return c=e.sent,i=c.dateFilter,o=c.projectId,s=c.specialTopicId,c=c.eventName,e.prev=9,e.next=12,a(p,{dateFilter:i,projectId:o,specialTopicId:s,eventName:c});case 12:u=e.sent,u=u.data,u=2e4===u.code?u.result?0===u.result.length?"empty":u.result:null:"error",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),u="error";case 20:return e.prev=20,e.next=23,r({type:"save",payload:{analyzePointList:u}});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[9,17,20,24]])}),channelChange:f().mark(function e(t,n){var a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"save",payload:{channelTrendList:void 0,selectChannel:a}});case 4:return e.next=6,r({type:"fetchChannelTrendList"});case 6:case"end":return e.stop()}},e)}),fetchChannelTrendList:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return e[m]});case 4:return u=e.sent,l=u.dateFilter,o=u.projectId,s=u.specialTopicId,c=u.eventName,u=u.selectChannel,l=d()({},l,{dateGroupType:a||"DAY"}),e.prev=11,e.next=14,r(h,{dateFilter:l,projectId:o,specialTopicId:s,eventName:c,channel:u.id});case 14:p=e.sent,p=p.data,p=2e4===p.code?p.result||null:"error",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),p="error";case 22:return e.prev=22,e.next=25,i({type:"save",payload:{channelTrendList:p}});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,19,22,26]])})}}},57847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),c=n.n(t),t=n(87757),f=n.n(t),i=n(36144);function h(e){var t=e.eventName,n=e.projectId,a=e.dateFilter,r=e.pageIndex,e=e.pageSize;return i.h.post("/public-opinion-overview/event/context/list",{projectId:n,eventName:t,dateFilter:a,pageIndex:r,pageSize:e})}function u(t){return new Promise(function(e){return setTimeout(e,t)})}var m=n(64396).Z.sentiment.analysis.eventContext,a={projectId:void 0,dateFilter:null,pageIndex:1,pageSize:20,eventContext:[],total:0,title:"",hasMore:!0};const r={namespace:m,state:a,reducers:{save:function(e,t){t=t.payload;return c()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchEventContextDatas:f().mark(function e(t,n){var a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[m]});case 4:if(s=e.sent,o=s.dateFilter,s=s.projectId,JSON.stringify(o)!==JSON.stringify(a.dateFilter)||s!==a.projectId)return e.next=10,i({type:"save",payload:c()({},a,{hasMore:!0,pageIndex:1})});e.next=14;break;case 10:return e.next=12,r(u,a.timeOut);case 12:return e.next=14,i({type:"fetchEventData",payload:a});case 14:case"end":return e.stop()}},e)}),fetchEventData:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return e[m]});case 4:if(l=e.sent,p=l.pageIndex,d=l.pageSize,o=l.eventContext,s=l.title,c=l.dateFilter,u=l.projectId,l=l.hasMore,p=a.pageIndex||p,d={dateFilter:a.dateFilter||c,projectId:a.projectId||u,eventName:[s],pageIndex:20*(p-1)+1,pageSize:d},l)return e.prev=15,e.next=18,r(h,d);e.next=28;break;case 18:if(d=e.sent,2e4===(d=d.data).code)return d=d.result.eventContext,e.next=24,i({type:"save",payload:{pageIndex:p,eventContext:1===p?d:o.concat(d),hasMore:20===d.length}});e.next=24;break;case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(15);case 28:case"end":return e.stop()}},e,null,[[15,26]])})}}},38303:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(67154),f=n.n(a),t=n(87757),h=n.n(t),i=n(36144);function d(e){var t=e.projectId,n=e.dateFilter,a=e.specialTopicId,r=e.eventName,e=e.volumeType;return i.h.post("/public-opinion/chart/find/SPREAD_ANALYSIS_VOLUME",{projectId:t,dateFilter:n,specialTopicId:a,eventName:r,volumeType:e})}function m(e){var t=e.projectId,n=e.dateFilter,a=e.topicId,e=e.eventName;return i.h.post("/public-opinion-overview/chart/find/SPREAD_ANALYSIS_POINT_CHART",{projectId:t,dateFilter:n,topicId:a,eventName:e})}function o(t){return new Promise(function(e){return setTimeout(e,t)})}var a=n(64396),v=n(87219),t=n(30381),y=n.n(t);var r={isInitial:!0,projectId:"",dateFilter:null,specialTopicId:void 0,originVolume:{positive:0,negative:0,neutral:0,influence:0,heat:0},unoriginVolume:{positive:0,negative:0,neutral:0,influence:0,heat:0},dateDimension:"DAY",dateRange:0,scatterChartData:void 0},g=a.Z.sentiment.analysis.path;const s={namespace:g,state:r,reducers:{save:function(e,t){t=t.payload;return f()({},e,t)}},effects:{fetchDatas:h().mark(function e(t,n){var a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,n.select,e.next=4,i({type:"save",payload:a});case 4:return e.next=6,r(o,100);case 6:return e.next=8,i({type:"fetchOriginalVolume",payload:a});case 8:return e.next=10,i({type:"fetchUnOriginalVolume",payload:a});case 10:case"end":return e.stop()}},e)}),fetchOriginalVolume:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.prev=2,e.next=5,o(function(e){return e[g]});case 5:return u=e.sent,l=u.projectId,p=u.dateFilter,s=u.specialTopicId,c=u.eventName,e.next=12,r(d,{projectId:a.projectId||l,dateFilter:a.dateFilter||p,specialTopicId:a.specialTopicId||s,eventName:a.eventName||c,volumeType:"ORIGINAL"});case 12:if(u=e.sent,2e4===(l=u.data).code)return p=l.result,s=p.positive,c=p.negative,u=p.neutral,l=p.influence,p=p.attentionDegree,e.next=18,i({type:"save",payload:{originVolume:{positive:s,negative:c,neutral:u,influence:l,heat:p}}});e.next=18;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.error(e.t0);case 23:return e.prev=23,e.next=26,i({type:"save",payload:f()({},a,{isInitial:!1})});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[2,20,23,27]])}),fetchUnOriginalVolume:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.prev=2,e.next=5,o(function(e){return e[g]});case 5:return u=e.sent,l=u.projectId,p=u.dateFilter,s=u.specialTopicId,c=u.eventName,e.next=12,r(d,{projectId:a.projectId||l,dateFilter:a.dateFilter||p,specialTopicId:a.specialTopicId||s,eventName:a.eventName||c,volumeType:"FORWARD"});case 12:if(u=e.sent,2e4===(l=u.data).code)return p=l.result,s=p.positive,c=p.negative,u=p.neutral,l=p.influence,p=p.attentionDegree,e.next=18,i({type:"save",payload:{unoriginVolume:{positive:s,negative:c,neutral:u,influence:l,heat:p}}});e.next=18;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.error(e.t0);case 23:return e.prev=23,e.next=26,i({type:"save",payload:a});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[2,20,23,27]])}),fetchScatterChartData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[g]});case 4:return s=e.sent,o=s.projectId,l=s.dateFilter,d=s.specialTopicId,p=s.eventName,s=s.dateDimension,d=a.specialTopicId||d,c=a.dateDimension||s,u=(0,v.ZP)(a.dateFilter||l,function(e){e.dateGroupType=c}),l="empty",e.prev=14,e.next=17,r(m,{projectId:a.projectId||o,dateFilter:u,topicId:d[0],eventName:a.eventName||p});case 17:d=e.sent,2e4===(p=d.data).code&&0<p.result.length&&(d=[0,1,2].map(function(){var e,t,n,a,r,i;return(e=u.from,t=u.to,n=u.dateGroupType,a=y()(e),t=y()(t),i="YYYY-MM-DD",(r="DAY")===n?(r="days",i="YYYY-MM-DD"):"WEEK"===n?(r="week",i="YYYY-ww"):"MONTH"===n&&(r="month",i="YYYY-MM"),t=t.diff(a,r)+1,Array.from({length:t}).map(function(e,t){return a.add(t?1:0,r).format(i)})).map(function(e){return[e,-1,0,0,0,0]})}),l=p.result.reduce(function(e,t){var n=e[1===t.emotionType?0:0===t.emotionType?1:2],a=n.findIndex(function(e){return e[0]===t.dateTime});return-1<a&&(n[a]=[t.dateTime,t.forwardCount,t.effectCount,t.dayFeverCount,t.contentGroup,1]),e},d)),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(14);case 24:return e.prev=24,e.next=27,i({type:"save",payload:f()({},a,{scatterChartData:l})});case 27:return e.finish(24);case 28:case"end":return e.stop()}},e,null,[[14,22,24,28]])}),resetState:h().mark(function e(t,n){var a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.prev=1,e.next=4,a({type:"save",payload:f()({},r)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}},e,null,[[1,6]])})}}},40267:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),o=n(36144);function f(e){var t=e.projectId,n=e.dateFilter,a=(e.topSize,e.type,e.specialTopicId),e=e.eventName;return o.h.post("/widget/data/find/WORD_TIME_LINE",((n={projectId:t,dateFilter:n,topSize:50,type:"WORD_TIME_LINE"})[e?"eventName":"specialTopicId"]=[e||a],n))}function l(e){var t=e.projectId,n=e.dateFilter,a=e.specialTopicId,e=e.eventName;return o.h.post("/public-opinion/chart/find/MEDIA_VIEW",((n={projectId:t,dateFilter:n})[e?"eventName":"specialTopicId"]=[e||a],n))}function h(e){var t=e.projectId,n=e.dateFilter,a=e.messageFilterType,r=e.messageFilterSort,i=e.eventName,e=e.specialTopicId;return o.h.post("/public-opinion/chart/find/OPINION_LEADER",((n={projectId:t,dateFilter:n})[i?"eventName":"specialTopicId"]=[i||e],n.filterModel={sortName:r,messageCategory:[a]},n.pageSIze=100,n.pageIndex=1,n))}n(70715),n(39432),n(94644);function c(t){return new Promise(function(e){return setTimeout(e,t)})}var m=n(64396).Z.sentiment.analysis.point,a={id:void 0,projectId:void 0,dateFilter:null,title:void 0,filterTitle:"",hotWordBubbleData:void 0,hotWordDoubleData:void 0,hotWordLoading:!1,mediaListData:void 0,mediaListLoading:!1,messageList:void 0,messageFilterType:"QUE_ANS",messageFilterSort:"INFLUENCE"};const r={namespace:m,state:a,reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchPointDatas:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[m]});case 4:if(s=e.sent,o=s.dateFilter,s=s.projectId,JSON.stringify(o)!==JSON.stringify(a.dateFilter)||s!==a.projectId)return e.next=10,i({type:"save",payload:a});e.next=18;break;case 10:return e.next=12,r(c,a.timeOut);case 12:return e.next=14,i({type:"fetchHotWordData",payload:a});case 14:return e.next=16,i({type:"fetchMediaListData",payload:a});case 16:return e.next=18,i({type:"fetchMessageList"});case 18:case"end":return e.stop()}},e)}),fetchHotWordData:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[m]});case 4:return c=e.sent,u=c.projectId,o=c.dateFilter,s=c.id,c=c.title,u={dateFilter:a.dateFilter||o,projectId:a.projectId||u,specialTopicId:s,eventName:c},c=s=null,e.prev=11,e.next=14,r(f,u);case 14:u=e.sent,2e4===(u=u.data).code&&0<u.result.list.length&&(u=u.result.list,l=u.reduce(function(e,t){return e+t.total},0),c=u.map(function(e){return p()({},e,{precent:e.total/l,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}),s=0===c.length?[]:function(e){var e=e.slice(0,10),t=Math.sqrt(e[0].total);return e.map(function(e){return p()({},e,{rate:Math.sqrt(e.total)/t})})}(c.slice().sort(function(e,t){return t.total-e.total}))),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:p()({},a,{hotWordBubbleData:s,hotWordDoubleData:c})});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchMediaListData:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return e[m]});case 4:return c=e.sent,o=c.projectId,s=c.dateFilter,u=c.id,c=c.title,u={dateFilter:a.dateFilter||s,projectId:a.projectId||o,specialTopicId:u,eventName:c},c=null,e.prev=11,e.next=14,r(l,u);case 14:u=e.sent,2e4===(u=u.data).code&&0<u.result.length&&(c=u.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:{mediaListData:c}});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchMessageList:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,c=n.select,e.next=3,c(function(e){return e[m]});case 3:return l=e.sent,i=l.projectId,o=l.dateFilter,s=l.messageFilterType,c=l.messageFilterSort,u=l.id,l=l.title,l={dateFilter:o,projectId:i,messageFilterType:s,messageFilterSort:c,eventName:l,specialTopicId:u},u=null,e.prev=12,e.next=15,a(h,l);case 15:l=e.sent,l=l.data,u=2e4===l.code?l.result.messages||null:"error",e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),u="error";case 23:return e.next=25,r({type:"save",payload:{messageList:u}});case 25:case"end":return e.stop()}},e,null,[[12,20]])}),messageListFilterChange:d().mark(function e(t,n){var a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"save",payload:a});case 4:return e.next=6,r({type:"fetchMessageList"});case 6:case"end":return e.stop()}},e)})}}},79599:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(67154),f=n.n(a),t=n(87757),h=n.n(t),a=n(64396),m=n(87219),r=n(36144);function l(e){var t=e.topicId,n=e.projectId,e=e.dateFilter;return r.h.post("/public-opinion-special-topic/volume/type",{topicId:t,projectId:n,dateFilter:e})}function p(e){var t=e.topicId,n=e.projectId,e=e.dateFilter;return r.h.post("/public-opinion-special-topic/volume/category",{topicId:t,projectId:n,dateFilter:e})}function u(e){var t=e.topicId,n=e.projectId,e=e.dateFilter;return r.h.post("/public-opinion-overview/attention/trend",{topicId:t,projectId:n,dateFilter:e})}function v(e){var t=e.topicId,n=e.projectId,e=e.dateFilter;return r.h.post("/public-opinion-overview/chart/find/SPECIAL_TOPIC_ANALYSIS_POINT_CHART",{topicId:t,dateFilter:e,projectId:n})}function d(e){var t=e.dateFilter,n=e.projectId,a=e.topicId,e=e.eventName;return r.h.post("/public-opinion-overview/chart/find/EVENT_ANALYSIS_TREND_CHART",{dateFilter:t,projectId:n,topicId:a,eventName:e?[e]:[]})}n(70715);var y=n(39432);var t=n(67294),i=n.n(t),g=function(e){if("--"===e)return i().createElement("div",{style:{paddingRight:16}},e);var t=e.startsWith("-");return i().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"right"}},i().createElement("span",{className:"ellipsis_value"},e),"%","0"!==e&&i().createElement("i",{className:t?"icon-cem_three-states-down":"icon-cem_three-states-up",style:{color:t?"#15B374":"#D96969",fontSize:16}}))};var x=n(27470),b=n(53557),T=n(51366),I=a.Z.sentiment.analysis.subject,o={emotionData:void 0,channelEmotionData:void 0,channelEmotionDateType:"WEEK",eventTrendData:void 0,eventOverviewData:void 0,eventOverviewTimeType:"WEEK",eventData:void 0,filterParams:void 0,projectId:void 0,topicId:void 0};const s={namespace:I,state:Object.assign({},o),effects:{fetchDatas:h().mark(function e(t,n){var a,r,i,o,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[I]});case 4:if(s=e.sent,i=s.filterParams,o=s.projectId,s=s.topicId,JSON.stringify(i)!==JSON.stringify(a.filterParams)||o!==a.projectId||s!==a.topicId)return e.next=11,r({type:"fetchEmotionData",payload:a});e.next=13;break;case 11:return e.next=13,r({type:"fetchEventTrendData",payload:a});case 13:case"end":return e.stop()}},e)}),fetchEmotionData:h().mark(function e(n,a){var r,i,o,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.payload,i=a.put,s=a.select,o=a.call,e.next=4,s(function(e){return f()({},e)[I]});case 4:return c=e.sent,s=c.filterParams,u=c.projectId,c=c.topicId,u=f()({},r.filterParams||s,{projectId:r.projectId||u,topicId:r.topicId||c}),c="empty",e.prev=10,e.next=13,o(l,u);case 13:u=e.sent,2e4===(u=u.data).code&&u.result.hasOwnProperty("positive")&&(t=u.result,c={dataset:{sourceHeader:!0,source:[["情感","正面","中性","负面"],["声量",t.positive,t.neutral,t.negative]]}}),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:f()({},r,{emotionData:c})});case 23:return e.finish(20);case 24:case"end":return e.stop()}var t},e,null,[[10,18,20,24]])}),fetchChannelEmotionData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,s=n.select,i=n.call,e.next=4,s(function(e){return f()({},e)[I]});case 4:return l=e.sent,o=l.filterParams,u=l.projectId,s=l.channelEmotionDateType,l=l.topicId,c=a.channelEmotionDateType||s,l=f()({},(0,m.ZP)(a.filterParams||o,function(e){e.dateFilter.dateGroupType=c}),{topicId:a.topicId||l,projectId:a.projectId||u}),u="empty",e.prev=12,e.next=15,i(p,l);case 15:l=e.sent,2e4===(l=l.data).code&&0<l.result.length&&(u=function(e,t,r){var n=e.sort(function(e,t){return!(!t.data||!e.data)&&t.data[t.data.length-1].count-e.data[e.data.length-1].count});"DAY"!==t&&(n=e.map(function(e){return f()({},e,{data:e.data.map(function(e){return f()({},e,{name:(0,y.yV)(t,e.name)})})})}));var i=0,a=n.map(function(t){var e,n,a="--";return!r||(e=r.find(function(e){return e.name===t.name}))&&0!==e.count&&(a=0==(n=t.total-e.count)?"0":""+(n/e.count*100).toFixed(2)),i+=t.total,[t.name,t.total,a]}),o=n.map(function(e){return e.name}),e=["日期"].concat(o),o=n[0].data.map(function(e){return[e.name]}),o=n.reduce(function(e,t){return t.data.forEach(function(t){return e.find(function(e){return e[0]===t.name}).push(t.count)}),e},[].concat(o));return{allTotal:i,length:n.length,tableDatas:r?a.slice().sort(function(e,t){return t[1]-e[1]}).map(function(e){var t=0===e[1]?0:e[1]<1?(100*e[1]).toFixed(2)+"%":e[1];return[e[0],t,g(e[2])]}):void 0,datasets:[{dimensions:["渠道","数量","环比"],source:a},{dimensions:e,source:o},{dimensions:["日期","总量"],source:o.map(function(e){return[e[0],e.reduce(function(e,t,n){return 0===n?e:e+t},0)]})}]}}(l.result,c)),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,r({type:"save",payload:f()({},a,{channelEmotionData:u})});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])}),fetchEventTrendData:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,i=n.call,e.next=4,o(function(e){return f()({},e)[I]});case 4:return o=e.sent,c=o.projectId,s=o.topicId,o=o.filterParams,c=f()({},a.filterParams||o,{projectId:a.projectId||c,topicId:a.topicId||s}),s="empty",e.prev=10,e.next=13,i(u,c);case 13:c=e.sent,2e4===(c=c.data).code&&0<c.result.length&&(s=(0,x.Q)(c.result)),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,r({type:"save",payload:f()({},a,{eventTrendData:s})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])}),fetchEventOverviewData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,o=n.call,e.next=4,i(function(e){return f()({},e)[I]});case 4:return c=e.sent,l=c.projectId,p=c.filterParams,u=c.eventOverviewTimeType,d=c.topicId,s=a.eventOverviewTimeType||u,c=a.projectId||l,u=a.topicId||d,l=a.filterParams||p,d=f()({topicId:u,projectId:c},(0,m.ZP)(l,function(e){e.dateFilter.dateGroupType=s})),p="empty",e.prev=15,e.next=18,o(v,d);case 18:if(d=e.sent,2e4===(d=d.data).code&&0<d.result.length)return p=(0,b.Qj)(d.result,s),e.next=24,r({type:"fetchEventData",payload:{eventName:"",projectId:c,topicId:u,filterParams:l}});e.next=24;break;case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(15);case 28:return e.prev=28,e.next=31,r({type:"save",payload:f()({},a,{eventOverviewData:p})});case 31:return e.finish(28);case 32:case"end":return e.stop()}},e,null,[[15,26,28,32]])}),fetchEventData:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,i=n.call,e.next=4,o(function(e){return f()({},e)[I]});case 4:return c=e.sent,o=c.projectId,s=c.filterParams,c=c.topicId,c=f()({projectId:a.projectId||o,eventName:a.eventName,topicId:a.topicId||c},a.filterParams||s),s="empty",e.prev=10,e.next=13,i(d,c);case 13:c=e.sent,2e4===(c=c.data).code&&0<c.result.analysisBaseVOList.length&&(s=(0,T.Q)(c.result)),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,r({type:"save",payload:f()({},a,{eventData:s})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])})},reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clearState:function(){return f()({},Object.assign(o))}}}},80721:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),v=n.n(t),t=n(87757),y=n.n(t),t=n(64396),i=n(36144);function d(e){var t=e.projectId,n=e.dateFilter,a=e.specialTopicId,e=e.eventName;return i.h.post("/public-opinion/chart/find/TREND_ANALYSIS_TREND",{projectId:t,dateFilter:n,specialTopicId:a,eventName:e})}function g(e){var t=e.projectId,n=e.dateFilter,a=e.specialTopicId,r=e.eventName,e=e.escore;return i.h.post("/public-opinion/chart/find/HOT_PUBLIC_OPINION",{projectId:t,dateFilter:n,specialTopicId:a,eventName:r,escore:e})}var x=n(87219),b=n(39432);n(70715);function f(e){var t=e.map(function(e){return[e.date,e.total,e.positive,e.neutral,e.negative,e.attentionDegree,e.interaction]}),e=[0,1,2,3].map(function(e){return function(e,t){for(var n,a=[],r=[{title:"全部舆情",value:"all"}],i=-1,o=0;o<e.length-2;o++)e[o][t]<e[o+1][t]?e[o+1][t]>e[o+2][t]&&a.length<26?(n=o+1,r.push({title:String.fromCharCode(65+a.length),value:e[n][0]}),a.push(n)):e[o+1][t]!==e[o+2][t]||(i=o+1):-1!==i&&a.length<26&&e[o][t]!==e[o+1][t]&&(e[o][t]>e[o+1][t]?(r.push({title:String.fromCharCode(65+a.length),value:e[i][0]}),a.push(i),i=-1):e[o][t]<e[o+1][t]&&(i=-1));return{pointIdxs:a,peakOption:r}}(t,e+1)});return{peaks:e.map(function(e){return e.pointIdxs}),peakOptionArr:e.map(function(e){return e.peakOption}),dimensions:["日期","全部声量","正面声量","中性声量","负面声量","热度","互动量"],source:t}}function u(t){return new Promise(function(e){return setTimeout(e,t)})}var T=t.Z.sentiment.analysis.trend,a={trendData:void 0,trendTimeType:"DAY",eventListData:void 0,emotionType:0,filterParams:void 0,projectId:void 0,specialTopicId:void 0,eventName:void 0,peakOptionArr:[],peakOptions:[],peakType:"all"};const r={namespace:T,state:Object.assign({},a),effects:{fetchDatas:y().mark(function e(t,n){var a,r,i,o,s,c;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,s=n.select,i=n.put,e.next=4,s(function(e){return v()({},e)[T]});case 4:if(c=e.sent,o=c.filterParams,s=c.projectId,c=c.topicId,JSON.stringify(o)!==JSON.stringify(a.filterParams)||s!==a.projectId||a.topicId!==c)return e.next=11,i({type:"save",payload:a});e.next=13;break;case 11:return e.next=13,r(u,100);case 13:case"end":return e.stop()}},e)}),fetchPeakLineData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,s=n.select,i=n.put,e.next=4,s(function(e){return v()({},e)[T]});case 4:return u=e.sent,l=u.filterParams,o=u.projectId,s=u.trendTimeType,p=u.specialTopicId,u=u.eventName,c=a.trendTimeType||s,p=v()({projectId:a.projectId||o,specialTopicId:a.specialTopicId||p,eventName:a.eventName||u},(0,x.ZP)(a.filterParams||l,function(e){e.dateFilter.dateGroupType=c})),u="empty",l=[],e.prev=13,e.next=16,r(d,p);case 16:if(p=e.sent,2e4===(p=p.data).code&&0<p.result.length)return u=f(p.result),l=u.peakOptionArr,e.next=23,i({type:"fetchEventListData",payload:v()({},a,{peakOptionArr:l})});e.next=23;break;case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(13);case 27:return e.prev=27,e.next=30,i({type:"save",payload:v()({},a,{trendData:u,peakOptionArr:l})});case 30:return e.finish(27);case 31:case"end":return e.stop()}},e,null,[[13,25,27,31]])}),fetchEventListData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,c=n.select,i=n.put,e.next=4,c(function(e){return v()({},e)[T]});case 4:return u=e.sent,d=u.filterParams,o=u.projectId,s=u.peakType,c=u.specialTopicId,m=u.eventName,f=u.emotionType,h=u.peakOptionArr,u=u.trendTimeType,l=a.peakType||s,p=a.trendTimeType||u,m=v()({projectId:a.projectId||o,specialTopicId:a.specialTopicId||c,eventName:a.eventName||m},(0,x.ZP)(a.filterParams||d,function(e){var t,n;e.dateFilter.dateGroupType=p,"all"!==l&&(t=(n=(0,b.LV)(l,p)).from,n=n.to,e.dateFilter.from=t,e.dateFilter.to=n)})),(d=void 0!==a.emotionType?a.emotionType:f)&&(m.escore=function(e){switch(e){case 1:return 1;case 2:return 0;case 3:return-1}}(d)),f=a.peakOptionArr||h,h="empty",e.prev=20,e.next=23,r(g,m);case 23:m=e.sent,2e4===(m=m.data).code&&(h=m.result),e.next=30;break;case 28:e.prev=28,e.t0=e.catch(20);case 30:return e.prev=30,e.next=33,i({type:"save",payload:v()({},a,{peakOptions:f[d],eventListData:h})});case 33:return e.finish(30);case 34:case"end":return e.stop()}},e,null,[[20,28,30,34]])})},reducers:{save:function(e,t){t=t.payload;return v()({},e,t)},clearState:function(){return v()({},Object.assign(a))}}}},51366:(e,t,n)=>{"use strict";n.d(t,{Q:()=>function(e){var n=0,t=e.analysisBaseVOList.reduce(function(e,t){return n=Math.max.apply(null,[n,t.feverCount,t.negativeVoiceCount]),[].concat(e,[[t.dateTime,t.feverCount,t.negativeVoiceCount]])},[]);return{max:n,negRatio:e.negativePercent,name:e.name,source:t,dimensions:["日期","热度","负面声量"]}}});n(70715),n(39432)},27470:(e,t,n)=>{"use strict";n.d(t,{Q:()=>function(e){var t=e.sort(function(e,t){return!(!t.dateCountVOList||!e.dateCountVOList)&&t.dateCountVOList[t.dateCountVOList.length-1].count-e.dateCountVOList[e.dateCountVOList.length-1].count}),n=t.map(function(e){return e.eventName}),e=["日期"].concat(n),n=t[0].dateCountVOList.map(function(e){return[e.date]}),n=t.reduce(function(e,t){return t.dateCountVOList.forEach(function(t){return e.find(function(e){return e[0]===t.date}).push(t.count)}),e},[].concat(n));return{length:t.length,tableDatas:t.slice().map(function(e){return[e.eventName,e.effectTotal,e.countTotal]}),datasets:[{dimensions:e,source:n},{dimensions:["日期","总量"],source:n.map(function(e){return[e[0],e.reduce(function(e,t,n){return 0===n?e:e+t},0)]})}]}}});t=n(67154),n(70715),n(39432)},53557:(e,t,n)=>{"use strict";n.d(t,{Qj:()=>function(e,n){var a=0,r=0,i=0,e=e.map(function(e,t){return a=Math.max(a,e.dayFeverCount),r<e.effectCount&&(r=e.effectCount,i=t),[(0,o.yV)(n,e.dateTime),e.eventName,e.dayFeverCount,e.effectCount,e.negativeCount||0]});return{heatMax:a||10,effectMax:r||10,effectMaxIdx:i,dimensions:["日期","事件","热度","影响力","负面声量"],source:e}}});var o=n(39432)},44098:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(67154),m=n.n(a),t=n(87757),v=n.n(t),i=n(36144);function l(e){var t=e.projectId,e=e.dateFilter;return i.h.post("/public-opinion-overview/attention/trend",{projectId:t,dateFilter:e})}function y(e){var t=e.projectId,n=e.keyWord,a=e.pageIndex,r=e.pageSize,e=e.dateFilter;return i.h.post("/public-opinion-overview/search",{projectId:t,keyWord:n,pageIndex:a,pageSize:r,dateFilter:e})}function p(e){var t=e.projectId,n=e.dateFilter,e=e.eventName;return i.h.post("/public-opinion-overview/chart/find/EVENT_ANALYSIS_TREND_CHART",{projectId:t,dateFilter:n,eventName:e?[e]:[]})}function d(e){var t=e.projectId,e=e.dateFilter;return i.h.post("/public-opinion-overview/chart/find/OVER_VIEW_POINT_CHART",{dateFilter:e,projectId:t})}function u(e){var t=e.dateFilter,n=e.projectId,e=e.eventName;return i.h.post("/public-opinion-overview/chart/find/EVENT_ANALYSIS_TREND_CHART",{dateFilter:t,projectId:n,eventName:e?[e]:[]})}function g(e){var t="YYYY-MM-DD",n=r()().format(t),e=Number(e);return{from:r()().subtract(e-1,"days").format(t),to:n,dateGroupType:"DAY",numOfDays:e,remoteName:"cTime"}}var a=n(64396),t=n(30381),r=n.n(t),f=n(27470),h=n(53557),x=n(51366),b=a.Z.sentiment.overview;const o={namespace:b,state:{isInitial:!0,projectId:"",keyWord:"",keyWords:[],orderType:{id:7,name:"7天热度"},pageIndex:1,pageSize:20,total:0,list:[],activeIndex:0,negativePercent:0,trendData:[],eventTrendData:void 0,eventOveriewData:void 0},reducers:{save:function(e,t){t=t.payload;return m()({},e,t)}},effects:{fetchDatas:v().mark(function e(t,n){var a,r,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return m()({},e)[b]});case 4:if(i=e.sent,i=i.projectId,a.projectId!==i)return e.next=9,r({type:"fetchEventTrendData",payload:a});e.next=11;break;case 9:return e.next=11,r({type:"fetchEventOverviewData",payload:a});case 11:case"end":return e.stop()}},e)}),fetchEventTrendData:v().mark(function e(t,n){var a,r,i,o,s,c,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,o=n.call,e.next=4,i(function(e){return m()({},e)[b]});case 4:return s=e.sent,c=s.projectId,u={projectId:a.projectId||c,dateFilter:g(7)},s="empty",c={},e.prev=8,e.next=11,o(l,u);case 11:u=e.sent,2e4===(u=u.data).code&&0<u.result.length&&(s=(0,f.Q)(u.result),c=u.result.reduce(function(e,t){return m()({},e,((e={})[t.name]=t.id,e))},{})),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,r({type:"save",payload:m()({},a,{eventTrendData:s,eventDict:c})});case 21:return e.finish(18);case 22:case"end":return e.stop()}},e,null,[[8,16,18,22]])}),fetchEventOverviewData:v().mark(function e(t,n){var a,r,i,o,s,c,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,o=n.call,e.next=4,i(function(e){return m()({},e)[b]});case 4:return u=e.sent,c=u.projectId,s=a.projectId||c,u={projectId:s,dateFilter:g(30)},c="empty",e.prev=9,e.next=12,o(d,u);case 12:if(u=e.sent,2e4===(u=u.data).code&&0<u.result.length)return c=(0,h.Qj)(u.result,"DAY"),e.next=18,r({type:"fetchEventData",payload:{eventName:u.result[c.effectMaxIdx].eventName,projectId:s}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(9);case 22:return e.prev=22,e.next=25,r({type:"save",payload:m()({},a,{eventOverviewData:c})});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[9,20,22,26]])}),fetchEventData:v().mark(function e(t,n){var a,r,i,o,s,c;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,o=n.call,e.next=4,i(function(e){return m()({},e)[b]});case 4:return c=e.sent,s=c.projectId,c={eventName:a.eventName,projectId:a.projectId||s,dateFilter:g(30)},s="empty",e.prev=8,e.next=11,o(u,c);case 11:c=e.sent,2e4===(c=c.data).code&&(s=(0,x.Q)(c.result)),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,r({type:"save",payload:m()({},a,{eventData:s})});case 21:return e.finish(18);case 22:case"end":return e.stop()}},e,null,[[8,16,18,22]])}),fetchEvents:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,f=n.select,e.next=4,f(function(e){return e[b]});case 4:return h=e.sent,o=h.projectId,s=h.keyWord,c=h.pageIndex,u=h.pageSize,l=h.list,p=h.orderType,e.prev=11,e.next=14,i({type:"save",payload:{isInitial:!1}});case 14:return e.next=16,r(y,{projectId:a.projectId||o,keyWord:a.keyWord||s,pageIndex:a.pageIndex||c,pageSize:u,dateFilter:g((a.orderType||p).id)});case 16:if(d=e.sent,2e4===(f=d.data).code)return h=f.result,d=h.total,f=h.list,h=h.keyWords,e.next=22,i({type:"save",payload:{keyWords:h,total:d,list:l.concat(f)}});e.next=22;break;case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(11);case 26:return e.prev=26,e.next=29,i({type:"save",payload:m()({},a)});case 29:if(1===c)return e.next=32,i({type:"fetchEventTrend",payload:{activeIndex:0}});e.next=32;break;case 32:return e.finish(26);case 33:case"end":return e.stop()}},e,null,[[11,24,26,33]])}),fetchEventTrend:v().mark(function e(t,n){var a,r,i,o,s,c,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.prev=2,e.next=5,i({type:"save",payload:{isInitial:!1}});case 5:return e.next=7,o(function(e){return e[b]});case 7:return c=e.sent,s=c.projectId,u=c.list,c=c.activeIndex,e.next=13,r(p,{projectId:s,dateFilter:g(7),eventName:u[a.activeIndex||c]&&u[a.activeIndex||c].title});case 13:if(u=e.sent,2e4===(c=u.data).code)return u=c.result,c=u.negativePercent,u=u.analysisBaseVOList,e.next=19,i({type:"save",payload:{negativePercent:c,trendData:u}});e.next=19;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),console.error(e.t0);case 24:case"end":return e.stop()}},e,null,[[2,21]])})}}},74660:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var t=n(67154),a=n.n(t),t=n(87757),c=n.n(t),r=n(36144);function s(e){var t=e.id,e=e.projectId;return r.h.post("/public-opinion-special-topic/sync-history",{id:t,projectId:e})}function u(e){var t=e.id,n=e.projectId,a=e.name,e=e.rules;return r.h.post("/public-opinion-special-topic/add",{id:void 0===t?"":t,projectId:n,name:a,rules:void 0===e?[]:e})}var l=n(64396).Z.sentiment.subject.edit,i={editId:"",modalShow:!1,ruleValue:void 0,specialTopic:void 0};const o={namespace:l,state:i,reducers:{save:function(e,t){t=t.payload;return a()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},i)}},effects:{commitDataScrabble:c().mark(function e(t,n){var a,r,i,o,s;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[l]});case 4:return o=e.sent,o=o.editId,e.prev=6,e.next=9,r(u,{id:o||a.id,projectId:a.projectId,name:a.name,rules:a.rules});case 9:if(s=e.sent,2e4===(s=s.data).code&&s.result)return e.next=14,i({type:"save",payload:{editId:s.result.id}});e.next=15;break;case 14:return e.abrupt("return",s.result);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}},e,null,[[6,17]])}),fetchHistorytData:c().mark(function e(t,n){var a,r,i,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,n.put,e.next=4,i(function(e){return e[l]});case 4:return o=e.sent,o=o.editId,e.prev=6,e.next=9,r(s,{id:o||a.id,projectId:a.projectId});case 9:o=e.sent,o.data.code,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:case"end":return e.stop()}},e,null,[[6,14]])})}}},59615:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),i=n(36144);function o(e){e=e.username;return i.h.post("/public-opinion-special-topic/creator/list",{username:void 0===e?"":e})}function f(e){var t=e.projectId,n=e.pageIndex,a=e.pageSize,r=e.name,e=e.creatorIdList;return i.h.post("/public-opinion-special-topic/list",{projectId:t,pageIndex:n,pageSize:a,name:r,creatorIdList:e})}function c(e){var t=e.id,e=e.projectId;return i.h.post("/public-opinion-special-topic/sync-history",{id:t,projectId:e})}function s(e){e=e.id;return i.h.post("/public-opinion-special-topic/delete",{id:e})}function u(e){e=e.id;return i.h.post("/public-opinion-special-topic/first",{id:e})}function l(e){e=e.id;return i.h.post("/public-opinion-special-topic/last",{id:e})}function h(e){e=e.id;return i.h.post("/public-opinion-special-topic/stop",{id:e})}n=n(64396);var m=function(e){return e.map(function(e){switch(e){case"BUSINESS":return"业务";case"MARKETING":return"营销";case"NOISE":return"噪音";default:return""}})},n=n.Z.sentiment.subject.list,a={id:"",projectId:"",modalShow:!1,avaCreator:[],selectedCreators:[],name:"",pageIndex:1,pageSize:10,subjectList:{total:0,data:[]},idRulesVOS:{},ruleValue:void 0};const r={namespace:n,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchSubjectList:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return e.sentimentSubjectList});case 4:return u=e.sent,o=u.projectId,s=u.name,l=u.selectedCreators,c=u.pageIndex,u=u.pageSize,l={projectId:o,pageIndex:a.pageIndex||c,pageSize:a.pageSize||u,name:a.name||s,creatorIdList:a.selectedCreators||l},e.prev=11,e.next=14,r(f,l);case 14:if(l=e.sent,2e4===(l=l.data).code)return e.next=19,i({type:"save",payload:p()({},a,{subjectList:{data:l.result.list.reduce(function(e,t){var n={id:t.id,projectId:t.projectId,name:t.name,heatNumber:t.heatNumber,negativeVolumeNumber:t.negativeVolumeNumber,influenceNumber:t.influenceNumber,updatedAt:t.updatedAt,createdAt:t.createdAt,status:t.status,filter:JSON.parse(t.rule),rules:{},ruleLine:1,runStartTime:t.runStartTime,runTime:t.runTime};return t.rules.fromUserList&&0<t.rules.fromUserList.length&&(n.rules["转发人"]=t.rules.fromUserList.map(function(e){return e.name}))&&(n.ruleLine+=1),t.rules.source&&0<t.rules.source.length&&(n.rules["数据来源"]=t.rules.source)&&(n.ruleLine+=1),t.rules.escore&&0<t.rules.escore.length&&(n.rules["情感"]=t.rules.escore)&&(n.ruleLine+=1),t.rules.star&&0<t.rules.star.length&&(n.rules["星级"]=t.rules.star)&&(n.ruleLine+=1),t.rules.messageType&&0<t.rules.messageType.length&&(n.rules["消息类型"]=t.rules.messageType)&&(n.ruleLine+=1),t.rules.messageCategory&&0<t.rules.messageCategory.length&&(n.rules["渠道类型"]=t.rules.messageCategory)&&(n.ruleLine+=1),t.rules.businessType&&0<t.rules.businessType.length&&(n.rules["消息类别"]=m(t.rules.businessType))&&(n.ruleLine+=1),t.rules.connConfig&&0<t.rules.connConfig.length&&(n.rules=p()({},n.rules,t.rules.connConfig.reduce(function(e,t){return p()({},e,((e={})[t.name]=t.values,e))},{})))&&(n.ruleLine+=t.rules.connConfig.length),t.rules.brandsSeries&&0<t.rules.brandsSeries.length&&(n.rules=p()({},n.rules,t.rules.brandsSeries.reduce(function(e,t){return p()({},e,((e={})[t.name]=t.values,e))},{})))&&(n.ruleLine+=t.rules.brandsSeries.length),t.rules.tag&&0<t.rules.tag.length&&(n.rules=p()({},n.rules,t.rules.tag.reduce(function(e,t){return p()({},e,((e={})[t.name]=t.values,e))},{})))&&(n.ruleLine+=t.rules.tag.length),t.rules.content&&0<t.rules.content.length&&(n.rules["内容"]=t.rules.content.reduce(function(e,n,t){if(!(n.contain&&0!==n.contain.length||n.notContain&&0!==n.notContain.length))return e;var a=["contain","notContain"].reduce(function(e,t){return n[t]&&0<n[t].length?[].concat(e,[("contain"===t?"包含":"不包含")+n[t].map(function(e){return"“"+e+"”"}).join("，")]):e},[]),a=(n.sentence?"一句话中":"全文中")+"："+a.join("，且");return[].concat(e,[a])},[]))&&(n.ruleLine+=5<t.rules.content.length?5:t.rules.content.length),n.rules["内容"]&&0===n.rules["内容"].length&&(n.rules["内容"]=["无"]),[].concat(e,[n])},[]),total:l.result.total},ruleValue:l.result.list.rules})});e.next=19;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(11);case 23:case"end":return e.stop()}},e,null,[[11,21]])}),fetchCreatorList:d().mark(function e(t,n){var a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,e.next=3,r(o,{username:""});case 3:if(r=e.sent,2e4===(r=r.data).code)return e.next=8,a({type:"save",payload:{avaCreator:r.result}});e.next=8;break;case 8:case"end":return e.stop()}},e)}),fetchHistorytData:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,o=n.select,i=n.put,e.next=4,o(function(e){return e.sentimentSubjectList});case 4:return s=e.sent,o=s.id,s=s.projectId,e.prev=7,e.next=10,r(c,{id:a||o,projectId:s});case 10:if(s=e.sent,2e4===s.data.code)return e.next=15,i({type:"fetchSubjectList",payload:{pageIndex:1}});e.next=15;break;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:case"end":return e.stop()}},e,null,[[7,17]])}),deleteSubject:d().mark(function e(t,n){var a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.select,i=n.put,e.next=4,r(function(e){return e.sentimentSubjectList});case 4:return o=e.sent,o=o.id,e.prev=6,e.next=9,a(s,{id:o});case 9:if(o=e.sent,2e4===o.data.code)return e.next=14,i({type:"fetchSubjectList",payload:{pageIndex:1}});e.next=14;break;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}},e,null,[[6,16]])}),setFirst:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.select,i=n.put,o=o.id,e.next=5,r(function(e){return e.sentimentSubjectList});case 5:return c=e.sent,s=c.pageIndex,e.next=9,a(u,{id:o});case 9:if(c=e.sent,2e4===c.data.code)return e.next=14,i({type:"fetchSubjectList",payload:{pageIndex:s}});e.next=14;break;case 14:case"end":return e.stop()}},e)}),setLast:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.select,i=n.put,o=o.id,e.next=5,r(function(e){return e.sentimentSubjectList});case 5:return c=e.sent,s=c.pageIndex,e.next=9,a(l,{id:o});case 9:if(c=e.sent,2e4===c.data.code)return e.next=14,i({type:"fetchSubjectList",payload:{pageIndex:s}});e.next=14;break;case 14:case"end":return e.stop()}},e)}),setStop:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.select,i=n.put,o=o.id,e.next=5,r(function(e){return e.sentimentSubjectList});case 5:return c=e.sent,s=c.pageIndex,e.next=9,a(h,{id:o});case 9:if(c=e.sent,2e4===c.data.code)return e.next=14,i({type:"fetchSubjectList",payload:{pageIndex:s}});e.next=14;break;case 14:case"end":return e.stop()}},e)})}}},92609:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var a=n(67154),I=n.n(a),t=n(87757),w=n.n(t),a=n(64396),h=n(87219),t=n(48926),r=n.n(t),c=n(36144),i="SENTIMENT_TAG_ANALYSIS_DEFAULT";function m(e){return o.apply(this,arguments)}function o(){return(o=r()(w().mark(function e(t){var n,a,r,i,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.calType,o=t.tag,e.abrupt("return",c.h.post("/brand-insight/chart/find/TAG_ANALYSIS_TREND",{projectId:n,dateFilter:a,filterModel:r,calType:i,tag:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e){return s.apply(this,arguments)}function s(){return(s=r()(w().mark(function e(t){var n,a,r,i,o,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.aspectLevel,o=t.tag,s=t.calType,e.abrupt("return",c.h.post("/brand-insight/chart/find/TAG_ASPECT_ANALYSIS",{projectId:n,dateFilter:a,filterModel:r,aspectLevel:i,tag:o,calType:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return(u=r()(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=r()(w().mark(function e(t){var n,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:i,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(t){return new Promise(function(e){return setTimeout(e,t)})}var k=a.Z.sentiment.tagAnalysis;const v={namespace:k,state:Object.assign({},{tagChartData:void 0,tagDataType:"",tagDateType:"",tagType:"",fTagDataType:"",fTagDateType:"",fTagType:"",aspectChartData:void 0,aspectDataType:"",aspectLevel:1,aspectTagType:"",fAspectDataType:"",fAspectLevel:"",fAspectTagType:"",dateRange:0,filterModel:{},dateFilter:{},projectId:"",tagList:[],tagOptions:[],asyncTime:0}),reducers:{save:function(e,t){t=t.payload;return I()({},e,t)}},effects:{fetchParams:w().mark(function e(t,n){var a,r,i,o,s,c,u;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return I()({},e)[k]});case 4:if(o=e.sent,o.projectId)return e.next=9,r({type:"fetchAspectChartData",payload:{}});e.next=10;break;case 9:return e.abrupt("return");case 10:return s={tagType:0<a.tagOptions.length?a.tagOptions[0].value:"",tagDataType:"ASPECT_NUMBER",tagDateType:"WEEK",aspectTagType:0<a.tagOptions.length?a.tagOptions[0].value:"",aspectLevel:1,aspectDataType:"ASPECT_NUMBER"},c={fTagDataType:"",fTagDateType:"",fTagType:"",fAspectDataType:"",fAspectLevel:"",fAspectTagType:""},e.prev=12,e.next=15,i(l,{projectId:a.projectId});case 15:if(u=e.sent,2e4===(u=u.data).code&&u.result){try{c=JSON.parse(u.result)}catch(e){}a.tagOptions.find(function(e){return e.value===c.fTagType})&&(s.tagType=c.fTagType),c.fTagDataType&&(s.tagDataType=c.fTagDataType),c.fTagDateType&&(s.tagDateType=c.fTagDateType),a.tagOptions.find(function(e){return e.value===c.fAspectTagType})&&(s.aspectTagType=c.fAspectTagType),c.fAspectLevel&&(s.aspectLevel=c.fAspectLevel),c.fAspectDataType&&(s.aspectDataType=c.fAspectDataType)}return u=(new Date).getTime(),e.next=21,r({type:"save",payload:{asyncTime:u}});case 21:return e.next=23,i(d,100);case 23:return e.next=25,r({type:"fetchAspectChartData",payload:I()({},s,{time:u})});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(12);case 29:return e.next=31,r({type:"save",payload:I()({},a,c,s)});case 31:case"end":return e.stop()}},e,null,[[12,27]])}),updateFlavors:w().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return I()({},e)[k]});case 4:return p=e.sent,d=p.projectId,o=p.fTagDataType,s=p.fTagDateType,c=p.fTagType,u=p.fAspectDataType,l=p.fAspectLevel,p=p.fAspectTagType,e.prev=12,p={fTagDataType:a.tagDataType||o,fTagDateType:a.tagDateType||s,fTagType:a.tagType||c,fAspectDataType:a.aspectDataType||u,fAspectLevel:a.aspectLevel||l,fAspectTagType:a.aspectTagType||p},e.next=16,r(f,{projectId:d,value:JSON.stringify(p)});case 16:if(d=e.sent,2e4===d.data.code)return e.next=21,i({type:"save",payload:p});e.next=21;break;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:case"end":return e.stop()}},e,null,[[12,23]])}),fetchTagTrendData:w().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,u=n.select,e.next=4,u(function(e){return I()({},e)[k]});case 4:return p=e.sent,o=p.projectId,d=p.tagList,s=p.tagDateType,f=p.dateFilter,c=p.filterModel,u=p.tagDataType,l=p.tagType,p="error",e.prev=13,d=d.find(function(e){return e.id===(a.tagType||l)}),f=(0,h.ZP)(a.dateFilter||f,function(e){e.dateGroupType=a.tagDateType||s}),e.next=18,i(m,{projectId:a.projectId||o,tag:[{id:d.id,values:d.values.map(function(e){return e.id})}],calType:a.tagDataType||u,filterModel:a.filterModel||c,dateFilter:f});case 18:f=e.sent,f=f.data,p=2e4===f.code&&0<Object.keys(f.result).length?f.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(13);case 25:return e.prev=25,e.next=28,r({type:"save",payload:I()({},a,{tagChartData:p})});case 28:return e.finish(25);case 29:case"end":return e.stop()}},e,null,[[13,23,25,29]])}),fetchAspectChartData:w().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x,b,T;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return I()({},e)[k]});case 4:m=e.sent,s=m.projectId,v=m.tagList,c=m.aspectDataType,u=m.aspectLevel,l=m.aspectTagType,p=m.dateFilter,d=m.filterModel,e.prev=12,f=v.find(function(e){return e.id===(a.aspectTagType||l)}),h=0,m=f.values.length,v=0;case 17:if(v<m)return e.next=20,o(function(e){return I()({},e)[k]});e.next=46;break;case 20:if(g=e.sent,g.asyncTime!==a.time)return e.abrupt("return");e.next=24;break;case 24:return y=f.values[v],g={id:f.id,values:[y.id]},e.next=28,i(E,{projectId:a.projectId||s,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d,aspectLevel:a.aspectLevel||u,calType:a.aspectDataType||c,tag:[g]});case 28:return b=e.sent,x=b.data,e.next=32,o(function(e){return I()({},e)[k]});case 32:if(T=e.sent,T.asyncTime!==a.time)return e.abrupt("return");e.next=36;break;case 36:if(2e4===x.code)return b=I()({},a),(T=!x.result)||(h+=1),b.aspectChartData=v===m-1&&0===h?"empty":{refresh:0===v,data:{tagName:y.name,aspectList:T?[]:x.result[0].aspectList}},e.next=43,r({type:"save",payload:b});e.next=43;break;case 43:v++,e.next=17;break;case 46:e.next=52;break;case 48:return e.prev=48,e.t0=e.catch(12),e.next=52,r({type:"save",payload:I()({},a,{aspectChartData:"error"})});case 52:case"end":return e.stop()}},e,null,[[12,48]])})}}},52315:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67154),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_services__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40839),public_storage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(35239),_utils_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(50389),public_dva_names__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64396),name=public_dva_names__WEBPACK_IMPORTED_MODULE_4__.Z.sentiment.warning.edit,initState={warningId:null,formRule:{title:"",specialTopicIds:"",description:"",ruleModeType:"PATTERNONE",calType:"NUMBER",dateRangeType:["CURRENTHARFHOURS"],ruleDetail:[]},formPush:{pushTeams:[],pushUsers:[],pushMethod:["WECHAT"],warningInterval:18e5,disturbType:"WORKTIME",repeatType:!0,combined:!0},topicList:[],teamList:[],userList:[],hasChange:!1};const __WEBPACK_DEFAULT_EXPORT__={namespace:name,state:JSON.parse(JSON.stringify(initState)),reducers:{save:function(e,t){t=t.payload;return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e,t)}},effects:{fetchUserList:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.call,e.next=3,r(_services__WEBPACK_IMPORTED_MODULE_2__.mE,{projectId:public_storage__WEBPACK_IMPORTED_MODULE_3__.t.get(public_storage__WEBPACK_IMPORTED_MODULE_3__.V.curProject).id});case 3:return r=e.sent,e.next=6,a({type:"save",payload:{teamList:r.data.result.team,userList:r.data.result.user}});case 6:case"end":return e.stop()}},e)}),getTopicList:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.call,e.next=3,r(_services__WEBPACK_IMPORTED_MODULE_2__.C,{projectId:public_storage__WEBPACK_IMPORTED_MODULE_3__.t.get(public_storage__WEBPACK_IMPORTED_MODULE_3__.V.curProject).id});case 3:return r=e.sent,r=r.data.result,e.next=7,a({type:"save",payload:{topicList:r.list}});case 7:case"end":return e.stop()}},e)}),getDetail:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r,i,o;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.call,i=n.select,e.next=3,i(function(e){return e[name]});case 3:return o=e.sent,o=o.warningId,e.next=7,r(_services__WEBPACK_IMPORTED_MODULE_2__.Nm,{warningId:o});case 7:return o=e.sent,o=o.data.result,e.next=11,a({type:"save",payload:_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.Q)(o))});case 11:case"end":return e.stop()}},e)}),formRuleChange:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function formRuleChange(_ref5,_ref6){var payload,put,call,select,_yield$select2,formRule,value;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function formRuleChange$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return payload=_ref5.payload,put=_ref6.put,call=_ref6.call,select=_ref6.select,_context4.next=4,select(function(e){return e[name]});case 4:return _yield$select2=_context4.sent,formRule=_yield$select2.formRule,"ruleDetail"===payload.key[0]?"ALL"===payload.id?formRule.dateRangeType.forEach(function(t){var e;formRule.ruleDetail.some(function(e){return e.id===t&&(e.value[payload.index]=payload.value,!0)})||((e=[])[payload.index]=payload.value,formRule.ruleDetail.push({id:t,value:e}))}):formRule.ruleDetail.some(function(e){return e.id===payload.id})?formRule.ruleDetail.forEach(function(e){e.id===payload.id&&(e.value[payload.index]=payload.value)}):(value=[],value[payload.index]=payload.value,formRule.ruleDetail.push({id:payload.id,value:value})):(eval("formRule."+payload.key.join(".")+" = payload.value"),"ruleModeType"===payload.key[0]&&("PATTERNONE"===payload.value?(formRule.calType="NUMBER",formRule.dateRangeType=["CURRENTHARFHOURS"]):"PATTERNTWO"===payload.value&&(formRule.calType=["NUMBER"],formRule.dateRangeType="CURRENTHARFHOURS"),formRule.ruleDetail=[]),"calType"===payload.key[0]&&"PATTERNONE"===formRule.ruleModeType&&formRule.ruleDetail.forEach(function(e){return e.value=[]}),("calType"===payload.key[0]&&"PATTERNONE"!==formRule.ruleModeType||"dateRangeType"===payload.key[0]&&"PATTERNONE"===formRule.ruleModeType)&&-1!==formRule.ruleDetail.findIndex(function(e){return!payload.value.includes(e.id)})&&formRule.ruleDetail.splice(formRule.ruleDetail.findIndex(function(e){return!payload.value.includes(e.id)}),1),["dateRangeType","calType"].includes(payload.key[0])&&("PATTERNONE"===formRule.ruleModeType&&["PERCENT","GROWTHRATE"].includes(formRule.calType)?formRule.dateRangeType.forEach(function(t){formRule.ruleDetail.some(function(e){return e.id===t&&(e.value[1]=e.value[1]||"10",!0)})||formRule.ruleDetail.push({id:t,value:[null,"10"]})}):["PERCENT","GROWTHRATE"].some(function(e){return formRule.calType.includes(e)})&&formRule.calType.forEach(function(t){formRule.ruleDetail.some(function(e){return e.id===t&&(e.value[1]=["PERCENT","GROWTHRATE"].includes(t)?e.value[1]||"10":null,!0)})||formRule.ruleDetail.push({id:t,value:[null,["PERCENT","GROWTHRATE"].includes(t)?"10":null]})}))),_context4.next=9,put({type:"save",payload:{formRule:JSON.parse(JSON.stringify(formRule)),hasChange:!0}});case 9:case"end":return _context4.stop()}},formRuleChange)}),formPushChange:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r,i;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.call,i=n.select,e.next=4,i(function(e){return e[name]});case 4:return i=e.sent,(i=i.formPush)[a.key]=a.value,e.next=9,r({type:"save",payload:{formPush:JSON.parse(JSON.stringify(i)),hasChange:!0}});case 9:case"end":return e.stop()}},e)}),comfirm:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a,r,i,o;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.put,a=n.call,i=n.select,e.next=4,i(function(e){return e[name]});case 4:return o=e.sent,r=o.formPush,i=o.formRule,o=o.warningId,e.next=10,a(o?_services__WEBPACK_IMPORTED_MODULE_2__.kU:_services__WEBPACK_IMPORTED_MODULE_2__.GX,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({projectId:public_storage__WEBPACK_IMPORTED_MODULE_3__.t.get(public_storage__WEBPACK_IMPORTED_MODULE_3__.V.curProject).id,warningId:o},(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.a)(i,r)));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)}),clear:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function e(t,n){var a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.call,n.select,e.next=4,a({type:"save",payload:_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},JSON.parse(JSON.stringify(initState)))});case 4:case"end":return e.stop()}},e)})}}},40839:(e,t,n)=>{"use strict";n.d(t,{mE:()=>function(e){return r.apply(this,arguments)},GX:()=>function(e){return i.apply(this,arguments)},kU:()=>function(e){return o.apply(this,arguments)},Nm:()=>function(e){return s.apply(this,arguments)},C:()=>function(e){return c.apply(this,arguments)}});var t=n(48926),a=n.n(t),t=n(87757),f=n.n(t),h=n(36144);function r(){return(r=a()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",h.h.post("/filter/find",{type:"INBOX",filterTypes:["USER","TEAM"],projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function i(){return(i=a()(f().mark(function e(t){var n,a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.title,r=t.specialTopicIds,i=t.description,o=t.pushTeams,s=t.pushUsers,c=t.pushMethod,u=t.warningInterval,l=t.warningPublicOpinionModels,p=t.warningPublicOpinionConditionModel,e.abrupt("return",h.h.post("/public-opinion-warning/add",{projectId:n,title:a,specialTopicIds:r,description:i,pushTeams:o,pushUsers:s,pushMethod:c,warningInterval:u,warningPublicOpinionModels:l,warningPublicOpinionConditionModel:p}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(){return(o=a()(f().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.title,r=t.specialTopicIds,i=t.description,o=t.pushTeams,s=t.pushUsers,c=t.pushMethod,u=t.warningInterval,l=t.warningPublicOpinionModels,p=t.warningPublicOpinionConditionModel,d=t.warningId,t.warningStatus,t.warningType,e.abrupt("return",h.h.post("/public-opinion-warning/update",{projectId:n,title:a,specialTopicIds:r,description:i,pushTeams:o,pushUsers:s,pushMethod:c,warningInterval:u,warningPublicOpinionModels:l,warningPublicOpinionConditionModel:p,warningId:d}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(){return(s=a()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.warningId,e.abrupt("return",h.h.get("/public-opinion-warning/detail/find",{params:{warningId:n}}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=a()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",h.h.post("/public-opinion-special-topic/list",{projectId:n,pageSize:99999,pageIndex:1}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}},50389:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a,a:()=>r});var a=function(e){var t=e.title,n=e.specialTopicIds,a=e.description,r=e.pushTeams,i=e.pushUsers,o=e.pushMethod,s=e.warningInterval,c=e.warningPublicOpinionModels,u=e.warningPublicOpinionConditionModel,l=u.repeatType,p=(u.warningGranularityType,u.ruleModeType),d=u.disturbType,f=u.combined,u=e.calType,e=e.dateRangeType;return{formRule:{title:t,specialTopicIds:n[0],description:a,ruleModeType:p,calType:"PATTERNONE"===p?u&&u[0]:u,dateRangeType:"PATTERNONE"===p?e:e&&e[0],ruleDetail:c.map(function(e){return{id:"PATTERNONE"===p?e.dateRangeType:e.calType,value:[e.threshold,e.supportThreshold]}})},formPush:{pushTeams:r,pushUsers:i,pushMethod:o,warningInterval:s,disturbType:d,repeatType:"ENABLE"===l,combined:f}}},r=function(e,t){var n=e.title,a=e.specialTopicIds,r=e.description,i=e.ruleModeType,o=(e.warningGranularityType,e.calType),s=e.dateRangeType,c=e.ruleDetail,u=t.pushTeams,l=t.pushUsers,p=t.pushMethod,d=t.warningInterval,f=t.disturbType,e=t.repeatType,t=t.combined;return{title:n,specialTopicIds:[a],description:r,pushTeams:u,pushUsers:l,pushMethod:p,warningInterval:d,warningPublicOpinionModels:c.map(function(e){return{dateRangeType:"PATTERNONE"===i?e.id:s,calType:"PATTERNONE"===i?o:e.id,threshold:e.value[0],supportThreshold:e.value[1]||""}}),warningPublicOpinionConditionModel:{ruleModeType:i,repeatType:e?"ENABLE":"DISABLE",disturbType:f,combined:t}}}},54465:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var t=n(67154),c=n.n(t),t=n(87757),d=n.n(t),t=n(48926),a=n.n(t),f=n(36144);function u(e){return r.apply(this,arguments)}function r(){return(r=a()(d().mark(function e(t){var n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",f.h.post("/public-opinion-warning/search/list",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return i.apply(this,arguments)}function i(){return(i=a()(d().mark(function e(t){var n,a,r,i,o,s,c,u,l,p;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageIndex,r=t.pageSize,i=t.title,o=t.receiverTeamIdList,s=t.receiverUserIdList,c=t.calType,u=t.dateRangeType,l=t.publicOpinionTopicId,p=t.status,e.abrupt("return",f.h.post("/public-opinion-warning/list",{projectId:n,pageIndex:a,pageSize:r,title:i,receiverTeamIdList:o,receiverUserIdList:s,calType:c,dateRangeType:u,publicOpinionTopicId:l,status:p}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(e){return s.apply(this,arguments)}function s(){return(s=a()(d().mark(function e(t){var n,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.warningId,a=t.warningStatus,e.abrupt("return",f.h.post("/public-opinion-warning/status/update",{warningId:n,warningStatus:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=a()(d().mark(function e(t){var n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.warningId,e.abrupt("return",f.h.post("/public-opinion-warning/delete",{warningId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var m=n(35239),v=n(92360),y=n(64396).Z.sentiment.warning.list,g={pageIndex:1,pageSize:10,filterList:[{title:"计算公式",list:[{id:"NUMBER",name:"负面声量"},{id:"PERCENT",name:"负面声量占比"},{id:"INCREMENT",name:"负面声量环比增量"},{id:"GROWTHRATE",name:"负面声量环比增长率"}],id:"calType"},{title:"时间范围",list:[{id:"CURRENTHARFHOURS",name:"当前半小时"},{id:"CURRENTONEHOURS",name:"当前1小时"},{id:"CURRENTSIXHOURS",name:"当前6小时"},{id:"CURRENTHALFDAY",name:"当前半天"},{id:"CURRENT_DAY",name:"当天"},{id:"LAST_THREE_DAYS",name:"近3天"},{id:"LAST_SENVEN_DAYS",name:"近7天"},{id:"CURRENT_WEEK",name:"当周"},{id:"CURRENT_MONTH",name:"当月"}],id:"dateRangeType"}],filterValue:{title:"",receiverTeamIdList:[],receiverUserIdList:[],calType:[],dateRangeType:[],publicOpinionTopicId:[],status:""},warningList:null,total:0};const x={namespace:y,state:JSON.parse(JSON.stringify(g)),reducers:{save:function(e,t){t=t.payload;return c()({},e,t)}},effects:{fetchList:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.call,o=n.select,e.next=3,o(function(e){return e[y]});case 3:return s=e.sent,i=s.pageIndex,o=s.pageSize,s=s.filterValue,e.prev=7,e.next=10,r(l,c()({projectId:m.t.get(m.V.curProject).id,pageIndex:i,pageSize:o},s));case 10:return s=e.sent,s=s.data.result,e.next=14,a({type:"save",payload:{warningList:s.list,total:s.total}});case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(7),v.Message.error("请求错误"),e.next=21,a({type:"save",payload:{warningList:[],total:0}});case 21:case"end":return e.stop()}},e,null,[[7,16]])}),fetchFilterList:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.call,i=n.select,e.next=3,i(function(e){return e[y]});case 3:return s=e.sent,o=s.filterList,e.next=7,r(u,{projectId:m.t.get(m.V.curProject).id});case 7:return s=e.sent,s=s.data.result,2===o.length&&s&&(o.unshift({title:"专题",list:s.publicOpinionSpecialTopicList,id:"publicOpinionTopicId"}),o.push.apply(o,[{title:"推送团队",list:s.teamList,id:"receiverTeamIdList"},{title:"推送用户",list:s.userList.map(function(e){return{id:e.userId,name:e.userName}}),id:"receiverUserIdList"}])),e.next=12,a({type:"save",payload:{filterList:o}});case 12:case"end":return e.stop()}},e)}),filterChange:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.call,i=n.select,e.next=4,i(function(e){return e[y]});case 4:return i=e.sent,i.filterList,(i=i.filterValue)[a.key]=a.value,e.next=10,r({type:"save",payload:{pageIndex:1,filterValue:JSON.parse(JSON.stringify(i))}});case 10:if("title"!==a.key)return e.next=13,r({type:"fetchList"});e.next=13;break;case 13:case"end":return e.stop()}},e)}),pageSizeChange:d().mark(function e(t,n){var a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.call,n.select,e.next=4,r({type:"save",payload:{pageSize:a,pageIndex:1}});case 4:return e.next=6,r({type:"fetchList"});case 6:case"end":return e.stop()}},e)}),pageChange:d().mark(function e(t,n){var a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.call,n.select,e.next=4,r({type:"save",payload:{pageIndex:a}});case 4:return e.next=6,r({type:"fetchList"});case 6:case"end":return e.stop()}},e)}),changeState:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,n.select,e.next=4,i(o,{warningId:a.id,warningStatus:a.status});case 4:return e.next=6,r({type:"fetchList"});case 6:case"end":return e.stop()}},e)}),deleteWarning:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,n.select,e.next=4,i(p,{warningId:a.id});case 4:return e.next=6,r({type:"fetchList"});case 6:case"end":return e.stop()}},e)}),clear:d().mark(function e(t,n){var a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.call,n.select,e.next=4,a({type:"save",payload:c()({},JSON.parse(JSON.stringify(g)))});case 4:case"end":return e.stop()}},e)})}}},86556:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),i=n(36144);function f(e){var t=e.keyword,n=e.tags,a=e.pageSize,e=e.pageIndex;return i.h.post("/contact/list",{keyword:void 0===t?"":t,tags:void 0===n?[]:n,pageIndex:void 0===e?1:e,pageSize:void 0===a?20:a})}function o(e){var t=e.name,n=e.phoneNumber,a=e.email,e=e.tags;return i.h.post("/contact/add",{name:t,phoneNumber:n,email:a,tags:e})}function s(e){var t=e.id,n=e.name,a=e.phoneNumber,r=e.email,e=e.tags;return i.h.post("/contact/update",{id:t,name:n,phoneNumber:a,email:r,tags:e})}function c(e){e=e.id;return i.h.post("/contact/delete",{id:e})}function u(e){var t=e.keyword,n=e.tags,a=e.allDelete,e=e.excludes;return i.h.post("/contact/batch/delete",{keyword:t,tags:n,allDelete:a,excludes:e})}function l(e){return i.h.post("/contact/set-tag",e)}function h(){return i.h.post("/contact/tag/list")}function m(e){e=e.name;return i.h.post("/contact/tag/add",{name:e})}function v(e){e=e.id;return i.h.post("/contact/tag/delete",{id:e})}function y(e){var t=e.id,e=e.name;return i.h.post("/contact/tag/update",{id:t,name:e})}var g=n(5133),x=n(63968),b=n(61193),T=n(64396).Z.research.npsContacts,a={initLoading:!0,contactsData:{data:void 0,fetchParams:{tags:[],keyword:"",pageIndex:1,pageSize:20}},delExcArr:[],delAllChecked:!1,tagList:void 0,addedTags:[]};const r={namespace:T,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchContactsList:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return p()({},e)[T]});case 4:return c=e.sent,u=c.contactsData,s=p()({},u.fetchParams,a,{tagList:void 0}),c=void 0,e.prev=8,e.next=11,r(f,s);case 11:u=e.sent,2e4===(u=u.data).code&&(l=b.Z.getUser().userId.substring(16),c=JSON.parse((0,x.p)(u.result.data,l))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),console.log(e.t0);case 19:return e.prev=19,l={initLoading:!1,delAllChecked:!1,delExcArr:[],contactsData:{data:c,fetchParams:p()({},s,{tagList:void 0})}},a&&a.tagList&&(l.tagList=a.tagList),e.next=24,o({type:"save",payload:l});case 24:return e.finish(19);case 25:case"end":return e.stop()}},e,null,[[8,16,19,25]])}),addContact:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.prev=2,e.next=5,a(o,i);case 5:if(i=e.sent,2e4===i.data.code)return e.next=10,r({type:"fetchTagList",payload:{pageIndex:1}});e.next=11;break;case 10:return e.abrupt("return",e.sent);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}},e,null,[[2,13,15,17]])}),deleteContact:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.prev=2,e.next=5,a(c,i);case 5:if(i=e.sent,2e4===i.data.code)return e.next=10,r({type:"fetchContactsList"});e.next=10;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}},e,null,[[2,12,14,16]])}),deleteAllContact:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.put,o=n.select,e.next=4,o(function(e){return p()({},e)[T]});case 4:return s=e.sent,i=s.delAllChecked,c=s.delExcArr,o=s.contactsData,s=o.fetchParams,o=s.tags,s=s.keyword,e.prev=9,c={tags:o,keyword:s,allDelete:i,excludes:c},e.next=13,a(u,c);case 13:if(c=e.sent,2e4===c.data.code)return e.next=18,r({type:"fetchContactsList",payload:{pageIndex:1}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(9);case 22:case"end":return e.stop()}},e,null,[[9,20]])}),updateContact:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.prev=2,e.next=5,a(s,i);case 5:if(i=e.sent,2e4===i.data.code)return e.next=10,r({type:"fetchTagList"});e.next=11;break;case 10:return e.abrupt("return",e.sent);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}},e,null,[[2,13,15,17]])}),fetchTagList:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,e.prev=2,e.next=5,i(h,a);case 5:if(i=e.sent,2e4===(i=i.data).code)return i=i.result,e.next=11,r({type:"fetchContactsList",payload:p()({},a,{pageIndex:1,tagList:i})});e.next=11;break;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}},e,null,[[2,13,15,17]])}),addTag:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.prev=2,e.next=5,a(m,i);case 5:if(i=e.sent,2e4===i.data.code)return e.next=10,r({type:"fetchTagList"});e.next=10;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}},e,null,[[2,12,14,16]])}),updateTag:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.prev=2,e.next=5,a(y,i);case 5:if(i=e.sent,2e4===i.data.code)return e.next=10,r({type:"fetchTagList"});e.next=10;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}},e,null,[[2,12,14,16]])}),deleteTag:d().mark(function e(t,n){var a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return p()({},e)[T]});case 4:return c=e.sent,s=c.contactsData,e.prev=6,e.next=9,r(v,a);case 9:if(c=e.sent,2e4===c.data.code)return e.next=14,i({type:"fetchTagList",payload:{tags:s.fetchParams.tags.filter(function(e){return e!==a.id})}});e.next=14;break;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}},e,null,[[6,16,18,20]])}),tagContacts:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,s=n.select,r=n.put,e.prev=1,e.next=4,s(function(e){return p()({},e)[T]});case 4:return c=e.sent,i=c.delAllChecked,o=c.delExcArr,u=c.addedTags,s=c.contactsData,c=s.fetchParams,s=c.tags,c=c.keyword,e.next=12,a(l,{tags:s,keyword:c,allDelete:i,excludes:o,tagsToSet:u});case 12:if(u=e.sent,2e4===u.data.code)return g.Z.success("操作成功"),e.next=18,r({type:"save",payload:{addedTags:[]}});e.next=22;break;case 18:return e.next=20,r({type:"fetchContactsList"});case 20:return e.next=22,r({type:"fetchTagList"});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(1);case 26:case"end":return e.stop()}},e,null,[[1,24]])})}}},79041:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),f=n.n(t),t=n(87757),h=n.n(t),c=n(36144);function m(e){var t=e.projectId,n=e.questionnaireId,a=e.reasonKeyword,r=e.keyword,i=e.pageSize,o=e.pageIndex,s=e.dateFilter,e=e.filterModel;return c.h.post("/questionnaire/answer/list",{projectId:t,questionnaireId:n,reasonKeyword:a,keyword:r,pageSize:i,pageIndex:o,dateFilter:s,filterModel:e})}function l(e){e=e.id;return c.h.post("/questionnaire/questions/list",{id:e})}function d(e){var t=e.projectId,n=e.questionnaireId,a=e.reasonKeyword,r=e.keyword,i=e.pageSize,o=e.pageIndex,s=e.dateFilter,e=e.filterModel;return c.h.post("/questionnaire/export/save",{projectId:t,questionnaireId:n,reasonKeyword:a,keyword:r,pageSize:i,pageIndex:o,dateFilter:s,filterModel:e})}var t=n(64396),v=n(61193),y=n(63968),g=(n(5133),t.Z.research.analyze.answerDetail),a={questions:void 0,visible:!1,reasonKeyword:"",keyword:"",pageIndex:1,pageSize:10,data:void 0,questionnaireId:"",projectId:void 0,dateFilter:void 0,filterModel:[]};const r={namespace:g,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(a))}},effects:{fetchQuestions:h().mark(function e(t,n){var a,r,i,o,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,o=void 0,e.next=5,c(function(e){return f()({},e)[g]});case 5:if(u=e.sent,u.projectId,s=u.filterModel,c=u.dateFilter,u=u.questionnaireId,JSON.stringify(s)===JSON.stringify(a.filterModel)&&JSON.stringify(c)===JSON.stringify(a.dateFilter)&&JSON.stringify(u)===JSON.stringify(a.questionnaireId))return e.abrupt("return");e.next=12;break;case 12:return e.prev=12,e.next=15,r(l,{id:a.questionnaireId});case 15:if(u=e.sent,2e4===(u=u.data).code&&u.result)return o=u.result.sort(function(e,t){return e.number-t.number}),e.next=21,i({type:"fetchDetailList",payload:a});e.next=21;break;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:return e.prev=25,e.next=28,i({type:"save",payload:f()({},a,{questions:o})});case 28:return e.finish(25);case 29:return e.abrupt("return",o);case 30:case"end":return e.stop()}},e,null,[[12,23,25,29]])}),fetchDetailList:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,c=n.select,i=n.put,e.next=4,c(function(e){return f()({},e)[g]});case 4:return u=e.sent,o=u.projectId,s=u.filterModel,c=u.dateFilter,l=u.pageIndex,p=u.pageSize,u=u.questionnaireId,p={questionnaireId:a.questionnaireId||u,projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||c,reasonKeyword:a.reasonKeyword,keyword:a.keyword,pageSize:a.pageSize||p,pageIndex:a.pageIndex||l},l="error",e.prev=13,e.next=16,r(m,p);case 16:p=e.sent,p=p.data,l=2e4===p.code&&0<p.result.count?(d=v.Z.getUser().userId.substring(16),{total:p.result.count,list:p.result.result.map(function(e){return f()({},e,{contactName:e.contactName?(0,y.p)(e.contactName,d):"",email:e.email?(0,y.p)(e.email,d):"",phoneNumber:e.phoneNumber?(0,y.p)(e.phoneNumber,d):""})})}):"empty",e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.prev=23,e.next=26,i({type:"save",payload:f()({},a,{data:l})});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[13,21,23,27]])}),exportQuestionnaire:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,l=n.select,i=n.put,e.next=4,l(function(e){return f()({},e)[g]});case 4:return p=e.sent,o=p.questionnaireId,s=p.projectId,c=p.filterModel,u=p.dateFilter,l=p.pageIndex,p=p.pageSize,e.next=13,r(d,{questionnaireId:a.questionnaireId||o,reasonKeyword:a.reasonKeyword,keyword:a.keyword,projectId:a.projectId||s,filterModel:a.filterModel||c,dateFilter:a.dateFilter||u,pageIndex:a.pageIndex||l,pageSize:a.pageIndex||p});case 13:if(p=e.sent,2e4===(p=p.data).code&&p.result)return e.next=18,i({type:"save",payload:{visible:!0}});e.next=18;break;case 18:case"end":return e.stop()}},e)})}}},85633:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),y=n.n(t),t=n(87757),g=n.n(t),s=n(36144);function l(e){e=e.id;return s.h.post("/questionnaire/questions/list",{id:e})}function d(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.questionId,i=e.questionnaireId,o=e.pageIndex,e=e.pageSize;return s.h.post("/questionnaire/chart/find/COMBINATION_INFO_CHART",{projectId:t,dateFilter:n,filterModel:a,questionId:r,questionnaireId:i,pageIndex:o,pageSize:e})}function h(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.questionId,i=e.questionnaireId,e=e.questionType;return s.h.post("/questionnaire/chart/find/QUESTION_SCORE_CHART",{projectId:t,dateFilter:n,filterModel:a,questionId:r,questionnaireId:i,questionType:e})}function m(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.questionId,e=e.questionnaireId;return s.h.post("/questionnaire/chart/find/QUESTION_OPTION_CHART",{projectId:t,dateFilter:n,filterModel:a,questionId:r,questionnaireId:e})}function x(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.questionId,i=e.questionnaireId,o=e.pageIndex,e=e.pageSize;return s.h.post("/questionnaire/chart/find/QUESTION_ANSWER_CHART",{projectId:t,dateFilter:n,filterModel:a,questionId:r,questionnaireId:i,pageIndex:o,pageSize:e})}var b=n(64396).Z.research.analyze.answer,a={questions:void 0,userInfoData:void 0,pageIndex:1,questionnaireId:"",dataFilter:void 0,filterModel:[],projectId:void 0};const r={namespace:b,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return y()({},e,t)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(a))}},effects:{fetchQuestions:g().mark(function e(t,n){var a,r,i,o,s,c,u;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,o=void 0,e.next=5,c(function(e){return y()({},e)[b]});case 5:if(u=e.sent,u.projectId,s=u.filterModel,c=u.dateFilter,u=u.questionnaireId,JSON.stringify(s)===JSON.stringify(a.filterModel)&&JSON.stringify(c)===JSON.stringify(a.dateFilter)&&JSON.stringify(u)===JSON.stringify(a.questionnaireId))return e.abrupt("return");e.next=12;break;case 12:return e.prev=12,e.next=15,r(l,{id:a.questionnaireId});case 15:u=e.sent,2e4===(u=u.data).code&&u.result&&(o=u.result.sort(function(e,t){return e.number-t.number})),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,i({type:"save",payload:y()({},a,{questions:o})});case 25:return e.finish(22);case 26:return e.abrupt("return",o);case 27:case"end":return e.stop()}},e,null,[[12,20,22,26]])}),fetchScoreChart:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return y()({},e)[b]});case 4:return u=e.sent,d=u.projectId,l=u.questionnaireId,o=u.dateFilter,s=u.filterModel,c=a.number,u=a.questionType,e.prev=10,l={dateFilter:a.dateFilter||o,filterModel:a.filterModel||s,questionId:a.questionId,questionType:u,questionnaireId:a.questionnaireId||l,projectId:a.projectId||d},e.next=14,i({type:"save",payload:((d={})["optionLoading"+c]=!0,d)});case 14:return e.next=16,r(h,l);case 16:if(d=e.sent,2e4===(p=d.data).code&&p.result)return e.next=21,i({type:"save",payload:((d={})["optionsData"+c]=y()({number:c},p.result,{optionList:0<p.result.optionList.length?p.result.optionList.map(function(e){return y()({},e,{optionName:e.optionName.replace("<p>","").replace("</p>","")})}):"empty"}),d)});e.next=23;break;case 21:e.next=25;break;case 23:return e.next=25,i({type:"save",payload:((f={})["optionsData"+c]=y()({number:c},p.result,{optionList:"error"}),f)});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(10);case 29:return e.prev=29,e.next=32,i({type:"save",payload:((f={})["optionLoading"+c]=!1,f)});case 32:return e.finish(29);case 33:case"end":return e.stop()}},e,null,[[10,27,29,33]])}),fetchOptionChart:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return y()({},e)[b]});case 4:return o=e.sent,s=o.projectId,c=o.questionnaireId,u=o.dateFilter,l=o.filterModel,p=a.number,e.next=12,i({type:"save",payload:((o={})["optionLoading"+p]=!0,o)});case 12:return e.prev=12,f={dateFilter:a.dateFilter||u,filterModel:a.filterModel||l,questionId:a.questionId,questionnaireId:a.questionnaireId||c,projectId:a.projectId||s},e.next=16,r(m,f);case 16:if(f=e.sent,2e4===(d=f.data).code&&d.result)return e.next=21,i({type:"save",payload:((f={})["optionsData"+p]=y()({number:p},d.result,{optionList:0<d.result.optionList.length?d.result.optionList.map(function(e){return y()({},e,{optionName:e.optionName.replace("<p>","").replace("</p>","")})}):"empty"}),f)});e.next=23;break;case 21:e.next=25;break;case 23:return e.next=25,i({type:"save",payload:((h={})["optionsData"+p]=y()({number:p},d.result,{optionList:"error"}),h)});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(12);case 29:return e.prev=29,e.next=32,i({type:"save",payload:((h={})["optionLoading"+p]=!1,h)});case 32:return e.finish(29);case 33:case"end":return e.stop()}},e,null,[[12,27,29,33]])}),fetchReasonChart:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return y()({},e)[b]});case 4:return o=e.sent,s=o.projectId,c=o.questionnaireId,u=o.dateFilter,l=o.filterModel,p=a.number,d=a.pageIndex,f=a.pageSize,e.next=12,i({type:"save",payload:((o={})["reasonLoading"+p]=!0,o)});case 12:return m={dateFilter:a.dateFilter||u,filterModel:a.filterModel||l,questionId:a.questionId,pageIndex:d,pageSize:f,questionnaireId:a.questionnaireId||c,projectId:a.projectId||s},e.prev=13,e.next=16,r(x,m);case 16:if(m=e.sent,2e4===(h=m.data).code&&h.result)return e.next=21,i({type:"save",payload:((m={})["reasonData"+p]=y()({number:p},h.result,{reasonList:0<h.result.reasonList.length?h.result.reasonList.reduce(function(e,t){return e.push([t]),e},[]):"empty"}),m)});e.next=23;break;case 21:e.next=25;break;case 23:return e.next=25,i({type:"save",payload:((v={})["reasonData"+p]=y()({number:p},h.result,{reasonList:"error"}),v)});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(13);case 29:return e.prev=29,e.next=32,i({type:"save",payload:((v={})["reasonLoading"+p]=!1,v)});case 32:return e.finish(29);case 33:case"end":return e.stop()}},e,null,[[13,27,29,33]])}),fetchUserInfoChart:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return y()({},e)[b]});case 4:return o=e.sent,s=o.projectId,c=o.questionnaireId,u=o.dateFilter,l=o.filterModel,o.pageIndex,e.prev=10,e.next=13,r(d,{dateFilter:a.dateFilter||u,filterModel:a.filterModel||l,pageIndex:a.pageIndex,pageSize:a.pageSize,questionId:a.questionId,questionnaireId:a.questionnaireId||c,projectId:a.projectId||s});case 13:if(p=e.sent,2e4===(p=p.data).code&&p.result)return e.next=18,i({type:"save",payload:y()({},a,{userInfoData:y()({},p.result,{infoList:0<p.result.infoList.length?p.result.infoList.reduce(function(e,t){return e.push([t.name,t.phoneNumber,t.email]),e},[]):"empty"})})});e.next=20;break;case 18:e.next=22;break;case 20:return e.next=22,i({type:"save",payload:{userInfoData:y()({},p.result,{infoList:"error"})}});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(10);case 26:case"end":return e.stop()}},e,null,[[10,24]])})}}},96237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(67154),v=n.n(a),t=n(87757),y=n.n(t),g=n(39432),a=(n(87219),n(64396)),t=n(48926),r=n.n(t),o=n(36144);function m(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.questionnaireId,e=e.questionnaireBoardId;return o.h.post("/questionnaire/chart/find/NPS_CONCERNS_CHART",{projectId:t,filterModel:n,dateFilter:a,questionnaireId:r,questionnaireBoardId:e})}function x(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.questionnaireId,e=e.questionnaireBoardId;return o.h.post("/questionnaire/chart/find/NPS_ANALYSE_CHART",{projectId:t,filterModel:n,dateFilter:a,questionnaireId:r,questionnaireBoardId:e})}function d(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.questionnaireId,e=e.questionnaireBoardId;return o.h.post("/questionnaire/chart/find/NPS_PROVINCE_CHART",{projectId:t,filterModel:n,dateFilter:a,questionnaireId:r,questionnaireBoardId:e})}function l(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.textType,i=e.questionnaireId,e=e.questionnaireBoardId;return o.h.post("/questionnaire/createTextTask",{projectId:t,dateFilter:n,filterModel:a,textType:r,questionnaireId:i,questionnaireBoardId:e})}function c(e){var t=e.questionnaireId,n=e.textType,e=e.questionnaireBoardId;return o.h.post("/questionnaire/findTextResult",{textType:n,questionnaireId:t,questionnaireBoardId:e})}function p(e){return i.apply(this,arguments)}function i(){return(i=r()(y().mark(function e(t){var n,a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageType,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return s.apply(this,arguments)}function s(){return(s=r()(y().mark(function e(t){var n,a,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.pageType,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:r,value:JSON.stringify(a)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var b=a.Z.research.analyze.nps,u={dateOptions:[],defaultDateType:"",flavorObj:void 0,npsAnalyzeData:void 0,npsCustomerData:void 0,custTimeType:"WEEK",custDataType:"rato",graphicData:void 0,mapData:void 0,relativeData:void 0,relativeRefreshTime:void 0,relativeDataLoading:!1,doubleBarChartData:void 0,graphPieChartData:void 0,wordChartData:void 0,projectId:void 0,filterModel:void 0,dateFilter:void 0,questionnaireId:void 0,questionnaireBoardId:void 0};const h={namespace:b,state:JSON.parse(JSON.stringify(u)),reducers:{save:function(e,t){t=t.payload;return v()({},e,t)},clear:function(e,t){t.payload;return JSON.parse(JSON.stringify(u))}},effects:{fetchDatas:y().mark(function e(t,n){var a,r,i,o,s,c,u,l;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return v()({},e)[b]});case 4:if(u=e.sent,u.projectId,o=u.filterModel,s=u.dateFilter,c=u.questionnaireId,l=u.questionnaireBoardId,u=u.flavorObj,JSON.stringify(o)!==JSON.stringify(a.filterModel)||JSON.stringify(s)!==JSON.stringify(a.dateFilter)||JSON.stringify(c)!==JSON.stringify(a.questionnaireId)&&JSON.stringify(l)!==JSON.stringify(a.questionnaireBoardId)){e.next=13;break}return e.abrupt("return");case 13:if(u){e.next=27;break}return e.prev=14,e.next=17,r(p,{projectId:a.projectId,pageType:a.pageType});case 17:if(l=e.sent,2e4===(l=l.data).code)return l=JSON.parse(l.result||'{"npsAnalyze":"","npsCustomer":"","fCustDataType":"", "fCustTimeType":"", "mapAnalyze":"", "fBarCompareType":""}'),e.next=23,i({type:"save",payload:v()({},a,{flavorObj:l})});e.next=23;break;case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(14);case 27:return e.next=29,i({type:"save",payload:v()({},a)});case 29:return e.next=31,i({type:"fetchNpsConcerns",payload:a});case 31:return e.next=33,i({type:"fetchNpsData",payload:a});case 33:return e.next=35,i({type:"fetchNpsCustomerData",payload:a});case 35:return e.next=37,i({type:"fetchMapData",payload:a});case 37:return e.next=39,i({type:"createWordRelativeData",payload:a});case 39:return e.next=41,i({type:"fetchWordRelativeData",payload:a});case 41:case"end":return e.stop()}},e,null,[[14,25]])}),fetchNpsConcerns:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return v()({},e)[b]});case 4:return d=e.sent,o=d.projectId,s=d.filterModel,c=d.dateFilter,u=d.questionnaireId,f=d.questionnaireBoardId,d=p=l="error",e.prev=11,e.next=14,r(m,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||c,questionnaireId:a.questionnaireId||u,questionnaireBoardId:a.questionnaireBoardId||f});case 14:f=e.sent,f=f.data,d=2e4===f.code&&0<f.result.list.length?(l=f.result.list.map(function(e){return{name:e.word,total:e.questionnaireTotal,positiveCount:e.promoterCount,negativeCount:e.detractorCount,neutralCount:e.passiveCount,posRate:e.promoterCount/e.questionnaireTotal,negRate:e.detractorCount/e.questionnaireTotal,neuRate:e.passiveCount/e.questionnaireTotal}}).sort(function(e,t){return t.total-e.total}),p=l.slice(0,10),h=Math.sqrt(p[0].total),p=p.map(function(e){return v()({},e,{rate:Math.sqrt(e.total)/h})}),l.slice()):p=l="empty",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0);case 22:return e.prev=22,e.next=25,i({type:"save",payload:{doubleBarChartData:l,graphPieChartData:p,wordChartData:d}});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,19,22,26]])}),fetchNpsData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,h=n.select,e.next=4,h(function(e){return v()({},e)[b]});case 4:return f=e.sent,o=f.projectId,s=f.filterModel,c=f.dateFilter,u=f.questionnaireId,l=f.dateOptions,p=f.flavorObj,h=f.defaultDateType,m=f.questionnaireBoardId,d="error",f=a.dateGroupType,h=f||(l.some(function(e){return e.value===p.npsAnalyze})?p.npsAnalyze:h),e.prev=16,e.next=19,r(x,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:v()({},a.dateFilter||c,{dateGroupType:h}),questionnaireId:a.questionnaireId||u,questionnaireBoardId:a.questionnaireBoardId||m});case 19:m=e.sent,2e4===(m=m.data).code&&(d=m.result),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),console.log(e.t0);case 27:return e.prev=27,e.next=30,i({type:"save",payload:{npsAnalyzeData:d}});case 30:return e.finish(27);case 31:case"end":return e.stop()}},e,null,[[16,24,27,31]])}),fetchNpsCustomerData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return v()({},e)[b]});case 4:return p=e.sent,o=p.projectId,s=p.filterModel,c=p.dateFilter,u=p.questionnaireId,m=p.questionnaireBoardId,p.custTimeType,f=p.dateOptions,l=p.flavorObj,h=p.defaultDateType,p=a.dateGroupType,d=p||(f.some(function(e){return e.value===l.fCustTimeType})?l.fCustTimeType:h),h=f="error",e.prev=17,e.next=20,r(x,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:v()({},a.dateFilter||c,{dateGroupType:d}),questionnaireId:a.questionnaireId||u,questionnaireBoardId:a.questionnaireBoardId||m});case 20:m=e.sent,2e4===(m=m.data).code&&0<m.result.total?(f=m.result.list.map(function(e){return v()({},e,{time:(0,g.yV)(d,e.time)})}),h={questionnaireTotal:m.result.total,passiveCount:m.result.list.reduce(function(e,t){return e+t.passiveCount},0),promoterCount:m.result.list.reduce(function(e,t){return e+t.promoterCount},0),detractorCount:m.result.list.reduce(function(e,t){return e+t.detractorCount},0)}):f="empty",e.next=28;break;case 25:e.prev=25,e.t0=e.catch(17),console.log(e.t0);case 28:return e.prev=28,e.next=31,i({type:"save",payload:v()({},a,{npsCustomerData:f,graphicData:h})});case 31:return e.finish(28);case 32:case"end":return e.stop()}},e,null,[[17,25,28,32]])}),fetchMapData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return v()({},e)[b]});case 4:return l=e.sent,o=l.projectId,s=l.filterModel,c=l.dateFilter,u=l.questionnaireId,p=l.questionnaireBoardId,l="error",e.prev=11,e.next=14,r(d,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||c,questionnaireId:a.questionnaireId||u,questionnaireBoardId:a.questionnaireBoardId||p});case 14:p=e.sent,2e4===(p=p.data).code&&(l=p.result.list),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0);case 22:return e.prev=22,e.next=25,i({type:"save",payload:{mapData:l}});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,19,22,26]])}),setDefaultValue:y().mark(function e(t,n){var a,r,i,o,s,c,u,l;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return v()({},e)[b]});case 4:return u=e.sent,o=u.projectId,s=u.flavorObj,l=u.pageType,c=a.key,u=a.value,s[c]=u,e.prev=10,e.next=13,r(f,{projectId:a.projectId||o,pageType:a.pageType||l,value:s});case 13:if(l=e.sent,2e4===l.data.code)return e.next=18,i({type:"save",payload:{flavorObj:JSON.parse(JSON.stringify(s))}});e.next=18;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),console.log(e.t0);case 23:case"end":return e.stop()}},e,null,[[10,20]])}),fetchWordRelativeData:y().mark(function e(t,n){var a,r,i,o,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return v()({},e)[b]});case 4:return s=e.sent,o=s.questionnaireId,s=s.questionnaireBoardId,e.prev=7,e.next=10,r(c,{questionnaireId:a.questionnaireId||o,questionnaireBoardId:a.questionnaireBoardId||s,textType:"NPS_REASON"});case 10:if(s=e.sent,2e4===(s=s.data).code&&s.result)return e.next=15,i({type:"save",payload:{relativeData:s.result.data.length?s.result.data:"empty",relativeRefreshTime:s.result.createdAt,relativeDataLoading:!s.result.data.length}});e.next=15;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.log(e.t0);case 20:case"end":return e.stop()}},e,null,[[7,17]])}),createWordRelativeData:y().mark(function e(t,n){var a,r,i,o,s,c,u;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.put,s=n.select,e.next=4,s(function(e){return v()({},e)[b]});case 4:return c=e.sent,u=c.projectId,i=c.filterModel,o=c.dateFilter,s=c.questionnaireId,c=c.questionnaireBoardId,e.prev=10,e.next=13,r(l,{questionnaireId:a.questionnaireId||s,questionnaireBoardId:a.questionnaireBoardId||c,textType:"NPS_REASON",filterModel:a.filterModel||i,dateFilter:a.dateFilter||o,projectId:a.projectId||u});case 13:u=e.sent,u.data.code,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.log(e.t0);case 21:case"end":return e.stop()}},e,null,[[10,18]])})}}},75778:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),t=n(64396),r=n(36144);function v(e){var t=e.projectId,n=e.pageIndex,a=e.pageSize,e=e.questionnaireId;return r.h.post("/questionnaire/dispatch/record/list",{projectId:t,pageIndex:n,pageSize:a,questionnaireId:e})}var y=t.Z.research.analyze.record,a={data:void 0,total:0,pageIndex:1,pageSize:20,questionnaireId:"",projectId:""};const i={namespace:y,state:Object.assign({},a),effects:{fetchRecordList:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,i(function(e){return h()({},e)[y]});case 4:if(f=e.sent,s=f.questionnaireId,c=f.projectId,u=f.pageIndex,l=f.pageSize,a.questionnaireId===s)return e.abrupt("return");e.next=11;break;case 11:return p="error",d=0,e.prev=12,e.next=15,r(v,{projectId:a.projectId||c,questionnaireId:a.questionnaireId||s,pageIndex:a.pageIndex||u,pageSize:a.pageSize||l});case 15:f=e.sent,2e4===(f=f.data).code&&(p=f.result.result,d=f.result.count),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),console.log(e.t0);case 23:return e.prev=23,e.next=26,o({type:"save",payload:h()({},a,{data:p,total:d})});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[12,20,23,27]])})},reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clear:function(e,t){t.payload;return JSON.parse(JSON.stringify(a))}}}},69253:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(67154),v=n.n(a),t=n(87757),y=n.n(t),g=n(39432),a=(n(87219),n(64396)),t=n(48926),r=n.n(t),o=n(36144);function m(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.questionnaireId,e=e.questionnaireBoardId;return o.h.post("/questionnaire/chart/find/SATISFACTION_CONCERNS_CHART",{projectId:t,filterModel:n,dateFilter:a,questionnaireId:r,questionnaireBoardId:e})}function x(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.questionnaireId,e=e.questionnaireBoardId;return o.h.post("/questionnaire/chart/find/SATISFACTION_ANALYSE_CHART",{projectId:t,filterModel:n,dateFilter:a,questionnaireId:r,questionnaireBoardId:e})}function d(e){var t=e.projectId,n=e.filterModel,a=e.dateFilter,r=e.questionnaireId,e=e.questionnaireBoardId;return o.h.post("questionnaire/chart/find/SATISFACTION_PROVINCE_CHART",{projectId:t,filterModel:n,dateFilter:a,questionnaireId:r,questionnaireBoardId:e})}function p(e){return i.apply(this,arguments)}function i(){return(i=r()(y().mark(function e(t){var n,a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageType,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return s.apply(this,arguments)}function s(){return(s=r()(y().mark(function e(t){var n,a,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.pageType,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:r,value:JSON.stringify(a)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.textType,i=e.questionnaireId,e=e.questionnaireBoardId;return o.h.post("/questionnaire/createTextTask",{projectId:t,dateFilter:n,filterModel:a,textType:r,questionnaireId:i,questionnaireBoardId:e})}function c(e){var t=e.questionnaireId,n=e.textType,e=e.questionnaireBoardId;return o.h.post("/questionnaire/findTextResult",{textType:n,questionnaireId:t,questionnaireBoardId:e})}var b=a.Z.research.analyze.satisfaction,u={dateOptions:[],defaultDateType:"",flavorObj:void 0,satisAnalyzeData:void 0,satisCustomerData:void 0,graphicData:void 0,custDataType:"rato",custTimeType:"WEEK",mapData:void 0,relativeData:void 0,relativeRefreshTime:void 0,relativeDataLoading:!1,doubleBarChartData:void 0,graphPieChartData:void 0,wordChartData:void 0,projectId:void 0,filterModel:void 0,dateFilter:void 0,questionnaireId:void 0,questionnaireBoardId:void 0};const h={namespace:b,state:JSON.parse(JSON.stringify(u)),reducers:{save:function(e,t){t=t.payload;return v()({},e,t)},clear:function(e,t){t.payload;return JSON.parse(JSON.stringify(u))}},effects:{fetchDatas:y().mark(function e(t,n){var a,r,i,o,s,c,u,l;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return v()({},e)[b]});case 4:if(l=e.sent,l.projectId,o=l.filterModel,s=l.dateFilter,c=l.flavorObj,u=l.questionnaireId,l=l.questionnaireBoardId,JSON.stringify(o)!==JSON.stringify(a.filterModel)||JSON.stringify(s)!==JSON.stringify(a.dateFilter)||JSON.stringify(u)!==JSON.stringify(a.questionnaireId)&&JSON.stringify(l)!==JSON.stringify(a.questionnaireBoardId)){e.next=13;break}return e.abrupt("return");case 13:if(c){e.next=27;break}return e.prev=14,e.next=17,r(p,{projectId:a.projectId,pageType:a.pageType});case 17:if(l=e.sent,2e4===(l=l.data).code)return l=JSON.parse(l.result||'{"satisAnalyze":"","npsCustomer":"","mapAnalyze":"","fCustDataType":"", "fCustTimeType":"", "fBarCompareType":""}'),e.next=23,i({type:"save",payload:v()({},a,{flavorObj:l})});e.next=23;break;case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(14);case 27:return e.next=29,i({type:"save",payload:v()({},a)});case 29:return e.next=31,i({type:"fetchSatConcerns",payload:a});case 31:return e.next=33,i({type:"fetchSatisAnalyzeData",payload:a});case 33:return e.next=35,i({type:"fetchSatisCustomerData",payload:a});case 35:return e.next=37,i({type:"fetchMapData",payload:a});case 37:return e.next=39,i({type:"createWordRelativeData",payload:a});case 39:return e.next=41,i({type:"fetchWordRelativeData",payload:a});case 41:case"end":return e.stop()}},e,null,[[14,25]])}),fetchSatConcerns:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return v()({},e)[b]});case 4:return d=e.sent,o=d.projectId,s=d.filterModel,c=d.dateFilter,u=d.questionnaireId,f=d.questionnaireBoardId,d=p=l="error",e.prev=11,e.next=14,r(m,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||c,questionnaireId:a.questionnaireId||u,questionnaireBoardId:a.questionnaireBoardId||f});case 14:f=e.sent,f=f.data,d=2e4===f.code&&f.result.list.length?(l=f.result.list.map(function(e){return{name:e.word,total:e.questionnaireTotal,positiveCount:e.positiveCount,negativeCount:e.negativeCount,neutralCount:e.neutralCount,posRate:e.positiveCount/e.questionnaireTotal,negRate:e.negativeCount/e.questionnaireTotal,neuRate:e.neutralCount/e.questionnaireTotal}}).sort(function(e,t){return t.total-e.total}),p=l.slice(0,10),h=Math.sqrt(p[0].total),p=p.map(function(e){return v()({},e,{rate:Math.sqrt(e.total)/h})}),l.slice()):p=l="empty",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0);case 22:return e.prev=22,e.next=25,i({type:"save",payload:{doubleBarChartData:l,graphPieChartData:p,wordChartData:d}});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,19,22,26]])}),fetchSatisAnalyzeData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,h=n.select,e.next=4,h(function(e){return v()({},e)[b]});case 4:return f=e.sent,o=f.projectId,s=f.filterModel,c=f.dateFilter,u=f.questionnaireId,l=f.dateOptions,p=f.flavorObj,h=f.defaultDateType,m=f.questionnaireBoardId,d="error",f=a.dateGroupType,h=f||(l.some(function(e){return e.value===p.satisAnalyze})?p.satisAnalyze:h),e.prev=16,e.next=19,r(x,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:v()({},a.dateFilter||c,{dateGroupType:h}),questionnaireId:a.questionnaireId||u,questionnaireBoardId:a.questionnaireBoardId||m});case 19:m=e.sent,2e4===(m=m.data).code&&(d=m.result),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),console.log(e.t0);case 27:return e.prev=27,e.next=30,i({type:"save",payload:{satisAnalyzeData:d}});case 30:return e.finish(27);case 31:case"end":return e.stop()}},e,null,[[16,24,27,31]])}),fetchSatisCustomerData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return v()({},e)[b]});case 4:return p=e.sent,o=p.projectId,s=p.filterModel,c=p.dateFilter,u=p.questionnaireId,p.custTimeType,f=p.dateOptions,l=p.flavorObj,h=p.defaultDateType,m=p.questionnaireBoardId,p=a.dateGroupType,d=p||(f.some(function(e){return e.value===l.fCustTimeType})?l.fCustTimeType:h),h=f="error",e.prev=17,e.next=20,r(x,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:v()({},a.dateFilter||c,{dateGroupType:d}),questionnaireId:a.questionnaireId||u,questionnaireBoardId:a.questionnaireBoardId||m});case 20:m=e.sent,2e4===(m=m.data).code&&0<m.result.total?(f=m.result.list.map(function(e){return v()({},e,{time:(0,g.yV)(d,e.time)})}),h={questionnaireTotal:m.result.total,passiveCount:m.result.list.reduce(function(e,t){return e+t.neutralCount},0),promoterCount:m.result.list.reduce(function(e,t){return e+t.positiveCount},0),detractorCount:m.result.list.reduce(function(e,t){return e+t.negativeCount},0)}):f="empty",e.next=28;break;case 25:e.prev=25,e.t0=e.catch(17),console.log(e.t0);case 28:return e.prev=28,e.next=31,i({type:"save",payload:v()({},a,{satisCustomerData:f,graphicData:h})});case 31:return e.finish(28);case 32:case"end":return e.stop()}},e,null,[[17,25,28,32]])}),fetchMapData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return v()({},e)[b]});case 4:return l=e.sent,o=l.projectId,s=l.filterModel,c=l.dateFilter,u=l.questionnaireId,p=l.questionnaireBoardId,l="error",e.prev=11,e.next=14,r(d,{projectId:a.projectId||o,filterModel:a.filterModel||s,dateFilter:a.dateFilter||c,questionnaireId:a.questionnaireId||u,questionnaireBoardId:a.questionnaireBoardId||p});case 14:p=e.sent,2e4===(p=p.data).code&&(l=p.result.list),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0);case 22:return e.prev=22,e.next=25,i({type:"save",payload:{mapData:l}});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,19,22,26]])}),setDefaultValue:y().mark(function e(t,n){var a,r,i,o,s,c,u,l;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return v()({},e)[b]});case 4:return u=e.sent,o=u.projectId,s=u.flavorObj,l=u.pageType,c=a.key,u=a.value,s[c]=u,e.prev=10,e.next=13,r(f,{projectId:a.projectId||o,pageType:a.pageType||l,value:s});case 13:if(l=e.sent,2e4===l.data.code)return e.next=18,i({type:"save",payload:{flavorObj:JSON.parse(JSON.stringify(s))}});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(10);case 22:case"end":return e.stop()}},e,null,[[10,20]])}),fetchWordRelativeData:y().mark(function e(t,n){var a,r,i,o,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return v()({},e)[b]});case 4:return s=e.sent,o=s.questionnaireId,s=s.questionnaireBoardId,e.prev=7,e.next=10,r(c,{questionnaireId:a.questionnaireId||o,questionnaireBoardId:a.questionnaireBoardId||s,textType:"SATISFACTION_REASON"});case 10:if(s=e.sent,2e4===(s=s.data).code&&s.result)return e.next=15,i({type:"save",payload:{relativeData:s.result.data.length?s.result.data:"empty",relativeRefreshTime:s.result.createdAt,relativeDataLoading:!s.result.data.length}});e.next=15;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.log(e.t0);case 20:case"end":return e.stop()}},e,null,[[7,17]])}),createWordRelativeData:y().mark(function e(t,n){var a,r,i,o,s,c,u;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.put,s=n.select,e.next=4,s(function(e){return v()({},e)[b]});case 4:return c=e.sent,u=c.projectId,i=c.filterModel,o=c.dateFilter,s=c.questionnaireId,c=c.questionnaireBoardId,e.prev=10,e.next=13,r(l,{questionnaireId:a.questionnaireId||s,questionnaireBoardId:a.questionnaireBoardId||c,textType:"SATISFACTION_REASON",filterModel:a.filterModel||i,dateFilter:a.dateFilter||o,projectId:a.projectId||u});case 13:u=e.sent,u.data.code,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.log(e.t0);case 21:case"end":return e.stop()}},e,null,[[10,18]])})}}},76352:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var t=n(67154),l=n.n(t),t=n(87757),p=n.n(t),t=n(48926),a=n.n(t),i=n(36144);function c(e){return r.apply(this,arguments)}function r(){return(r=a()(p().mark(function e(t){var n,a,r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.detailId,a=t.channel,r=t.answerList,e.abrupt("return",i.h.post("/questionnaire/submit",{detailId:n,channel:a,answerList:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var t=n(64396),u=n(14187),d=t.Z.research.answer,f=t.Z.research.questions,o={pageIndex:0};const s={namespace:d,state:JSON.parse(JSON.stringify(o)),reducers:{changePageIndex:function(e,t){t=t.payload;return l()({},e,{pageIndex:t})},save:function(e,t){t=t.payload;return l()({},e,t)},clear:function(e,t){t.payload;return l()({},e,Object.assign({},JSON.parse(JSON.stringify(o))))}},effects:{valueChange:p().mark(function e(t,n){var a,r,i,o,s,c,u;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.t0=JSON,e.t1=JSON,e.next=6,i(function(e){return l()({},e)[f]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),c=e.t0.parse.call(e.t0,e.t3),o=c.list,e.next=12,i(function(e){return l()({},e)[d]});case 12:return u=e.sent,s=u.pageIndex,c=a.value,u=a.index,o[s].questionTypes[u].value=c,e.next=18,r({type:f+"/save",payload:{list:o}});case 18:case"end":return e.stop()}},e)}),submit:p().mark(function e(t,n){var a,r,i,o,s;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.select,a=n.call,e.t0=JSON,e.t1=JSON,e.next=5,i(function(e){return l()({},e)[f]});case 5:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),s=e.t0.parse.call(e.t0,e.t3),r=s.list,i=s.detailId,s=s.channel,o=[],r.forEach(function(e){e.questionTypes.forEach(function(e){u.F6[e.type]&&e.value&&o.push(l()({id:e.id},e.value))})}),e.next=15,a(c,{detailId:i,channel:s,answerList:o});case 15:return s=e.sent,s=s.data,e.abrupt("return",s);case 18:case"end":return e.stop()}},e)})}}},98960:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var t=n(67154),a=n.n(t),t=n(87757),i=n.n(t),r=n(36144);function o(){return r.h.post("/contact/tag/list")}const s={namespace:n(64396).Z.research.addContact,state:{tagList:[]},effects:{getTagList:i().mark(function e(t,n){var a,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,e.next=3,r(o);case 3:if(2e4===(r=e.sent).data.code)return r.data.result.list,e.next=8,a({type:"saveState",payload:{tagList:r.data.result}});e.next=8;break;case 8:case"end":return e.stop()}},e)}),saveState:i().mark(function e(t,n){var a,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"save",payload:a});case 4:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return a()({},e,t)}}}},39719:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var t=n(67154),C=n.n(t),t=n(87757),S=n.n(t),t=n(48926),a=n.n(t),r=n(36144);function d(e){return i.apply(this,arguments)}function i(){return(i=a()(S().mark(function e(t){var n;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatchId,e.abrupt("return",r.h.post("/questionnaire/dispatch/find",{dispatchId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e){return o.apply(this,arguments)}function o(){return(o=a()(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.h.post("/contact/list",C()({},t)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(e){return c.apply(this,arguments)}function c(){return(c=a()(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.h.post("/contact/tag/list",C()({},t)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return u.apply(this,arguments)}function u(){return(u=a()(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.h.post("/questionnaire/dispatch/add",C()({},t)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e){return l.apply(this,arguments)}function l(){return(l=a()(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.h.post("/questionnaire/dispatch/edit",C()({},t)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=a()(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.h.post("/template/list",C()({},t)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var y=n(5133),_=n(63968),O=n(61193),t=n(64396),h=n(87219),j=t.Z.research.distributeEdit,g={projectId:"",dispatchId:"",step:1,channel:"SMS",sentBySms:!0,sentByEmail:!1,sendType:"WHOLE",channelList:[{channel:"SMS",channelName:"短信",templateId:"",templateName:"",checked:!1},{channel:"EMAIL",channelName:"邮件",templateId:"",templateName:"",checked:!1}],selectedContact:{list:[],validPhoneNum:0,validEmailNum:0,currpageList:[],pageIndex:1,pageSize:10},tags:[],tagChecked:!1,selectedTags:[],modalShow:!1,actionType:"",contact:{modalShow:!1,loading:!1,name:"",email:"",phoneNumber:"",rules:[{type:"CONTAIN",values:[]}],pageIndex:1,pageSize:10,data:[],dataExist:!1,completeData:[],dataAllFetched:!1,total:0,selectedList:[],checkAllStatus:{manualChecked:!1,autoChecked:!1,indeterminate:!1}},template:{pageIndex:1,list:[],total:0,hasMore:!0,detail:{}},timeType:1,sendTime:"",isNextEnabled:!0};const x={namespace:j,state:JSON.parse(JSON.stringify(g)),effects:{fetchParams:S().mark(function e(t,n){var a,r;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.payload,r=n.put,n.call,n.select,a.dispatchId)return e.next=5,r({type:"fetchDispatchDetail",payload:a});e.next=7;break;case 5:e.next=9;break;case 7:return e.next=9,r({type:"save",payload:a});case 9:return e.next=11,r({type:"fetchTags"});case 11:return e.next=13,r({type:"fetchDefaultTemplate"});case 13:case"end":return e.stop()}},e)}),fetchDefaultTemplate:S().mark(function e(t,n){var a,r,i,o,s,c,u;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._,a=n.call,r=n.put,i=n.select,e.next=4,i(function(e){return C()({},e)[j]});case 4:return o=e.sent,o=o.channelList,e.prev=6,c=s=void 0,e.next=10,a(f,{pageIndex:1,pageSize:1,channel:"SMS",sortEnum:"UPDATED_AT___DESC",auditPassStatus:!0,status:"AUDIT_PASS"});case 10:return u=e.sent,2e4===(u=u.data).code&&u.result.result.length&&(s=u.result.result[0]),e.next=15,a(f,{pageIndex:1,pageSize:1,channel:"EMAIL",auditPassStatus:!0,sortEnum:"UPDATED_AT___DESC",status:"AUDIT_PASS"});case 15:return u=e.sent,2e4===(u=u.data).code&&u.result.result.length&&(c=u.result.result[0]),e.next=20,r({type:"save",payload:{channelList:(0,h.ZP)(o,function(e){var t;s&&((t=e.find(function(e){return"SMS"===e.channel})).templateId=s.id,t.templateName=s.name,t.checked=!0),c&&((e=e.find(function(e){return"EMAIL"===e.channel})).templateId=c.id,e.templateName=c.name,e.checked=!0)})}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(6);case 24:case"end":return e.stop()}},e,null,[[6,22]])}),fetchDispatchDetail:S().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.prev=2,e.next=5,o(function(e){return C()({},e)[j]});case 5:return p=e.sent,s=p.selectedContact,c=p.channelList,u=p.contact,e.next=11,r(d,{dispatchId:a.dispatchId});case 11:if(p=e.sent,2e4===(l=p.data).code)return p=C()({},a,{sendType:l.result.sendType,timeType:l.result.sendType?2:1,sendTime:l.result.sendTime,contact:C()({},u,{selectedList:l.result.contactList.map(function(e){return e.id})}),selectedContact:C()({},s,{list:l.result.contactList},l.result.contactList.reduce(function(e,t){return t.phoneNumber&&(e.validPhoneNum+=1),t.email&&(e.validEmailNum+=1),e},{validEmailNum:0,validPhoneNum:0}),{currpageList:l.result.contactList.slice((s.pageIndex-1)*s.pageSize,s.pageIndex*s.pageSize)}),channelList:c.map(function(t){var e=l.result.channelList.find(function(e){return e.channel===t.channel});return e?C()({},t,{templateId:e.templateId,templateName:e.templateName,checked:!0}):t})}),e.next=17,i({type:"save",payload:p});e.next=17;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.log(e.t0);case 22:case"end":return e.stop()}},e,null,[[2,19]])}),sendNps:S().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,l=n.select,e.prev=1,e.next=4,l(function(e){return C()({},e)[j]});case 4:return p=e.sent,i=p.projectId,o=p.dispatchId,s=p.selectedContact.list,h=p.selectedTags,d=p.channelList,c=p.sendTime,u=p.timeType,l=p.sendType,p=p.questionnaireId,d={projectId:i,questionnaireId:p,sendType:l,contactList:s.map(function(e){return{contactId:e.id}}),channelList:d.reduce(function(e,t){return t.checked&&e.push({channel:t.channel,templateId:t.templateId}),e},[])},2===u&&(d.sendTime=c+":00"),h.length&&(d.tagIdList=h.filter(function(e){return e.id}).map(function(e){return e.id}),d.tagNameList=h.filter(function(e){return!e.id}).map(function(e){return e.name})),e.next=19,r({type:"save",payload:{isNextEnabled:!1}});case 19:if(o)return d.dispatchId=o,e.next=23,a(v,d);e.next=26;break;case 23:f=e.sent,e.next=29;break;case 26:return e.next=28,a(m,d);case 28:f=e.sent;case 29:if(2e4===(h=f.data).code)return y.Z.success(h.msg),e.next=34,r({type:"save",payload:{step:4,isNextEnabled:!0}});e.next=34;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(1),console.log(e.t0);case 39:case"end":return e.stop()}},e,null,[[1,36]])}),init:S().mark(function e(t,n){var a,r;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.call,a=n.put,r=n.select,e.prev=1,e.next=4,r(function(e){return C()({},e)[j]});case 4:return r=e.sent,r=r.survey,e.next=8,a({type:"save",payload:C()({},JSON.parse(JSON.stringify(g)),{survey:r})});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])}),clear:S().mark(function e(t,n){var a;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.call,a=n.put,n.select,e.prev=1,e.next=4,a({type:"save",payload:C()({},JSON.parse(JSON.stringify(g)))});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[1,6]])}),fetchContacts:S().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x,b,T,I,w,E,k;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.prev=2,e.next=5,o(function(e){return C()({},e)[j]});case 5:if(v=e.sent,s=v.contact,c=v.tags,y=v.contact,u=y.pageIndex,l=y.pageSize,p=y.selectedList,d=y.checkAllStatus.manualChecked,x=y.rules,f=y.name,h=y.email,m=y.phoneNumber,v=s.completeData,y=x.map(function(e){return C()({},e,{values:e.values.reduce(function(e,t){var n=c.find(function(e){return e.name===t});return n&&e.push(n.id),e},[])})}),a)return e.next=22,r(N,{name:f,email:h,phoneNumber:m,tagNames:y,pageIndex:a.pageIndex,pageSize:a.pageSize});e.next=23;break;case 22:return e.abrupt("return",e.sent);case 23:return g=!1,e.next=26,i({type:"save",payload:{contact:C()({},s,{data:[],loading:!0})}});case 26:return e.next=28,r(N,{name:f,email:h,phoneNumber:m,tagNames:y,pageIndex:u,pageSize:l});case 28:if(x=e.sent,2e4!==(x=x.data).code){e.next=59;break}if(T=JSON.parse((0,_.p)(x.result.data,O.Z.getUser().userId.substring(16))),b=T.list,T=T.total,!(0<v.length)){e.next=52;break}I=b.length-1;case 35:if(!(0<=I)){e.next=50;break}w=!1,E=v.length-1;case 38:if(!(0<=E)){e.next=46;break}if(b[I].id===v[E].id)return g=w=!0,e.abrupt("break",46);e.next=43;break;case 43:E--,e.next=38;break;case 46:w||v.push(b[I]);case 47:I--,e.next=35;break;case 50:e.next=53;break;case 52:v=b;case 53:if(d&&!g)for(k=0;k<b.length;k++)p.includes(b[k].id)||p.push(b[k].id);return e.next=56,i({type:"save",payload:{contact:C()({},s,{loading:!1,data:b,total:T,completeData:v,dataExist:g,selectedList:p,checkAllStatus:{manualChecked:!1,autoChecked:!1,indeterminate:!1}})}});case 56:return e.next=58,i({type:"handleCheckboxStyle"});case 58:return e.abrupt("return",e.sent);case 59:return e.abrupt("return",!1);case 62:return e.prev=62,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",!1);case 66:case"end":return e.stop()}},e,null,[[2,62]])}),fetchTags:S().mark(function e(t,n){var a,r,i,o;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.prev=1,e.next=4,i(function(e){return C()({},e)[j]});case 4:return o=e.sent,o=o.projectId,e.next=8,a(s,{projectId:o});case 8:if(2e4===(o=e.sent).data.code)return o=o.data.result,e.next=13,r({type:"save",payload:{tags:o}});e.next=13;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[1,15]])}),handleCheckAll:S().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x,b,T;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.select,i=n.put,e.prev=1,e.next=4,r(function(e){return C()({},e)[j]});case 4:if(o=e.sent,s=o.contact,c=o.tags,x=o.contact,u=x.name,l=x.email,p=x.phoneNumber,d=x.rules,f=x.data,h=x.total,m=x.completeData,v=x.dataAllFetched,b=x.checkAllStatus,y=b.manualChecked,g=b.autoChecked,x=o.contact.selectedList,!y&&!g){e.next=12;break}x=[],f.forEach(function(e){return e.checked=!1}),e.next=29;break;case 12:if(f.forEach(function(e){return e.checked=!0}),v){e.next=28;break}return e.next=16,i({type:"save",payload:{contact:C()({},s,{loading:!0})}});case 16:return T=d.map(function(e){return C()({},e,{values:e.values.reduce(function(e,t){var n=c.find(function(e){return e.name===t});return n&&e.push(n.id),e},[])})}),e.next=19,a(N,{name:u,email:l,phoneNumber:p,tagNames:T,pageIndex:1,pageSize:h});case 19:if(b=e.sent,2e4===(T=b.data).code)return b=JSON.parse((0,_.p)(T.result.data,O.Z.getUser().userId.substring(16))),T=b.list,b.total,e.next=26,i({type:"save",payload:C()({},o,{contact:C()({},s,{selectedList:T.map(function(e){return e.id}),data:f,dataExist:!1,completeData:T,dataAllFetched:!0,checkAllStatus:{manualChecked:!y,autoChecked:!y,indeterminate:!1}})})});e.next=26;break;case 26:e.next=29;break;case 28:x=m.map(function(e){return e.id});case 29:if(v||g)return e.next=32,i({type:"save",payload:C()({},o,{contact:C()({},s,{selectedList:x,data:f,dataExist:!1,dataAllFetched:v,checkAllStatus:{manualChecked:!g&&!y,autoChecked:!g&&!y,indeterminate:!1}})})});e.next=32;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(1),console.log(e.t0);case 37:case"end":return e.stop()}},e,null,[[1,34]])}),handleCheck:S().mark(function e(t,n){var a,r,i;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,i=n.select,e.prev=2,r=r,e.next=6,i(function(e){return C()({},e)[j]});case 6:return i=e.sent,i=i.contact,e.next=10,a({type:"save",payload:{contact:C()({},i,{selectedList:r,dataExist:!0})}});case 10:return e.next=12,a({type:"handleCheckboxStyle"});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[2,14]])}),handleCheckboxStyle:S().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,c=n.select,e.prev=2,e.next=5,c(function(e){return C()({},e)[j]});case 5:if(u=e.sent,r=u.contact,l=u.contact,i=l.data,o=l.checkAllStatus.manualChecked,s=l.selectedList,c=l.total,u=l.dataExist,l=r.checkAllStatus,o&&!u||s.length===c&&0<c)l={manualChecked:!1,autoChecked:!0,indeterminate:!1},i.forEach(function(e){return e.checked=!0});else if(0<s.length){for(p=!0,d=i.length-1;0<=d;d--)s.includes(i[d].id)?i[d].checked=!0:(i[d].checked=!1,p=!1);l=C()({},l,{manualChecked:!!p&&l.manualChecked,autoChecked:!!p&&l.autoChecked,indeterminate:!p||l.indeterminate})}else l=C()({},l,{manualChecked:!1,autoChecked:!1,indeterminate:!1}),i.forEach(function(e){return e.checked=!1});return e.next=17,a({type:"save",payload:{contact:C()({},r,{data:i,checkAllStatus:l})}});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.log(e.t0);case 22:case"end":return e.stop()}},e,null,[[2,19]])}),fetchTemplateList:S().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.prev=2,e.next=5,i(function(e){return C()({},e)[j]});case 5:return l=e.sent,s=l.template,c=l.template.list,u=a.pageIndex,l=a.channel,(l={pageIndex:u,pageSize:9,channel:l,status:"AUDIT_PASS",auditPassStatus:!0,sortEnum:"UPDATED_AT___DESC"}).status="AUDIT_PASS",l=l,e.next=12,r(f,l);case 12:if(l=e.sent,2e4!==(l=l.data).code){e.next=23;break}if(d=l.result,p=d.result,d=d.count,1===u)return e.next=19,o({type:"save",payload:{template:C()({},s,{pageIndex:u,list:p,total:d,detail:0<p.length&&p[0],hasMore:9<=p.length})}});e.next=21;break;case 19:e.next=23;break;case 21:return e.next=23,o({type:"save",payload:{template:C()({},s,{pageIndex:u,list:c.concat(p),total:d,hasMore:9<=p.length})}});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(2),console.log(e.t0);case 28:case"end":return e.stop()}},e,null,[[2,25]])})},reducers:{save:function(e,t){t=t.payload;return C()({},e,t)}}}},17084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var t=n(67154),d=n.n(t),t=n(87757),f=n.n(t),t=n(48926),a=n.n(t),o=n(36144);function c(e){return r.apply(this,arguments)}function r(){return(r=a()(f().mark(function e(t){var n,a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageIndex,r=t.pageSize,i=t.questionnaireId,e.abrupt("return",o.h.post("/questionnaire/dispatch/list",{projectId:n,pageIndex:a,pageSize:r,questionnaireId:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return i.apply(this,arguments)}function i(){return(i=a()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatchId,e.abrupt("return",o.h.post("/questionnaire/dispatch/delete",{dispatchId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(e){return u.apply(this,arguments)}function u(){return(u=a()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.questionnaireId,e.abrupt("return",o.h.post("/questionnaire/resend/find",{id:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return p.apply(this,arguments)}function p(){return(p=a()(f().mark(function e(t){var n,a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.questionnaireId,a=t.reSendDays,e.abrupt("return",o.h.post("/questionnaire/resend/update",{id:n,resendDays:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var t=n(64396),m=n(92360),v=t.Z.research.distribute,y={projectId:void 0,questionnaireId:"",title:"",questionnaireType:[],missionList:void 0,tableConfig:{pageSize:10,total:0,pageIndex:1},isOpen:!1,reSendDays:1};const g={namespace:v,state:JSON.parse(JSON.stringify(y)),reducers:{save:function(e,t){t=t.payload;return d()({},e,t)},clear:function(e,t){t.payload;return d()({},e,Object.assign({},JSON.parse(JSON.stringify(y))))}},effects:{fetchMissionList:f().mark(function e(t,n){var a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,o=n.select,r=n.call,e.next=3,o(function(e){return d()({},e)[v]});case 3:return s=e.sent,i=s.tableConfig,o=s.projectId,s=s.questionnaireId,e.next=9,r(c,d()({},i,{projectId:o,questionnaireId:s}));case 9:return s=e.sent,s=s.data.result,e.next=13,a({type:"save",payload:{missionList:s.result,tableConfig:d()({},i,{total:s.count})}});case 13:case"end":return e.stop()}},e)}),deleteMission:f().mark(function e(t,n){var a,r,i,o,s,c,u;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,o=n.call,e.next=4,i(function(e){return d()({},e)[v]});case 4:return u=e.sent,s=u.missionList,c=u.tableConfig,u=a.id,e.next=10,o(l,{dispatchId:u});case 10:if(u=e.sent,2e4===u.data.code&&m.Message.success("操作成功"),1===s.length)return e.next=16,r({type:"save",payload:{tableConfig:d()({},c,{pageIndex:1})}});e.next=16;break;case 16:return e.next=18,r({type:"fetchMissionList"});case 18:case"end":return e.stop()}},e)}),fetchDefaultConfig:f().mark(function e(t,n){var a,r,i,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.select,i=n.call,e.next=3,r(function(e){return d()({},e)[v]});case 3:return o=e.sent,o=o.questionnaireId,e.next=7,i(s,{questionnaireId:o});case 7:return o=e.sent,o=o.data.result,e.next=11,a({type:"save",payload:{reSendDays:0===o?1:o,isOpen:!(0===o)}});case 11:case"end":return e.stop()}},e)}),pageChange:f().mark(function e(t,n){var a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return d()({},e)[v]});case 4:return i=e.sent,i=i.tableConfig,e.next=8,r({type:"save",payload:{tableConfig:d()({},i,{pageIndex:a})}});case 8:return e.next=10,r({type:"fetchMissionList"});case 10:case"end":return e.stop()}},e)}),pageSizeChange:f().mark(function e(t,n){var a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return d()({},e)[v]});case 4:return i=e.sent,i=i.tableConfig,e.next=8,r({type:"save",payload:{tableConfig:d()({},i,{pageSize:a,pageIndex:1})}});case 8:return e.next=10,r({type:"fetchMissionList"});case 10:case"end":return e.stop()}},e)}),configChange:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,o=n.call,e.next=4,i(function(e){return d()({},e)[v]});case 4:if(l=e.sent,p=l.reSendDays,s=l.questionnaireId,c=l.resetReSendDays,u=a.key,l=a.value,p=p,"isOpen"!==u){e.next=18;break}if(l&&c)return p=1,e.next=15,r({type:"save",payload:{reSendDays:p}});e.next=17;break;case 15:e.next=18;break;case 17:l||(p=1);case 18:return e.next=20,r({type:"save",payload:((c={})[u]=l,c)});case 20:return e.next=22,o(h,{questionnaireId:s,reSendDays:"isOpen"===u?l?p:0:l});case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}},e)})}}},26056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var t=n(67154),o=n.n(t),t=n(85354),a=n.n(t),t=n(67294),s=n.n(t),c=n(92360),u=n(66130),t=n(30381),l=n.n(t),p="YYYY-MM-DD";const r=function(t){function e(e){var i=t.call(this,e)||this;return i.showDialog=function(e){i.state.visible?i.setState({visible:!1,callback:void 0,nps:void 0,type:""},function(){i.setState(o()({visible:!0},e))}):i.setState(o()({visible:!0},e))},i.renderTitle=function(e,t){return"delete"===e?"确定删除此问卷？":"edit"===e?"提示":"switch"===e?"DISPATCHED"===t.status?"确定停止收集此问卷的答卷？":"CLOSED"===t.status?"确定重新打开此问卷？":void 0:"updateNpsTime"===e?"此NPS已过期，重新发布？":"dispatch"===e?"确定仍要分发此问卷？":void 0},i.switchExpireTimeType=function(e){var t=i.props.updateNps,n="";t(2===e?{expireTimeType:2,expireTime:n=(t=i.datePicker.state.value)?t.format(p):n,valid:!(2===e&&(n&&l()().valueOf()>l()(n,p)||!n))}:{expireTimeType:1,valid:!0})},i.handleSetExpireTime=function(e){var t=i.props.updateNps,n="";e?(n=e.format(p),e=l()().valueOf()<l()(n,p),t({expireTime:n,valid:e,expireTimeType:2})):setTimeout(function(){t({expireTimeType:1,valid:!0})},0)},i.renderBody=function(e,t){var n=i.props.nps,a=n.expireTimeType,r=n.expireTime,n=n.valid;if("delete"===e)return s().createElement("span",{className:"cd-delete"},"删除后，此问卷及其回收的答卷也将作废");if("edit"===e)return"CLOSED"===t.status?s().createElement("span",{className:"cd-delete"},"问卷「已关闭」，如果客户有收到分发链接，则获得的反馈是“问卷已结束”；同时你不能修增删题型及增删选项，但可以对文案做调整"):"DISPATCHED"===t.status?s().createElement("span",{className:"cd-delete"},"问卷「已发布」，你不能再对题型和选项做增删，但可以对文案做调整。"):void 0;if("switch"===e)return"DISPATCHED"===t.status?s().createElement("span",{className:"cd-delete"},"系统将停止答卷回收"):"CLOSED"===t.status?s().createElement("span",{className:"cd-delete"},"重新打开此问卷后，将继续回收客户提交的答卷"):void 0;if("dispatch"===e)return"CLOSED"===t.status?s().createElement("span",{className:"cd-delete"},"此问卷当前处于「已关闭」状态，已停止对答卷的收集。 打开后，问卷的状态将切换为「已发布」，将继续收集答卷，包括通过之前分发的链接。"):"UN_DISPATCH"===t.status?s().createElement("span",{className:"cd-delete"},"此问卷当前处于「未发布」状态，你可以自由编辑问卷里面的内容。当问卷处于「已分发」或「已关闭」状态时，不支持增删题目，以及增删选项。"):void 0;if("updateNpsTime"===e){r={defaultValue:r?l()(r,p):l()(),disabled:1===a,getDateRange:i.handleSetExpireTime,disabledDate:function(e){if(!e)return!1;var t=l()();return e.valueOf()<t.valueOf()}};return s().createElement("div",{className:"update-nps-time"},s().createElement("div",null,"有效日期"),s().createElement("div",{className:n?"":"invalid"},s().createElement(c.Radio,{value:1,checked:1===a,onChange:i.switchExpireTimeType},"长期有效"),s().createElement(c.Radio,{value:2,checked:2===a,onChange:i.switchExpireTimeType},s().createElement("span",{style:{marginRight:"8px"}},"到"),s().createElement(u.M,o()({ref:function(e){return i.datePicker=e}},r)),s().createElement("span",{style:{marginLeft:"8px"}},"就失效"))))}},i._handleOnCancel=function(){i.setState({visible:!1,callback:void 0,nps:void 0,type:""})},i._handleOnConfrim=function(){var e=i.state,t=e.callback,n=e.nps,a=e.type,e=i.props.nps.valid;("delete"===a||"edit"===a||"switch"===a||"dispatch"===a||"updateNpsTime"===a&&e)&&(i.setState({visible:!1,callback:void 0,nps:void 0,type:""}),t&&t(a,n))},i.state={visible:!1,callback:void 0,nps:void 0},i}return a()(e,t),e.prototype.render=function(){var e=this.state,t=e.visible,n=e.type,e=e.nps;return s().createElement(c.Dialog,{className:"simple-dialog-wrapper simple-dialog-warning",size:"tiny",visible:t,title:this.renderTitle(n,e),closeOnClickModal:!1,onCancel:this._handleOnCancel},s().createElement(c.Dialog.Body,null,this.renderBody(n,e)),s().createElement(c.Dialog.Footer,null,s().createElement("span",null,s().createElement(c.Button,{onClick:this._handleOnCancel},"取消"),s().createElement(c.Button,{type:"primary",onClick:this._handleOnConfrim},"edit"===n?"编辑问卷":"确定"))))},e}(s().PureComponent)},33504:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var t=n(67154),y=n.n(t),t=n(87757),g=n.n(t),t=n(48926),a=n.n(t),c=n(36144),r="RESEARCH_MANAGE_LIST";function p(e){var t=e.projectId,n=e.name,a=e.status,r=e.sortName,i=e.sortType,o=e.questionnaireType,s=e.pageSize,e=e.pageIndex;return c.h.post("/questionnaire/list",{projectId:t,name:n,status:a,sortName:r,sortType:i,questionnaireType:o,pageSize:s,pageIndex:e})}function v(e){e=e.id;return c.h.post("/questionnaire/delete",{id:e})}function x(e){var t=e.id,e=e.status;return c.h.post("/questionnaire/status/change",{id:t,status:e})}function u(e){return c.h.post("/nps/expire-time/update",y()({},e))}function s(e){return i.apply(this,arguments)}function i(){return(i=a()(g().mark(function e(t){var n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return o.apply(this,arguments)}function o(){return(o=a()(g().mark(function e(t){var n,a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var d=n(33722),b=n(5133),T=n(64396).Z.research.npsManage,f={name:"",pageSize:10,pageIndex:1,questionnaireType:"ALL",status:"ALL",timeType:"updatedAt_DESC",sortName:"updatedAt",sortType:"DESC",data:void 0,nps:{id:"",expireTime:"",expireTimeType:2,valid:!1},projectId:void 0,activeColumnProps:[]};const h={namespace:T,state:f,reducers:{save:function(e,t){t=t.payload;return y()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},f)}},effects:{fetchParams:g().mark(function e(t,n){var a,r,i,o;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,r=n.put,i=d.SE,e.prev=3,e.next=6,o(s,{projectId:a.projectId});case 6:o=e.sent,2e4===(o=o.data).code&&o.result&&(i=JSON.parse(o.result)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.next=15,r({type:"save",payload:y()({},a,{activeColumnProps:i})});case 15:return e.next=17,r({type:"fetchNpsList",payload:a});case 17:case"end":return e.stop()}},e,null,[[3,11]])}),fetchNpsList:g().mark(function e(t,n){var a,r,i,o,s,c,u,l;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,c=n.select,i=n.put,e.next=4,c(function(e){return y()({},e)[T]});case 4:return u=e.sent,o=u.projectId,u.name,u.questionnaireType,u.status,s=u.sortName,c=u.sortType,l=u.pageSize,u=u.pageIndex,l={projectId:a.projectId||o,name:a.name,sortName:a.sortName||s,sortType:a.sortType||c,pageSize:a.pageSize||l,pageIndex:a.pageIndex||u},a.status&&"ALL"!==a.status&&(l.status=[a.status]),a.questionnaireType&&"ALL"!==a.questionnaireType&&(l.questionnaireType=[a.questionnaireType]),u="error",e.prev=17,e.next=20,r(p,l);case 20:l=e.sent,l=l.data,u=2e4===l.code&&0<l.result.count?{total:l.result.count,list:l.result.result}:"empty",e.next=27;break;case 25:e.prev=25,e.t0=e.catch(17);case 27:return e.prev=27,e.next=30,i({type:"save",payload:y()({},a,{data:u})});case 30:return e.finish(27);case 31:case"end":return e.stop()}},e,null,[[17,25,27,31]])}),deleteNps:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return y()({},e)[T]});case 4:return m=e.sent,s=m.projectId,c=m.name,u=m.questionnaireType,l=m.status,p=m.sortName,d=m.sortType,f=m.pageSize,h=m.pageIndex,e.prev=13,e.next=16,r(v,a);case 16:if(m=e.sent,2e4===m.data.code)return b.Z.success("删除成功"),e.next=22,i({type:"fetchNpsList",payload:{projectId:s,name:c,questionnaireType:u,status:l,sortName:p,sortType:d,pageSize:f,pageIndex:h}});e.next=22;break;case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(13);case 26:case"end":return e.stop()}},e,null,[[13,24]])}),updateNpsStatus:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return y()({},e)[T]});case 4:return v=e.sent,s=v.projectId,c=v.keyword,u=v.pageSize,l=v.pageIndex,p=v.status,d=v.questionnaireType,f=v.sortName,h=v.sortType,m=a.type,e.prev=14,e.next=17,i(x,a);case 17:if(v=e.sent,2e4===v.data.code)return m||b.Z.success("操作成功"),e.next=23,r({type:"fetchNpsList",payload:{projectId:s,keyword:c,pageSize:u,pageIndex:l,questionnaireType:d,status:p,sortName:f,sortType:h}});e.next=23;break;case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(14);case 27:case"end":return e.stop()}},e,null,[[14,25]])}),setDefaultValue:g().mark(function e(t,n){var a,r,i,o,s;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return y()({},e)[T]});case 4:return s=e.sent,s=s.projectId,e.next=8,r(l,{projectId:a.projectId||s,value:JSON.stringify(a.activeColumnProps)});case 8:if(s=e.sent,2e4===s.data.code)return e.next=13,i({type:"save",activeColumnProps:a.activeColumnProps});e.next=13;break;case 13:case"end":return e.stop()}},e)}),updateNpsExpireTime:g().mark(function e(t,n){var a,r,i,o,s;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.put,s=n.select,e.prev=2,i=o.projectId,e.next=6,s(function(e){return y()({},e)[T]});case 6:return o=e.sent,s=o.nps,o=s.id,s=s.expireTime,e.next=12,a(u,{projectId:i,id:o,expireTime:s,toDispatched:!0});case 12:if(2e4===e.sent.data.code)return e.next=16,r({type:"fetchNpsList"});e.next=17;break;case 16:b.Z.success("操作成功");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error(e.t0);case 22:case"end":return e.stop()}},e,null,[[2,19]])})}}},33722:(e,t,n)=>{"use strict";n.d(t,{SE:()=>a,CQ:()=>r,_d:()=>i,pX:()=>o,nx:()=>s,hm:()=>c,qr:()=>u,Go:()=>l});var a=[{label:"问卷名称",value:"title",fixed:"left",width:200,checked:!0},{label:"体验题型",value:"questionnaireType",fixed:"",width:120,checked:!0},{label:"问卷状态",value:"status",fixed:"",width:110,checked:!0},{label:"答卷数",value:"submitted",fixed:"",width:110,checked:!0},{label:"NPS分值",value:"npsScore",fixed:"",width:110,checked:!1},{label:"满意度分值",value:"satisfactionScore",fixed:"",width:110,checked:!1},{label:"创建时间",value:"createdAt",fixed:"",width:150,checked:!0},{label:"最新修改",value:"updatedAt",fixed:"",width:110,checked:!0},{label:"操作",value:"operator",fixed:"right",width:200,checked:!0}],r=[{title:"停止收集",value:"switch"},{title:"复制",value:"copy"},{title:"删除",value:"delete"}],i=[{title:"重新打开",value:"switch"},{title:"复制",value:"copy"},{title:"删除",value:"delete"}],o=[{title:"复制",value:"copy"},{title:"删除",value:"delete"}],s=[{title:"全部",value:"ALL"},{title:"NPS",value:"NPS"},{title:"满意度",value:"SATISFACTION"},{title:"普通题型",value:"NORMAL"}],c=[{title:"全部",value:"ALL"},{title:"未发布",value:"UN_DISPATCH"},{title:"已发布",value:"DISPATCHED"},{title:"已关闭",value:"CLOSED"}],u=[{title:"修改时间最新",value:"updatedAt_DESC"},{title:"修改时间最早",value:"updatedAt_ASC"},{title:"创建时间最新",value:"createdAt_DESC"},{title:"创建时间最早",value:"createdAt_ASC"}],l=function(e){var t=new Date,e=new Date(e.substring(0,19).replace(/-/g,"/").replace(/T/," ")),n=t.getTime()-e.getTime(),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();new Date(t-864e5).getTime();switch(!0){case n<36e5:var a=Math.abs(Math.floor(n/6e4));return a?a+"分钟前":"刚刚";case n<864e5:return Math.floor(n/36e5)+"小时前";default:return Math.floor(n/864e5)+"天前"}}},91235:(e,t,n)=>{"use strict";n.d(t,{Y:()=>A,Z:()=>L});var a=n(67154),I=n.n(a),r=n(93913),i=n.n(r),t=n(85354),o=n.n(t),a=n(67294),w=n.n(a),E=n(14187),s=n(89565),c=n(51474),k=n(70597),C=n(73119);const S=function(t){function e(e){var n=t.call(this,e)||this;return n.renderSort=function(){new c.ZP(document.querySelector(".questions_list_wrap"),{sort:!0,animation:150,draggable:".sortAble",handle:".question_list_page_wrap",onEnd:function(e){var t=e.oldIndex,e=e.newIndex;t!==e&&n.props.pageSort({oldIndex:t,newIndex:e})}})},n.resize=function(){n.setState({showModel:1440<window.innerWidth?"primary":"small"})},n.renderQuestion=function(e,t,n){e=C.Z[E.yK[e]];return w().createElement(e,I()({},t,{showType:"answer",key:n}))},n.state={showModel:1440<window.innerWidth?"primary":"small"},n}o()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.renderSort(),window.addEventListener("resize",this.resize)},n.render=function(){var n=this,e=this.props,a=e.pageChange,r=e.addPage,i=e.delPage,o=e.list,s=e.headerConfig,c=e.pageButtonConfig,u=e.status,e=this.state.showModel;return w().createElement("div",{className:"questions_list "+e},w().createElement("div",{className:"total"},"共 ",w().createElement("span",null,o.length-2)," 页"),w().createElement("div",{className:"questions_list_wrap"},o.map(function(e,t){return w().createElement("div",{className:(e.select?"sel":"")+" "+(e.endPage||"UN_DISPATCH"!==u?"":"sortAble")+" question_list",key:e.sortId},w().createElement("div",{className:"question_list_page_wrap",onClick:function(){return a({index:t})}},w().createElement("div",{className:"question_list_page"},w().createElement(k.Z,{list:o,headerConfig:s,pageButtonConfig:c,pageIndex:t,showType:"answer"},e.questionTypes&&e.questionTypes.map(function(e,t){return n.renderQuestion(e.type,e,t)}))),!e.endPage&&"UN_DISPATCH"===u&&w().createElement("div",{className:"add",onClick:function(){return r({index:t})}},"+")),!e.endPage&&w().createElement("span",{className:"pageNumber"},t+1),!e.endPage&&"UN_DISPATCH"===u&&1<o.length-2&&w().createElement("i",{className:"icon-cem_trash del",onClick:function(){return i({index:t})}}))})))},e}(a.Component);var l=n(43036);const N=function(a){function e(){for(var u,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(u=a.call.apply(a,[this].concat(t))||this).renderSort=function(){new c.ZP(document.querySelector(".sort_wrap"),{sort:!0,animation:150,handle:".move",onStart:function(e){u.props.onUpdateState(!0)},onEnd:function(e){var t=e.oldIndex,e=e.newIndex;t!==e&&u.props.quesSort({oldIndex:t,newIndex:e}),u.props.onUpdateState(!1)}})},u.renderQuestion=function(e,t,n,a){var r=C.Z[E.yK[e]],i=u.props,o=i.onConfigChange,s=i.quesChange,c=i.delQues,e=i.curSelectPage,i=i.status;return w().createElement("div",{className:"question_wrap sortAbel "+(t.select?"sel":""),key:n,onClick:function(){return s({index:a})}},w().createElement("div",{className:"ques"},w().createElement(r,I()({},t,{status:i,showType:"edit",onConfigChange:function(e){return o({index:a,value:e})}}))),!e.endPage&&"UN_DISPATCH"===i&&w().createElement("div",{className:"handel"},w().createElement(l.Z,{overlay:"删除",placement:"top"},w().createElement("i",{className:"icon-cem_trash del",onClick:function(){return c({index:a})}})),w().createElement(l.Z,{overlay:"移动",placement:"top"},w().createElement("i",{className:"icon-cem_displacement move"}))))},u}o()(e,a);var t=e.prototype;return t.componentDidMount=function(){this.renderSort()},t.render=function(){var n=this,e=this.props,t=e.curSelectPage;e.pageButtonConfig;return w().createElement("div",{className:"sort_wrap"},t&&t.questionTypes&&0<t.questionTypes.length?t.questionTypes.map(function(e,t){return n.renderQuestion(e.type,e,e.sortId,t)}):w().createElement("div",{className:"empty"},w().createElement("i",{className:"icon-cem_click-gesture"}),"请点击上方题型"))},e}(a.Component);var u=n(55815),p=n(92360),d=n(19335),f=n(23570),h=n(35303),m=n(5133);const v=function(t){function e(e){var a=t.call(this,e)||this;return a._handleOnClose=function(){a.state.name!==a.originName&&(a.nameRef.value="",a.originName=void 0),a.state.desc!==a.originDesc&&(a.descRef.value="",a.originDesc=void 0),a.setState({visible:!1,name:"",desc:"",type:"",boardList:[]}),a.callback=void 0},a._handleOnNameChange=function(e,t,n){e=e.target;a.nameRef=t,a.setState({name:e.value,inputText:n})},a._handleOnNameBlur=function(e){a.state.inputText&&a.setState({inputText:""})},a._handleOnDescChange=function(e,t,n){e=e.target;a.descRef=t,a.setState({desc:e.value,textareaText:n})},a._handleOnDescBlur=function(e){a.state.textareaText&&a.setState({textareaText:""})},a._handleOnConfigConfirm=function(){var e=a.state,t=e.name,n=e.desc,e=e.boardList;t?(a.callback&&a.callback(t,n,e),a.setState({visible:!1,name:"",desc:"",type:"",boardList:[]},function(){return a.callback=void 0})):m.Z.error("请输入问卷名称")},a._handleOnChange=function(e){a.setState({boardList:e})},a.callback=void 0,a.state={visible:!1,name:"",desc:"",type:"",boardList:[]},a.nameRef=void 0,a.descRef=void 0,a.originName=void 0,a.originDesc=void 0,a}o()(e,t);var n=e.prototype;return n.show=function(e){var t=e.name,n=e.desc,a=e.type,r=e.boardList,e=e.callback;this.setState({visible:!0,name:t,desc:n,type:a,boardList:r}),this.originName=t,this.originDesc=n,this.callback=e},n.render=function(){var e=this.state,t=e.visible,n=e.name,a=e.desc,r=e.type,i=e.inputText,o=e.textareaText,s=e.boardList,e=this.props.dashboardOptions;return w().createElement(d.Z,{visible:t,closeable:!0,width:520,title:"问卷设置",headerStyle:{marginTop:46},placement:"right",maskClosable:!0,keyboard:!1,onClose:this._handleOnClose,bodyStyle:{paddingBottom:80},footerStyle:{textAlign:"right"},footer:w().createElement(w().Fragment,null,w().createElement(p.Button,{onClick:this._handleOnClose},"取消"),w().createElement(p.Button,{type:"primary",onClick:this._handleOnConfigConfirm},"确定"))},w().createElement("div",{className:"yt_nps_config_drawer_wrapper"},w().createElement("div",{className:"config"},w().createElement("div",null,w().createElement("div",{className:"config_title required"},"问卷名称"),w().createElement(f.Z,{className:"name_input",maxLength:20,placeholder:"请输入问卷名称",defaultValue:n,onChange:this._handleOnNameChange,onBlur:this._handleOnNameBlur})),i&&w().createElement("p",{className:"tip_text"},i)),w().createElement("div",{className:"config"},w().createElement("div",null,w().createElement("div",{className:"config_title"},"问卷描述"),w().createElement(f.Z,{className:"name_input",placeholder:"请输入问卷描述",defaultValue:a,maxLength:200,type:"textarea",autosize:{minRows:4,maxRows:4},onChange:this._handleOnDescChange,onBlur:this._handleOnDescBlur})),o&&w().createElement("p",{className:"tip_text"},o)),w().createElement("div",{className:"config config_questionType"},w().createElement("div",{className:"config_title",style:{marginRight:6}},"体验题型"),w().createElement("div",{style:{lineHeight:"32px"}},r||"未知")),w().createElement("div",{className:"config config_questionType"},w().createElement("div",{className:"config_title"},"关联看板"),w().createElement(h.RS,{value:s,placeholder:"请选择关联看板",tags:!0,multiple:!0,className:"select-wrapper",optionLabelProp:"label",dropdownClassName:"dropdown_wrapper",onChange:this._handleOnChange},e.map(function(e){return w().createElement(h.Wx,{key:e.value,label:e.label,value:e.value},w().createElement("div",{className:"rc_select_item_option"},w().createElement("i",{className:"NPS"===e.type?"icon-cem_npsboard":"icon-cem_satisfaction-score"}),e.label))})))))},e}(w().PureComponent);var r=n(45697),t=n.n(r),y=n(87219),r=function(t){function e(e){var n=t.call(this,e)||this;return n._setShowFalse=function(){n.state.show&&n.setState({show:!1})},n._handleOnTriggerClick=function(){n.props.enable&&setTimeout(function(){n.setState({show:!n.state.show})},0)},n._handleOnItemClick=function(e){var t=n.props.onSelect;t&&t(e)},n.state={show:!1},n}return o()(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.title,a=e.options,r=e.icon,i=e.enable,e=this.state.show;return w().createElement("div",{className:"yt_question_type_selector_wrapper "+(i?"":"yt_question_type_selector_disable_wrapper"),style:{background:e?"#f0f2f5":"unset"},onMouseLeave:this._setShowFalse,onMouseEnter:this._handleOnTriggerClick},w().createElement("div",{className:"trigger"},w().createElement("i",{className:r}),w().createElement("span",null,n)),w().createElement("div",{className:"options "+(e?"active":"")},w().createElement("div",null,a.map(function(e){return w().createElement("div",{key:e.value,className:"option_item "+(e.enable?"":"item_disable"),onClick:function(){return e.enable&&t._handleOnItemClick(e.value)}},w().createElement("i",{className:e.icon}),w().createElement("span",null,e.label))}))))},e}(w().PureComponent);const g=r;r.propTypes={title:t().string,icon:t().string,enable:t().bool,onSelect:t().func,options:{label:t().string,value:t().string,icon:t().string,enable:t().bool}};var x=[{icon:"icon-cem_score",label:"NPS分值题",value:E.ns.NPS_SCORE,enable:!0},{icon:"icon-cem_score",label:"NPS原因题",value:E.ns.NPS_REASON,enable:!1},{icon:"icon-cem_satisfaction-score",label:"满意题分值",value:E.ns.SATISFACTION,enable:!0},{icon:"icon-cem_reasons-for-satisfaction",label:"满意题原因",value:E.ns.SATISFACTION_REASON,enable:!1}],b=[{icon:"icon-cem_single-choice",label:"单选题型",value:E.ns.SINGLE_CHOICE,enable:!0},{icon:"icon-cem_multiple-choice",label:"多选题型",value:E.ns.MULTIPLE_CHOICE,enable:!0},{icon:"icon-cem_single-line-text",label:"单行文本",value:E.ns.TEXT,enable:!0},{icon:"icon-cem_multiline-text",label:"多行文本",value:E.ns.TEXTAREA,enable:!0}],T=[{icon:"icon-cem_name",label:"姓名",value:E.ns.NAME,enable:!0},{icon:"icon-cem_gender",label:"性别",value:E.ns.SEX,enable:!0},{icon:"icon-cem_mobile-phone",label:"手机",value:E.ns.PHONE,enable:!0},{icon:"icon-cem_email-title",label:"邮箱",value:E.ns.EMAIL,enable:!0},{icon:"icon-cem_combination-information",label:"组合信息",value:E.ns.USER_INFO,enable:!0}],_=[{icon:"icon-cem_text",label:"文本",value:E.ns.DECORATION,enable:!0}];r=function(t){function e(e){var c=t.call(this,e)||this;return c._getDrawerRef=function(e){c.drawerRef=e},c._renderRightContent=function(){return w().createElement("div",null,w().createElement(p.Button,{onClick:c._handleOnConfigClick},"问卷设置"),w().createElement(p.Button,{onClick:c._handleOnSaveClick,type:"primary"},"保存"),w().createElement(p.Button,{onClick:c._handleOnNextStepClick,type:"primary"},"下一步，发布"))},c._handleOnConfigClick=function(){var e=c.props,t=e.name,n=e.desc,a=e.onSave,r=e.boardList,i=c.state,e=i.typeStr,o=i.types,s=i.dashOptions;c.drawerRef.show({name:t,desc:n,boardList:r.filter(function(t){return s.some(function(e){return e.value===t})}),type:e,callback:function(e,t,n){a&&a({types:o,name:e,desc:t,boardList:n},c.shouldNext),c.shouldNext=!1}})},c._handleOnSaveClick=function(){var e=c.props,t=e.onSave,n=e.name,e=c.state.types;n?t&&t({types:e}):c._handleOnConfigClick()},c._handleOnNextStepClick=function(){var e=c.props,t=e.onSave,n=e.name,e=c.state.types;n?t&&t({types:e},!0):(c.shouldNext=!0,c._handleOnConfigClick())},c._handleOnTypeSelect=function(e){var t=c.props.onSelect;t&&t({type:e})},c.state={title:[{title:"问卷管理",url:"/research/manage"}],list:[],queTypeList:[{title:"体验题型",icon:"icon-cem_experience-questions",options:x},{title:"普通题型",icon:"icon-cem_common-questions",options:b},{title:"客户信息",icon:"icon-cem_customer-information",options:T},{title:"装饰信息",icon:"icon-cem_decorate",options:_}],dashOptions:[]},c.shouldNext=!1,c}o()(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(e,t){return JSON.stringify(this.props.dashboardList)===JSON.stringify(this.props.dashboardList)},e.getDerivedStateFromProps=function(t,e){var n,a,r,i,o,s,c,u,l,p={};return JSON.stringify(t.list)===JSON.stringify(e.list)&&e.dashOptions.length||(i=t.list,o=x.map(function(e){return e.value}),s=T.map(function(e){return e.value}),c=[],l=!(u=[]),i=i.reduce(function(t,e){return e.questionTypes&&e.questionTypes.forEach(function(e){(o.includes(e.type)||s.includes(e.type))&&t.push(e.type),e.type&&(e.type.startsWith("NPS")&&!c.includes("NPS")?(c.push("NPS"),u.push("NPS")):e.type.startsWith("SATISFACTION")&&!c.includes("SATISFACTION")?(c.push("SATISFACTION"),u.push("满意度")):l=!0)}),t},[]),0===c.length&&l&&(c.push("NORMAL"),u.push("普通")),a=(n={disableTypes:i,types:c,typeNames:u}).disableTypes,i=n.typeNames,p.types=r=n.types,p.list=t.list,p.dashOptions=t.dashboardOptions.filter(function(e){e=e.type;return r.includes(e)}),p.typeStr=i.join("，"),p.queTypeList=(0,y.ZP)(e.queTypeList,function(e){a.includes("NPS_SCORE")?(e[0].options[0].enable=!1,e[0].options[1].enable=!a.includes("NPS_REASON")):(e[0].options[0].enable=!0,e[0].options[1].enable=!1),a.includes("SATISFACTION")?(e[0].options[2].enable=!1,e[0].options[3].enable=!a.includes("SATISFACTION_REASON")):(e[0].options[2].enable=!0,e[0].options[3].enable=!1),e[2].options.forEach(function(e){e.enable=!a.includes(e.value)})})),t.name&&(p.title=(0,y.ZP)(e.title,function(e){e[1]={title:t.name,url:""}})),"{}"===JSON.stringify(p)?null:p},n.render=function(){var t=this,e=this.state,n=e.title,a=e.queTypeList,r=e.dashOptions,i=this.props,e=i.researchId,i=i.enable,o=void 0===i||i;return w().createElement("div",{className:"yt_nps_edit_header_wrapper"},w().createElement(u.Z,{className:"title",title:n,mainTitle:e?"编辑问卷":"新建问卷",rightContent:this._renderRightContent()}),w().createElement(l.Z,{placement:"bottom",overlay:"问卷处于「已分发」或「已关闭」状态时，不支持增删题目",trigger:o?"":"hover"},w().createElement("div",{className:"question_type"},a.map(function(e){return w().createElement(g,I()({key:e.title},e,{enable:o,onSelect:t._handleOnTypeSelect}))}))),w().createElement(v,{ref:this._getDrawerRef,dashboardOptions:r}))},e}(w().PureComponent);const O=r;r.propTypes={researchId:t().string,name:t().string,desc:t().string,enable:t().bool,list:t().array,disableTypes:t().arrayOf(t().string),onSelect:t().func,onSeve:t().func,dashboardOptions:t().arrayOf(t().shape({label:t().string,value:t().string})),boardList:t().arrayOf(t().string)};var j=n(26056),D=n(8201),M=n(4136),a=function(n){function e(e){var t=n.call(this,e)||this;return t._handelSelectQuestion=function(e){t.setState({selSpecialType:e}),t.props.quesChange({index:-1})},t._updateDraggingState=function(e){t.setState({dragging:e})},t.state={selSpecialType:"",dragging:!1},t}return o()(e,n),e.prototype.render=function(){var t=this,e=this.curSelectPage,n=this.curEditQuestions,a=this.list,r=this.props,i=r.onPageButtonConfig,o=r.pageButtonConfig,s=r.onHeaderConfig,c=r.headerConfig,u=r.pageChange,l=r.quesChange,p=r.desc,d=r.name,f=r.id,h=r.fetchingConfig,m=r.onSubmit,v=(r.updateStatus,r.getDialogRef),y=r.status,g=r.dashboardOptions,x=r.boardList,b=this.state,T=b.selSpecialType,r=b.dragging,b=n?"HEADER"===n.type?M.Z:C.Z[E.yK[n.type]]:"";return w().createElement("div",{className:"research_questions"},w().createElement("div",{className:"header_conf"},w().createElement(O,{researchId:f,name:d,desc:p,enable:!this.curSelectPage.endPage&&"UN_DISPATCH"===y,list:this.props.list,dashboardOptions:g,boardList:x,onSelect:function(e){t.setState({selSpecialType:""}),t.props.addQues(e)},onSave:m})),w().createElement(D.Z,{data:a,loading:h},w().createElement("div",{className:"questions_wrap"},w().createElement(S,I()({},this.props,{list:a,pageChange:function(e){t.setState({selSpecialType:""}),u(e)},headerConfig:c,pageButtonConfig:o,curSelectPageIndex:this.curSelectPageIndex})),w().createElement(A.Provider,{value:r},w().createElement("div",{className:"questions_bg"},w().createElement("div",{className:"questions"},w().createElement(k.Z,{list:a,selSpecialType:T,onSelect:this._handelSelectQuestion,headerConfig:c,onHeaderConfig:s,pageButtonConfig:o,pageIndex:this.curSelectPageIndex,showType:"edit"},w().createElement(N,I()({},this.props,{curSelectPage:e,list:a,onUpdateState:this._updateDraggingState,quesChange:function(e){t.setState({selSpecialType:""}),l(e)}})))))),w().createElement("div",{className:"questions_conf"},b&&w().createElement(b,I()({key:n.sortId},n,{showType:"config",onConfigChange:function(e){"pageButtonConfig"===T?i({config:e}):"headerConfig"===T?s({config:e}):t.props.onConfigChange({index:t.curIndex,value:e})}}))))),w().createElement(j.Z,{ref:v,nps:{}}))},i()(e,[{key:"list",get:function(){return(0,s.P0)(this.props.list)}},{key:"curSelectPage",get:function(){return(this.list||[]).filter(function(e){return e.select})[0]||{}}},{key:"curSelectPageIndex",get:function(){return(this.list||[]).findIndex(function(e){return e.select})}},{key:"curEditQuestions",get:function(){return this.state.selSpecialType?{config:this.props[this.state.selSpecialType],type:this.props[this.state.selSpecialType].type}:this.curSelectPage.questionTypes?this.curSelectPage.questionTypes.filter(function(e){return e.select})[0]:null}},{key:"curIndex",get:function(){return this.curSelectPage.questionTypes?this.curSelectPage.questionTypes.findIndex(function(e){return e.select}):-1}}]),e}(a.Component),A=w().createContext(!1);const L=a},70597:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var t=n(85354),a=n.n(t),t=n(67294),u=n.n(t),l=n(54012),p=n(4136);const r=function(t){function e(e){return t.call(this,e)||this}return a()(e,t),e.prototype.render=function(){var e=this.props,t=e.list,n=e.pageButtonConfig,a=e.onHeaderConfig,r=e.headerConfig,i=e.pageIndex,o=e.showType,s=e.selSpecialType,c=e.onSelect,e=e.pageButtonClick;return u().createElement(u().Fragment,null,u().createElement("div",{className:"headerWrap selwrap "+("headerConfig"===s?"sel":""),onClick:function(){return c&&c("headerConfig")}},u().createElement(p.Z,{config:r,pageIndex:i,onConfigChange:function(e){return a({config:e})},showType:o,length:t.length-2})),this.props.children,u().createElement("div",{className:"buttonWrap selwrap "+("pageButtonConfig"===s?"sel":""),onClick:function(){return c&&c("pageButtonConfig")}},u().createElement(l.Z,{length:t.length-2,pageIndex:i,config:n,showType:o,onClick:e})))},e}(t.Component)},4136:(e,t,c)=>{"use strict";c.d(t,{Z:()=>i});var n=c(67154),r=c.n(n),t=c(85354),a=c.n(t),n=c(67294),m=c.n(n),d=c(76439),f=/^-?(100|(([1-9]\d|\d)(\.\d{1,2})?))%$/;const v=function(r){function e(){for(var a,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(a=r.call.apply(r,[this].concat(t))||this)._handleOnChange=function(e,t){var n=a.props.onEdit;void 0===t&&n&&n({headTitle:e})},a._handleOnDescChange=function(e,t){var n=a.props.onEdit;void 0===t&&n&&n({headText:e})},a}return a()(e,r),e.prototype.render=function(){var t=this,e=this.props,n=e.editable,a=e.logo,r=e.name,i=e.desc,o=e.showLogo,s=e.everyPageShow,c=e.pageIndex,u=e.radius,l=e.align,p=e.width,e=e.length,c=s&&c<e||0===c;return m().createElement("div",{className:"research_nps_header_edit_wrapper",style:{padding:c?"12px 16px":"0 16px"}},c?m().createElement("div",null,o&&m().createElement("div",{className:"img_wrap",style:{textAlign:""+l}},m().createElement("div",null,m().createElement("img",{className:"logo_wrap",src:a,style:{borderRadius:Number(u)+"px",width:""+(f.test(p)?p:Number(p)+"%")},onError:function(){t.imgRef1.src="https://yunting-1251101074.coscd.myqcloud.com/questionnaire/c529a30196174ad98009adc6ba063c3d.png"},ref:function(e){return t.imgRef1=e}}))),m().createElement(d.Z,{className:"name_title",key:"name_title",value:r,editable:n,onChange:this._handleOnChange}),m().createElement(d.Z,{className:"desc_title",key:"desc_title",value:i,editable:n,onChange:this._handleOnDescChange}),m().createElement("div",{className:"divider"})):null)},e}(m().PureComponent);var u=c(79802),l=c(92360);const y=function(t){function e(e){var n=t.call(this,e)||this;return n._handleOnUpload=function(){n.logoDialogRef.wrappedInstance.showDialog({logo:n.props.logo,width:n.props.width,align:n.props.align,radius:n.props.radius})},n._handleOnConfrim=function(e){var t=n.props.onEdit;t&&t({logo:e.logo,config:{logoFillet:e.radius,logoAlignmentType:e.align,logoWidth:e.width}})},n.state={},n}return a()(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.logo,a=e.onEdit,r=e.showLogo,i=e.everyPageShow,o=(e.type,e.radius),s=e.width,e=e.align;return m().createElement("div",{className:"research_nps_header_config_wrapper"},m().createElement("div",{className:"question_key"},"问卷头部设置"),m().createElement("div",{className:"show_logo"},m().createElement("span",null,"显示图片"),m().createElement(l.Switch,{onText:"",offText:"",onColor:"#0747A6",offColor:"#BFBFBF",width:24,value:r,onChange:function(e){a({showLogo:e})}})),m().createElement("div",{className:"edit_logo"},m().createElement("label",null,"图片"),m().createElement("div",{className:"upload_logo",onClick:this._handleOnUpload},m().createElement("img",{src:n,onError:function(){t.imgRef1.src=c(56772)},ref:function(e){return t.imgRef1=e},style:{borderRadius:Number(o)===parseFloat(o)?Number(o)+"px":this.originState.radius+"px"}}),m().createElement("div",null,"修改")),m().createElement("span",{className:"upload_logo_trigger",onClick:this._handleOnUpload},"修改")),m().createElement("div",{className:"show_logo"},m().createElement("span",null,"每一页都显示问卷头部"),m().createElement(l.Switch,{onText:"",offText:"",onColor:"#0747A6",offColor:"#BFBFBF",width:24,value:i,onChange:function(e){a({everyPageShow:e})}})),m().createElement(u.Z,{ref:function(e){return t.logoDialogRef=e},onEdit:this._handleOnConfrim,type:"LOGO",logo:n,radius:o,align:e,width:s}))},e}(m().Component);t=c(45697),t=c.n(t),n=function(t){function e(e){var a=t.call(this,e)||this;return a._handleOnEdit=function(e){var t=a.props,n=t.onConfigChange,t=t.config;n&&n(r()({},t,e))},a.state={},a}a()(e,t);var n=e.prototype;return n.componentWillUnmount=function(){},n.render=function(){var e=this.props,t=e.number,n=e.showType,a=e.config,r=a.logo,i=a.headTitle,o=a.headText,s=a.showLogo,c=a.everyPageShow,a=a.config,u=a.logoFillet,l=a.logoAlignmentType,p=a.logoWidth,d=a.type,f=e.pageIndex,h=e.length;switch(n){case"edit":return m().createElement(v,{editable:!0,id:"edit_"+t,logo:r,name:i,desc:o,showLogo:s,everyPageShow:c,onEdit:this._handleOnEdit,radius:u,align:l,width:p,pageIndex:f,length:h});case"config":return m().createElement(y,{logo:r,showLogo:s,everyPageShow:c,radius:u,align:l,width:p,type:d,onEdit:this._handleOnEdit});case"answer":default:return m().createElement(v,{editable:!1,id:"answer_"+t,logo:r,name:i,desc:o,showLogo:s,everyPageShow:c,radius:u,align:l,width:p,pageIndex:f,length:h})}},e}(n.Component);const i=n;n.propTypes={showType:t().oneOf(["answer","edit","config"]),number:t().number,config:t().shape({title:t().string,headTitle:t().string,headText:t().string,showLogo:t().bool,everyPageShow:t().bool,logo:t().string,type:t().string}),onConfigChange:t().func,pageIndex:t().number,length:t().number}},54012:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(67294),p=n.n(a),t=n(45697),a=n.n(t),d=n(92360),t=n(67154),o=n.n(t),t=n(85354),i=n.n(t),t=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(n=r.call.apply(r,[this].concat(t))||this).isCompositionHandling=!1,n.inputRef=p().createRef(),n._handlingOnComposition=function(){n.isCompositionHandling=!0},n._handleOnComposition=function(e){n.isCompositionHandling=!1,n._handleOnChange(e.target.value)},n._handleOnChange=function(e){var t;n.isCompositionHandling||(t=n.props.onChange)&&t(e)},n}return i()(e,r),e.prototype.render=function(){var e=this.props.className,e=void 0===e?"":e;return p().createElement(d.Input,o()({},this.props,{ref:this.inputRef,className:"yt_filter_lazy_input_wrapper "+e,onChange:this._handleOnChange,onCompositionStart:this._handlingOnComposition,onCompositionUpdate:this._handlingOnComposition,onCompositionEnd:this._handleOnComposition}))},e}(p().PureComponent);const s=t;t.propTypes={className:a().string};var c=n(61409),u=n(43036),n=function(e){function t(e,t){var n;a&&a(o()({},r,((n={})[e]=t,n)))}var a=e.onChange,r=e.config,n=r.prevText,i=r.nextText,e=r.submitText;return p().createElement("div",{className:"yt_pagination_config_wrapper"},p().createElement("div",{className:"title"},"按钮配置",p().createElement(u.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:p().createElement("div",null,"按钮在不同的页面会以不同的文案展示，你可以将其编辑成英文文案，系统不再做限制",p().createElement("div",{style:{marginTop:14,textAlign:"right"}},p().createElement(c.rU,{className:"yt-feedback-read-more",to:"https://www.yuque.com/docs/share/17e8bffc-deb7-4341-8173-477eaed37f7c?# 《按钮配置说明》",target:"_blank"},"了解更多")))},p().createElement("i",{className:"icon-cem_file1",style:{color:"#8C8C8C",marginLeft:4}}))),p().createElement("div",{className:"config"},p().createElement("div",{className:"config_title"},"按钮"),p().createElement("div",{className:"config_content"},p().createElement("span",null,"按钮1"),p().createElement(s,{className:"config_input",defaultValue:n,onChange:function(e){return t("prevText",e)}})),p().createElement("div",{className:"config_content"},p().createElement("span",null,"按钮2"),p().createElement(s,{className:"config_input",defaultValue:i,onChange:function(e){return t("nextText",e)}}))),p().createElement("div",{className:"config"},p().createElement("div",{className:"config_title"},"尾页"),p().createElement("div",{className:"config_content"},p().createElement("span",null,"按钮"),p().createElement(s,{className:"config_input",defaultValue:e,onChange:function(e){return t("submitText",e)}}))))};const f=n;n.propTypes={onChange:a().func,preText:a().string,nextText:a().string,submitText:a().string};n=function(e){function t(e){"answer"===n&&s&&s(e)}var n=e.showType,a=e.pageIndex,r=e.length,i=e.config,o=e.onConfigChange,s=e.onClick,c=i.prevText,u=i.nextText,e=i.submitText,l=a===r-1;return"config"===n?p().createElement(f,{onChange:o,config:i}):0===a?p().createElement("div",{className:"yt_pagination_single_button"},p().createElement(d.Button,{onClick:function(){return t(l?"submit":"next")},type:"primary",style:{width:"100%"}},l?e:u)):r-1<a?"":p().createElement("div",{className:"yt_pagination_two_buttons"},p().createElement(d.Button,{onClick:function(){return t("prev")}},c),p().createElement(d.Button,{onClick:function(){return t(l?"submit":"next")},type:"primary"},l?e:u))};const r=n;n.propTypes={showType:a().oneOf(["config","answer","edit"]),pageIndex:a().number,length:a().number,config:a().shape({prevText:a().string,nextText:a().string,submitText:a().string}),onConfigChange:a().func,onClick:a().func}},76439:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(67154),d=n.n(a),t=n(23279),f=n.n(t),a=n(67294),h=n.n(a),t=n(45697),a=n.n(t),t=n(72757),m=n.n(t),t=n(98804),v=n.n(t),y=n(91235),g={plugins:void 0,toolbar:void 0},n=function(e){var t=e.style,n=e.className,a=void 0===n?"":n,r=e.value,i=void 0===r?"":r,o=e.onChange,s=e.prefixes,c=e.editable,u=e.required,l=e.placeholder,n=void 0===l?"":l,r=h().useState(!1),e=r[0],p=r[1],l=h().useContext(y.Y),r=f()(function(e,t){t.sourceElement.childNodes.forEach(function(e){e.style.wordBreak="break-all"})},150);return h().createElement("div",{className:"yt_nps_text_wrapper "+a+" "+(e?"yt_nps_text_editing_wrapper":""),style:t},s&&h().createElement("span",{className:"prefixes_content "+(u?"required":"")},s),h().createElement("span",{className:"eidtor_content"},h().createElement(m(),{editor:v(),disabled:l||!c,data:i||(c?"":n),config:d()({},g,{placeholder:n}),onInit:function(e){},onChange:r,onBlur:function(e,t){t=t.getData();p(!1),o&&o(t)},onFocus:function(e,t){t.sourceElement.childNodes.forEach(function(e){e.ondragstart=function(){return!1}}),p(!0)}})))};const r=n;n.propTypes={id:a().string,style:a().object,className:a().string,value:a().string,required:a().bool,onChange:a().func,prefixes:a().oneOfType([a().node,a().string]),editable:a().bool,placeholder:a().string}},79802:(e,t,f)=>{"use strict";f.d(t,{Z:()=>u});var n=f(37316),a=f.n(n),t=f(67154),c=f.n(t),n=f(85354),r=f.n(n),t=f(67294),h=f.n(t),n=f(55609),i=f(35239),m=f(92360),o=f(5133),s=f(64396).Z.research.uploadPic,v=[{name:"左侧对齐",id:"LEFT"},{name:"居中对齐",id:"CENTER"},{name:"右侧对齐",id:"RIGHT"}],y=/^-?(100|(([1-9]\d|\d)(\.\d{1,2})?))%$/,t=function(e){function t(t){var s=e.call(this,t)||this;return s.showDialog=function(e){s.state.visible?s.setState({visible:!1,callback:void 0},function(){s.setState(c()({visible:!0},e))}):s.setState(c()({visible:!0},e))},s._handleOnChange=function(e){e=e.target.value;Number(e)===parseFloat(e)&&Number(e)<=76&&0<=Number(e)?(s.setState({radius:e}),s.state.radiusTip&&s.setState({radiusTip:""})):Number(e)!==parseFloat(e)?s.setState({radius:e,radiusTip:"请输入正确的格式"}):s.setState({radius:s.originState.radius})},s._handleOnWidthChange=function(e){e=e.target.value;y.test(e)||Number(e)===parseFloat(e)&&Number(e)<=100&&Number(0<e)?(s.setState({width:e<1||1===e?100*e:e}),s.state.widthTip&&s.setState({widthTip:""})):y.test(e)||Number(e)===parseFloat(e)?s.setState({width:s.originState.width}):s.setState({width:e,widthTip:"请输入正确的格式"})},s.handleOnListClick=function(e,t){var n=s.state,a=n.checkedIndex,r=n.logo;s.setState({checkedIndex:t===a?s.originState.checkedIndex:t},function(){s.setState({logo:s.state.checkedIndex===s.originState.checkedIndex?r:e.name})})},s.handleOnDeleteClick=function(e,t){var n=s.state.checkedIndex,a=s.props.type;1<s.props.imgList.length&&(s.props.deletePic({id:e.id,projectId:i.t.get(i.V.curProject).id,type:a}),setTimeout(function(){s.setState({imgList:s.props.imgList},function(){n===t&&s.setState({logo:s.props.imgList[0].name,checkedIndex:0})})},0))},s.handleUploaderChange=function(e){var t=e.target.files[0];if(1024<t.size/1024)return o.Z.error("文件不能大于1M"),!1;e=new FileReader;e.readAsDataURL(t),e.onload=function(e){s.props.uploadPic({projectId:i.t.get(i.V.curProject).id,base64Code:e.target.result,fileName:t.name,type:s.props.type}),setTimeout(function(){s.setState({logo:e.target.result,fileName:t.name,checkedIndex:0})},0)}},s._handleOnSelectChange=function(e){s.setState({align:e})},s._handleOnCancel=function(){s.setState(c()({},Object.assign({},s.originState)))},s._handleOnConfrim=function(){var e=s.state,t=e.logo,n=e.radius,a=e.align,r=e.width,i=e.radiusTip,o=e.widthTip;e.checkedIndex;i||o||s.props.onEdit({radius:n,align:a,width:r,logo:t}),s.setState(c()({},Object.assign({},s.originState)))},s.originState={visible:!1,logo:t.logo,isChecked:!1,checkedIndex:t.imgList&&t.logo?t.imgList.findIndex(function(e){return e.name===t.logo}):-1,imgList:t.imgList,radius:t.radius,align:t.align,width:t.width},s.state=c()({},Object.assign({},s.originState)),s}r()(t,e);var n=t.prototype;return n.componentDidMount=function(){var t=this;this.props.fetchPicList({projectId:i.t.get(i.V.curProject).id,type:this.props.type}).then(function(e){e&&-1<e.findIndex(function(e){return e.name===t.props.logo})&&t.setState({checkedIndex:e.findIndex(function(e){return e.name===t.props.logo})})})},n.componentDidUpdate=function(e){var t=this;e.type!==this.props.type&&this.props.fetchPicList({projectId:i.t.get(i.V.curProject).id,type:this.props.type}).then(function(e){e&&-1<e.findIndex(function(e){return e.name===t.props.logo})&&t.setState({checkedIndex:e.findIndex(function(e){return e.name===t.props.logo})})})},n.render=function(){var a=this,e=this.state,r=e.checkedIndex,t=e.visible,n=e.radius,i=e.radiusTip,o=e.align,s=e.width,c=e.widthTip,u=e.logo,l=this.props,e=l.imgList,p=l.type,d="LOGO"===p?"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/c529a30196174ad98009adc6ba063c3d.png":"TAIL"===p?"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a224a96f71b44a1f9ac21493c02135df.png":"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/bfa4cbc7238b4e4f8f984a20b17face4.png";return h().createElement(m.Dialog,{size:"tiny",visible:t,title:"选择图片",top:"25%",onCancel:this._handleOnCancel,closeOnClickModal:!1,className:"nps_logo_upload_dialog"},h().createElement(m.Dialog.Body,null,h().createElement("div",{className:"left"},h().createElement("div",{className:"title"},"预览"),h().createElement("div",{className:"logo_wrap",style:{textAlign:""+o.toLowerCase()}},h().createElement("div",null,h().createElement("img",{src:u,onError:function(){a.imgRef1.src=f("LOGO"===p?56772:39952)},ref:function(e){return a.imgRef1=e},width:""+(y.test(s)?s:Number(s)!==parseFloat(s)&&y.test(this.originState.width)?this.originState.width:Number(s)+"%"),style:{borderRadius:Number(n)===parseFloat(n)?Number(n)+"px":this.originState.radius+"px"}}))),h().createElement("div",{className:"setting_style"},h().createElement("div",null,h().createElement("span",null,"圆角"),h().createElement("input",{value:n,className:"input_style "+(i&&"edit_input_error"),type:"text",onChange:this._handleOnChange}),i&&h().createElement("p",{className:"tip_text"},i)),h().createElement("div",null,h().createElement("span",null,"对齐"),h().createElement(m.Select,{value:o,onChange:function(e){return a._handleOnSelectChange(e)}},v.map(function(e,t){return h().createElement(m.Select.Option,{key:e.id,label:e.name,value:e.id})}))),h().createElement("div",null,h().createElement("span",null,"宽度"),h().createElement("input",{value:s,type:"text",className:"input_style "+(c&&"edit_input_error"),onChange:this._handleOnWidthChange}),c&&h().createElement("p",{className:"tip_text"},c)))),h().createElement("div",{className:"right"},h().createElement("div",{className:"logo_upload"},h().createElement("input",{ref:function(e){return a.uploader=e},type:"file",hidden:!0,accept:"images/png",onChange:this.handleUploaderChange}),h().createElement(m.Button,{type:"primary",size:"small",onClick:function(){return a.uploader.click()}},"上传图片"),h().createElement("span",null,"仅支持png格式，文件小于1M，建议为正方形")),h().createElement("div",{className:"logo_uploaded "+(e&&e.length?"":"logo_unuploaded")},e&&e.length?h().createElement(h().Fragment,null,e.map(function(t,n){return h().createElement("span",{key:t.id,className:"uploaded_list "+(t.name!==d?"hover_uploaded_list":"")+" "+(r===n?"checked_uploaded_list":""),onClick:function(e){e.stopPropagation(),a.handleOnListClick(t,n)}},h().createElement("img",{src:t.name}),t.name!==d&&h().createElement("i",{className:"icon-cem_trash",onClick:function(e){e.stopPropagation(),a.handleOnDeleteClick(t,n)}}))})):h().createElement("span",null,"请先上传图片")))),h().createElement(m.Dialog.Footer,null,h().createElement(m.Button,{onClick:this._handleOnCancel},"取消"),h().createElement(m.Button,{type:"primary",onClick:this._handleOnConfrim},"确定")))},t}(h().PureComponent);const u=(0,n.connect)(function(e){var t=e.loading,e=a()(e,["loading"]);return c()({},e[s],{fetchingPicList:t.effects[s+"/fetchPicList"]||!1})},function(t){return{save:function(e){return t({type:s+"/save",payload:e})},fetchPicList:function(e){return t({type:s+"/fetchPicList",payload:e})},uploadPic:function(e){return t({type:s+"/uploadPic",payload:e})},deletePic:function(e){return t({type:s+"/deletePic",payload:e})}}},null,{withRef:!0})(t)},55046:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),t=n(48926),a=n.n(t),o=n(36144);function f(e){return r.apply(this,arguments)}function r(){return(r=a()(d().mark(function e(t){var n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/questionnaire/picture/list",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return i.apply(this,arguments)}function i(){return(i=a()(d().mark(function e(t){var n,a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.base64Code,r=t.fileName,i=t.type,e.abrupt("return",o.h.post("/questionnaire/picture/upload",{projectId:n,base64Code:a,fileName:r,type:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return s.apply(this,arguments)}function s(){return(s=a()(d().mark(function e(t){var n,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.id,e.abrupt("return",o.h.post("/questionnaire/picture/delete",{projectId:n,id:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var t=n(64396),m=n(5133),v=t.Z.research.uploadPic;const c={namespace:v,state:{imgList:void 0,img:"",projectId:void 0},reducers:{save:function(e,t){t=t.payload;return p()({},e,t)}},effects:{fetchPicList:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,o=n.call,e.next=4,i(function(e){return p()({},e)[v]});case 4:return c=e.sent,l=c.projectId,s=a.type,c=void 0,e.prev=8,e.next=11,o(f,{projectId:l||a.projectId});case 11:l=e.sent,l=l.data,u="LOGO"===s?"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/c529a30196174ad98009adc6ba063c3d.png":"TAIL"===s?"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a224a96f71b44a1f9ac21493c02135df.png":"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/bfa4cbc7238b4e4f8f984a20b17face4.png",c=2e4===l.code&&l.result.length?(l=l.result.filter(function(e){return e.type===s})).find(function(e){return e.name===u})?l:[].concat(l,[{name:u,type:s}]):[{name:u,type:s}],e.next=19;break;case 17:e.prev=17,e.t0=e.catch(8);case 19:return e.prev=19,e.next=22,r({type:"save",payload:{imgList:c}});case 22:return e.finish(19);case 23:return e.abrupt("return",c);case 24:case"end":return e.stop()}},e,null,[[8,17,19,23]])}),uploadPic:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,s=n.select,i=n.call,e.next=4,s(function(e){return p()({},e)[v]});case 4:return c=e.sent,o=c.projectId,s=a.base64Code,u=a.fileName,c=a.type,e.prev=7,e.next=10,i(l,{projectId:o||a.projectId,base64Code:s,fileName:u,type:c});case 10:if(u=e.sent,2e4===(u=u.data).code&&u.result)return e.next=15,r({type:"save",payload:{img:u.result}});e.next=17;break;case 15:return e.next=17,r({type:"fetchPicList",payload:{projectId:o||a.projectId,type:c}});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(7);case 21:case"end":return e.stop()}},e,null,[[7,19]])}),deletePic:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,o=n.call,e.next=4,i(function(e){return p()({},e)[v]});case 4:return c=e.sent,s=c.projectId,u=a.id,c=a.type,e.prev=7,e.next=10,o(h,{projectId:s||a.projectId,id:u});case 10:if(u=e.sent,2e4===u.data.code)return e.next=15,r({type:"fetchPicList",payload:{projectId:s||a.projectId,type:c}});e.next=16;break;case 15:m.Z.success("删除成功");case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}},e,null,[[7,18]])})}}},73119:(e,t,u)=>{"use strict";u.d(t,{Z:()=>Q});var n=u(67154),s=u.n(n),a=u(85354),i=u.n(a),r=u(67294),g=u.n(r),h=u(76439),o=u(87219),c=u(45697),l=u.n(c),p=function(e){var t=e.value,n=e.checked,a=e.editable,r=e.onCheck,i=e.onChange,o=e.onDelete,s=e.select,c=e.id,u=e.queEditable,e=e.placeholder;return g().createElement("div",{id:c,className:"yt_nps_checkbox_text_wrapper draggable",onClick:r},u&&o&&s&&g().createElement("i",{className:"icon-cem_move my_handle",onClick:function(e){return e.stopPropagation()}}),g().createElement(h.Z,{className:"content "+(u?"editable":""),id:c,style:{cursor:u?"unset":"pointer",paddingLeft:u&&s?0:22},prefixes:g().createElement("span",{className:"icon_checkbox "+(n?"checkbox_checked":"")}),value:t,placeholder:e,editable:a,onChange:i}),u&&o&&s&&g().createElement("i",{className:"icon-cem_cancel",onClick:o}))};const m=p;p.propTypes={id:l().string,value:l().string,checked:l().bool,editable:l().bool,onChange:l().func,onDelete:l().func,onCheck:l().func,queEditable:l().bool,select:l().bool,placeholder:l().string};var d=u(51474),f=function(a){function e(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(i=a.call.apply(a,[this].concat(t))||this)._handleOnChange=function(t,n){var e=i.props,a=e.onEdit,e=e.options;void 0===n?a&&a({title:t}):a&&a({options:(0,o.ZP)(e,function(e){e[n]=t})})},i._handleOnCheck=function(n){var e=i.props,t=e.onChange,a=e.value,r=e.max;t&&t((0,o.ZP)(a,function(e){var t=e.findIndex(function(e){return e===n});-1<t?e.splice(t,1):(0===r||0<r&&e.length<r)&&e.push(n)}))},i._handleOnAddClick=function(e){var t=i.props,n=t.onEdit,t=t.options;e.stopPropagation(),n&&n({options:(0,o.ZP)(t,function(e){e.push("")})})},i._handleOnDelete=function(e,t){var n=i.props,a=n.onEdit,n=n.options;e.stopPropagation(),a&&a({options:(0,o.ZP)(n,function(e){e.splice(t,1)})})},i}i()(e,a);var t=e.prototype;return t.componentDidMount=function(){var i=this,e=this.props,t=e.id,n=e.queEditable,e=document.getElementById(t);e&&n&&d.ZP.create(e,{group:t,animation:150,filter:".undraggable",draggable:".draggable",handle:".my_handle",onEnd:function(e){var t=i.props,n=t.onEdit,t=t.options,a=e.newIndex,r=e.oldIndex;a!==r&&n&&n({options:(0,o.ZP)(t,function(e){var t=e.splice(r,1)[0];e.splice(a,0,t)})})}})},t.render=function(){var n=this,e=this.props,t=e.title,a=e.titlePrefixes,r=e.options,i=e.editable,o=e.select,s=e.value,c=e.required,u=e.id,l=e.testMsg,p=e.queEditable,d=e.titlePlaceholder,f=e.itemPlaceholder;return g().createElement("div",{className:"yt_nps_checkbox_wrapper"},g().createElement(h.Z,{value:t,placeholder:d,className:"title_style",prefixes:a,editable:i,required:c,onChange:this._handleOnChange}),l&&g().createElement("div",{className:"text_msg"},l),g().createElement("div",{id:u},r.map(function(e,t){return g().createElement(m,{key:e+"_"+t,id:e+"_"+t,value:e,select:o,placeholder:""+f+(t+1),editable:i,checked:!i&&s&&s instanceof Array&&s.includes(e),onChange:function(e){return n._handleOnChange(e,t)},onCheck:function(){return n._handleOnCheck(e)},onDelete:function(e){return n._handleOnDelete(e,t)},queEditable:p})})),p&&o&&g().createElement("span",{onClick:this._handleOnAddClick,className:"edit_add"},g().createElement("i",{className:"icon-cem_add-to",style:{marginRight:4}}),"单增"))},e}(g().PureComponent);const v=f;f.propTypes={id:l().string,title:l().string,required:l().bool,select:l().bool,titlePrefixes:l().oneOfType([l().string,l().node]),value:l().arrayOf(l().number),onChange:l().func,onEdit:l().func,options:l().arrayOf(l().string),editable:l().bool,min:l().number,max:l().number,queEditable:l().bool,titlePlaceholder:l().string,itemPlaceholder:l().string};var x=u(92360),y=function(e){function t(e,t){"min"===e?(t&&s&&s<t&&x.Message.error("最少填写不能大于于最多填写"),a&&a({min:t})):"max"===e?(o&&t&&t<o&&x.Message.error("最多填写不能小于最少填写"),a&&a({max:t})):"required"===e&&a&&a({required:t})}var n=e.required,a=e.onChange,r=e.length,i=e.min,o=void 0===i?0:i,e=e.max,s=void 0===e?0:e,r=Array.from({length:void 0===r?0:r}).reduce(function(e,t,n){return e.push({label:n+1,value:n+1}),e},[{label:"不限",value:0}]);return g().createElement("div",{className:"yt_checkbox_config_wrapper"},g().createElement("div",{className:"title"},"多选题型"),g().createElement("div",{className:"config",style:{marginTop:24}},g().createElement("div",{className:"config_title"},"整题设置"),g().createElement("div",{className:"config_content"},g().createElement("span",null,"此题必答"),g().createElement(x.Switch,{onText:"",offText:"",value:n,style:{marginTop:4},onChange:function(e){t("required",e)}}))),g().createElement("div",{className:"config"},g().createElement("div",{className:"config_content"},g().createElement("span",null,"最少填写"),g().createElement(x.Select,{className:"config_select "+(o&&s&&s<o?"error":""),value:o,onChange:function(e){return t("min",e)}},r.map(function(e){return g().createElement(x.Select.Option,{key:e.value,label:e.label,value:e.value})})))),g().createElement("div",{className:"config"},g().createElement("div",{className:"config_content"},g().createElement("span",null,"最多填写"),g().createElement(x.Select,{className:"config_select "+(o&&s&&s<o?"error":""),value:s,onChange:function(e){return t("max",e)}},r.map(function(e){return g().createElement(x.Select.Option,{key:e.value,label:e.label,value:e.value})})))))};const b=y;y.propTypes={required:l().bool,onChange:l().func,length:l().number,min:l().number,max:l().number};var T=function(t){function e(e){var a=t.call(this,e)||this;return a._handleOnEdit=function(e){var t=a.props,n=t.onConfigChange,t=t.config;n&&n(s()({},t,e))},a._handleOnChange=function(e){var t=a.props.onValueChange;a.state.testMsg&&a.setState({testMsg:""}),t&&t({choosed:e})},a.state={testMsg:""},a}i()(e,t);var n=e.prototype;return n.test=function(){var e=this.props,t=e.value,n=e.config,a=n.required,r=n.min,e=n.max,n="";return a&&0===t.choosed.length?n="请选择以下选项":0<t.choosed.length&&t.choosed.length<r&&(n="最少选择"+r+"项"+(e?"，最多选择"+e+"项":"")),n&&this.setState({testMsg:n}),!n},n.render=function(){var e=this.props,t=e.number,n=e.showType,a=e.value,r=e.select,i=e.status,o=e.config,s=o.title,c=o.options,u=o.required,l=o.min,p=o.max,d=o.titlePlaceholder,e=o.itemPlaceholder,o=this.state.testMsg;return"edit"===n||"answer"===n?g().createElement(v,{key:n,select:r,editable:"answer"!==n,queEditable:"edit"===n&&"DISPATCHED"!==i,required:u,id:n+"_"+t,value:a.choosed,title:s,options:c,titlePlaceholder:d,itemPlaceholder:e,titlePrefixes:t+". ",onEdit:this._handleOnEdit,onChange:this._handleOnChange,min:l,max:p,testMsg:o}):"config"===n?g().createElement(b,{required:u,onChange:this._handleOnEdit,length:c.length,min:l,max:p}):""},e}(r.Component);T.defaultProps={value:{choosed:[],status:"UN_DISPATCH"}};var I=T;T.propTypes={value:l().shape({choosed:l().arrayOf(l().string)}),select:l().bool,onValueChange:l().func,onConfigChange:l().func,showType:l().oneOf(["answer","edit","config"]),number:l().number,status:l().oneOf(["UN_DISPATCH","DELETED","，DISPATCHED","，CLOSED"]),config:l().shape({title:l().string,options:l().arrayOf(l().string),required:l().bool,min:l().number,max:l().number,titlePlaceholder:l().string,itemPlaceholder:l().string})};var w=u(43036),E=(u(5133),/^(?:(http|https|ftp):\/\/)?((?:[\w-]+\.)+[a-z0-9]+)((?:\/[^/?#]*)+)?(\?[^#]+)?(#.+)?$/i);const k=function(t){function e(e){var n=t.call(this,e)||this;return n._handleOnChange=function(e){var t,e=e.target;n.isCompositionHandling||(t=e.value,E.test(t)||""===t?n.setState({urlTip:""},function(){n.props.onEdit({url:t})}):n.setState({urlTip:"请输入正确的格式"}))},n.getOverlay=function(e){return g().createElement("div",{style:{maxWidth:260}},e)},n.state={urlTip:""},n.isCompositionHandling=!1,n}return i()(e,t),e.prototype.render=function(){var e=this,t=this.props,n=(t.questionType,t.url),t=this.state.urlTip;return g().createElement("div",{className:"research_nps_decoration_config_wrapper"},g().createElement("div",{className:"question_key"},"文本展示",g().createElement(w.Z,{overlay:function(){return e.getOverlay("「完整答题页」是指客户完整提交问卷后向其展示的页面 你可以替换图表并设置客户点击图片时打开的落地页，落地页可以抽奖页面或者是优惠券的领取页面。与之对应，你可以将图片换成抽奖或者优惠券相关的图片")},placement:"top"},g().createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c",marginLeft:"4px"}}))),g().createElement("div",{className:"setting"},"整题设置"),g().createElement("div",{className:"edit_url"},g().createElement("span",null,"跳转链接"),g().createElement("input",{defaultValue:n,placeholder:"设置抽奖和优惠券链接",className:""+(t&&"edit_input_error"),type:"text",onChange:this._handleOnChange,onCompositionStart:this._handlingOnComposition,onCompositionUpdate:this._handlingOnComposition,onCompositionEnd:this._handleOnComposition})),t&&g().createElement("p",{className:"tip_text"},t))},e}(g().PureComponent);var C=function(t){function e(e){var a=t.call(this,e)||this;return a._handleOnEdit=function(e){var t=a.props,n=t.onConfigChange,t=t.config;n&&n(s()({},t,e))},a}i()(e,t);var n=e.prototype;return n.componentWillUnmount=function(){},n.render=function(){var e=this.props,t=(e.number,e.showType),e=e.config,n=e.title,a=e.url;switch(t){case"edit":return g().createElement("div",{className:"research_nps_decoration_edit_wrapper"},g().createElement(h.Z,{className:"decoration_title",value:n,editable:!0,onChange:this._handleOnChange}));case"config":return g().createElement(k,{url:a,onEdit:this._handleOnEdit,questionType:"DECORATION"});case"answer":default:return g().createElement("div",{className:"research_nps_decoration_edit_wrapper"},g().createElement(h.Z,{className:"decoration_title",value:n,editable:!1}))}},e}(r.Component),S=C;C.propTypes={value:l().number,onChange:l().func,onEdit:l().func,type:l().oneOf(["answer","edit","config"]),number:l().number,config:l().shape({title:l().string,url:l().string})};var N=/^-?(100|(([1-9]\d|\d)(\.\d{1,2})?))%$/;const _=function(a){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=a.call.apply(a,[this].concat(t))||this)._handleOnChange=function(e,t){var n=r.props,a=n.onEdit;n.type;void 0===t&&a&&a({text:e})},r._handleImgClick=function(){var e=r.props,t=e.editable,e=e.link;!t&&e&&window.open(e)},r}return i()(e,a),e.prototype.render=function(){var t=this,e=this.props,n=e.tailText,a=e.editable,r=e.tailImg,i=e.type,o=e.radius,s=e.align,c=e.width,e=e.link;return g().createElement("div",{className:"research_nps_endPage_edit_wrapper"},g().createElement(h.Z,{className:"endPage_title",value:n,editable:a,onChange:this._handleOnChange}),g().createElement("div",{className:"img_wrap",style:{textAlign:""+s}},g().createElement("div",null,g().createElement("img",{src:r,className:"tailImg_wrap",style:{borderRadius:Number(o)+"px",width:""+(N.test(c)?c:Number(c)+"%"),cursor:e&&!a?"pointer":"default"},onError:function(){t.imgRef1.src="https://yunting-1251101074.coscd.myqcloud.com/questionnaire/bfa4cbc7238b4e4f8f984a20b17face4.png"},ref:function(e){return t.imgRef1=e},onClick:this._handleImgClick}))),"CLOSE_PAGE"===i&&a&&g().createElement("div",{className:"close_wrap"},"关闭"))},e}(g().PureComponent);var O=u(79802),j=/^(?:(http|https|ftp):\/\/)?((?:[\w-]+\.)+[a-z0-9]+)((?:\/[^/?#]*)+)?(\?[^#]+)?(#.+)?$/i;const D=function(t){function e(e){var a=t.call(this,e)||this;return a._handleOnChange=function(e){var t=a.props,t=(t.type,t.onEdit);a.setState({tailLink:e}),j.test(e)||""===e?(t&&t({link:e}),a.setState({urlTip:""})):a.setState({urlTip:"请输入正确的格式"})},a._handleOnUpload=function(){a.logoDialogRef.wrappedInstance.showDialog({logo:a.props.tailImg,width:a.props.width,align:a.props.align,radius:a.props.radius})},a._handleOnConfrim=function(e){var t=a.props,n=t.type,t=t.onEdit;"CLOSE_PAGE"===n?t&&t({img:e.logo,config:{closePageFillet:e.radius,closePageAlignmentType:e.align,closePageWidth:e.width}}):t&&t({img:e.logo,config:{tailFillet:e.radius,tailAlignmentType:e.align,tailWidth:e.width}})},a._handleOnUploadPic=function(e){a.props.uploadPic(s()({},e,{type:a.props.type}))},a.getOverlay=function(e){return g().createElement("div",{style:{maxWidth:260}},e)},a.state={urlTip:"",tailLink:e.tailLink},a}i()(e,t);var n=e.prototype;return n.componentDidUpdate=function(e){e.type!==this.props.type&&(this.state.urlTip&&this.setState({urlTip:""}),this.setState({tailLink:this.props.tailLink}))},n.render=function(){var t=this,e=this.props,n=e.type,a=e.tailImg,r=e.imgList,i=e.radius,o=e.align,s=e.width,c=(e.onEdit,this.state),e=c.urlTip,c=c.tailLink;return g().createElement("div",{className:"research_nps_endPage_config_wrapper"},g().createElement("div",{className:"question_key"},"CLOSE_PAGE"===n?"问卷关闭时的提示页":g().createElement("span",null,"完整答题页配置",g().createElement(w.Z,{overlay:function(){return t.getOverlay("「完整答题页」是指客户完整提交问卷后向其展示的页面 你可以替换图表并设置客户点击图片时打开的落地页，落地页可以抽奖页面或者是优惠券的领取页面。与之对应，你可以将图片换成抽奖或者优惠券相关的图片")},placement:"top"},g().createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c",marginLeft:"4px"}})))),g().createElement("div",{className:"edit_logo"},g().createElement("label",null,"展示图片"),g().createElement("div",{className:"upload_logo",onClick:this._handleOnUpload},g().createElement("img",{src:a,onError:function(){t.imgRef1.src=u(39952)},ref:function(e){return t.imgRef1=e}}),g().createElement("div",null,"修改图片")),g().createElement("span",{className:"upload_logo_trigger",onClick:this._handleOnUpload},"修改图片")),g().createElement("div",{className:"edit_url"},g().createElement("span",null,"跳转链接"),g().createElement(x.Input,{value:c,placeholder:"设置抽奖和优惠券链接",className:""+(e&&"edit_input_error"),type:"text",onChange:this._handleOnChange}),e&&g().createElement("p",{className:"tip_text"},e)),g().createElement(O.Z,{ref:function(e){return t.logoDialogRef=e},onEdit:this._handleOnConfrim,onUpload:this._handleOnUploadPic,logo:a,imgList:r,radius:i,align:o,width:s,type:n}))},e}(g().PureComponent);t=function(t){function e(e){var a=t.call(this,e)||this;return a._handleOnEdit=function(e){var t=a.props,n=t.onConfigChange,t=t.config;n&&n(s()({},t,JSON.parse(JSON.stringify(e))))},a}return i()(e,t),e.prototype.render=function(){var e=this.props,t=e.number,n=e.config,a=n.config,r=n.text,i=n.img,o=n.link,n=e.showType,s=e.type,c=e.onChange,u=e.onUploadPic,l=e.OnDeletePic,p=e.imgList,d="TAIL"===s?a.tailFillet:a.closePageFillet,f="TAIL"===s?a.tailAlignmentType:a.closePageAlignmentType,h="TAIL"===s?a.tailWidth:a.closePageWidth;switch(n){case"edit":return g().createElement(_,{editable:!0,id:"edit_"+t,tailText:r,tailImg:i,onEdit:this._handleOnEdit,onChange:c,type:s,radius:d,align:f,width:h});case"config":return g().createElement(D,{tailText:r,tailImg:i,tailLink:o,status:status,type:s,onEdit:this._handleOnEdit,uploadPic:u,deletePic:l,imgList:p,radius:d,align:f,width:h});case"answer":default:return g().createElement(_,{editable:!1,id:"answer"+t,tailText:r,tailImg:i,onChange:c,type:s,radius:d,align:f,width:h,link:o})}},e}(r.Component),n=t;t.propTypes={number:l().number,onChange:l().func,onEdit:l().func,showType:l().oneOf(["answer","edit","config"]),config:l().shape({text:l().string,img:l().string,link:l().string,config:l().shape({tailFillet:l().string,closePageFillet:l().string,tailAlignmentType:l().string,closePageAlignmentType:l().string,tailWidth:l().string,closePageWidth:l().string})})};a=u(4136);const M=function(r){function e(){for(var a,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(a=r.call.apply(r,[this].concat(t))||this)._handleOnChange=function(e,t){var n=a.props.onEdit;void 0===t&&n&&n({title:e})},a._handleOnCheck=function(e){var t=a.props.onChange;t&&t(e)},a}return i()(e,r),e.prototype.render=function(){var e=this.props,t=e.questionType,n=e.titlePrefixes,a=e.editable,e=e.config;return g().createElement("div",{className:"research_nps_input_edit_wrapper"},"TEXT"===t?g().createElement(h.Z,{className:"input_title",value:e.title,placeholder:e.titlePlaceholder,prefixes:n,editable:a,required:e.required,onChange:this._handleOnChange}):g().createElement(h.Z,{className:"input_title",value:e.title,prefixes:n,editable:a,required:e.required,onChange:this._handleOnChange}),g().createElement("div",{className:"input_wrap"},g().createElement("input",{placeholder:e.tips,readOnly:!0})))},e}(g().PureComponent);const A=function(e){var t=e.type,n=e.tips,a=e.required,r=e.minLength,i=e.maxLength,o=e.onEdit,s="TEXTAREA"===t||"NPS_REASON"===t||"SATISFACTION_REASON"===t?200:20,c=g().useState(i),u=c[0],l=c[1],e=g().useState(""),p=e[0],d=e[1],c=g().useState(r),e=c[0],f=c[1],c=g().useState(""),h=c[0],m=c[1],c=g().useState(""),v=c[0],y=c[1];g().useEffect(function(){l(i)},[i]),g().useEffect(function(){f(r)},[r]);return g().createElement("div",{className:"content"},g().createElement("div",{className:"is_required"},g().createElement("span",null,"此题必答"),g().createElement(x.Switch,{onText:"",offText:"",onColor:"#0747A6",offColor:"#BFBFBF",width:24,value:a,onChange:function(e){o("USER_INFO"===t?{name:{required:e,tips:n,minLength:r,maxLength:i}}:{required:e})}})),void 0!==r&&g().createElement("div",{className:"min_input"},g().createElement("div",null,g().createElement("span",null,"最少填写"),g().createElement("span",null,g().createElement(x.Input,{className:""+(h&&"edit_input_error"),value:e,onChange:function(e){Number(e)===parseFloat(e)&&Number(e)<=s&&0<Number(e)?(f(e),h&&m(""),o("USER_INFO"===t?{name:{minLength:e,tips:n,required:a,maxLength:i}}:{minLength:e})):(f(e),m("请输入1~"+s+"的整数数值"))}}),"字")),h&&g().createElement("p",{className:"tip_text"},h)),void 0!==i&&g().createElement("div",{className:"max_input"},g().createElement("div",null,g().createElement("span",null,"最多填写"),g().createElement("span",null,g().createElement(x.Input,{className:""+(p&&"edit_input_error"),value:u,onChange:function(e){Number(e)===parseFloat(e)&&Number(e)<=s&&0<Number(e)?(l(e),p&&d(""),o("USER_INFO"===t?{name:{maxLength:e,tips:n,required:a,minLength:r}}:{maxLength:e})):(l(e),d("请输入1~"+s+"的整数数值"))}}),"字")),p&&g().createElement("p",{className:"tip_text"},p)),g().createElement("div",{className:"tips"},g().createElement("div",null,g().createElement("span",null,"提示"),g().createElement("textarea",{className:""+(v&&"edit_input_error"),placeholder:"TEXT"===t?"请输入":"请输入内容（最多输入200字）",maxLength:200,autosize:{minRows:4,maxRows:4},value:n,onChange:function(e){e=e.target.value;200<=e.length?y("最多输入200字"):y(""),o("USER_INFO"===t?{name:{tips:e,maxLength:i,required:a,minLength:r}}:{tips:e})},onBlur:function(e){v&&y("")}})),v&&g().createElement("p",{className:"tip_text"},v)))};const L=function(e){var n=e.type,a=e.tips,r=e.required,i=e.questionType,o=e.submitOnlyOnce,s=e.checkFormat,c=e.show,u=e.onEdit,e=g().useState(""),t=e[0],l=e[1];return g().createElement("div",{className:"content"},g().createElement("div",{className:"is_required"},g().createElement("span",null,"此题必答"),g().createElement(x.Switch,{onText:"",offText:"",onColor:"#0747A6",offColor:"#BFBFBF",width:24,value:r,onChange:function(e){var t;u("USER_INFO"===n?((t={})[i.toLowerCase()]={required:e,tips:a,submitOnlyOnce:o,checkFormat:s,show:c},t):{required:e})}})),void 0!==s&&g().createElement("div",{className:"is_required"},g().createElement("span",null,"校验","PHONE"===i?"手机":"邮箱","格式"),g().createElement(x.Switch,{onText:"",offText:"",onColor:"#0747A6",offColor:"#BFBFBF",width:24,value:s,onChange:function(e){var t;u("USER_INFO"===n?((t={})[i.toLowerCase()]={checkFormat:e,required:r,tips:a,submitOnlyOnce:o,show:c},t):{checkFormat:e})}})),g().createElement("div",{className:"tips"},g().createElement("div",null,g().createElement("span",null,"提示"),g().createElement("textarea",{className:""+(t&&"edit_input_error"),placeholder:"请输入内容（最多输入200字）",maxLength:200,autosize:{minRows:4,maxRows:4},value:a,onChange:function(e){var t=e.target.value;200<=t.length?l("最多输入200字"):l(""),u("USER_INFO"===n?((e={})[i.toLowerCase()]={tips:t,submitOnlyOnce:o,required:r,checkFormat:s,show:c},e):{tips:t})},onBlur:function(e){t&&l("")}})),t&&g().createElement("p",{className:"tip_text"},t)))};var P={TEXT:"单行文本题设置",NAME:"姓名",PHONE:"手机",EMAIL:"邮箱",USER_INFO:"客户组合信息"};const F=function(t){function e(e){var p=t.call(this,e)||this;return p.renderContent=function(){var e=p.props,t=e.questionType,n=e.config,a=n.tips,r=n.required,i=n.minLength,o=n.maxLength,s=n.submitOnlyOnce,c=n.checkFormat,u=n.show,l=e.onEdit;switch(t){case"NAME":case"TEXT":return g().createElement(A,{type:t,tips:a,required:r,minLength:i,maxLength:o,onEdit:l});case"PHONE":return g().createElement(L,{type:t,questionType:"PHONE",tips:a,required:r,submitOnlyOnce:s,checkFormat:c,show:u,onEdit:l});case"EMAIL":return g().createElement(L,{type:t,questionType:"EMAIL",tips:a,required:r,submitOnlyOnce:s,checkFormat:c,show:u,onTipsChange:p._handleOnTipsChange,onEdit:l});default:return null}},p.state={},p}return i()(e,t),e.prototype.render=function(){var e=this.props.questionType;return g().createElement("div",{className:"research_nps_input_config_wrapper"},g().createElement("div",{className:"question_key"},P[e]),"USER_INFO"!==e&&g().createElement("div",{className:"setting"},"整题设置"),g().createElement("div",null,this.renderContent()))},e}(g().PureComponent),R=function(n){function e(e){var i=n.call(this,e)||this;i._handleOnChange=function(e){e=e.target.value;i.setState({answer:e,tipText:""},function(){i.test()})},i._handleOnBlur=function(e){var t=i.props,n=t.questionType,a=t.config,r=i.state,t=r.answer,r=r.tipText;a.required?"TEXT"===n||"NAME"===n?t.length?t.length<a.minLength?i.setState({tipText:"最少输入"+a.minLength+"字"}):t.length>a.maxLength&&i.setState({tipText:"最多输入"+a.maxLength+"字"}):i.setState({tipText:"TEXT"===n?"请输入内容":"请填写姓名信息"}):"PHONE"===n?t.length?a.checkFormat&&(/^[1][3,4,5,7,8,9][0-9]{9}$/.test(t)||i.setState({tipText:"请填写正确的手机信息"})):i.setState({tipText:"请填写手机信息"}):"EMAIL"===n&&(t.length?a.checkFormat&&(/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(t)||i.setState({tipText:"请填写正确的邮箱信息"})):i.setState({tipText:"请填写邮箱信息"})):r&&i.setState({tipText:""})},i.test=function(){var e=i.props,t=e.questionType,n=e.onValueChange,e=i.state.answer;i.state.tipText||("TEXT"===t?n&&n({answer:e}):"NAME"===t?n&&n({name:e}):"PHONE"===t?n&&n({phoneNumber:e}):"EMAIL"===t&&n&&n({email:e}))};var t="TEXT"===e.questionType?e.value&&e.value.answer:"NAME"===e.questionType?e.value&&e.value.name:"PHONE"===e.questionType?e.value&&e.value.phoneNumber:e.value&&e.value.email;return i.state={answer:t||"",tipText:e.tipText},i}i()(e,n);var t=e.prototype;return t.componentDidUpdate=function(e){var t=e.tipText,n=e.value,a=this.props,e=a.tipText,a=a.value;JSON.stringify(t)!==JSON.stringify(e)&&this.setState({tipText:e}),JSON.stringify(n)!==JSON.stringify(a)&&(a="TEXT"===this.props.questionType?a&&a.answer:"NAME"===this.props.questionType?a&&a.name:"PHONE"===this.props.questionType?a&&a.phoneNumber:a&&a.email,this.setState({answer:a||""}))},t.render=function(){var e=this.props,t=(e.questionType,e.titlePrefixes),n=e.editable,a=e.config,r=this.state,e=r.answer,r=r.tipText;return g().createElement("div",{className:"research_nps_input_answer_wrapper"},g().createElement(h.Z,{className:"input_title",value:a.title,prefixes:t,editable:n,required:a.required}),r&&g().createElement("div",{className:"tip_text"},r),g().createElement("div",{className:"input_wrap",style:{paddingTop:r?"8px":"10px"}},g().createElement("input",{className:r?"input_error":"",value:e,placeholder:a.tips,onChange:this._handleOnChange,onBlur:this._handleOnBlur})))},e}(g().PureComponent);c=function(t){function e(e){var a=t.call(this,e)||this;return a.test=function(){var e=a.props,t=e.value,n=void 0===t?{answer:"",name:"",phoneNumber:"",email:""}:t,t=e.config,e=e.type;if(t.required){if("TEXT"===e){if(!n.answer.length)return a.setState({tipText:"请输入内容"}),!1;if(n.answer.length<t.minLength)return a.setState({tipText:"最少输入"+t.minLength+"字"}),!1;if(n.answer.length>t.maxLength)return a.setState({tipText:"最多输入"+t.maxLength+"字"}),!1}if("NAME"===e){if(!n.name.length)return a.setState({tipText:"请填写姓名信息"}),!1;if(n.name.length<t.minLength)return a.setState({tipText:"最少输入"+t.minLength+"字"}),!1;if(n.name.length>t.maxLength)return a.setState({tipText:"最多输入"+t.maxLength+"字"}),!1}if("PHONE"===e){if(!n.phoneNumber.length)return a.setState({tipText:"请填写手机信息"}),!1;if(t.checkFormat&&!/^[1][3,4,5,7,8,9][0-9]{9}$/.test(n.phoneNumber))return a.setState({tipText:"请填写正确的手机信息"}),!1}if("EMAIL"===e){if(!n.email.length)return a.setState({tipText:"请填写邮箱信息"}),!1;if(t.checkFormat&&!/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(n.email))return a.setState({tipText:"请填写正确的邮箱信息"}),!1}}return!0},a._handleOnEdit=function(e){var t=a.props,n=t.onConfigChange,t=t.config;n&&n(s()({},t,e))},a._handleOnValue=function(e){var t=a.props.onValueChange;t&&t(s()({},e))},a.state={tipText:""},a}i()(e,t);var n=e.prototype;return n.componentWillUnmount=function(){},n.render=function(){var e=this.props,t=e.number,n=e.onChange,a=e.showType,r=e.type,i=e.value,o=e.config,s=this.state.tipText;switch(a){case"edit":return g().createElement(M,{editable:!0,questionType:r,id:"edit_"+t,config:o,titlePrefixes:t+". ",onEdit:this._handleOnEdit,onChange:n});case"config":return g().createElement(F,{config:o,questionType:r,onEdit:this._handleOnEdit});case"answer":default:return g().createElement(R,{tipText:s,questionType:r,editable:!1,value:i,config:o,titlePrefixes:t+". ",onValueChange:this._handleOnValue})}},e}(r.Component),p=c;c.propTypes={onChange:l().func,onEdit:l().func,showType:l().oneOf(["answer","edit","config"]),number:l().number,config:l().shape({title:l().string,tips:l().string,required:l().bool,minLength:l().number,maxLength:l().number}),type:l().string};var f=function(t){function e(e){var c=t.call(this,e)||this;return c.test=function(){var e=(c.props.value||{}).score,e=!c.props.config.required||void 0!==e;return c.setState({test:e}),e},c.answerRender=function(){var e=c.props.config,t=e.title,n=void 0===t?"请填写题目":t,a=e.text_0,r=e.text_10,i=e.required,t=c.props,e=t.number,o=t.onValueChange,t=c.state.test,s=(c.props.value||{}).score;return g().createElement("div",{className:"questions_nps"},g().createElement(h.Z,{className:"satisfaction_title",value:n,prefixes:e+".",editable:!1,required:i}),!t&&g().createElement("div",{className:"tip"},"请打分"),g().createElement("div",{className:"score"},g().createElement("ul",{className:"clearfix"},new Array(11).fill(0).map(function(e,t){return g().createElement("li",{className:s===t?"sel":"",key:t,onClick:function(){c.setState({test:!0}),o&&o({score:t})}},g().createElement("span",null,t))})),g().createElement("p",{className:"clearfix"},g().createElement("span",null,g().createElement(h.Z,{className:"satisfaction_text",value:a,prefixes:"0：",editable:!1})),g().createElement("span",null,g().createElement(h.Z,{className:"satisfaction_text",value:r,prefixes:"10：",editable:!1})))))},c.editRender=function(){var e=c.props.config,t=e.title,n=void 0===t?"请填写题目":t,a=e.text_0,r=e.text_10,i=e.editable,t=void 0===i||i,i=e.required,e=c.props.number;return g().createElement("div",{className:"questions_nps"},g().createElement(h.Z,{value:n,className:"satisfaction_title",prefixes:e+".",editable:t,required:i,onChange:function(e){return c.props.onConfigChange(s()({},c.props.config,{title:e}))}}),g().createElement("div",{className:"score"},g().createElement("ul",{className:"clearfix"},new Array(11).fill(0).map(function(e,t){return g().createElement("li",{key:t},g().createElement("span",null,t))})),g().createElement("p",{className:"clearfix"},g().createElement("span",null,g().createElement(h.Z,{className:"satisfaction_text",value:a,prefixes:"0：",editable:t,onChange:function(e){return c.props.onConfigChange(s()({},c.props.config,{text_0:e}))}})),g().createElement("span",null,g().createElement(h.Z,{className:"satisfaction_text",value:r,prefixes:"10：",editable:t,onChange:function(e){return c.props.onConfigChange(s()({},c.props.config,{text_10:e}))}})))))},c.configRender=function(){var e=c.props.config.required;return g().createElement("div",{className:"nps_edit"},g().createElement("p",null,"NPS分值题"),g().createElement("h5",null,"整题设置"),g().createElement("div",null,g().createElement("span",null,"此题必答"),g().createElement(x.Switch,{onText:"",offText:"",value:e,onChange:function(e){c.props.onConfigChange(s()({},c.props.config,{required:e}))},style:{marginTop:"4px"}})))},c.renderContent=function(){switch(c.props.showType){case"answer":return c.answerRender();case"edit":return c.editRender();case"config":return c.configRender();default:return null}},c.state={test:!0},c}return i()(e,t),e.prototype.render=function(){return g().createElement("div",null,this.renderContent())},e}(r.Component),y=u(54012),T=u(93913),z=u.n(T),C=function(e){var t=e.value,n=e.checked,a=e.editable,r=e.onCheck,i=e.onChange,o=e.onDelete,s=e.id,c=e.queEditable,u=e.placeholder,e=e.select;return g().createElement("div",{className:"yt_nps_radio_text_wrapper draggable",onClick:r},c&&o&&e&&g().createElement("i",{className:"icon-cem_move my_handle",onClick:function(e){return e.stopPropagation()}}),g().createElement(h.Z,{className:"content "+(c?"editable":""),id:s,style:{cursor:c?"unset":"pointer",paddingLeft:c&&e?0:22},prefixes:g().createElement("span",{className:"icon_radio "+(n?"radio_checked":"")}),value:t,placeholder:u,editable:a,onChange:i}),c&&o&&e&&g().createElement("i",{className:"icon-cem_cancel",onClick:o}))};const V=C;C.propTypes={id:l().string,value:l().string,checked:l().bool,editable:l().bool,onChange:l().func,onDelete:l().func,onCheck:l().func,queEditable:l().bool,select:l().bool,placeholder:l().string};t=function(a){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=a.call.apply(a,[this].concat(t))||this)._handleOnChange=function(t,n){var e=r.props,a=e.onEdit,e=e.options;void 0===n?a&&a({title:t}):a&&a({options:(0,o.ZP)(e,function(e){e[n]=t})})},r._handleOnCheck=function(e){var t=r.props.onChange;t&&t([e])},r._handleOnAddClick=function(e){var t=r.props,n=t.onEdit,t=t.options;e.stopPropagation(),n&&n({options:(0,o.ZP)(t,function(e){e.push("")})})},r._handleOnDelete=function(e,t){var n=r.props,a=n.onEdit,n=n.options;e.stopPropagation(),a&&a({options:(0,o.ZP)(n,function(e){e.splice(t,1)})})},r}i()(e,a);var t=e.prototype;return t.componentDidMount=function(){var i=this,e=this.props,t=e.id,n=e.queEditable,e=document.getElementById(t);e&&n&&d.ZP.create(e,{group:t,animation:150,filter:".undraggable",draggable:".draggable",handle:".my_handle",onEnd:function(e){var t=i.props,n=t.onEdit,t=t.options,a=e.newIndex,r=e.oldIndex;a!==r&&n&&n({options:(0,o.ZP)(t,function(e){var t=e.splice(r,1)[0];e.splice(a,0,t)})})}})},t.render=function(){var n=this,e=this.props,t=e.title,a=e.titlePrefixes,r=e.options,i=e.select,o=e.editable,s=e.value,c=e.required,u=e.id,l=e.testMsg,p=e.queEditable,d=e.titlePlaceholder,f=e.itemPlaceholder;return g().createElement("div",{className:"yt_nps_radio_wrapper"},g().createElement(h.Z,{className:"title_style",value:t,prefixes:a,placeholder:d,editable:o,required:c,onChange:this._handleOnChange}),l&&g().createElement("div",{className:"text_msg"},l),g().createElement("div",{id:u},r.map(function(e,t){return g().createElement(V,{key:e+"_"+t,id:e+"_"+t,value:e,placeholder:""+f+(t+1),editable:o,checked:!o&&s&&s instanceof Array&&s.includes(e),onChange:function(e){return n._handleOnChange(e,t)},onCheck:function(){return n._handleOnCheck(e)},onDelete:function(e){return n._handleOnDelete(e,t)},queEditable:p,select:i})})),p&&i&&g().createElement("span",{onClick:this._handleOnAddClick,className:"edit_add"},g().createElement("i",{className:"icon-cem_add-to",style:{marginRight:4}}),"单增"))},e}(g().PureComponent);t.defaultProps={options:[]};const B=t;t.propTypes={id:l().string,title:l().string,select:l().bool,required:l().bool,titlePrefixes:l().oneOfType([l().string,l().node]),value:l().number,onChange:l().func,onEdit:l().func,options:l().arrayOf(l().string),editable:l().bool,queEditable:l().bool,titlePlaceholder:l().string,itemPlaceholder:l().string};c=function(e){var t=e.required,e=e.onChange;return g().createElement("div",{className:"yt_raido_config_wrapper"},g().createElement("div",{className:"title"},"单选题型"),g().createElement("div",{className:"config"},g().createElement("div",{className:"config_title"},"整题设置"),g().createElement("div",{className:"config_content"},g().createElement("span",null,"此题必答"),g().createElement(x.Switch,{onText:"",offText:"",value:t,onChange:e,style:{marginTop:4}}))))};const q=c;c.propTypes={required:l().bool,onChange:l().func};T=function(t){function e(e){var r=t.call(this,e)||this;return r._handleOnEdit=function(t){var e=r.props,n=e.onConfigChange,e=e.config;n&&n((0,o.ZP)(e,function(e){void 0!==t.title?e.title=t.title:void 0!==t.options?e.options=t.options:void 0!==t.required&&(e.required=t.required)}))},r._handleOnConfigChange=function(e){r._handleOnEdit({required:e})},r._handleOnChange=function(e){var t=r.props,n=t.onValueChange,a=t.type;r.state.testMsg&&r.setState({testMsg:""});t=e;"SEX"===a&&(t=e[0]),n&&n(((n={})[r.paramName]=t,n))},r.state={testMsg:""},r}i()(e,t);var n=e.prototype;return n.test=function(){var e=this.props,t=e.value,n=e.config,e=e.type;return!(n.required&&("SEX"===e?!t.sex:0===t.choosed.length))||(this.setState({testMsg:"请选择一个选项"}),!1)},n.render=function(){var e=this.props,t=e.number,n=e.showType,a=e.value,r=e.select,i=e.status,o=e.type,s=e.config,c=s.title,u=s.options,l=s.required,p=s.itemPlaceholder,e=s.titlePlaceholder,s=this.state.testMsg,a=a[this.paramName];return"SEX"===o&&(a=a?[a]:[]),"edit"===n||"answer"===n?g().createElement(B,{key:n,editable:"answer"!==n,queEditable:"edit"===n&&"DISPATCHED"!==i,select:r,required:l,id:n+"_"+t,value:a,itemPlaceholder:p,titlePlaceholder:e,title:c,options:u,titlePrefixes:t+". ",onEdit:this._handleOnEdit,onChange:this._handleOnChange,testMsg:s}):"config"===n?g().createElement(q,{required:l,onChange:this._handleOnConfigChange}):""},z()(e,[{key:"paramName",get:function(){return"SEX"===this.props.type?"sex":"choosed"}}]),e}(r.Component);T.defaultProps={value:{choosed:[],sex:"",status:"UN_DISPATCH"}};C=T;T.propTypes={value:l().number,select:l().bool,onValueChange:l().func,onConfigChange:l().func,showType:l().oneOf(["answer","edit","config"]),number:l().number,status:l().oneOf(["UN_DISPATCH","DELETED","，DISPATCHED","，CLOSED"]),config:l().shape({title:l().string,options:l().arrayOf(l().string),required:l().bool,titlePlaceholder:l().string,itemPlaceholder:l().string})};t=function(t){function e(e){var u=t.call(this,e)||this;return u.test=function(){var e=(u.props.value||{}).score,e=!u.props.config.required||void 0!==e;return u.setState({test:e}),e},u.answerRender=function(){var e=u.props.config,t=e.title,n=void 0===t?"请填写题目":t,a=e.star_1,r=e.star_3,i=e.star_5,o=e.required,t=u.props,e=t.number,s=t.onValueChange,t=u.state.test,c=(u.props.value||{}).score;return g().createElement("div",{className:"questions_satisfaction"},g().createElement(h.Z,{className:"satisfaction_title",value:n,prefixes:e+".",editable:!1,required:o}),!t&&g().createElement("div",{className:"tip"},"请打分"),g().createElement("div",{className:"score"},g().createElement("ul",null,new Array(5).fill(0).map(function(e,t){return g().createElement("li",{className:t+1<=c?"sel":"",key:t,onClick:function(){u.setState({test:!0}),s&&s({score:t+1})}},g().createElement("i",{className:"icon-cem_star-filling"}))})),g().createElement("p",{className:"clearfix"},g().createElement("span",null,g().createElement("span",null,g().createElement(h.Z,{className:"satisfaction_text",value:a,editable:!1}))),g().createElement("span",null,g().createElement("span",null,g().createElement(h.Z,{className:"satisfaction_text",value:r,editable:!1}))),g().createElement("span",null,g().createElement("span",null,g().createElement(h.Z,{className:"satisfaction_text",value:i,editable:!1}))))))},u.editRender=function(){var e=u.props.config,t=e.title,n=void 0===t?"请填写题目":t,a=e.star_1,r=e.star_3,i=e.star_5,o=e.editable,t=void 0===o||o,o=e.required,e=u.props.number;return g().createElement("div",{className:"questions_satisfaction"},g().createElement(h.Z,{className:"satisfaction_title",value:n,prefixes:e+".",editable:t,onChange:function(e){return u.props.onConfigChange(s()({},u.props.config,{title:e}))},required:o}),g().createElement("div",{className:"score"},g().createElement("ul",null,new Array(5).fill(0).map(function(e,t){return g().createElement("li",{key:t},g().createElement("i",{className:"icon-cem_star-filling"}))})),g().createElement("p",{className:"clearfix"},g().createElement("span",null,g().createElement("span",null,g().createElement(h.Z,{className:"satisfaction_text",value:a,editable:t,onChange:function(e){return u.props.onConfigChange(s()({},u.props.config,{star_1:e}))}}))),g().createElement("span",null,g().createElement("span",null,g().createElement(h.Z,{className:"satisfaction_text",value:r,editable:t,onChange:function(e){return u.props.onConfigChange(s()({},u.props.config,{star_3:e}))}}))),g().createElement("span",null,g().createElement("span",null,g().createElement(h.Z,{className:"satisfaction_text",value:i,editable:t,onChange:function(e){return u.props.onConfigChange(s()({},u.props.config,{star_5:e}))}}))))))},u.configRender=function(){var e=u.props.config.required;return g().createElement("div",{className:"satisfaction_edit"},g().createElement("p",null,"满意度分值题"),g().createElement("h5",null,"整题设置"),g().createElement("div",null,g().createElement("span",null,"此题必答"),g().createElement(x.Switch,{style:{marginTop:"4px"},onText:"",offText:"",value:e,onChange:function(e){return u.props.onConfigChange(s()({},u.props.config,{required:e}))}})))},u.renderContent=function(){switch(u.props.showType){case"answer":return u.answerRender();case"edit":return u.editRender();case"config":return u.configRender();default:return null}},u.state={test:!0},u}return i()(e,t),e.prototype.render=function(){return g().createElement("div",null,this.renderContent())},e}(r.Component);const U=function(r){function e(){for(var a,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(a=r.call.apply(r,[this].concat(t))||this)._handleOnChange=function(e,t){var n=a.props.onEdit;void 0===t&&n&&n({title:e})},a._handleOnCheck=function(e){var t=a.props.onChange;t&&t(e)},a._handleOnTipsChange=function(e){var t=e.target,e=a.props.onEdit,t=t.value;1<t.length&&e&&e({tips:t})},a}return i()(e,r),e.prototype.render=function(){var e=this.props,t=e.questionType,n=e.title,a=e.titlePlaceholder,r=e.titlePrefixes,i=e.editable,o=e.tips,e=e.required;return g().createElement("div",{className:"research_nps_textarea_edit_wrapper"},"TEXTAREA"===t?g().createElement(h.Z,{className:"textarea_title",value:n,placeholder:a,prefixes:r,editable:i,required:e,onChange:this._handleOnChange}):g().createElement(h.Z,{className:"textarea_title",value:n,prefixes:r,editable:i,required:e,onChange:this._handleOnChange}),g().createElement("div",{className:"textarea_wrap"},g().createElement("textarea",{placeholder:o,onChange:this._handleOnTipsChange,readOnly:!0})))},e}(g().PureComponent),H=function(n){function e(e){var o=n.call(this,e)||this;o._handleOnTipsChange=function(e){e=e.target.value;o.setState({answer:e,tipText:""},function(){o.test()})},o._handleOnBlur=function(e){var t=o.props,n=t.required,a=t.minLength,r=t.maxLength,i=o.state,t=i.answer,i=i.tipText;n?t.length?t.length<a?o.setState({tipText:"最少输入"+a+"字"}):t.length>r&&o.setState({tipText:"最多输入"+r+"字"}):o.setState({tipText:"请输入内容"}):i&&o.setState({tipText:""})},o.test=function(){var e=o.props,t=e.questionType,e=e.onValueChange;o.state.tipText||("NPS_REASON"===t||"SATISFACTION_REASON"===t?e&&e({reason:o.state.answer}):"TEXTAREA"===t&&e&&e({answer:o.state.answer}))};var t="TEXTAREA"===e.questionType?e.value&&e.value.answer:e.value&&e.value.reason;return o.state={answer:t||"",tipText:e.tipText},o}i()(e,n);var t=e.prototype;return t.componentDidUpdate=function(e){var t=e.tipText,n=e.value,a=this.props,e=a.tipText,a=a.value;JSON.stringify(t)!==JSON.stringify(e)&&this.setState({tipText:e}),JSON.stringify(n)!==JSON.stringify(a)&&(a="TEXTAREA"===this.props.questionType?a&&a.answer:a&&a.reason,this.setState({answer:a||""}))},t.render=function(){var e=this.props,t=e.title,n=e.titlePrefixes,a=e.editable,r=e.tips,i=e.required,o=this.state,e=o.answer,o=o.tipText;return g().createElement("div",{className:"research_nps_textarea_answer_wrapper"},g().createElement(h.Z,{className:"textarea_title",value:t,prefixes:n,editable:a,required:i}),o&&g().createElement("div",{className:"tip_text"},o),g().createElement("div",{className:"textarea_wrap",style:{paddingTop:o?"8px":"10px"}},g().createElement("textarea",{className:o?"text_error":"",placeholder:r,value:e,onBlur:this._handleOnBlur,onChange:this._handleOnTipsChange})))},e}(g().PureComponent);var W={NPS_REASON:"NPS原因题",SATISFACTION_REASON:"满意度原因题",TEXTAREA:"多行文本题"};const Z=function(t){function e(e){e=t.call(this,e)||this;return e.state={},e}return i()(e,t),e.prototype.render=function(){var e=this.props,t=e.questionType,n=e.onEdit,a=e.tips,r=e.required,i=e.minLength,e=e.maxLength;return g().createElement("div",{className:"research_nps_input_config_wrapper"},g().createElement("div",{className:"question_key"},W[t]),g().createElement("div",{className:"setting"},"整题设置"),g().createElement(A,{type:t,tips:a,required:r,minLength:i,maxLength:e,onEdit:n}))},e}(g().PureComponent);c=function(t){function e(e){var i=t.call(this,e)||this;return i.test=function(){var e=i.props,t=e.type,n=e.config,a=n.required,r=n.minLength,n=n.maxLength,e=e.value,e=void 0===e?{answer:"",reason:""}:e;if(a){if("TEXTAREA"===t){if(!e.answer.length)return i.setState({tipText:"请输入内容"}),!1;if(e.answer.length<r)return i.setState({tipText:"最少输入"+r+"字"}),!1;if(e.answer.length>n)return i.setState({tipText:"最多输入"+n+"字"}),!1}if("NPS_REASON"===t||"SATISFACTION_REASON"===t){if(!e.reason.length)return i.setState({tipText:"请输入内容"}),!1;if(e.reason.length<r)return i.setState({tipText:"最少输入"+r+"字"}),!1;if(e.reason.length>n)return i.setState({tipText:"最多输入"+n+"字"}),!1}}return!0},i._handleOnEdit=function(e){var t=i.props,n=t.onConfigChange,t=t.config;n&&n(s()({},t,e))},i._handleOnValue=function(e){var t=i.props.onValueChange;t&&t(s()({},e))},i.state={tipText:""},i}i()(e,t);var n=e.prototype;return n.componentWillUnmount=function(){},n.render=function(){var e=this.props,t=e.number,n=e.showType,a=e.type,r=e.config,i=r.title,o=r.titlePlaceholder,s=r.tips,c=r.required,u=r.minLength,l=r.maxLength,p=e.value,d=this.state.tipText;switch(n){case"edit":return g().createElement(U,{questionType:a,editable:!0,required:c,id:"edit_"+t,title:i,titlePlaceholder:o,tips:s,titlePrefixes:t+". ",onEdit:this._handleOnEdit});case"config":return g().createElement(Z,{required:c,tips:s,minLength:u,maxLength:l,onEdit:this._handleOnEdit,questionType:a});case"answer":default:return g().createElement(H,{editable:!1,required:c,minLength:u,maxLength:l,value:p,title:i,tips:s,questionType:a,titlePrefixes:t+". ",onValueChange:this._handleOnValue,onEdit:this._handleOnEdit,tipText:d})}},e}(r.Component),T=c;c.propTypes={number:l().number,onChange:l().func,onEdit:l().func,showType:l().oneOf(["answer","edit","config"]),config:l().shape({required:l().bool,title:l().string,tips:l().string,minLength:l().number,maxLength:l().number})};var J={name:"姓名",phone:"手机",email:"邮箱"},c=function(r){function e(){for(var a,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(a=r.call.apply(r,[this].concat(t))||this)._handleOnChange=function(e,t){var n=a.props.onEdit;void 0===t&&n&&n({title:e})},a._handleOnCheck=function(e){var t=a.props.onChange;t&&t(e)},a}return i()(e,r),e.prototype.render=function(){var e=this.props,t=e.titlePrefixes,n=e.editable,a=e.config;return g().createElement("div",{className:"research_nps_input_edit_wrapper"},g().createElement(h.Z,{className:"input_title",value:a.title,prefixes:t,editable:n,required:a.name.required&&a.phone.required&&a.email.required,onChange:this._handleOnChange}),g().createElement(g().Fragment,null,["name","phone","email"].map(function(e,t){return g().createElement("div",{className:"input_wrap",key:e,style:{paddingTop:0===t?"10px":"12px"}},g().createElement("i",{className:"is_required",style:{visibility:a[e].required?"visible":"hidden"}},"*"),g().createElement("input",{placeholder:a&&a[e]?a[e].tips:J[e],readOnly:!0}))})))},e}(g().PureComponent);c.defaultProps={items:[]};const Y=c,G=function(t){function e(e){e=t.call(this,e)||this;return e.state={},e}return i()(e,t),e.prototype.render=function(){var e=this.props,t=e.onEdit,n=e.config,a=n.name,e=n.phone,n=n.email;return g().createElement("div",{className:"research_nps_input_config_wrapper"},g().createElement("div",{className:"question_key"},"客户组合信息"),g().createElement("div",{className:"setting"},"整题设置"),g().createElement("div",{className:"setting"},"姓名"),g().createElement(A,{type:"USER_INFO",tips:a.tips,required:a.required,minLength:a.minLength,maxLength:a.maxLength,onEdit:t}),g().createElement("div",{className:"setting"},"手机"),g().createElement(L,{type:"USER_INFO",questionType:"PHONE",tips:e.tips,required:e.required,submitOnlyOnce:e.submitOnlyOnce,checkFormat:e.checkFormat,show:e.show,onEdit:t}),g().createElement("div",{className:"setting"},"邮箱"),g().createElement(L,{type:"USER_INFO",questionType:"EMAIL",tips:n.tips,required:n.required,submitOnlyOnce:n.submitOnlyOnce,checkFormat:n.checkFormat,show:n.show,onEdit:t}))},e}(g().PureComponent),K=function(t){function e(e){var o=t.call(this,e)||this;return o._handleOnChange=function(e,t){var n=o.props.onEdit;void 0===t&&n&&n({title:e})},o._handleOnName=function(e){e=e.target.value;o.setState({name:e,tipText:""},function(){o.test()})},o._handleOnEmail=function(e){e=e.target.value;o.setState({email:e,tipText:""},function(){o.test()})},o._handleOnPhone=function(e){e=e.target.value;o.setState({phone:e,tipText:""},function(){o.test()})},o._handleOnBlur=function(e){var t=o.props.config,n=o.state,a=n.name,r=n.phone,i=n.email;n.tipText;t.phone.required&&(r.length?t.phone.checkFormat&&(/^[1][3,4,5,7,8,9][0-9]{9}$/.test(r)||o.setState({tipText:"请填写正确的手机信息"})):o.setState({tipText:"请填写手机信息"})),t.email.required&&(i.length?t.email.checkFormat&&(/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(i)||o.setState({tipText:"请填写正确的邮箱信息"})):o.setState({tipText:"请填写邮箱信息"})),t.name.required&&(a.length?a.length<t.name.minLength?o.setState({tipText:"最少输入"+t.name.minLength+"字"}):a.length>t.name.maxLength&&o.setState({tipText:"最多输入"+t.name.maxLength+"字"}):o.setState({tipText:"请填写姓名信息"})),o.state.tipText&&o.setState({tipText:""})},o.test=function(){var e=o.props.onValueChange,t=o.state,n=t.name,a=t.phone,t=t.email;o.state.tipText||e&&e({name:n,phoneNumber:a,email:t})},o.state={name:e.value&&e.value.name||"",email:e.value&&e.value.email||"",phone:e.value&&e.value.phoneNumber||"",tipText:e.tipText},o}i()(e,t);var n=e.prototype;return n.componentDidUpdate=function(e){var t=e.tipText,n=e.value,a=this.props,e=a.tipText,a=a.value;JSON.stringify(t)!==JSON.stringify(e)&&this.setState({tipText:e}),JSON.stringify(n)!==JSON.stringify(a)&&this.setState({name:a.name&&a.name||"",email:a.email&&a.email||"",phone:a.phoneNumber&&a.phoneNumber||""})},n.render=function(){var e=this,t=this.props,n=t.titlePrefixes,a=t.editable,r=t.config,i=this.state,o=i.tipText,s=i.name,t=i.phone,i=i.email;return g().createElement("div",{className:"research_nps_input_answer_wrapper"},g().createElement(h.Z,{className:"input_title",value:r.title,prefixes:n,editable:a,required:r.name.required&&r.phone.required&&r.email.required,onChange:this._handleOnChange}),o&&g().createElement("div",{className:"tip_text"},o),g().createElement("div",{className:"input_wrap",style:{paddingTop:o?"8px":"10px"}},g().createElement("i",{className:"is_required",style:{visibility:r.name.required?"visible":"hidden"}},"*"),g().createElement("input",{className:o&&o.includes("姓名")||o.includes("最多")||o.includes("最少")?"input_error":"",placeholder:r&&r.name?r.name.tips:"姓名",onChange:this._handleOnName,value:s,onBlur:this._handleOnBlur})),g().createElement("div",{className:"input_wrap",style:{paddingTop:12}},g().createElement("i",{className:"is_required",style:{visibility:r.email.required?"visible":"hidden"}},"*"),g().createElement("input",{className:o&&o.includes("邮箱")?"input_error":"",placeholder:r&&r.email?r.email.tips:"邮箱",onChange:this._handleOnEmail,onFocus:function(){o&&e.setState({tipText:""})},value:i,onBlur:this._handleOnBlur})),g().createElement("div",{className:"input_wrap",style:{paddingTop:12}},g().createElement("i",{className:"is_required",style:{visibility:r.phone.required?"visible":"hidden"}},"*"),g().createElement("input",{className:o&&o.includes("手机")?"input_error":"",placeholder:r&&r.phone?r.phone.tips:"手机",onChange:this._handleOnPhone,value:t,onBlur:this._handleOnBlur})))},e}(g().PureComponent);c=function(t){function e(e){var r=t.call(this,e)||this;return r.test=function(){var e=r.props,t=e.config,n=t.name,a=t.phone,t=t.email,e=e.value,e=void 0===e?{name:"",phoneNumber:"",email:""}:e;if(n.required){if(!e.name.length)return r.setState({tipText:"请填写姓名信息"}),!1;if(e.name.length<n.minLength)return r.setState({tipText:"最少输入"+n.minLength+"字"}),!1;if(e.name.length>n.maxLength)return r.setState({tipText:"最多输入"+n.maxLength+"字"}),!1}if(t.required){if(!e.email.length)return r.setState({tipText:"请填写邮箱信息"}),!1;if(t.checkFormat&&!/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(e.email))return r.setState({tipText:"请填写正确的邮箱信息"}),!1}if(a.required){if(!e.phoneNumber.length)return r.setState({tipText:"请填写手机信息"}),!1;if(a.checkFormat&&!/^[1][3,4,5,7,8,9][0-9]{9}$/.test(e.phoneNumber))return r.setState({tipText:"请填写正确的手机信息"}),!1}return!0},r._handleOnEdit=function(e){var t=r.props,n=t.onConfigChange,t=t.config;n&&n(s()({},t,e))},r._handleOnValue=function(e){var t=r.props.onValueChange;t&&t(s()({},e))},r.state={tipText:""},r}return i()(e,t),e.prototype.render=function(){var e=this.props,t=e.number,n=e.onChange,a=e.showType,r=e.config,i=e.value,o=this.state.tipText;switch(a){case"edit":return g().createElement(Y,{editable:!0,id:"edit_"+t,config:r,titlePrefixes:t+". ",onEdit:this._handleOnEdit,onChange:n});case"config":return g().createElement(G,{config:r,questionType:"USER_INFO",onEdit:this._handleOnEdit});case"answer":default:return g().createElement(K,{tipText:o,editable:!1,value:i,config:r,titlePrefixes:t+". ",onValueChange:this._handleOnValue})}},e}(r.Component),r=c;c.propTypes={onChange:l().func,onEdit:l().func,showType:l().oneOf(["answer","edit","config"]),number:l().number,config:l().shape({title:l().string,name:{tips:l().string,required:l().bool,minLength:l().number,maxLength:l().number},phone:{tips:l().string,required:l().bool,submitOnlyOnce:l().bool,checkFormat:l().bool,show:l().bool},email:{tips:l().string,required:l().bool,submitOnlyOnce:l().bool,checkFormat:l().bool,show:l().bool}})};const Q={Checkbox:I,Decoration:S,EndPage:n,Header:a.Z,Input:p,Nps:f,PaginationButton:y.Z,Radio:C,Satisfaction:t,Textarea:T,UserInfo:r}},5877:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(67154),v=n.n(a),t=n(87757),b=n.n(t),a=n(48926),r=n.n(a),T=n(36144);function y(e){return i.apply(this,arguments)}function i(){return(i=r()(b().mark(function e(t){var n,a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.id,r=t.desc,i=t.showLogo,o=t.logo,s=t.headTitle,c=t.headText,u=t.everyPageShow,l=t.prevText,p=t.nextText,d=t.submitText,f=t.types,h=t.config,m=t.tailPage,v=t.closePage,y=t.questionTypes,g=t.projectId,x=t.boardList,e.abrupt("return",T.h.post("/questionnaire/"+(a?"update":"add"),{name:n,id:a,desc:r,showLogo:i,logo:o,headTitle:s,headText:c,everyPageShow:u,prevText:l,nextText:p,submitText:d,types:f,config:h,tailPage:m,closePage:v,questionTypes:y,projectId:g,boardList:x}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return o.apply(this,arguments)}function o(){return(o=r()(b().mark(function e(t){var n,a,r,i;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.detailId,r=t.channel,i=t.isAnswer,e.abrupt("return",i?T.h.post("/questionnaire/find-for-answer-page",{id:n,detailId:a,channel:r}):T.h.post("/questionnaire/detail",{id:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(e){var t=e.id,e=e.status;return T.h.post("/questionnaire/status/change",{id:t,status:e})}function c(e){e=e.projectId;return T.h.post("/questionnaire/board/list",{projectId:e,more:!1})}var t=n(64396),a=n(14187),g=n(89565),x=t.Z.research.questions,u={projectId:void 0,id:void 0,status:"UN_DISPATCH",name:"",desc:"",pageButtonConfig:{prevText:"上一页",nextText:"下一页",submitText:"提交",type:a.ns.PAGINATION},headerConfig:{showLogo:!0,headTitle:"客户体验调查问卷",headText:"我用百分努力，期待你的10分推荐，感谢你的宝贵意见",everyPageShow:!1,logo:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/c529a30196174ad98009adc6ba063c3d.png",config:{logoFillet:"0",logoAlignmentType:"CENTER",logoWidth:"25%"},type:a.ns.HEADER},list:[],dashboardOptions:[],boardList:[]};const l={namespace:x,state:JSON.parse(JSON.stringify(u)),reducers:{save:function(e,t){t=t.payload;return v()({},e,t)},clear:function(e,t){t.payload;return v()({},e,Object.assign({},JSON.parse(JSON.stringify(u))))},onPageButtonConfig:function(e,t){t=t.payload;return v()({},e,{pageButtonConfig:t.config})},onHeaderConfig:function(e,t){t=t.payload;return v()({},e,{headerConfig:t.config})}},effects:{addPage:b().mark(function e(t,n){var a,r,i,o;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.t0=JSON,e.t1=JSON,e.next=6,i(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),o=e.t0.parse.call(e.t0,e.t3),i=o.list,o=a.index,i.splice(o+1,0,{select:!0,endPage:!1,questionTypes:[],sortId:(new Date).getTime()}),e.next=14,r({type:"save",payload:{list:i}});case 14:case"end":return e.stop()}},e)}),delPage:b().mark(function e(t,n){var a,r,i,o;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.t0=JSON,e.t1=JSON,e.next=6,i(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),o=e.t0.parse.call(e.t0,e.t3),i=o.list,o=a.index,i[o].select&&(0===o?i[1].select=!0:i[o-1].select=!0),i.splice(o,1),e.next=15,r({type:"save",payload:{list:i}});case 15:case"end":return e.stop()}},e)}),pageChange:b().mark(function e(t,n){var a,r,i,o;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.t0=JSON,e.t1=JSON,e.next=6,i(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),i=e.t0.parse.call(e.t0,e.t3),i=i.list,o=a.index,i.forEach(function(e,t){t===o?(e.select=!0,e.questionTypes&&e.questionTypes.forEach(function(e,t){e.select=0===t})):e.select=!1}),e.next=14,r({type:"save",payload:{list:i}});case 14:case"end":return e.stop()}},e)}),pageSort:b().mark(function e(t,n){var a,r,i,o,s;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,e.t0=JSON,e.t1=JSON,e.next=6,o(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),s=e.t0.parse.call(e.t0,e.t3),i=s.list,o=a.oldIndex,s=a.newIndex,i.splice(s,0,i.splice(o,1)[0]),e.next=14,r({type:"save",payload:{list:i}});case 14:case"end":return e.stop()}},e)}),addQues:b().mark(function e(t,n){var a,r,i,o;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.t0=JSON,e.t1=JSON,e.next=6,i(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),i=e.t0.parse.call(e.t0,e.t3),i=i.list,o=a.type,i.forEach(function(e,t){e.select&&(e.questionTypes.forEach(function(e){e.select=!1}),e.questionTypes.push({config:g.Ou[o],value:{},select:!0,editable:!0,type:o,sortId:(new Date).getTime()}))}),e.next=14,r({type:"save",payload:{list:i}});case 14:case"end":return e.stop()}},e)}),delQues:b().mark(function e(t,n){var a,r,i,o;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.t0=JSON,e.t1=JSON,e.next=6,i(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),i=e.t0.parse.call(e.t0,e.t3),i=i.list,o=a.index,i.forEach(function(e){e.select&&e.questionTypes.splice(o,1)}),e.next=14,r({type:"save",payload:{list:i}});case 14:case"end":return e.stop()}},e)}),quesChange:b().mark(function e(t,n){var a,r,i,o;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.t0=JSON,e.t1=JSON,e.next=6,i(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),i=e.t0.parse.call(e.t0,e.t3),i=i.list,o=a.index,i.forEach(function(e){e.select&&e.questionTypes.forEach(function(e,t){e.select=!1,o===t&&(e.select=!0)})}),e.next=14,r({type:"save",payload:{list:i}});case 14:case"end":return e.stop()}},e)}),quesSort:b().mark(function e(t,n){var a,r,i,o,s;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.t0=JSON,e.t1=JSON,e.next=6,i(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),i=e.t0.parse.call(e.t0,e.t3),i=i.list,o=a.oldIndex,s=a.newIndex,i.forEach(function(e,t){e.select&&e.questionTypes.splice(s,0,e.questionTypes.splice(o,1)[0])}),e.next=14,r({type:"save",payload:{list:i}});case 14:case"end":return e.stop()}},e)}),configChange:b().mark(function e(t,n){var a,r,i,o,s;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.t0=JSON,e.t1=JSON,e.next=6,i(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),i=e.t0.parse.call(e.t0,e.t3),i=i.list,o=a.value,s=a.index,i.find(function(e){return!!e.select&&(e.questionTypes[s].config=o,!0)}),e.next=14,r({type:"save",payload:{list:i}});case 14:case"end":return e.stop()}},e)}),fetchConfig:b().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,l=n.select,i=n.call,e.t0=JSON,e.t1=JSON,e.next=6,l(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),p=e.t0.parse.call(e.t0,e.t3),o=p.id,s=a.id,c=a.isAnswer,u=a.copy,l=a.detailId,p=a.channel,e.next=13,i(d,{id:s||o,isAnswer:c,detailId:l,channel:p});case 13:return p=e.sent,p=p.data.result,e.next=17,r({type:"save",payload:v()({},p?(0,g.a8)(p,u):{status:"DELETED"},((p={})[u?"status":void 0]="UN_DISPATCH",p))});case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e)}),submit:b().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,p=n.select,r=n.call,i=n.put,e.t0=JSON,e.t1=JSON,e.next=6,p(function(e){return v()({},e)[x]});case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),f=e.t0.parse.call(e.t0,e.t3),o=f.list,s=f.pageButtonConfig,c=f.headerConfig,u=f.name,l=f.desc,p=f.projectId,d=f.id,f=f.boardList,e.next=19,r(y,v()({name:a.name||u,id:d,desc:a.desc||l,projectId:p,boardList:a.boardList||f,types:a.types},(0,g.C_)({list:o,pageButtonConfig:s,headerConfig:c})));case 19:return h=e.sent,h=h.data,m=o.reduce(function(e,t){return e.concat(t.questionTypes)},[]),h.result&&h.result.questionIds&&h.result.questionIds.forEach(function(n,a){m.forEach(function(e,t){a===t&&(e.id=n)})}),e.next=25,i({type:"save",payload:v()({id:h.result&&h.result.id?h.result.id:d,list:o},a)});case 25:return e.abrupt("return",h);case 26:case"end":return e.stop()}},e)}),updateStatus:b().mark(function e(t,n){var a,r,i,o;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.select,a=n.call,r=n.put,e.next=3,i(function(e){return v()({},e)[x]});case 3:return i=e.sent,i=i.id,e.next=7,a(s,{id:i,status:"DISPATCHED"});case 7:return o=e.sent,o=o.data,e.next=11,r({type:"save",payload:{status:"DISPATCHED"}});case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}),fetchDashboardList:b().mark(function e(t,n){var a,r,i,o;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.select,r=n.call,i=n.put,e.next=3,a(function(e){return v()({},e)[x]});case 3:return o=e.sent,o=o.projectId,e.prev=5,e.next=8,r(c,{projectId:o});case 8:if(o=e.sent,2e4===(o=o.data).code)return e.next=13,i({type:"save",payload:{dashboardOptions:o.result.result.map(function(e){var t=e.id;return{label:e.name,value:t,type:e.type}})}});e.next=13;break;case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(5);case 17:case"end":return e.stop()}},e,null,[[5,15]])})}}},14187:(e,t,n)=>{"use strict";n.d(t,{ns:()=>i,yK:()=>o,yx:()=>s,F6:()=>a});var n=n(39432),a={NPS_SCORE:"NPS",NPS_REASON:"NPS原因",SATISFACTION:"满意度",SATISFACTION_REASON:"满意度原因",SINGLE_CHOICE:"单选题",MULTIPLE_CHOICE:"多选题",USER_INFO:"客户信息题",TEXT:"单行文本题",TEXTAREA:"多行文本题",NAME:"姓名",PHONE:"手机",EMAIL:"邮箱",SEX:"性别"},r={DECORATION:"装饰信息",HEADER:"问卷头部",TAIL:"感谢页",CLOSE_PAGE:"关闭页",PAGINATION:"分页按钮"},i=(0,n.Li)(Object.assign(a,r)),o={NPS_SCORE:"Nps",TEXT:"Input",NAME:"Input",PHONE:"Input",EMAIL:"Input",SEX:"Radio",USER_INFO:"UserInfo",NPS_REASON:"Textarea",SATISFACTION_REASON:"Textarea",TEXTAREA:"Textarea",SATISFACTION:"Satisfaction",DECORATION:"Decoration",HEADER:"Header",TAIL:"EndPage",CLOSE_PAGE:"EndPage",SINGLE_CHOICE:"Radio",MULTIPLE_CHOICE:"Checkbox",PAGINATION:"PaginationButton"},s=function(e){return Object.keys(a).filter(function(e){return!Object.keys(r).includes(e)}).includes(e)}},89565:(e,t,n)=>{"use strict";n.d(t,{P0:()=>o,Ou:()=>a,C_:()=>s,a8:()=>c});var t=n(67154),i=n.n(t),r=n(14187),a=((n={})[r.ns.NPS_SCORE]={text_0:"不太可能",text_10:"极有可能",required:!0,title:"您向朋友或同事推荐我们的可能性有多大？"},n[r.ns.SATISFACTION]={star_1:"很不满意",star_3:"一般",star_5:"很满意",required:!0,title:"请对本次购买体验打分"},n[r.ns.TEXT]={required:!0,minLength:1,maxLength:20,title:"",titlePlaceholder:"请编辑文本",tips:"请输入"},n[r.ns.NAME]={required:!0,title:"姓名",tips:"姓名",minLength:1,maxLength:20},n[r.ns.PHONE]={required:!0,title:"手机",tips:"手机",submitOnlyOnce:!0,checkFormat:!0,show:!1},n[r.ns.EMAIL]={required:!0,title:"邮箱",tips:"邮箱",submitOnlyOnce:!0,checkFormat:!0,show:!1},n[r.ns.SEX]={required:!0,title:"性别",options:["男","女"]},n[r.ns.USER_INFO]={required:!0,title:"请填写以下信息",name:{required:!0,title:"姓名",tips:"姓名",minLength:1,maxLength:20},phone:{required:!0,tips:"手机",submitOnlyOnce:!0,checkFormat:!0,show:!1},email:{required:!0,tips:"邮箱",submitOnlyOnce:!0,checkFormat:!0,show:!1}},n[r.ns.NPS_REASON]={required:!0,minLength:1,maxLength:200,title:"你给出上述分数的主要原因是什么？",tips:"请输入内容（最多输入200字）"},n[r.ns.SATISFACTION_REASON]={required:!0,minLength:1,maxLength:200,title:"让你产生这样评价的主要原因是什么？",tips:"请输入内容（最多输入200字）"},n[r.ns.TEXTAREA]={required:!0,minLength:1,maxLength:200,title:"",titlePlaceholder:"请编辑文本",tips:"请输入内容（最多输入200字）"},n[r.ns.DECORATION]={link:"",title:"您已完成本次问卷，感谢您的帮助与支持"},n[r.ns.SINGLE_CHOICE]={required:!0,title:"",titlePlaceholder:"请选择一个选项（单选）",options:["","",""],itemPlaceholder:"选项"},n[r.ns.MULTIPLE_CHOICE]={required:!0,title:"",titlePlaceholder:"请选择一个选项（多选）",options:["","",""],itemPlaceholder:"选项",max:0,min:0},n[r.ns.TAIL]={text:"您已完成本次问卷，感谢您的帮助与支持",img:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a224a96f71b44a1f9ac21493c02135df.png",link:"",config:{tailFillet:"0",tailAlignmentType:"CENTER",tailWidth:"100%"}},n[r.ns.CLOSE_PAGE]={text:"调查已结束",img:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/bfa4cbc7238b4e4f8f984a20b17face4.png",link:"",config:{closePageFillet:"0",closePageAlignmentType:"CENTER",closePageWidth:"100%"}},n),o=function(e){var n=1;return e.map(function(e,t){return e.questionTypes&&e.questionTypes.forEach(function(e){e.pageIndex=t+1,(0,r.yx)(e.type)&&(e.number=n,n++)}),e})},s=function(e){var t=e.headerConfig,n=e.pageButtonConfig,a=e.list,r=JSON.parse(JSON.stringify(a)),e=r.splice(r.length-1,1)[0].questionTypes[0].config,a=r.splice(r.length-1,1)[0].questionTypes[0].config,r=i()({},t,n,{tailPage:a,closePage:e,config:JSON.stringify(i()({},t.config,a.config,e.config)),questionTypes:o(r).reduce(function(e,t){return e.concat(t.questionTypes||[])},[]).map(function(e){return i()({},e,{config:JSON.stringify(e.config)})})});return delete r.type,r},c=function(e,n){var a=[];e.questionTypes.forEach(function(e,t){a[e.pageIndex-1]=a[e.pageIndex-1]||{select:1===e.pageIndex,sortId:t,endPage:!1,questionTypes:[]},a[e.pageIndex-1].questionTypes.push({select:1===e.pageIndex&&0===a[e.pageIndex-1].questionTypes.length,config:e.config?JSON.parse(e.config):void 0,type:e.type,number:e.number,pageIndex:e.pageIndex,sortId:t,id:n?void 0:e.id})});var t=JSON.parse(e.config||"{}");return a.push({questionTypes:[{config:{text:e.tailPage.text,img:e.tailPage.img,link:e.tailPage.link,config:{tailFillet:t.tailFillet,tailAlignmentType:t.tailAlignmentType,tailWidth:t.tailWidth}},type:r.ns.TAIL}],sortId:Math.random(),endPage:!0}),a.push({questionTypes:[{config:{text:e.closePage.text,img:e.closePage.img,link:e.closePage.link,config:{closePageFillet:t.closePageFillet,closePageAlignmentType:t.closePageAlignmentType,closePageWidth:t.closePageWidth}},type:r.ns.CLOSE_PAGE}],sortId:Math.random(),endPage:!0}),{name:e.name,desc:e.desc,boardList:e.boards.map(function(e){return e.id}),headerConfig:{showLogo:e.showLogo,headTitle:e.headTitle,headText:e.headText,everyPageShow:e.everyPageShow,logo:e.logo,config:{logoFillet:t.logoFillet,logoAlignmentType:t.logoAlignmentType,logoWidth:t.logoWidth},type:r.ns.HEADER},pageButtonConfig:{prevText:e.prevText,nextText:e.nextText,submitText:e.submitText,type:r.ns.PAGINATION},list:a,status:e.status,detailId:e.detailId,channel:e.channel}}},98117:(e,t,n)=>{"use strict";n.d(t,{Oq:()=>i,p9:()=>o,Kj:()=>r,am:()=>s,kQ:()=>u});var t=n(67154),a=n.n(t),c=n(70715),r=function(e){var e=e.slice(0,10),t=Math.sqrt(e[0].total);return e.map(function(e){return a()({},e,{rate:Math.sqrt(e.total)/t})})},i=function(e,t){return{series:[{type:"graph",layout:"force",silent:!0,animation:!1,legendHoverLink:!1,force:{repulsion:[.4*t,.8*t],gravity:.11,layoutAnimation:!1},itemStyle:{color:"#ffffffff"},data:e.map(function(e){return{symbolSize:e.rate*t/3}})}]}},o=function(i,e,t,o,s){return{title:{text:e},tooltip:{formatter:function(e){var t=e.marker,n=e.data,a=n.value,e=n.name,n=n.total;return("label"!==e?[t+" "+e,"声量："+a,"占比："+(a/n*100).toFixed(2)+"%"]:[n.name+"："+n.total,'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#D96969;"></span> 负面：'+n.negativeCount+'<span style="color: #8c8c8c">('+(n.negativeCount/n.total*100).toFixed(2)+"%)</span>",'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#0074B8;"></span> 中性：'+n.neutralCount+'<span style="color: #8c8c8c">('+(n.neutralCount/n.total*100).toFixed(2)+"%)</span>",'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#00B76E;"></span> 正面：'+n.positiveCount+'<span style="color: #8c8c8c">('+(n.positiveCount/n.total*100).toFixed(2)+"%)</span>"]).join("<br>")}},series:t.map(function(e,t){var n=i[t],a=n.rate*o/3*.35,r=26*n.rate,t=r*n.name.length>2*(a-10)?2*(a-10)/n.name.length:r,r=24*n.rate;r*n.total.toString().length>2*(a-10)&&n.total.toString().length;return{type:"pie",name:n.name,center:e,hoverOffset:4,radius:[a-5,a],label:{normal:{show:!0,position:"center",formatter:"{a|"+n.name+"}",rich:{a:{color:"#262626",fontSize:t,fontFamily:c.I8}}}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(155,155,155,0.5)",borderColor:"#ffffff",borderWidth:.5}},data:[{value:n.positiveCount,type:"pie",name:"正面",selName:n.name,total:n.total,selEmotion:["PROMOTER"],itemStyle:s&&s.selName?{color:"pie"===s.type&&n.name===s.selName&&s.selEmotion.includes("PROMOTER")?"#15B374":"#8c8c8c"}:{}},{value:n.neutralCount,type:"pie",name:"中性",selName:n.name,total:n.total,selEmotion:["PASSIVE"],itemStyle:s&&s.selName?{color:"pie"===s.type&&n.name===s.selName&&s.selEmotion.includes("PASSIVE")?"#1574B3":"#8c8c8c"}:{}},{value:n.negativeCount,type:"pie",name:"负面",selName:n.name,total:n.total,selEmotion:["DETRACTOR"],itemStyle:s&&s.selName?{color:"pie"===s.type&&n.name===s.selName&&s.selEmotion.includes("DETRACTOR")?"#D96969":"#8c8c8c"}:{}},{value:0,name:"label",total:n,selName:n.name,selEmotion:["PROMOTER","PASSIVE","DETRACTOR"],type:"pie",itemStyle:{color:"#ffffffff"}}]}})}},s=[{title:"导出图片",type:"image"},{title:"导出数据",type:"data"}],u=function(e,t,n,a){var r=void 0;"image"===t?r=e:"data"===t&&(r=[n.reduce(function(e,t){return[].concat(e,[[t.name,t.total,t.positiveCount,t.neutralCount,t.negativeCount]])},[["关键词","回收问卷总数","推荐者","被动者","贬损者"]])]),a({type:t,obj:r,name:e.getOption().title[0].text})}},10242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),a=n(36144);function s(e){var t=e.projectId,e=e.dateFilter;return a.h.post("/nps/chart/find/NPS_VALUE_CHART",{projectId:t,dateFilter:e})}function c(e){var t=e.projectId,e=e.dateFilter;return a.h.post("/nps/chart/find/NPS_CUSTOMER_CHART",{projectId:t,dateFilter:e})}function u(e){var t=e.projectId,e=e.dateFilter;return a.h.post("/nps/chart/find/EXECUTIVE_EFFICIENCY_CHART",{projectId:t,dateFilter:e})}function l(e){var t=e.projectId,e=e.dateFilter;return a.h.post("/nps/chart/find/CUSTOMER_CONCERNS_CHART",{projectId:t,dateFilter:e})}function f(e){var t=e.projectId,e=e.dateFilter;return a.h.post("/nps/chart/find/NPS_VALUE_TREND_CHART",{projectId:t,dateFilter:e})}function h(e){var t=e.projectId,e=e.dateFilter;return a.h.post("/nps/chart/find/PROVINCE_NPS_CHART",{projectId:t,dateFilter:e})}function m(e){var t=e.projectId,e=e.dateFilter;return a.h.post("/nps/chart/find/DISPATCH_WAY_CHART",{projectId:t,dateFilter:e})}function v(e){var t=e.projectId,e=e.dateFilter;return a.h.post("/nps/chart/find/CLIENT_BROWSER_CHART",{projectId:t,dateFilter:e})}function y(t){return new Promise(function(e){return setTimeout(e,t)})}var g=n(98117),x=n(64396).Z.research.npsOverview;const r={namespace:x,state:{dateFilter:void 0,projectId:void 0,npsValChartData:void 0,invRatChartData:void 0,npsRatChartData:void 0,fosDisChartData:void 0,fosPoiChartData:void 0,npsTreChartData:void 0,npsTrendDateGroupType:"WEEK",npsMapChartData:void 0,npsRecChartData:void 0,npsDevChartData:void 0},reducers:{save:function(e,t){t=t.payload;return p()({},e,t)}},effects:{fetchChartData:d().mark(function e(t,n){var a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return p()({},e)[x]});case 4:if(o=e.sent,i=o.dateFilter,o=o.projectId,JSON.stringify(i)!==JSON.stringify(a.dateFilter)||o!==a.projectId)return e.next=10,r({type:"save",payload:a});e.next=26;break;case 10:return e.next=12,r({type:"fetchNpsValue",payload:a});case 12:return e.next=14,r({type:"fetchInvestRatio",payload:a});case 14:return e.next=16,r({type:"fetchNpsRatio",payload:a});case 16:return e.next=18,r({type:"fetchFocusData",payload:a});case 18:return e.next=20,r({type:"fetchNpsTrend",payload:a});case 20:return e.next=22,r({type:"fetchNpsMap",payload:a});case 22:return e.next=24,r({type:"fetchNpsRecycle",payload:a});case 24:return e.next=26,r({type:"fetchNpsDevices",payload:a});case 26:case"end":return e.stop()}},e)}),fetchNpsValue:d().mark(function e(t,n){var a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.put,i=null,e.prev=3,e.next=6,a(s,o);case 6:o=e.sent,2e4===(o=o.data).code&&o.result&&0<o.result.questionnaireTotal&&(i=o.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,r({type:"save",payload:{npsValChartData:i}});case 16:return e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,11,13,17]])}),fetchInvestRatio:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,e.next=4,r(y,a.timeOut);case 4:return o=null,e.prev=5,e.next=8,r(c,a);case 8:s=e.sent,2e4===(s=s.data).code&&s.result&&0<s.result.questionnaireTotal&&(o=s.result),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.prev=15,e.next=18,i({type:"save",payload:{invRatChartData:o}});case 18:return e.finish(15);case 19:case"end":return e.stop()}},e,null,[[5,13,15,19]])}),fetchNpsRatio:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,e.next=4,r(y,a.timeOut);case 4:return o=null,e.prev=5,e.next=8,r(u,a);case 8:s=e.sent,2e4===(s=s.data).code&&s.result&&0<s.result.list.length&&(o=s.result.list),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.prev=15,e.next=18,i({type:"save",payload:{npsRatChartData:o}});case 18:return e.finish(15);case 19:case"end":return e.stop()}},e,null,[[5,13,15,19]])}),fetchFocusData:d().mark(function e(t,n){var a,r,i,o,s,c,u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,e.next=4,r(y,a.timeOut);case 4:return s=o=null,e.prev=6,e.next=9,r(l,a);case 9:c=e.sent,2e4===(c=c.data).code&&c.result&&0<c.result.list.length&&(c=c.result.list,u=c.reduce(function(e,t){return e+t.questionnaireTotal},0),o=c.map(function(e){return{positiveCount:e.promoterCount,negativeCount:e.detractorCount,neutralCount:e.passiveCount,total:e.questionnaireTotal,name:e.word,precent:e.questionnaireTotal/u,posRate:e.promoterCount/e.questionnaireTotal,negRate:e.detractorCount/e.questionnaireTotal,neuRate:e.passiveCount/e.questionnaireTotal}}),s=0===o.length?[]:(0,g.Kj)(o.slice().sort(function(e,t){return t.total-e.total}))),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:return e.prev=16,e.next=19,i({type:"save",payload:{fosDisChartData:o,fosPoiChartData:s}});case 19:return e.finish(16);case 20:case"end":return e.stop()}},e,null,[[6,14,16,20]])}),fetchNpsTrend:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,o=n.put,e.next=4,r(y,a.timeOut);case 4:return e.next=6,i(function(e){return p()({},e)[x]});case 6:return l=e.sent,s=l.npsTrendDateGroupType,c=l.dateFilter,u=l.projectId,l=a.dateGroupType||s,l={dateFilter:p()({},c,{dateGroupType:l}),projectId:u},u=null,e.prev=13,e.next=16,r(f,l);case 16:l=e.sent,2e4===(l=l.data).code&&l.result&&0<l.result.list.length&&(u=l.result.list),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.prev=23,e.next=26,o({type:"save",payload:{npsTreChartData:u,npsTrendDateGroupType:a.dateGroupType||s}});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[13,21,23,27]])}),fetchNpsMap:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,e.next=4,r(y,a.timeOut);case 4:return o=null,e.prev=5,e.next=8,r(h,a);case 8:s=e.sent,2e4===(s=s.data).code&&s.result&&0<s.result.list.length&&(o=s.result.list),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.prev=15,e.next=18,i({type:"save",payload:{npsMapChartData:o}});case 18:return e.finish(15);case 19:case"end":return e.stop()}},e,null,[[5,13,15,19]])}),fetchNpsRecycle:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,e.next=4,r(y,a.timeOut);case 4:return o=null,e.prev=5,e.next=8,r(m,a);case 8:s=e.sent,2e4===(s=s.data).code&&s.result&&0<s.result.list.length&&(o=s.result.list),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.prev=15,e.next=18,i({type:"save",payload:{npsRecChartData:o}});case 18:return e.finish(15);case 19:case"end":return e.stop()}},e,null,[[5,13,15,19]])}),fetchNpsDevices:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,e.next=4,r(y,a.timeOut);case 4:return o=null,e.prev=5,e.next=8,r(v,a);case 8:s=e.sent,2e4===(s=s.data).code&&s.result&&0<s.result.client.length&&0<s.result.browser.length&&(o=s.result),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.prev=15,e.next=18,i({type:"save",payload:{npsDevChartData:o}});case 18:return e.finish(15);case 19:case"end":return e.stop()}},e,null,[[5,13,15,19]])})}}},4714:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),t=n(48926),a=n.n(t),c=n(36144);function o(e){return r.apply(this,arguments)}function r(){return(r=a()(m().mark(function e(t){var n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/filter/find",{type:"INBOX",filterTypes:["USER","TEAM"],projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return i.apply(this,arguments)}function i(){return(i=a()(m().mark(function e(t){var n,a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.name,r=t.teamIdList,i=t.userIdList,o=t.questionnaireList,s=t.type,e.abrupt("return",c.h.post("/questionnaire/board/add",{projectId:n,name:a,teamIdList:r,userIdList:i,questionnaireList:o,type:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return s.apply(this,arguments)}function s(){return(s=a()(m().mark(function e(t){var n,a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.name,r=t.teamIdList,i=t.userIdList,o=t.questionnaireList,s=t.id,e.abrupt("return",c.h.post("/questionnaire/board/update",{projectId:n,name:a,teamIdList:r,userIdList:i,questionnaireList:o,id:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=a()(m().mark(function e(t){var n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",c.h.post("/questionnaire/board/detail/find",{id:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e){var t=e.projectId,n=e.type,a=e.name;e.pageIndex,e.pageSize;return c.h.post("questionnaire/list",{name:a,projectId:t,pageIndex:1,pageSize:1e3,questionnaireType:[n],sortName:"updatedAt",sortType:"DESC"})}var y=n(64396).Z.research.setting.edit,f={form:{name:"",teamIdList:[],userIdList:[]},questionnaireList:[],teamList:[],userList:[],id:void 0,type:void 0,projectId:void 0,hasChange:!1,queList:[],queTotal:0};const g={namespace:y,state:JSON.parse(JSON.stringify(f)),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(e,t){t.payload;return h()({},e,Object.assign({},JSON.parse(JSON.stringify(f))))}},effects:{fetchUserList:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,e.next=4,i(o,a);case 4:return i=e.sent,e.next=7,r({type:"save",payload:h()({},a,{teamList:i.data.result.team,userList:i.data.result.user})});case 7:case"end":return e.stop()}},e)}),fetchDetail:m().mark(function e(t,n){var a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.call,n.select,e.prev=2,e.next=5,o(u,a);case 5:if(i=e.sent,o=i.data,i=o.code,o=o.result,2e4===i&&o)return e.next=12,r({type:"save",payload:h()({},a,{type:o.type,questionnaireList:o.questionnaireList,form:h()({},o)})});e.next=12;break;case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(2);case 16:case"end":return e.stop()}},e,null,[[2,14]])}),formChange:m().mark(function e(t,n){var a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,e.next=4,o(function(e){return e[y]});case 4:return o=e.sent,i=o.form,o=a.hasChange,e.next=9,r({type:"save",hasChange:void 0===o||o});case 9:if("questionnaireList"!==a.key)return i[a.key]=a.value,e.next=13,r({type:"save",payload:{form:JSON.parse(JSON.stringify(i))}});e.next=15;break;case 13:e.next=17;break;case 15:return e.next=17,r({type:"save",payload:{questionnaireList:JSON.parse(JSON.stringify(a.value))}});case 17:case"end":return e.stop()}},e)}),submit:m().mark(function e(t,n){var a,r,i,o,s,c,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,c=n.select,e.next=4,c(function(e){return e[y]});case 4:return l=e.sent,u=l.form,r=u.name,i=u.teamIdList,o=u.userIdList,s=l.questionnaireList,c=l.id,u=l.projectId,l=l.type,e.next=15,a(c?d:p,{projectId:u,type:l,id:c,name:r,userIdList:o,teamIdList:i,questionnaireList:s.map(function(e){return e.id})});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e)}),fetchQuestionnaireList:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,u=n.select,r=n.put,i=n.call,e.next=4,u(function(e){return e[y]});case 4:return d=e.sent,o=d.projectId,s=d.type,f=d.queKeyword,c=d.quePageIndex,u=d.quePageSize,l=d.questionnaireList,p=void 0,d=0,e.prev=12,e.next=15,i(v,{projectId:o,type:s,pageIndex:a.quePageIndex||c,pageSize:a.quePageSize||u,name:a.queKeyword||f});case 15:f=e.sent,2e4===(f=f.data).code&&(p=f.result.result.map(function(t){return h()({},t,{checked:l.some(function(e){return e.id===t.id})})}),d=f.result.count),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,r({type:"save",payload:h()({queList:p,queTotal:d},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])})}}},10938:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),a=(n(48926),n(36144));function f(e){var t=e.projectId,n=e.userIdList,e=e.teamIdList;return a.h.post("/questionnaire/board/list",{more:!0,projectId:t,userIdList:n,teamIdList:e})}function i(){return a.h.post("/user/list",{pageIndex:1,pageSize:1e3,search:""})}function o(){return a.h.get("/team/list")}function s(e){e=e.id;return a.h.post("/questionnaire/board/delete",{id:e})}function c(e){var t=e.projectId,e=e.questionnaireBoardIdList;return a.h.post("/questionnaire/board/sort",{questionnaireBoardIdList:e,projectId:t})}var t=n(64396),u=n(5133),h=t.Z.research.setting.set,l=t.Z.public.menu,r={dashList:void 0,dashTotal:void 0,userOptions:[],teamOptions:[],userList:[],teamList:[],projectId:""};const m={namespace:h,state:JSON.parse(JSON.stringify(r)),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clear:function(e,t){t.payload;return p()({},e,Object.assign({},JSON.parse(JSON.stringify(r))))}},effects:{fetchUserList:d().mark(function e(t,n){var a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,e.prev=1,e.next=4,r(i);case 4:if(r=e.sent,2e4===(r=r.data).code)return e.next=9,a({type:"save",payload:{userOptions:r.result.result.map(function(e){return{id:e.id,name:e.username}})}});e.next=9;break;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}},e,null,[[1,11]])}),fetchTeamList:d().mark(function e(t,n){var a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,e.prev=1,e.next=4,r(o);case 4:if(r=e.sent,2e4===(r=r.data).code)return e.next=9,a({type:"save",payload:{teamOptions:r.result.list.map(function(e){return{id:e.id,name:e.name}})}});e.next=9;break;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}},e,null,[[1,11]])}),fetchDashList:d().mark(function e(t,n){var a,r,i,o,s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return p()({},e)[h]});case 4:return u=e.sent,o=u.projectId,l=u.teamList,s=u.userList,c=[],u=0,e.prev=9,e.next=12,r(f,{projectId:a.projectId||o,userIdList:a.userList||s,teamIdList:a.teamList||l});case 12:l=e.sent,2e4===(l=l.data).code&&l.result&&(c=l.result.result,u=l.result.count),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:return e.prev=20,e.next=23,i({type:"save",payload:p()({dashList:c,dashTotal:u},a)});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[9,17,20,24]])}),deleteBoard:d().mark(function e(t,n){var a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,n.select,e.prev=2,e.next=5,r(s,{id:a.id});case 5:if(o=e.sent,2e4===(o=o.data).code)return u.Z.success(o.msg),e.next=11,i({type:"fetchDashList",payload:{}});e.next=15;break;case 11:return e.next=13,i({type:l+"/fetchMenuList",payload:{}});case 13:e.next=16;break;case 15:u.Z.error(o.msg);case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(2);case 20:case"end":return e.stop()}},e,null,[[2,18]])}),sortBoard:d().mark(function e(t,n){var a,r,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.put,i=n.select,e.next=4,i(function(e){return p()({},e)[h]});case 4:return o=e.sent,i=o.projectId,o=o.dashList,e.prev=7,e.next=10,r(c,{projectId:a.projectId||i,questionnaireBoardIdList:o.map(function(e){return e.id})});case 10:o=e.sent,o.data.code,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:case"end":return e.stop()}},e,null,[[7,15]])})}}},88938:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),f=n.n(t),t=n(87757),h=n.n(t),s=n(36144);function m(e){var t=e.pageSize,n=e.pageIndex,a=e.channel,r=e.keyword,i=e.sortEnum,o=e.status,e=e.signatureId;return s.h.post("/template/list",{pageSize:t,pageIndex:n,channel:a,keyword:r,sortEnum:i,status:"all"===o?void 0:o,signatureId:"all"===e?void 0:e})}function u(e){e=e.channel;return s.h.post("/template/signature/list",{pageSize:9999,pageIndex:1,channel:e.toUpperCase()})}function i(e){e=e.signatureId;return s.h.post("/template/signature/delete",{signatureId:e})}function o(e){e=e.id;return s.h.post("/template/delete",{id:e})}var t=n(63472),v=n(64396).Z.research.npmTemplate,a={channel:"SMS",signatureList:[],signatureData:void 0,emailData:void 0,emailPageIndex:1,emailPageSize:10,emailKeyword:"",smsData:void 0,smsPageIndex:1,smsPageSize:10,smsKeyword:"",projectId:void 0,status:t.sl[0].value,sort:t.fS[0].value,signatureId:"all"};const r={namespace:v,state:Object.assign({},a),reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clear:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchEmailTemplateList:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return f()({},e)[v]});case 4:return l=e.sent,o=l.emailPageIndex,p=l.emailPageSize,s=l.emailKeyword,c=l.status,u=l.sort,d=l.signatureId,l=null,p={emailKeyword:void 0!==a.emailKeyword?a.emailKeyword:s,emailPageIndex:a.emailPageIndex||o,emailPageSize:a.emailPageSize||p},e.prev=13,e.next=16,r(m,{pageSize:p.emailPageSize,pageIndex:p.emailPageIndex,keyword:p.emailKeyword,channel:"EMAIL",status:c,sortEnum:u,signatureId:d});case 16:d=e.sent,2e4===(d=d.data).code&&(l=d.result),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.prev=23,e.next=26,i({type:"save",payload:f()({emailData:l},p)});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[13,21,23,27]])}),fetchSmsTemplateList:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return f()({},e)[v]});case 4:return l=e.sent,o=l.smsPageIndex,p=l.smsPageSize,s=l.smsKeyword,c=l.status,u=l.sort,d=l.signatureId,l=null,p={smsKeyword:void 0!==a.smsKeyword?a.smsKeyword:s,smsPageIndex:a.smsPageIndex||o,smsPageSize:a.smsPageSize||p},e.prev=13,e.next=16,r(m,{pageSize:p.smsPageSize,pageIndex:p.smsPageIndex,keyword:p.smsKeyword,channel:"SMS",status:c,sortEnum:u,signatureId:d});case 16:d=e.sent,2e4===(d=d.data).code&&(l=d.result),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.prev=23,e.next=26,i({type:"save",payload:f()({smsData:l},p)});case 26:return e.finish(23);case 27:case"end":return e.stop()}},e,null,[[13,21,23,27]])}),getSignatureList:h().mark(function e(t,n){var a,r,i,o,s,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.payload,r=n.call,i=n.put,n.select,"signature"===a.channel)return o=null,e.prev=4,e.next=7,r(u,{channel:"SMS"});e.next=20;break;case 7:c=e.sent,2e4===(c=c.data).code&&(o=c.result),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:return e.prev=14,e.next=17,i({type:"save",payload:{signatureData:o}});case 17:return e.finish(14);case 18:e.next=36;break;case 20:return s=[],e.prev=21,e.next=24,r(u,{channel:a.channel});case 24:c=e.sent,2e4===(c=c.data).code&&(s=c.result.result.map(function(e){return{title:e.signatureName,value:e.signatureId}})),e.next=31;break;case 29:e.prev=29,e.t1=e.catch(21);case 31:return e.prev=31,s.unshift({title:"全部",value:"all"}),e.next=35,i({type:"save",payload:{signatureList:s}});case 35:return e.finish(31);case 36:case"end":return e.stop()}},e,null,[[4,12,14,18],[21,29,31,36]])}),deleteTemplate:h().mark(function e(t,n){var a,r,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,e.prev=2,e.next=5,i(o,a);case 5:if(i=e.sent,i=i.data,i=2e4===i.code,a.callback(i),i)return e.next=12,r({type:"email"===a.channel?"fetchEmailTemplateList":"fetchSmsTemplateList",payload:a});e.next=13;break;case 12:window.opener.postMessage("updateTemplate","*");case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}},e,null,[[2,15]])}),deleteSignature:h().mark(function e(t,n){var a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.put,e.next=4,r(i,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)})}}},63472:(e,t,n)=>{"use strict";n.d(t,{sl:()=>a,A0:()=>r,fS:()=>i,Go:()=>o});var a=[{title:"全部",value:"all"},{title:"审核中",value:"AUDITING"},{title:"审核通过",value:"AUDIT_PASS"},{title:"审核不通过",value:"AUDIT_FAILED"},{title:"审核中",value:"UN_SUBMIT"}],r=[{title:"未审核",value:"UN_SUBMIT",color:"#262626"},{title:"审核中",value:"AUDITING",color:"#262626"},{title:"已通过",value:"AUDIT_PASS",icon:"icon-cem_complete1",color:"#15B374"},{title:"不通过",value:"AUDIT_FAILED",icon:"icon-cem_warning",color:"#D96969"}],i=[{title:"修改时间最新",value:"UPDATED_AT___DESC"},{title:"修改时间最早",value:"UPDATED_AT___ASC"},{title:"创建时间最新",value:"CREATED_AT___DESC"},{title:"创建时间最早",value:"CREATED_AT___ASC"}],o=function(e){var t=new Date,e=new Date(e.substring(0,19).replace(/-/g,"/").replace(/T/," ")),n=t.getTime()-e.getTime(),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();new Date(t-864e5).getTime();switch(!0){case n<36e5:var a=Math.abs(Math.floor(n/6e4));return a?a+"分钟前":"刚刚";case n<864e5:return Math.floor(n/36e5)+"小时前";default:return Math.floor(n/864e5)+"天前"}}},74023:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var t=n(67154),m=n.n(t),t=n(87757),v=n.n(t),t=n(48926),a=n.n(t),l=n(36144);function p(e){return r.apply(this,arguments)}function r(){return(r=a()(v().mark(function e(t){var n;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",l.h.post("/questionnaire/picture/list",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return i.apply(this,arguments)}function i(){return(i=a()(v().mark(function e(t){var n,a,r,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.base64Code,r=t.fileName,i=t.type,e.abrupt("return",l.h.post("/questionnaire/picture/upload",{projectId:n,base64Code:a,fileName:r,type:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(e){return o.apply(this,arguments)}function o(){return(o=a()(v().mark(function e(t){var n,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.id,e.abrupt("return",l.h.post("/questionnaire/picture/delete",{projectId:n,id:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){var t=e.functionalUse,n=e.name,a=e.signatureId,r=e.signatureName,i=e.content,o=e.isSubmitAudit,s=e.channel,c=e.img,e=e.applyReason;return l.h.post("/template/add",{functionalUse:t,name:n,signatureId:a,signatureName:r,content:i,isSubmitAudit:o,channel:s,img:c,applyReason:e})}function y(e){var t=e.id,n=e.functionalUse,a=e.name,r=e.signatureId,i=e.signatureName,o=e.content,s=e.isSubmitAudit,c=e.channel,u=e.img,e=e.applyReason;return l.h.post("/template/update",{id:t,functionalUse:n,name:a,signatureId:r,signatureName:i,content:o,isSubmitAudit:s,channel:c,img:u,applyReason:e})}function u(e){var t=e.pageSize,n=e.pageIndex,e=e.channel;return l.h.post("/template/signature/list",{pageSize:void 0===t?100:t,pageIndex:void 0===n?1:n,channel:e})}function c(e){e=e.signatureId;return l.h.post("/template/signature/delete",{signatureId:e})}function f(e){var t=e.name,n=e.channel,a=e.functionalUse,e=e.isSubmitAudit;return l.h.post("/template/signature/add",{name:t,channel:n,functionalUse:void 0===a?"NPS":a,isSubmitAudit:void 0===e||e})}function g(e){var t=e.name,n=e.channel,a=e.isSubmitAudit,r=e.functionalUse,i=e.proofImageBase64,o=e.commissionImageBase64,e=e.applyReason;return l.h.post("/template/signature/add",{name:t,channel:void 0===n?"SMS":n,isSubmitAudit:a,functionalUse:void 0===r?"NPS":r,proofImageBase64:i,commissionImageBase64:o,applyReason:e})}function x(e){e=e.signatureId;return l.h.post("/template/signature/images",{signatureId:e})}function b(e){var t=e.name,n=e.channel,a=e.signatureId,r=e.isSubmitAudit,i=e.functionalUse,o=e.proofImageBase64,s=e.commissionImageBase64,e=e.applyReason;return l.h.post("/template/signature/update",{name:t,channel:void 0===n?"SMS":n,signatureId:a,isSubmitAudit:r,functionalUse:void 0===i?"NPS":i,proofImageBase64:o,commissionImageBase64:s,applyReason:e})}function T(e){e=e.id;return l.h.post("/template/find",{id:e})}n(5133);var I=n(64396).Z.research.setting.template,w={id:"",name:"",functionalUse:"NPS",content:"",signatureId:"",signatureName:"",url:"",img:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a1a049dc2c4c4cd7833d7d462517367f.png",imgList:void 0,channel:"",signOptions:void 0,hasChange:!1,projectId:void 0,smsApplyReason:"",proofImageBase64:void 0,commissionImageBase64:void 0,applyReason:""};const E={namespace:I,state:m()({},Object.assign({},w)),reducers:{save:function(e,t){t=t.payload;return m()({},e,t)},clear:function(e,t){t.payload;return m()({},Object.assign({},w))}},effects:{fetchPicList:v().mark(function e(t,n){var a,r,i,o,s,c,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.select,s=n.call,i=a.type,o=void 0,e.prev=4,e.next=7,s(p,a);case 7:c=e.sent,s=c.data,c=["https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a1a049dc2c4c4cd7833d7d462517367f.png","https://yunting-1251101074.coscd.myqcloud.com/questionnaire/7222ff6881f340fc8efc146c53e6b0ed.png","https://yunting-1251101074.coscd.myqcloud.com/questionnaire/1a8a4f1c32e24a32bbf7ddd86cae28a6.png"],2e4===s.code&&s.result.length?(u=s.result.filter(function(e){return e.type===i})).length?(l=u.map(function(e){return e.name}),c.forEach(function(e){-1===l.indexOf(e)&&u.push({name:e,type:i}),o=u})):o=c.map(function(e){return{name:e,type:i}}):o=c.map(function(e){return{name:e,type:i}}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:return e.prev=15,e.next=18,r({type:"save",payload:m()({},a,{imgList:o})});case 18:return e.finish(15);case 19:return e.abrupt("return",o);case 20:case"end":return e.stop()}},e,null,[[4,13,15,19]])}),uploadPic:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,c=n.select,i=n.call,e.next=4,c(function(e){return m()({},e)[I]});case 4:return l=e.sent,o=l.projectId,s=l.img,c=a.base64Code,p=a.fileName,u=a.type,l="",e.prev=9,e.next=12,i(d,{projectId:o||a.projectId,base64Code:c,fileName:p,type:u});case 12:if(p=e.sent,2e4===(p=p.data).code&&p.result)return l=p.result,e.next=18,r({type:"fetchPicList",payload:{projectId:o||a.projectId,type:u}});e.next=20;break;case 18:e.next=21;break;case 20:l=s;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(9);case 25:return e.abrupt("return",l);case 26:case"end":return e.stop()}},e,null,[[9,23]])}),deletePic:v().mark(function e(t,n){var a,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.put,i=n.select,r=n.call,e.next=4,i(function(e){return m()({},e)[I]});case 4:return o=e.sent,i=o.projectId,o=a.id,e.next=9,r(s,{projectId:i||a.projectId,id:o});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}),fetchSignatureList:v().mark(function e(t,n){var a,r,i,o,s,c;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return e[I]});case 3:return c=e.sent,o=c.channel,c.id,s=[],c={channel:"SIGNATURE"===o.toUpperCase()?"SMS":o},e.prev=8,e.next=11,a(u,c);case 11:c=e.sent,2e4===(c=c.data).code&&(s=c.result.result.map(function(e,t){return{name:e.signatureName,id:e.signatureId,status:e.status||""}})),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,r({type:"save",payload:{channel:o,signOptions:s}});case 21:return e.finish(18);case 22:case"end":return e.stop()}},e,null,[[8,16,18,22]])}),deleteTag:v().mark(function e(t,n){var a,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.put,n.select,e.next=4,r(c,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),addTag:v().mark(function e(t,n){var a,r,i,o,s,c,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return e[I]});case 4:return l=e.sent,o=l.channel,s=a.name,c=a.proofImage,u=a.commissionImage,l=a.applyReason,e.prev=7,e.next=10,r(f,{name:s,channel:o,proofImage:c,commissionImage:u,applyReason:l});case 10:if(l=e.sent,2e4===l.data.code)return e.next=15,i({type:"fetchSignatureList"});e.next=15;break;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:return e.prev=19,e.finish(19);case 21:case"end":return e.stop()}},e,null,[[7,17,19,21]])}),fetchSignatureDetail:v().mark(function e(t,n){var a,r,i,o,s;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[I]});case 4:return s=e.sent,s=s.signatureId,e.prev=6,e.next=9,r(x,{signatureId:a.signatureId||s});case 9:if(s=e.sent,2e4===(s=s.data).code)return e.next=14,i({type:"save",payload:{proofImageBase64:s.result.proofImageUrl+"?"+.05*Math.random(),commissionImageBase64:s.result.commissionImageUrl+"?"+.05*Math.random()}});e.next=14;break;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}},e,null,[[6,16]])}),addSignature:v().mark(function e(t,n){var a,r,i,o,s,c,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return e[I]});case 4:return l=e.sent,o=l.name,s=l.proofImageBase64,c=l.commissionImageBase64,u=l.applyReason,l=l.functionalUse,u=m()({},a,{name:o,proofImageBase64:s,commissionImageBase64:c,applyReason:u,functionalUse:l}),e.prev=11,e.next=14,r(g,u);case 14:if(l=e.sent,u=l.data,l=2e4===u.code,a.callback(l),l)return e.next=21,i({type:"save",payload:m()({},u.result)});e.next=21;break;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(11);case 25:case"end":return e.stop()}},e,null,[[11,23]])}),editSignature:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return e[I]});case 4:return p=e.sent,o=p.name,s=p.proofImageBase64,c=p.commissionImageBase64,u=p.applyReason,l=p.functionalUse,p=p.signatureId,l=m()({},a,{name:o,proofImageBase64:s.includes("base64")?s:void 0,commissionImageBase64:c.includes("base64")?c:void 0,applyReason:u,functionalUse:l,signatureId:p}),e.prev=12,e.next=15,r(b,l);case 15:if(p=e.sent,l=p.data,p=2e4===l.code,a.callback(p),p)return e.next=22,i({type:"save",payload:m()({},l.result)});e.next=22;break;case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(12);case 26:case"end":return e.stop()}},e,null,[[12,24]])}),fetchTemplateDetail:v().mark(function e(t,n){var a,r,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.prev=2,e.next=5,a(T,i);case 5:if(i=e.sent,2e4===(i=i.data).code)return i.result.smsApplyReason=i.result.applyReason,e.next=11,r({type:"save",payload:m()({},i.result)});e.next=11;break;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}},e,null,[[2,13]])}),updateTemplate:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,d=n.select,i=n.put,e.next=4,d(function(e){return e[I]});case 4:return f=e.sent,o=f.name,s=f.functionalUse,c=f.content,h=f.signatureId,u=f.signatureName,l=f.id,p=f.channel,d=f.img,f=f.smsApplyReason,f=m()({},a,{id:l,name:o,functionalUse:s,content:c,channel:p,img:d,signatureId:h,signatureName:u,applyReason:f}),h||(f.signatureId=""),e.prev=16,e.next=19,r(y,f);case 19:if(h=e.sent,f=h.data,h=2e4===f.code,a.callback(h),h)return e.next=26,i({type:"save",payload:m()({},f.result)});e.next=26;break;case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(16);case 30:case"end":return e.stop()}},e,null,[[16,28]])}),addTemplate:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,p=n.select,i=n.put,e.next=4,p(function(e){return e[I]});case 4:return d=e.sent,o=d.name,s=d.functionalUse,c=d.content,f=d.signatureId,u=d.signatureName,l=d.channel,p=d.img,d=d.smsApplyReason,d=m()({},a,{channel:l,name:o,functionalUse:s,content:c,signatureId:f,signatureName:u,img:p,applyReason:d}),f||(d.signatureId=""),e.prev=15,e.next=18,r(h,d);case 18:if(f=e.sent,d=f.data,f=2e4===d.code,a.callback(f),f)return e.next=25,i({type:"save",payload:m()({},d.result)});e.next=25;break;case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(15);case 29:case"end":return e.stop()}},e,null,[[15,27]])})}}},1048:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),t=n(64396),i=n(36144);function f(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,e=e.queryType;return i.h.post("/waiter-session/chart/v2/find/SESSION_ASPECT_TIME_CHART",{projectId:t,dateFilter:n,headerFilterParamsNew:a,queryType:e})}function v(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,e=e.queryType;return i.h.post("/waiter-session/aspectAnalyse",{projectId:t,dateFilter:n,headerFilterParamsNew:a,queryType:e})}function p(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,r=e.queryType,e=e.aspect1;return i.h.post("/waiter-session/aspectAnalyse",{projectId:t,dateFilter:n,headerFilterParamsNew:a,queryType:r,aspect1:e})}var y=n(87219),g=t.Z.service.concernAnalyze,a={dataSource:void 0,concernPagination:{current:1,pageSize:5,total:0},projectId:void 0,dateFilter:void 0,headerFilterParamsNew:void 0,queryType:"FOCUS",aspect1:void 0,concernAnalyzeCardBarData:void 0,concernAnalyzeTableData:void 0,concernAnalyzeTempAspect1:[],dateGroupType:"DAY"};const r={namespace:g,state:JSON.parse(JSON.stringify(a)),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchParams:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"save",payload:h()({},a)});case 4:return e.next=6,r({type:"fetchDatas",payload:a});case 6:case"end":return e.stop()}},e)}),fetchDatas:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchConcernAnalyzeData",payload:a});case 4:return e.next=6,r({type:"fetchConcernAnalyzeCardBarData",payload:a});case 6:case"end":return e.stop()}},e)}),fetchConcernAnalyzeData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return h()({},e)[g]});case 4:return u=e.sent,o=u.projectId,s=u.headerFilterParamsNew,l=u.dateFilter,d=u.queryType,c=u.dateGroupType,u="error",l=(0,y.ZP)(a.dateFilter||l,function(e){e.dateGroupType=a.dateGroupType||c}),e.prev=12,e.next=15,r(f,{projectId:a.projectId||o,dateFilter:l,headerFilterParamsNew:a.headerFilterParamsNew||s,queryType:a.queryType||d});case 15:d=e.sent,d=d.data,u=2e4===d.code&&null!=(p=d.result)&&p.data.length?d.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,i({type:"save",payload:{dataSource:u}});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])}),fetchConcernAnalyzeCardBarData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return h()({},e)[g]});case 4:return d=e.sent,o=d.projectId,s=d.headerFilterParamsNew,c=d.dateFilter,f=d.queryType,l=u=0,p=[],d="error",e.prev=12,e.next=15,r(v,{projectId:a.projectId||o,dateFilter:a.dateFilter||c,headerFilterParamsNew:a.headerFilterParamsNew||s,queryType:a.queryType||f});case 15:if(f=e.sent,2e4===(f=f.data).code&&0<f.result.length)return d=f.result.map(function(e,t){return h()({},e,{name:e.aspect1})}),p=f.result.map(function(e){return e.aspect1}),f.result.every(function(e){return 0===e.count})&&(d="empty"),a.aspect1&&JSON.stringify(a.aspect1)!==JSON.stringify(f.result.map(function(e){return e.aspect1}))||(u=f.result.reduce(function(e,t){return e+t.count},0),l=f.result.reduce(function(e,t){return e+t.preCount},0)),e.next=24,i({type:"fetchConcernAnalyzeTableData",payload:a});e.next=26;break;case 24:e.next=27;break;case 26:d="empty";case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(12);case 31:return e.prev=31,e.next=34,i({type:"save",payload:h()({},a,{concernAnalyzeCardBarTotalCount:u,concernAnalyzeCardBarTotalPreCount:l,concernAnalyzeTempAspect1:p,concernAnalyzeCardBarData:d})});case 34:return e.finish(31);case 35:case"end":return e.stop()}},e,null,[[12,29,31,35]])}),fetchConcernAnalyzeTableData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return h()({},e)[g]});case 4:return l=e.sent,o=l.projectId,s=l.headerFilterParamsNew,c=l.dateFilter,u=l.queryType,l=l.concernAnalyzeTempAspect1,e.prev=10,e.next=13,r(p,{projectId:a.projectId||o,dateFilter:a.dateFilter||c,headerFilterParamsNew:a.headerFilterParamsNew||s,queryType:a.queryType||u,aspect1:a.aspect1||l});case 13:if(l=e.sent,2e4===(l=l.data).code)return e.next=18,i({type:"save",payload:h()({},a,{concernAnalyzeTableData:l.result.map(function(e,t){return h()({},e,{name:e.aspect2})})})});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(10);case 22:case"end":return e.stop()}},e,null,[[10,20]])})}}},92208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),f=n.n(t),t=n(87757),h=n.n(t),t=n(64396),i=n(36144);function m(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,e=e.queryType;return i.h.post("/waiter-session/chart/v2/find/SESSION_ASPECT_TIME_CHART",{projectId:t,dateFilter:n,headerFilterParamsNew:a,queryType:e})}function v(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,e=e.queryType;return i.h.post("/waiter-session/aspectAnalyse",{projectId:t,dateFilter:n,headerFilterParamsNew:a,queryType:e})}function l(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,r=e.queryType,e=e.aspect1;return i.h.post("/waiter-session/aspectAnalyse",{projectId:t,dateFilter:n,headerFilterParamsNew:a,queryType:r,aspect1:e})}var y=n(87219),g=t.Z.service.gombitAnalyze,a={dataSource:void 0,commodityDataSource:[],sessionLocationList:void 0,gombitPagination:{current:1,pageSize:5,total:0},projectId:void 0,headerFilterParamsNew:void 0,dateFilter:{},queryType:"TOPIC",aspect1:void 0,topicAnalyzeTableData:void 0,topicAnalyzeCardBarData:void 0,topicAnalyzeTempAspect1:[],dateGroupType:"DAY"};const r={namespace:g,state:JSON.parse(JSON.stringify(a)),reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchParams:h().mark(function e(t,n){var a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"save",payload:f()({},a)});case 4:return e.next=6,r({type:"fetchDatas",payload:a});case 6:case"end":return e.stop()}},e)}),fetchDatas:h().mark(function e(t,n){var a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchGombitAnalyzeData",payload:a});case 4:return e.next=6,r({type:"fetchTopicAnalyzeCardBarData",payload:a});case 6:case"end":return e.stop()}},e)}),fetchGombitAnalyzeData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return f()({},e)[g]});case 4:return u=e.sent,o=u.projectId,s=u.headerFilterParamsNew,l=u.dateFilter,d=u.queryType,c=u.dateGroupType,u="error",l=(0,y.ZP)(a.dateFilter||l,function(e){e.dateGroupType=a.dateGroupType||c}),e.prev=12,e.next=15,r(m,{projectId:a.projectId||o,dateFilter:l,headerFilterParamsNew:a.headerFilterParamsNew||s,queryType:a.queryType||d});case 15:d=e.sent,d=d.data,u=2e4===d.code&&null!=(p=d.result)&&p.data.length?d.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,i({type:"save",payload:{dataSource:u}});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])}),fetchTopicAnalyzeCardBarData:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return f()({},e)[g]});case 4:return p=e.sent,o=p.projectId,s=p.headerFilterParamsNew,c=p.dateFilter,d=p.queryType,u="error",p=l=0,e.prev=12,e.next=15,r(v,{projectId:a.projectId||o,dateFilter:a.dateFilter||c,headerFilterParamsNew:a.headerFilterParamsNew||s,queryType:a.queryType||d});case 15:if(d=e.sent,2e4===(d=d.data).code&&0<d.result.length)return u=d.result.map(function(e,t){return f()({},e,{name:e.aspect1})}),d.result.every(function(e){return 0===e.count})&&(u="empty"),a.aspect1&&JSON.stringify(a.aspect1)!==JSON.stringify(d.result.map(function(e){return e.aspect1}))||(l=d.result.reduce(function(e,t){return e+t.count},0),p=d.result.reduce(function(e,t){return e+t.preCount},0)),e.next=23,i({type:"fetchTopicAnalyzeTableData",payload:{aspect1:[d.result[0].aspect1]}});e.next=25;break;case 23:e.next=26;break;case 25:u="empty";case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(12);case 30:return e.prev=30,e.next=33,i({type:"save",payload:f()({},a,{topicAnalyzeCardBarTotalCount:l,topicAnalyzeCardBarTotalPreCount:p,topicAnalyzeCardBarData:u})});case 33:return e.finish(30);case 34:case"end":return e.stop()}},e,null,[[12,28,30,34]])}),fetchTopicAnalyzeTableData:h().mark(function e(t,n){var a,r,i,o,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c(function(e){return f()({},e)[g]});case 4:return u=e.sent,o=u.projectId,s=u.headerFilterParamsNew,c=u.dateFilter,u=u.queryType,e.prev=9,e.next=12,r(l,{projectId:a.projectId||o,dateFilter:a.dateFilter||c,headerFilterParamsNew:a.headerFilterParamsNew||s,queryType:a.queryType||u,aspect1:a.aspect1});case 12:if(u=e.sent,2e4===(u=u.data).code)return e.next=17,i({type:"save",payload:f()({},a,{topicAnalyzeTableData:u.result.filter(function(e){return 0<e.count}).map(function(e,t){return f()({},e,{name:e.aspect2})})})});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])})}}},58598:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});function c(e){return a.h.post("/waiter-session/products/find",e)}function y(e){return a.h.post("/waiter-session/product_compare/trend/find",e)}function g(e){return a.h.post("/waiter-session/aspectAnalyse",e)}var t=n(37316),l=n.n(t),t=n(67154),x=n.n(t),t=n(18446),b=n.n(t),t=n(87757),T=n.n(t),a=n(36144);function v(e){return a.h.post("/waiter-session/chart/find/SESSION_ASPECT_FOCUS_CHART",e)}var d=n(40845),I=n(70339),t=n(64396),w=n(87219),E=t.Z.service.match,r={objects:void 0,objectsFlavor:[],objectOptions:void 0,sessionData:void 0,topicData:void 0,topicTableData:void 0,projectId:void 0,headerFilterParamsNew:void 0,filterValues:[],pageType:"WAITER_SESSION_PRODUCT_COMPARE"};const i={namespace:E,state:JSON.parse(JSON.stringify(r)),reducers:{save:function(e,t){t=t.payload;return x()({},e,t)},clean:function(){return Object.assign({},r)}},effects:{fetchParams:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return x()({},e)[E]});case 4:return o=e.sent,p=o.pageType,o=o.objectsFlavor,s={objectsFlavor:o},c={objects:o||[]},e.next=11,r(d.o,{projectId:a.projectId,key:p});case 11:if(p=e.sent,2e4===(p=p.data).code&&p.result)try{u=JSON.parse(p.result),Object.keys(u).forEach(function(e){s[e]=u[e]}),l=Object.keys(c),Object.keys(s).forEach(function(e,t){s[e]&&(c[l[t]]=s[e])})}catch(e){}return p=x()({},a,c,s),e.next=17,i({type:"fetchDatas",payload:p});case 17:case"end":return e.stop()}},e)}),fetchDatas:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return x()({},e)[E]});case 4:return s=e.sent,o=s.objects,e.next=8,r({type:"save",payload:a});case 8:return e.next=10,r({type:"setDefaultValue",payload:{objectsFlavor:a.objects}});case 10:return e.next=12,r({type:"fetchSessionData",payload:a});case 12:return e.next=14,r({type:"fetchGoodsConcernAnalyze",payload:a});case 14:return e.next=16,r({type:"fetchBarData",payload:a});case 16:if(!(o&&b()(a.objects[0],o[0]))||a.shouldUpdate)return e.next=20,r({type:"fetchTableData",payload:{objects:o,spu:null==(s=a.objects[0])?void 0:s.name,date:null==(s=a.objects[0])?void 0:s.date,aspect1:["咨询/求助","赞扬","不满/辱骂"]}});e.next=20;break;case 20:case"end":return e.stop()}},e)}),fetchGoodsConcernAnalyze:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return x()({},e)[E]});case 4:return s=e.sent,c=s.projectId,u=s.headerFilterParamsNew,e.next=9,o(function(e){return x()({},e)[E]});case 9:if(h=e.sent,l=h.goodsConcernData,p=a.objects,d="error",e.prev=13,f=function(t){return{projectId:a.projectId||c,dateFilter:{dateGroupType:"DAY",remoteName:"cTime",from:t.date[0],to:t.date[1]},queryType:"FOCUS",headerFilterParamsNew:(0,w.ZP)(a.headerFilterParamsNew||u,function(e){e.find(function(e){return"MENTIONED_CONTENT"===e.id})?e.find(function(e){return"MENTIONED_CONTENT"===e.id}).values=[{id:"WAITER_PRODUCT",values:[t.name]}]:e.push({id:"MENTIONED_CONTENT",values:[{id:"WAITER_PRODUCT",values:[t.name]}]})})}},l&&!a.shouldUpdate||(l=[]),(h=l?p.filter(function(n){return l.every(function(e){var t=e.key,e=e.date;return!b()({name:t,date:e},n)})}):p).length)return e.next=20,[].concat(h.map(function(e){return r(v,f(e))}));e.next=22;break;case 20:m=e.sent,h.forEach(function(e,t){var n=e.name,e=e.date;l.push({key:n,date:e,value:2e4===m[t].data.code?m[t].data.result:"error"})});case 22:d=p.map(function(n){return{key:l.find(function(e){var t=e.key,e=e.date;return b()({name:t,date:e},n)}).key,date:l.find(function(e){var t=e.key,e=e.date;return b()({name:t,date:e},n)}).date,value:l.find(function(e){var t=e.key,e=e.date;return b()({name:t,date:e},n)}).value}}),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(13);case 27:return e.prev=27,e.next=30,i({type:"save",payload:{goodsConcernData:d}});case 30:return e.finish(27);case 31:case"end":return e.stop()}},e,null,[[13,25,27,31]])}),fetchSessionData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return x()({},e)[E]});case 4:return f=e.sent,s=f.projectId,c=f.headerFilterParamsNew,e.next=9,o(function(e){return x()({},e)[E]});case 9:if(h=e.sent,u=h.sessionData,l=a.objects,p="error",e.prev=13,m=!(d=function(t){var e;return{projectId:a.projectId||s,dateFilter:{dateGroupType:b()(null==(e=l[0])?void 0:e.date[0],null==(e=l[0])?void 0:e.date[1])?"HOUR":"DAY",remoteName:"cTime",from:t.date[0],to:t.date[1]},headerFilterParamsNew:(0,w.ZP)(a.headerFilterParamsNew||c,function(e){e.find(function(e){return"MENTIONED_CONTENT"===e.id})?e.find(function(e){return"MENTIONED_CONTENT"===e.id}).values=[{id:"WAITER_PRODUCT",values:[t.name]}]:e.push({id:"MENTIONED_CONTENT",values:[{id:"WAITER_PRODUCT",values:[t.name]}]})})}}),u instanceof Array&&1<u.length&&(f=b()(null==(f=u[0])?void 0:f.date[0],null==(h=u[0])?void 0:h.date[1]),h=b()(null==(h=l[0])?void 0:h.date[0],null==(h=l[0])?void 0:h.date[1]),m=f!==h),u&&!a.shouldUpdate&&!m||(u=[]),(m=u?l.filter(function(n){return u.every(function(e){var t=e.name,e=e.date;return!b()({name:t,date:e},n)})}):l).length)return e.next=22,[].concat(m.map(function(e){return r(y,d(e))}));e.next=24;break;case 22:v=e.sent,m.forEach(function(e,t){var n=e.name,e=e.date;u.push({name:n,date:e,list:2e4===v[t].data.code?v[t].data.result:"error"})});case 24:p=l.map(function(n){return{name:u.find(function(e){var t=e.name,e=e.date;return b()({name:t,date:e},n)}).name,date:u.find(function(e){var t=e.name,e=e.date;return b()({name:t,date:e},n)}).date,list:u.find(function(e){var t=e.name,e=e.date;return b()({name:t,date:e},n)}).list}}),e.next=29;break;case 27:e.prev=27,e.t0=e.catch(13);case 29:return e.prev=29,e.next=32,i({type:"save",payload:{sessionData:p}});case 32:return e.finish(29);case 33:case"end":return e.stop()}},e,null,[[13,27,29,33]])}),fetchBarData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return x()({},e)[E]});case 4:return s=e.sent,c=s.projectId,u=s.headerFilterParamsNew,l=s.pageType,e.next=10,o(function(e){return x()({},e)[E]});case 10:if(v=e.sent,p=v.topicData,d=a.objects,f="error",e.prev=14,h=a.headerFilterParamsNew||u,m=function(t){return{queryType:"TOPIC",projectId:a.projectId||c,dateFilter:{dateGroupType:"DAY",from:t.date[0],numOfDays:(0,I.vv)(t.date,"YYYY-MM-DD"),remoteName:"cTime",to:t.date[1]},pageType:l,headerFilterParamsNew:(0,w.ZP)(h,function(e){e.find(function(e){return"MENTIONED_CONTENT"===e.id})?e.find(function(e){return"MENTIONED_CONTENT"===e.id}).values=[{id:"WAITER_PRODUCT",values:[t.name]}]:e.push({id:"MENTIONED_CONTENT",values:[{id:"WAITER_PRODUCT",values:[t.name]}]})})}},p&&!a.shouldUpdate||(p=[]),(v=p?d.filter(function(n){return p.every(function(e){var t=e.name,e=e.date;return!b()({name:t,date:e},n)})}):d).length)return e.next=22,[].concat(v.map(function(e){return r(g,m(e))}));e.next=24;break;case 22:y=e.sent,v.forEach(function(e,t){var n=e.name,e=e.date;p.push({name:n,date:e,list:2e4===y[t].data.code?y[t].data.result:"error"})});case 24:f=d.map(function(n){return{name:p.find(function(e){var t=e.name,e=e.date;return b()({name:t,date:e},n)}).name,date:p.find(function(e){var t=e.name,e=e.date;return b()({name:t,date:e},n)}).date,list:p.find(function(e){var t=e.name,e=e.date;return b()({name:t,date:e},n)}).list}}),e.next=29;break;case 27:e.prev=27,e.t0=e.catch(14);case 29:return e.prev=29,e.next=32,i({type:"save",payload:{topicData:f}});case 32:return e.finish(29);case 33:case"end":return e.stop()}},e,null,[[14,27,29,33]])}),fetchTableData:T().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return x()({},e)[E]});case 4:return l=e.sent,o=l.projectId,d=l.headerFilterParamsNew,s=l.pageType,l.topicTableData,u=a.aspect1,f=a.spu,l=a.date,e.prev=10,p=a.headerFilterParamsNew||d,d=function(e,t,n){return{queryType:"TOPIC",projectId:a.projectId||o,dateFilter:{dateGroupType:"DAY",from:t[0],numOfDays:(0,I.vv)(t,"YYYY-MM-DD"),remoteName:"cTime",to:t[1]},pageType:s,headerFilterParamsNew:(0,w.ZP)(p,function(e){e.find(function(e){return"MENTIONED_CONTENT"===e.id})?e.find(function(e){return"MENTIONED_CONTENT"===e.id}).values=[{id:"WAITER_PRODUCT",values:[n]}]:e.push({id:"MENTIONED_CONTENT",values:[{id:"WAITER_PRODUCT",values:[n]}]})}),aspect1:e}},e.next=15,r(g,d(u,l,f));case 15:2e4===(f=e.sent).data.code&&f.data.result&&(c=f.data.result.filter(function(e){return 0<e.count}).map(function(e){return x()({},e,{name:e.aspect2})})),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.prev=21,e.next=24,i({type:"save",payload:{topicTableData:c}});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[10,19,21,25]])}),fetchObjectOptions:T().mark(function e(t,n){var a,r,i,o,s;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return x()({},e)[E]});case 4:return s=e.sent,s=s.projectId,e.prev=6,e.next=9,r(c,{projectId:a.projectId||s});case 9:if(s=e.sent,2e4===(s=s.data).code)return e.next=14,i({type:"save",payload:x()({objectOptions:s.result},a)});e.next=14;break;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}},e,null,[[6,16]])}),setDefaultValue:T().mark(function e(t,n){var a,r,i,o,s,c,u;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return x()({},e)[E]});case 4:return u=e.sent,o=u.projectId,s=u.pageType,c=l()(u,["projectId","pageType"]),u=["objectsFlavor"].reduce(function(e,t){return e[t]=(void 0!==a[t]?a:c)[t],e},{}),e.prev=9,e.next=12,r(d.s,{projectId:a.projectId||o,key:s,value:JSON.stringify(u)});case 12:if(u=e.sent,2e4===u.data.code)return e.next=17,i({type:"save",payload:x()({},a)});e.next=17;break;case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}},e,null,[[9,19]])})}}},76751:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});function d(e,t){return a.h.post("waiter-session/chart/v2/find/"+e,t)}function p(e,t){return a.h.post("waiter-session/chart/find/"+e,t)}function f(e){return a.h.post("/waiter-session/overview/product/find",e)}var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),a=n(36144),v=n(87219),t=n(64396),y=n(24147),g=t.Z.service.overview,r={sessionData:void 0,platformData:void 0,shopData:void 0,productData:void 0,productSession:[],productPagination:{current:1,pageSize:5,total:0},projectId:void 0,headerFilterParamsNew:void 0,dateFilter:void 0,dateGroupType:"DAY",pageType:"WAITER_SESSION_OVERVIEW"};const i={namespace:g,state:JSON.parse(JSON.stringify(r)),reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(){return Object.assign({},r)}},effects:{fetchDatas:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchSessionData",payload:a});case 4:return e.next=6,r({type:"fetchPlatformData",payload:a});case 6:return e.next=8,r({type:"fetchShopData",payload:a});case 8:return e.next=10,r({type:"fetchProductData",payload:a});case 10:case"end":return e.stop()}},e)}),fetchSessionData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return h()({},e)[g]});case 4:return c=e.sent,o=c.projectId,p=c.dateFilter,l=c.headerFilterParamsNew,s=c.dateGroupType,c="error",p=(0,v.ZP)(a.dateFilter||p,function(e){e.dateGroupType=a.dateGroupType||s}),e.prev=11,e.next=14,[r(d,"SESSION_TIME_CHART",{projectId:a.projectId||o,dateFilter:p,headerFilterParamsNew:a.headerFilterParamsNew||l}),r(d,"SESSION_TIME_CHART",{projectId:a.projectId||o,dateFilter:p,headerFilterParamsNew:a.headerFilterParamsNew||l,queryType:"SUBJECT"})];case 14:p=e.sent,l=p[0].data,p=p[1].data,c=2e4===l.code&&2e4===p.code&&null!=(u=l.result)&&u.data.length?{total:l.result,mention:p.result}:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:return e.prev=22,e.next=25,i({type:"save",payload:h()({sessionData:c},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[11,20,22,26]])}),fetchPlatformData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return h()({},e)[g]});case 4:return c=e.sent,o=c.projectId,u=c.dateFilter,l=c.headerFilterParamsNew,s=c.dateGroupType,c="error",u=(0,v.ZP)(a.dateFilter||u,function(e){e.dateGroupType=a.dateGroupType||s}),e.prev=11,e.next=14,r(p,"NEW_DATA_TREND_LINE",{projectId:a.projectId||o,dateFilter:u,headerFilterParamsNew:a.headerFilterParamsNew||l,groupType:"SOURCE"});case 14:l=e.sent,l=l.data,c=2e4===l.code&&0!==l.result.length?l.result:"empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:h()({platformData:c},a)});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchShopData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return h()({},e)[g]});case 4:return c=e.sent,o=c.projectId,u=c.dateFilter,l=c.headerFilterParamsNew,s=c.dateGroupType,c="error",u=(0,v.ZP)(a.dateFilter||u,function(e){e.dateGroupType=a.dateGroupType||s}),e.prev=11,e.next=14,r(p,"NEW_DATA_TREND_LINE",{projectId:a.projectId||o,dateFilter:u,headerFilterParamsNew:a.headerFilterParamsNew||l,groupType:"SHOP"});case 14:l=e.sent,l=l.data,c=2e4===l.code&&0!==l.result.length?l.result:"empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,i({type:"save",payload:h()({shopData:c},a)});case 24:return e.finish(21);case 25:case"end":return e.stop()}},e,null,[[11,19,21,25]])}),fetchProductData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,u=n.select,e.next=4,u(function(e){return h()({},e)[g]});case 4:return p=e.sent,o=p.projectId,s=p.dateFilter,c=p.headerFilterParamsNew,u=p.pageType,l=p.productPagination,d=p.productSession,p="error",e.prev=12,e.next=15,r(f,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,headerFilterParamsNew:a.headerFilterParamsNew||c,pageType:u,position:a.productSession||d});case 15:d=e.sent,d=d.data,p=2e4===d.code&&0<d.result.length?d.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,i({type:"save",payload:h()({productData:Array.isArray(p)?(0,y.MW)(p):p,productPagination:{total:Array.isArray(p)?p.length:0,pagesize:a.pagesize||l.pagesize,current:a.pageIndex||l.current}},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])})}}},24147:(e,t,n)=>{"use strict";n.d(t,{MW:()=>s,js:()=>c});var t=n(15086),a=n(94055),t=n(67294),r=n.n(t),i=n(33798),o=n(39432),s=function(e){if(0!==e.length){var i=[];return e.map(function(e,t){var n=Object.keys(e),a=(e[n[0]][0]-e[n[0]][1])/e[n[0]][1]*100,r=0!=e[n[0]][1]?Math.abs(a).toFixed(2)+"%":"",a=0!=e[n[0]][1]&&0<a?1:0!=e[n[0]][1]&&a<0?-1:"--";i.push({index:t+1,goods:n[0],currCount:e[n[0]][0],prevCount:e[n[0]][1],linkIndex:{text:r,icon:a}})}),i}},c=function(t){return[{titlie:"",width:"0.1%"},{title:"序号",dataIndex:"index",key:"index",width:"10%",render:function(e){return r().createElement("span",null,e)}},{title:"商品",dataIndex:"goods",key:"goods",width:"24%",render:function(e){return r().createElement("span",{onClick:function(){return t(e)},className:"goodsStyle"},e)}},{title:"当前会话量",dataIndex:"currCount",key:"currCount",width:"24%",render:function(e){return r().createElement("span",null,(0,o.hE)(e))}},{title:"往期会话量",dataIndex:"prevCount",key:"prevCount",width:"24%",render:function(e){return r().createElement("span",null,(0,o.hE)(e))}},{title:function(e){return r().createElement("span",{style:{paddingLeft:"20px"}},"环比",r().createElement(a.default,{overlay:"环比 = (当期会话量－往期会话量）÷ 往期会话量 × 100%"},r().createElement("i",{style:{marginLeft:4},className:"icon-cem_file1"})))},dataIndex:"linkIndex",key:"linkIndex",width:"17%",render:function(e){return"--"===u(e.icon)?r().createElement("div",{style:{marginLeft:"40px"}},"--"):r().createElement("div",{style:{display:"inline-block",width:100,textAlign:"right"}},e.text,u(e.icon))}}]},u=function(e){return"number"==typeof e&&e?r().createElement(i.Z,{style:{fontSize:"12px",margin:"0 10px",cursor:"default"},defaultIcon:0<e?"shangsheng":"xiajiang",activeIcon:0<e?"shangsheng":"xiajiang"}):"--"}},33604:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});function d(e){return a.h.post("waiter-session/chart/v2/find/SESSION_TIME_CHART",e)}function y(e){return a.h.post("/waiter-session/aspectAnalyse",e)}var t=n(67154),g=n.n(t),t=n(87757),x=n.n(t),a=n(36144),t=n(64396),f=n(87219),b=t.Z.service.spu,r={lineData:void 0,pagination:{current:1,pageSize:5,total:0},aspectData:void 0,aspectLoading:!1,aspectTableData:void 0,aspectTableLoading:!1,totalAspectCount:0,totalAspectPreCount:0,topicData:void 0,topicLoading:!1,topicTableData:void 0,topicTableLoading:!1,totalTopicCount:0,totalTopicPreCount:0,projectId:void 0,analysisModel:void 0,filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,position:[],pageType:"WAITER_SESSION_PRODUCT_SINGLE",dateGroupType:"DAY"};const i={namespace:b,state:JSON.parse(JSON.stringify(r)),reducers:{save:function(e,t){t=t.payload;return g()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},r)}},effects:{fetchData:x().mark(function e(t,n){var a,r,i,o,s,c;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return g()({},e)[b]});case 4:return c=e.sent,o=c.projectId,s=c.headerFilterParamsNew,c=c.dateFilter,e.next=10,r({type:"fetchLineData",payload:a});case 10:return e.next=12,r({type:"fetchChartData",payload:{position:a.position,projectId:a.projectId||o,headerFilterParamsNew:a.headerFilterParamsNew||s,dateFilter:a.dateFilter||c,queryType:"FOCUS"}});case 12:return e.next=14,r({type:"fetchChartData",payload:g()({},a,{queryType:"TOPIC"})});case 14:case"end":return e.stop()}},e)}),fetchLineData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return g()({},e)[b]});case 4:return u=e.sent,o=u.projectId,s=u.headerFilterParamsNew,l=u.dateFilter,p=u.position,c=u.dateGroupType,u="error",l=(0,f.ZP)(a.dateFilter||l,function(e){e.dateGroupType=a.dateGroupType||c}),e.prev=12,e.next=15,r(d,{projectId:a.projectId||o,dateFilter:l,headerFilterParamsNew:a.headerFilterParamsNew||s,position:a.position||p});case 15:p=e.sent,p=p.data,u=2e4===p.code&&0<p.result.data.length?p.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,i({type:"save",payload:g()({},a,{lineData:u,pagination:{current:1,pageSize:5,total:u.data?u.data.length:0}})});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])}),fetchChartData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return g()({},e)[b]});case 4:return o=e.sent,s=o.projectId,c=o.headerFilterParamsNew,u=o.dateFilter,l=o.position,p="error",d=a.queryType,f=a.aspect1,m=h=0,e.next=14,i({type:"save",payload:((o={})["FOCUS"===d?"aspectLoading":"topicLoading"]=!0,o)});case 14:return e.prev=14,e.next=17,r(y,{queryType:d,projectId:a.projectId||s,dateFilter:a.dateFilter||u,headerFilterParamsNew:a.headerFilterParamsNew||c,position:a.position||l});case 17:if(v=e.sent,2e4===(v=v.data).code&&0<v.result.length)return p=v.result.map(function(e){return g()({},e,{name:e.aspect1})}),v.result.every(function(e){return 0===e.count})&&(p="empty"),f&&"TOPIC"!==d&&JSON.stringify(f)!==JSON.stringify(v.result.map(function(e){return e.aspect1}))||(h=v.result.reduce(function(e,t){return e+t.count},0),m=v.result.reduce(function(e,t){return e+t.preCount},0)),e.next=25,i({type:"fetchTableData",payload:{queryType:d,aspect1:f||"TOPIC"===d?[v.result[0].aspect1]:v.result.map(function(e){return e.aspect1})}});e.next=27;break;case 25:e.next=28;break;case 27:p="empty";case 28:e.next=32;break;case 30:e.prev=30,e.t0=e.catch(14);case 32:return e.prev=32,e.next=35,i({type:"save",payload:g()({},a,((v={})["FOCUS"===d?"aspectLoading":"topicLoading"]=!1,v["FOCUS"===d?"aspectData":"topicData"]=p,v["FOCUS"===d?"totalAspectCount":"totalTopicCount"]=h,v["FOCUS"===d?"totalAspectPreCount":"totalTopicPreCount"]=m,v))});case 35:return e.finish(32);case 36:case"end":return e.stop()}},e,null,[[14,30,32,36]])}),fetchTableData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return g()({},e)[b]});case 4:return o=e.sent,s=o.projectId,c=o.headerFilterParamsNew,u=o.dateFilter,l=o.position,f=a.queryType,h=a.aspect1,e.next=12,i({type:"save",payload:((o={})["FOCUS"===f?"aspectTableLoading":"topicTableLoading"]=!0,o)});case 12:return e.prev=12,e.next=15,r(y,{queryType:f,projectId:a.projectId||s,dateFilter:a.dateFilter||u,headerFilterParamsNew:a.headerFilterParamsNew||c,position:a.position||l,aspect1:h});case 15:m=e.sent,2e4===(m=m.data).code&&0<m.result.length&&(p=m.result.map(function(e){return g()({},e,{name:e.aspect2})}),d=m.result.filter(function(e){return 0<e.count}).map(function(e){return g()({},e,{name:e.aspect2})})),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,i({type:"save",payload:g()({},a,((m={})["FOCUS"===f?"aspectTableLoading":"topicTableLoading"]=!1,m["FOCUS"===f?"aspectTableData":"topicTableData"]="FOCUS"===f?p:d,m))});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[12,20,22,26]])})}}},91568:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var t=n(67154),y=n.n(t),t=n(87757),g=n.n(t),x=n(87219),t=n(48926),a=n.n(t),i=n(36144),r="SOCIAL_MODEL_COMPARISON_DEFAULT";function b(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.analysisModel,e=e.emotion;return i.h.post("/brand-analysis/chart/find/BRAND_VOLUME_CONTRAST",{projectId:t,dateFilter:n,filterModel:a,analysisModel:r,emotion:e})}function l(e){return o.apply(this,arguments)}function o(){return(o=a()(g().mark(function e(t){var n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",i.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return s.apply(this,arguments)}function s(){return(s=a()(g().mark(function e(t){var n,a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",i.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var T=n(64396).Z.social.models.comparison,c={timeType:"",fTimeType:"",formulaType:"",fFormulaType:"",volumeData:void 0,fetchedVolData:[],negativeTimeType:"",fNegativeTimeType:"",negativeFormulaType:"",fNegativeFormulaType:"",negativeVolData:void 0,fetchedNegVolData:[],positiveTimeType:"",fPositiveTimeType:"",positiveFormulaType:"",fPositiveFormulaType:"",positiveVolData:void 0,fetchedPosVolData:[],projectId:void 0,filterValue:[],analysisModel:[],dateFilter:{},dateRange:0,cachedAnalysisObjs:[]};const u={namespace:T,state:c,reducers:{save:function(e,t){t=t.payload;return y()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},c)}},effects:{fetchParams:g().mark(function e(t,n){var a,r,i,o,s,c,u;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return e[T]});case 4:return c=e.sent,u=c.projectId,s={timeType:"DAY",formulaType:"COUNT",negativeTimeType:"DAY",negativeFormulaType:"COUNT",positiveTimeType:"DAY",positiveFormulaType:"COUNT"},c={fTimeType:"",fFormulaType:"",fNegativeTimeType:"",fNegativeFormulaType:"",fPositiveTimeType:"",fPositiveFormulaType:""},e.prev=8,e.next=11,i(l,{projectId:a.projectId||u});case 11:if(u=e.sent,2e4===(u=u.data).code&&u.result){try{c=JSON.parse(u.result)}catch(e){}c.fFormulaType&&(s.formulaType=c.fFormulaType),c.fNegativeFormulaType&&(s.negativeFormulaType=c.fNegativeFormulaType),c.fPositiveFormulaType&&(s.positiveFormulaType=c.fPositiveFormulaType),c.fTimeType&&(s.timeType=c.fTimeType),c.fNegativeTimeType&&(s.negativeTimeType=c.fNegativeTimeType),c.fPositiveTimeType&&(s.positiveTimeType=c.fPositiveTimeType)}e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.next=20,r({type:"save",payload:y()({},a,c,s)});case 20:case"end":return e.stop()}},e,null,[[8,16]])}),updateFlavors:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return e[T]});case 4:return p=e.sent,d=p.projectId,o=p.fTimeType,s=p.fFormulaType,c=p.fNegativeTimeType,u=p.fNegativeFormulaType,l=p.fPositiveTimeType,p=p.fPositiveFormulaType,e.prev=12,p={fTimeType:""===a.timeType||a.timeType?a.timeType:o,fFormulaType:""===a.formulaType||a.formulaType?a.formulaType:s,fNegativeTimeType:""===a.negativeTimeType||a.negativeTimeType?a.negativeTimeType:c,fNegativeFormulaType:""===a.negativeFormulaType||a.negativeFormulaType?a.negativeFormulaType:u,fPositiveTimeType:""===a.positiveTimeType||a.positiveTimeType?a.positiveTimeType:l,fPositiveFormulaType:""===a.positiveFormulaType||a.positiveFormulaType?a.positiveFormulaType:p},e.next=16,r(f,{projectId:d,value:JSON.stringify(p)});case 16:if(d=e.sent,2e4===d.data.code)return e.next=21,i({type:"save",payload:p});e.next=21;break;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:case"end":return e.stop()}},e,null,[[12,23]])}),fetchVolumeData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return e[T]});case 4:if(p=e.sent,o=p.projectId,s=p.filterValue,v=p.analysisModel,c=p.dateFilter,u=p.timeType,l=p.fetchedVolData,f=p.cachedAnalysisObjs,p="error",d=l,f=f,e.prev=13,a.filtedObjs){e.next=25;break}return h=a.timeType||u,m=(0,x.ZP)(a.dateFilter||c,function(e){e.dateGroupType=h}),m={projectId:a.projectId||o,dateFilter:m,filterModel:a.filterValue||s,analysisModel:a.analysisModel||v},e.next=20,r(b,m);case 20:v=e.sent,2e4===(v=v.data).code&&0<v.result.length?(p=v.result,d=v.result,f=m.analysisModel[0].values[0].values):p="empty",e.next=26;break;case 25:p=a.filtedObjs.map(function(t){return d.find(function(e){return e.name===t})});case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(13);case 30:return e.prev=30,e.next=33,i({type:"save",payload:y()({},a,{volumeData:p,cachedAnalysisObjs:f,fetchedVolData:d})});case 33:return e.finish(30);case 34:case"end":return e.stop()}},e,null,[[13,28,30,34]])}),fetchNegativeVolumeData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,p=n.select,e.next=4,p(function(e){return e[T]});case 4:if(d=e.sent,o=d.projectId,s=d.filterValue,c=d.analysisModel,u=d.dateFilter,l=d.negativeTimeType,p=d.fetchedNegVolData,d="error",f=p,e.prev=12,a.filtedObjs){e.next=24;break}return h=a.negativeTimeType||l,m=(0,x.ZP)(a.dateFilter||u,function(e){e.dateGroupType=h}),m={projectId:a.projectId||o,dateFilter:m,filterModel:a.filterValue||s,analysisModel:a.analysisModel||c,emotion:"-1"},e.next=19,r(b,m);case 19:m=e.sent,2e4===(m=m.data).code&&0<m.result.length?(d=m.result,f=m.result):d="empty",e.next=25;break;case 24:d=a.filtedObjs.map(function(t){return f.find(function(e){return e.name===t})});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(12);case 29:return e.prev=29,e.next=32,i({type:"save",payload:y()({},a,{negativeVolData:d,fetchedNegVolData:f})});case 32:return e.finish(29);case 33:case"end":return e.stop()}},e,null,[[12,27,29,33]])}),fetchPositiveVolumeData:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,p=n.select,e.next=4,p(function(e){return e[T]});case 4:if(d=e.sent,o=d.projectId,s=d.filterValue,c=d.analysisModel,u=d.dateFilter,l=d.positiveTimeType,p=d.fetchedPosVolData,d="error",f=p,e.prev=12,a.filtedObjs){e.next=24;break}return h=a.positiveTimeType||l,m=(0,x.ZP)(a.dateFilter||u,function(e){e.dateGroupType=h}),m={projectId:a.projectId||o,dateFilter:m,filterModel:a.filterValue||s,analysisModel:a.analysisModel||c,emotion:"1"},e.next=19,r(b,m);case 19:m=e.sent,2e4===(m=m.data).code&&0<m.result.length?(d=m.result,f=m.result):d="empty",e.next=25;break;case 24:d=a.filtedObjs.map(function(t){return f.find(function(e){return e.name===t})});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(12);case 29:return e.prev=29,e.next=32,i({type:"save",payload:y()({},a,{positiveVolData:d,fetchedPosVolData:f})});case 32:return e.finish(29);case 33:case"end":return e.stop()}},e,null,[[12,27,29,33]])})}}},61888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),i=n(36144);function v(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.analysisModel,e=e.emotion;return i.h.post("/brand-analysis/chart/find/BRAND_VOLUME_TOP",{projectId:t,dateFilter:n,filterModel:a,analysisModel:r,topSize:10,emotion:e})}var y=n(64396).Z.social.models.top,a={projectId:void 0,filterValue:[],dateFilter:{},brand:"",volumeData:void 0,negativeVolData:void 0};const r={namespace:y,state:a,reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{fetchDatas:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,o=n.select,e.next=4,o(function(e){return e[y]});case 4:if(s=e.sent,i=s.dateFilter,o=s.projectId,s=s.filterValue,JSON.stringify(i)!==JSON.stringify(a.dateFilter)||JSON.stringify(o)!==JSON.stringify(a.projectId)||JSON.stringify(s)!==JSON.stringify(a.filterValue))return e.next=11,r({type:"fetchVolumeData",payload:a});e.next=13;break;case 11:return e.next=13,r({type:"fetchNegativeVolumeData",payload:a});case 13:case"end":return e.stop()}},e)}),fetchVolumeData:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[y]});case 4:return u=e.sent,s=u.projectId,c=u.dateFilter,u=u.filterValue,e.next=10,o(function(e){return e.screening.curScreeningMap});case 10:return f=e.sent,d=f.find(function(e){return"BRAND_SERIES"===e.id}).data.find(function(e){return"BRAND"===e.id}).options,l=a.analysisModel.find(function(e){return"BRAND_SERIES"===e.id}).values.find(function(e){return"BRAND"===e.id}).values[0],p=d.find(function(e){return e.id===l}).label,f={projectId:a.projectId||s,dateFilter:a.dateFilter||c,filterModel:a.filterValue||u,analysisModel:a.analysisModel},d="error",e.prev=16,e.next=19,r(v,f);case 19:f=e.sent,f=f.data,d=2e4===f.code&&f.result.topList&&0<f.result.topList.length?f.result.topList:"empty",e.next=26;break;case 24:e.prev=24,e.t0=e.catch(16);case 26:return e.prev=26,e.next=29,i({type:"save",payload:h()({},a,{volumeData:d,brand:p})});case 29:return e.finish(26);case 30:case"end":return e.stop()}},e,null,[[16,24,26,30]])}),fetchNegativeVolumeData:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[y]});case 4:return s=e.sent,o=s.projectId,c=s.dateFilter,s=s.filterValue,c={projectId:a.projectId||o,dateFilter:a.dateFilter||c,filterModel:a.filterValue||s,analysisModel:a.analysisModel,emotion:"-1"},s="error",e.prev=10,e.next=13,r(v,c);case 13:c=e.sent,c=c.data,s=2e4===c.code&&c.result&&0<c.result.topList.length?c.result.topList:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,i({type:"save",payload:h()({},a,{negativeVolData:s})});case 23:return e.finish(20);case 24:case"end":return e.stop()}},e,null,[[10,18,20,24]])})}}},89259:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(67154),h=n.n(a),t=n(87757),m=n.n(t),s=n(36144);function u(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.analysisModel,e=e.label;return s.h.post("/brand-analysis/chart/find/ASPECT_TREND",{projectId:t,dateFilter:n,filterModel:a,analysisModel:r,label:e})}function o(e){var t=e.projectId,n=e.dateFilter,a=e.analysisModel,r=e.filterModel,i=e.aspectEmotion,e=e.label;return s.h.post("/brand-analysis/chart/find/THIRTY_DAYS_COUNT",{projectId:t,dateFilter:n,analysisModel:a,filterModel:r,aspectEmotion:i,label:e})}function c(e){var t=e.projectId,n=e.dateFilter,a=e.analysisModel,r=e.filterModel,i=e.aspectEmotion,e=e.label;return s.h.post("/brand-analysis/chart/find/BRAND_VOLUME_TOP",{projectId:t,dateFilter:n,analysisModel:a,filterModel:r,topSize:7,aspectEmotion:i,label:e})}function v(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.pageIndex,i=e.pageSize,o=e.aspectEmotion,e=e.label;return s.h.post("/brand-analysis/chart/find/BRAND_VOLUME_DETAIL",{projectId:t,dateFilter:n,filterModel:a,pageIndex:r,aspectEmotion:o,pageSize:i,label:e})}var l=n(65556),a=n(64396),t=n(30381),p=n.n(t),y=a.Z.social.tag.detail,r={trendData:void 0,seriesOther:0,seriesData:void 0,messageData:void 0,pageIndex:1,pageSize:10,projectId:void 0,dateFilter:{},filterModel:[],analysisModel:[],aspectEmotion:8};const i={namespace:y,state:r,reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},r)}},effects:{fetchDatas:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchTrendData",payload:a});case 4:if(a.pageType.includes("brand"))return e.next=7,r({type:"fetchSeriesData",payload:a});e.next=7;break;case 7:return e.next=9,r({type:"fetchMessageList",payload:a});case 9:case"end":return e.stop()}},e)}),fetchNear30TotalData:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,n.select,e.prev=2,e.next=5,i(o,{filterModel:a.filterModel,dateFilter:{dateGroupType:"DAY",numOfDays:30,quickChoice:"近30天",remoteName:"cTime",to:p()().format("YYYY-MM-DD"),from:p()().subtract(29,"days").format("YYYY-MM-DD")},projectId:a.projectId,analysisModel:a.analysisModel,aspectEmotion:a.aspectEmotion,label:a.label});case 5:if(i=e.sent,2e4===(i=i.data).code&&i.result)return e.next=10,r({type:"save",payload:{trendData:h()({},a.trendData,{near30Total:i.result})}});e.next=10;break;case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}},e,null,[[2,12]])}),fetchTrendData:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,r=n.put,n.select,i="error",o=a.aspectEmotion,e.prev=4,e.next=7,s(u,{filterModel:a.filterModel,dateFilter:a.dateFilter,projectId:a.projectId,analysisModel:a.analysisModel,label:a.label});case 7:if(c=e.sent,2e4===(s=c.data).code&&0<s.result.length)return c=JSON.parse((0,l.WZ)(s.result)),c=3===o?c[0].dateList.reduce(function(e,t){return e+t.negative},0):8===o?c[0].dateList.reduce(function(e,t){return e+t.positive},0):c[0].total,i={dataList:s.result,total:c,near30Total:0},e.next=15,r({type:"fetchNear30TotalData",payload:h()({},a,{trendData:i})});e.next=17;break;case 15:e.next=18;break;case 17:i="empty";case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(4);case 22:return e.prev=22,e.next=25,r({type:"save",payload:h()({trendData:i},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}},e,null,[[4,20,22,26]])}),fetchSeriesData:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,n.select,s={projectId:a.projectId,dateFilter:a.dateFilter,filterModel:a.filterModel,analysisModel:a.analysisModel,aspectEmotion:a.aspectEmotion,label:a.label},o="error",e.prev=4,e.next=7,r(c,s);case 7:return s=e.sent,s=s.data,o=2e4===s.code&&s.result?s.result.topList:"empty",e.next=12,i({type:"save",payload:h()({},a,{seriesData:o,seriesOther:s.result.otherNum})});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(4);case 16:case"end":return e.stop()}},e,null,[[4,14]])}),fetchMessageList:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,d=n.select,e.next=4,d(function(e){return e[y]});case 4:return l=e.sent,o=l.projectId,s=l.dateFilter,c=l.filterModel,u=l.aspectEmotion,p=l.pageIndex,d=l.pageSize,f=l.label,l="error",e.prev=13,p=a.pageIndex||p,d=a.pageSize||d,e.next=18,r(v,{projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,aspectEmotion:void 0===a.aspectEmotion?u:a.aspectEmotion,pageIndex:(p-1)*d,pageSize:d,label:a.label||f});case 18:f=e.sent,f=f.data,l=2e4===f.code&&f.result&&0<f.result.total?f.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(13);case 25:return e.prev=25,e.next=28,i({type:"save",payload:h()({},a,{messageData:l})});case 28:return e.finish(25);case 29:case"end":return e.stop()}},e,null,[[13,23,25,29]])})}}},56847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var t=n(67154),_=n.n(t),t=n(87757),O=n.n(t),t=n(48926),a=n.n(t),p=n(36144);function i(e){return"SOCIAL_TAG_"+e.toUpperCase()+"_TOP_PAGE_TAG"}function j(e){return r.apply(this,arguments)}function r(){return(r=a()(O().mark(function e(t){var n,a,r,i,o,s,c,u,l;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,o=t.aspectLevel,s=t.pageType,c=t.checkedTag,u=t.aspectEmotion,l=t.orderType,e.abrupt("return",p.h.post("/tag-analysis/chart/find/TAG_TOP_30_"+(s.includes("brand")?"BRAND":"SERIES")+"_VOLUME",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i,aspectLevel:o,topSize:30,checkedTag:c,aspectEmotion:u,orderType:l}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){return o.apply(this,arguments)}function o(){return(o=a()(O().mark(function e(t){var n,a,r,i,o,s,c,u,l;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,o=t.aspectLevel,s=t.pageType,c=t.checkedTag,u=t.aspectEmotion,l=t.orderType,e.abrupt("return",p.h.post("/tag-analysis/chart/find/TAG_TOP_30_"+(s.includes("brand")?"BRAND":"SERIES")+"_PROPORTION",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i,aspectLevel:o,topSize:30,checkedTag:c,aspectEmotion:u,orderType:l}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e){return s.apply(this,arguments)}function s(){return(s=a()(O().mark(function e(t){var n,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.pageType,e.abrupt("return",p.h.post("/default/value/find",{projectId:n,key:i(a)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return c.apply(this,arguments)}function c(){return(c=a()(O().mark(function e(t){var n,a,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.pageType,e.abrupt("return",p.h.post("/default/value/update",{projectId:n,key:i(r),value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var t=n(64396),D=n(35239),M=t.Z.social.tag.top30,l={emotionType:"",flavorEmotionType:"",aspectLevel:"",flavorAspectLevel:"",rangeType:"",flavorRangeType:"",chart1Data:void 0,cacheChart1Data:[],cachedOrigin1:void 0,chart2Data:void 0,cacheChart2Data:[],cachedOrigin2:void 0,chart3Data:void 0,cacheChart3Data:[],projectId:void 0,filterModel:[],dateFilter:{},analysisModel:[],cachedAnalysisObjs:[],pageType:""};const f={namespace:M,state:Object.assign({},l),reducers:{save:function(e,t){t=t.payload;return _()({},e,t)},clean:function(e){return Object.assign({},l)}},effects:{fetchParams:O().mark(function e(t,n){var a,r,i,o,s,c;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,r=n.put,i={emotionType:"all",aspectLevel:"VOC_ASPECT_FIRST",rangeType:"group_desc"},o={flavorEmotionType:"",flavorAspectLevel:"",flavorRangeType:""},e.prev=4,e.next=7,s(u,{projectId:a.projectId||D.t.get(D.V.curProject).id,pageType:a.pageType});case 7:s=e.sent,2e4===(s=s.data).code&&s.result&&(o=JSON.parse(s.result)),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:return o.flavorEmotionType&&(i.emotionType=o.flavorEmotionType),o.flavorAspectLevel&&(i.aspectLevel=o.flavorAspectLevel),o.flavorRangeType&&(i.rangeType=o.flavorRangeType),c=_()({},a,o,i),e.next=20,r({type:"save",payload:c});case 20:return e.next=22,r({type:"fetchChartsData",payload:c});case 22:case"end":return e.stop()}},e,null,[[4,12]])}),fetchChartsData:O().mark(function e(t,n){var a,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,e.next=4,r({type:"fetchChart1Data",payload:a});case 4:case"end":return e.stop()}},e)}),fetchChart1Data:O().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x,b,T,I,w,E,k,C,S,N;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,f=n.select,i=n.put,e.next=4,f(function(e){return _()({},e)[M]});case 4:if(h=e.sent,o=h.projectId,s=h.dateFilter,c=h.filterModel,u=h.analysisModel,l=h.aspectLevel,p=h.cacheChart1Data,y=h.cachedAnalysisObjs,d=h.pageType,f=h.rangeType,x=h.emotionType,g=h.cachedOrigin1,m=h="error",v=p,y=y,g=g,x=a.emotionType||x,b=a.rangeType||f,e.prev=19,a.filtedObjs&&"empty"!==h&&"error"!==h){e.next=45;break}return T={projectId:a.projectId||o||D.t.get(D.V.curProject).id,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||u,aspectLevel:a.lastAspectLevel||a.aspectLevel||l,pageType:a.pageType||d,checkedTag:a.aspect,aspectEmotion:"all"===x?void 0:x,orderType:b},e.next=24,r(j,T);case 24:if(N=e.sent,2e4===(N=N.data).code&&N.result.length)return I=[],0===(w=N.result.reduce(function(e,t){if(!t.tagCountVOs||0===t.tagCountVOs.length)return I.push(t.brandSeries.split("_")[1]),e;var n=t.tagCountVOs.map(function(e){var t=e.escoreCountVOs.find(function(e){return 3===e.escore}),n=t?t.count:0,a=e.escoreCountVOs.find(function(e){return 8===e.escore}),t=a?a.count:0,a=t+n;return{name:e.aspect,positiveCount:t,positiveRate:t/a,negativeCount:n,negativeRate:n/a,totalCount:a}});return e.push({name:t.brandSeries.split("_")[1],values:n}),e},[])).length?(h="empty",g=[],v=[],y=T.analysisModel[0].values[0].values,new Error):0<I.length&&(E=w[0],I.forEach(function(e){w.push({name:e,values:E.values.map(function(e){return{name:e.name,positiveCount:0,positiveRate:0,negativeCount:0,negativeRate:0}})})})),k=T.analysisModel[0].values[0].values.map(function(t){return w.find(function(e){return e.name===t.split("_")[1]})}),C="all"===x?"totalCount":"8"===x?"positiveCount":"negativeCount",k[0].values=k[0].values.sort(function(e,t){return b.endsWith("asc")?e[C]-t[C]:t[C]-e[C]}),k.forEach(function(n,e){e&&(n.values=k[0].values.map(function(t){var e=n.values.find(function(e){return e.name===t.name});return e||{name:t.name,positiveCount:0,positiveRate:0,negativeCount:0,negativeRate:0}}))}),h=k,g=N.result,v=k,y=T.analysisModel[0].values[0].values,e.next=40,i({type:"fetchChart2Data",payload:_()({},a,{chart1Data:h})});e.next=42;break;case 40:e.next=43;break;case 42:h="empty";case 43:e.next=52;break;case 45:if(0<(h=a.filtedObjs.reduce(function(e,t){var n=v.find(function(e){return e.name===t});return n&&e.push(n),e},[])).length)return e.next=49,i({type:"fetchChart2Data",payload:_()({},a,{chart1Data:h})});e.next=51;break;case 49:e.next=52;break;case 51:h="empty";case 52:e.next=56;break;case 54:e.prev=54,e.t0=e.catch(19);case 56:return e.prev=56,"empty"===h||"error"===h||b.startsWith("group")?m=h:(m=JSON.parse(JSON.stringify(h)),S="8"===x?"positiveRate":"negativeRate",m[0].values=m[0].values.sort(function(e,t){return b.endsWith("asc")?e[S]-t[S]:t[S]-e[S]}),m.forEach(function(n,e){e&&(n.values=m[0].values.map(function(t){var e=n.values.find(function(e){return e.name===t.name});return e||{name:t.name,positiveCount:0,positiveRate:0,negativeCount:0,negativeRate:0}}))})),N=_()({},a,{chart1Data:h,chart3Data:m,cachedOrigin1:g,cacheChart1Data:v,cachedAnalysisObjs:y}),"error"===h&&(N.chart2Data="error"),"empty"===h&&(N.chart2Data="empty"),e.next=63,i({type:"save",payload:N});case 63:return e.finish(56);case 64:case"end":return e.stop()}},e,null,[[19,54,56,64]])}),fetchChart2Data:O().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y,g,x,b,T,I,w,E;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,p=n.select,i=n.put,e.next=4,p(function(e){return _()({},e)[M]});case 4:if(f=e.sent,o=f.projectId,s=f.dateFilter,c=f.filterModel,u=f.analysisModel,E=f.aspectLevel,l=f.cacheChart2Data,x=f.pageType,p=f.rangeType,d=f.emotionType,m=f.cachedOrigin2,f="error",h=l,m=m,e.prev=16,a.filtedObjs){e.next=28;break}return v=a.rangeType||p,y=a.emotionType||d,g={projectId:a.projectId||o||D.t.get(D.V.curProject).id,dateFilter:a.dateFilter||s,filterModel:a.filterModel||c,analysisModel:a.analysisModel||u,aspectLevel:a.lastAspectLevel||a.aspectLevel||E,pageType:a.pageType||x,aspectEmotion:"all"===y?void 0:y,orderType:v,checkedTag:a.aspect},e.next=23,r(k,g);case 23:E=e.sent,2e4===(x=E.data).code&&x.result.length?(b=[],0===(T=x.result.reduce(function(e,a){if(!a.tagCountVOs||0===a.tagCountVOs.length)return b.push(a.brandSeries.split("_")[1]),e;var r=a.posCount+a.negCount,t=a.tagCountVOs.map(function(e){var t=e.escoreCountVOs.find(function(e){return 3===e.escore}),n=t?t.count:0,t=e.escoreCountVOs.find(function(e){return 8===e.escore}),t=t?t.count:0;return{name:e.aspect,positiveRate:t/a.posCount,negativeRate:n/a.negCount,voiceRate:(t+n)/r}});return e.push({name:a.brandSeries.split("_")[1],values:t}),e},[])).length?(f="empty",m=[],h=[],new Error):0<b.length&&(I=T[0],b.forEach(function(e){T.push({name:e,values:I.values.map(function(e){return{name:e.name,positiveRate:0,negativeRate:0,voiceRate:0}})})})),a.chart1Data&&v.startsWith("group")?T[0].values=a.chart1Data[0].values.map(function(t){var e=T[0].values.find(function(e){return e.name===t.name});return e||{name:t.name,positiveRate:0,negativeRate:0,voiceRate:0}}):(w="all"===y?"voiceRate":"8"===d?"positiveRate":"negativeRate",T[0].values=T[0].values.sort(function(e,t){return v.endsWith("asc")?e[w]-t[w]:t[w]-e[w]})),E=g.analysisModel[0].values[0].values.map(function(t){return T.find(function(e){return e.name===t.split("_")[1]})}).filter(function(e){return e}),f=E,m=x.result,h=E):f="empty",e.next=29;break;case 28:f=a.filtedObjs.reduce(function(e,t){var n=h.find(function(e){return e.name===t});return n&&e.push(n),e},[]);case 29:e.next=33;break;case 31:e.prev=31,e.t0=e.catch(16);case 33:return e.prev=33,e.next=36,i({type:"save",payload:_()({},a,{chart2Data:f,cachedOrigin2:m,cacheChart2Data:h})});case 36:return e.finish(33);case 37:case"end":return e.stop()}},e,null,[[16,31,33,37]])}),updateFlavors:O().mark(function e(t,n){var a,r,i,o,s,c,u,l;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,c=n.select,i=n.put,e.next=4,c(function(e){return _()({},e)[M]});case 4:return l=e.sent,o=l.projectId,s=l.flavorEmotionType,c=l.flavorAspectLevel,u=l.flavorRangeType,l=l.pageType,e.prev=10,u={flavorEmotionType:void 0!==a.emotionType?a.emotionType:s,flavorAspectLevel:void 0!==a.aspectLevel?a.aspectLevel:c,flavorRangeType:void 0!==a.rangeType?a.rangeType:u},e.next=14,r(d,{projectId:o,pageType:l,value:JSON.stringify(u)});case 14:if(l=e.sent,2e4===l.data.code)return e.next=19,i({type:"save",payload:u});e.next=19;break;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(10);case 23:case"end":return e.stop()}},e,null,[[10,21]])})}}},13885:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var t=n(67154),g=n.n(t),t=n(87757),x=n.n(t),b=n(87219),i=n(36144),a=n(65556);function l(e){var t=e.projectId,e=e.type;return i.h.post("/default/value/find",{projectId:t,key:"brandTrend"===e?a.M1:a.YG})}function f(e){var t=e.projectId,n=e.type,e=e.value;return i.h.post("/default/value/update",{projectId:t,key:"brandTrend"===n?a.M1:a.YG,value:e})}function u(e){e=e.projectId;return i.h.post("/brand-analysis/voc-aspect/filter/find",{projectId:e})}function T(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.analysisModel,e=e.label;return i.h.post("/brand-analysis/chart/find/ASPECT_TREND",{projectId:t,dateFilter:n,filterModel:a,analysisModel:r,label:e})}function I(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,r=e.analysisModel,e=e.label;return i.h.post("/brand-analysis/chart/find/ASPECT_CONTRAST_PROPORTION_TREND",{projectId:t,dateFilter:n,filterModel:a,analysisModel:r,label:e})}var w=n(64396).Z.social.tag.trend,r={label:void 0,filterData:void 0,volTimeType:"",fVolTimeType:"",volType:"",fVolType:"",volumeData:void 0,fetchedVolData:[],ratioTimeType:"",fRatioTimeType:"",ratioType:"",fRatioType:"",ratioData:void 0,fetchedRatioData:[],cmtTimeType:"",fCmtTimeType:"",cmtType:"",fCmtType:"",commentData:void 0,fetchedCmtData:[],projectId:void 0,filterValue:[],analysisModel:[],dateFilter:{},dateRange:0,cachedAnalysisObjs:[]};const o={namespace:w,state:r,reducers:{save:function(e,t){t=t.payload;return g()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},r)}},effects:{fetchParams:x().mark(function e(t,n){var a,r,i,o,s,c,u;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.call,o=n.select,e.next=4,o(function(e){return e[w]});case 4:return c=e.sent,u=c.projectId,s={volTimeType:"DAY",volType:"NEGATIVE",ratioTimeType:"DAY",ratioType:"NEGATIVE",cmtTimeType:"DAY",cmtType:"NEGATIVE"},c={fVolTimeType:"",fVolType:"",fRatioTimeType:"",fRatioType:"",fCmtTimeType:"",fCmtType:""},e.prev=8,e.next=11,i(l,{projectId:a.projectId||u,type:a.type||""});case 11:if(u=e.sent,2e4===(u=u.data).code&&u.result){try{c=JSON.parse(u.result)}catch(e){}c.fVolTimeType&&(s.volTimeType=c.fVolTimeType),c.fVolType&&(s.volType=c.fVolType),c.fRatioTimeType&&(s.ratioTimeType=c.fRatioTimeType),c.fRatioType&&(s.ratioType=c.fRatioType),c.fCmtTimeType&&(s.cmtTimeType=c.fCmtTimeType),c.fCmtType&&(s.cmtType=c.fCmtType)}e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.next=20,r({type:"save",payload:g()({},a,c,s)});case 20:case"end":return e.stop()}},e,null,[[8,16]])}),updateFlavors:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,l=n.select,e.next=4,l(function(e){return e[w]});case 4:return p=e.sent,d=p.projectId,o=p.fVolTimeType,s=p.fVolType,c=p.fRatioTimeType,u=p.fRatioType,l=p.fCmtTimeType,p=p.fCmtType,e.prev=12,p={fVolTimeType:""===a.volTimeType||a.volTimeType?a.volTimeType:o,fVolType:""===a.volType||a.volType?a.volType:s,fRatioTimeType:""===a.ratioTimeType||a.ratioTimeType?a.ratioTimeType:c,fRatioType:""===a.ratioType||a.ratioType?a.ratioType:u,fCmtTimeType:""===a.cmtTimeType||a.cmtTimeType?a.cmtTimeType:l,fCmtType:""===a.cmtType||a.cmtType?a.cmtType:p},e.next=16,r(f,{projectId:d,type:a.type||"",value:JSON.stringify(p)});case 16:if(d=e.sent,2e4===d.data.code)return e.next=21,i({type:"save",payload:p});e.next=21;break;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:case"end":return e.stop()}},e,null,[[12,23]])}),fetchAspectFliter:x().mark(function e(t,n){var a,r,i,o,s,c;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return e[w]});case 4:return c=e.sent,s=c.projectId,e.prev=6,e.next=9,r(u,{projectId:a.projectId||s});case 9:if(c=e.sent,2e4===(s=c.data).code&&0<s.result.length)return c=s.result[0].id,e.next=15,i({type:"save",payload:{filterData:s.result,label:{id:c}}});e.next=15;break;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}},e,null,[[6,17]])}),fetchVolumeData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,p=n.select,e.next=4,p(function(e){return e[w]});case 4:if(d=e.sent,o=d.projectId,s=d.filterValue,c=d.analysisModel,u=d.dateFilter,d.volType,l=d.volTimeType,p=d.fetchedVolData,y=d.label,h=d.cachedAnalysisObjs,d="error",f=p,h=h,e.prev=15,a.filtedObjs){e.next=27;break}return m=a.volTimeType||l,v=(0,b.ZP)(a.dateFilter||u,function(e){e.dateGroupType=m}),v={projectId:a.projectId||o,dateFilter:v,filterModel:a.filterValue||s,analysisModel:a.analysisModel||c,label:a.label||y},e.next=22,r(T,v);case 22:y=e.sent,2e4===(y=y.data).code&&0<y.result.length?(d=y.result,f=y.result,h=v.analysisModel[0].values[0].values):d="empty",e.next=28;break;case 27:d=a.filtedObjs.map(function(t){return f.find(function(e){return e.name===t})});case 28:e.next=32;break;case 30:e.prev=30,e.t0=e.catch(15);case 32:return e.prev=32,e.next=35,i({type:"save",payload:g()({},a,{volumeData:d,fetchedVolData:f,cachedAnalysisObjs:h})});case 35:return e.finish(32);case 36:case"end":return e.stop()}},e,null,[[15,30,32,36]])}),fetchRatioData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,m=n.select,e.next=4,m(function(e){return e[w]});case 4:if(p=e.sent,o=p.projectId,s=p.filterValue,c=p.analysisModel,h=p.dateFilter,p.ratioType,u=p.ratioTimeType,l=p.fetchedRatioData,m=p.label,p="error",d=l,e.prev=14,a.filtedObjs){e.next=26;break}return f=a.ratioTimeType||u,h=(0,b.ZP)(a.dateFilter||h,function(e){e.dateGroupType=f}),m={projectId:a.projectId||o,dateFilter:h,filterModel:a.filterValue||s,analysisModel:a.analysisModel||c,label:a.label||m},e.next=21,r(I,m);case 21:v=e.sent,2e4===(v=v.data).code&&0<v.result.length?(p=v.result,d=v.result):p="empty",e.next=30;break;case 26:v=a.filtedObjs.map(function(t){return d.filter(function(e){return e.name===t})}),y=[],v.forEach(function(e){return e.forEach(function(e){y.push(g()({},e))})}),p=y;case 30:e.next=34;break;case 32:e.prev=32,e.t0=e.catch(14);case 34:return e.prev=34,e.next=37,i({type:"save",payload:g()({},a,{ratioData:p,fetchedRatioData:d})});case 37:return e.finish(34);case 38:case"end":return e.stop()}},e,null,[[14,32,34,38]])}),fetchCmtData:x().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v,y;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,f=n.select,e.next=4,f(function(e){return e[w]});case 4:if(h=e.sent,o=h.projectId,s=h.filterValue,c=h.analysisModel,u=h.dateFilter,l=h.cmtType,p=h.cmtTimeType,d=h.fetchedCmtData,f=h.label,h="error",m=d,e.prev=14,a.filtedObjs){e.next=26;break}return v=a.cmtTimeType||p,y=(0,b.ZP)(a.dateFilter||u,function(e){e.dateGroupType=v}),y={projectId:a.projectId||o,dateFilter:y,filterModel:a.filterValue||s,analysisModel:a.analysisModel||c,aspectEmotion:a.cmtType||l,label:a.label||f},e.next=21,r(T,y);case 21:y=e.sent,2e4===(y=y.data).code&&0<y.result.length?(h=y.result,m=y.result):h="empty",e.next=27;break;case 26:h=a.filtedObjs.map(function(t){return m.find(function(e){return e.name===t})});case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(14);case 31:return e.prev=31,e.next=34,i({type:"save",payload:g()({},a,{commentData:h,fetchedCmtData:m})});case 34:return e.finish(31);case 35:case"end":return e.stop()}},e,null,[[14,29,31,35]])})}}},65556:(e,t,n)=>{"use strict";n.d(t,{jn:()=>function(e){switch(e){case"NEGATIVE":case 3:return[3];case"POSITIVE":case 8:return[8];default:return[3,5,8]}},WZ:()=>function(e){e=e.reduce(function(e,t){var a=0,n=t.dateList.reduce(function(e,t){var n=e.find(function(e){return e.date===t.date});return n?("NEGATIVE"===t.emotion?n.negative=t.count:n.positive=t.count,n.count=n.count+t.count):(n={date:t.date,negative:0,positive:0,count:t.count},"NEGATIVE"===t.emotion?n.negative=t.count:n.positive=t.count,e.push(n)),a+=t.count,e},[]);return e.push(r()({},t,{total:a,dateList:n})),e},[]).map(function(t){return r()({},t,{dateList:t.dateList.map(function(e){return r()({},e,{positiveRate:0===t.total?0:e.positive/t.total,negativeRate:0===t.total?0:e.negative/t.total})})})});return JSON.stringify(e)},iM:()=>function(e){e=(0,i.ZP)(e,function(e){e&&e.reduce(function(e,t){var n=e.find(function(e){return e.id===t.id});return n?n.dateList?(n.total=t.total,n.dateList=n.dateList.reduce(function(e,t){var n=e.find(function(e){return e.date===t.date});return n?("NEGATIVE"===t.emotion?n.negative=t.count:n.positive=t.count,n.count=n.count+t.count):(n={date:t.date,negative:0,positive:0,count:t.count},"NEGATIVE"===t.emotion?n.negative=t.count:n.positive=t.count,e.push(n)),e},[])):n.dateList=t.dateList&&t.dateList.reduce(function(e,t){var n=e.find(function(e){return e.date===t.date});return n?"NEGATIVE"===t.emotion?(n.negative=t.count,n.count=n.count+t.count):"POSITIVE"===t.emotion&&(n.positive=t.count,n.count=n.count+t.count):(n={date:t.date,negative:0,positive:0,count:t.count},"NEGATIVE"===t.emotion?n.negative=t.count:"POSITIVE"===t.emotion&&(n.positive=t.count),e.push(n)),e},[]):e.push(t),e},[])});return JSON.stringify(e)},gJ:()=>a.ZT,M1:()=>o,YG:()=>s});var t=n(67154),r=n.n(t),a=n(90126),i=n(87219),o="SOCIAL_TAG_BRAND_TREND",s="SOCIAL_TAG_MODEL_TREND"},57835:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var t=n(67154),v=n.n(t),t=n(87757),y=n.n(t),t=n(48926),a=n.n(t),s=n(36144),r="SOCIAL_OVERVIEW_PAGE_TAG";function g(e){return i.apply(this,arguments)}function i(){return(i=a()(y().mark(function e(t){var n,a,r,i,o;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,o=t.emotion,e.abrupt("return",s.h.post("/brand-analysis/chart/find/VOLUME_TREND",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i,emotion:o}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return o.apply(this,arguments)}function o(){return(o=a()(y().mark(function e(t){var n,a,r,i;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.dateFilter,r=t.filterModel,i=t.analysisModel,e.abrupt("return",s.h.post("/brand-analysis/chart/find/VOLUME_EMOTION_COMPARE",{projectId:n,dateFilter:a,filterModel:r,analysisModel:i}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return c.apply(this,arguments)}function c(){return(c=a()(y().mark(function e(t){var n;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",s.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return(u=a()(y().mark(function e(t){var n,a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,e.abrupt("return",s.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var b=n(87219),T=n(64396).Z.social.overview;function I(n){var a=n.reduce(function(e,t,n){return 0===n?(e.ugly=!1,e.tarIdx=0,e.tarLen=t.dateList.length):(e.ugly=t.dateList.length!==e.tarLen,e.tarIdx=t.dateList.length>e.tarLen?n:e.tarIdx,e.tarLen=Math.max(t.dateList.length,e.tarIdx)),e},{ugly:!1,tarIdx:0,tarLen:0});if(a.ugly){var e=n.slice();return a.tarLen?(e.forEach(function(e,t){t!==a.tarIdx&&a.tarLen!==e.dateList.length&&(e.dateList=n[a.tarIdx].dateList.map(function(e){return{date:e.date,count:0}}))}),e):"empty"}return n}var p={allVoicData:void 0,fetchedAllVoiceData:[],allDateType:"DAY",allDtFlavor:"",compareData:void 0,fetchedCompareData:[],negVoiceData:void 0,fetchedNegVoiceData:[],negDataType:"DAY",negDtFlavor:"",posVoiceData:void 0,fetchedPosVoiceData:[],posDateType:"DAY",posDtFlavor:"",projectId:void 0,filterModel:[],dateFilter:{},analysisModel:[],cachedAnalysisObjs:[],dateOptions:[],defaultDateType:"DAY"};const d={namespace:T,state:Object.assign({},p),reducers:{save:function(e,t){t=t.payload;return v()({},e,t)},clean:function(e){return Object.assign({},p)}},effects:{fetchParams:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,p=n.select,e.next=4,p(function(e){return v()({},e)[T]});case 4:if(h=e.sent,o=h.allDtFlavor,s=h.negDtFlavor,c=h.posDtFlavor,u=h.projectId,l=h.analysisModel,p=h.filterValue,h=h.dateFilter,JSON.stringify(l)===JSON.stringify(a.analysisModel)&&JSON.stringify(p)===JSON.stringify(a.filterValue)&&JSON.stringify(h)===JSON.stringify(a.dateFilter))return e.abrupt("return");e.next=14;break;case 14:if(d={allDateType:o||a.defaultDateType,negDateType:s||a.defaultDateType,posDateType:c||a.defaultDateType},f={allDtFlavor:o,negDtFlavor:s,posDtFlavor:c},u){e.next=27;break}return e.prev=17,e.next=20,r(x,{projectId:a.projectId});case 20:h=e.sent,2e4===(h=h.data).code&&h.result&&((f=JSON.parse(h.result)).allDtFlavor&&(d.allDateType=f.allDtFlavor),f.negDtFlavor&&(d.negDateType=f.negDtFlavor),f.posDtFlavor&&(d.posDateType=f.posDtFlavor)),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(17);case 27:return["allDateType","negDateType","posDateType"].forEach(function(t){a.dateOptions.some(function(e){return e.value===d[t]})||(d[t]=a.defaultDateType)}),m=v()({},a,f,d),e.next=31,i({type:"fetchAllVoicData",payload:m});case 31:return e.next=33,i({type:"fetchVoicCompareDate",payload:m});case 33:return e.next=35,i({type:"fetchNegVoicData",payload:m});case 35:return e.next=37,i({type:"fetchPosVoicData",payload:m});case 37:case"end":return e.stop()}},e,null,[[17,25]])}),fetchAllVoicData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,c=n.select,i=n.put,e.next=4,c(function(e){return v()({},e)[T]});case 4:if(u=e.sent,o=u.projectId,s=u.dateFilter,m=u.filterValue,h=u.analysisModel,c=u.fetchedAllVoiceData,p=u.cachedAnalysisObjs,u="error",l=c,p=p,e.prev=12,a.filtedObjs){e.next=22;break}return d={projectId:a.projectId||o,dateFilter:(0,b.ZP)(a.dateFilter||s,function(e){a.allDateType&&(e.dateGroupType=a.allDateType)}),filterModel:a.filterValue||m,analysisModel:a.analysisModel||h},e.next=17,r(g,d);case 17:m=e.sent,2e4===(f=m.data).code&&f.result.length?(h=d.analysisModel[0].values[0].values,m=h.reduce(function(e,t){var n=f.result.find(function(e){return e.name===t.split("_")[1]});return n&&e.push(n),e},[]),m=I(m),l=u=m,p=h):u="empty",e.next=23;break;case 22:u=a.filtedObjs.map(function(t){return l.find(function(e){return e.name===t})});case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(12);case 27:return e.prev=27,e.next=30,i({type:"save",payload:v()({},a,{allVoicData:u,cachedAnalysisObjs:p,fetchedAllVoiceData:l})});case 30:return e.finish(27);case 31:case"end":return e.stop()}},e,null,[[12,25,27,31]])}),fetchNegVoicData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,u=n.select,i=n.put,e.next=4,u(function(e){return v()({},e)[T]});case 4:if(l=e.sent,o=l.projectId,s=l.dateFilter,c=l.filterValue,h=l.analysisModel,u=l.fetchedNegVoiceData,l="error",p=u,e.prev=11,a.filtedObjs){e.next=21;break}return d={projectId:a.projectId||o,dateFilter:(0,b.ZP)(a.dateFilter||s,function(e){a.negDateType&&(e.dateGroupType=a.negDateType)}),filterModel:a.filterValue||c,analysisModel:a.analysisModel||h,emotion:-1},e.next=16,r(g,d);case 16:h=e.sent,2e4===(f=h.data).code&&f.result.length?(h=d.analysisModel[0].values[0].values,h=h.reduce(function(e,t){var n=f.result.find(function(e){return e.name===t.split("_")[1]});return n&&e.push(n),e},[]),h=I(h),p=l=h):l="empty",e.next=22;break;case 21:l=a.filtedObjs.map(function(t){return p.find(function(e){return e.name===t})});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(11);case 26:return e.prev=26,e.next=29,i({type:"save",payload:v()({},a,{negVoiceData:l,fetchedNegVoiceData:p})});case 29:return e.finish(26);case 30:case"end":return e.stop()}},e,null,[[11,24,26,30]])}),fetchPosVoicData:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,u=n.select,i=n.put,e.next=4,u(function(e){return v()({},e)[T]});case 4:if(l=e.sent,o=l.projectId,s=l.dateFilter,c=l.filterValue,h=l.analysisModel,u=l.fetchedPosVoiceData,l="error",p=u,e.prev=11,a.filtedObjs){e.next=21;break}return d={projectId:a.projectId||o,dateFilter:(0,b.ZP)(a.dateFilter||s,function(e){a.posDateType&&(e.dateGroupType=a.posDateType)}),filterModel:a.filterValue||c,analysisModel:a.analysisModel||h,emotion:1},e.next=16,r(g,d);case 16:h=e.sent,2e4===(f=h.data).code&&f.result.length?(h=d.analysisModel[0].values[0].values,h=h.reduce(function(e,t){var n=f.result.find(function(e){return e.name===t.split("_")[1]});return n&&e.push(n),e},[]),h=I(h),p=l=h):l="empty",e.next=22;break;case 21:l=a.filtedObjs.map(function(t){return p.find(function(e){return e.name===t})});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(11);case 26:return e.prev=26,e.next=29,i({type:"save",payload:v()({},a,{posVoiceData:l,fetchedPosVoiceData:p})});case 29:return e.finish(26);case 30:case"end":return e.stop()}},e,null,[[11,24,26,30]])}),fetchVoicCompareDate:y().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,u=n.select,i=n.put,e.next=4,u(function(e){return v()({},e)[T]});case 4:if(l=e.sent,o=l.projectId,s=l.dateFilter,c=l.filterValue,h=l.analysisModel,u=l.fetchedCompareData,l="error",p=u,e.prev=11,a.filtedObjs){e.next=21;break}return d={projectId:a.projectId||o,dateFilter:a.dateFilter||s,filterModel:a.filterValue||c,analysisModel:a.analysisModel||h},e.next=16,r(m,d);case 16:h=e.sent,2e4===(f=h.data).code&&f.result.length?(h=d.analysisModel[0].values[0].values,h=h.reduce(function(e,t){var n=f.result.find(function(e){return e.name===t.split("_")[1]});return n&&e.push(n),e},[]),p=l=h):l="empty",e.next=22;break;case 21:l=a.filtedObjs.map(function(t){return p.find(function(e){return e.name===t})});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(11);case 26:return e.prev=26,e.next=29,i({type:"save",payload:v()({},a,{compareData:l,fetchedCompareData:p})});case 29:return e.finish(26);case 30:case"end":return e.stop()}},e,null,[[11,24,26,30]])}),updateFlavors:y().mark(function e(t,n){var a,r,i,o,s,c,u;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,s=n.select,i=n.put,e.next=4,s(function(e){return v()({},e)[T]});case 4:return c=e.sent,u=c.projectId,o=c.allDtFlavor,s=c.posDtFlavor,c=c.negDtFlavor,e.prev=9,c={allDtFlavor:""===a.allDtFlavor||a.allDtFlavor?a.allDtFlavor:o,posDtFlavor:""===a.posDtFlavor||a.posDtFlavor?a.posDtFlavor:s,negDtFlavor:""===a.negDtFlavor||a.negDtFlavor?a.negDtFlavor:c},e.next=13,r(l,{projectId:u,value:JSON.stringify(c)});case 13:if(u=e.sent,2e4===u.data.code)return e.next=18,i({type:"save",payload:c});e.next=18;break;case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(9);case 22:case"end":return e.stop()}},e,null,[[9,20]])})}}},90126:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>function(e,t){var n=e.filterValue,a=e.dateFilter,r=e.analysisModel,i=e.cachedAnalysisObjs,o=t.filterValue,e=t.dateFilter,t=t.analysisModel;if(0<r.length&&JSON.stringify(a)===JSON.stringify(e)){var s=t[0].values.map(function(e){return e.id}),c=t[0].id,n=(0,f.ZP)(n,function(e){e=e.find(function(e){return e.id===c});e&&(e.values=e.values.filter(function(e){e=e.id;return!s.includes(e)}))}),o=(0,f.ZP)(o,function(e){e=e.find(function(e){return e.id===c});e&&(e.values=e.values.filter(function(e){e=e.id;return!s.includes(e)}))});if(JSON.stringify(n)===JSON.stringify(o)){var u=i,t=t[0].values[0].values;if(0===u.length)return;for(var l=[],p=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(d=p()).done;){var d=d.value;if(-1===u.indexOf(d))return;l.push(d.split("_")[1])}return l}}return},fv:()=>a,ou:()=>function(e){return(0,f.ZP)(e,function(e){e.forEach(function(e){e.id=function(e){switch(e){case"VOC_ASPECT_FIRST":return"aspect1";case"VOC_ASPECT_SECOND":return"aspect2";case"VOC_ASPECT_THIRD":return"aspect3";case"VOC_ASPECT_FOURTH":return"aspect4";default:return"aspect"}}(e.id),e.values=e.values.map(function(e){return e.split("_")[0]})})})}});var f=n(87219);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var a={vivo:["#027DC2","#4DA4D4","#9ACBE7"],oppo:["#00A24F","#4CBD83","#99DAB9"],"小米":["#F57924","#F8A165","#FBC9A7"],"华为":["#BF0007","#D24C51","#E5999C"],apple:["#131313","#595959","#A1A1A1"],"苹果":["#131313","#595959","#A1A1A1"],realme:["#FFC916","#FFD95B","#FFE9A2"],"红米":["#FF5100","#FF854C","#FFB999"],"黑鲨":["#3DEA29","#77F069","#B1F7A9"],"一加":["#EB015F","#F14D8F","#F799BF"],"荣耀":["#BF00AB","#D24CC4","#E599DD"],"魅族":["#02A9E6","#4DC2ED","#9ADDF5"],"三星":["#12218B","#5963AD","#A0A6D1"]}},64981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});function o(e){return e=e.data,r.h.post("/product/document/listDocs",e)}var t=n(67154),a=n.n(t),t=n(87757),s=n.n(t),r=n(36144);const i={namespace:n(64396).Z.userHelp.helpCenter,state:a()({},Object.assign({},{list:[]})),reducers:{save:function(e,t){t=t.payload;return a()({},e,t)}},effects:{fetchHelpList:s().mark(function e(t,n){var a,r,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.select,r=n.call,e.prev=2,e.next=5,r(o,{});case 5:if(i=e.sent,2e4===(i=i.data).code)return e.next=10,a({type:"save",payload:{list:i.result}});e.next=10;break;case 10:return e.abrupt("return",i.result);case 13:e.prev=13,e.t0=e.catch(2),console.log("error:",e.t0);case 16:case"end":return e.stop()}},e,null,[[2,13]])})}}},61193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const a=["ACCOUNT","ACCOUNT_INFO","ACCOUNT_INFO_EDIT","ACCOUNT_OVERVIEW","ANALYZE","ANALYZE_BRAND","ANALYZE_PRICE","ANALYZE_MARKETING","ANALYZE_OVERVIEW","ANALYZE_PRODUCT","ANALYZE_SERVER","CONNECTION","CONNECTION_DELETE","CONNECTION_EDIT","DASHBOARD","DASHBOARD_DELETE","DASHBOARD_EDIT","DATA_DETAIL","DATA_DETAIL_EDIT","INBOX_ALL","INBOX_FORWARD","INBOX_REPLY","MANAGEMENT","PROJECT","PROJECT_DELETE","PROJECT_EDIT","ROLE","ROLE_DELETE","ROLE_EDIT","SAFETY","SAFETY_AUDIT_LOG","SAFETY_HISTORY_LOG","TOPIC","TOPIC_DELETE","TOPIC_EDIT","USER","USER_ACTIVE","USER_INVITE","USER_ROLE","CONNECTION_SEARCH","REVIEW_MESSAGE_LOCK"];window.addEventListener("storage",function(e){e.key===r.USER_KEY&&(r.user=JSON.parse(localStorage.getItem(r.USER_KEY)))});var r={USER_KEY:"__user__",AUTHORITY_KEY:"__authority__",authorityLock:!0,isLoginIn:function(){var e=JSON.parse(localStorage.getItem(r.USER_KEY));return!!e&&(r.user=e,!0)},getUser:function(){return r.user||(r.user=JSON.parse(localStorage.getItem(r.USER_KEY))),r.user},register:function(e){r.user=e,localStorage.setItem(r.USER_KEY,JSON.stringify(e))},updateUser:function(e){r.register(Object.assign(r.user,e))},setAuthority:function(e){localStorage.setItem(r.AUTHORITY_KEY,JSON.stringify(e))},hasAuthority:function(e){return r.authorityLock?!!localStorage.getItem(r.AUTHORITY_KEY)&&JSON.parse(localStorage.getItem(r.AUTHORITY_KEY)).includes(e):a.includes(e)},getAuthority:function(){return r.authorityLock?JSON.parse(localStorage.getItem(r.AUTHORITY_KEY)):a},destroy:function(){delete r.user,localStorage.removeItem(r.USER_KEY),localStorage.removeItem(r.AUTHORITY_KEY)}};const i=r},55815:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(85354),r=n.n(a),t=n(67294),o=n.n(t),a=n(45697),a=n.n(a),s=n(43036),i=n(61409),t=function(a){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=a.call.apply(a,[this].concat(t))||this)._handleBreadcrumbClick=function(e){var t=r.props,n=t.title,a=t.beforeJump;e!==n.length-1&&(a?new Promise(function(e,t){return a(e,t)}).then(function(){i.mW.push({pathname:n[e].url,state:n[e].state})}):i.mW.push({pathname:n[e].url,state:n[e].state}))},r}return r()(e,a),e.prototype.render=function(){var n=this,e=this.props,a=e.title,t=e.mainTitle,r=e.rightContent,i=e.className,e=e.overlay;return o().createElement("div",{className:"breadcumb-wrapper "+i},a instanceof Array?o().createElement("div",{className:"breadcrumb-left"},o().createElement("div",null,a.map(function(e,t){return o().createElement("span",{className:e.url?"":"not_clickable",key:t,onClick:function(){return e.url&&t!==a.length-1&&n._handleBreadcrumbClick(t)}},e.title,t!==a.length-1&&" / ")})),o().createElement("span",{title:t||a[a.length-1].title},t||a[a.length-1].title,e&&o().createElement(s.Z,{placement:"top",overlay:e},o().createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c",marginLeft:8}})))):o().createElement("div",{className:"normal-title"},a,e&&o().createElement(s.Z,{placement:"top",overlay:e},o().createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c",marginLeft:8}}))),r||"")},e}(t.Component);t.propTypes={className:a().string,title:a().oneOfType([a().string,a().arrayOf(a().shape({title:a().string,url:a().string,state:a().object}))]).isRequired,overlay:a().oneOfType([a().string,a().node]),mainTitle:a().oneOfType([a().string,a().node]),beforeJump:a().func,rightContent:a().node};const c=t},98191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var t=n(67294),l=n.n(t),p=n(43036),d=n(25713),f=n(39432),t=n(45697),t=n.n(t),h=n(8201),n=function(e){var t=e.title,n=void 0===t?"":t,a=e.data,r=e.titleOverlay,i=e.titleSelector,o=e.children,s=e.onMoreClick,c=e.moreOptions,u=e.popoverOption,t=e.newColor,e=!(0,h.P)(a);return l().createElement("div",{className:"yt_chart_title_wrapper"},l().createElement("span",{className:"chart_title"},e&&l().createElement("span",{className:"chart_title_name"},n),(i||r)&&l().createElement("span",{className:"chart_title_suffix",style:{marginLeft:e?0:(0,f.jD)(n)}},!!i&&i,r&&l().createElement(p.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:r},l().createElement("i",{className:"icon-cem_file1"})))),l().createElement("span",{className:"chart_title_buttons"},o,s&&l().createElement(d.Z,{onClick:s,options:c,popoverOption:u,data:a,newColor:t})))};const a=n;n.propTypes={data:t().any,title:t().string,titleOverlay:t().string|t().node,titleSelector:t().node,onMoreClick:t().func,moreOptions:t().array,popoverOption:t().string,newColor:t().bool}},95814:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(85354),r=n.n(a),t=n(67294),f=n.n(t),a=n(45697),a=n.n(a),h=n(92360),m=n(43036),i=function(t){function e(e){var o=t.call(this,e)||this;return o.handleCheckedAll=function(e){var t,n=o.props,a=n.data,r=n.changeState,i=n.allListLength,n=o.state.checkedList;a=100<i?(t=a.slice(0,100).map(function(e){return e.id}),e?Array.from(new Set(t.concat(n))):n.filter(function(e){return!t.includes(e)})):e?a.map(function(e){return e.id}):[],o.setState({newCheckedList:a}),r&&r(a,o.props.secondValue)},o.handleChange=function(e){Array.prototype.remove=function(e){e=this.map(function(e){return String(e)}).indexOf(String(e));-1<e&&this.splice(e,1)};var t=o.state.checkedList,n=o.props.changeState;-1===t.map(function(e){return String(e)}).indexOf(String(e))?t.push(e):t.remove(e),o.setState({checkedList:t}),n&&n(t,o.props.secondValue)},o.handleSecondChange=function(t,n){var e=o.props,a=(e.data,e.secondValue),e=e.changeState;Array.prototype.remove=function(e){e=this.indexOf(e);-1<e&&this.splice(e,1)},a.some(function(e){return e.id===t&&(-1<e.values.indexOf(n)?e.values.remove(n):e.values.push(n),!0)})||a.push({id:t,values:[n]}),e&&e(o.props.checkedList,a.filter(function(e){return 0<e.values.length}))},o.competeOpen=function(){45<o.checkBox.offsetHeight?o.setState({showOpen:!0}):o.setState({showOpen:!1})},o.renderSecondList=function(e){var t=o.props,r=t.secondValue,n=t.secondInfo,t=o.state,a=t.showSecond;t.searchKeywords;return f().createElement("div",{className:"second-list"},f().createElement("span",{className:"name",onClick:function(e){return o.setState({showSecond:!a})}},f().createElement("i",{className:a?"icon-cem_data-collection":"icon-cem_unfolding-data"}),f().createElement("span",null,n.name)),a&&e.map(function(n,e){var a=0<r.filter(function(e){return e.id===n.id}).length?r.filter(function(e){return e.id===n.id})[0].values:[];return f().createElement("div",{key:e,className:"second-wrap"},f().createElement("span",{className:"title-second"},n.name),f().createElement("div",{className:"check-wrap"},n.child.map(function(e,t){return f().createElement(CheckBox,{className:"checkbox-yt",onChange:function(){return o.handleSecondChange(n.id,e.id)},key:e.id,value:e.id,checked:-1!==a.indexOf(e.id)},e.name)})))}))},o.state={checkedList:e.checkedList||[],open:!1,showOpen:!1,showSecond:!0},o}r()(e,t);var n=e.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=this;(e.checkedList||e.searchKeywords)&&this.setState({checkedList:e.checkedList},function(){return t.competeOpen()})},n.componentDidMount=function(){this.competeOpen(),window.addEventListener("resize",this.competeOpen)},n.componentWillUnmount=function(){window.removeEventListener("resize",this.competeOpen)},n.render=function(){var t=this,e=this.state,n=e.checkedList,a=e.open,r=e.showOpen,i=(e.searchKeywords,this.props),o=i.data,s=i.categoryTitle,c=i.title,u=i.close,l=i.onSearch,p=n.map(function(e){return String(e)}),d=o.map(function(e){return e.id}),e=p.filter(function(e){return 0<=d.indexOf(e)}),i=!!e.length&&o.slice(0,100).every(function(e){return p.includes(String(e.id))}),n=!i&&!!e.length&&o.slice(0,100).some(function(e){return p.includes(String(e.id))}),e=o.filter(function(e){return p.includes(e.id)&&e.child&&0<e.child.length});return f().createElement("div",{className:"checkbox_panel_yt"},f().createElement("span",{className:"title"},c,l&&f().createElement(m.Z,{overlay:"按主题值搜索",placement:"top"},f().createElement("i",{className:"icon-cem_search search",onClick:function(e){return l()}}))),f().createElement(h.Checkbox,{className:"check-all",checked:i,indeterminate:n,onChange:this.handleCheckedAll,disabled:this.props.disabled},s||"全选"),f().createElement("div",{className:"all-checkbox",style:{height:a?"":"38px"}},f().createElement("span",{className:"more"},r&&f().createElement("i",{className:"open",onClick:function(e){return t.setState({open:!a})}},a?"收起":"更多",f().createElement("i",{className:a?"icon-cem_pull-or-take-up":"icon-cem_pull-down-or-take-up"})),u&&f().createElement("i",{className:"close",onClick:u},"×")),f().createElement("div",{className:"check-box",ref:function(e){return t.checkBox=e}},o&&o.slice(0,100).map(function(e){return f().createElement(h.Checkbox,{className:"checkbox-yt",onChange:function(){return t.handleChange(e.id)},key:e.id,value:e.id,checked:-1!==p.map(function(e){return String(e)}).indexOf(String(e.id)),disabled:t.props.disabled},e.name)}),o&&100<o.length&&f().createElement("div",{className:"tip"},"— 该数值展示不会超过",100,"条,需要查看更多请搜索"))),0<e.length&&this.renderSecondList(e))},e}(t.Component);i.propTypes={checkedList:a().array,secondInfo:a().array,secondValue:a().array,data:a().array,allListLength:a().oneOfType([a().number,a().string]),changeState:a().func,searchKeywords:a().string,onSearch:a().func,title:a().oneOfType([a().number,a().string]),close:a().func}},49975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(85354),r=n.n(a),t=n(67294),c=n.n(t),a=n(45697),a=n.n(a),u=n(36144),i=n(35239),o=[{name:"按天",id:"DAY"},{name:"按周",id:"WEEK"},{name:"按月",id:"MONTH"}],s=function(n){function e(e){var t=Object.prototype.hasOwnProperty.call(e,"dateRange"),s=n.call(this,e)||this;return s.handleToggleDisplay=function(e){var t=s.state.panelShow;t&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),setTimeout(function(){return s.setState({panelShow:!t})},0)},s.handleCollapse=function(){s.setState({panelShow:!1})},s.handleSwitchValue=function(t){var e,n=s.state.dateOptions,a=s.props.onChange;t!==s.state.value&&(e=(0<n.filter(function(e){return e.id===t}).length?n.filter(function(e){return e.id===t}):n)[0].id,s.setState({value:t,panelShow:!1},function(){return a&&a(e)}))},s.handleSetStaredValue=function(t){var n=s.state.staredValue;u.h.post("/default/value/update",{projectId:s.projectId,key:s.props.uniqueId,value:n===t?" ":t}).then(function(e){2e4===e.data.code&&s.setState({staredValue:n===t?" ":t})})},s.fetchStaredValue=function(){var e=s.props,t=e.uniqueId,a=e.onChange,e=s.state,r=e.dateOptions,i=e.value,o=e.dateRange;u.h.post("/default/value/find",{projectId:s.projectId,key:t}).then(function(e){var t,n=e.data;2e4===n.code&&(t=0<r.filter(function(e){return e.id===n.result}).length?r.filter(function(e){return e.id===n.result})[0].id:o?i:r[0].id,s.setState({value:t,staredValue:0<r.filter(function(e){return e.id===n.result}).length?r.filter(function(e){return e.id===n.result})[0].id:""},function(){return a&&a(t)}))})},s.DATE_DIMENSIONS=t?[{id:"HOUR",name:"按时"}].concat(o):o,s.state={value:e.defaultValue,dateRange:parseInt(e.dateRange),dateOptions:t?[{id:"HOUR",name:"按时"}].concat(o):o,staredValue:"",panelShow:!1},s}r()(e,n);var t=e.prototype;return t.componentDidMount=function(){var e=this.props,t=e.uniqueId,n=e.dateRange,a=e.onChange,e=this.state.value;this.projectId=i.t.get(i.V.curProject).id,window.addEventListener("click",this.handleCollapse),Object.prototype.hasOwnProperty.call(this.props,"dateRange")?this.getCurrDateOptions(parseInt(n)):t?this.fetchStaredValue():a&&a(e)},t.componentDidUpdate=function(e,t){var n=this,a=this.props.dateRange;e.dateRange!==this.props.dateRange&&this.setState({dateRange:parseInt(a)},function(){return n.getCurrDateOptions(parseInt(a))})},t.getCurrDateOptions=function(e){var t,n,a,r,i,o,s=this;1<=e&&(i=this.props,t=i.uniqueId,n=i.onChange,a=i.noHour,r=this.DATE_DIMENSIONS,i=[],o="",o=1===e?(i=r.slice(a?1:0,a?2:1),(a?r.filter(function(e){return"按天"===e.name}):r.filter(function(e){return"按时"===e.name}))[0].id):1<e&&e<=7?(i=r.slice(a?1:0,a?3:2),r.filter(function(e){return"按天"===e.name})[0].id):7<e&&e<=30?(i=r.slice(a?1:0,a?4:3),r.filter(function(e){return"按天"===e.name})[0].id):30<e&&e<=60?(i=r.slice(1,a?5:4),r.filter(function(e){return"按天"===e.name})[0].id):60<e&&e<=180?(i=r.slice(1,a?5:4),r.filter(function(e){return"按周"===e.name})[0].id):(i=r.slice(1,a?5:4),r.filter(function(e){return"按月"===e.name})[0].id),this.setState({dateOptions:i,value:o},function(){t?s.fetchStaredValue():n&&n(o)}))},t.render=function(){var a=this,e=this.props,r=e.uniqueId,t=e.style,n=this.state,i=n.dateOptions,o=n.value,s=n.staredValue,e=n.panelShow,n=i.filter(function(e){return e.id===o})[0]&&i.filter(function(e){return e.id===o})[0].name;return c().createElement("div",{className:"date_dimension_selector_wrapper",style:t},c().createElement("div",{className:e?"date_dimension_btn active":"date_dimension_btn",onClick:this.handleToggleDisplay},c().createElement("span",null,n),c().createElement("i",{className:"icon icon-cem_arrow-launches",style:{transform:e?"rotate(-180deg)":""}})),c().createElement("ul",{className:r?"date_dimension_panel":"date_dimension_panel without_star",style:{display:e?"inline-block":"none"}},i.map(function(e){var t=e.name,n=e.id;return c().createElement("li",{className:o===n?"date_dimension_item active":"date_dimension",key:n,onClick:function(){return a.handleSwitchValue(n)}},c().createElement("span",null,t),r&&c().createElement("i",{className:s===n?"icon-cem_star stared":"icon-cem_star",onClick:function(e){e.stopPropagation(),a.handleSetStaredValue(n)}}))})))},e}(t.Component);s.propTypes={noHour:a().bool,uniqueId:a().string,dateRange:a().number,defaultValue:a().oneOf(["HOUR","DAY","WEEK","MONTH"]),onChange:a().func.isRequired,style:a().object}},97194:(e,t,n)=>{"use strict";n.d(t,{X:()=>a,f:()=>r});var a=function(e,t){var n={HOUR:{title:"按小时",value:"HOUR"},DAY:{title:"按天",value:"DAY"},WEEK:{title:"按周",value:"WEEK"},MONTH:{title:"按月",value:"MONTH"},QUARTER:{title:"按季",value:"QUARTER"},YEAR:{title:"按年",value:"YEAR"}},a=[],r="";return 1===e?r=t?(a=[n.HOUR],"HOUR"):(a=[n.DAY],"DAY"):1<e&&e<=7?(a=(t?["HOUR","DAY"]:["DAY"]).map(function(e){return n[e]}),r="DAY"):7<e&&e<=30?(a=(t?["HOUR","DAY","WEEK"]:["DAY","WEEK"]).map(function(e){return n[e]}),r="DAY"):30<e&&e<=60?(a=["DAY","WEEK","MONTH"].map(function(e){return n[e]}),r="DAY"):60<e&&e<=180?(a=["DAY","WEEK","MONTH","QUARTER"].map(function(e){return n[e]}),r="WEEK"):180<e&&(a=["DAY","WEEK","MONTH","QUARTER","YEAR"].map(function(e){return n[e]}),r="MONTH"),{dateOptions:a,defaultDateType:r}},r=function(e,t){var n={HOUR:{title:"按小时",value:"HOUR"},DAY:{title:"按天",value:"DAY"},WEEK:{title:"按周",value:"WEEK"},MONTH:{title:"按月",value:"MONTH"}},a=[],r="",r=1===e?t?(a=[n.HOUR],"HOUR"):(a=[n.DAY],"DAY"):1<e&&e<=7?(a=(t?["HOUR","DAY"]:["DAY"]).map(function(e){return n[e]}),"DAY"):7<e&&e<=30?(a=(t?["HOUR","DAY","WEEK"]:["DAY","WEEK"]).map(function(e){return n[e]}),"DAY"):30<e?(a=["DAY","WEEK","MONTH"].map(function(e){return n[e]}),"MONTH"):(a=["DAY","WEEK","MONTH"].map(function(e){return n[e]}),"DAY");return{dateOptions:a,defaultDateType:r}}},31705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(85354),r=n.n(a),t=n(67294),i=n.n(t),a=n(45697),a=n.n(a),o=n(97189),s=function(n){function e(e){var t=n.call(this,e)||this;return t.setShowSelFalse=function(){t.setState({show:!1})},t._handleMouseEnter=function(){t.panel&&(0,o.addClass)(t.panel,"padHover")},t._handleMouseLeave=function(){t.panel&&(0,o.removeClass)(t.panel,"padHover")},t.state={show:!1},t}r()(e,n);var t=e.prototype;return t.changeShow=function(e){var t=this;this.state.show&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),setTimeout(function(){t.setState({show:!t.state.show})},0)},t.componentDidMount=function(){window.addEventListener("click",this.setShowSelFalse)},t.componentWillUnmount=function(){window.removeEventListener("click",this.setShowSelFalse)},t.render=function(){var t=this,e=this.props,n=e.onDownChartClick,a=e.onDownExcelClick,r=e.style,e=e.otherOptions;return i().createElement("div",{className:"more-wrapper",style:r||{},onClick:function(e){return t.changeShow(e)}},i().createElement("i",{className:"icon-cem_new-more",style:{color:this.state.show?"#093b88":"#8c8c8c"}}),this.state.show&&i().createElement("div",{className:"more-panel-wrapper "},i().createElement("div",{className:"more-panel",ref:function(e){return t.panel=e}},i().createElement("div",{className:"item",onClick:n,onMouseEnter:function(){return t._handleMouseEnter()},onMouseLeave:function(){return t._handleMouseLeave()}},"导出图片"),i().createElement("div",{className:"item",onClick:a},"导出数据"),e&&e.map(function(e,t){return i().createElement("div",{key:t,className:"item",onClick:e.clickFun},e.label)}))))},e}(t.Component);s.propTypes={onDownChartClick:a().func,onDownExcelClick:a().func,otherOptions:a().array,style:a().object}},21816:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var o=n(36144),a=function(e,t,n,a,r,i){return o.h.post("/filter/expand/add",{name:e,copy:t,id:n,model:a,projectId:r,filter:i})}},83425:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var a=n(67154),h=n.n(a),r=n(85354),i=n.n(r),t=n(67294),f=n.n(t),a=n(45697),r=n.n(a),m=n(92360),s=n(95814),l=n(43036),o=function(t){function e(e){var n=t.call(this,e)||this;return n.handleChange=function(e){var t=n.props.changeState;t&&t([e])},n.competeOpen=function(){45<n.checkBox.offsetHeight?n.setState({showOpen:!0}):n.setState({showOpen:!1})},n.state={open:!1,showOpen:!1,showSecond:!0},n}i()(e,t);var n=e.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=this;(e.checkedList||e.searchKeywords)&&this.setState({checkedList:e.checkedList},function(){return t.competeOpen()})},n.componentDidMount=function(){this.competeOpen(),window.addEventListener("resize",this.competeOpen)},n.componentWillUnmount=function(){window.removeEventListener("resize",this.competeOpen)},n.render=function(){var t=this,e=this.state,n=e.open,a=e.showOpen,r=this.props,i=r.data,o=r.title,e=r.close;r.onSearch;return f().createElement("div",{className:"radio-panel-yt-filter"},f().createElement("span",{className:"title"},o),f().createElement("div",{className:"all-radio",style:{height:n?"":"38px",marginLeft:"-24px"}},f().createElement("span",{className:"more"},a&&f().createElement("i",{className:"open",onClick:function(e){return t.setState({open:!n})}},n?"收起":"更多",f().createElement("i",{className:n?"icon-cem_pull-or-take-up":"icon-cem_pull-down-or-take-up"})),e&&f().createElement("i",{className:"close",onClick:e},"×")),f().createElement("div",{className:"check-box",ref:function(e){return t.checkBox=e}},f().createElement(m.Radio.Group,{value:String(this.props.value[0]),onChange:function(e){t.handleChange(e)}},i&&i.map(function(e){return f().createElement(m.Radio,{className:"checkbox-yt",key:e.id,value:String(e.id)},e.name)})))))},e}(t.Component);o.propTypes={value:r().array,data:r().array,changeState:r().func,searchKeywords:r().string,onSearch:r().func,title:r().oneOfType([r().number,r().string]),close:r().func};const p=function(t){function e(e){var a=t.call(this,e)||this;return a.inputChange=function(e){a.setState({inputVal:e.target.value})},a.keywordChange=function(e){var t=a.state,n=t.inputVal,t=t.inputValMap;"keydown"===e.type&&13===e.keyCode||"keydown"===e.type&&32===e.keyCode||"blur"===e.type?n.trim()&&(t.push(n.trim()),a.setState({inputValMap:t,inputVal:""}),a.onChange()):"keydown"===e.type&&8===e.keyCode||e.type},a.delKeyWords=function(e){var t=a.state.inputValMap;t.splice(e,1),a.setState({inputValMap:t},function(e){return a.onChange()})},a.onChange=function(){a.props.onChange&&a.props.onChange(a.state.inputValMap)},a.state={inputValMap:e.values||[],inputVal:""},a}i()(e,t);var n=e.prototype;return n.UNSAFE_componentWillReceiveProps=function(e,t){e.values&&this.setState({inputValMap:e.values})},n.render=function(){var n=this,e=this.state,t=e.inputValMap,a=e.inputVal,r=this.props,e=r.style,r=r.close;return f().createElement("div",{className:"word-segmentation",style:e||{}},r&&f().createElement("i",{className:"close",onClick:r},"×"),f().createElement("div",{className:"input-wrap"},f().createElement("input",{type:"text",className:"keyword-setting",value:a,placeholder:"关键词(输入空格键或回车以分词)",onChange:this.inputChange,onBlur:this.keywordChange,onKeyDown:this.keywordChange})),t.map(function(e,t){return f().createElement("span",{className:"word",key:e+t},e,f().createElement("i",{onClick:function(){return n.delKeyWords(t)}},"×"))}))},e}(t.Component);var c=n(60496),u=[{title:"模糊搜索",value:"FUZZY_SEARCH"},{title:"精准匹配",value:"PRECISE_SEARCH"}];const d=function(t){function e(e){var r=t.call(this,e)||this;return r.inputChange=function(e){r.setState({inputVal:e.target.value})},r.keywordChange=function(e){var t=r.state,n=t.inputVal,a=t.inputValMap,t=t.searchVal;"keydown"===e.type&&13===e.keyCode||"blur"===e.type?n.trim()&&(a.push(n.trim()),r.setState(h()({},t,{inputValMap:a,inputVal:""}),function(e){return r.onChange()})):"keydown"===e.type&&8===e.keyCode||e.type},r.delKeyWords=function(e){var t=r.state,n=t.inputValMap,t=t.searchVal;n.splice(e,1),r.setState({inputValMap:n,searchVal:t},function(e){return r.onChange()})},r.onChange=function(){r.props.onChange&&r.props.onChange(r.state.inputValMap,r.state.searchVal)},r.onSearchChange=function(e){r.setState({searchVal:e},function(e){return r.onChange()})},r.state={inputValMap:e.values||[],inputVal:"",searchVal:e.queryType||"FUZZY_SEARCH"},r}i()(e,t);var n=e.prototype;return n.UNSAFE_componentWillReceiveProps=function(e,t){e.values&&this.setState({inputValMap:e.values})},n.render=function(){var n=this,e=this.state,t=e.inputValMap,a=e.inputVal,r=e.searchVal,i=this.props,e=i.style,i=i.close;return f().createElement("div",{className:"multi_word_input",style:e||{}},i&&f().createElement("i",{className:"close",onClick:i},"×"),f().createElement(c.Z,{options:u,activeObj:r,onChange:this.onSearchChange,divider:"none"}),f().createElement("i",{className:"btn_divider"},"-"),f().createElement("div",{className:"input-wrap"},f().createElement("input",{type:"text",className:"keyword-setting",value:a,placeholder:"按回车输入会自动分词",onChange:this.inputChange,onBlur:this.keywordChange,onKeyDown:this.keywordChange,disabled:4<t.length})),t.map(function(e,t){return f().createElement("span",{className:"word "+(0!==t?"FUZZY_SEARCH"===r?"word_blur":"word_exact":""),key:e+t},e,f().createElement("i",{onClick:function(){return n.delKeyWords(t)}},"×"))}))},e}(t.Component);var a=n(93913),v=n.n(a);const y=function(t){function e(e){var r=t.call(this,e)||this;return r.inputChange=function(e){r.setState({inputVal:e.target.value})},r.keywordChange=function(e){var t=r.state,n=t.inputVal,a=t.inputValMap;"keydown"===e.type&&13===e.keyCode||"keydown"===e.type&&32===e.keyCode?n.trim()&&(t=(r.props.associateList||[]).some(function(e){return e.name===n})?r.props.associateList.filter(function(e){return e.name===n})[0].values:null,a.push(Object.assign({name:n.trim()},t?{values:t}:{})),r.setState({inputValMap:a,inputVal:""}),r.onChange()):"keydown"===e.type&&8===e.keyCode||"blur"===e.type&&setTimeout(function(e){return r.setState({inputFocus:!1})},100)},r.delKeyWords=function(e){var t=r.state.inputValMap;t.splice(e,1),r.setState({inputValMap:t},function(e){return r.onChange()})},r.onChange=function(){r.props.onChange&&r.props.onChange(r.state.inputValMap)},r.state={inputValMap:e.values||[],inputVal:"",inputFocus:!1},r}i()(e,t);var n=e.prototype;return n.UNSAFE_componentWillReceiveProps=function(e,t){e.values&&this.setState({inputValMap:e.values})},n.render=function(){var n=this,e=this.state,t=e.inputValMap,a=e.inputVal,r=e.inputFocus,i=this.props,e=i.style,i=i.close;return f().createElement("div",{className:"Associate_word",style:e||{}},i&&f().createElement("i",{className:"close",onClick:i},"×"),f().createElement("div",{className:"input-wrap"},f().createElement("input",{type:"text",ref:function(e){return n.input=e},className:"keyword-setting",value:a,placeholder:"按空格或回车输入会自动分词",onChange:this.inputChange,onBlur:this.keywordChange,onFocus:function(){return n.setState({inputFocus:!0})},onKeyDown:this.keywordChange}),this.associateList.length&&r?f().createElement("div",{className:"associate"},f().createElement("ul",null,this.associateList.map(function(e){return f().createElement("li",{key:e.name,onClick:function(){n.setState({inputVal:e.name}),setTimeout(function(e){return n.setState({inputFocus:!0})},100),n.input.focus()}},e.name)}))):null),t.map(function(e,t){return f().createElement("span",{className:"word",key:t},e.name,f().createElement("i",{onClick:function(){return n.delKeyWords(t)}},"×"))}))},v()(e,[{key:"associateList",get:function(){var t=this.state.inputVal;return this.props.associateList&&t?this.props.associateList.filter(function(e){return e.name!==t&&-1!==e.name.toString().toLocaleLowerCase().indexOf(t.toLocaleLowerCase())}):[]}}]),e}(t.Component);var g=n(5133),x=n(36144),b=n(35239),T=n(21816);const I=function(t){function e(e){var a=t.call(this,e)||this;return a.editTopic=function(e){a.editing=e,a.refs.changeNameInput.refs.input.value=e.name,a.setState({dialogVisible:!0})},a.delTopic=function(t){m.MessageBox.confirm("确认删除该组合分析, 是否继续?","提示",{type:"warning"}).then(function(){x.h.post("/filter/delete",{id:t.id}).then(function(e){a.props.onChange(null,{id:t.id}),2e4===e.data.code?g.Z.success("删除成功"):g.Z.error("删除失败")})}).catch(function(){})},a.getExpandTopicValue=function(e){return x.h.post("/filter/expand/findFilter",{id:e})},a.competeOpen=function(){45<a.refs.topics.offsetHeight?a.setState({showOpen:!0}):a.setState({showOpen:!1})},a._handleChangeName=function(){var t=a.refs.changeNameInput.refs.input.value;a.getExpandTopicValue(a.editing.id).then(function(e){var n=e.data.result;(0,T.D)(t,!1,n.id,a.props.model,b.t.get(b.V.curProject).id,JSON.parse(n.filter)).then(function(e){var t=e.data;2e4===t.code&&(g.Z.success("组合分析名称修改成功"),a.refs.changeNameInput.refs.input.value="",a.setState({dialogVisible:!1},function(){return a.props.fresh(n.id,{name:t.result.name,id:t.result.id})}))})})},a.renderDialog=function(){return f().createElement(m.Dialog,{title:"修改名称",className:"change-name-dialog",size:"tiny",modal:!1,visible:a.state.dialogVisible,onCancel:function(e){return a.setState({dialogVisible:!1})}},f().createElement(m.Dialog.Body,null,f().createElement(m.Input,{className:"name-input",placeholder:"请输入名称",ref:"changeNameInput"})),f().createElement(m.Dialog.Footer,null,f().createElement(m.Button,{type:"primary",onClick:a._handleChangeName},"确定"),f().createElement(m.Button,{type:"default",onClick:function(e){return a.setState({dialogVisible:!1})}},"取消")))},a.state={list:e.list||[],value:e.value||{},showOpen:!1,open:!1,dialogVisible:!1},a}i()(e,t);var n=e.prototype;return n.UNSAFE_componentWillReceiveProps=function(e,t){(e.value||e.list)&&(this.setState({value:e.value,list:e.list}),this.competeOpen())},n.componentDidMount=function(){this.competeOpen()},n.render=function(){var n=this,e=this.state,t=e.list,a=e.showOpen,r=e.open,i=e.value,o=this.props,e=o.close,s=o.onChange;return f().createElement("div",{className:"expand-topic",style:{height:r?"":"38px"}},f().createElement("p",{className:"name"},"组合分析",f().createElement(l.Z,{overlay:f().createElement("div",{style:{width:"220px"}},"你可以基于筛选条件生成一个组合的分析对象。在切换分析对象时你可以从“组合分析”中使用你创建的组合分析对象。"),placement:"top"},f().createElement("i",{className:"icon-cem_file1 hide",style:{color:"#8c8c8c"}}))),f().createElement("div",{className:"topics",ref:"topics"},f().createElement("div",{className:"more"},a&&f().createElement("i",{className:"open",onClick:function(e){return n.setState({open:!r})}},r?"收起":"更多",f().createElement("i",{className:r?"icon-cem_pull-or-take-up":"icon-cem_pull-down-or-take-up"})),e&&f().createElement("i",{className:"closeAll",onClick:e},"×")),f().createElement("div",{className:"topic-wrap"},0<t.length?t.map(function(t,e){return f().createElement("span",{className:"topic "+(i.id===t.id?"sel":""),key:t+e},f().createElement(l.Z,{placement:"top",overlay:"单击编辑"},f().createElement("span",{onClick:function(e){return s&&s({id:t.id,name:t.name})}},t.name)),f().createElement(l.Z,{placement:"top",overlay:"重命名"},f().createElement("i",{onClick:function(e){return n.editTopic(t)},className:"icon-cem_screening-editor"})),f().createElement(l.Z,{placement:"top",overlay:"删除"},f().createElement("i",{onClick:function(){return n.delTopic(t)},className:"icon-cem icon-cem_delete"})))}):f().createElement("div",{style:{color:"#262626",lineHeight:"38px"}},"暂无组合值"))),this.renderDialog())},e}(t.Component);var w=n(29383),E=function(t){function e(e){e=t.call(this,e)||this;return e.state={defaultChecked:!1},e}i()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.setState(h()({},this.props))},n.componentWillReceiveProps=function(e){this.setState(h()({},e))},n.handleClick=function(e){var t=this.state,n=t.type,a=t.defaultChecked,r=t.selectedList,t=t.totalList;"checkAll"===n?a?this.props.onChange([]):this.props.onChange(t):(-1<(t=r.indexOf(e))?r.splice(t,1):r.push(e),this.props.onChange(r)),this.setState({defaultChecked:!a})},n.render=function(){var t=this,e=this.state,n=e.type,a=e.defaultChecked,r=e.indeterminate,i=e.uniqueId,e="customized-checkobx";return a?e="customized-checkobx checked":"checkAll"===n&&r&&(e="customized-checkobx indeterminate"),f().createElement("div",{className:"customized-checkobx-wrapper"},f().createElement("div",{className:e,onClick:function(e){e.stopPropagation(),t.handleClick(i)}}))},e}(f().PureComponent),k=n(67592),C=n(39432),S=n(52727),N=!0,_=function(t){function e(e){var l=t.call(this,e)||this;return l.init=function(){l.setState(h()({},l.props),function(){l.state.show&&l.fetchData()})},l.switchPage=function(e){l.setState({pageNum:e},function(){return l.fetchData()})},l.switchPageSize=function(e){l.setState({pageSize:e,pageNum:1},function(){return l.fetchData()})},l.handleCheckAll=function(){var e=l.state,t=e.isCheckedAll,n=e.checkAllStatus,a=e.currPageSelectedList;l.setState({isCheckedAll:!t,checkAllStatus:{checked:!n.checked,indeterminate:!1}},function(){l.setState({currPageSelectedList:t?[]:a},function(){l.handleCheckboxStyle()})})},l.handleCheck=function(e){for(var t=l.state,n=t.currPageList,a=t.selectedList,t=t.totalRecords,r=e.length-1;0<=r;r--)-1===a.indexOf(e[r])&&a.push(e[r]);for(var i,o=n.length-1;0<=o;o--)-1!==e.indexOf(n[o].id)||-1<(i=a.indexOf(n[o].id))&&a.splice(i,1);l.setState({currPageSelectedList:e,selectedList:a,checkAllStatus:{checked:0<a.length&&a.length===t,indeterminate:0<a.length&&a.length!==t}},function(){l.handleCheckboxStyle()})},l.handleCheckboxStyle=function(){var e=l.state,n=e.selectedList,t=e.currPageSelectedList,a=e.currPageList,r=e.checkAllStatus,e=e.isCheckedAll;if(e&&!r.indeterminate||!e&&r.checked)r.checked=!0,a.forEach(function(e){e.checked=!0;e=document.getElementById(e.id);e&&e.classList.add("item-active")});else if(e)a.forEach(function(e){var t;n.includes(e.id)?(e.checked=!1,(t=document.getElementById(e.id))&&t.classList.remove("item-active")):(e.checked=!0,(e=document.getElementById(e.id))&&e.classList.add("item-active"))});else{0===t.length?(r.indeterminate=!1,a.forEach(function(e){e.checked=!1;e=document.getElementById(e.id);e&&e.classList.remove("item-active")})):(a.forEach(function(t){n.forEach(function(e){t.id===e&&(t.checked=!1,(e=document.getElementById(t.id))&&e.classList.remove("item-active"))})}),r.indeterminate=!0);for(var i=a.length-1;0<=i;i--){for(var o,s=!1,c=t.length-1;0<=c;c--)if(t[c]===a[i].id){a[i].checked=s=!0;var u=document.getElementById(a[i].id);u&&u.addClass("item-active");break}s||(a[i].checked=!1,(o=document.getElementById(a[i].id))&&o.classList.remove("item-active"))}}l.setState({currPageList:a,checkAllStatus:r})},l.handleChange=function(e){l.setState({keywords:e})},l.handleKeyUp=function(e){13===e.keyCode&&l.setState({keywords:e.target.value,pageNum:1},function(){return l.fetchData()})},l.handleSort=function(e){var t=e.prop,e=e.order;l.setState({sortName:t||"createdAt",sortType:e||"descending",selectedList:[],pageNum:1},function(){return l.fetchData()})},l.state={show:!1,keywords:"",sortName:"createdAt",sortType:"descending",currPageList:[],currPageSelectedList:[],selectedList:[],pageNum:1,pageSize:20,data:[],totalRecords:0,isCheckedAll:!1,checkAllStatus:{checked:!1,indeterminate:!1},loading:!1,columns:[{label:"",width:16,prop:"paddingLeft"},{label:"",width:56,renderHeader:function(){return f().createElement(E,{type:"checkAll",defaultChecked:l.state.checkAllStatus.checked,indeterminate:l.state.checkAllStatus.indeterminate,onChange:l.handleCheckAll,selectedList:l.state.currPageSelectedList,totalList:l.state.currPageList.map(function(e){return e.id})})},render:function(e){return f().createElement(E,{type:"checkOne",defaultChecked:e.checked||!1,onChange:l.handleCheck,selectedList:l.state.currPageSelectedList,totalList:l.state.currPageList.map(function(e){return e.id}),uniqueId:e.id})}},{label:"链接名称",render:function(e){var t=e.name,n=e.url;return f().createElement("div",{className:"ellipsis",title:t,onClick:function(e){e.stopPropagation(),n.startsWith("http")&&window.open(n)}},t)}},{label:"渠道",prop:"categoryName"},{label:"总数据量",prop:"total",render:function(e){e=e.total;return f().createElement("div",null,C.ZP.formatNumber(e))}},{label:"30天数据趋势",render:function(e){e=e.dataList;return e&&0<e.length?f().createElement(S.Z,{loading:!1,chartData:e}):f().createElement("i",{className:"icon-cem_line",style:{color:"rgb(191, 191, 191)",fontSize:20}})}},{label:"创建时间",sortable:"custom",prop:"createdAt",render:function(e){e=e.createdAt;return f().createElement("div",null,e&&e.replace("T"," "))}},{label:"",width:16,prop:"paddingRight"}]},l}i()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.init()},n.UNSAFE_componentWillReceiveProps=function(e){function t(){n.props.show,n.setState(h()({},e,{pageNum:1}),function(){n.setState({pageNum:1},function(){return n.fetchData()})})}var n=this,a=e.queryParams&&e.queryParams.filterModel,r=this.state.queryParams&&this.state.queryParams.filterModel;(0,k.d)(h()({},r,{connections:[],advancedConnection:[]}),h()({},a,{connections:[],advancedConnection:[]}))||t(),e.show!==this.state.show&&(this.setState({show:e.show}),e.show&&0===this.state.data.length&&t())},n.fetchData=function(){var n,a=this,e=this.state,t=e.keywords,r=e.sortName,i=e.sortType,o=e.pageNum,s=e.pageSize,c=e.defaultValue,u=this.props.queryParams,e=this.state,l=e.currPageList,p=e.currPageSelectedList,d=e.selectedList;e.totalRecords;N&&c[0]&&0<c[0].values.length&&(u.filterModel.connections=c[0].values);var f=void 0,e=window.location.pathname;/^\/price/.test(e)&&(f="PRICE"),this.setState({loading:!0},function(){x.h.post("/filter/connection/search",h()({projectId:b.t.get(b.V.curProject).id},u,{name:t,sortName:r,sort:i,pageIndex:o,pageSize:s,queryType:f})).then(function(e){if(200===e.status||304===e.status){e=e.data.result;l=e.list,p=[];for(var t=l.length-1;0<=t;t--)-1<d.indexOf(l[t].id)?(l[t].checked=!0,p.push(l[t].id)):l[t].checked=!1;n=e.count,N&&c[0]&&0<c[0].values.length&&(p=c[0].values,d=c[0].values,N=!1),a.setState({currPageList:l,currPageSelectedList:p,selectedList:d,totalRecords:n,data:e.list},function(){return a.handleCheckboxStyle()})}}).finally(function(){a.setState({loading:!1})})})},n.getValue=function(){var e=this.state,t=e.keywords,n=e.selectedList,a=e.isCheckedAll,e=e.checkAllStatus;return a&&e.indeterminate?[{notContain:n,contain:[],searchQueryName:t}]:[{notContain:[],contain:a||!a&&!e.indeterminate?[]:n,searchQueryName:e.checked?t:""}]},n.render=function(){var t=this,e=this.state,n=e.show,a=e.currPageList,r=e.currPageSelectedList,i=e.checkAllStatus,o=e.isCheckedAll,s=e.pageNum,c=e.pageSize,u=e.totalRecords,l=e.loading,p=e.columns,d=e.keywords;return f().createElement("div",{className:"advanced-filter-wrapper",style:{display:n?"block":"none"}},f().createElement("div",{className:"advanced-filter-body"},f().createElement(m.Input,{ref:function(e){return t.searchInput=e},placeholder:"请输入链接名称",onChange:this.handleChange,onKeyUp:this.handleKeyUp,icon:"search",onIconClick:function(){t.setState({keywords:d,pageNum:1},function(){return t.fetchData()})}}),f().createElement(m.Loading,{loading:l},f().createElement(w.Z,{className:"connection-table",maxHeight:306,columns:p,data:a,total:u,currentPage:s,pageSize:c,pageSizeSelectorShow:!0,onPageSizeChange:this.switchPageSize,onPage:this.switchPage,onSortChange:this.handleSort,rowClassName:function(e){return!o&&r.includes(e.id)||i.checked||o&&!r.includes(e.id)?"item-active":""},notLimit:!1}))))},e}(f().Component),O=n(61193),j=n(97189),D=n(19586);const M=(e,t=[])=>{const a=e?e.slice():[];return t.forEach((t,e)=>{var n=a.findIndex(e=>e.id===t);-1<n&&([n]=a.splice(n,1),a.splice(e,0,n))}),a};var A={SOURCE:"source",MESSAGE_TYPE:"messageType",MESSAGE_CATEGORY:"messageCategory"},L=function(t){function e(e){var c=t.call(this,e)||this;return c.getFilter=function(){var n,a,e=c.props,t=e.type,r=e.filter,i=e.getTitles,o=e.filterSpecial,e=e.dimension,s=[];return x.h.post("/filter/find",{type:t||"INBOX",filterTypes:r,dimensionId:e||void 0,projectId:c.state.projectId}).then(function(e){s=c.formatData(e.data.result),i&&i(JSON.parse(JSON.stringify(s))),a=o?(n=o.reduce(function(e,t){return[].concat(e,s.filter(function(e){return e.special===t}))},[]),s.filter(function(t){return!n.find(function(e){return e.id===t.id})})):(t=c.getFilterListShowAndHide(s),n=t.filterListShow,t.filterListHide);var t=c.getDefaultValue(s);return c.setState({allList:s,filterListShow:n,filterListHide:a,value:t},function(e){return c.reFilterList(c.state.value,function(e){c.sortList(c.saveList)})}),c.props.onFilterReady&&c.props.onFilterReady(),e})},c.getFilterListShowAndHide=function(e){var n=JSON.parse(JSON.stringify(e));c.props.messageRelationConfig&&c.props.messageRelationConfig.unshow&&c.props.messageRelationConfig.unshow.forEach(function(t){n.some(function(e){return e.id===t&&(n.splice(n.findIndex(function(e){return e.id===t}),1),!0)})});var a,r=[],i=[];return c.props.saveFilterListShow&&b.t.get(c.props.saveFilterListShow)&&b.t.get(c.props.saveFilterListShow).some(function(e){return e.projectId===c.state.projectId})?(a=b.t.get(c.props.saveFilterListShow).filter(function(e){return e.projectId===c.state.projectId})[0],n.forEach(function(t){(a.filterListShow.some(function(e){return e.id===t.id})?r:i).push(t)})):(r=JSON.parse(JSON.stringify(n.slice(0,4))),i=JSON.parse(JSON.stringify(n.slice(4)))),{filterListShow:r,filterListHide:i}},c.saveFilterListShow=function(t){var n=c.state.projectId,e=b.t.get(c.props.saveFilterListShow)||[];e.some(function(e){return e.projectId===n})?e.forEach(function(e){e.projectId===n&&(e.filterListShow=t)}):e.push({projectId:n,filterListShow:t}),b.t.set(c.props.saveFilterListShow,e)},c.handleChangeSel=function(t,n,a){var e,r=c.state.value;r.some(function(e){return e.id===t.id&&(e.values=n,a&&0<a.length&&(e.secondValue=a.map(function(e){return{fatherId:t.child.id,id:e.id,values:e.values}})),!0)})||(e=h()({},t,{values:n}),a&&0<a.length&&(e.secondValue=a.map(function(e){return{fatherId:t.child.id,id:e.id,values:e.values}})),r.push(e)),c.reFilterList(r,function(){c.onChange()})},c.keyWordsChange=function(t,n,a){var e=c.state.value;0===t.length?e.splice(e.findIndex(function(e){return e.id===a.id}),1):e.some(function(e){if(e.id===a.id)return e.values=[].concat(t,[n]),!0})||e.push({id:a.id,special:a.special,values:[].concat(t,[n]),type:a.type}),c.setState({value:e},function(e){return c.onChange()})},c.keyWordChange=function(t,n){var e=c.state.value;0===t.length?e.splice(e.findIndex(function(e){return e.id===n.id}),1):e.some(function(e){if(e.id===n.id)return e.values=t,!0})||e.push({id:n.id,special:n.special,values:t,type:n.type}),c.setState({value:e},function(e){return c.onChange()})},c.expandTopicChange=function(n,e,t){e?c.updateExpandTopic(e.id,e.value):n.id!==c.state.expandTopic.id||t?c.refs.expandTopic.getExpandTopicValue(n.id).then(function(e){var t=(0,D.C)(JSON.parse(e.data.result.filter));c.reFilterList(t,function(e){c.setState({expandTopic:{id:n.id,name:n.name,value:t},filterValue:t},function(e){c.sortList(),c.props.onExpandTopicChange&&c.props.onExpandTopicChange(c.state.expandTopic)})})}):c.reFilterList([],function(e){return c.setState({expandTopic:{id:"",name:"",value:[]}},function(e){c.sortList(),c.props.onExpandTopicChange&&c.props.onExpandTopicChange(c.state.expandTopic)})})},c.getExpandTopicData=function(){return c.state.expandTopic.id?c.state.expandTopic:null},c.isExpandTopicChanged=function(){return!(0,k.d)(c.state.value.filter(function(e){return"connections"!==e.special}),c.state.expandTopic.value.filter(function(e){return"connections"!==e.special}))},c.updateExpandTopic=function(t,n){var e=c.state.allList;e.some(function(e){return"expandTopic"===e.special&&(t?(e.values.splice(e.values.findIndex(function(e){return e.id===t}),1),n&&e.values.unshift(n)):e.values.unshift(n),!0)}),c.setState({allList:e},function(e){return c.reFilterList(c.state.value,c.saveList)})},c.saveList=function(){var e=c.getFilterList(),t=c.getValue(),n=[],a=[];e.forEach(function(e){e.child&&0<e.child.values.length&&n.push(h()({},e.child,{special:"connConfig"}))}),t.forEach(function(e){e.secondValue&&0<e.secondValue.length&&a.push({id:e.secondValue[0].fatherId,values:e.secondValue.reduce(function(e,t){return e.concat(t.values)},[])})});var e=(e=e.filter(function(e){return!["input"].includes(e.type)})).concat(e.splice(e.findIndex(function(e){return"expandTopic"===e.special}),1)),r=c.props.specifiyProjectId?"specify-filter-list":"filter-list",i=c.props.specifiyProjectId?"specifyFilterList":"filterList";b.t.set(b.V[i],JSON.stringify({list:e.concat(n),value:t.concat(a)}));t=new Event("setItemEvent");t.key=r,window.dispatchEvent(t)},c.onChange=function(){c.props.onFilterChange&&c.props.onFilterChange(c.getReFormatValue())},c.clearData=function(){var e=c.state.value,e=c.props.messageRelationConfig&&c.props.messageRelationConfig.unshow?e.filter(function(e){return"dimension"===e.special&&"radio"===e.type||c.props.messageRelationConfig.unshow.includes(e.id)}):e.filter(function(e){return"dimension"===e.special&&"radio"===e.type});c.setState({value:e},function(){return c.reFilterList(c.state.value,function(e){c.onChange()})})},c.renderCheckBox=function(n,t){var e=c.state,a=e.searchInfo,r=e.value,i=e.filterValue,o=r.filter(function(e){return e.id===n.id})[0]?r.filter(function(e){return e.id===n.id})[0].values:[],e=r.filter(function(e){return e.id===n.id})[0]&&r.filter(function(e){return e.id===n.id})[0].secondValue?r.filter(function(e){return e.id===n.id})[0].secondValue:[],r=a.id===n.id?n.values.filter(function(e){return-1!==e.name.toLowerCase().indexOf(a.keyword.toLowerCase())}):n.values,i=i&&i.find(function(e){return e.id===n.id})?i.find(function(e){return e.id===n.id}).values:[];return f().createElement(s.Z,{key:t,disabled:!!c.props.disableIds&&c.props.disableIds.includes(n.id),checkedList:o,secondInfo:n.child,secondValue:e,data:M(r,i),allListLength:n.values.length,changeState:function(e,t){return c.handleChangeSel(n,e,t)},onSearch:function(e){return c.setState({searchInfo:{isSearching:!0,id:n.id,name:n.name,keyword:""}})},title:n.name,close:function(e){return c.delFilter(t)}})},c.toggleAdvancedFilter=function(){c.setState({advancedFilterShow:!c.state.advancedFilterShow})},c.closeAdvancedFilter=function(){c.setState({advancedFilterShow:!1})},c.renderMoreFilter=function(e){return 0<e.length?f().createElement("div",{className:"more-filter",style:{borderBottom:"top"===c.props.moreFilterPosition?"1px dashed #e5e5e5":""}},f().createElement("span",{className:"title"},"添加筛选"),f().createElement("div",null,e.filter(function(e){return"connConfig"!==e.special||0<e.values.length}).map(function(e,t){return f().createElement("span",{key:t,className:"filter-card",onClick:function(e){return c.addMoreFilter(t)}},e.name+" +")}))):""},c.state={value:c.props.value||[],filterValue:c.props.filterValue||[],allList:[],reFilterData:{},filterListShow:[],filterListHide:[],searchInfo:{isSearching:!1,name:"",id:"",keyword:""},expandTopic:{id:"",name:"",value:[]},loading:!1,projectId:e.specifiyProjectId||b.t.get(b.V.curProject).id,advancedFilterShow:!1},c}i()(e,t);var n=e.prototype;return n.formatData=function(t){var n=this,a=[],e={};t.topics&&t.topics.titles&&0<t.topics.titles.length&&(e.connConfig=t.topics.data,a.push.apply(a,t.topics.titles.filter(function(e){return e.special="connConfig",e.filterType=t.topics.data?"connConfig":void 0,1<e.values.length}))),t.messageRelation&&(e.messageRelation=t.messageRelation.data,a.push.apply(a,t.messageRelation.titles.filter(function(e){return e.special=A[e.id],e.id=A[e.id],e.filterType=t.messageRelation.data?"messageRelation":void 0,1<e.values.length}))),t.aspects&&t.aspects.titles&&0<t.aspects.titles.length&&(e.aspects=t.aspects.data,a.push.apply(a,t.aspects.titles.filter(function(e){return e.special="vocAspect",e.filterType=t.aspects.data?"aspects":void 0,1<e.values.length}))),t.brandsSeries&&t.brandsSeries.titles&&0<t.brandsSeries.titles.length&&(e.brandsSeries=t.brandsSeries.data,a.push.apply(a,t.brandsSeries.titles.filter(function(e){return e.special="brandsSeries",e.filterType=t.brandsSeries.data?"brandsSeries":void 0,1<e.values.length}))),this.setState({reFilterData:e}),t.dimension&&a.push.apply(a,t.dimension.filter(function(e){return e.special="dimension",e.type=-1!==["BRAND_INTERACTION_ANALYSIS","BRAND_CONTENT_ANALYSIS","BRAND_CHANNEL_ANALYSIS"].indexOf(n.props.type)?"radio":"",1<e.values.length})),t.source&&0<t.source.length&&a.push({id:"source",name:"数据来源",special:"source",values:t.source}),t.tag&&0<t.tag.length&&t.tag.forEach(function(e){e.special="tag",a.push(e)}),t.userFilter&&a.push({id:"userFilter",special:"userFilter",name:"用户",type:"associateInput",values:t.userFilter}),this.props.filterConfig&&this.props.filterConfig.forEach(function(e){switch(e){case"ESCORE":a.push({id:"escore",special:"escore",name:"通用情感",values:[{id:"1",name:"正面"},{id:"0",name:"中性"},{id:"-1",name:"负面"}]});break;case"MULTI_KEY_WORD":a.push({id:"MULTI_KEY_WORD",special:"content",name:"关键词",type:"multi_input",values:[]});break;case"KEY_WORD":a.push({id:"KEY_WORD",special:"content",name:"关键词",type:"input",values:[]});break;case"USEFUL_DATA":a.push({id:"usefulData",special:"usefulData",name:"数据有效性",values:[{id:"USEFUL",name:"有效数据"},{id:"UNUSEFULL",name:"无效数据"}]});break;case"ASPECT_ESCORE":a.push({id:"aspectEscore",special:"aspectEscore",name:"指标情感",values:[{id:"1",name:"正面"},{id:"0",name:"中性"},{id:"-1",name:"负面"}]});break;case"IS_BUSINESS":a.push({id:"isBusiness",special:"isBusiness",name:"业务数据",values:[{id:"BUSINESS",name:"是"},{id:"UN_BUSINESS",name:"否"}]});break;case"IS_MARKETING":a.push({id:"isMarketing",special:"isMarketing",name:"营销数据",values:[{id:"MARKETING",name:"是"},{id:"UN_MARKETING",name:"否"},{id:"NULL_MARKETING",name:"（空）"}]})}}),t.expandTopics&&a.push({id:"expandTopic",name:"组合分析",special:"expandTopic",values:t.expandTopics,type:"expandTopic"});e=a.map(function(e){return h()({},e,{values:0<e.values.length?(0,C.QM)(e.values):e.values})});return JSON.parse(JSON.stringify(e))},n.getDefaultValue=function(e,t){var n=t||this.props.value||[],e=e||this.state.allList;return n.some(function(e){return"dimension"===e.special})||e.some(function(e){return"dimension"===e.special&&"radio"===e.type&&(n.push({special:e.special,id:e.id,name:e.name,type:e.type,values:[e.values[0].id]}),!0)}),n},n.sortList=function(t){for(var e,n=JSON.parse(JSON.stringify(this.state)),a=n.value,r=n.filterListHide,i=n.filterListShow,o=i.length,n=this.props.filterSpecial;o--;)i[o]&&!a.some(function(e){return e.id===i[o].id})&&r.unshift(i.splice(o,1)[0]);a.forEach(function(n){r.forEach(function(e,t){n.id===e.id&&i.push(r.splice(t,1)[0])})}),n?(e=n.reduce(function(e,t){return[].concat(e,r.filter(function(e){return e.special===t}))},[]),(i=[].concat(e,i)).forEach(function(t){var e=r.findIndex(function(e){return e.id===t.id});-1<e&&r.splice(e,1)})):0===i.length&&(e=this.getFilterListShowAndHide(r),i=e.filterListShow,r=e.filterListHide),i.length<4&&i.push.apply(i,r.splice(0,4-i.length)),this.setState({filterListHide:r,filterListShow:i},function(e){return t&&t()})},n.addMoreFilter=function(e){var t=this,n=this.state,a=n.filterListShow,r=n.filterListHide;n.projectId;a.push.apply(a,r.splice(e,1)),this.props.saveFilterListShow&&this.saveFilterListShow(a),this.setState({filterListShow:a,filterListHide:r},function(){t.reFilterList(t.state.value)})},n.delFilter=function(t){var n=this,e=this.state,a=e.filterListShow,r=e.filterListHide,i=e.value,i=(e.projectId,i.filter(function(e){return e.id!==a[t].id}));r.push.apply(r,a.splice(t,1)),this.props.saveFilterListShow&&this.saveFilterListShow(a),this.setState({filterListShow:a,filterListHide:r},function(e){return n.reFilterList(i,n.onChange)})},n.closeExpandTopic=function(e){var t=this.state,n=t.filterListShow,t=t.filterListHide;t.push.apply(t,n.splice(n.findIndex(function(e){return"expandTopic"===e.id}),1)),this.setState({filterListShow:n,filterListHide:t})},n.isExistence=function(n,e){return e.map(function(e){if(e.id!==n.id||e.values.length!==n.values.length)return!1;for(var t=0;t<e.values.length;t++)if(!n.values.includes(e.values[t].id))return!1;return!0})},n.reFilterList=function(e,t){var r=this.state.allList,n=this.state,c=n.reFilterData,u=n.filterListShow,a=n.filterListHide,r=JSON.parse(JSON.stringify(r)),i=JSON.parse(JSON.stringify(e.filter(function(e){return 0<e.values.length}))).map(function(e,t){return e.index=t,e}),l=JSON.parse(JSON.stringify(i)),p=c.messageRelation;r.forEach(function(t){i.forEach(function(e){t.id===e.id&&(t.index=e.index)})});for(var o=function(){var a,o=[],s=l.shift(),e=r.filter(function(e){return e.id===s.id});["aspects","connConfig","brandsSeries"].includes(s.filterType)&&s.values.length!==(0<e.length?e[0].values.length:0)?function(){for(var n=c[s.filterType],a=[],e=0;e<n.length;e++)!function(t){s.values.forEach(function(e){n[t].map(function(e){return e.id}).includes(e)&&(a=a.concat(n[t]))})}(e);var i=(0,j.uniqueArray)(a.map(function(e){return e.id}));r.forEach(function(r){var t=h()({},r,{values:[]});void 0!==r.index&&(t.index=r.index),s.id===r.id||void 0!==r.index&&s.index>r.index||r.filterType!==s.filterType||!u.map(function(e){return e.id}).includes(r.id)?t.values=r.values:function(){for(var a=i.slice(),e=0;e<r.values.length;e++)!function(n){a.some(function(e,t){return e===r.values[n].id&&(a.splice(t,1),!0)})&&t.values.push(r.values[n])}(e)}(),o.push(t)}),r=JSON.parse(JSON.stringify(o))}():"messageRelation"===s.filterType&&s.values.length!==(0<e.length?e[0].values.length:0)&&(a=p?p.filter(function(e){return s.values.includes(e.id)}).reduce(function(e,t){return e.concat(t.values)},[]):[],r.forEach(function(t){var e,n;"messageRelation"===t.filterType&&s.id!==t.id&&(void 0===t.index||s.index<t.index)&&(e=JSON.parse(JSON.stringify(t.values)),n=[],a.filter(function(e){return A[e.type]===t.id}).forEach(function(t){!n.some(function(e){return e.id===t.id})&&e.some(function(e){return e.id===t.id})&&n.push({name:t.name,id:t.id})}),t.values=n)}))};l.length;)o();r.forEach(function(t){i.forEach(function(e){t.id!==e.id||"connConfig"!==e.filterType&&"messageRelation"!==e.filterType||(e.values=e.values.filter(function(e){return-1!==t.values.map(function(e){return e.id}).indexOf(e)}))})}),r.forEach(function(t){u.forEach(function(e){t.id===e.id&&(e.values=t.values)}),a.forEach(function(e){t.id===e.id&&(e.values=t.values)})}),i.forEach(function(e){return delete e.index}),this.setState({filterListShow:u,filterListHide:a,value:i},function(e){return t&&t()})},n.getValue=function(){return JSON.parse(JSON.stringify(this.state.value))},n.getReFormatValue=function(e){function t(e){e.secondValue&&0<e.secondValue.length&&e.secondValue.forEach(function(n){a[e.special].some(function(e){return e.id===n.fatherId&&((t=e.values).push.apply(t,n.values),e.values=Array.from(new Set(e.values)),!0);var t})||a[e.special].push({id:n.fatherId,values:n.values,special:e.special})})}var e=(e?{value:e}:this.state).value,a={};return JSON.parse(JSON.stringify(e)).forEach(function(e){"connections"!==e.special?(a[e.special]?a[e.special].push({id:e.id,values:e.values,special:e.special,type:e.type}):a[e.special]=[{id:e.id,values:e.values,special:e.special,type:e.type}],t(e)):a.connections=e.values}),Object.keys(a).forEach(function(e){["input"].includes(a[e][0]&&a[e][0].type)?a[e]=[{contain:a[e][0].values}]:["source","escore","emotion","messageType","usefulData","messageCategory","aspectEscore","businessType","isBusiness","isMarketing","userFilter"].includes(a[e][0]&&a[e][0].special)?a[e]=a[e][0].values:["multi_input"].includes(a[e][0]&&a[e][0].type)&&(a[e]=[{contain:a[e][0].values.slice(0,a[e][0].values.length-1),queryType:a[e][0].values[a[e][0].values.length-1]||void 0}])}),this.refs.advancedFilter&&0<this.refs.advancedFilter.getValue()[0].contain.length?a.connections=this.refs.advancedFilter.getValue()[0].contain:this.refs.advancedFilter&&0<this.refs.advancedFilter.getValue()[0].notContain.length&&(a.advancedConnection=[{notContain:this.refs.advancedFilter.getValue()[0].notContain}]),this.refs.advancedFilter&&this.refs.advancedFilter.getValue()[0].searchQueryName&&(a.searchQueryName=this.refs.advancedFilter.getValue()[0].searchQueryName),a},n.getFullValue=function(){var e=this.state,t=e.filterListShow,n=e.value,r=[];return t.forEach(function(e){n.forEach(function(n){var t,a;e.id===n.id&&0<n.values.length&&("input"===n.type||"multi_input"===n.type?r.some(function(e){return e.type===n.type})||(t=[],n.values.forEach(function(e){return t.push({name:e})}),r.push({id:n.id,name:e.name,values:"multi_input"===n.type?t.slice(0,t.length-1):t})):(a=[],e.values.forEach(function(t){n.values.forEach(function(e){String(t.id)===String(e)&&a.push(t)})}),r.push({id:e.id,name:e.name,values:a})))})}),r},n.getFilterList=function(){return JSON.parse(JSON.stringify(this.state.filterListShow.concat(this.state.filterListHide)))},n.UNSAFE_componentWillReceiveProps=function(e){var t,n,a=this;this.props.noFresh||(t=this.state.allList,(n=JSON.parse(JSON.stringify(e.value)))&&n[0]&&t&&t[0]&&(n=e.value.filter(function(e){return a.isExistence(e,t).includes(!0)})),this.state.expandTopic.id||(JSON.stringify(e.value)===JSON.stringify(this.state.value)?this.setState({value:e.value}):this.reFilterList(this.getDefaultValue(void 0,e.value),function(){a.sortList(a.saveList)})))},n.componentDidMount=function(){this.props.noBottom&&!this.props.specifiyProjectId&&this.getFilter()},n.componentWillUnmount=function(){},n.componentDidUpdate=function(e,t){var n=e.filterValue,e=this.props.filterValue;JSON.stringify(n)!==JSON.stringify(e)&&e&&this.setState({filterValue:e})},n.renderRadio=function(t,e){var n=this,a=this.state,r=(a.searchInfo,a.value),a=a.filterValue,r=r.filter(function(e){return e.id===t.id})[0]?r.filter(function(e){return e.id===t.id})[0].values:"",a=a&&a.find(function(e){return e.id===t.id})?a.find(function(e){return e.id===t.id}).values:[];return f().createElement(o,{key:e,value:r,data:M(t.values,a),changeState:function(e){return n.handleChangeSel(t,e)},onSearch:function(e){},title:t.name})},n.render=function(){var a=this,e=this.state,n=e.filterListShow,r=e.filterListHide,t=e.searchInfo,i=e.advancedFilterShow,o=e.expandTopic,s=e.value,c=this.props,u=c.style,e=c.hideAdvanced,c={filterModel:this.getReFormatValue()};return r.forEach(function(e,t){"KEY_WORD"!==e.id&&"MULTI_KEY_WORD"!==e.id||n.push(r.splice(t,1)[0]),"expandTopic"===e.id&&r.push(r.splice(t,1)[0])}),n.forEach(function(e,t){"KEY_WORD"!==e.id&&"MULTI_KEY_WORD"!==e.id||n.push(n.splice(t,1)[0]),"expandTopic"===e.id&&n.unshift(n.splice(t,1)[0])}),f().createElement("div",{className:"filter-condition-wrap",style:u||{}},t.isSearching&&f().createElement("div",{className:"filter-search-wrap"},f().createElement("div",{className:"search"},f().createElement("span",null,f().createElement("i",{className:"icon-cem_search"}),f().createElement("span",null,t.name+":")),f().createElement("input",{placeholder:"请输入搜索词",autoFocus:!0,value:t.keyword,onInput:function(e){a.setState({searchInfo:{isSearching:!0,id:t.id,name:t.name,keyword:e.target.value}})}})),f().createElement("i",{className:"icon-cem_delete del",onClick:function(){return a.setState({searchInfo:{isSearching:!1,id:"",name:"",keyword:""}})}})),f().createElement(m.Loading,{loading:this.state.loading},f().createElement("div",{className:"filter-condition"},"top"===this.props.moreFilterPosition&&this.renderMoreFilter(r),n.map(function(n,t){switch(n.type){case"multi_input":return f().createElement("div",{className:"key-word-wrap",key:t},f().createElement("span",{className:"key-word-title"},n.name,f().createElement(l.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:f().createElement("div",null,"系统提供两种关键词搜索功能：精准匹配和模糊搜索，你可以选其一。",f().createElement("br",null),"「精准匹配」是指按照输入的关键词，执行“且”的逻辑进行查询。",f().createElement("br",null),"「模糊搜索」是指按照输入的关键词，执行“或”的逻辑进行查询，同时系统会将关键词进行有意义的智能分拆，如“中华人民共和国解放军”，实际执行是可以理解为“中华人民共和国解放军”“中华人民共和国”、“解放军”等")},f().createElement("i",{className:"icon-cem_file1"}))),f().createElement(d,{style:{width:"calc(100% - 108px)"},values:s.filter(function(e){return e.id===n.id})[0]?s.filter(function(e){return e.id===n.id})[0].values.slice(0,s.filter(function(e){return e.id===n.id})[0].values.length-1):[],queryType:s.filter(function(e){return e.id===n.id})[0]?s.filter(function(e){return e.id===n.id})[0].values[s.filter(function(e){return e.id===n.id})[0].values.length-1]:"FUZZY_SEARCH",onChange:function(e,t){return a.keyWordsChange(e,t,n)},close:"MULTI_KEY_WORD"===n.id?void 0:function(){return a.delFilter(t)}}));case"input":return f().createElement("div",{className:"key-word-wrap",key:t},f().createElement("span",{className:"key-word-title"},n.name),f().createElement(p,{style:{width:"calc(100% - 108px)"},values:s.filter(function(e){return e.id===n.id})[0]?s.filter(function(e){return e.id===n.id})[0].values:[],onChange:function(e){return a.keyWordChange(e,n)},close:"KEY_WORD"===n.id?void 0:function(){return a.delFilter(t)}}));case"associateInput":return f().createElement("div",{className:"key-word-wrap",key:t},f().createElement("span",{className:"key-word-title"},n.name),f().createElement(y,{style:{width:"calc(100% - 108px)"},values:s.filter(function(e){return e.id===n.id})[0]?s.filter(function(e){return e.id===n.id})[0].values:[],associateList:n.values,onChange:function(e){return a.keyWordChange(e,n)},close:function(){return a.delFilter(t)}}));case"expandTopic":return f().createElement(I,{ref:"expandTopic",close:function(e){return a.closeExpandTopic(t)},onChange:a.expandTopicChange,value:o,key:t,list:n.values,fresh:a.updateExpandTopic,model:a.props.model});case"radio":return a.renderRadio(n,t);default:return a.renderCheckBox(n,t)}}),"top"!==this.props.moreFilterPosition&&this.renderMoreFilter(r))),O.Z.hasAuthority("CONNECTION_SEARCH")&&!e&&f().createElement(_,{ref:"advancedFilter",show:i,queryType:this.props.type,queryParams:c,defaultValue:s.filter(function(e){return"connections"===e.special})}),!this.props.noBottom&&f().createElement("div",{className:"bottom"},f().createElement("ul",{className:"handle"},f().createElement("li",null,f().createElement("span",{className:"filter"},this.props.count," 个链接符合条件")),0<s.length&&f().createElement("li",null,f().createElement("span",{className:"clear",onClick:this.clearData},"清空选项"))),O.Z.hasAuthority("CONNECTION_SEARCH")&&!e&&f().createElement("span",{className:"advancedFilter",onClick:function(){return a.toggleAdvancedFilter()}},f().createElement("span",null,"高级筛选"),f().createElement("i",{className:"icon-cem_screening-for-more",style:{transform:i?"":"rotate(-180deg)",top:i?"3px":""}})),f().createElement(m.Button,{type:"primary",onClick:function(e){a.saveList(),a.closeAdvancedFilter(),o.id&&a.expandTopicChange(o,null,!0),setTimeout(function(e){return a.props.onConfirm&&a.props.onConfirm()},0),a.setState({filterValue:a.getValue()})}},"查询"),f().createElement(m.Button,{onClick:function(e){o.id&&a.expandTopicChange(o),a.props.onCancel&&a.props.onCancel()}},"取消")))},e}(t.Component);L.propTypes={style:r().object,projectId:r().string,value:r().array,filter:r().array,filterConfig:r().array,dimension:r().string,messageRelationConfig:r().object,hideAdvanced:r().bool,onFilterChange:r().func,onFilterReady:r().func,onExpandTopicChange:r().func,onConfirm:r().func,onCancel:r().func,count:r().oneOfType([r().number,r().string]),type:r().string,noBottom:r().bool,moreFilterPosition:r().string,specifiyProjectId:r().string,saveFilterListShow:r().string,disableIds:r().array,noFresh:r().bool}},77131:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var a=n(85354),r=n.n(a),t=n(67294),s=n.n(t),a=n(45697),t=n.n(a),c=n(92360),i=n(5133),a=n(30381),u=n.n(a),l=n(58341),o=n(97189),p=n(36144),d=n(35239),f=["快捷时间筛选器","固定时间筛选器"],h=["今天","昨天","前天","近365天","本周","上周","近7天","","本月","上个月","近30天","","本季","上个季度","近90天","","今年","去年","近180天"],m=["overview","product","service","marketing"],v="",y=function(t){function e(e){var r=t.call(this,e)||this;return r.getDateRange=function(e){r.setState({selectedDateRange:e})},r.getNumOfDays=function(e){if(Array.isArray(e)){var t=e[0],e=e[1];return u()(e,r.state.formatStr).diff(u()(t,r.state.formatStr),"days")+1}return 0},r.handleClickQuickTime=function(e){var t=r.state,n=t.currSelector,a=t.staredQuickTimeChoice,t=r.getQuickDateRange(e);r.setState({selectedQuickTimeChoice:e,selectedDateRange:t}),r.setDefaultValue(JSON.stringify({module:"ecommerceMonitor",currSelector:n,selectedQuickTimeChoice:e,staredQuickTimeChoice:a,value:[]}))},r.getQuickDateRange=function(e){var t=[];switch(e){case 0:t=[u()().startOf("day"),u()()];break;case 1:t=[u()().subtract(1,"days").startOf("day"),u()().subtract(1,"days").endOf("day")];break;case 2:t=[u()().subtract(2,"days").startOf("day"),u()().subtract(2,"days").endOf("day")];break;case 3:t=[u()().subtract(365,"days"),u()()];break;case 4:t=[u()().startOf("week"),u()()];break;case 5:t=[u()().subtract(1,"weeks").startOf("week"),u()().subtract(1,"weeks").endOf("week")];break;case 6:t=[u()().subtract(7,"days"),u()()];break;case 8:t=[u()().startOf("month"),u()()];break;case 9:t=[u()().subtract(1,"months").startOf("month"),u()().subtract(1,"months").endOf("month")];break;case 10:t=[u()().subtract(30,"days"),u()()];break;case 12:t=[u()().startOf("quarter"),u()()];break;case 13:t=[u()().subtract(1,"quarters").startOf("quarter"),u()().subtract(1,"quarters").endOf("quarter")];break;case 14:t=[u()().subtract(90,"days"),u()()];break;case 16:t=[u()().startOf("year"),u()()];break;case 17:t=[u()().subtract(1,"years").startOf("year"),u()().subtract(1,"years").endOf("year")];break;case 18:t=[u()().subtract(180,"days"),u()()]}return t.map(function(e){return e.format(r.state.formatStr)})},r.state={show:void 0!==e.show&&e.show,currSelector:0,selectedDateRange:[],selectedQuickTimeChoice:d.t.get(d.V.quickTimeChoice)||10,staredQuickTimeChoice:-1,params:e.params,formatStr:e.useHourSelect?"YYYY-MM-DD HH:mm":"YYYY-MM-DD"},r}r()(e,t);var n=e.prototype;return n.componentDidMount=function(){var n=this;document.querySelectorAll(".right ul li").forEach(function(e,t){7!==t&&11!==e&&15!==e&&(e.addEventListener("mouseover",function(){return n.displayStar(e)}),e.addEventListener("mouseout",function(){return n.hideStar(e)}))})},e.getDerivedStateFromProps=function(e,t){return e.show!==t.show?{show:e.show}:JSON.stringify(e.params)!==JSON.stringify(t.params)?{params:e.params}:null},n.componentWillUnmount=function(){var n=this;document.querySelectorAll(".right ul li").forEach(function(e,t){7!==t&&11!==e&&15!==e&&(e.removeEventListener("mouseover",function(){return n.displayStar(e)}),e.removeEventListener("mouseout",function(){return n.hideStar(e)}))})},n.displayStar=function(e){(0,o.hasClass)(e.children[0],"active")&&(e.children[1].getElementsByTagName("span")[0].style.display="inline-block")},n.hideStar=function(e){e=e.children[1].getElementsByTagName("span")[0];(0,o.hasClass)(e,"star")||(e.style.display="none")},n.switchSlector=function(e){this.setState({currSelector:e})},n.getCurrDate=function(){var e=this.state,t=e.currSelector,n=e.selectedDateRange,a=e.selectedQuickTimeChoice,r=e.params,i=this.formatDate(2),e=this.getNumOfDays(n);return{from:n[0],to:n[1],quickChoice:0===t?r&&-1<r.quickChoice.indexOf("-")?r.quickChoice:h[a]:i,dateGroupType:"DAY",numOfDays:e,remoteName:"cTime"}},n.clickStarIcon=function(e,t){d.t.set(d.V.quickTimeChoice,t),e.stopPropagation();var n,a=this.state.staredQuickTimeChoice,r=this.state.selectedQuickTimeChoice;a!==t?(-1!==a&&(n=document.querySelectorAll(".right ul li")[a].children[1],(0,o.removeClass)(n,"star"),n.style.display="none"),a=t,(0,o.addClass)(e.target.parentNode,"star")):(a=-1,(0,o.removeClass)(e.target.parentNode,"star")),this.setState({staredQuickTimeChoice:a}),this.setDefaultValue(JSON.stringify({module:"ecommerceMonitor",currSelector:0,selectedQuickTimeChoice:r,staredQuickTimeChoice:a,value:[]}))},n.fetchDefaultValue=function(){var i=this,e=this.state.selectedQuickTimeChoice,o=h[e],e=window.location.pathname.split("/")[1],e=-1<m.indexOf(e)?"insight":e;v="default-time-"+e;var s=this.props.defaultValue,c=[u()().subtract(29,"days").format(this.state.formatStr),u()().format(this.state.formatStr)];return p.h.post("/default/value/find",{key:v,projectId:d.t.get(d.V.curProject).id}).then(function(e){var t=JSON.parse(e.data.result),n=i.state.params;if(!t||-1===t.staredQuickTimeChoice){var a=n?-1===n.quickChoice.indexOf("-")?h.indexOf(n.quickChoice):-1:s?-1===s.quickChoice.indexOf("-")?h.indexOf(s.quickChoice):-1:d.t.get(d.V.quickTimeChoice),r=0<a?i.getQuickDateRange(a):n?[n.from,n.to]:s?[s.from,s.to]:c;return i.setState({selectedQuickTimeChoice:a,selectedDateRange:r}),{from:r[0],to:r[1],quickChoice:n?n.quickChoice:s?s.quickChoice:d.t.get(d.V.quickTimeChoice)&&-1<d.t.get(d.V.quickTimeChoice)?h[d.t.get(d.V.quickTimeChoice)]:r[0]+" - "+r[1],dateGroupType:"DAY",remoteName:"cTime",numOfDays:i.getNumOfDays(r)}}e=t.currSelector,a=t.selectedQuickTimeChoice,r=t.staredQuickTimeChoice,t=n&&n.quickChoice&&-1===n.quickChoice.indexOf("-")?h.indexOf(o):-1<r?r:a,a=n&&n.quickChoice?-1===n.quickChoice.indexOf("-")?i.getQuickDateRange(t):[n.from,n.to]:-1<r?i.getQuickDateRange(r):i.getQuickDateRange(a);if(0===e)return i.setState({selectedQuickTimeChoice:t,staredQuickTimeChoice:r,selectedDateRange:a}),{from:a[0],to:a[1],quickChoice:h[t],dateGroupType:"DAY",remoteName:"cTime",numOfDays:i.getNumOfDays(a)}})},n.setDefaultValue=function(e){p.h.post("/default/value/update",{key:v,projectId:d.t.get(d.V.curProject).id,value:e})},n.clickConfirmBtn=function(){var e=this;0<this.state.selectedDateRange.length?this.setState({params:null,show:!1},function(){return e.props.onChange(e.getCurrDate())}):i.Z.error("请选择时间范围")},n.clickCancelBtn=function(){this.props.onCancel()},n.formatDate=function(e){for(var t=this.state.selectedDateRange,n="",a=0;a<t.length;a++){var r,i=void 0,o=void 0;this.props.useHourSelect?(i=(r=t[a].split(" "))[0],o=r[1]):i=t[a];for(var s=i.split("-"),c=0;c<s.length;c++)0===c&&(n+=s[c]+(1===e?"年":".")),1===c&&(n+=s[c]+(1===e?"月":".")),2===c&&(n+=s[c]+(1===e?"日":""));o&&(n+=1===e?o.split(":")[0]+"时"+o.split(":")[1]+"分":" "+o),0===a&&(n+=" - ")}return n},n.render=function(){var n=this,e=this.state,t=e.show,a=e.currSelector,r=e.selectedDateRange,i=e.selectedQuickTimeChoice,o=e.staredQuickTimeChoice,e=this.formatDate(1);return s().createElement("div",{className:"time-picker-wrapper-filter",style:{display:t?"block":"none"}},s().createElement("div",{className:"time-picker-body"},s().createElement("div",{className:"left"},s().createElement("ul",null,f.map(function(e,t){return s().createElement("li",{key:t,className:a===t?"active":"",onClick:function(){return n.switchSlector(t)}},e)}))),s().createElement("div",{className:"right"},s().createElement("ul",{className:"date_ul_wrap",style:{display:0===a?"block":"none"}},h.map(function(e,t){return s().createElement("li",{key:t,onClick:function(){return n.handleClickQuickTime(t)},style:{pointerEvents:[7,11,15].includes(t)?"none":"auto"}},s().createElement("span",{className:i===t?"active":""},e),s().createElement(c.Popover,{className:"time-picker-star-tooltip",trigger:"hover",placement:"top",width:"50",content:o===t?"取消默认":"设为默认"},s().createElement("span",{className:o===t?"star":"",onClick:function(e){return n.clickStarIcon(e,t)}},s().createElement("i",{className:"icon-cem icon-cem_star"}))))})),s().createElement(l.Z,{type:"rangeCalendar",getDateRange:this.getDateRange,style:{display:1===a?"block":"none"},useHourSelect:this.props.useHourSelect}))),s().createElement("div",{className:"time-picker-footer"},s().createElement("span",null,"当前选择时间："),0<r.length?s().createElement("span",null,e):null,s().createElement("div",null,s().createElement(c.Button,{type:"primary",onClick:function(){return n.clickConfirmBtn()}},"确定"),s().createElement(c.Button,{type:"default",onClick:function(){return n.clickCancelBtn()}},"取消"))))},e}(s().PureComponent);y.propTypes={show:t().bool,onChange:t().func,params:t().object,defaultValue:t().object,useHourSelect:t().bool}},67592:(e,t,n)=>{"use strict";n.d(t,{d:()=>function(e,t){var n,a,r,i;if(arguments.length<1)return!0;for(n=1,a=arguments.length;n<a;n++)if(r=[],i=[],!function e(t,n){if(isNaN(t)&&isNaN(n)&&"number"==typeof t&&"number"==typeof n)return 1;if(t===n)return 1;if("function"==typeof t&&"function"==typeof n||t instanceof Date&&n instanceof Date||t instanceof RegExp&&n instanceof RegExp||t instanceof String&&n instanceof String||t instanceof Number&&n instanceof Number)return t.toString()===n.toString();if(t instanceof Object&&n instanceof Object&&!t.isPrototypeOf(n)&&!n.isPrototypeOf(t)&&t.constructor===n.constructor&&t.prototype===n.prototype&&!(-1<r.indexOf(t)||-1<i.indexOf(n))){for(var a in n){if(n.hasOwnProperty(a)!==t.hasOwnProperty(a))return;if(typeof n[a]!=typeof t[a])return}for(a in t){if(n.hasOwnProperty(a)!==t.hasOwnProperty(a))return;if(typeof n[a]!=typeof t[a])return;switch(typeof t[a]){case"object":case"function":if(r.push(t),i.push(n),!e(t[a],n[a]))return;r.pop(),i.pop();break;default:if(t[a]!==n[a])return}}return 1}}(arguments[0],arguments[n]))return!1;return!0}})},19586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,C:()=>b});var a=n(67154),c=n.n(a),t=n(93913),r=n.n(t),a=n(85354),i=n.n(a),t=n(67294),w=n.n(t),a=n(45697),a=n.n(a),u=n(92360),l=n(5133),p=n(36144),E=n(83425),k=n(77131);function d(e){return p.h.post("/filter/find/save",{id:e})}function f(e,t,n){return p.h.post("/default/value/update",{key:e,projectId:t,value:n})}function h(e,t,n,a,r,i){return p.h.post("/filter/add",{name:e,copy:t,type:a,id:n,projectId:r,filter:i})}var s=n(43036),m=n(97189),v=n(35239),y="empty";const C=function(t){function e(e){var s=t.call(this,e)||this;return s.getSelectedFilterObj=function(){return s.state.selFilterObj},s._handleListSelect=function(e,t){e.stopPropagation(),s.props.onFilterChange(t),s.setState({selFilterObj:t})},s._handleListStar=function(e,t,n){e.stopPropagation(),s.lastStaredSaveId=t;var a=s.state,r=a.staredFilterId,i=a.savedKey,o=a.projectId,a=a.staredFilterIndex;r!==t?(-1!==a&&(a=document.querySelectorAll(".saved-condition-list .star")[a].children[1],(0,m.removeClass)(a,"star-active")),(0,m.addClass)(e.target.parentNode,"star-active")):(0,m.removeClass)(e.target.parentNode,"star-active"),s.setState({staredFilterIndex:n,staredFilterId:r===t?y:t},function(){f(i,o,s.state.staredFilterId).then(function(e){2e4!==e.data.code&&s.setState({staredFilterId:s.lastStaredSaveId})})})},s._handleOnEditClick=function(e,t){e.stopPropagation(),s.refs.saveNameInput.refs.input.value=t.name,s.setState({targetFilterObj:t,editDialogVisible:!0})},s._handleConfitionSaveConfirm=function(){var e=s.state,n=e.selFilterObj,a=e.projectId,r=e.targetFilterObj,e=s.props,i=e.model,o=e.onFilterRename;d(r.id).then(function(e){var t=e.data;2e4===t.code&&(e=s.refs.saveNameInput.refs.input.value,o(n.name),h(e,!1,r.id,i,a,t.result.filter).then(function(e){2e4===e.data.code&&(l.Z.success("修改成功"),s.setState({editDialogVisible:!1}),s.refresh(n.id))}))})},s._handleOnDeleteClick=function(e,t){e.stopPropagation(),s.setState({targetFilterObj:t,delDialogVisible:!0})},s._handleOnDeleteConfirm=function(e){e.stopPropagation();var t=s.state,n=t.targetFilterObj,a=t.savedKey,r=t.projectId,i=t.staredFilterId,e=t.filterList,o=t.selFilterObj,t=[(t=n.id,p.h.post("/filter/delete",{id:t,menuModel:{}}))];i===n.id&&t.push(f(a,r,y)),Promise.all(t).then(function(e){2e4===e[0].data.code&&s.refresh(n.id===o.id?void 0:o.id)}),s.props.onFilterChange(n.id===o.id?e[0]:o)},s.renderDeleteDialog=function(){var e=s.state,t=e.selFilterObj,e=e.targetFilterObj;return w().createElement("div",{onMouseLeave:function(e){return e.stopPropagation()}},w().createElement(u.Dialog,{title:"删除",className:"delete-saved-confition-dialog",size:"tiny",modal:!1,visible:s.state.delDialogVisible,onMouseLeave:function(e){return e.stopPropagation()},onCancel:function(e){return s.setState({delDialogVisible:!1})}},w().createElement(u.Dialog.Body,null,w().createElement("span",null,e&&t&&t.id===e.id?"删除该筛选器后，当前页面的筛选器将自动切换为”全部数据（默认）”筛选器，是否删除？":'是否删除"'+e.name+'"筛选器？')),w().createElement(u.Dialog.Footer,null,w().createElement(u.Button,{type:"primary",onClick:s._handleOnDeleteConfirm},"确定"),w().createElement(u.Button,{type:"default",onClick:function(e){return s.setState({delDialogVisible:!1})}},"取消"))))},s.renderEditDialog=function(){return w().createElement("div",{onMouseLeave:function(e){return e.stopPropagation()}},w().createElement(u.Dialog,{title:"修改名称",className:"filter-save-name-dialog",size:"tiny",modal:!1,visible:s.state.editDialogVisible,onCancel:function(e){return s.setState({editDialogVisible:!1})}},w().createElement(u.Dialog.Body,null,w().createElement(u.Input,{className:"name-input",placeholder:"请输入名称",ref:"saveNameInput"})),w().createElement(u.Dialog.Footer,null,w().createElement(u.Button,{type:"primary",onClick:s._handleConfitionSaveConfirm},"确定"),w().createElement(u.Button,{type:"default",onClick:function(e){return s.setState({editDialogVisible:!1})}},"取消"))))},s.state={projectId:v.t.get(v.V.curProject).id,savedKey:e.model+"_SAVED_OBJ",filterList:void 0,selFilterObj:void 0,targetFilterObj:{},staredFilterId:y,staredFilterIndex:-1,isEditing:!1,delDialogVisible:!1,editDialogVisible:!1},s}i()(e,t);var n=e.prototype;return n.componentDidMount=function(){},n.componentDidUpdate=function(e,t){this.state.filterList;this.props.show===e.show||this.props.show||this.setState({isEditing:!1,fullListShow:!1})},n.componentWillUnmount=function(){},n.refresh=function(o){var s=this,e=this.state,t=e.savedKey,n=e.projectId,a=(e.staredFilterId,this.props),e=a.model,c=(a.onFilterChange,a.shouldShowDefault),u=void 0,e=p.h.post("/filter/list",{type:e,projectId:n}),n=p.h.post("/default/value/find",{key:t,projectId:n});return Promise.all([e,n]).then(function(e){var t,n,a,r,i=e[0].data;2e4===i.code&&(t=i.result.all).unshift({id:"default",name:"全部数据（默认）"});e=e[1].data;return 2e4===e.code&&(n=e.result||y,a=c?-1:t.findIndex(function(e){return e.id===n}),o&&(r=t.findIndex(function(e){return e.id===o})),u=r?t[r]:-1===a?t[0]:t[a]),s.setState({delDialogVisible:!1,selFilterObj:u,staredFilterIndex:a,filterList:t,staredFilterId:n,fullListShow:15<t.length&&s.state.fullListShow}),u})},n.render=function(){var a=this,e=this.state,t=e.filterList,r=e.selFilterObj,i=e.staredFilterId,o=e.isEditing,e=this.props,e=(e.onFilterChange,e.show),t=t?JSON.parse(JSON.stringify(t)):[];return w().createElement("div",{className:"saved-condition-wrapper",style:{display:e?"block":"none",width:2<t.length?"728px":1<t.length?"486px":"278px"}},w().createElement("div",{className:"saved-condition-list"},w().createElement("p",{className:"saved-condition-tip"},"提示：通过筛选器可提高图表查看效率"),w().createElement("ul",null,t.map(function(t,n){return w().createElement("li",{className:o?"editing":"star",key:o?"edit"+n:"star"+n,onClick:function(e){return a._handleListSelect(e,t)}},w().createElement("span",{className:r&&r.id===t.id?"active":""},w().createElement("i",{className:"radio"}),w().createElement("span",null,t.name)),"default"!==t.id&&w().createElement("span",{className:"edt-active tool"},w().createElement(s.Z,{placement:"top",overlay:i===t.id?"取消默认":"设为默认"},w().createElement("span",{className:i===t.id?"star-active":"",onClick:function(e){return a._handleListStar(e,t.id,n)}},w().createElement("i",{className:i===t.id?"icon-cem_star":"icon-cem_star-line"}))),w().createElement(s.Z,{placement:"top",overlay:"重命名"},w().createElement("span",{onClick:function(e){return a._handleOnEditClick(e,t)}},w().createElement("i",{className:"icon-cem icon-cem_screening-editor"}))),w().createElement(s.Z,{placement:"top",overlay:"删除"},w().createElement("span",{onClick:function(e){return a._handleOnDeleteClick(e,t)}},w().createElement("i",{className:"icon-cem icon-cem_delete"})))))}))),this.renderDeleteDialog(),this.renderEditDialog())},e}(w().Component);var g=n(21816),x=n(67592),o=function(n){function e(e){var o=n.call(this,e)||this;o.changeFilter=function(e){o.setState({selFilterId:e===o.state.selFilterId?null:e})},o.onConditionChange=function(e){var t=[],n=o.state.defFilterValue.map(function(e){return{id:e.id,values:e.values}}),t=o.refs.FilterCondition.getValue().map(function(e){return{id:e.id,values:e.values}}),n=!(0,x.d)(t.filter(function(e){return"connections"!==e.special}),n.filter(function(e){return"connections"!==e.special}));o.setState({isDefFilterChanged:n,filterConditionValue:o.refs.FilterCondition.getValue()},function(e){o.getListCount()})},o.onTimeChange=function(e){o.setState({time:o.refs.timePicker.getCurrDate()},function(e){o.getListCount(),o.handleChange()})},o.handleChange=function(e){!e&&o.props.onChange&&o.props.onChange(o.getValue()),o.setState({selFilterId:null,detail:o.state.showList.includes("condition")?o.refs.FilterCondition.getFullValue():[]},function(e){return o.competeInfoWidth()})},o.competeInfoWidth=function(){var t,e,n;o.refs.info&&(o.refs.info.style.whiteSpace="nowrap",t=[],Array.from(o.refs.info.getElementsByClassName("detail-info")).forEach(function(e){e.style.width="unset",t.push(e.clientWidth),e.style.width="calc(100% - 88px)"}),n=122,n+=700<(e=Math.max.apply(null,t))?700:e,o.refs.info.style.whiteSpace="normal",o.refs.info.style.width=n+"px")},o.getReady=function(e){o.refs.SavedConfition?o._handleOnFilterChange(o.refs.timePicker?e[1]:e[0],!0).then(function(){o.setState({filterValue:o.refs.FilterCondition?o.refs.FilterCondition.getValue():[]}),o.getListCount(!0),o.props.onFilterReady&&o.props.onFilterReady(o.firstGetVal())}):(o.isSaveValueUseful()&&(o.setState({filterConditionValue:[],filterValue:[]}),console.error("筛选条件与列表存在不对应关系，已清除默认选中筛选")),setTimeout(function(){return o.props.onFilterReady&&o.props.onFilterReady(o.firstGetVal())},0),o.getListCount(!0),o.state.showList.includes("condition")&&o.refs.FilterCondition.getFilter())},o.isSaveValueUseful=function(e){var t=o.state,n=t.filterConditionValue,n=(t.allList,e||n);if(!o.refs.FilterCondition)return!1;var a=o.refs.FilterCondition.state.allList.map(function(e){return e.values}).flat(1).map(function(e){return String(e.id)});return n.filter(function(e){return!["MULTI_KEY_WORD","KEY_WORD","originSource","topics","superTopics"].includes(e.id)}).map(function(e){return e.values}).flat(1).some(function(e){return!a.includes(String(e))})},o._handleConfitionSave=function(e){e.stopPropagation();e=o.state.filterObj;e&&"default"!==e.id?o._saveConfition(e.name,!1,e.id):o.setState({dialogType:"save",saveNameDialogVisible:!0})},o._handleConfitionSaveAs=function(e){e.stopPropagation(),o.setState({dialogType:"saveAs",saveNameDialogVisible:!0})},o._handleConfitionSaveConfirm=function(){var e=o.state,t=e.dialogType,n=e.filterObj,e=o.refs.saveNameInput.refs.input.value,t="saveAs"===t;o._saveConfition(e,t,t?n.id:null),o.refs.saveNameInput.refs.input.value=""},o._handleOnFilterChange=function(r,i){return new Promise(function(a){function e(){return i&&o.state.showList.includes("condition")&&o.refs.FilterCondition.getFilter()}if(o.setState({isDefFilterChanged:!1}),o.state.hasOutsideFilterValues){var t=b(o.props.values.filterModel),n=o.isSaveValueUseful();return o.setState({filterObj:r,defFilterValue:n?[]:t,filterConditionValue:n?[]:JSON.parse(JSON.stringify(t)),hasOutsideFilterValues:!1},function(){o.handleChange(i),a()}),void e()}if("default"===r.id)return o.setState({filterObj:r,defFilterValue:[],detail:[],filterConditionValue:[],filterValue:[]},function(e){o.handleChange(i),a()}),void e();t=function(){d(r.id).then(function(e){var t=e.data,n=b(t.result.filter),e=!1;2e4===t.code&&(o.isSaveValueUseful(n)&&(n=[],e=!0),o.setState({filterObj:r,defFilterValue:n,filterConditionValue:JSON.parse(JSON.stringify(n)),filterValue:JSON.parse(JSON.stringify(n)),detail:JSON.parse(JSON.stringify(n)),showWarning:e},function(){o.handleChange(i),a()}))})};i?e().then(t):t()})},o.handleRename=function(e){var t=o.state.filterObj;t.name=e,o.setState({filterObj:t})},o.onExpandTopicChange=function(e){o.setState({expandTopicData:e}),""===e.id&&o.setState({filterConditionValue:[],isDefFilterChanged:!1})},o._handleSaveExpandTopic=function(e){var t,n,a,r;o.state.expandTopicData.id?(t=o.state.expandTopicData.name,n=o.state.expandTopicData.id,a=o.props.model,r=o.getValue(),(0,g.D)(t,!1,n,a,o.state.projectId,r.filterModel).then(function(e){e=e.data;2e4===e.code&&(l.Z.success("组合分析保存成功"),o.refs.FilterCondition.updateExpandTopic(n,{name:e.result.name,id:e.result.id}),o.setState({dialogType:"save",expandTopicDialogVisible:!1,filterValue:o.refs.FilterCondition.getValue()}))})):o.setState({dialogType:"save",expandTopicDialogVisible:!0})},o._handleSaveAsExpandTopic=function(e){o.setState({dialogType:"saveAs",expandTopicDialogVisible:!0})},o._handleExpandTopicSaveConfirm=function(){var e=o.refs.saveExpandTopic.refs.input.value,t="saveAs"===o.state.dialogType,n=t?o.state.expandTopicData.id||o.state.filterObj.id:null,a=o.props.model,r=o.getValue();(0,g.D)(e,t,n,a,o.state.projectId,r.filterModel).then(function(e){e=e.data;2e4===e.code&&(l.Z.success("组合分析保存成功"),o.refs.saveExpandTopic.refs.input.value="",o.refs.FilterCondition.updateExpandTopic(null,{name:e.result.name,id:e.result.id}),o.setState({dialogType:"save",expandTopicDialogVisible:!1,filterValue:o.refs.FilterCondition.getValue()}))})},o.renderDialog=function(){return w().createElement(u.Dialog,{title:"save"===o.state.dialogType?"保存筛选条件":"筛选条件另存为",className:"filter-save-name-dialog",size:"tiny",modal:!1,visible:o.state.saveNameDialogVisible,onCancel:function(e){return o.setState({saveNameDialogVisible:!1})}},w().createElement(u.Dialog.Body,null,w().createElement(u.Input,{className:"name-input",placeholder:"请输入名称",ref:"saveNameInput"})),w().createElement(u.Dialog.Footer,null,w().createElement(u.Button,{type:"primary",onClick:o._handleConfitionSaveConfirm},"确定"),w().createElement(u.Button,{type:"default",onClick:function(e){return o.setState({saveNameDialogVisible:!1})}},"取消")))},o.renderExpandTopicDialog=function(){return w().createElement(u.Dialog,{title:"save"===o.state.dialogType?"保存为组合分析":"组合分析另存为",className:"filter-save-name-dialog",size:"tiny",modal:!1,visible:o.state.expandTopicDialogVisible,onCancel:function(e){return o.setState({expandTopicDialogVisible:!1})}},w().createElement(u.Dialog.Body,null,w().createElement(u.Input,{className:"name-input",placeholder:"请输入名称",ref:"saveExpandTopic"})),w().createElement(u.Dialog.Footer,null,w().createElement(u.Button,{type:"primary",onClick:o._handleExpandTopicSaveConfirm},"确定"),w().createElement(u.Button,{type:"default",onClick:function(e){return o.setState({expandTopicDialogVisible:!1})}},"取消")))};var t=e.values,e=t&&t.filterModel&&0<Object.keys(t.filterModel).length,t=e?b(t.filterModel):[];return o.state={hasOutsideFilterValues:e,showList:o.props.showList,selFilterId:o.props.defaultShow||null,filterConditionValue:t,filterValue:t,expandTopicData:{},time:{},detail:[],projectId:v.t.get(v.V.curProject).id,count:"",saveFilterVisible:!1,saveNameDialogVisible:!1,filterObj:{id:"default",name:"全部数据（默认）"},defFilterValue:[],isDefFilterChanged:!1,dialogType:"save",showWarning:!1},o}i()(e,n);var t=e.prototype;return t.getListCount=function(e){var t,n=this;this.state.showList.includes("condition")&&((t=e?this.firstGetVal():this.getValue()).dateFilter?t.dateFilter.dateGroupType=null:t.dateFilter={},e=window.location.pathname,/^\/price/.test(e)&&(t.queryType="PRICE"),t.projectId=v.t.get(v.V.curProject).id,p.h.post("/filter/connection/find",t).then(function(e){n.setState({count:e.data.result.total})}))},t.getValue=function(){var e=this.props.showList,t={};return e.includes("condition")&&Object.assign(t,{filterModel:this.refs.FilterCondition?this.refs.FilterCondition.getReFormatValue():{}}),e.includes("time")&&(t.dateFilter=JSON.parse(JSON.stringify(this.state.time))),t},t.firstGetVal=function(){var e,t=this.props.showList,n=this.state.filterConditionValue;return{dateFilter:e=t.includes("time")?JSON.parse(JSON.stringify(this.state.time)):e,filterModel:this.refs.FilterCondition?this.refs.FilterCondition.getReFormatValue(n):{}}},t.componentDidMount=function(){function e(){var e=[];n.state.showList.includes("time")&&e.push(n.refs.timePicker.fetchDefaultValue()),n.state.showList.includes("save")&&e.push(n.refs.SavedConfition.refresh()),Promise.all(e).then(function(e){var t;n.state.showList.includes("time")?(t=e.filter(function(e){return e.dateGroupType})[0],n.setState({time:t},function(){n.getReady(e)})):n.getReady(e)})}var n=this;this.state.projectId?e():this.id=setInterval(function(){v.t.get(v.V.curProject).id&&(clearInterval(n.id),n.setState({projectId:v.t.get(v.V.curProject).id},function(){e()}))},50)},t._saveConfition=function(n,e,t){var a=this,r=this.state.filterObj,i=this.getValue(),o=this.props.model,s=this.state.projectId;h(n,e,t,o,s,c()({},i.filterModel)).then(function(e){var t=e.data;2e4===t.code&&(l.Z.success("筛选条件保存成功"),r.name=n,r.id=t.result.id,e=b(c()({},i.filterModel)),a.setState({dialogType:"save",saveNameDialogVisible:!1,filterObj:r,showWarning:!1,filterValue:a.refs.FilterCondition.getValue(),detail:JSON.parse(JSON.stringify(e))},function(){a.handleChange(),a.refs.SavedConfition.refresh(t.result.id)}))}).catch(function(e){return console.log(e)})},t.handleShowSave=function(e){this.state.expandTopicData.id||(this.refs["save-filter"].getAttribute("class"),this.refs["save-filter"].setAttribute("class","enter"===e?"save-filter sel":"save-filter"),this.setState({saveFilterVisible:"enter"===e}))},t.render=function(){var n=this,e=this.state,a=e.selFilterId,t=e.showList,r=e.filterConditionValue,i=e.expandTopicData,o=e.detail,s=e.count,c=e.isDefFilterChanged,u=e.filterObj,l=e.saveFilterVisible,p=e.hasOutsideFilterValues,d=e.projectId,f=e.showWarning,h=e.filterValue,m=this.list,v=this.props,y=v.filterCondition,g=v.title,x=v.model,b=v.values,T=v.timeDefaultValue,I=v.useHourSelect,e=i.id?i.name:t.includes("save")&&u?u.name:g,v=b&&b.dateFilter?b.dateFilter:void 0,b=!!this.refs.FilterCondition&&this.refs.FilterCondition.isExpandTopicChanged();return d?w().createElement("div",{className:"filter-new"},w().createElement("div",{className:"wrap"},t.includes("save")&&w().createElement("div",{ref:"save-filter",className:"save-filter"},w().createElement("span",null,i.id?"组合分析：":"筛选器："),w().createElement("div",{className:"save-filter-wrap",onMouseEnter:function(e){return n.handleShowSave("enter")},onMouseLeave:function(e){return n.handleShowSave("leave")}},w().createElement("span",null,e),!i.id&&w().createElement("i",{className:"icon-cem_arrow-launches"}),w().createElement(C,{shouldShowDefault:p,ref:"SavedConfition",show:l,model:x,onFilterChange:this._handleOnFilterChange,onFilterRename:this.handleRename}))),!t.includes("save")&&g&&w().createElement("div",{className:"title"},e),w().createElement("div",{className:"button-zone"},t.includes("save")&&!i.id&&"condition"===a&&u&&c&&w().createElement("div",null,w().createElement("span",{className:"modified"},"已修改"),"default"===u.id?w().createElement("a",null,w().createElement("span",{className:"save",onClick:function(e){return n._handleConfitionSave(e)}},"保存为筛选器"),y.filter.includes("EXPAND_TOPIC")&&w().createElement("span",{className:"save",onClick:function(e){return n._handleSaveExpandTopic(e)}},"保存为组合分析")):w().createElement("span",{className:"save",onClick:function(e){return n._handleConfitionSave(e)}},"更新筛选器"),u&&"default"!==u.id&&w().createElement("div",{className:"more-zone"},w().createElement("span",{className:"more"},w().createElement("i",{className:"icon-cem icon-cem_more"})),w().createElement("div",{className:"more-list"},w().createElement("div",{className:"li-item",onClick:function(e){return n._handleConfitionSaveAs(e)}},"另存为筛选器"),y.filter.includes("EXPAND_TOPIC")&&w().createElement("div",{className:"li-item",onClick:function(e){return n._handleSaveAsExpandTopic(e)}},"另存为组合分析")))),i.id&&b&&w().createElement("div",null,w().createElement("span",{className:"modified"},"已修改"),w().createElement("span",{className:"save",onClick:function(e){return n._handleSaveExpandTopic(e)}},"更新组合分析"),w().createElement("div",{className:"more-zone"},w().createElement("span",{className:"more"},w().createElement("i",{className:"icon-cem icon-cem_more"})),w().createElement("div",{className:"more-list"},w().createElement("div",{className:"li-item",onClick:function(e){return n._handleSaveAsExpandTopic(e)}},"另存为组合分析"))))),!i.id&&this.state.showList.includes("condition")&&w().createElement("div",{className:"info"},w().createElement("span",{className:"detail"},"详情"),w().createElement("div",{className:"info-wrap"},w().createElement("div",null,"当前页面筛选条件"),o&&0<o.length?w().createElement("ul",{ref:"info"},o.map(function(n,e){return w().createElement("li",{key:e},w().createElement("div",{className:"name"},n.name),w().createElement("div",{className:"detail-info"},n.values&&n.values.slice(0,100).map(function(e,t){return w().createElement("span",{key:t},e.name+(t===n.values.length-1?"":"，"))})))})):w().createElement("div",{className:"noData"},"暂无筛选内容"))),i.id&&w().createElement("div",{className:"info"},w().createElement("span",{className:"detail",onClick:function(){return n.refs.FilterCondition.expandTopicChange(n.state.expandTopicData)}},"关闭编辑")),w().createElement("ul",{className:"all-filter-name-wrap"},m.filter(function(e){return t.includes(e.id)}).map(function(t){return w().createElement("li",{key:t.id,className:a===t.id?"sel":"",onClick:function(e){return n.changeFilter(t.id)}},w().createElement("i",{className:t.icon}),w().createElement("span",null,t.name),w().createElement("i",{className:"icon-cem_pull-down-or-take-up",style:{transform:a===t.id?"rotate(180deg) translateY(-1px)":""}}))}))),f&&"condition"===a&&w().createElement("div",{className:"msg_filter_tip"},w().createElement("i",{className:"icon-cem_warning"}),"筛选器使用的某些筛选条件被删除，已不可用，需要你更新筛选条件"),this.state.showList.includes("condition")&&w().createElement(E.Z,{style:{display:"condition"===a?"block":"none"},ref:"FilterCondition",value:r,filterValue:h,type:x||"PRICE_WARNING",filter:y&&y.filter?y.filter:["CONN_CONFIG"],filterConfig:y&&y.filterConfig?y.filterConfig:[],dimension:y&&y.dimension?y.dimension:void 0,messageRelationConfig:y&&y.messageRelationConfig?y.messageRelationConfig:void 0,hideAdvanced:!(!y||!y.hideAdvanced)&&y.hideAdvanced,onFilterChange:this.onConditionChange,onExpandTopicChange:this.onExpandTopicChange,onConfirm:this.handleChange,onCancel:function(e){return n.setState({selFilterId:null})},count:s,saveFilterListShow:this.props.saveFilterListShow}),t.includes("time")&&w().createElement("div",{className:"date"},w().createElement(k.Z,{ref:"timePicker",show:"time"===a,onChange:this.onTimeChange,onCancel:function(e){return n.setState({selFilterId:null})},params:v,defaultValue:T,useHourSelect:I})),this.renderDialog(),this.renderExpandTopicDialog()):w().createElement("div",null)},r()(e,[{key:"list",get:function(){var e="时间";return[{name:"筛选",id:"condition",icon:"icon-cem_screen"},{name:e=this.state&&this.state.time.from?this.state.time.quickChoice||this.state.time.from.replace(/-/g,"/")+"-"+this.state.time.to.replace(/-/g,"/"):e,id:"time",icon:"icon-cem_time-controller"}]}}]),e}(t.Component),b=function(e){if(!e)return[];var n=[];return Object.keys(e).forEach(function(t){"connConfig"===t||"tag"===t||"dimension"===t||"vocAspect"===t||"brandsSeries"===t?e[t]&&e[t].forEach(function(e){n.push(Object.assign(c()({},e,{special:t}),["connConfig","vocAspect","brandsSeries"].includes(t)?{filterType:"vocAspect"===t?"aspects":t}:{}))}):["messageCategory","messageType","source","escore","emotion","usefulData","aspectEscore","isBusiness","isMarketing","businessType","userFilter"].includes(t)?e[t]&&n.push(Object.assign({id:t,special:t,values:e[t],type:"userFilter"===t?"associateInput":""},["messageType","source","messageCategory"].includes(t)?{filterType:"messageRelation"}:{})):["content","originSource","topics","superTopics"].includes(t)?e[t]&&0<e[t].length&&n.push({id:"content"===t&&e[t][0].queryType?"MULTI_KEY_WORD":"content"===t?"KEY_WORD":t,special:t,values:"content"===t&&e[t][0].queryType?[].concat(e[t][0].contain,[e[t][0].queryType]):e[t][0].contain,type:"content"===t&&e[t][0].queryType?"multi_input":"input"}):"connections"===t&&e[t]&&n.push({id:t,special:t,values:e[t]})}),n};o.propTypes={title:a().oneOfType([a().string,a().node]),showList:a().array,defaultShow:a().string,filterCondition:a().shape({filter:a().array,filterConfig:a().array,dimension:a().string,messageRelationConfig:a().object,hideAdvanced:a().bool}),onChange:a().func,onFilterReady:a().func,model:a().string,values:a().object,timeDefaultValue:a().object,useHourSelect:a().bool}},58341:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var a=n(67154),o=n.n(a),t=n(85354),r=n.n(t),a=n(67294),s=n.n(a),t=n(45697),a=n.n(t),c=n(91751),t=n(59108),u=n.n(t),i=n(40303),t=n(82784),l=n.n(t),t=n(30381),p=n.n(t),t=n(83839);function d(e){var t=p()();return e.isAfter(t)}p().locale("zh-cn");var f=function(n){function e(e){var t=n.call(this,e)||this;return t.onSelect=function(e){"calendar"===t.props.type?t.props.getDateRange(t.format(e)):e[0]&&e[1]&&t.props.getDateRange([t.format(e[0]),t.format(e[1])])},t.format=function(e){return e?e.format(t.state.formatStr):""},t.timePickerElement=function(){return t.props.useHourSelect?s().createElement(i.Z,{defaultValue:[p()("00:00","HH:mm"),p()("23:59","HH:mm")],showSecond:!1}):void 0},t.state={formatStr:e.useHourSelect?"YYYY-MM-DD HH:mm":"YYYY-MM-DD"},t}r()(e,n);var t=e.prototype;return t.stop=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},t.componentDidMount=function(){},t.render=function(){var t=this,e=this.props,n=e.type,a=e.defaultSelectedValue,r=e.style,i={showDateInput:!1,locale:l(),showOk:!1,showToday:!1,format:this.state.formatStr,onSelect:this.onSelect,disabledDate:d,renderFooter:function(){return null}},e={defaultValue:a,dateInputPlaceholder:"请选择日期"};return s().createElement("div",{className:"fixed-datepicker-wrapper-common",onClick:function(e){return t.stop(e)},style:r},"calendar"===n?s().createElement(c.Z,o()({},i,e)):s().createElement(u(),o()({},i,{defaultSelectedValue:a,timePicker:this.timePickerElement()})))},e}(s().PureComponent);f.propTypes={type:a().string.isRequired,getDateRange:a().func.isRequired,hasHeader:a().bool}},73702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),a=n.n(t),t=n(87757),h=n.n(t),t=n(18446),f=n.n(t),t=(n(35239),n(64396)),n=t.Z.headerScreening,m=t.Z.screening;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var r={dateFilter:void 0};const i={namespace:n,state:Object.assign(r,{}),effects:{defaultValueChange:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[m]});case 4:if(l=e.sent,o=l.defaultConfig,s=l.screeningValues,c=l.curScreeningMap,u=a.value,l=a.from,void 0===u)return e.abrupt("return");e.next=11;break;case 11:return Object.keys(u).forEach(function(e){var n,t=s.deepcopy();o[e]=u[e],"defaultChecked"===e?(n=u.defaultChecked.find(function(e){return e.id===o.defaultChecksName[0]})||{},t.forEach(function(t){t.values.forEach(function(e){e.id===n.id&&(e.values=n.values,p=t.id,d=t.values)})}),o.ownerChecked=t):"defaultChecksName"===e&&c.forEach(function(e){e.data.some(function(e){return e.id===u.defaultChecksName[0]})&&(p=e.id,d=[{id:u.defaultChecksName[0],values:o.defaultChecked.find(function(e){return e.id===u.defaultChecksName[0]}).values}],o.ownerChecked=[{id:p,values:d}],f=o.ownerChecked)})}),e.next=14,r({type:m+"/save",payload:Object.assign({defaultConfig:JSON.parse(JSON.stringify(o))},f?{screeningValues:f}:{})});case 14:return e.next=16,r({type:m+"/screeningValuesChange",payload:{id:"model"===l?"":p,values:d}});case 16:return e.next=18,r({type:m+"/updateDefaultValue"});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}},e)}),freshFastFilter:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,c=n.select,e.next=4,c(function(e){return e[m]});case 4:return u=e.sent,r=u.screeningValues,i=u.defaultConfig,o=u.screeningList,s=JSON.parse(JSON.stringify(i)),c=r.map(function(e){return e.values}).flat(1),u=JSON.parse(JSON.stringify(s)),u=u.defaultChecks,l=s.defaultChecked.find(function(e){return e.id===s.defaultChecksName[0]}),p=l?u.find(function(e){return e.id===s.defaultChecksName[0]}).values:void 0,l&&c.some(function(e){return e.id===l.id})&&c.forEach(function(a){a.id===l.id&&(f()(l.values,a.values)||(l.values=a.values,d=s.defaultChecked.deepcopy()),a.values.some(function(e){return!p.map(function(e){return e.id}).includes(e)})&&a.values.filter(function(e){return!p.map(function(e){return e.id}).includes(e)}).forEach(function(t){var e=o.map(function(e){return e.data}).flat(1).find(function(e){return e.id===l.id}).options.find(function(e){return e.id===t}).label;if(p.length>=s.defaultNumberConfig)for(var n=p.length-1;0<n;n--)if(!a.values.includes(p[n].id)){p.splice(n,1);break}p.unshift({id:t,label:e})}))}),l&&d&&d.some(function(t){return t.id===s.defaultChecksName[0]&&(t.values=p.filter(function(e){return t.values.includes(e.id)}).map(function(e){return e.id}),!0)}),e.next=17,a({type:m+"/save",payload:{defaultConfig:Object.assign(i,{defaultChecked:d||i.defaultChecked,defaultChecks:u,ownerChecked:r})}});case 17:return e.next=19,a({type:m+"/updateDefaultValue"});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},e)}),dateValueChange:h().mark(function e(t,n){var a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"save",payload:{dateFilter:a.value}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),clearAllValues:h().mark(function e(t,n){var a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.select,e.next=4,a({type:m+"/clearAllValues"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return a()({},e,t)},clear:function(e){return Object.assign(r,{})}}}},18854:(e,t,n)=>{"use strict";n.d(t,{fR:()=>function(t,e){var n=[];{var a,r,i,o;t.waiter&&t.waiter.length&&(a=[],r=[],i=[],o=[],t.waiter.forEach(function(e){a.exist("id",e.sourceId)||a.push({name:e.sourceName,id:e.sourceId}),r.exist("id",e.shopId)||r.push({name:e.shopName,id:e.shopId}),i.exist("id",e.waiterId)||i.push({name:e.waiterName,id:e.waiterId}),o.exist("id",e.typeId)||o.push({name:e.typeName,id:e.typeId})}),n.push.apply(n,[{id:"source",serverKey:"source",type:"checkbox",name:"平台",list:a},{id:"shop",serverKey:"shopName",type:"checkbox",name:"店铺",list:r},{id:"type",serverKey:"typeList",type:"checkbox",name:"客服类型",list:o},{id:"waiter",serverKey:"waiter",type:"checkbox",name:"客服",list:i}]))}t.product&&t.product.length&&l[e].includes("product")&&n.push({id:"product",serverKey:"product",type:"radio",name:"分析商品",list:t.product.map(function(e){return{id:e,name:e}})});{var s;t.aspect&&l[e].includes("aspect")&&(s=[],Object.keys(JSON.parse(t.aspect)[0]).forEach(function(e){s.push({id:e,name:e,values:JSON.parse(t.aspect)[0][e].map(function(e){return{id:e,name:e}})})}),n.push({id:"aspect",serverKey:"aspect",type:"cascade",name:"关注点",list:s}))}return n.map(function(e){return c()({},e,{list:0<e.list.length?(0,u.QM)(e.list):e.list})})},bp:()=>function(e){var t={};return e.forEach(function(e){"aspect"===e.serverKey&&0<e.values.length?t[""+e.serverKey+(0<e.values[0].values.length?2:1)]=0<e.values[0].values.length?e.values[0].values.map(function(e){return e.id}):[e.values[0].id]:"product"===e.serverKey?t[e.serverKey]=[e.values]:t[e.serverKey]=e.values}),t},g1:()=>function(e,n,t){var r=["source","shop","waiter","type"];return t.forEach(function(t){var a=n.filter(function(e){return t.values.includes(e[t.id+"Id"])});r.includes(t.id)&&e.forEach(function(n){var e;t.id===n.id&&(n.hasScreening=!0),t.id!==n.id&&r.includes(n.id)&&!n.hasScreening&&(e=[],a.forEach(function(t){e.some(function(e){return e.id===t[n.id+"Id"]})||e.push({id:t[n.id+"Id"],name:t[n.id+"Name"]})}),n.list=e)})}),t.forEach(function(n){e.forEach(function(e){var t;r.includes(n.id)&&(t=e.list.map(function(e){return e.id}),n.id===e.id&&(n.values=n.values.filter(function(e){return t.includes(e)})))})}),{list:e,values:t.filter(function(e){return 0<e.values.length})}}});var t=n(67154),c=n.n(t),u=n(39432),l={commodityAnalyze:["product"],concernAnalyze:["aspect"],overview:[]};Array.prototype.exist=function(t,n){return this.some(function(e){return(t?e[t]:e)===n})}},30674:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),m=n.n(t),t=n(87757),v=n.n(t),y=n(18854),o=n(36144);function s(e){e=e.projectId;return o.h.post("/session/filter/find",{projectId:e})}function g(e){e=e.id;return o.h.post("/filter/find/save",{id:e})}function d(e){var t=e.name,n=e.copy,a=e.id,r=e.type,i=e.projectId,e=e.selected;return o.h.post("/filter/add",{name:t,copy:n,type:r,id:a,projectId:i,selected:e})}var f=n(35239),x=n(64396).Z.public.header;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var h={overview:"WAITER_SESSION_OVERVIEW",commodityAnalyze:"WAITER_SESSION_ASPECT",concernAnalyze:"WAITER_SESSION_PRODUCT"};const a={namespace:x,state:{screeningMap:void 0,screeningList:[],screeningValues:[],dateFilter:{dateGroupType:"DAY",from:"2019-09-25",numOfDays:30,quickChoice:"近30天",remoteName:"cTime",to:"2019-10-24"},selSaveInfo:{id:"default",name:"全部",screeningValues:[]},detailInfo:[]},effects:{fetchScreeningMap:v().mark(function e(t,n){var a,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,r=n.put,n.select,e.next=4,i(s,{projectId:f.t.get(f.V.curProject).id});case 4:return o=e.sent,(i=o.data.result).waiter&&i.waiter.forEach(function(e){e.waiterId=e.waiterName,e.shopId=e.shopName}),o=(0,y.fR)(i,a.type),e.next=10,r({type:"save",payload:{screeningMap:i,screeningList:o}});case 10:return e.abrupt("return");case 11:case"end":return e.stop()}},e)}),saveBoxChange:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,s=a.value,c=a.type,u=a.key,e.next=5,o(function(e){return m()({},e)[x]});case 5:if(f=e.sent,l=f.screeningMap,p=f.screeningValues,f=f.selSaveInfo,"name"===u)return e.next=12,i({type:"save",payload:{selSaveInfo:m()({},JSON.parse(JSON.stringify(f)),{name:s})}});e.next=13;break;case 12:return e.abrupt("return",e.sent);case 13:if("default"===s.id)return d=p.filter(function(e){return["product","aspect"].includes(e.id)}),h=(0,y.fR)(l,a.type),e.next=18,i({type:"save",payload:{screeningValues:d,selSaveInfo:{id:"default",name:"全部",screeningValues:d},screeningList:h}});e.next=19;break;case 18:return e.abrupt("return",e.sent);case 19:return e.next=21,r(g,{id:s.id});case 21:if(f=e.sent,d=f.data.result)return h=(0,y.g1)((0,y.fR)(l,c).deepcopy(),l.waiter,JSON.parse(d.selected)),f=h.list,h=h.values,e.next=27,i({type:"save",payload:{screeningValues:h.deepcopy(),selSaveInfo:{id:s.id,name:d.name,screeningValues:h.deepcopy()},screeningList:f}});e.next=28;break;case 27:return e.abrupt("return",e.sent);case 28:case"end":return e.stop()}},e)}),saveScreening:v().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,a=n.call,r=n.put,i=n.select,o=c.type,s=c.name,c=c.model,e.next=5,i(function(e){return m()({},e)[x]});case 5:return l=e.sent,u=l.selSaveInfo,l=l.screeningValues,e.next=10,a(d,{name:"update"===o?u.name:s,copy:"saveOther"===o,type:h[c],id:"save"===o?null:u.id,projectId:f.t.get(f.V.curProject).id,selected:JSON.stringify(l)});case 10:return p=e.sent,p=p.data.result,e.next=14,r({type:"save",payload:{selSaveInfo:{id:p.id,name:"update"===o?u.name:s,screeningValues:l}}});case 14:return e.abrupt("return",p);case 15:case"end":return e.stop()}},e)}),screeningValuesChange:v().mark(function e(t,n){var a,r,i,o,s;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,o=n.select,e.next=4,o(function(e){return m()({},e)[x]});case 4:return s=e.sent,o=s.screeningMap,s=s.screeningValues,i=s.deepcopy(),a.values.forEach(function(t){var n=JSON.parse(JSON.stringify(t.listDetail));i.some(function(e){return e.id===n.id})?(i.forEach(function(e){e.id===n.id&&(e.values=t.values,delete e.list)}),0===t.values.length&&i.splice(i.findIndex(function(e){return e.id===n.id}),1)):(delete n.list,i.push(m()({},n,{values:t.values})))}),s=(0,y.g1)((0,y.fR)(o,a.type).deepcopy(),o.waiter,i.deepcopy()),o=s.list,s=s.values,e.next=12,r({type:"save",payload:{screeningValues:s,screeningList:o}});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e)}),dateValueChange:v().mark(function e(t,n){var a,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"save",payload:{dateFilter:a.value}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),clearAllValues:v().mark(function e(t,n){var a,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return m()({},e)[x]});case 4:return o=e.sent,i=o.screeningMap,o=o.screeningValues,o=o.filter(function(e){return"aspect"===e.id||"product"===e.id}),e.next=10,r({type:"save",payload:{screeningValues:o,screeningList:(0,y.fR)(i,a.type)}});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)}),saveValue:v().mark(function e(t,n){var a,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"save",payload:{screeningValues:a.value,selSaveInfo:{id:"default",name:"全部",screeningValues:[]}}});case 4:return e.next=6,r({type:"screeningValuesChange",payload:{values:[],type:a.type}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}),saveDetailInfoValue:v().mark(function e(t,n){var a,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return m()({},e)[x]});case 4:return i=e.sent,o=i.screeningList,a.value.forEach(function(e){var n,a;"source"===e.id&&(n=o.filter(function(e){return"source"===e.id})[0].list,e.values=e.values.map(function(t){return n.find(function(e){return e.id===t}).name})),"type"===e.id&&(a=o.filter(function(e){return"type"===e.id})[0].list,e.values=e.values.map(function(t){return a.find(function(e){return e.id===t}).name}))}),e.next=9,r({type:"save",payload:{detailInfo:a.value}});case 9:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return m()({},e,t)}}}},41183:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var t=n(67154),y=n.n(t),t=n(87757),g=n.n(t),t=n(48926),a=n.n(t),i=n(36144);function u(e){return r.apply(this,arguments)}function r(){return(r=a()(g().mark(function e(t){var n,a,r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.key,e.abrupt("return",i.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var x=n(18784),b=n(11724),t=n(30381),T=n.n(t),l=n(35239),I=n(64396),w=I.Z.IDBHeaderScreening.timeScreening,o={type:"",hasHour:!1,dateFilter:void 0,projectId:void 0,selectedDateRange:[],selectedQuickTimeChoice:8,staredQuickTimeChoice:-1,quickTime:""};const s={namespace:w,state:Object.assign({},o),reducers:{save:function(e,t){t=t.payload;return y()({},e,t)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(o))}},effects:{init:g().mark(function e(t,n){var a,r,i,o,s,c;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,n.call,a=n.put,n.select,r=n.take,i=c.type,o=c.params,s=c.hasHour,e.next=5,a({type:"save",payload:{type:i,projectId:l.t.get(l.V.curProject).id}});case 5:return c="default-time-"+i,e.next=8,a({type:"getDefaultValue",payload:{key:c,params:o,formatStr:"YYYY-MM-DD HH:mm:ss",defaultValue:l.t.getWidthProject(l.V.messageDateFilter)&&l.t.getWidthProject(l.V.messageDateFilter)[i]||void 0,projectId:l.t.get(l.V.curProject).id,hasHour:s}});case 8:return e.next=10,r("getDefaultValue/@@end");case 10:return e.abrupt("return");case 11:case"end":return e.stop()}},e)}),getDefaultValue:g().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f,h,m,v;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return y()({},e)[w]});case 4:return p=e.sent,p.projectId,p.selectedQuickTimeChoice,s=a.params,c=a.formatStr,u=a.defaultValue,l=a.key,p=a.hasHour,e.next=10,o(function(e){return e[I.Z.global]});case 10:return f=e.sent,h=f.publicResource,e.next=14,r(b.qk,{type:l,publicResource:h});case 14:if(f=e.sent,!(h=f?JSON.parse(f):"")||-1===h.staredQuickTimeChoice){e.next=26;break}if(f=h.currSelector,m=h.selectedQuickTimeChoice,v=h.staredQuickTimeChoice,h=s&&-1===s.quickChoice.indexOf("-")?(0,x.A$)(p).indexOf(s.quickChoice):-1<v?v:m,m=s?-1===s.quickChoice.indexOf("-")?(0,x.B9)(h,c,p):[s.from,s.to]:-1<v?(0,x.B9)(v,c,p):(0,x.B9)(m,c,p),0===f)return d={from:m[0],to:m[1],quickChoice:s&&-1<s.quickChoice.indexOf("-")?s.quickChoice:(0,x.A$)(p)[h],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,x.vv)(m),currSelector:s&&x.Sz.test(s.from.trim())&&x.Sz.test(s.to.trim())?1:0},e.next=24,i({type:"save",payload:{hasHour:p,selectedQuickTimeChoice:h,staredQuickTimeChoice:v,selectedDateRange:m,dateFilter:d,quickTime:s&&-1<s.quickChoice.indexOf("-")?"":(0,x.A$)(p)[v]}});e.next=24;break;case 24:e.next=31;break;case 26:return m=s?-1===s.quickChoice.indexOf("-")?(0,x.A$)(p).indexOf(s.quickChoice):-1:u&&(-1===u.quickChoice.indexOf("-")?(0,x.A$)(p).indexOf(u.quickChoice):-1),v=s?0<m?(0,x.B9)(m,c,p):[s.from,s.to]:u?0<m?(0,x.B9)(m,c,p):[u.from,u.to]:[T()().subtract(30,"days").format(c),T()().format(c)],d={from:v[0],to:v[1],quickChoice:s?s.quickChoice:u?u.quickChoice:(0,x.A$)(p)[p?11:8],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,x.vv)(v),currSelector:0<m||!m||s&&!x.Sz.test(s.from.trim())||s&&!x.Sz.test(s.to.trim())?0:1},e.next=31,i({type:"save",payload:{hasHour:p,selectedQuickTimeChoice:m,staredQuickTimeChoice:-1,selectedDateRange:v,dateFilter:d,quickTime:""}});case 31:return e.abrupt("return",{dateFilter:d});case 32:case"end":return e.stop()}},e)}),setDefaultValue:g().mark(function e(t,n){var a,r,i,o,s,c;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,s=n.select,e.next=4,s(function(e){return y()({},e)[w]});case 4:return c=e.sent,o=c.projectId,e.prev=6,s=a.key,c=a.value,e.next=10,r(u,{projectId:a.projectId||o,key:s,value:c});case 10:return e.next=12,i({type:I.Z.global+"/fetchPublicData",payload:{types:["DEFAULT_VALUE"]}});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:case"end":return e.stop()}},e,null,[[6,14]])})}}},18784:(e,t,n)=>{"use strict";n.d(t,{Sz:()=>a,vv:()=>i,ld:()=>o,A$:()=>s,B9:()=>c,Ey:()=>u,p6:()=>l});var t=n(30381),r=n.n(t),a=/([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,i=function(e,t){if(Array.isArray(e)){var n=e[0],e=e[1];return r()(e,t).diff(r()(n,t),"days")+1}return 0},o=["今天","昨天","本周","上周","本月","上月","本季","上季","今年","去年"],s=function(e){return e?["今天","近6小时","昨天","近12小时","本周","近24小时","上周","近3天","本月","近7天","上月","近30天","本季","近90天","上季","近180天","今年","近365天","去年"]:["今天","昨天","本周","上周","近3天","本月","近7天","上月","近30天","本季","近90天","上季","近180天","今年","近365天","去年"]},c=function(e,t,n){var a=[];if(n)switch(e){case 0:a=[r()().startOf("day"),r()()];break;case 2:a=[r()().subtract(1,"days").startOf("day"),r()().subtract(1,"days").endOf("day")];break;case 4:a=[r()().startOf("week"),r()()];break;case 6:a=[r()().subtract(1,"weeks").startOf("week"),r()().subtract(1,"weeks").endOf("week")];break;case 8:a=[r()().startOf("month"),r()()];break;case 10:a=[r()().subtract(1,"months").startOf("month"),r()().subtract(1,"months").endOf("month")];break;case 12:a=[r()().startOf("quarter"),r()()];break;case 14:a=[r()().subtract(1,"quarters").startOf("quarter"),r()().subtract(1,"quarters").endOf("quarter")];break;case 16:a=[r()().startOf("year"),r()()];break;case 18:a=[r()().subtract(1,"years").startOf("year"),r()().subtract(1,"years").endOf("year")];break;case 1:a=[r()().subtract(6,"hour"),r()()];break;case 3:a=[r()().subtract(12,"hour"),r()()];break;case 5:a=[r()().subtract(24,"hour"),r()()];break;case 7:a=[r()().subtract(3,"days"),r()()];break;case 9:a=[r()().subtract(7,"days"),r()()];break;case 11:a=[r()().subtract(30,"days"),r()()];break;case 13:a=[r()().subtract(90,"days"),r()()];break;case 15:a=[r()().subtract(180,"days"),r()()];break;case 17:a=[r()().subtract(365,"days"),r()()]}else switch(e){case 0:a=[r()().startOf("day"),r()()];break;case 1:a=[r()().subtract(1,"days").startOf("day"),r()().subtract(1,"days").endOf("day")];break;case 2:a=[r()().startOf("week"),r()()];break;case 3:a=[r()().subtract(1,"weeks").startOf("week"),r()().subtract(1,"weeks").endOf("week")];break;case 5:a=[r()().startOf("month"),r()()];break;case 7:a=[r()().subtract(1,"months").startOf("month"),r()().subtract(1,"months").endOf("month")];break;case 9:a=[r()().startOf("quarter"),r()()];break;case 11:a=[r()().subtract(1,"quarters").startOf("quarter"),r()().subtract(1,"quarters").endOf("quarter")];break;case 13:a=[r()().startOf("year"),r()()];break;case 15:a=[r()().subtract(1,"years").startOf("year"),r()().subtract(1,"years").endOf("year")];break;case 4:a=[r()().subtract(3,"days"),r()()];break;case 6:a=[r()().subtract(7,"days"),r()()];break;case 8:a=[r()().subtract(30,"days"),r()()];break;case 10:a=[r()().subtract(90,"days"),r()()];break;case 12:a=[r()().subtract(180,"days"),r()()];break;case 14:a=[r()().subtract(365,"days"),r()()]}return a.map(function(e){return e.format(t)})},u=function(e){var t=[];switch(e){case"近6小时":t=[r()().subtract(6,"hour"),r()()];break;case"近12小时":t=[r()().subtract(12,"hour"),r()()];break;case"近24小时":t=[r()().subtract(24,"hour"),r()()]}return t.map(function(e){return e.format("YYYY-MM-DD HH:mm:ss")})},l=function(e,t,n){for(var a="",r=0;r<t.length;r++){var i,o=void 0,s=void 0;n?(o=(i=t[r].split(" "))[0],s=i[1]):o=t[r];for(var c=o.split("-"),u=0;u<c.length;u++)0===u&&(a+=c[u]+(1===e?"年":".")),1===u&&(a+=c[u]+(1===e?"月":".")),2===u&&(a+=c[u]+(1===e?"日":""));s&&(a+=1===e?s.split(":")[0]+"时"+s.split(":")[1]+"分":" "+s),0===r&&(a+=" - ")}return a}},93310:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),f=n.n(t),t=n(87757),h=n.n(t),m=n(40845),t=n(30381),v=n.n(t),t=n(64396),c=n(35239),y=n(87219),g=n(70339),x=t.Z.IDBHeaderScreening.quickTimeScreening,a={projectId:void 0,dateFilter:void 0,date:"7",dateValue:void 0,type:""};const r={namespace:x,state:JSON.parse(JSON.stringify(a)),reducers:{save:function(e,t){t=t.payload;return f()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{init:h().mark(function e(t,n){var a,r,i,o,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,n.call,a=n.put,n.select,r=n.take,i=s.type,o=s.params,e.next=5,a({type:"save",payload:{type:i,projectId:c.t.get(c.V.curProject).id}});case 5:return s="default-time-"+i,e.next=8,a({type:"getDefaultValue",payload:{key:s,params:o,formatStr:"YYYY-MM-DD",projectId:c.t.get(c.V.curProject).id}});case 8:return e.next=10,r("getDefaultValue/@@end");case 10:return e.abrupt("return");case 11:case"end":return e.stop()}},e)}),getDefaultValue:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[x]});case 4:return u=e.sent,o=u.projectId,e.prev=6,p=a.key,u=a.params,l=a.formatStr,e.next=10,r(m.o,{projectId:a.projectId||o,key:p});case 10:p=e.sent,2e4===(p=p.data).code&&(d=JSON.parse(p.result),d=d?(c=(u&&u.date?u:d).date,s=u&&u.date?"week"===u.date||"month"===u.date?u:(0,y.ZP)(u,function(t){t.from=""+(0,g.vc)(t.date,l)[0],t.quickChoice=g.YM.find(function(e){return e.value===t.date}).label,t.to=""+(0,g.vc)(t.date,l)[1]}):!d.date||"week"===d.date||"month"===d.date?d:(0,y.ZP)(d,function(t){t.from=""+(0,g.vc)(t.date,l)[0],t.quickChoice=g.YM.find(function(e){return e.value===t.date}).label,t.to=""+(0,g.vc)(t.date,l)[1]}),u&&u.date&&("week"===u.date||"month"===u.date)?v()(u.from):"week"===d.date||"month"===d.date?v()(d.from):void 0):(c=u&&u.date?u.date:"7",s=u&&u.date?u:{dateGroupType:"DAY",from:""+(0,g.vc)(c,l)[0],numOfDays:7,quickChoice:"近"+c+"天",remoteName:"cTime",to:""+(0,g.vc)(c,l)[1],date:"7"},u&&u.date&&("week"===u.date||"month"===u.date)?v()(u.from):void 0)),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(6);case 17:return e.prev=17,e.next=20,i({type:"save",payload:{date:c,dateFilter:s,dateValue:d}});case 20:return e.finish(17);case 21:case"end":return e.stop()}},e,null,[[6,15,17,21]])}),setDefaultValue:h().mark(function e(t,n){var a,r,i,o,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.put,o=n.select,e.next=4,o(function(e){return f()({},e)[x]});case 4:return s=e.sent,i=s.projectId,e.prev=6,o=a.key,s=a.value,e.next=10,r(m.s,{projectId:a.projectId||i,key:o,value:s});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:case"end":return e.stop()}},e,null,[[6,12]])})}}},70339:(e,t,n)=>{"use strict";n.d(t,{YM:()=>r,vv:()=>i,vc:()=>o});var t=n(30381),a=n.n(t),r=[{label:"昨天",value:"1"},{label:"近7天",value:"7"},{label:"近30天",value:"30"},{label:"周",value:"week"},{label:"月",value:"month"}],i=function(e,t){if(Array.isArray(e)){var n=e[0],e=e[1];return a()(e,t).diff(a()(n,t),"days")+1}return 0},o=function(e,t){var n=[];switch(e){case"1":case 1:n=[a()().subtract(1,"days").startOf("day"),a()().subtract(1,"days").endOf("day")];break;case"7":case 7:n=[a()().subtract(1,"days").subtract(6,"days"),a()().subtract(1,"days")];break;case"30":case 30:n=[a()().subtract(1,"days").subtract(29,"days"),a()().subtract(1,"days")]}return n.map(function(e){return e.format(t)})}},91780:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var t=n(67154),p=n.n(t),t=n(87757),f=n.n(t),t=n(48926),a=n.n(t),c=n(36144);function d(e){return r.apply(this,arguments)}function r(){return(r=a()(f().mark(function e(t){var n,a,r,i,o,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.copy,r=t.id,i=t.type,o=t.projectId,s=t.selected,e.abrupt("return",c.h.post("/filter/add",{name:n,copy:a,id:r,type:i,projectId:o,selected:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function i(e){return o.apply(this,arguments)}function o(){return(o=a()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",c.h.post("/filter/delete",{id:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=n(35239),m=n(64396),v=n(11724),y=n(84910),g=m.Z.IDBHeaderScreening.savedScreening,s={type:"",filterList:void 0,selFilterObj:{id:null,name:""},selFilterSelected:[],projectId:void 0};const u={namespace:g,state:Object.assign({},s),reducers:{save:function(e,t){t=t.payload;return p()({},e,t)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(s))}},effects:{init:f().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,s=n.take,c=a.type,u=a.filterId,e.next=5,i({type:"save",payload:{type:c,projectId:h.t.get(h.V.curProject).id}});case 5:return l={id:null,name:""},p=[],e.next=8,s(m.Z.global+"/fetchPublicData/@@end");case 8:return e.next=10,o(function(e){return e[m.Z.global]});case 10:return d=e.sent,d=d.publicResource,e.next=14,r(v.p3,{type:(0,y.kY)(c),publicResource:d});case 14:return d=(d=e.sent).map(function(e){return{id:e.id,name:e.label,selected:e.selected,updateAt:e.updateAt}}),u&&d.find(function(e){return e.id===u})&&(l=d.find(function(e){return e.id===u}),p=d.find(function(e){return e.id===u}).selected?JSON.parse(d.find(function(e){return e.id===u}).selected):[]),e.next=19,i({type:"save",payload:{filterList:d,selFilterObj:l,selFilterSelected:p}});case 19:return e.abrupt("return",{selFilterObj:l,selFilterSelected:p});case 20:case"end":return e.stop()}},e)}),getSavedList:f().mark(function e(t,n){var a,r,i,o,s,c,u;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,s=n.take,e.next=4,o(function(e){return p()({},e)[g]});case 4:return c=e.sent,c.projectId,e.prev=6,e.next=9,i({type:m.Z.global+"/fetchPublicData",payload:{types:["USER_FILTER"]}});case 9:return e.next=11,s(m.Z.global+"/fetchPublicData/@@end");case 11:return e.next=13,o(function(e){return e[m.Z.global]});case 13:return u=e.sent,u=u.publicResource,e.next=17,r(v.p3,{type:a.type,publicResource:u});case 17:return u=(u=e.sent).map(function(e){return{id:e.id,name:e.label,selected:e.selected,updateAt:e.updateAt}}),e.next=21,i({type:"save",payload:p()({},a,{filterList:u})});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(6);case 25:case"end":return e.stop()}},e,null,[[6,23]])}),onSelFilterObjChange:f().mark(function e(t,n){var a,r,i,o,s,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return p()({},e)[g]});case 4:return i=e.sent,s=i.filterList,o=i.starFilterObj,a&&a.id&&(c=s.findIndex(function(e){return e.id===a.id})),s=c?s[c]:o?s.find(function(e){return e.id===o.id}):s[0],e.next=11,r({type:"save",payload:{selFilterObj:s}});case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e)}),saveConfition:f().mark(function e(t,n){var a,r,i,o,s,c,u,l;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,n.put,u=n.select,e.next=4,u(function(e){return p()({},e)[g]});case 4:return l=e.sent,i=l.projectId,o=l.type,s=a.id,c=a.name,u=a.copy,l=a.selected,e.next=10,r(d,{id:s,name:c,copy:u,selected:l,type:a.type||o,projectId:a.projectId||i});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)}),deleteConfition:f().mark(function e(t,n){var a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.select,n.put,e.next=4,a(i,{id:r.id});case 4:return r=e.sent,r=r.data,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}),clearSaveFilter:f().mark(function e(t,n){var a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.select,a=n.put,e.next=4,a({type:"save",payload:{selFilterObj:{id:null,name:"",selected:[]},selFilterSelected:[]}});case 4:case"end":return e.stop()}},e)})}}},11724:(e,t,n)=>{"use strict";n.d(t,{oG:()=>ee,qk:()=>Q,z1:()=>G,p3:()=>X,QX:()=>K,kL:()=>$});var t=n(67154),s=n.n(t),t=n(48926),a=n.n(t),t=n(87757),c=n.n(t),u=n(90549),r=(n(97577),n(92795));Array.prototype.deepCopy=function(){return JSON.parse(JSON.stringify(this))};var i=[{id:"1",label:"京东"},{id:"3",label:"天猫"},{id:"4",label:"淘宝"},{id:"5",label:"苏宁"},{id:"6",label:"亚马逊"},{id:"7",label:"科沃斯商城"},{id:"8",label:"米家有品"},{id:"9",label:"国美"},{id:"10",label:"小米商城"},{id:"11",label:"知乎"},{id:"12",label:"新浪微博"},{id:"13",label:"唯品会"},{id:"14",label:"百度贴吧"},{id:"16",label:"VIVO官网"},{id:"19",label:"酒仙"},{id:"20",label:"海信"},{id:"21",label:"1号店"},{id:"22",label:"创维"},{id:"23",label:"欢太商城"},{id:"25",label:"自定义"},{id:"24",label:"coloros社区"},{id:"26",label:"花粉俱乐部"},{id:"27",label:"小米社区"},{id:"28",label:"vivo社区"},{id:"29",label:"公众号"},{id:"30",label:"新闻"},{id:"31",label:"抖音"},{id:"32",label:"百度指数"},{id:"33",label:"微博指数"},{id:"36",label:"360指数"},{id:"34",label:"聚投诉"},{id:"35",label:"黑猫投诉"},{id:"37",label:"百度知道"},{id:"38",label:"小红书"},{id:"39",label:"什么值得买"},{id:"40",label:"bilibili"},{id:"41",label:"今日头条"},{id:"42",label:"拼多多"},{id:"43",label:"云听"},{id:"44",label:"OPPO社区"},{id:"45",label:"七陌在线"},{id:"48",label:"抖音小店"}],o=[{id:"COMMENT",label:"电商评论"},{id:"QUE_ANS",label:"问答"},{id:"NEWS",label:"新闻媒体"},{id:"QUESTION",label:"电商问答"},{id:"SERVICE",label:"客服会话"},{id:"BBS",label:"论坛"},{id:"SOCIAL",label:"社交媒体"},{id:"SELF",label:"自媒体"},{id:"COMPLAINT",label:"投诉平台"},{id:"QUESTIONAIRE",label:"调查问卷"},{id:"VIDEO",label:"视频"}],l=[{id:"WEIBO",label:"博文"},{id:"COMMON_COMMENT",label:"评论"},{id:"COMMON_TALK",label:"回复"},{id:"WEIBO_REPORT",label:"转发博文"},{id:"COMMON_POST",label:"帖子"},{id:"COMMON_POST_COMMENT",label:"回帖"},{id:"QUE_ANS_QUESTION",label:"问题"},{id:"QUE_ANS_ANSWER",label:"回答"},{id:"QUESTION_TALK",label:"问题评论"},{id:"ANSWER_TALK",label:"回答评论"},{id:"NEWS_TALK",label:"评论回复"},{id:"NEWS_TEXT",label:"正文"},{id:"MESSAGE_COMMENT",label:"电商评论"},{id:"COMMENT_APPEND",label:"电商追评"},{id:"COMMENT_QUESTION",label:"电商问题"},{id:"COMMENT_ANSWER",label:"电商回答"},{id:"COMMENT_SERVICE",label:"客服回复"},{id:"NO_COMMENT_SERVICE",label:"无客服回复"},{id:"SERVICE_SESSION",label:"客服会话"},{id:"QUESTIONAIRE_TEXT",label:"问卷"},{id:"COMPLAINT",label:"投诉详情"},{id:"VIDEO",label:"视频"},{id:"DANMAKU",label:"弹幕"}],p=[{id:"negative",label:"负面情感"},{id:"neutral",label:"中性情感"},{id:"positive",label:"正面情感"}],d=[{id:"useful",label:"有效数据"},{id:"unUseful",label:"无效数据"}],f=[{id:"COMMENT",name:"电商评论",relation:[{id:"1",name:"京东",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"3",name:"天猫",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"4",name:"淘宝",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"5",name:"苏宁",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"6",name:"亚马逊",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"7",name:"科沃斯商城",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"8",name:"米家有品",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"9",name:"国美",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"10",name:"小米商城",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"13",name:"唯品会",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"16",name:"VIVO官网",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"19",name:"酒仙",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"20",name:"海信",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"21",name:"1号店",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"22",name:"创维",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"23",name:"欢太商城",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"42",name:"拼多多",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"},{id:"COMMENT_SERVICE",name:"客服回复"},{id:"NO_COMMENT_SERVICE",name:"无客服回复"}]},{id:"48",name:"抖音小店",relation:[{id:"MESSAGE_COMMENT",name:"电商评论"},{id:"COMMENT_APPEND",name:"电商追评"}]}]},{id:"QUE_ANS",name:"问答",relation:[{id:"11",name:"知乎",relation:[{id:"QUE_ANS_QUESTION",name:"问题"},{id:"QUE_ANS_ANSWER",name:"回答"},{id:"QUESTION_TALK",name:"问题评论"},{id:"ANSWER_TALK",name:"回答评论"}]},{id:"37",name:"百度知道",relation:[{id:"QUE_ANS_QUESTION",name:"问题"},{id:"QUE_ANS_ANSWER",name:"回答"},{id:"QUESTION_TALK",name:"问题评论"},{id:"ANSWER_TALK",name:"回答评论"}]}]},{id:"QUESTION",name:"电商问答",relation:[{id:"1",name:"京东",relation:[{id:"COMMENT_QUESTION",name:"电商问题"},{id:"COMMENT_ANSWER",name:"电商回答"}]},{id:"5",name:"苏宁",relation:[{id:"COMMENT_QUESTION",name:"电商问题"},{id:"COMMENT_ANSWER",name:"电商回答"}]}]},{id:"SERVICE",name:"客服会话",relation:[{id:"1",name:"京东"},{id:"3",name:"天猫"}]},{id:"BBS",name:"电商问答",relation:[{id:"14",name:"百度贴吧",relation:[{id:"COMMON_TALK",name:"回复"},{id:"COMMON_POST",name:"帖子"},{id:"COMMON_POST_COMMENT",name:"回帖"}]},{id:"24",name:"coloros社区",relation:[{id:"COMMON_TALK",name:"回复"},{id:"COMMON_POST",name:"帖子"},{id:"COMMON_POST_COMMENT",name:"回帖"}]},{id:"26",name:"花粉俱乐部",relation:[{id:"COMMON_TALK",name:"回复"},{id:"COMMON_POST",name:"帖子"},{id:"COMMON_POST_COMMENT",name:"回帖"}]},{id:"27",name:"小米社区",relation:[{id:"COMMON_TALK",name:"回复"},{id:"COMMON_POST",name:"帖子"},{id:"COMMON_POST_COMMENT",name:"回帖"}]},{id:"28",name:"vivo社区",relation:[{id:"COMMON_TALK",name:"回复"},{id:"COMMON_POST",name:"帖子"},{id:"COMMON_POST_COMMENT",name:"回帖"}]},{id:"44",name:"OPPO社区",relation:[{id:"COMMON_TALK",name:"回复"},{id:"COMMON_POST",name:"帖子"},{id:"COMMON_POST_COMMENT",name:"回帖"}]}]},{id:"SOCIAL",name:"社交媒体",relation:[{id:"12",name:"新浪微博",relation:[{id:"WEIBO",name:"问题"},{id:"COMMON_COMMENT",name:"评论"},{id:"COMMON_TALK",name:"回复"},{id:"WEIBO_REPORT",name:"转发博文"}]}]},{id:"SELF",name:"自媒体",relation:[{id:"29",name:"微信公众号",relation:[{id:"NEWS_TEXT",name:"正文"}]},{id:"39",name:"什么值得买",relation:[{id:"NEWS_TEXT",name:"正文"},{id:"COMMON_COMMENT",name:"评论"}]},{id:"38",name:"小红书",relation:[{id:"NEWS_TEXT",name:"正文"},{id:"COMMON_COMMENT",name:"评论"},{id:"COMMON_TALK",name:"回复"}]}]},{id:"NEWS",name:"新闻媒体",relation:[{id:"30",name:"新闻",relation:[{id:"NEWS_TEXT",name:"正文"},{id:"COMMON_COMMENT",name:"评论"}]},{id:"41",name:"今日头条",relation:[{id:"NEWS_TEXT",name:"正文"},{id:"COMMON_COMMENT",name:"评论"}]}]},{id:"COMPLAINT",name:"投诉平台",relation:[{id:"35",name:"黑猫投诉",relation:[{id:"COMPLAINT",name:"投诉平台"},{id:"COMMON_COMMENT",name:"评论"},{id:"COMMON_TALK",name:"回复"}]},{id:"34",name:"聚投诉",relation:[{id:"COMPLAINT",name:"投诉平台"},{id:"COMMON_COMMENT",name:"评论"},{id:"COMMON_TALK",name:"回复"}]}]},{id:"VIDEO",name:"视频",relation:[{id:"40",name:"bilibili",relation:[{id:"VIDEO",name:"视频"},{id:"COMMON_COMMENT",name:"评论"},{id:"COMMON_TALK",name:"回复"},{id:"DANMAKU",name:"弹幕"}]},{id:"31",name:"抖音",relation:[{id:"VIDEO",name:"视频"},{id:"COMMON_COMMENT",name:"评论"},{id:"COMMON_TALK",name:"回复"},{id:"NEWS_TEXT",name:"正文"}]}]},{id:"QUESTIONAIRE",name:"调查问卷",relation:[{id:"43",name:"云听",relation:[{id:"QUESTIONAIRE_TEXT",name:"问卷"}]}]}],h={MESSAGE_COMMENT:"COMMENT",MESSAGE_SOCIAL:"SOCIAL"};const m=function(e,t){var n,a={id:"DEFAULT",label:"系统默认",data:[{id:"CATEGORY_TYPE",options:o.deepCopy(),label:"数据类型"},{id:"SOURCE",options:i.deepCopy(),label:"平台"},{id:"MESSAGE_TYPE",options:l.deepCopy(),label:"消息类型"},{id:"EMOTION_TYPE",options:p,label:"消息情感",unRelation:!0},{id:"EFFECTIVENESS_TYPE",options:d,label:"数据有效性",unRelation:!0}],relation:function(e){log(e);var a=[];return f.forEach(function(n){n.relation&&n.relation.forEach(function(t){t.relation?t.relation.forEach(function(e){a.push([{id:n.id,name:n.name},{id:t.id,name:t.name},{id:e.id,name:e.name}])}):a.push([{id:n.id,name:n.name},{id:t.id,name:t.name}])})}),a}(t)};return e.ACCOUNT_SOURCE&&e.ACCOUNT_SOURCE.data.length&&(n={id:"SOURCE",values:[]},e.ACCOUNT_SOURCE.data.forEach(function(e){return n.values.push(e.id)}),e=(0,r.y)(a.data,[n],a.relation,(0,r.I)(a.relation)).list,a.data.find(function(e){return"SOURCE"===e.id}).options=a.data.find(function(e){return"SOURCE"===e.id}).options.filter(function(e){return n.values.includes(e.id)}),a.data.find(function(e){return"MESSAGE_TYPE"===e.id}).options=e.find(function(e){return"MESSAGE_TYPE"===e.id}).options,a.data.find(function(e){return"CATEGORY_TYPE"===e.id}).options=e.find(function(e){return"CATEGORY_TYPE"===e.id}).options),t&&t.type&&h[t.type]&&(t=(0,r.y)(a.data,[{id:"CATEGORY_TYPE",values:[h[t.type]]}],a.relation,(0,r.I)(a.relation)).list,a.data.find(function(e){return"SOURCE"===e.id}).options=t.find(function(e){return"SOURCE"===e.id}).options,a.data.find(function(e){return"MESSAGE_TYPE"===e.id}).options=t.find(function(e){return"MESSAGE_TYPE"===e.id}).options,a.data.shift()),a};var v=[{id:"picture",label:"带图消息"},{id:"video",label:"带视频消息"},{id:"text",label:"仅文本消息"}],y=[{id:"5",label:"五星"},{id:"4",label:"四星"},{id:"3",label:"三星"},{id:"2",label:"二星"},{id:"1",label:"一星"},{id:"0",label:"无星"}];const g=function(){return{id:"COMMENT_RELATED",label:"电商评论类",data:[{id:"COMMENT_ATTACHMENT_TYPE",options:v,label:"附件类型"},{id:"COMMENT_SCORE",options:y,label:"评论星级"},{id:"COMMENT_LENGTH",options:[],label:"评论长度"}]}};const x=function(e){var t=e.TAG_TYPE.data||[],n=e.TAG_DETAIL.data||[],e=t.map(function(t){return{id:t.id,options:n.filter(function(e){return e.parent===t.id}).map(function(e){return{id:e.id,label:e.label}}),label:t.label}});return t.length||console.error("找不到 TAG_TYPE 资源"),n.length||console.error("找不到 TAG_DETAIL 资源"),e.length?{id:"TAG_RULE",label:"规则标签",data:e}:null};var b=["一","二","三","四","五","六","七","八","九","十"];const T=function(e){var n,t,a,r=Object.prototype.hasOwnProperty.call(e,"ASPECT_MODEL")?e.ASPECT_MODEL.data||[]:Object.prototype.hasOwnProperty.call(e,"USER_TEMPLATE_MODEL")?JSON.parse(e.USER_TEMPLATE_MODEL.data[0].label||{}):[],i=e.BUSINESS_POINT.data||[],o=Object.prototype.hasOwnProperty.call(e,"ASPECT_MODEL")?Array.from(new Set(r.map(function(e){return e.level}))).sort(function(e,t){return e-t}):[],s=[{id:"BUSINESS_POINT",options:(n={},((s=i)&&s.length?s.reduce(function(e,t){return n[t.id]||(n[t.id]=e.push(t)),e},[]):[]).map(function(e){return{id:e.id,label:e.label}})),label:"业务视角"},{id:"ASPECT_ESCORE",options:[{id:"8",label:"正面指标"},{id:"3",label:"负面指标"}],label:"指标情感",unRelation:!0}],s=Object.prototype.hasOwnProperty.call(e,"ASPECT_MODEL")?[].concat(o.map(function(t,e){return{id:"ASPECT"+t,options:r.filter(function(e){return e.level===t}).map(function(e){return{id:e.label,label:e.label}}),label:b[e]+"级指标"}}),s):Object.prototype.hasOwnProperty.call(e,"USER_TEMPLATE_MODEL")?[{id:"ASPECT1",options:Object.keys(r).map(function(e){return{id:e,label:e}}),label:"一级指标"},{id:"ASPECT2",options:(o=Object.values(r),t=[],o.forEach(function(e){e.forEach(function(e){t.push(e)})}),t.map(function(e){return{id:e,label:e}})),label:"二级指标"}].concat(s):[],e=Object.prototype.hasOwnProperty.call(e,"ASPECT_MODEL")?r.filter(function(e){return 2===e.level}).map(function(t){return{id:t.label,name:t.label,relation:r.length?r.filter(function(e){return 1===e.level}).filter(function(e){return e.id===t.parent}).map(function(e){return{id:e.label,name:e.label,relation:i.length&&i.filter(function(e){return e.child===t.label}).length?i.filter(function(e){return e.child===t.label}).map(function(e){return{id:e.id,name:e.label}}):void 0}}):void 0}}):Object.prototype.hasOwnProperty.call(e,"USER_TEMPLATE_MODEL")?Object.keys(r).map(function(e){return{id:e,name:e,relation:r[e].length?r[e].map(function(t){return{id:t,name:t,relation:i.length&&i.filter(function(e){return e.child===t}).length?i.filter(function(e){return e.child===t}).map(function(e){return{id:e.id,name:e.label}}):void 0}}):void 0}}):[];return r.length||"{}"!==JSON.stringify(r)||(r.length||console.error("找不到 ASPECT_MODEL 资源"),"{}"===JSON.stringify(r)&&console.error("找不到 USER_TEMPLATE_MODEL 资源")),i.length||console.error("找不到 BUSINESS_POINT 资源"),s.length?{id:"ASPECT_MODEL",label:"模型",data:s,relation:e.some(function(e){return e.relation})?(a=[],e.forEach(function(n){n.relation&&n.relation.forEach(function(t){t.relation?t.relation.forEach(function(e){a.push([{id:n.id,name:n.name},{id:t.id,name:t.name},{id:e.id,name:e.name}])}):a.push([{id:n.id,name:n.name},{id:t.id,name:t.name}])})}),a.sort(function(e,t){return t.length-e.length})):void 0}:null};const I=function(e){var n,a=e.BRAND_SERIES.data||[],e=a.filter(function(e){return 1===e.level}).map(function(t){return{id:t.id,label:t.label,relation:a.length?a.filter(function(e){return e.parent===t.id.split("_")[0]}):void 0}});return a.length?{id:"BRAND_SERIES",label:"提及内容",data:[{id:"BRAND",options:a.filter(function(e){return 1===e.level}).map(function(e){return{id:e.id,label:e.label}}),label:"品牌"},{id:"SERIES",options:a.filter(function(e){return 2===e.level}).map(function(e){return{id:e.id,label:e.label}}),label:"型号"}],relation:e.some(function(e){return e.relation})?(n=[],e.forEach(function(t){t.relation&&t.relation.forEach(function(e){n.push([{id:t.id,name:t.label},{id:e.id,name:e.label}])})}),n):void 0}:(console.error("找不到 BRAND_SERIES 资源"),null)};var w=[{id:"picture",label:"带图消息"},{id:"video",label:"带视频消息"},{id:"superTopic",label:"带超话"},{id:"topic",label:"带话题"},{id:"tail",label:"带小尾巴"},{id:"text",label:"仅文本消息"}],E=[{id:"lt",label:"大于"},{id:"gt",label:"小于"},{id:"between",label:"介于"}];const k=function(){return{id:"SOCIAL",label:"社交类",data:[{id:"SOCIAL_COMMENT_ATTACHMENT_TYPE",options:w,label:"附件类型"},{id:"SOCIAL_CONTENT_LENGTH",options:E,label:"内容长度"}]}};var C=Array.from({length:11}).map(function(e,t){return{id:"NPS_"+t,label:t+"分"}}),S=[{id:"PROMOTER",label:"推荐者"},{id:"PASSIVE",label:"被动者"},{id:"DETRACTOR",label:"贬损者"}],N=Array.from({length:5}).map(function(e,t){return{id:"SAT_"+(t+1),label:t+1+"分"}}),_=[{id:"NEGATIVE",label:"差评"},{id:"NEUTRAL",label:"中评"},{id:"POSITIVE",label:"好评"}];const O=function(){return{id:"EXPERIENCE_QUESTION",label:"体验题型",data:[{id:"NPS_SCORE",options:C,label:"NPS分值"},{id:"NPS_TYPE",options:S,label:"NPS分类"},{id:"SATISFACTION_SCORE",options:N,label:"满意度分值"},{id:"SATISFACTION_TYPE",options:_,label:"满意度分类"}]}};var j=[{id:"EMAIL",label:"邮件"},{id:"SMS",label:"短信"},{id:"SHARE",label:"分享"}],D=[{id:"READ",label:"已打开"},{id:"SUBMITTED",label:"已提交"},{id:"FULL_SUBMITTED",label:"完整答题"},{id:"UNREAD",label:"未读"},{id:"UN_DISPATCHED",label:"未发送"}],M=[{id:"北京",label:"北京"},{id:"天津",label:"天津"},{id:"河北省",label:"河北省"},{id:"山西省",label:"山西省"},{id:"内蒙古",label:"内蒙古"},{id:"辽宁省",label:"辽宁省"},{id:"吉林省",label:"吉林省"},{id:"黑龙江省",label:"黑龙江省"},{id:"上海",label:"上海"},{id:"江苏省",label:"江苏省"},{id:"浙江省",label:"浙江省"},{id:"安徽省",label:"安徽省"},{id:"福建省",label:"福建省"},{id:"江西省",label:"江西省"},{id:"山东省",label:"山东省"},{id:"河南省",label:"河南省"},{id:"湖北省",label:"湖北省"},{id:"湖南省",label:"湖南省"},{id:"重庆",label:"重庆"},{id:"四川省",label:"四川省"},{id:"贵州省",label:"贵州省"},{id:"云南省",label:"云南省"},{id:"西藏",label:"西藏"},{id:"陕西省",label:"陕西省"},{id:"甘肃省",label:"甘肃省"},{id:"青海省",label:"青海省"},{id:"宁夏",label:"宁夏"},{id:"新疆",label:"新疆"},{id:"广东省",label:"广东省"},{id:"广西",label:"广西"},{id:"海南省",label:"海南省"},{id:"台湾省",label:"台湾省"},{id:"香港",label:"香港"},{id:"澳门",label:"澳门"}];const A=function(){return{id:"QUESTIONNAIRE_INFO",label:"答卷信息",data:[{id:"CHANNEL",options:j,label:"分发渠道"},{id:"STATUS",options:D,label:"答卷状态"},{id:"PROVINCE",options:M,label:"客户省份"}]}};var L=[{id:"PRE_SALE",label:"售前"},{id:"AFTER_SALE",label:"售后"},{id:"UNKNOWN",label:"未分类"}],P=[{id:"3",label:"天猫"},{id:"1",label:"京东"}],F=[{id:"CUSTOMER",label:"客户"},{id:"SERVER",label:"客服"}];const R=function(e){var n,t,a=e.WAITER_RELATION.data||[],e=[{id:"WAITER_SHOP",options:(n={},((e=a)&&e.length?e.reduce(function(e,t){return n[t.parent]||(n[t.parent]=e.push(t)),e},[]):[]).map(function(e){return{id:e.parent,label:e.parent}})),label:"店铺"},{id:"WAITER_TYPE",options:L,label:"客服类型",unRelation:!0},{id:"WAITER_NAME",options:a.map(function(e){return{id:e.label,label:e.label}}),label:"客服"},{id:"WAITER_PLATFORM",options:P,label:"平台",unRelation:!0},{id:"WAITER_ROLE",options:F,label:"角色",unRelation:!0}];return a.length||console.error("找不到 WAITER_RELATION 资源"),{id:"CUSTOMER_SERVICE",label:"客服类",data:e,relation:a.length?(t=[],a.forEach(function(e){t.push([{id:e.parent,name:e.parent},{id:e.label,name:e.label}])}),t):void 0}};const z=function(e){var t,n,a=e.MOBILE_DICT.data||[];return a.length?{id:"MENTIONED_CONTENT",label:"提及内容",data:[{id:"WAITER_BRAND",options:(n={},((e=a)&&e.length?e.reduce(function(e,t){return n[t.parent]||(n[t.parent]=e.push(t)),e},[]):[]).map(function(e){return{id:e.parent,label:e.parent}})),label:"品牌"},{id:"WAITER_PRODUCT",options:a.map(function(e){return{id:e.label,label:e.label}}),label:"型号"}],relation:(t=[],a.forEach(function(e){t.push([{id:e.parent,name:e.parent},{id:e.label,name:e.label}])}),t)}:(console.error("找不到 MOBILE_DICT 资源"),null)};var V=["一","二","三","四","五","六","七","八","九","十"];const B=function(e){var t,n,a,r=Object.prototype.hasOwnProperty.call(e,"WAITER_ASPECT_TREE")?e.WAITER_ASPECT_TREE.data||[]:Object.prototype.hasOwnProperty.call(e,"WAITER_SESSION_ASPECT")?JSON.parse(e.WAITER_SESSION_ASPECT.data[0].label||{}):[],i=Object.prototype.hasOwnProperty.call(e,"WAITER_ASPECT_TREE")?Array.from(new Set(r.map(function(e){return e.level}))).sort(function(e,t){return e-t}):[],t=Object.prototype.hasOwnProperty.call(e,"WAITER_ASPECT_TREE")?i.map(function(t,e){return{id:"WAITER_ASPECT"+t,options:r.filter(function(e){return e.level===t}).map(function(e){return{id:e.label,label:e.label}}),label:V[e]+"级关注点"}}):Object.prototype.hasOwnProperty.call(e,"WAITER_SESSION_ASPECT")?[{id:"WAITER_ASPECT1",options:Object.keys(r).map(function(e){return{id:e,label:e}}),label:"一级关注点"},{id:"WAITER_ASPECT2",options:(t=Object.values(r),n=[],t.forEach(function(e){e.forEach(function(e){n.push(e)})}),n.map(function(e){return{id:e,label:e}})),label:"二级关注点"}]:[],e=Object.prototype.hasOwnProperty.call(e,"WAITER_ASPECT_TREE")?r.filter(function(e){return 1===e.level}).map(function(t){return{id:t.label,label:t.label,relation:r.length?r.filter(function(e){return 2===e.level}).filter(function(e){return e.parent===t.id}).map(function(e){return{id:e.label,label:e.label}}):void 0}}):Object.prototype.hasOwnProperty.call(e,"WAITER_SESSION_ASPECT")?Object.keys(r).map(function(e){return{id:e,label:e,relation:r[e].length?r[e].map(function(e){return{id:e,label:e}}):void 0}}):[];return r.length||"{}"!==JSON.stringify(r)||(r.length||console.error("找不到 WAITER_ASPECT_TREE 资源"),"{}"===JSON.stringify(r)&&console.error("找不到 WAITER_SESSION_ASPECT 资源")),t.length?{id:"WAITER_MODEL",label:"模型",data:t,relation:e.some(function(e){return e.relation})?(a=[],e.forEach(function(t){t.relation&&t.relation.forEach(function(e){a.push([{id:t.id,name:t.label},{id:e.id,name:e.label}])})}),a):void 0}:null};function q(a){return Array.from(new Set(a.map(function(e){return e.topicName}))).map(function(t){return{id:a.find(function(e){return e.topicName===t}).topicId,options:(e=a.filter(function(e){return e.topicName===t}).map(function(e){return{id:e.topicValueId,label:e.topicValueName}}),n={},e&&e.length?e.reduce(function(e,t){return n[t.label]||(n[t.label]=e.push(t)),e},[]):[]),label:t};var e,n})}const U=function(e){var t,n=e.CONN_CONFIG.data||[],e=n.map(function(e){return e.configs});return n.length?{id:"CONFIG",label:"主题",data:q((t=[],e.forEach(function(e){e.forEach(function(e){t.push(e)})}),t)),relation:e.length?e.sort(function(e,t){return t.length-e.length}).map(function(e){return e.map(function(e){return{id:e.topicValueId,name:e.topicValueName}})}):void 0}:(console.error("找不到 CONN_CONFIG 资源"),null)};var H={SCENE_AGE:"年龄",SCENE_BUY_DECISION:"购买决策",SCENE_MY_ADVICE:"用户建议",SCENE_RELATION:"关系",SCENE_ROLE:"角色",SCENE_USE:"用途",SCENE_USE_SCENE:"使用场合",SCENE_SEX:"性别",SCENE_ENDORSER:"代言人"};const W=function(e){var t=JSON.parse(e.SCENE_CONFIG.data[0].label||{}),e=Object.keys(t).map(function(e){return{id:e,options:t[e].map(function(e){return{id:e,label:e}}),label:H[e]}});return e.length?{id:"SCENE_ASPECT",label:"场景标签",data:e}:(console.error("找不到 SCENE_CONFIG 资源"),null)};function Z(a){return Array.from(new Set(a.map(function(e){return e.topicName}))).map(function(t){return{id:a.find(function(e){return e.topicName===t}).topicId,options:(e=a.filter(function(e){return e.topicName===t}).map(function(e){return{id:e.topicValueId,label:e.topicValueName}}),n={},e&&e.length?e.reduce(function(e,t){return n[t.label]||(n[t.label]=e.push(t)),e},[]):[]),label:t};var e,n})}const J=function(e){var t,n=e.TOPIC_CONFIG.data||[],e=n.map(function(e){return e.configs});return n.length?{id:"TOPIC",label:"主题",data:Z((t=[],e.forEach(function(e){e.forEach(function(e){t.push(e)})}),t)),relation:e.length?e.sort(function(e,t){return t.length-e.length}).map(function(e){return e.map(function(e){return{id:e.topicValueId,name:e.topicValueName}})}):void 0}:(console.error("找不到 TOPIC_CONFIG 资源"),null)};var Y=n(35239),G=function(){var t=a()(c().mark(function e(t){var r,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.type,i=t.publicResource,e.abrupt("return",new Promise(function(e,t){var n=Y.t.get(Y.V.curProject).id,a=i;a&&a.CHECK_OWNER&&a.CHECK_OWNER.data.find(function(e){return e.pageType===r&&e.projectId===n})?e(a.CHECK_OWNER.data.find(function(e){return e.pageType===r&&e.projectId===n})):console.error("没有筛选配置资源")}));case 2:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=a()(c().mark(function e(t){var n,a,r,i,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,o=t.publicResource,a=t.value,r=Y.t.get(Y.V.curProject).id,(i=JSON.parse(JSON.stringify(o)))&&i.CHECK_OWNER&&i.CHECK_OWNER.data.find(function(e){return e.pageType===n&&e.projectId===r})?(o=i.CHECK_OWNER.data.splice(i.CHECK_OWNER.data.findIndex(function(e){return e.pageType===n&&e.projectId===r}),1),o=o[0],i.CHECK_OWNER.data.push(s()({},o,a))):console.error("当前项目在该页面没有配置默认筛选内容，请检查"),u.Z.update(u.Z.store.projectData,i).then(function(e){}),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),Q=function(){var t=a()(c().mark(function e(t){var r,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.type,i=t.publicResource,e.abrupt("return",new Promise(function(e,t){var n=Y.t.get(Y.V.curProject).id,a=i;a&&a.DEFAULT_VALUE&&a.DEFAULT_VALUE.data.find(function(e){return e.projectId===n&&e.label===r})?e(a.DEFAULT_VALUE.data.find(function(e){return e.projectId===n&&e.label===r}).selected):e(null)}));case 2:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),X=function(){var t=a()(c().mark(function e(t){var r,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.type,i=t.publicResource,e.abrupt("return",new Promise(function(e,t){var n=Y.t.get(Y.V.curProject).id,a=i;a&&a.USER_FILTER&&a.USER_FILTER.data&&a.USER_FILTER.data.filter(function(e){return e.pageType===r&&e.projectId===n}).length?e(a.USER_FILTER.data.filter(function(e){return e.pageType===r&&e.projectId===n})):e([])}));case 2:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),$={TAG_RULE:["TAG_TYPE","TAG_DETAIL"],ASPECT_MODEL:["ASPECT_MODEL","BUSINESS_POINT","USER_TEMPLATE_MODEL"],BRAND_SERIES:["BRAND_SERIES"],CUSTOMER_SERVICE:["WAITER_RELATION"],MENTIONED_CONTENT:["MOBILE_DICT"],WAITER_MODEL:["WAITER_ASPECT_TREE","WAITER_SESSION_ASPECT"],CONFIG:["CONN_CONFIG"],SCENE_ASPECT:["SCENE_CONFIG"],TOPIC:["TOPIC_CONFIG"]},ee=function(){var t=a()(c().mark(function e(t){var a,r,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.curShowList,r=t.expandInfo,i=t.publicResource,e.abrupt("return",new Promise(function(e,t){var n=[];a.forEach(function(e){switch(e){case"DEFAULT":n.push(m(i,r));break;case"COMMENT_RELATED":n.push(g());break;case"TAG_RULE":n.push(x(i));break;case"ASPECT_MODEL":n.push(T(i));break;case"BRAND_SERIES":n.push(I(i));break;case"SOCIAL":n.push(k());break;case"EXPERIENCE_QUESTION":n.push(O());break;case"QUESTIONNAIRE_INFO":n.push(A());break;case"CUSTOMER_SERVICE":n.push(R(i));break;case"MENTIONED_CONTENT":n.push(z(i));break;case"WAITER_MODEL":n.push(B(i));break;case"CONFIG":n.push(U(i));break;case"SCENE_ASPECT":n.push(W(i));break;case"TOPIC":n.push(J(i))}}),e(n.filter(function(e){return e}))}));case 2:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()},35211:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),u=n(97577),t=n(18446),f=n(92795),v=n(39432),l=n(35239),y=n(64396),g=n(87219),x=n(11724),b=y.Z.IDBHeaderScreening.screening;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var T={relationData:new Map,deepCloneList:{}},a={screeningMap:[],curScreeningMap:void 0,screeningList:[],defaultConfig:void 0,oriDefaultConfig:void 0,screeningValues:[]};const r={namespace:b,state:Object.assign(a,{}),effects:{fetchDefaultConfig:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.payload,a=n.call,r=n.put,i=n.select,o=n.take,s=l.type,c=l.value,u=l.expandInfo,l=l.noSavingFilterList,e.next=5,i(function(e){return e[y.Z.global]});case 5:return d=e.sent,f=d.publicResource,e.next=9,a(x.z1,{type:s,publicResource:f});case 9:return p=e.sent,e.next=12,r({type:"fetchScreeningMap",payload:{curShowList:p.ownerChecks.map(function(e){return e.id}),expandInfo:u,noSavingFilterList:l,defaultConfig:p}});case 12:return e.next=14,o("fetchScreeningMap/@@end");case 14:return e.next=16,i(function(e){return e[b]});case 16:return d=e.sent,f=d.curScreeningMap,d=f.deepcopy(),p.ownerChecked||(p.defaultChecksName.length?d.forEach(function(e){e.data.some(function(e){return e.id===p.defaultChecksName[0]})&&(p.ownerChecked=[{id:e.id,values:p.defaultChecked.filter(function(e){return e.id===p.defaultChecksName[0]})}])}):p.ownerChecked=[]),f=c||p.ownerChecked||[],e.next=23,r({type:"save",payload:{defaultConfig:h()({},p,{ownerChecked:c||p.ownerChecked,defaultChecks:(0,g.ZP)(p.defaultChecks,function(e){var n=e.find(function(e){return e.id===p.defaultChecksName[0]});n&&(e=(0,g.ZP)(n.values,function(e){c&&c.some(function(e){return e.values.some(function(e){return e.id===p.defaultChecksName[0]})})&&c.find(function(e){return e.values.find(function(e){return e.id===p.defaultChecksName[0]})}).values&&c.find(function(e){return e.values.find(function(e){return e.id===p.defaultChecksName[0]})}).values.some(function(e){return e.id===p.defaultChecksName[0]})&&c.find(function(e){return e.values.find(function(e){return e.id===p.defaultChecksName[0]})}).values.find(function(e){return e.id===p.defaultChecksName[0]}).values.forEach(function(t){e.find(function(e){return e.id===t})||(n.values.length<p.defaultNumberConfig?e.unshift({id:t,label:t}):n.values.length===p.defaultNumberConfig&&e.splice(n.values.length-1,1,{id:t,label:t}))})}),n.values=e)}),defaultChecked:(0,g.ZP)(p.defaultChecked,function(e){e=e.find(function(e){return e.id===p.defaultChecksName[0]});e&&(e.values=(c&&c.find(function(e){return e.values.some(function(e){return e.id===p.defaultChecksName[0]})})?c.find(function(e){return e.values.find(function(e){return e.id===p.defaultChecksName[0]})}).values.find(function(e){return e.id===p.defaultChecksName[0]}):e).values)})}),oriDefaultConfig:h()({},p,{ownerChecked:c||p.ownerChecked,defaultChecks:(0,g.ZP)(p.defaultChecks,function(e){var n=e.find(function(e){return e.id===p.defaultChecksName[0]});n&&(e=(0,g.ZP)(n.values,function(e){c&&c.some(function(e){return e.values.some(function(e){return e.id===p.defaultChecksName[0]})})&&c.find(function(e){return e.values.find(function(e){return e.id===p.defaultChecksName[0]})}).values&&c.find(function(e){return e.values.find(function(e){return e.id===p.defaultChecksName[0]})}).values.some(function(e){return e.id===p.defaultChecksName[0]})&&c.find(function(e){return e.values.find(function(e){return e.id===p.defaultChecksName[0]})}).values.find(function(e){return e.id===p.defaultChecksName[0]}).values.forEach(function(t){e.find(function(e){return e.id===t})||(n.values.length<p.defaultNumberConfig?e.unshift({id:t,label:t}):n.values.length===p.defaultNumberConfig&&e.splice(n.values.length-1,1,{id:t,label:t}))})}),n.values=e)}),defaultChecked:(0,g.ZP)(p.defaultChecked,function(e){e=e.find(function(e){return e.id===p.defaultChecksName[0]});e&&(e.values=(c&&c.find(function(e){return e.values.some(function(e){return e.id===p.defaultChecksName[0]})})?c.find(function(e){return e.values.find(function(e){return e.id===p.defaultChecksName[0]})}).values.find(function(e){return e.id===p.defaultChecksName[0]}):e).values)})}),screeningValues:f,curScreeningMap:d,screeningList:d.deepcopy()}});case 23:return e.next=25,r({type:"refilterList"});case 25:return e.abrupt("return",e.sent);case 26:case"end":return e.stop()}},e)}),fetchScreeningMap:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,s=n.take,c=a.curShowList,u=a.expandInfo,a.noSavingFilterList,l=a.defaultConfig,e.next=5,o(function(e){return e[b]});case 5:return p=e.sent,p.screeningMap,p=c.reduce(function(e,t){return e.push.apply(e,x.kL[t]||[]),e},[]),e.next=10,i({type:y.Z.global+"/fetchPublicData",payload:{types:[].concat(p,["USER_FILTER","DEFAULT_VALUE","CHECK_OWNER"])}});case 10:return e.next=12,s(y.Z.global+"/fetchPublicData/@@end");case 12:return e.next=14,o(function(e){return e[y.Z.global]});case 14:return p=e.sent,p=p.publicResource,e.next=18,r(x.oG,{curShowList:c,expandInfo:u,publicResource:p});case 18:return d=(d=e.sent).map(function(t){var e=t.data;return t.relation&&T.relationData.set(t.id,(0,f.I)(t.relation)),l.excludeAccountChecks&&l.excludeAccountChecks.length&&l.excludeAccountChecks&&l.excludeAccountChecks.length&&(e=l.excludeAccountChecks.some(function(e){return e.id===t.id})?t.data.filter(function(e){return-1===l.excludeAccountChecks.find(function(e){return e.id===t.id}).values.indexOf(e.id)}):t.data),h()({},t,{data:e.map(function(e){return h()({},e,{options:e.options&&(0,v.QM)(e.options,"label","z_p",e.id)})})})}),e.next=22,i({type:"save",payload:{curScreeningMap:d}});case 22:return T.deepCloneList.curScreeningMap=d.deepcopy(),e.abrupt("return");case 24:case"end":return e.stop()}},e)}),screeningValuesChange:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,console.time("filter"),e.next=5,i(function(e){return e[b]});case 5:if(o=e.sent,o=o.screeningValues,o=o.deepcopy(),s=a.id,c=a.values,s){e.next=12;break}return console.error("没有id"),e.abrupt("return");case 12:return o=(o=(0,g.ZP)(o,function(e){e.some(function(e){return e.id===s})?e.find(function(e){return e.id===s}).values=c.deepcopy():e.push({id:s,values:c})})).filter(function(e){return 0<e.values.length}),e.next=16,r({type:"save",payload:{screeningValues:o}});case 16:return e.next=18,r({type:"refilterList"});case 18:return e.abrupt("return");case 19:case"end":return e.stop()}},e)}),updateDefaultValue:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,i=n.select,e.next=3,i(function(e){return e[b]});case 3:return o=e.sent,s=o.defaultConfig,e.next=7,i(function(e){return e[y.Z.global]});case 7:return c=e.sent,c=c.publicResource,e.next=11,a(x.QX,{value:s,type:s.pageType,publicResource:c});case 11:return c=e.sent,e.next=14,r({type:y.Z.global+"/save",payload:{publicResource:c}});case 14:return setTimeout(function(){return(0,u.Q6)(h()({},s,{projectId:l.t.get(l.V.curProject).id}))},0),e.abrupt("return");case 16:case"end":return e.stop()}},e)}),defaultValueChange:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[b]});case 4:return i=e.sent,o=i.defaultConfig,s=i.curScreeningMap,c=a.value,Object.keys(c).forEach(function(e){var t;void 0!==c&&("defaultChecksName"===e&&(t=s.map(function(t){return t.data.map(function(e){return e.fatherId=t.id,e})}).flat(2),o.ownerChecked=[{id:t.find(function(e){return e.id===c.defaultChecksName[0]}).fatherId,values:[{id:c.defaultChecksName[0],values:o.defaultChecked.find(function(e){return e.id===c.defaultChecksName[0]}).values}]}]),o[e]=c[e])}),e.next=11,r({type:"save",payload:{defaultConfig:JSON.parse(JSON.stringify(o)),screeningValues:JSON.parse(JSON.stringify(o.ownerChecked)),oriDefaultConfig:JSON.parse(JSON.stringify(o))}});case 11:return e.next=13,r({type:"refilterList"});case 13:return e.next=15,r({type:"updateDefaultValue"});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e)}),refilterList:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,i=n.select,e.next=4,i(function(e){return e[b]});case 4:return r=e.sent,i=r.screeningValues,o=r.curScreeningMap,s=T.deepCloneList.curScreeningMap,(c=i.deepcopy()).forEach(function(e){o.forEach(function(n){e.id===n.id&&n.relation&&s.forEach(function(t){var e;t.id===n.id?(e=(0,f.y)(o.filter(function(e){return e.id===t.id})[0].data,c.deepcopy().filter(function(e){return e.id===t.id})[0].values,n.relation,T.relationData.get(n.id)).list,t.data=e,t.has=!0):t.has||(t.data=o.find(function(e){return e.id===t.id}).data)})})}),s.forEach(function(e){return delete e.has}),s.forEach(function(t){var e;!t.relation||(e=c.find(function(e){return e.id===t.id}))&&(e.values.forEach(function(n){t.data.some(function(e){if(n.id!==e.id)return!1;var t=e.options.map(function(e){return e.id});return n.values=n.values.filter(function(e){return t.includes(e)}),!0})}),e.values=e.values.filter(function(e){return 0<e.values.length}))}),setTimeout(function(){return T.deepCloneList.curScreeningMap=o.deepcopy()},0),console.timeEnd("filter"),e.next=16,a({type:"save",payload:{screeningList:s,screeningValues:c}});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e)}),clearAllValues:m().mark(function e(t,n){var a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,o=n.select,e.next=4,o(function(e){return e[b]});case 4:return o=e.sent,r=o.defaultConfig,o=o.screeningValues,i=r.defaultChecked.find(function(e){return e.id===r.defaultChecksName[0]}),o=o.deepcopy(),o=i?o.filter(function(e){return!!e.values.some(function(e){return e.id===i.id})&&(e.values=e.values.filter(function(e){return e.id===i.id}),!0)}):[],e.next=12,a({type:"save",payload:{screeningValues:o}});case 12:return e.next=14,a({type:"refilterList"});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e)}),updateScreeningValues:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.select,e.next=4,r({type:"save",payload:{screeningValues:a}});case 4:return e.next=6,r({type:"refilterList"});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clear:function(){return Object.assign(a)}}}},97577:(e,t,n)=>{"use strict";n.d(t,{Q6:()=>function(e){var t=e.checkAccountId,n=e.defaultChecked,a=e.defaultChecks,r=e.defaultChecksName,i=e.defaultNumberChecked,o=e.defaultNumberConfig,s=e.accountChecks,c=e.ownerChecked,u=e.ownerChecks,l=e.pageType,p=e.projectId,e=e.expandInfo;return d.h.post("/check/owner/save",{checkAccountId:t,defaultChecked:n,defaultChecks:a,defaultChecksName:r,defaultNumberChecked:i,defaultNumberConfig:o,accountChecks:s,ownerChecked:c,ownerChecks:u,pageType:l,projectId:p,expandInfo:e})}});var d=n(36144)},92795:(e,t,n)=>{"use strict";n.d(t,{y:()=>a,I:()=>r}),Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var a=function(e,t,a,r){var i=t.deepcopy(),o=e.deepcopy();i.forEach(function(e,t){return e.index=t+1}),o.forEach(function(t){i.forEach(function(e){t.id===e.id&&(t.index=e.index,t.unRelation&&(e.unRelation=!0))})});for(;0<i.length;)(function(){var t=i.shift(),n=new Set;if(t.unRelation||"CUSTOMER_NAME"===t.id)return;t.values.forEach(function(e){for(var t=0;t<a[0].length;t++)r.get(t).has(e)&&r.get(t).get(e).forEach(function(e){return a[e].forEach(function(e){return n.add(e.id)})})}),o.forEach(function(e){e.options&&(e.index>t.index||!e.index)&&!e.unRelation&&(e.options=e.options.filter(function(e){return n.has(e.id)&&n.delete(e.id)}))})})();return o.forEach(function(e){delete e.index}),{list:o}},r=function(e){for(var a=new Map,t=e[0].length,n=0;n<t;n++)a.set(n,new Map);return e.forEach(function(e,n){e.forEach(function(e,t){a.get(t).has(e.id)||a.get(t).set(e.id,[]),a.get(t).get(e.id).push(n)})}),a}},94052:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var t=n(67154),a=n.n(t),t=n(87757),h=n.n(t),t=n(18446),f=n.n(t),m=n(87219),v=n(64396),n=v.Z.IDBHeaderScreening.headerScreening,y=v.Z.IDBHeaderScreening.screening,g=v.Z.IDBHeaderScreening.savedScreening,x=v.Z.IDBHeaderScreening.timeScreening,b=v.Z.IDBHeaderScreening.quickTimeScreening,r={showKind:null,showAdvanced:!(Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))}),content:[{}],advancedFilter:{}};const i={namespace:n,state:Object.assign(r,{}),effects:{init:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p=t.payload,a=n.put,n.select,n.call,r=n.take,n.takeEvery,time("init-all"),i=p.showList,o=p.screening,s=p.type,c=p.dateValue,u=p.contentValue,l=p.hasHour,p=p.filterId,e.next=6,a({type:v.Z.global+"/init"});case 6:return e.next=8,r(v.Z.global+"/init/@@end");case 8:if(u)return e.next=11,a({type:"save",payload:{content:u}});e.next=11;break;case 11:return f=o.value,d=o.noSavingFilterList,f=f||void 0,e.t0=Promise,e.next=16,a({type:g+"/init",payload:{type:s,filterId:p}});case 16:return e.t1=e.sent,e.next=19,a({type:y+"/fetchDefaultConfig",payload:{type:s,value:f,noSavingFilterList:d,expandInfo:{type:s}}});case 19:return e.t2=e.sent,e.next=22,a({type:i&&i.includes("quickDate")?b+"/init":x+"/init",payload:{type:s,params:c,hasHour:l}});case 22:return e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.abrupt("return",e.t0.all.call(e.t0,e.t4).then(function(e){timeE("init-all")}));case 25:case"end":return e.stop()}},e)}),clearAllValues:h().mark(function e(t,n){var a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.select,e.next=4,a({type:y+"/clearAllValues"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),changeScreenValues:h().mark(function e(t,n){var a,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.select,e.next=4,r({type:y+"/updateScreeningValues",payload:a});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),savedFilterChange:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,n.take,e.next=4,i(function(e){return e[y]});case 4:return d=e.sent,o=d.oriDefaultConfig,s=d.defaultConfig,c=a.selFilterObj,u=a.selFilterSelected,e.next=10,r({type:"contentChange",payload:c&&c.id?u.content:[{}]});case 10:return l=c&&c.id&&u.fastFilterValues?Object.assign(JSON.parse(JSON.stringify(s)),{defaultChecked:[].concat(s.defaultChecked.filter(function(e){return e.id!==u.fastFilterValues.defaultChecksName[0]}),[u.fastFilterValues.defaultChecked[0]]),defaultChecks:[].concat(s.defaultChecks.filter(function(e){return e.id!==u.fastFilterValues.defaultChecksName[0]}),[u.fastFilterValues.defaultChecks[0]]),defaultChecksName:u.fastFilterValues.defaultChecksName}):o,e.next=13,r({type:y+"/save",payload:{defaultConfig:l}});case 13:return p=l.defaultChecked.find(function(e){return e.id===l.defaultChecksName[0]}),d=[],d=p?l.ownerChecked.filter(function(e){return!!e.values.some(function(e){return e.id===p.id})&&(e.values=e.values.filter(function(e){return e.id===p.id}),!0)}):[],e.next=18,r({type:y+"/updateScreeningValues",payload:c&&c.id?u.screeningValues:d});case 18:return e.abrupt("return",c);case 19:case"end":return e.stop()}},e)}),defaultValueChange:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[y]});case 4:if(l=e.sent,o=l.defaultConfig,s=l.screeningValues,c=l.curScreeningMap,u=a.value,l=a.from,void 0===u)return e.abrupt("return");e.next=11;break;case 11:return Object.keys(u).forEach(function(e){s.deepcopy();o[e]=u[e],"defaultChecked"===e?c.forEach(function(e){e.data.some(function(e){return e.id===o.defaultChecksName[0]})&&(p=e.id,d=[{id:o.defaultChecksName[0],values:u.defaultChecked.find(function(e){return e.id===o.defaultChecksName[0]}).values,isSelectAll:u.defaultChecked.find(function(e){return e.id===o.defaultChecksName[0]}).isSelectAll}],o.ownerChecked=[{id:e.id,values:u.defaultChecked.filter(function(e){return e.id===o.defaultChecksName[0]})}],f=o.ownerChecked)}):"defaultChecksName"===e&&c.forEach(function(e){e.data.some(function(e){return e.id===u.defaultChecksName[0]})&&(p=e.id,d=[{id:u.defaultChecksName[0],values:o.defaultChecked.find(function(e){return e.id===u.defaultChecksName[0]}).values,isSelectAll:o.defaultChecked.find(function(e){return e.id===u.defaultChecksName[0]}).isSelectAll}],o.ownerChecked=[{id:p,values:d}],f=o.ownerChecked)})}),e.next=14,r({type:y+"/save",payload:Object.assign({defaultConfig:JSON.parse(JSON.stringify(o))},f?{screeningValues:f}:{})});case 14:return e.next=16,r({type:y+"/screeningValuesChange",payload:{id:"model"===l?"":p,values:d}});case 16:return e.next=18,r({type:y+"/updateDefaultValue"});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}},e)}),freshFastFilter:h().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,d=n.select,e.next=4,d(function(e){return e[y]});case 4:return c=e.sent,r=c.screeningValues,i=c.defaultConfig,o=c.screeningList,s=JSON.parse(JSON.stringify(i)),d=r.map(function(e){return e.values}).flat(1),c=JSON.parse(JSON.stringify(s)),c=c.defaultChecks,u=s.defaultChecked.find(function(e){return e.id===s.defaultChecksName[0]}),l=u?c.find(function(e){return e.id===s.defaultChecksName[0]}).values:void 0,u&&d.some(function(e){return e.id===u.id})&&d.forEach(function(a){a.id===u.id&&(f()(u.values,a.values)||(u.values=a.values,p=s.defaultChecked.deepcopy()),f()(u.isSelectAll,a.isSelectAll)||"boolean"!=typeof u.isSelectAll||(u.isSelectAll=a.isSelectAll,p=(0,m.ZP)(s.defaultChecked.deepcopy(),function(e){e.find(function(e){return e.id===u.id}).isSelectAll=a.isSelectAll})),a.values.some(function(e){return!l.map(function(e){return e.id}).includes(e)})&&a.values.filter(function(e){return!l.map(function(e){return e.id}).includes(e)}).forEach(function(t){var e=o.map(function(e){return e.data}).flat(1).find(function(e){return e.id===u.id}).options.find(function(e){return e.id===t}).label;if(l.length>=s.defaultNumberConfig)for(var n=l.length-1;0<n;n--)if(!a.values.includes(l[n].id)){l.splice(n,1);break}l.unshift({id:t,label:e})}))}),u&&p&&((d=JSON.parse(JSON.stringify(p))).some(function(t){return t.id===s.defaultChecksName[0]&&(t.values=l.filter(function(e){return t.values.includes(e.id)}).map(function(e){return e.id}),!0)}),p=d),e.next=17,a({type:y+"/save",payload:{defaultConfig:Object.assign(i,{defaultChecked:p||i.defaultChecked,defaultChecks:c,ownerChecked:r}),oriDefaultConfig:Object.assign(i,{defaultChecked:p||i.defaultChecked,defaultChecks:c,ownerChecked:r})}});case 17:return e.next=19,a({type:y+"/updateDefaultValue"});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},e)}),clearSaveFilter:h().mark(function e(t,n){var a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,e.next=4,a({type:g+"/clearSaveFilter"});case 4:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return a()({},e,t)},clear:function(e){return Object.assign(r,{})},contentChange:function(e,t){t=t.payload;return a()({},e,{content:t})},changeShow:function(e,t){t=t.payload;return a()({},e,{showKind:void 0===t?null:t})},changeAdvancedShow:function(e,t){t=t.payload;return a()({},e,{showAdvanced:void 0===t?!e.showAdvanced:t})}}}},84910:(e,t,n)=>{"use strict";n.d(t,{Z8:()=>a,mC:()=>function(e){switch(e){case"FREE_EXPLORE_MSG_COMMENT":return"电商评论";case"FREE_EXPLORE_MSG_QUESTIONAIRE":return"调查问卷";case"FREE_EXPLORE_MSG_SERVICE":return"客服会话"}},kY:()=>function(e){switch(e){case"FREE_EXPLORE_MSG_COMMENT":case"FREE_EXPLORE_MSG_QUESTIONAIRE":case"FREE_EXPLORE_MSG_SERVICE":return"FREE_EXPLORING";default:return e}}});var a=function(e,t,n){e=JSON.parse(JSON.stringify(e));e.forEach(function(t){n.forEach(function(e){t.id===e.id&&(t.label=e.label,t.values.forEach(function(t){e.data.forEach(function(e){t.id===e.id&&(t.label=e.label,t.values=t.values.map(function(t){var n={id:t};return e.options.forEach(function(e){t===e.id&&(n.label=e.label)}),n}))})}))})});var a=t.defaultChecked.find(function(e){return e.id===t.defaultChecksName[0]})||{};return a.isSelectAll&&e.forEach(function(e){e.values.some(function(e){return e.id===t.defaultChecksName[0]})&&e.values.forEach(function(e){e.id===t.defaultChecksName[0]&&(e.values=[{label:"全部"}])})}),{filterValue:e,analysisModel:JSON.parse(JSON.stringify(e)).filter(function(e){return!!e.values.some(function(e){return e.id===t.defaultChecksName[0]})&&(e.values=e.values.filter(function(e){return e.id===t.defaultChecksName[0]}),e.values=a.isSelectAll?[{label:"全部"}]:e.values,!0)})}}},23570:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var t=n(67154),r=n.n(t),t=n(37316),i=n.n(t),t=n(85354),a=n.n(t),t=n(67294),o=n.n(t),t=n(45697),n=n.n(t),t=function(t){function e(e){var a=t.call(this,e)||this;return a.isCompositionHandling=!1,a.inputRef=o().createRef(),a._handlingOnComposition=function(){a.isCompositionHandling=!0},a._handleOnComposition=function(e){a.isCompositionHandling=!1,a._handleOnChange(e)},a._handleOnChange=function(e){var t,n;a.isCompositionHandling||(t=(n=a.props).maxLength,n=n.onChange,e.target.value.length>t?(e.target.value=e.target.value.substring(0,t),a.setState({test:!1}),n&&n(e,a.inputRef.current,"最多输入"+t+"字")):(a.setState({test:!0}),n&&n(e,a.inputRef.current)))},a._handleOnBlur=function(e){var t=a.props.onBlur;a.setState({test:!0}),t&&t(e)},a.state={test:!0},a}a()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.autoFocus&&this.inputRef.current.focus()},n.render=function(){var e=this.props,t=e.className,n=e.type,a=(e.maxLength,i()(e,["className","type","maxLength"])),e=this.state.test;return"textarea"===n?o().createElement("textarea",r()({rows:5},a,{ref:this.inputRef,className:"yt_lazy_textarea_wrapper "+t+" "+(e?"":"yt_lazy_input_error_wrapper"),onChange:this._handleOnChange,onBlur:this._handleOnBlur,onCompositionStart:this._handlingOnComposition,onCompositionUpdate:this._handlingOnComposition,onCompositionEnd:this._handleOnComposition})):o().createElement("input",r()({},a,{ref:this.inputRef,className:"yt_lazy_input_wrapper "+t+" "+(e?"":"yt_lazy_input_error_wrapper"),onChange:this._handleOnChange,onBlur:this._handleOnBlur,onCompositionStart:this._handlingOnComposition,onCompositionUpdate:this._handlingOnComposition,onCompositionEnd:this._handleOnComposition}))},e}(o().PureComponent);const s=t;t.propTypes={className:n().string,autoFocus:n().bool,onBlur:n().func}},57558:(e,t,p)=>{"use strict";p.d(t,{Z:()=>j});var n=p(85354),a=p.n(n),r=p(67154),l=p.n(r),t=p(37316),i=p.n(t),n=p(23279),o=p.n(n),r=p(67294),d=p.n(r),f=p(61409),x=p(15941),h=(p(43378),p(62443)),m=(p(54277),p(74048)),v=(p(1025),p(65400)),y=p(36144),g=p(61193),b=p(92360),s=p(5133),T=p(43036),t=p(55609),I=p(35239),n=p(64396),w=n.Z.userState.message,E=n.Z.public.menu,r=function(t){function e(e){var u=t.call(this,e)||this;return u._handleOnWsMessage=function(e){var t=e.data,n=u.state.projectId,a=u.props,r=a.unreadCount,i=a.messageList,e=a.dispatch;t.type&&"ws"===t.type&&(t=(a=t.payload).type,a=a.result,"NEW_MESSAGE_REMIND"===t?a&&a.list&&0<a.list.length&&e({type:w+"/save",payload:{unreadCount:r+a.list.length,messageList:[a.list[0]].concat(i)}}):"MESSAGE_TOTAL"===t?u.props.dispatch({type:"project/saveState",payload:{data:a.list||[]}}):"ASPECT_WARNING_UNREAD_TOTAL"===t&&a.projectId===n&&u.context.setWarningCount(u.context.getWarningCount()+a.unreadNumber))},u.oneHandler=function(e){(u.state.open||u.state.messageListShow)&&u.setState({open:!1,messageListShow:!1}),u.setState({isShowUserPannel:!1})},u.toggleMessagePanel=function(e){var t=u.state.messageListShow;t&&e.stopPropagation(),setTimeout(function(){u.setState({messageListShow:!t})},0)},u.getList=function(){var e=u.state,t=e.pageIndex,n=e.pageSize,e=u.props.timestamp;u.props.dispatch({type:w+"/fetchUserStateList",payload:{pageIndex:t,pageSize:n,timestamp:e,PROGRESS:!1}}).then(function(e){e=e.result.list;u.setState({canGetMsgList:!0,hasMore:!(e.length<n)})})},u.clickMessage=function(e){var t=u.props,n=t.dispatch,a=(t.detail,t.aspectWarningCount),r=t.unreadCount,i=t.messageList,o=e.id,s=e.type,c=e.relationId;y.h.post("/message/remind/read",{id:o}).then(function(e){if(200<=e.status&&e.status<=304&&e.data.result){switch(s){case"DOWNLOAD_SUCCESS":u.downloadExcel(c);break;case"OPINION_TASK_FINISH":window.open("/opinionDetail?id="+c);break;case"ASPECT_WARNING":i.find(function(e){return e.id===o}).read||n({type:E+"/save",payload:{aspectWarningCount:a-1}}),f.mW.push({pathname:"/aspectWarning/detail",state:{id:c}})}i.find(function(e){return e.id===o}).read||(i.forEach(function(e){e.id===o&&(e.read=!0)}),n({type:w+"/save",payload:{unreadCount:r-1}}))}})},u.readAll=function(){for(var e=u.props,t=e.messageList,n=e.timestamp,a=e.dispatch,r=!0,i=0;i<t.length;i++)if(!t[i].read){r=!1;break}r?s.Z.warning("当前消息已全为已读状态"):y.h.get("/message/remind/read/all?timestamp="+n).then(function(e){200<=e.status&&e.status<=304&&e.data.result&&(t.forEach(function(e){e.read=!0}),a({type:w+"/save",payload:{unreadCount:0,messageList:t}}),s.Z.success("操作成功"))})},u.handleScroll=function(){var e=u.state,t=e.canGetMsgList,n=e.pageIndex,a=(e.pageSize,e.hasMore),r=u.props,i=r.messageList,o=r.dispatch,s=document.getElementsByClassName("message-panel-body")[0],e=s.scrollTop,r=s.offsetHeight,r=s.scrollHeight-e-r;u.setState({bottomDistance:r}),30<r||!t||!a||(o({type:w+"/save",payload:{messageList:i}}),u.setState({canGetMsgList:!1,pageIndex:n+1},function(){return u.getList()}))},u._goBusinessCenter=function(){f.mW.push("/account/overview")},u.projectSettiing=function(e){var t=I.t.get(I.V.curProject),n=t.name,t=t.id;e.nativeEvent.stopImmediatePropagation(),e.stopPropagation(),I.t.set(I.V.backProjectConfig,{name:n,id:t}),f.mW.push("/account/project/preview"),document.body.click()},u.showUserPannel=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();e=u.state.isShowUserPannel;u.setState({isShowUserPannel:!e,messageListShow:!1})},u.getPictureUrl=function(e,t){return Array.isArray(e.projects)&&e.projects.filter(function(e){return e.id===t})[0]&&e.projects.filter(function(e){return e.id===t})[0].pictureUrl},u.handleUpdateInfo=function(e){var t=u.props,n=t.versionInfo,t=t.dispatch;e.includes("save")&&(t({type:w+"/save",payload:{versionInfo:l()({},n,{isRemind:!1})}}),t({type:w+"/finishRemind",payload:{versionNumber:n.versionNumber}})),e.includes("skip")&&window.open("/helpCenter","_blank")},u.state={open:!1,profilePic:g.Z.getUser()&&g.Z.getUser().headPic?g.Z.getUser().headPic:p(7810),total:0,messageListShow:!1,pageIndex:1,pageSize:10,bottomDistance:0,canGetMsgList:!0,hasMore:!0,loading:!1,projectId:I.t.get(I.V.curProject).id,project:I.t.get(I.V.project)||[],isShowUserPannel:!1},u}a()(e,t);var n=e.prototype;return n.componentDidMount=function(){document.getElementsByClassName("message-panel-body")[0].addEventListener("scroll",this.handleScroll),document.addEventListener("click",this.oneHandler),this.getList(),this.props.dispatch({type:w+"/fetchVersionInfo"}),window.addEventListener("message",this._handleOnWsMessage)},n.componentWillUnmount=function(){document.getElementsByClassName("message-panel-body")[0].removeEventListener("scroll",this.handleScroll),this.state.lineJob&&clearInterval(this.state.lineJob),document.removeEventListener("click",this.oneHandler),clearInterval(this.getUnreadCountInterval),window.removeEventListener("message",this._handleOnWsMessage)},n.logout=function(){y.h.get("/logout").then(function(e){g.Z.destroy(),sessionStorage.clear(),f.mW.push("/login"),window.location.reload()})},n.goSetting=function(e){f.mW.push("/personalSettings/overview"),setTimeout(function(){return document.querySelector("#app").click()},100)},n.downloadExcel=function(e){y.h.post("/data/download",{id:e}).then(function(e){var t;2e4===e.data.code&&(t=document.createElement("a"),e=e.data.result.url,t.href=e,t.click())})},n.goWiki=function(){window.open("http://wiki.yuntingai.com/pages/viewpage.action?pageId=65609&os_username=yuntingguest&os_password=skieer@2019&os_cookie=true&login=%E7%99%BB%E5%BD%95&os_destination=")},n.exchangeProjectIndex=function(t){var e=this.state.project.filter(function(e){return e.id===t})[0];I.t.set(I.V.curProject,e)},n.render=function(){var n=this,e=this.state,t=e.project,a=(e.open,e.profilePic),r=e.messageListShow,i=e.isShowUserPannel,o=this.props,s=o.fetchLoading,c=o.messageList,e=o.unreadCount,u=o.menuList,o=o.versionInfo,l=p(26663);return d().createElement("div",{className:"user",id:"topHeaderUser"},d().createElement("div",{className:"wrap"},g.Z.hasAuthority("MANAGEMENT")&&d().createElement(T.Z,{placement:"bottom",overlay:"企业中心",mouseEnterDelay:.6},d().createElement("div",{onClick:this._goBusinessCenter},d().createElement("i",{className:"icon-qiyezhongxin"}))),r?d().createElement("div",{className:r?"active":"",onClick:this.toggleMessagePanel},d().createElement("i",{className:"icon-xiaoxi"},0<e&&d().createElement("div",{className:"unreadCount"},99<e?"99+":e))):d().createElement(T.Z,{placement:"bottom",overlay:"消息",mouseEnterDelay:.6},d().createElement("div",{className:r?"active":"",onClick:this.toggleMessagePanel},d().createElement("i",{className:"icon-xiaoxi"},0<e&&d().createElement("div",{className:"unreadCount"},99<e?"99+":e)))),o.versionNumber?o.isRemind?d().createElement(h.default,{placement:"bottomRight",getPopupContainer:function(){return document.querySelector(".isFirst")},arrowPointAtCenter:!0,defaultVisible:!0,visible:!0,color:"#1890FF",content:d().createElement("div",{className:"update"},o.picUrl?d().createElement("img",{src:o.picUrl}):"",d().createElement("div",{className:"update-info",dangerouslySetInnerHTML:{__html:o.digest}}),d().createElement("div",{className:"update-button"},d().createElement(m.default,null,d().createElement(v.default,{type:"primary",onClick:function(){return n.handleUpdateInfo("save")}},"知道了"),d().createElement(v.default,{onClick:function(){return n.handleUpdateInfo("saveskip")}},"查看更多"))))},d().createElement("div",null,d().createElement("i",{className:"icon-bangzhuzhongxin isFirst"}))):d().createElement(T.Z,{placement:"bottom",overlay:"帮助中心",mouseEnterDelay:.6},d().createElement("div",{onClick:function(){return n.handleUpdateInfo("skip")}},d().createElement("i",{className:"icon-bangzhuzhongxin"}))):"",d().createElement("div",{className:"userinfo",onClick:function(e){return n.showUserPannel(e)}},d().createElement("img",{className:"portrait",src:a,alt:""}),d().createElement("span",{className:"username"},g.Z.getUser()?g.Z.getUser().username:"customer",d().createElement("i",{className:"icon-cem_pull-down-or-take-up"})),d().createElement("div",{className:"drop",style:{display:i?"block":"none"}},d().createElement("ul",{className:"settingList"},d().createElement("li",{className:"defaultLi",onClick:this.goSetting},d().createElement("span",null,"个人中心")),d().createElement("li",{className:"defaultLi switchLi"},d().createElement("span",null,"切换项目"),d().createElement("ul",{className:"projectList"},t.map(function(e,t){return d().createElement("li",{className:e.sel?"sel":"",key:e.name,onClick:n.props.selProject.bind(n,e,t)},d().createElement("img",{src:n.getPictureUrl(u,e.id)?"http://yunting-1251101074.coscd.myqcloud.com"+n.getPictureUrl(u,e.id):l,className:"project_small_logo"}),d().createElement("span",{className:"project_small_name",title:e.name},e.name))}))),d().createElement("li",{className:"defaultLi",onClick:function(e){return n.projectSettiing(e)}},d().createElement("span",null,"项目设置")),o.versionNumber&&d().createElement("li",{className:"defaultLi versionLi switchLi"},d().createElement("span",null,"版本信息"),d().createElement("ul",{className:"projectList versionUl"},o.versionNumber)),d().createElement("li",{className:"logout",onClick:this.logout.bind(this)},d().createElement("span",null,"退出登录")))))),d().createElement("div",{className:"message-panel",style:{display:r?"inline-block":"none"},onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},d().createElement("div",{className:"message-panel-body"},0<c.length?c.map(function(e,t){return d().createElement("div",{key:t,onClick:n.clickMessage.bind(n,e),className:"message"},d().createElement("div",{className:e.read?"read":"unread"},!e.read&&d().createElement("span",{className:"dot"}),d().createElement("span",{style:{paddingLeft:e.read?"0":"6px"}},e.message)),d().createElement("div",null,e.time&&e.time.substring(0,10)))}):d().createElement("div",{className:"noDataTip"},"暂时没有新消息"),d().createElement(b.Loading,{loading:s})),d().createElement("div",{className:"message-panel-footer",style:{pointerEvents:0<c.length?"auto":"none"}},d().createElement("span",{onClick:this.readAll},d().createElement("span",null,"全部设为已读"),d().createElement("i",{className:"icon-cem_check-out"})))))},e}(d().Component);const u=(0,t.connect)(function(e){var t=e.detail,n=(e.sentimentSubjectList,e.loading),e=i()(e,["detail","sentimentSubjectList","loading"]);return l()({detail:t,aspectWarningCount:e[E].aspectWarningCount,menuList:e[E].menuList},e[w],{fetchLoading:n.effects[w+"/fetchUserStateList"]||!1,fetchVersionLoading:n.effects[w+"/fetchVersionInfo"]||!1})})(r);var c,k={type:"ping"};var C=p(39432),S=n.Z.public.menu,N=n.Z.global;try{!function t(){var e=window.location,n=e.protocol,e=e.hostname,e=("http:"===n?"ws://":"wss://")+(["localhost","192.168.0.162"].includes(e)?"192.168.0.162:9001":e)+"/ws",a=new WebSocket(e);a.onopen=function(e){a.send(JSON.stringify(k)),c=setInterval(function(){a.send(JSON.stringify(k))},2e4)},a.onmessage=function(e){e=e.data;try{var t=JSON.parse(e);"PONG"!==e.type&&window.postMessage({type:"ws",payload:t},"*")}catch(e){}},a.onclose=function(e){c&&clearInterval(c),setTimeout(function(){t()},5e3)}}()}catch(e){console.log(e)}var _,O=p(75820),n=function(t){function e(e){var u=t.call(this,e)||this;u.openProjectMenu=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),u.setState({showItem:!u.state.showItem})},u._handleOnResize=function(){var e=u.state,o=e.menu,t=e.hideMenu,s=e.menuTypeDict,n=document.getElementById("topHeaderLogo"),e=n?n.clientWidth:256,n=(document.getElementById("topHeaderProject"),document.getElementById("topHeaderUser")),n=n?n.clientWidth:198,a=window.innerWidth-e-n,r=[];if(a<o.reduce(function(e,t){e=(0,C.jD)(t.name,14)+40+e;return r.push(e),e},56)||t.length)for(var c=r.length-1;0<c;c--)if(r[c]<a){var i=function(){var e=o.slice(0,c+1),t=o.slice(c+1),n=void 0,a=window.location,r=a.search,a=a.pathname,i=s[a+(r||"")],r=t.find(function(e){return e.projectType===i}),r={showMenu:e,hideMenu:t,hideSelectType:r?(n="more",r.projectType):(n=i,"")};return n&&(r.selProjectType=n),u.setState(r),{v:void 0}}();if("object"==typeof i)return i.v}},u.projectSettiing=function(e,t,n){e.nativeEvent.stopImmediatePropagation(),e.stopPropagation(),I.t.set(I.V.backProjectConfig,{name:n,id:t}),f.mW.push("/account/project/preview"),document.body.click()},u.judgePathActive=function(){var e=window.location.pathname,e=e.split("/")&&e.split("/")[1];return["personalSettings","account"].includes(e)};e="MESSAGE";return-1!==location.pathname.indexOf("price")?e="PRICE_MONITORING":-1!==location.pathname.indexOf("collection")&&(e="STORE_PLUGIN"),u.state={inboxMenu:(0,x.sQ)(),project:[],showItem:!1,selProjectType:e,hideSelectType:"",menu:[],showMenu:[],hideMenu:[],selectedProejct:{},menuTypeDict:{}},u}a()(e,t);var n=e.prototype;return n.onDataChange=function(){this.props.onDataChange&&this.props.onDataChange({inboxMenu:this.state.inboxMenu,selProjectItem:this.state.selectedProejct})},n.UNSAFE_componentWillReceiveProps=function(e,t){JSON.stringify(e.menuList)!==this.menuList&&this.getMenu()},n.getMenu=function(){var t,e,n,a,i,o,r,s,c,u,l,p,d,f,h,m,v,y,g=this;this.props.menuList.projects&&(this.menuList=JSON.stringify(this.props.menuList),y=JSON.parse(JSON.stringify(this.props.menuList)),t=y.projects,e=y.dashboards,h=y.folders,v=y.userOpinions,d=y.brandInsightMenus,m=y.questionnaireBoards,y=void 0===(y=y.sceneConfig)?{}:y,n=I.t.get(I.V.curProject).id,a=null,i={},I.t.set(I.V.project,t),n&&t.some(function(e){return e.id===n})?t.forEach(function(e){e.id===n&&(a=e.name,t[0].sel=!1,e.sel=!0,i=e.config||{})}):(t[0].sel=!0,i=t[0].config||{}),!a&&t&&0<t.length&&(n=t[0].id,a=t[0].name),o=[],e.forEach(function(t){t.projectId===n&&(o.push({icon:"SYSTEM_FOLDER"===t.type?"system-folder":"personal-folders",id:t.id,name:t.name,style:"disabled",folderType:t.type,menuType:"folder"}),t.dataDashboardVOList&&t.dataDashboardVOList.forEach(function(e){o.push({id:e.id,name:e.name,folderType:t.type,fatherId:t.id,fatherName:t.name,path:"/dashboard/"+e.id,style:"dark",menuType:"dashboard",childPath:["/dashboard/"+e.id+"/list","/dashboard/"+e.id+"/edit"]})}))}),r=I.t.get(I.V.curProject).id,s=h.filter(function(e){return e.projectId===r}).map(function(e){return{name:e.name,path:"/inbox/folder?id="+e.id,icon:"line",style:"dark",id:e.id,message:0}}),c=v.map(function(e){return{name:e.name,path:"/opinion/"+e.id,icon:"line",style:"dark",projectId:e.projectId}}),h=d&&d[n],u=[],h&&h.length&&(u=h.filter(function(e){return"BRAND_OVERVIEW"===e.parentType}).map(function(e){return{name:e.name,path:"/brand/analyzing?id="+e.id,icon:"line",style:"dark",type:1,target:"_blank"}})),v=m&&m[n],l=[],v&&v.length&&(v.forEach(function(e){return l.push({name:e.name,path:"/research/board/"+("NPS"===e.type?"nps":"satisfaction")+"/"+e.id,icon:"NPS"===e.type?"npsboard":"satisfaction-score",style:"dark"})}),l.unshift({name:"看板",icon:"all-charts",style:"disabled"})),p=(y[r]||[]).map(function(e){return{path:"/explore/scene/"+("SceneUsage"!==e.type?e.type.replace(e.type.slice(0,6),e.type[5].toLowerCase()):"SCENE_USE"===e.id?"use":"SCENE_USE_SCENE"===e.id?"useScene":"SCENE_BUY_DECISION"===e.id?"buyDecision":""),state:{name:e.name},name:e.name,icon:"line",style:"dark"}}),_=(0,x.sQ)().map(function(n){var a,r,e;return(n.authority&&i[n.authority]||n.projectType&&i[n.projectType])&&(n.name=i[n.authority]||i[n.projectType]),n.child&&n.child.forEach(function(e){(e.authority&&i[e.authority]||e.projectType&&i[e.projectType])&&(e.name=i[e.authority]||i[e.projectType])}),"inboxSetting"===n.special&&(s.unshift(n.child.findIndex(function(e){return"personal"===e.special})+1,0),n.child.splice.apply(n.child,s)),"DATA_EXPLORING"===n.special&&(-1<(a=n.child.findIndex(function(e){return"SCENE_MINING"===e.authority}))&&p.forEach(function(e,t){n.child.splice(a+t+1,0,e)}),-1<(r=n.child.findIndex(function(e){return"/opinion"===e.path}))&&c.forEach(function(e,t){n.child.splice(r+t+1,0,e)})),"dashboard"===n.special&&(n.child=o),"brand"===n.special&&(u.unshift(n.child.findIndex(function(e){return"brandOverview"===e.special})+1,0),n.child.splice.apply(n.child,u)),"research"===n.special&&(e=n.child).unshift.apply(e,l),n}),d=t.find(function(e){return e.sel})||t[0],f=d&&d.projectType||[],m=(h=_.filter(function(e){return f.includes(e.projectType)})).reduce(function(t,n){return n.child.forEach(function(e){e.path&&(t[e.path]=n.projectType)}),t},{}),y=(v=window.location).search,y=m[v.pathname+(y||"")],this.setState({inboxMenu:_,project:t,menu:h,selectedProejct:d,menuTypeDict:m,selProjectType:y},function(){g.exchangeProjectIndex(n),g.onDataChange(),g._handleOnResize()}))},n.exchangeProjectIndex=function(t){var e=this.state.project.filter(function(e){return e.id===t})[0];I.t.set(I.V.curProject,e),this.setState({inboxMenu:_})},n.selProject=function(t,n){var a=this,r=this.state.project;r.forEach(function(e){e.sel=!1}),r[n].sel=!0,this.props.fetchPublicData({projectId:t.id}).then(function(){setTimeout(function(){a.exchangeProjectIndex(t.id,t.name),a.setState({project:r,showItem:!a.state.showItem});function e(){window.location.reload()}sessionStorage.setItem(I.V.linkManagementFilter,null);/\/account\/project\//.test(location.pathname)?(I.t.set(I.V.backProjectConfig,r[n]),window.location.href="/account/project/preview"):/\/nps\//.test(location.pathname)?(I.t.set(I.V.backProjectConfig,r[n]),window.location.href="/nps/overview"):t.projectType&&0<t.projectType.length?t.projectType.includes("MESSAGE")?window.location.replace(window.location.origin+"/inbox/public"):t.projectType.includes("PRICE_MONITORING")?window.location.replace(window.location.origin+"/price/realTimePrice"):t.projectType.includes("PLUGIN")?window.location.replace(window.location.origin+"/collection/manage"):e():e(),a.onDataChange(),I.t.set(I.V.storageColumns,"")},100)})},n.componentDidMount=function(){var a=this;g.Z.getUser()||f.mW.push("/login"),this.props.fetchMenuList().then(function(e){a.getMenu()}),window.addEventListener("resize",o()(this._handleOnResize,150)),window.addEventListener("popstate",function(e){var t=window.location,n=t.search,t=t.pathname,n=a.state.menuTypeDict[t+(n||"")];a.setState({selProjectType:n},function(){return a._handleOnResize()})}),window.onclick=function(){a._calledComponentWillUnmount||a.setState({showItem:!1,showMore:!1})},this.refs.logImg.onerror=function(e){a.refs.logImg.src=O}},n.render=function(){var n=this,a=!this.judgePathActive(),e=this.state,r=e.selProjectType,t=e.menu,i=(e.selectedProejct,e.hideMenu),o=e.showMenu,s=(e.project,e.showItem,e.hideSelectType),c="//yunting-1251101074.coscd.myqcloud.com/account_head/"+window.location.hostname+"/128_45.png",e=this.props.fetchingMenuList;return d().createElement("div",{className:"top"},d().createElement("div",{className:"logo",id:"topHeaderLogo"},d().createElement("a",{href:"/inbox/public"},d().createElement("img",{src:g.Z.getUser()&&g.Z.getUser().accountHead?g.Z.getUser().accountHead:c,ref:"logImg",className:"log_img",alt:"logo"}))),d().createElement("div",{className:"menu-first"},d().createElement("ul",{className:"menu-first-wrap"},!e&&d().createElement(d().Fragment,null,(0<i.length?o:t).reduce(function(e,t){return t.child.filter(function(e){return e.path}).length&&e.push(d().createElement("li",{key:t.name,className:"menu-first-item "+(r===t.projectType&&a?"sel":"")},d().createElement("span",null,d().createElement(f.rU,{onClick:function(e){n.setState({selProjectType:t.projectType,hideSelectType:""})},to:t.child.filter(function(e){return e.path&&(!e.authority||g.Z.hasAuthority(e.authority))&&(!e.projectAuthority||(I.t.get(I.V.curProject).submenu||[]).includes(e.projectAuthority))}).length&&t.child.filter(function(e){return e.path&&(!e.authority||g.Z.hasAuthority(e.authority))&&(!e.projectAuthority||(I.t.get(I.V.curProject).submenu||[]).includes(e.projectAuthority))})[0].path},t.name)))),e},[]),!!i.length&&d().createElement("li",{className:"menu-first-item moreNavItem "+("more"===r&&"sel")},d().createElement("span",null,d().createElement("i",{className:"icon-cem_more-more",style:{fontSize:16}})),d().createElement("div",{className:"chooseItem"},d().createElement("ul",{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},i.map(function(e){return d().createElement("li",{className:s===e.projectType?"sel":"",key:e.name,onClick:function(){n.setState({selProjectType:"more",hideSelectType:e.projectType}),f.mW.push(e.child.filter(function(e){return e.path})[0].path)}},d().createElement("span",{title:e.name},d().createElement(f.rU,{to:e.child.filter(function(e){return e.path&&(!e.authority||g.Z.hasAuthority(e.authority))&&(!e.projectAuthority||(I.t.get(I.V.curProject).submenu||[]).includes(e.projectAuthority))}).length&&e.child.filter(function(e){return e.path&&(!e.authority||g.Z.hasAuthority(e.authority))&&(!e.projectAuthority||(I.t.get(I.V.curProject).submenu||[]).includes(e.projectAuthority))})[0].path},e.name)))}))))))),d().createElement(u,l()({},this.props,{selProject:this.selProject})))},e}(d().Component);const j=(0,t.connect)(function(e){var t=e.loading,e=i()(e,["loading"]);return l()({},e[S],{fetchingMenuList:t.effects[S+"/fetchMenuList"]||!1})},function(t){return{fetchMenuList:function(e){return t({type:S+"/fetchMenuList",payload:e})},fetchPublicData:function(e){return t({type:N+"/fetchPublicData",payload:e})}}})(n)},15941:(e,t,n)=>{"use strict";n.d(t,{Rh:()=>l,Zn:()=>p,Mp:()=>d,sQ:()=>u});function a(e){function n(e){var t=JSON.parse(JSON.stringify(e));return t.child=[],e.child.forEach(function(e){(!e.authority||a.includes(e.authority))&&t.child.push(e)}),t}var a=i.Z.getAuthority(),r=[];return e.forEach(function(e,t){(!e.authority||a.includes(e.authority))&&r.push(n(e))}),r}var i=n(61193),r=[{icon:"",name:"个人中心",path:"",child:[{name:"个人资料",path:"/personalSettings/overview",icon:"new-personal-data"},{name:"个人文件夹",path:"/personalSettings/smartFolder",icon:"smart-folder"},{name:"私人消息处理规则",path:"/personalSettings/privateMessageRule",icon:"private-information"},{name:"导出记录",path:"/personalSettings/download",icon:"export-records",authority:"DATA_DOWNLOAD"}]}],o=[{icon:"",name:"企业中心",authority:"MANAGEMENT",path:"",child:[{name:"权益概览",icon:"rights-and-interests",path:"/account/overview",authority:"ACCOUNT_OVERVIEW"}]},{icon:"",name:"账户",authority:"MANAGEMENT",path:"",child:[{name:"用户",icon:"user",path:"/account/user",authority:"USER"},{name:"团队",icon:"team",path:"/account/team",authority:"USER"}]},{icon:"",name:"数据",path:"",child:[{name:"所有项目",icon:"project",path:"/account/project",authority:"PROJECT"}]},{icon:"",name:"安全",path:"",authority:"SAFETY",child:[{name:"角色权限",icon:"user-rights",path:"/account/role",authority:"USER"},{name:"审计日志",icon:"audit-log",path:"/account/auditLog",authority:"SAFETY_AUDIT_LOG"},{name:"操作日志",icon:"historical-records",path:"/account/history",authority:"SAFETY_HISTORY_LOG"},{name:"IP白名单",icon:"white-list",path:"/account/whiteList",authority:"PROJECT"},{name:"登录设置",icon:"login-settings",path:"/account/loginSetting",authority:"SAFETY_LOGIN_SETTING"}]},{icon:"",name:"系统",path:"",child:[{name:"发件箱配置",icon:"outbox-settings",path:"/account/outboxSetting"},{name:"自定义设置",icon:"custom-settings",path:"/account/customSetting"}]}],s=[{icon:"",name:"项目",path:"",child:[{name:"项目概况",icon:"survey",path:"/account/project/preview",type:1},{name:"数据链接",icon:"data-task",style:"disabled",type:1},{name:"电商评论",icon:"dianshangpinglun",authority:"COMMENT",path:"/account/project/comment/subscribe",setLeaveSession:"/account/project/preview",style:"dark",type:1},{name:"电商评论",icon:"dianshangpinglun",authority:"COMMENT",type:2,style:"disabled",showBack:!0},{name:"智能订阅",path:"/account/project/comment/subscribe",authority:"CONNECTION_SMART_COMMENT",icon:"zhinengdingyue1",childPath:["/account/project/comment/subscribe/edit","/account/project/comment/subscribe/link","/account/project/comment/subscribe/linkMaintenance"],type:2,style:"dark"},{name:"链接管理",path:"/account/project/comment/link",authority:"CONNECTION_SMART_COMMENT",icon:"shangpinlianjie",childPath:["/account/project/comment/link/linkMaintenance","/account/project/comment/batchAdd","/account/project/comment/addLink","/account/project/comment/link/batchAdd","/account/project/comment/linkManagement","/account/project/comment/link/linkRecycleBin"],type:2,style:"dark"},{name:"电商监控",icon:"jiankong",path:"/account/project/price/subscribe",childPath:["/account/project/price/subscribe/link"],authority:"PRICE",setLeaveSession:"/account/project/preview",style:"dark",type:1},{name:"电商监控",icon:"jiankong",authority:"PRICE",type:3,style:"disabled",showBack:!0},{name:"智能订阅",path:"/account/project/price/subscribe",icon:"zhinengdingyue1",authority:"CONNECTION_SMART_PRICE",childPath:["/account/project/price/subscribe/linkMaintenance","/account/project/price/subscribe/edit","/account/project/price/subscribe/link"],type:3,style:"dark"},{name:"链接管理",path:"/account/project/price/link",icon:"shangpinlianjie",authority:"CONNECTION_SMART_PRICE",childPath:["/account/project/price/link/linkMaintenance","/account/project/price/link/batchAdd"],type:3,style:"dark"},{name:"问答",icon:"wenda",path:"/account/project/que_ans",style:"dark",childPath:["/account/project/que_ans/edit"],authority:"CONNECTION_QUE_ANS",type:1},{name:"论坛",icon:"luntan",path:"/account/project/bbs",style:"dark",childPath:["/account/project/bbs/edit"],authority:"CONNECTION_BBS",type:1},{name:"自媒体",icon:"zimeiti",path:"/account/project/self",style:"dark",childPath:["/account/project/self/edit"],authority:"CONNECTION_SELF",type:1},{name:"社交媒体",icon:"shejiaomeiti",path:"/account/project/social",style:"dark",childPath:["/account/project/social/edit"],authority:"CONNECTION_SOCIAL",type:1},{name:"新闻媒体",icon:"xinwenmeiti",path:"/account/project/news",style:"dark",childPath:["/account/project/news/edit"],authority:"CONNECTION_NEWS",type:1},{name:"投诉平台",icon:"tousupingtai",path:"/account/project/complaint",style:"dark",childPath:["/account/project/complaint/edit"],authority:"CONNECTION_COMPLAINT",type:1},{name:"视频",icon:"shipin",path:"/account/project/video",style:"dark",childPath:["/account/project/video/edit"],authority:"CONNECTION_VIDEO",type:1},{name:"主题",icon:"theme-management",path:"/account/project/linkTopic",childPath:["/account/project/linkTopic/value"],type:1},{name:"知识库",icon:"words-list",path:"/account/project/base",childPath:["/account/project/base/sku"],authority:"REPOSITORY",type:1},{name:"主题",icon:"theme-management",path:"/account/project/topic",authority:"THEME_COMMENT",type:1},{name:"标签",icon:"label-management",path:"/account/project/tag",type:1},{name:"消息处理规则",icon:"processing-rules",path:"/account/project/messageRule",type:1},{name:"无效消息",icon:"invalid-message",style:"disabled",type:1},{name:"智能识别无效消息",icon:"line",path:"/account/project/uselessMsg/smart",style:"dark",type:1},{name:"自定义无效消息",icon:"line",path:"/account/project/uselessMsg/custom",style:"dark",type:1},{name:"无效词管理",icon:"invalid-words",path:"/account/project/uselessWord",type:1},{name:"指标体系",icon:"index-system",style:"disabled",authority:"ASPECT_TREE_SETTING",type:1},{name:"全局指标",icon:"line",style:"dark",authority:"ASPECT_TREE_SETTING",path:"/account/project/aspectSystem/global",type:1},{name:"指标树",icon:"line",style:"dark",authority:"ASPECT_TREE_SETTING",path:"/account/project/aspectSystem/tree",type:1},{name:"预警管理",icon:"words-list",path:"/account/project/alert",childPath:["/account/project/alert/edit"],type:1},{name:"数据反馈",icon:"shujufankui",path:"/account/project/dataFeedback",type:1}]}],c=[{name:"消息",special:"inboxSetting",projectType:"MESSAGE",child:[{name:"全部消息",path:"/inbox/public",icon:"all-the-news",messageTypeId:"all"},{name:"电商评论",path:"/inbox/commont",style:"dark",icon:"dianshangpinglun",messageTypeId:"1",authority:"MESSAGE_COMMENT"},{name:"问答",path:"/inbox/questions",style:"dark",icon:"wenda",messageTypeId:"2",authority:"MESSAGE_QUE_ANS"},{name:"论坛",path:"/inbox/bbs",style:"dark",icon:"luntan",messageTypeId:"9",authority:"MESSAGE_BBS"},{name:"社交媒体",path:"/inbox/social",style:"dark",icon:"shejiaomeiti",messageTypeId:"11",authority:"MESSAGE_SOCIAL"},{name:"自媒体",path:"/inbox/self",style:"dark",icon:"zimeiti",messageTypeId:"12",authority:"MESSAGE_SELF"},{name:"新闻媒体",path:"/inbox/news",style:"dark",icon:"xinwenmeiti",messageTypeId:"4",authority:"MESSAGE_NEWS"},{name:"投诉平台",path:"/inbox/complaint",style:"dark",icon:"tousupingtai",messageTypeId:"13",authority:"MESSAGE_COMPLAINT"},{name:"视频",path:"/inbox/video",style:"dark",icon:"shipin",messageTypeId:"19",authority:"MESSAGE_VIDEO"},{name:"调查问卷",path:"/inbox/questionnaire",style:"dark",icon:"tiaochawenjuan1",messageTypeId:"17",authority:"MESSAGE_QUESTIONAIRE"},{name:"电商问答",path:"/inbox/question",style:"dark",icon:"dianshang",messageTypeId:"6",authority:"MESSAGE_QUESTION"},{name:"客服会话",path:"/inbox/service",style:"dark",icon:"kefuhuihua",messageTypeId:"8",authority:"MESSAGE_SERVICE"},{name:"私人消息",path:"/inbox/personal",special:"personal",icon:"private-mailbox",message:0,id:""},{name:"归档消息",path:"/inbox/archive",icon:"archival-mailbox"}]},{icon:"expand-more",name:"舆情看板",special:"social",projectType:"SOCIAL_INSIGHT",child:[{name:"舆情概览",path:"/social/overview",icon:"public-sentiment"},{name:"机型分析",icon:"model",style:"disabled"},{name:"机型Top10",path:"/social/models/top10",icon:"line",style:"dark"},{name:"机型对比",path:"/social/models/comparison",icon:"line",style:"dark"},{name:"标签分析",icon:"label-analysis",style:"disabled"},{name:"标签Top30（品牌）",path:"/social/tag/brand/top",icon:"line",style:"dark"},{name:"品牌走势",path:"/social/tag/brand/trend",icon:"line",style:"dark"},{name:"标签Top30（机型）",path:"/social/tag/models/top",icon:"line",style:"dark"},{name:"机型走势",path:"/social/tag/models/trend",icon:"line",style:"dark"}]},{icon:"expand-more",name:"产品洞察",special:"analyze",projectType:"ANALYZE",authority:"ANALYZE",child:[{name:"概览",icon:"data-overview",path:"/product/overview",authority:"ANALYZE_OVERVIEW",projectAuthority:"ANALYZE_OVERVIEW"},{name:"产品分析",icon:"product",path:"/product/analyze",authority:"ANALYZE_PRODUCT",projectAuthority:"ANALYZE_PRODUCT"},{name:"服务分析",icon:"service",path:"/product/service",authority:"ANALYZE_SERVER",projectAuthority:"ANALYZE_SERVER"},{name:"市场分析",icon:"market",path:"/product/marketing",authority:"ANALYZE_MARKETING",projectAuthority:"ANALYZE_MARKETING"},{name:"自主分析",icon:"independent-analysis",path:"/product/selfAnalysis"},{name:"指标趋势",icon:"zhibiaoqushi",path:"/product/aspectTrend",authority:"ASPECT_TREND",projectAuthority:"ASPECT_TREND"},{name:"客户关注",icon:"customer-focus",path:"/product/customer"},{name:"竞品分析",icon:"competitive-product-analysis",path:"/product/compare"},{name:"指标预警",icon:"early-warning",path:"/aspectWarning",childPath:["/aspectWarning/detail"],authority:"ANALYZE"}]},{name:"品牌洞察",special:"brand",projectType:"BRAND_INSIGHT",child:[{name:"品牌总览",icon:"price-chart",path:"/brand/analyze/overview",type:1,special:"brandOverview"},{name:"---概览",icon:"price-chart",type:2,path:"/brand/analyzing",special:"brandDetailOverview"},{name:"传播分析",icon:"price-chart",type:2,style:"disabled",special:"spreadAnalyze"},{name:"互动分析",icon:"line",style:"dark",type:2,path:"/brand/interaction"},{name:"渠道分析",icon:"line",style:"dark",type:2,path:"/brand/channel"},{name:"内容分析",icon:"line",style:"dark",type:2,path:"/brand/content"},{name:"指数分析",icon:"line",style:"dark",type:2,path:"/brand/index"}]},{icon:"expand-more",name:"服务洞察",special:"WAITER_SESSION",projectType:"WAITER_SESSION",child:[{name:"数据概览",path:"/service/overview",icon:"shujugailan1",authority:"CUSTOMER_OVERVIEW"},{name:"关注点分析",path:"/service/concernAnalyze",icon:"guanzhudian",authority:"CUSTOMER_ANALYZE_ASPECT"},{name:"话题分析",path:"/service/gombitAnalyze",icon:"huatifenxi",authority:"SERVICE_TOPIC"},{name:"场景分析",icon:"changjing",style:"disabled",authority:"SERVICE_SCENE"},{name:"单品分析",icon:"danpin",path:"/service/spu",style:"dark",authority:"SERVICE_SCENE_SINGLE"},{name:"商品对比",icon:"shangpinduibi",path:"/service/match",style:"dark",authority:"SERVICE_SCENE_CONTRAST"},{name:"配置",path:"/service/setting",childPath:["/service/setting/edit"],authority:"CUSTOMER_OVERVIEW",style:"hide"}]},{icon:"side-setting-spot",name:"仪表盘",path:"",special:"dashboard",projectType:"DATA_DASHBOARD",authority:"DATA_DASHBOARD",child:[]},{name:"调研",special:"research",projectType:"QUESTIONNAIRE",child:[{name:"问卷管理",icon:"nps-management",path:"/research/manage",childPath:["/research/manage/list","/research/manage/distribute","/research/manage/distribute/edit","/research/manage/analysis"]},{name:"联系人",path:"/research/contact",icon:"contacts"},{path:"/research/setting",icon:"nps-management",childPath:["/research/setting/edit","/research/setting/template","/research/setting?type=sms","/research/setting?type=email"],style:"hide"},{name:"问卷",path:"/research/questions",style:"hide"}]},{icon:"expand-more",name:"运营数据采集",special:"collection",projectType:"STORE_PLUGIN",authority:"STORE_PLUGIN",child:[{name:"店铺管理",icon:"store",path:"/collection/manage"},{name:"数据导出",path:"/collection/export",icon:"export1"}]},{icon:"expand-more",name:"电商监控",special:"priceSetting",projectType:"PRICE_MONITORING",authority:"PRICE_MONITORING",child:[{name:"实时价格",icon:"real-time-price",path:"/price/realTimePrice",childPath:["/price/realTimePrice/priceDetail"],authority:"ANALYZE_PRICE"},{name:"价格分析",icon:"price-analysis",style:"disabled",authority:"ANALYZE_PRICE"},{name:"每日最低价",icon:"line",path:"/priceHistory",authority:"ANALYZE_PRICE",style:"dark"},{name:"价格图表",icon:"line",path:"/priceMonitorChart",authority:"ANALYZE_PRICE",style:"dark"},{name:"价格比较",icon:"line",path:"/priceCompare",authority:"ANALYZE_PRICE",style:"dark"},{name:"价格监控",icon:"early-warning-report",style:"disabled",authority:"ANALYZE_PRICE"},{name:"竞品比价",icon:"line",path:"/priceWarning",childPath:["/priceWarning/add","/priceWarning/weChatPush"],authority:"COMPETITOR_COMPARE_PRICE",style:"dark"},{name:"渠道乱价",icon:"line",path:"/priceChaos",childPath:["/priceChaos/editRule","/priceChaos/screenshot","/priceChaos/pushLog","/priceChaos/ruleList"],authority:"BREAK_BACK_PRICE",style:"dark"},{name:"品牌分析",icon:"brand-analysis",path:"/price/branding",authority:"PRICE_ANALYZE_BRAND"},{name:"产品分析",icon:"product-analysis",path:"/price/product",authority:"PRICE_ANALYZE_PRODUCT"},{name:"SPU分析",icon:"spu1",path:"/price/spu",authority:"PRICE_ANALYZE_PRODUCT"},{name:"店铺分析",icon:"store",path:"/price/shop",authority:"PRICE_ANALYZE_STORE"}]},{name:"市场洞察",special:"marketing",projectType:"MARKET_INSIGHT",authority:"MARKET_INSIGHT",child:[{name:"商品",icon:"commodity",style:"disabled"},{name:"上新监控",icon:"line",path:"/market/newMonitoring",style:"dark"},{name:"爆款发现",icon:"line",path:"/market/hotDiscovery",style:"dark"},{name:"销量分析",icon:"sales-analysis",path:"/market/salesAnalysis"},{name:"品牌分析",icon:"brand-analysis",path:"/market/brandAnalysis"},{name:"型号分析",icon:"model-analysis",path:"/market/modelAnalysis"}]},{name:"数据探索",special:"DATA_EXPLORING",projectType:"DATA_EXPLORING",authority:"DATA_EXPLORING",child:[{name:"自由探索",path:"/explore/free",icon:"survey",authority:"FREE_EXPLORING",projectAuthority:"FREE_EXPLORING",childPath:["/explore/free/result"]},{name:"场景挖掘",icon:"scene",path:"/explore/scene/overview",authority:"SCENE_MINING",projectAuthority:"SCENE_MINING"},{name:"典型意见",icon:"typical-opinions",path:"/explore/opinion",authority:"ANALYZE",projectAuthority:"OPINION",childPath:["/explore/opinion/screen"]}]}],u=function(){return a(c)},l=function(){return a(o)},p=function(){return a(r)},d=function(){return a(s)}},7200:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),o=n.n(t),t=n(87757),s=n.n(t),a=n(36144);function c(){return a.h.get("/menu/list")}function u(e){e=e.project;return a.h.post("message/personal/count",{filterModel:{project:e}})}function l(e){var t=e.type,e=e.ids;return a.h.post("/dashboard/folder/move",{type:t,ids:e})}var p=n(35239),d=n(64396).Z.public.menu;const r={namespace:d,state:{shrinkMenu:p.t.get(p.V.shrink)||!1,menuList:{},personalMessageCount:[],aspectWarningCount:null},effects:{fetchMenuList:s().mark(function e(t,n){var a,r,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,e.next=3,a(c);case 3:return i=e.sent,i=i.data.result,e.next=7,r({type:"save",payload:{menuList:i}});case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}},e)}),changePictureURLDispatch:s().mark(function e(t,n){var a,r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.select,a=n.put,e.next=3,r(function(e){return o()({},e)[d]});case 3:return r=e.sent,r=r.menuList,e.next=7,a({type:"changePictureURL",payload:{menuList:r}});case 7:case"end":return e.stop()}},e)}),sortDashboardMenu:s().mark(function e(t,n){var a,r,i,o;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,a=n.call,r=n.put,i=o.type,o=o.ids,e.next=5,a(l,{type:i,ids:o});case 5:if(o=e.sent,o.data.result)return e.next=10,r({type:"fetchMenuList"});e.next=10;break;case 10:case"end":return e.stop()}},e)}),fetchPersonalCount:s().mark(function e(t,n){var a,r,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,e.next=3,a(u,{project:[p.t.get(p.V.curProject).id]});case 3:return i=e.sent,i=i.data.result,e.next=7,r({type:"save",payload:{personalMessageCount:i}});case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}},e)}),changeShrink:s().mark(function e(t,n){var a,r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.select,e.next=3,r(function(e){return o()({},e)[d]});case 3:return r=e.sent,r=r.shrinkMenu,e.next=7,a({type:"save",payload:{shrinkMenu:!r}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}),setAspectWarningCount:s().mark(function e(t,n){var a,r,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,i=n.select,e.next=4,i(function(e){return o()({},e)[d]});case 4:return i=e.sent,i=i.aspectWarningCount,i=i||0,i+=a.count,e.next=10,r({type:"save",payload:{aspectWarningCount:i}});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return o()({},e,t)},changePictureURL:function(e,t){var n=t.payload,t=n.menuList.projects;return n.menuList.projects=t.map(function(e){return e.pictureUrl=e.pictureUrl?e.pictureUrl+"?_"+(new Date).getTime():"",e}),o()({},e,n)}}}},953:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});n(75314);var f=n(11187),t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),s=n(36144);function r(){return s.h.get("/wechat/get-login-url",{params:{}})}function i(e){e=e.token;return s.h.get("/wechat/login-check",{params:{token:e}})}function o(e){e=e.email;return s.h.post("/settings/send-pwd-check-code",{email:e})}function c(e){e=e.host;return s.h.post("/account/slogan",{host:e})}function v(e){var t=e.username,n=e.password,a=e.openId,r=e.token,i=e.accessToken,o=e.source,e=new FormData;return e.append("username",t),n&&e.append("password",n),t&&n&&e.append("_lv","2"),a&&e.append("openId",a),r&&e.append("token",r),i&&e.append("access_token",i),o&&e.append("source",o),s.h.post("/login",e)}function y(){return s.h.get("/authority")}function g(){return s.h.post("/projects/list")}var x=n(62887),b=n(61409),T=n(35239),I=n(61193),w=n(5133),E=n(64396),t=n(74865),k=n.n(t),C=E.Z.userLogin,a={openId:void 0,token:"",wechatUrl:"",email:"",visible:!1,slogan:"",loginStatus:""};const u={namespace:C,state:a,reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clean:function(e,t){t.payload;return Object.assign({},a)}},effects:{getQrcode:m().mark(function e(t,n){var a;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,n.put,e.prev=1,e.next=4,a(r);case 4:if(a=e.sent,2e4===(a=a.data).code)return e.abrupt("return",a);e.next=8;break;case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f.default.error(e.t0.data.msg);case 13:case"end":return e.stop()}},e,null,[[1,10]])}),loginCheck:m().mark(function e(t,n){var a,r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,e.next=4,a(i,h()({},r));case 4:return r=e.sent,r=r.data,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}),login:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.put,o=n.select,s=n.take,e.next=4,o(function(e){return h()({},e)[C]});case 4:return u=e.sent,c=u.openId,(u=a.needNprogress)&&(k().configure({showSpinner:!1}),k().start()),e.next=10,i({type:"save",payload:{loginStatus:"请求用户登录中，请稍等..."}});case 10:return e.prev=10,e.next=13,r(v,h()({},a));case 13:if(2e4!==(l=e.sent).data.code){e.next=48;break}if(l.data.result.bindOther&&"1"===l.data.result.bindOther)return b.mW.replace({pathname:"/binded",state:{data:l,email:a.username}}),e.abrupt("return");e.next=18;break;case 18:return(0,x.a$)(l),e.next=21,i({type:"save",payload:{loginStatus:"获取用户权限中，请稍等..."}});case 21:return e.next=23,r(y);case 23:return p=e.sent,p=p.data,I.Z.setAuthority(Array.from(new Set(p.result))),e.next=28,i({type:"save",payload:{loginStatus:"获取项目列表中，请稍等..."}});case 28:return e.next=30,r(g);case 30:if(p=e.sent,p=p.data,T.t.set(T.V.project,p.result.list.map(function(e){return{id:e.id,name:e.name,projectType:e.projectType}})),T.t.get(T.V.curProject)?d=T.t.get(T.V.curProject):T.t.get(T.V.project)&&T.t.get(T.V.project)[0]?(d=T.t.get(T.V.project)[0],T.t.set(T.V.curProject,T.t.get(T.V.project)[0])):d=null,d)return e.next=37,i({type:"save",payload:{loginStatus:"获取项目资源中，请稍等..."}});e.next=45;break;case 37:return e.next=39,i({type:E.Z.global+"/fetchPublicData",payload:{projectId:T.t.get(T.V.curProject).id}});case 39:return e.next=41,s(E.Z.global+"/fetchPublicData/@@end");case 41:u&&k().done(),d.projectType&&d.projectType.length&&!d.projectType.includes("MESSAGE")?d.projectType.includes("PRICE_MONITORING")?b.mW.replace("/price/realTimePrice"):d.projectType.includes("STORE_PLUGIN")&&b.mW.replace("/collection/manage"):b.mW.replace("/inbox/public"),e.next=48;break;case 45:w.Z.warning("请先添加至少一个项目！"),b.mW.replace("/account/project"),document.querySelector(".create-btn-wrap .el-button").click();case 48:e.next=62;break;case 50:if(e.prev=50,e.t0=e.catch(10),50107!==e.t0.data.code){e.next=56;break}b.mW.replace({pathname:"/checkcode",state:{openId:c&&c,username:a.username,password:a.password}}),e.next=62;break;case 56:if(50106===e.t0.data.code)return e.next=59,i({type:"save",payload:{visible:!0,email:a.username}});e.next=61;break;case 59:e.next=62;break;case 61:f.default.error(e.t0.data.msg);case 62:case"end":return e.stop()}},e,null,[[10,50]])}),getCheckCode:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.call,i=n.select,e.next=4,i(function(e){return h()({},e)[C]});case 4:return i=e.sent,i=i.email,e.next=8,r(o,{email:a.email||i});case 8:case"end":return e.stop()}},e)}),getSlogan:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,a=n.call,r=n.put,e.next=4,a(c,h()({},i));case 4:if(i=e.sent,2e4===(i=i.data).code)return e.next=9,r({type:"save",payload:{slogan:i.result.slogan}});e.next=9;break;case 9:case"end":return e.stop()}},e)})}}},62887:(e,t,n)=>{"use strict";n.d(t,{U:()=>f,Qo:()=>function(e){e=u.enc.Utf8.parse(e);return u.AES.encrypt(e,l,{mode:u.mode.ECB,padding:u.pad.Pkcs7}).toString()},wr:()=>d,a$:()=>p});var a=n(61193),r=n(5133),i=n(61409),o=n(36144),s=(n(70300),n(35239)),c=void 0,u=n(81354),l=u.enc.Utf8.parse("(%^8Hd$&^6f9H)k!");var p=function(e){e=e.data.result;e.url=window.location.origin,e.accountHead="//yunting-1251101074.coscd.myqcloud.com/account_head/"+window.location.hostname+"/128_45.png?_="+(new Date).getTime(),e.accountLogo="//yunting-1251101074.coscd.myqcloud.com/account_logo/"+window.location.hostname+"/130_130.png?_="+(new Date).getTime(),e.userHeadUrl&&(e.headPic=e.userHeadUrl+"?_="+(new Date).getTime()),a.Z.register(e)},d=function(e){e=e.data.result;e.line="ON"===e.line,e.url=window.location.origin,e.accountHead="//yunting-1251101074.coscd.myqcloud.com/account_head/"+window.location.hostname+"/128_45.png?_="+(new Date).getTime(),e.accountLogo="//yunting-1251101074.coscd.myqcloud.com/account_logo/"+window.location.hostname+"/130_130.png?_="+(new Date).getTime(),e.userHeadUrl&&(e.headPic=e.userHeadUrl+"?_="+(new Date).getTime()),a.Z.register(e),o.h.get("/authority").then(function(e){e=e.data;if(2e4!==e.code)return c.setState({error:e.msg}),null;a.Z.setAuthority(Array.from(new Set(e.result))),o.h.post("/projects/list",{}).then(function(e){var t,e=e.data;if(2e4!==e.code)return c.setState({error:e.msg}),null;s.t.set(s.V.project,e.result.list.map(function(e){return{id:e.id,name:e.name,projectType:e.projectType}})),s.t.get(s.V.curProject)?t=s.t.get(s.V.curProject):s.t.get(s.V.project)&&s.t.get(s.V.project)[0]?(t=s.t.get(s.V.project)[0],s.t.set(s.V.curProject,s.t.get(s.V.project)[0])):t=null,t?i.mW.replace("/personalSettings/overview"):(r.Z.warning("请先添加至少一个项目！"),i.mW.replace("/account/project"),document.querySelector(".create-btn-wrap .el-button").click())})})},f=[{word:"云听CEM，让客户爱上你的品牌",img:n(65810)},{word:"云听CEM，体验驱动品牌增长",img:n(10964)},{word:"全渠道，全触点，全旅程提升客户体验",img:n(85376)},{word:"打造体验闭环管理、360度提升客户体验",img:n(62336)},{word:"降低企业运营成本，提升团队效率<br />促进品牌营收增长",img:n(75914)},{word:"体验管理是企业软件的终极形态",img:n(37787)}]},5133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var t=n(75314),a=n(11187);const r={error:function(e,t){return a.default.error({className:"yt-error-message",duration:t=void 0===t?3:t,content:e})},success:function(e,t){return a.default.success({className:"yt-success-message",duration:t=void 0===t?3:t,content:e})},warning:function(e,t){return a.default.warning({className:"yt-warning-message",duration:t=void 0===t?3:t,content:e})},info:function(e,t){return a.default.info({className:"yt-info-message",duration:t=void 0===t?3:t,content:e})}}},57522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var t=n(67154),I=n.n(t),t=n(67294),w=n.n(t),t=n(73935),o=n.n(t),t=n(45697),t=n.n(t),E=n(43036),k=n(92360),n=function(e){function t(e){i(I()({},e,b,{confirmRun:void 0})),m()}var n=e.dialogType,a=e.titleText,r=e.titleHelp,i=e.onOk,o=e.onCancel,s=e.cancelText,c=void 0===s?"取消":s,u=e.okText,l=void 0===u?"确定":u,p=e.content,d=e.showClose,f=void 0===d||d,h=e.test,m=e.onDismiss,v=e.top,y=void 0===v?"30%":v,g=e.noFoot,x=e.className,s=e.count,u=e.category,d=w().useState({}),b=d[0],v=d[1],e=w().useState(!1),d=e[0],T=e[1],v="string"==typeof p?w().createElement("div",{className:"simple_content"},p):w().cloneElement(p,{setParams:v});return w().createElement("section",{className:"yt_modal_background_wrapper "+x},w().createElement("div",{className:"yt_modal_dialog_wrapper",style:{top:y}},w().createElement(k.Loading,{loading:d},w().createElement("div",{className:"dialog_title"},w().createElement("span",null,w().createElement("span",{className:"title_text "+n},a),r&&w().createElement(E.Z,{placement:"top",overlay:r,overlayClassName:"alert-log-tips"},w().createElement("i",{className:"icon-cem_file1",style:{marginLeft:4,color:"#8C8C8C"}}))),f&&w().createElement("span",{className:"title_close",onClick:m},w().createElement("i",{className:"icon-cem_cancel"}))),w().createElement("div",{className:"dialog_content"},v),!g&&w().createElement("div",{className:"dialog_footer "+(u?"explore_footer":"")},u&&w().createElement("span",{className:"dialog_tip"},"* 还可以保存",50-(s||0),"个",u),o&&w().createElement(k.Button,{onClick:function(){o(),m()}},c),w().createElement(k.Button,{type:"primary",onClick:function(){var e;b.confirmRun?T(b.confirmRun(t)):h?typeof(e=h())===Boolean?(e&&i(b),e&&m()):e.then(function(){i(b),m()}).catch(function(){}):(i(b),m())}},l)))))};const a=n;n.propTypes={titleText:t().string,dialogType:t().oneOf(["success, wraning, danger"]),titleHelp:t().string,onCancel:t().func,cancelText:t().string,onOk:t().func,onDismiss:t().func,okText:t().string,content:t().oneOfType([t().string,t().node]),showClose:t().bool,noFoot:t().bool,className:t().string};const r=function(r){var i=document.createElement("div");document.body.appendChild(i);var e=I()({},r);function t(){o().unmountComponentAtNode(i)&&i.parentElement&&i.parentNode.removeChild(i);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.some(function(e){return e&&e.triggerCancel});r.onCancel&&a&&r.onCancel.apply(r,t)}e=e,o().render(w().createElement(a,I()({},e,{onDismiss:t})),i)}},25713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var t=n(43378),p=n(62443),t=n(85354),a=n.n(t),t=n(67294),d=n.n(t),t=n(45697),t=n.n(t),r=n(97189),f=[{title:"导出图片",type:"image"},{title:"导出数据",type:"data"}],n=function(t){function e(e){var n=t.call(this,e)||this;return n._setPadShowFalse=function(){n.state.show&&n.setState({show:!1})},n._handleOnClick=function(e){var t=n.state.show;t&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),setTimeout(function(){n.setState({show:!t})},0)},n._handleMouseEnter=function(e){0===e&&(0,r.addClass)(n.panel,"padHover")},n._handleMouseLeave=function(e){0===e&&(0,r.removeClass)(n.panel,"padHover")},n.state={show:!1},n}a()(e,t);var n=e.prototype;return n.componentDidMount=function(){window.addEventListener("click",this._setPadShowFalse)},n.componentWillUnmount=function(){window.removeEventListener("click",this._setPadShowFalse)},n.render=function(){var n=this,e=this.state.show,t=this.props,a=t.onClick,r=t.options,i=void 0===r?f:r,o=t.isIgnore,s=t.disabled,c=t.disableType,u=t.panelOverlay,l=t.popoverOption,r=t.data,t=t.newColor;return d().createElement(d().Fragment,null,"open"===l?d().createElement(d().Fragment,null,d().createElement("div",{className:"analysis-chart-header-more-button-wrapper"},d().createElement(p.default,{content:"导出数据",placement:"top",mouseEnterDelay:.2},d().createElement("i",{style:{color:"empty"===r?"#bfbfbf":"#8c8c8c"},className:"icon-daochu icon_type "+("empty"===r?"button_content_disable":""),onClick:function(){return a("data")}})),d().createElement(p.default,{content:"导出图片",placement:"top",mouseEnterDelay:.2},d().createElement("i",{style:{color:"empty"===r?"#bfbfbf":"#8c8c8c"},className:"icon-xiazaitupian icon_type "+("empty"===r?"button_content_disable":""),onClick:function(){return a("image")}})))):d().createElement("div",{className:"analysis-chart-header-more-button-wrapper",onClick:this._handleOnClick,"data-html2canvas-ignore":o&&o},d().createElement("span",{className:"button-trigger"},d().createElement("i",{className:"icon-cem_new-more",style:{color:e?t?"#7262FD":"#093b88":"#8c8c8c"}})),d().createElement("div",{ref:function(e){return n.panel=e},className:"button-panel "+(e?"active":"")},Object.values(i).map(function(e,t){return d().createElement("div",{key:e.type,style:{cursor:s&&c.includes(e.type)?"not-allowed":"pointer"},title:s&&c.includes(e.type)&&u},d().createElement("div",{className:"panel-item "+(s&&c.includes(e.type)&&"panel-item-disabled"),onMouseEnter:function(){return n._handleMouseEnter(t)},onMouseLeave:function(){return n._handleMouseLeave(t)},onClick:function(){return a(e.type)},style:{pointerEvents:s&&c.includes(e.type)?"none":"auto"}},e.title))}))))},e}(d().Component);n.propTypes={onClick:t().func.isRequired,options:t().array,isIgnore:t().bool,disabled:t().bool,disableType:t().array,panelOverlay:t().panelOverlay,showType:t().string,data:t().array,newColor:t().bool};const i=n},53754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(67154),v=n.n(a),t=n(85354),r=n.n(t),y=n(67294),g=n.n(y),x=n(92360),a=n(45697),t=n.n(a),a=n(94184),b=n.n(a),i=function(t){function e(e){var a=t.call(this,e)||this;return a.togglePanel=function(e){var t=a.state,n=t.panelShow;t.value,t.filteredOptions;n&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),setTimeout(function(){return a.setState({panelShow:!n})},0)},a.handleClear=function(){a.setState({tempValue:[]},function(){return a.handleCheckAllStatus()})},a.handleCheckAllStatus=function(){var e=a.state,t=e.tempValue,e=e.filteredOptions;a.setState({allChecked:0<t.length&&t.length===e.length,indeterminate:0<t.length&&t.length<e.length})},a.handleConfirm=function(){var e=a.state.tempValue;a.setState({value:JSON.parse(JSON.stringify(e)),panelShow:!1}),a.props.onChange(e)},a.handleCancel=function(){var e=a.state,t=e.value,e=e.filteredOptions;a.setState({tempValue:JSON.parse(JSON.stringify(t)),panelShow:!1,allChecked:t&&0<t.length&&t.length===e.length,indeterminate:t&&0<t.length&&t.length<e.length},function(){return a.handleClearInput()})},a.handleReset=function(){a.setState({tempValue:[],value:[],panelShow:!1,searchText:""},function(){return a.handleCheckAllStatus()})},a.handleFilter=function(t){var e,n=a.state.options;0<t.trim().length?(e=n.filter(function(e){return e.name.toUpperCase().includes(t.toUpperCase())}),a.setState({searchText:t,filteredOptions:e})):a.setState({filteredOptions:n,searchText:t})},a.handleClearInput=function(){var e=a.state,t=e.searchText,e=e.options;0<t.length&&a.setState({searchText:"",filteredOptions:e},function(){return a.handleCheckAllStatus()})},a.state={type:e.type||2,title:e.title||"",options:[],filteredOptions:[],tempValue:e.defaultValue||[],value:e.defaultValue||[],maxLength:e.maxLength||0,indeterminate:!1,allChecked:!1,panelShow:!1,searchText:"",placeholder:e.placeholder||"请输入搜索关键词",showClearBtn:e.showClearBtn||!1},a}r()(e,t);var n=e.prototype;return n.componentDidMount=function(){window.addEventListener("click",this.handleCancel)},e.getDerivedStateFromProps=function(e,t){var n=e.type,a=e.title,r=e.options,e=e.value;return n!==t.type?{type:n}:a!==t.title?{title:a}:JSON.stringify(r)!==JSON.stringify(t.options)?{options:r||[],filteredOptions:r||[]}:Array.isArray(e)&&JSON.stringify(e)!==JSON.stringify(t.value)?{value:e||[],tempValue:e||[],allChecked:e&&0<e.length&&e.length===t.filteredOptions.length,indeterminate:e&&0<e.length&&e.length<t.filteredOptions.length}:null},n.componentWillUnmount=function(){window.removeEventListener("click",this.handleCancel)},n.handleCheckAll=function(){var e=this,t=this.state,n=t.tempValue,t=t.filteredOptions;this.setState({tempValue:n.length===t.length?[]:t.map(function(e){return e.id})},function(){return e.handleCheckAllStatus()})},n.handleCheckOne=function(e){var t=this,n=this.state,a=n.tempValue,n=n.maxLength;(0<n&&(a.length>=n&&a.includes(e)||a.length<n)||0===n)&&(-1<(n=a.indexOf(e))?a.splice(n,1):a.push(e),this.setState({tempValue:a},function(){return t.handleCheckAllStatus()}))},n.render=function(){var n=this,e=this.state,t=e.type,a=e.title,r=e.options,i=e.filteredOptions,o=e.indeterminate,s=e.allChecked,c=e.panelShow,u=e.tempValue,l=e.value,p=e.maxLength,d=e.style,f=e.searchText,h=0<r.length?r.filter(function(e){return l.includes(e.id)}).map(function(e){return e.name}):[],e=b()({"multi-select-wrapper":!0,whiteBg:1===t,sel:c}),t=t&&1===t?"请选择":"全部",m=this.props.note;return g().createElement("div",{className:e,style:v()({backgroundColor:c?"rgb(97,121,155)":""},d),onClick:this.togglePanel},g().createElement("span",null,a&&a+"："),g().createElement("span",{className:"currValue",title:0<h.length?h.length===r.length?"全部":h.join("，"):t},0<h.length?h.length===r.length?"全部":h.join("，"):t),g().createElement("i",{className:"icon-cem_arrow-launches",style:{transform:c?"rotate(-180deg)":"",top:c?"-2px":"3px"}}),g().createElement("div",{className:"multi-select-panel",style:{display:c?"block":"none"},onClick:function(e){return e.stopPropagation()}},g().createElement("div",{className:"multi-select-header"},g().createElement(x.Input,{ref:function(e){return n.input=e},value:f,onChange:this.handleFilter,placeholder:this.state.placeholder,icon:0<f.length?"close":"search",onIconClick:this.handleClearInput})),g().createElement("ul",{className:"multi-select-panel-body"},0<i.length?g().createElement(y.Fragment,null,0===p&&g().createElement("li",{className:"all_check",onClick:function(){return n.handleCheckAll()}},g().createElement("div",{className:"all_select"},g().createElement(x.Checkbox,{checked:s,indeterminate:o,onChange:function(){return n.handleCheckAll()}}),g().createElement("label",null,"全选"))),i.slice(0,100).map(function(e,t){return g().createElement("li",{key:t,className:0<p&&u.length>=p&&!u.includes(e.id)?"disabled":"",onClick:function(){return n.handleCheckOne(e.id)},style:{minHeight:m?"50px":"36px"}},g().createElement(x.Checkbox,{disabled:0<p&&u.length>=p&&!u.includes(e.id),checked:u.includes(e.id),value:e.id,onChange:function(){return n.handleCheckOne(e.id)}}),g().createElement("label",{title:e.name},e.name),m&&g().createElement("p",{className:"note"},m(e)))}),99<i.length&&g().createElement("li",{className:"no_data",style:{color:"#d96969",paddingLeft:"18px",fontSize:"12px"}},"— 查看更多请搜索")):g().createElement("li",{className:"no_data"},"暂无数据")),g().createElement("div",{className:"multi-select-panel-footer"},this.state.showClearBtn&&g().createElement("div",{className:"clearBtn",onClick:this.handleClear},"清除"),g().createElement(x.Button,{onClick:this.handleCancel},"取消"),g().createElement(x.Button,{type:"primary",onClick:this.handleConfirm},"确认"))))},e}(y.Component);i.propTypes={type:t().number,title:t().string.isRequired,options:t().arrayOf(t().shape({id:t().oneOfType([t().string,t().number]),name:t().string})),defaultValue:t().arrayOf(t().string),value:t().arrayOf(t().string),maxLength:t().number,onChange:t().func.isRequired,style:t().object,note:t().func,placeholder:t().string,showClearBtn:t().bool}},66130:(e,t,n)=>{"use strict";n.d(t,{M:()=>h,S:()=>b});var a=n(67154),c=n.n(a),r=n(85354),i=n.n(r),t=n(67294),u=n.n(t),a=n(45697),r=n.n(a),s=n(91751),a=n(98619),l=n.n(a),a=n(82784),p=n.n(a),a=n(30381),o=n.n(a),d=(n(83839),"YYYY-MM-DD");function f(e){if(!e)return!1;var t=o()();return e.valueOf()>t.valueOf()}a=function(t){function e(e){var n=t.call(this,e)||this;return n.onChange=function(e){n.setState({value:e},function(){n.props.getDateRange(e)})},n.onOpenChange=function(e){n.state.disabled||n.setState({open:e})},n.onFocus=function(){!n.state.open&&n.state.isMouseDown?n.setState({isMouseDown:!1}):n.setState({open:!0})},n.onMouseEnter=function(){var e=n.state,t=e.value,e=e.disabled;t&&!e&&n.setState({clearable:!0})},n.onMouseDown=function(){n.setState({isMouseDown:!0})},n.clearValue=function(){n.setState({value:null}),n.props.getDateRange("")},n.state={showDateInput:!0,disabled:e.disabled||!1,open:!1,value:e.defaultValue||o()(),clearable:!1},n}i()(e,t);var n=e.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.disabled,a=t.disabledDate,t=t.defaultValue;JSON.stringify(t)!==JSON.stringify(e.defaultValue)&&this.setState({value:e.defaultValue}),JSON.stringify(a)!==JSON.stringify(e.disabledDate)&&this.setState({disabledDate:e.disabledDate}),n!==e.disabled&&this.setState({disabled:e.disabled})},n.render=function(){var t=this,e=this.state,n=e.showDateInput,a=e.value,r=e.open,i=e.disabled,o=e.clearable,e={showDateInput:!0,locale:p(),showOk:!1,showToday:!1,format:d,renderFooter:function(){return null}},n=u().createElement(s.Z,c()({},e,{dateInputPlaceholder:"请选择日期",showDateInput:n,disabledDate:this.props.disabledDate||f,focusablePanel:!1}));return u().createElement(l(),{animation:"slide-up",calendar:n,value:a,onChange:this.onChange,onOpenChange:this.onOpenChange,open:r,style:{zIndex:1014}},function(e){e=e.value;return u().createElement("span",{className:"ant-calendar-picker ant-calendar-picker-default",tabIndex:"0",onMouseDown:t.onMouseDown,onFocus:t.onFocus,onMouseEnter:t.onMouseEnter,onMouseLeave:function(){return t.setState({clearable:!1})}},u().createElement("div",null,u().createElement("input",{placeholder:"请选择日期",disabled:i,readOnly:!0,tabIndex:"-1",className:i?"ant-calendar-picker-input ant-input disabled":"ant-calendar-picker-input ant-input",value:e&&e.format(d)||""}),u().createElement("i",{className:"icon-cem_time-controller .ant-calendar-picker-icon",style:{visibility:o?"hidden":"visible"}}),u().createElement("i",{className:"icon-cem_close-window .ant-calendar-picker-icon",style:{visibility:o?"visible":"hidden"},onClick:function(e){i||(e.stopPropagation(),t.clearValue())}})))})},e}(u().Component);a.propTypes={defaultValue:r().object,getDateRange:r().func.isRequired,disabledDate:r().func,disabled:r().bool};const h=a;var a=n(59108),m=n.n(a),v="YYYY-MM-DD";function y(e){return e?e.format(v):""}function g(e){return e&&e[0]&&e[1]}function x(e){return!!e&&o()().valueOf()<e.valueOf()}var b=function(n){function e(e){var t=n.call(this,e)||this;return t.onChange=function(e){t.setState({value:e});e=e.map(y);t.props.getDateRange(e)},t.onHoverChange=function(e){t.setState({hoverValue:e})},t.onFocus=function(){!t.state.open&&t.state.isMouseDown?t.setState({isMouseDown:!1}):t.setState({open:!0})},t.onMouseDown=function(){t.setState({isMouseDown:!0})},t.onMouserEnter=function(){g(t.state.value)&&t.setState({clearable:!0})},t.clearValue=function(){t.setState({value:[]}),t.props.getDateRange(["",""])},t.state={disabled:!1,showDateInput:!1,value:e.defaultValue||[],hoverValue:[],clearable:!1},t}return i()(e,n),e.prototype.render=function(){var t=this,e=this.state,n=e.value,a=e.hoverValue,r=e.clearable,i=e.disabled,o=e.defaultValue,e={showDateInput:!1,locale:p(),showOk:!1,showToday:!1,format:v,renderFooter:function(){return null}},o=u().createElement(m(),c()({},e,{hoverValue:a,onHoverChange:this.onHoverChange,dateInputPlaceholder:["开始日期","结束日期"],defaultValue:o,disabledDate:x})),s=g(n);return u().createElement(l(),{animation:"slide-up",calendar:o,value:n,onChange:this.onChange},function(e){e=e.value;return u().createElement("span",{tabIndex:"0",className:"ant-calendar-picker",onMouseDown:t.onMouseDown,onFocus:t.onFocus},u().createElement("span",{className:"ant-calendar-picker-input ant-input",onMouseEnter:t.onMouserEnter,onMouseLeave:function(){t.setState({clearable:!1})}},u().createElement("input",{placeholder:"开始日期",style:{width:130},disabled:i,readOnly:!0,tabIndex:"-1",className:"ant-calendar-range-picker-input",value:s&&""+y(e[0])||""}),u().createElement("span",null,"至"),u().createElement("input",{placeholder:"结束日期",style:{width:130},disabled:i,readOnly:!0,tabIndex:"-1",className:"ant-calendar-range-picker-input",value:s&&""+y(e[1])||""}),u().createElement("i",{className:"icon-cem_time-controller",style:{visibility:s?"hidden":"visible"}}),u().createElement("i",{className:"icon-cem_close-window",style:{visibility:r?"visible":"hidden"},onClick:function(e){e.stopPropagation(),t.clearValue()}})))})},e}(t.Component);b.propTypes={defaultValue:r().array,getDateRange:r().func.isRequired,disabledDate:r().func,disabled:r().bool}},43036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var t=n(15086),a=n(94055),t=n(67154),r=n.n(t),t=n(37316),i=n.n(t),t=n(67294),o=n.n(t),t=o().forwardRef(function(e,t){var n=e,e=n.children,n=i()(n,["children"]);return o().createElement(a.default,r()({ref:t,arrowContent:o().createElement("div",{className:"rc-tooltip-arrow-inner"})},n),e)});t.defaultProps={destroyTooltipOnHide:!1};const s=o().memo(t)},63023:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var t=n(67154),p=n.n(t),t=n(87757),d=n.n(t),t=n(48926),a=n.n(t),u=n(36144);function f(e){return r.apply(this,arguments)}function r(){return(r=a()(d().mark(function e(t){var n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",u.h.post("/subproject-connection/warning/find",{projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function i(e){return o.apply(this,arguments)}function o(){return(o=a()(d().mark(function e(t){var n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",u.h.post("/filter/find",{type:"INBOX",filterTypes:["USER","TEAM"],projectId:n}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return(s=a()(d().mark(function e(t){var n,a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.weekDay,a=t.time,r=t.pushType,i=t.projectId,o=t.subscribeUser,s=t.subscribeTeam,e.abrupt("return",u.h.post("/subproject-connection/warning/add",{weekDay:n,time:a,pushType:r,projectId:i,subscribeUser:o,subscribeTeam:s}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e){return h.apply(this,arguments)}function h(){return(h=a()(d().mark(function e(t){var n,a,r,i,o,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.weekDay,a=t.time,r=t.pushType,i=t.projectId,o=t.subscribeUser,s=t.subscribeTeam,c=t.id,e.abrupt("return",u.h.post("/subproject-connection/warning/update",{weekDay:n,time:a,pushType:r,projectId:i,subscribeUser:o,subscribeTeam:s,id:c}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var m=n(35239),v=n(64396).Z.pushRule,y={projectId:null,visible:!1,formPush:{pushType:"weixin",weekDay:"1,2,3,4,5",time:"",subscribeTeam:[],subscribeUser:[]},teamList:[],userList:[],hasChange:!1,id:null};const g={namespace:v,state:JSON.parse(JSON.stringify(y)),reducers:{visibleChange:function(e,t){t=t.payload;return p()({},e,{visible:t})},save:function(e,t){t=t.payload;return p()({},e,t)}},effects:{fetchUserList:d().mark(function e(t,n){var a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,r=n.call,e.next=3,r(i,{projectId:m.t.get(m.V.curProject).id});case 3:return r=e.sent,e.next=6,a({type:"save",payload:{teamList:r.data.result.team,userList:r.data.result.user}});case 6:case"end":return e.stop()}},e)}),getDetail:d().mark(function e(t,o){var s,c,u,l;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=o.put,c=o.call,u=o.select,e.next=3,u(function(e){return e[v]});case 3:return l=e.sent,l=l.projectId,e.next=7,c(f,{projectId:l});case 7:if(l=e.sent,l=l.data.result)return e.next=12,s({type:"save",payload:p()({},(t=l.data||{},i=r=a=n=void 0,n=t.pushType,a=t.weekDay,r=t.time,i=t.subscribeTeam,t=t.subscribeUser,{formPush:{pushType:void 0===n?"weixin":n,weekDay:void 0===a?"1,2,3,4,5":a,time:void 0===r?"08:00":r,subscribeTeam:void 0===i?[]:i,subscribeUser:void 0===t?[]:t}}),{id:l.data&&l.data.id})});e.next=12;break;case 12:case"end":return e.stop()}var t,n,a,r,i},e)}),formPushChange:d().mark(function e(t,n){var a,r,i;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,n.call,i=n.select,e.next=4,i(function(e){return e[v]});case 4:return i=e.sent,(i=i.formPush)[a.key]=a.value,e.next=9,r({type:"save",payload:{formPush:JSON.parse(JSON.stringify(i))}});case 9:case"end":return e.stop()}},e)}),comfirm:d().mark(function e(t,n){var a,r,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,r=n.call,i=n.select,e.next=4,i(function(e){return e[v]});case 4:return o=e.sent,i=o.formPush,o=o.id,e.next=9,r(o?l:c,p()({projectId:m.t.get(m.V.curProject).id,id:o},i));case 9:return s=e.sent,s=s.data.result,e.next=13,a({type:"save",payload:{id:o||s&&s.data&&s.data.id}});case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}},e)}),clear:d().mark(function e(t,n){var a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.call,n.select,e.next=4,a({type:"save",payload:p()({},JSON.parse(JSON.stringify(y)))});case 4:case"end":return e.stop()}},e)})}}},31799:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var t=n(67154),h=n.n(t),t=n(87757),m=n.n(t),d=n(36144);function v(e){var t=e.projectId,n=e.needFetchList,e=e.expandInfo;return d.h.post("/check/project/list",{projectId:t,list:n,expandInfo:e})}function f(e){var t=e.projectId,n=e.type,e=e.expandInfo;return d.h.post("/check/owner/list",{projectId:t,pageType:n,expandInfo:e})}function o(e){var t=e.checkAccountId,n=e.defaultChecked,a=e.defaultChecks,r=e.defaultChecksName,i=e.defaultNumberChecked,o=e.defaultNumberConfig,s=e.accountChecks,c=e.ownerChecked,u=e.ownerChecks,l=e.pageType,p=e.projectId,e=e.expandInfo;return d.h.post("/check/owner/save",{checkAccountId:t,defaultChecked:n,defaultChecks:a,defaultChecksName:r,defaultNumberChecked:i,defaultNumberConfig:o,accountChecks:s,ownerChecked:c,ownerChecks:u,pageType:l,projectId:p,expandInfo:e})}n(18446);var y=n(81747),g=n(39432),x=n(35239),b=n(64396).Z.screening;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var T={relationData:new Map,deepCloneList:{}},a={screeningMap:[],curScreeningMap:void 0,screeningList:[],defaultConfig:void 0,screeningValues:[]};const r={namespace:b,state:Object.assign(a,{}),effects:{fetchDefaultConfig:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.payload,a=n.call,r=n.put,i=n.select,o=n.take,p=u.type,s=u.value,c=u.expandInfo,u=u.noSavingFilterList,e.next=5,a(f,{projectId:x.t.get(x.V.curProject).id,type:p,expandInfo:c});case 5:return d=e.sent,l=d.data.result,e.next=9,r({type:"fetchScreeningMap",payload:{curShowList:l.ownerChecks.map(function(e){return e.id}),expandInfo:c,noSavingFilterList:u}});case 9:return e.next=11,o("fetchScreeningMap/@@end");case 11:return e.next=13,i(function(e){return e[b]});case 13:return p=e.sent,d=p.curScreeningMap,p=d.deepcopy(),d=s||l.ownerChecked||[],e.next=19,r({type:"save",payload:{defaultConfig:l,screeningValues:d,curScreeningMap:p,screeningList:p.deepcopy()}});case 19:return e.next=21,r({type:"refilterList"});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}},e)}),fetchScreeningMap:m().mark(function e(t,n){var a,r,i,o,s,c,u,l,p,d,f;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,a=n.call,r=n.put,c=n.select,n.take,i=s.curShowList,o=s.expandInfo,s=s.noSavingFilterList,e.next=5,c(function(e){return e[b]});case 5:if(c=e.sent,u=c.screeningMap,l=[],s)return e.next=11,a(v,{needFetchList:i,projectId:x.t.get(x.V.curProject).id,expandInfo:o});e.next=17;break;case 11:f=e.sent,f=f.data.result,p=f.map(function(e){return e.relation&&T.relationData.set(e.id,(0,y.I)(e.relation)),h()({},e,{data:e.data.map(function(e){return h()({},e,{options:e.options&&(0,g.QM)(e.options,"label")})})})}),i.forEach(function(t){p.forEach(function(e){t!==e.id||l.some(function(e){return e.id===t})||l.push(e)})}),e.next=31;break;case 17:if(d=[],i.some(function(e){return!u.map(function(e){return e.id}).includes(e)})&&i.forEach(function(e){u.map(function(e){return e.id}).includes(e)||d.push(e)}),d.length){e.next=23;break}i.forEach(function(t){u.forEach(function(e){t===e.id&&l.push(e)})}),e.next=31;break;case 23:return e.next=25,a(v,{needFetchList:d,projectId:x.t.get(x.V.curProject).id,expandInfo:o});case 25:return f=e.sent,f=f.data.result,u.push.apply(u,f.map(function(e){return e.relation&&T.relationData.set(e.id,(0,y.I)(e.relation)),h()({},e,{data:e.data.map(function(e){return h()({},e,{options:e.options&&(0,g.QM)(e.options,"label")})})})}).deepcopy()),i.forEach(function(t){u.forEach(function(e){t!==e.id||l.some(function(e){return e.id===t})||l.push(e)})}),e.next=31,r({type:"save",payload:{screeningMap:u}});case 31:return e.next=33,r({type:"save",payload:{curScreeningMap:l}});case 33:return T.deepCloneList.curScreeningMap=l.deepcopy(),e.abrupt("return");case 35:case"end":return e.stop()}},e)}),screeningValuesChange:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,console.time("filter"),e.next=5,i(function(e){return e[b]});case 5:if(o=e.sent,o=o.screeningValues,o=o.deepcopy(),s=a.id,c=a.values,s){e.next=12;break}return console.error("没有id"),e.abrupt("return");case 12:return o.some(function(e){return e.id===s&&(e.values=c,!0)})||o.push({id:s,values:c}),o=o.filter(function(e){return 0<e.values.length}),e.next=16,r({type:"save",payload:{screeningValues:o}});case 16:return e.next=18,r({type:"refilterList"});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}},e)}),updateDefaultValue:m().mark(function e(t,n){var a,r,i;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,n.put,r=n.select,e.next=3,r(function(e){return e[b]});case 3:return i=e.sent,i=i.defaultConfig,e.next=7,a(o,h()({},i));case 7:return i=e.sent,i=i.data,e.abrupt("return",i);case 10:case"end":return e.stop()}},e)}),defaultValueChange:m().mark(function e(t,n){var a,r,i,o,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,r=n.put,i=n.select,e.next=4,i(function(e){return e[b]});case 4:return i=e.sent,o=i.defaultConfig,s=a.value,Object.keys(s).forEach(function(e){void 0!==s&&(o[e]=s[e])}),e.next=10,r({type:"save",payload:{defaultConfig:JSON.parse(JSON.stringify(o))}});case 10:return e.next=12,r({type:"updateDefaultValue"});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e)}),refilterList:m().mark(function e(t,n){var a,r,i,o,s,c;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,i=n.select,e.next=4,i(function(e){return e[b]});case 4:return r=e.sent,i=r.screeningValues,o=r.curScreeningMap,s=T.deepCloneList.curScreeningMap,(c=i.deepcopy()).forEach(function(e){o.forEach(function(n){e.id===n.id&&n.relation&&s.forEach(function(t){var e;t.id===n.id?(e=(0,y.y)(o.filter(function(e){return e.id===t.id})[0].data,c.deepcopy().filter(function(e){return e.id===t.id})[0].values,n.relation,T.relationData.get(n.id)).list,t.data=e,t.has=!0):t.has||(t.data=o.find(function(e){return e.id===t.id}).data)})})}),s.forEach(function(e){return delete e.has}),s.forEach(function(t){var e;!t.relation||(e=c.find(function(e){return e.id===t.id}))&&(e.values.forEach(function(n){t.data.some(function(e){if(n.id!==e.id)return!1;var t=e.options.map(function(e){return e.id});return n.values=n.values.filter(function(e){return t.includes(e)}),!0})}),e.values=e.values.filter(function(e){return 0<e.values.length}))}),setTimeout(function(){return T.deepCloneList.curScreeningMap=o.deepcopy()},0),console.timeEnd("filter"),e.next=16,a({type:"save",payload:{screeningList:s,screeningValues:c}});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e)}),clearAllValues:m().mark(function e(t,n){var a,r,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,o=n.select,e.next=4,o(function(e){return e[b]});case 4:return o=e.sent,r=o.defaultConfig,o.screeningMap,o=o.screeningValues,i=r.defaultChecked.find(function(e){return e.id===r.defaultChecksName[0]}),o=o.deepcopy(),o=i?o.filter(function(e){return!!e.values.some(function(e){return e.id===i.id})&&(e.values=e.values.filter(function(e){return e.id===i.id}),!0)}):[],e.next=13,a({type:"save",payload:{screeningValues:o}});case 13:return e.next=15,a({type:"refilterList"});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e)})},reducers:{save:function(e,t){t=t.payload;return h()({},e,t)},clear:function(e){return Object.assign(a,{screeningMap:e.screeningMap})}}}},81747:(e,t,n)=>{"use strict";n.d(t,{y:()=>a,I:()=>r}),Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var a=function(e,t,a,r){var i=t.deepcopy(),o=e.deepcopy();i.forEach(function(e,t){return e.index=t+1}),o.forEach(function(t){i.forEach(function(e){t.id===e.id&&(t.index=e.index)})});for(;0<i.length;)!function(){var t=i.shift(),n=new Set;t.values.forEach(function(e){for(var t=0;t<a[0].length;t++)if(r.get(t).has(e)){r.get(t).get(e).forEach(function(e){return a[e].forEach(function(e){return n.add(e.id)})});break}}),o.forEach(function(e){(e.index>t.index||!e.index)&&(e.options=e.options.filter(function(e){return n.has(e.id)&&n.delete(e.id)}))})}();return o.forEach(function(e){delete e.index}),{list:o}},r=function(e){for(var a=new Map,t=e[0].length,n=0;n<t;n++)a.set(n,new Map);return e.forEach(function(e,n){e.forEach(function(e,t){a.get(t)&&(!a.get(t)||a.get(t).has(e.id))||(a.get(t)||a.set(t,new Map),a.get(t).set(e.id,[])),a.get(t).get(e.id).push(n)})}),a}},12518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(85354),i=n.n(a),t=n(67294),o=n.n(t),a=n(45697),a=n.n(a),s=n(61409),c=n(92360),t=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(n=r.call.apply(r,[this].concat(t))||this)._handleBreadcrumbClick=function(e){var t=n.props.title;e!==t.length-1&&s.mW.go(e-t.length+1)},n}return i()(e,r),e.prototype.render=function(){var n=this,e=this.props,t=e.title,e=e.rightContent;return o().createElement("div",{className:"secondary-header"},t instanceof Array?o().createElement(c.Breadcrumb,{className:"breadcrumb-style",separator:""},t.map(function(e,t){return o().createElement(c.Breadcrumb.Item,{key:t},o().createElement("span",{onClick:function(){return n._handleBreadcrumbClick(t)}},e))})):o().createElement("div",{className:"normal-title"},t),e&&e)},e}(t.Component);t.propTypes={title:a().oneOfType([a().string,a().array]).isRequired,rightContent:a().node};const r=t},8201:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,Z:()=>r});var c=n(92360),t=n(67294),u=n.n(t),l=n(30133),t=n(94184),p=n.n(t),a=function(e){return!["",null,void 0,"error","empty","empty_filter"].includes(e)};const r=function(e){var t,n,a,r,i=e.className,o=e.renderTitle,s=e.style;return u().createElement("div",{className:p()("yt_section_component_wrapper",i),style:s},(n=void 0===(a=(t=e).emptyHint)?"暂无数据":a,i=void 0===(r=t.errorHint)?"加载失败":r,s=t.emptyFilterHint,a=void 0!==(e=t.loading)&&e,r=t.data,e=t.paragraph,""===r||void 0===r?u().createElement(l.Z,{className:"section_skeleton",paragraph:e}):u().createElement(c.Loading,{className:"section_content",loading:a},"error"===r?u().createElement("div",{className:"error-block"},i):"empty"===r||null===r?u().createElement("div",{className:"empty-block"},n):"empty_filter"===r?u().createElement("div",{className:"empty-block"},s):t.children)),o&&u().createElement("div",{className:"section_title"},o))}},35303:(e,t,n)=>{"use strict";n.d(t,{RS:()=>o,Wx:()=>i.Option,Ph:()=>l.a});var a=n(67154),c=n.n(a),t=n(85354),r=n.n(t),a=n(67294),u=n.n(a),t=n(45697),a=n.n(t),i=n(2258),l=n.n(i),t=n(97189),p=n.n(t),o=function(t){function e(e){var s=t.call(this,e)||this;return s.toggleDisplay=function(){var e=s.props,t=e.multiple,e=e.tags;s.state.open?(!t&&!e||!t&&e)&&s.closeSelection():s.setState({open:!0})},s.closeSelection=function(){s.setState({open:!1})},s.onInputKeyDown=function(e){e.stopPropagation;var t=s.select.state.inputValue;if(13===e.keyCode&&0<t.trim().length){for(var e=document.querySelectorAll(".rc-select-focused .rc-select-selection")[0].getAttribute("aria-controls"),n=document.getElementById(e).children[0].children,a=0,r=!1,i=0;i<n.length;i++)if(p().hasClass(n[i],"rc-select-dropdown-menu-item-active")){a=i,r=!0;break}if(!r)for(var o=0;o<n.length;o++)if(n[o].innerText===t){a=o;break}n[a].click()}},s.state={open:!1},s}r()(e,t),e.getDerivedStateFromProps=function(e,t){return c()({},e)};var n=e.prototype;return n.componentDidMount=function(){window.addEventListener("click",this.closeSelection)},n.componentWillUnmount=function(){window.removeEventListener("click",this.closeSelection)},n.render=function(){var t=this,e=this.state,n=e.open,a=e.multiple,r=e.tags,i=e.showSearch,o=u().createElement("i",{className:"icon-cem_check-out"}),e=u().createElement("i",{className:"icon-cem_delete"}),s=c()({multiple:!1,tags:!0,showArrow:!1,menuItemSelectedIcon:o,disabled:!1,removeIcon:e,clearIcon:e,defaultActiveFirstOption:!1,notFoundContent:"暂无数据",placeholder:"请选择",onBlur:this.closeSelection,onInputKeyDown:this.onInputKeyDown,showSearch:i},this.props);return u().createElement("div",{className:"select-wrapper",onClick:function(e){e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),s.disabled||t.toggleDisplay()}},u().createElement(l(),c()({ref:function(e){return t.select=e}},s,this.state),this.props.children),a||r||!a&&!r?u().createElement("i",{className:"icon-cem_pull-down-or-take-up "+(s.disabled?"disabled_icon":""),style:{transform:n?"rotate(180deg)":"",top:n?"4px":"5px"}}):null)},e}(u().Component);o.propTypes={multiple:a().bool,tags:a().bool,disabled:a().bool,placeholder:a().string,value:a().oneOfType([a().number,a().string,a().array]),onChange:a().func,onSelect:a().func,onInputKeyDown:a().func,showSearch:a().bool,maxTagCount:a().number}},60496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});function T(){}var t=n(85354),a=n.n(t),t=n(67294),I=n.n(t),r=n(39432),w=n(43036),n=function(t){function e(e){var a=t.call(this,e)||this;return a.getPanelWidth=function(){var e=a.props,t=e.flavor,n=e.options,e=e.rightHook,n=Math.max.apply(null,n.map(function(e){return(0,r.jD)(e.title,14)}))+2+10+32;return n+=void 0!==t?24:0,100<(n+=void 0!==e?30:0)?n:100},a._setPadShowFalse=function(){a.state.show&&a.setState({show:!1})},a._handleParentClick=function(e){a.state.show&&a.props.showFlavor&&a.props.enable&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())},a._handleTriggerOnClick=function(){var e=a.state.show;a.props.enable&&setTimeout(function(){a.setState({show:!e})},0)},a.state={show:!1,firstLiHover:!1,panelWidth:a.getPanelWidth()},a}a()(e,t);var n=e.prototype;return n.componentDidMount=function(){window.addEventListener("click",this._setPadShowFalse)},n.componentWillUnmount=function(){window.removeEventListener("click",this._setPadShowFalse)},n.componentDidUpdate=function(e){var t=e.options,e=this.props.options;JSON.stringify(t)!==JSON.stringify(e)&&this.setState({panelWidth:this.getPanelWidth()})},n.render=function(){var e=this.state,t=e.show,n=e.panelWidth,a=this.props,r=a.activeObj,i=void 0===r?"":r,o=a.onChange,s=a.options,c=a.objName,u=a.preTitle,l=a.sufTitle,p=void 0===l?"":l,d=a.showTitle,f=void 0===d||d,h=a.overlay,m=a.divider,v=void 0===m?"right":m,y=a.flavor,g=a.className,e=void 0===g?"":g,r=a.onFlavorChange,x=void 0===r?T:r,l=a.sufIcon,d=a.style,m=a.type,g=void 0===m?"text":m,r=a.enable,b=a.rightHook,m=s.find(function(e){return e.value===i}),a=""===i?p:m&&m.title,m=""===i?p:m&&m.icon;return I().createElement("div",{className:"single-select-button-wrapper single_select_diviver_"+v+" single-select-button_"+g+" "+e,style:d,onClick:this._handleParentClick},I().createElement("div",{className:"button_content "+(r?"":"button_content_disable")},I().createElement("span",{onClick:this._handleTriggerOnClick},I().createElement("span",{className:"button-trigger "+(t?"sel":"")},f&&I().createElement(I().Fragment,null,u&&I().createElement("span",{className:"pre-title"},u,"："),m?I().createElement("i",{className:m+" word_icon_hover"}):I().createElement("span",{className:"button-title"},a)),I().createElement("i",{className:l||"icon-cem_pull-down-or-take-up",style:{transform:t?"rotate(-180deg)":""}})),h&&I().createElement("span",{style:{marginLeft:4}},I().createElement(w.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:h},I().createElement("i",{className:"icon-cem_file1"})))),I().createElement("div",{className:"button-panel "+(t?"active":""),style:{minWidth:n}},s.map(function(n,e){return I().createElement("div",{className:"panel-item "+(n.value===i?"sel":"")+" "+(n.disabled?"disabled":""),key:n.value,onClick:function(){var e;n.disabled||o(c?((e={})[c]=n.value,e):n.value)}},n.icon&&I().createElement("i",{className:n.icon+" panel-item-icon"}),I().createElement("span",{className:"ellipsis",style:{maxWidth:97.5}},n.title),void 0!==y&&I().createElement("i",{className:y===n.value?"icon-cem_star":"icon-cem_star-filling star_hide",onClick:function(e){var t;e.stopPropagation(),x(y===n.value?c?((e={})[c]="",e):"":c?((t={})[c]=n.value,t):n.value),o(c?((t={})[c]=n.value,t):n.value)}}),I().createElement("i",{className:n.value===i&&b?"icon-cem_right1 choice":""}))}))))},e}(I().PureComponent);n.defaultProps={enable:!0,activeObj:"",sufTitle:"",showTitle:!0,divider:"right",className:"",type:"text"};const i=n},30133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var t=n(67294),a=n.n(t),t=n(94184),r=n.n(t);const i=function(e){var t=e.paragraph,n=e.style,e=e.className,e=void 0===e?"":e;return a().createElement("div",{className:r()("yt-skeleton-wrapper",e),style:n},t?t.map(function(e,t){return a().createElement("div",{className:"skeleton-paragraph",style:{width:e},key:t})}):a().createElement(a().Fragment,null,a().createElement("div",{className:"skeleton-paragraph",style:{width:"60%"}}),a().createElement("div",{className:"skeleton-paragraph",style:{width:"100%"}}),a().createElement("div",{className:"skeleton-paragraph",style:{width:"100%"}}),a().createElement("div",{className:"skeleton-paragraph",style:{width:"70%"}})))}},33798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var t=n(67294),o=n.n(t),t=n(45697),n=n.n(t),t=function(e){var t=e.onClick,n=e.isActive,a=e.defaultIcon,r=e.activeIcon,i=e.enable,i=void 0===i||i,e=e.style;return o().createElement("span",{className:"svg-button-wrapper",style:{cursor:i?"pointer":"not-allowed"}},o().createElement("svg",{className:"micon icon-svg "+(n?"active":"default"),"aria-hidden":"true",onClick:t,style:e},o().createElement("use",{className:"default",xlinkHref:"#icon-"+a}),o().createElement("use",{className:"hover",xlinkHref:"#icon-"+(i?r:a)}),o().createElement("use",{className:"active",xlinkHref:"#icon-"+r}),o().createElement("use",{className:"active-hover",xlinkHref:"#icon-"+r})))};t.propTypes={enable:n().bool,onClick:n().func,isActive:n().bool,defaultIcon:n().string.isRequired,activeIcon:n().string.isRequired,style:n().object};const a=t},29383:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var t=n(37316),x=n.n(t),t=n(67154),b=n.n(t),t=n(93913),a=n.n(t),t=n(85354),r=n.n(t),T=n(67294),I=n.n(T),t=n(45697),t=n.n(t),w=n(92360),E=n(35303),k=[{label:"10项/页",value:10},{label:"20项/页",value:20},{label:"40项/页",value:40},{label:"100项/页",value:100}],i=function(t){function e(e){var n=t.call(this,e)||this;return n.handlePageSizeChange=function(e){var t=n.props.onPageSizeChange;t&&t(e)},n.state={times:0},n}r()(e,t);var n=e.prototype;return n.getPage=function(e){this.props.onPage&&this.props.onPage(e)},n.resizeTable=function(){var e=this.state,t=e.total,n=e.start,a=e.end,r=e.top,e=window.innerHeight-document.querySelector(".cem-table-wrap").getClientRects()[0].top-20,r=t&&n&&a?r?80:40:0;e<document.querySelector(".el-table.cem-table .el-table__body-wrapper .el-table__body").clientHeight+40+r&&(document.querySelector(".cem-table-wrap").style.height=e+"px",document.querySelector(".el-table.cem-table").style.height="calc(100% - "+r+"px)")},n.componentDidMount=function(){this.setState(b()({},this.props))},n.UNSAFE_componentWillReceiveProps=function(e){this.setState(b()({},e,{times:++this.state.times}))},n.render=function(){var e=this.state,t=e.total,n=e.columns,a=e.data,r=e.className,i=e.style,o=e.pageSize,s=e.currentPage,c=e.loading,u=e.pagePosition,l=e.onSortChange,p=e.onRowClick,d=e.bottomElement,f=e.notLimit,h=e.pageSizeSelectorShow,m=e.selectedCount,v=x()(e,["total","columns","data","className","style","pageSize","currentPage","loading","pagePosition","onSortChange","onRowClick","bottomElement","notLimit","pageSizeSelectorShow","selectedCount"]),y=this.startCount,g=this.endCount;"top"===this.props.pagePosition&&document.querySelector(".cem-table-wrap").insertBefore(document.querySelector(".pagination"),document.querySelector(".loading"));e=Math.ceil(t/o);return I().createElement("div",{className:"cem-table-wrap",style:i},I().createElement(w.Loading,{loading:void 0!==c&&c,className:"loading",style:{height:"100%"}},I().createElement(w.Table,b()({ref:"cemTable",className:"cem-table "+(r||""),columns:n,data:a||[],onSortChange:l,onRowClick:p},v))),0<t&&-1<y&&-1<g&&o&&s&&I().createElement("div",{className:"table-num bottom"},I().createElement("span",null,I().createElement("i",null,y," - ",g),"项，共 ",I().createElement("i",null,t)," 项",m&&0<m?I().createElement(T.Fragment,null,"，已选择 ",I().createElement("i",null,m)," 项"):"")),I().createElement("div",{className:"outer",style:{}},d),I().createElement("div",{ref:"pagination",className:"pagination",style:{height:"28px",float:"right"}},o&&0<t&&I().createElement("div",{style:{textAlign:"right",float:"right",marginTop:"top"===u?"":"12px"}},I().createElement(w.Pagination,{pageCount:!f&&100<e?100:e,currentPage:s,pageSize:o,onCurrentChange:this.getPage.bind(this),small:!0,layout:"prev, pager, next"}),h&&I().createElement(E.RS,{multiple:!1,tags:!1,showSearch:!1,optionFilterProp:"label",optionLabelProp:"label",animation:"slide-up",dropdownClassName:"custom-pagination-dropdown",value:o||20,onChange:this.handlePageSizeChange},k.map(function(e,t){return I().createElement(E.Wx,{key:t,label:e.label,value:e.value},e.label)})))))},a()(e,[{key:"startCount",get:function(){var e=this.state,t=e.start,n=e.currentPage,e=e.pageSize;return void 0!==t?t:n&&e?(n-1)*e+1:-1}},{key:"endCount",get:function(){var e=this.state,t=e.end,n=e.currentPage,a=e.pageSize,e=e.total;if(void 0!==t)return t;if(n&&a){a=n*a;return e<a?e:a}return-1}}]),e}(T.Component);i.propTypes={columns:t().array,data:t().array,start:t().number,end:t().number,total:t().number,selectedCount:t().number,pageSize:t().number,currentPage:t().number,onPage:t().func,pagePosition:t().string,pageSizeSelectorShow:t().bool,onPageSizeChange:t().func,noScroll:t().bool,className:t().string,style:t().object,loading:t().bool,onSortChange:t().func,notLimit:t().bool,Table:t().func}},44031:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(67154),i=n.n(t),t=n(87757),d=n.n(t),r=n(36144);function f(e){var t=e.pageIndex,n=e.pageSize,a=e.timestamp,e=e.PROGRESS;return r.h.post("/message/remind/list",{pageIndex:void 0===t?1:t,pageSize:void 0===n?10:n,timestamp:void 0===a?"":a,PROGRESS:void 0!==e&&e})}function o(){return r.h.post("/account/version/single")}function s(e){e=e.versionNumber;return r.h.post("/account/version/finishRemind",{versionNumber:e})}var h=n(64396).Z.userState.message;const a={namespace:h,state:i()({},Object.assign({},{messageList:[],unreadCount:0,timestamp:"",versionInfo:{}})),reducers:{save:function(e,t){t=t.payload;return i()({},e,t)}},effects:{fetchUserStateList:d().mark(function e(t,n){var a,r,i,o,s,c,u,l,p;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=n.put,p=n.select,i=n.call,e.next=4,p(function(e){return e[h]});case 4:return u=e.sent,o=u.messageList,s=a.isNotConcat,e.prev=7,e.next=10,i(f,a);case 10:if(l=e.sent,2e4===(c=l.data).code)return p=c.result,u=p.unread,l=p.list,p=p.timestamp,e.next=16,r({type:"save",payload:{messageList:s?l:o.concat(l),unreadCount:u,timestamp:p||0}});e.next=16;break;case 16:return e.abrupt("return",c);case 19:e.prev=19,e.t0=e.catch(7);case 21:case"end":return e.stop()}},e,null,[[7,19]])}),fetchVersionInfo:d().mark(function e(t,n){var a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.select,r=n.call,e.prev=2,e.next=5,r(o);case 5:if(r=e.sent,2e4===(r=r.data).code)return r=r.result,e.next=11,a({type:"save",payload:{versionInfo:i()({},r)}});e.next=11;break;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}},e,null,[[2,13]])}),finishRemind:d().mark(function e(t,n){var a,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.put,n.select,r=n.call,e.prev=2,e.next=5,r(s,a);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}},e,null,[[2,7]])})}}},19335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var t=n(37316),r=n.n(t),t=n(67154),o=n.n(t),t=n(85354),i=n.n(t),t=n(67294),s=n.n(t),c=n(24444),t=n(45697),n=n.n(t),u=s().createContext(null),l={distance:180},t=function(a){function e(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(i=a.call.apply(a,[this].concat(t))||this).state={push:!1},i.parentDrawer=void 0,i.destroyClose=void 0,i.push=function(){i.props.push&&i.setState({push:!0})},i.pull=function(){i.props.push&&i.setState({push:!1})},i.onDestroyTransitionEnd=function(){i.getDestroyOnClose()&&(i.props.visible||(i.destroyClose=!0,i.forceUpdate()))},i.getDestroyOnClose=function(){return i.props.destroyOnClose&&!i.props.visible},i.getPushDistance=function(){var e=i.props.push,e="boolean"==typeof e?e?l.distance:0:e.distance;return parseFloat(String(e||0))},i.getPushTransform=function(e){var t=i.getPushDistance();return"left"===e||"right"===e?"translateX("+("left"===e?t:-t)+"px)":"top"===e||"bottom"===e?"translateY("+("top"===e?t:-t)+"px)":void 0},i.renderHeader=function(){var e=i.props,t=e.title,n=e.headerStyle,a=e.closeable,e=e.onClose;return t||a?s().createElement("div",{className:t?"yt-drawer-header":"yt-drawer-header-no-title",style:n},t&&s().createElement("div",{className:"yt-drawer-title"},t),a&&s().createElement("i",{className:"yt-drawer-close iconfont icon-cem_cancel",onClick:e})):""},i.renderBody=function(){var e=i.props,t=e.visible,n=e.drawerStyle,e=e.bodyStyle;if(i.destroyClose&&!t)return"";i.destroyClose=!1;t={};return i.getDestroyOnClose()&&(t.opacity=0,t.transition="opacity .3s"),s().createElement("div",{className:"yt-drawer-wrapper-body",style:o()({},t,n),onTransitionEnd:i.onDestroyTransitionEnd},i.renderHeader(),s().createElement("div",{className:"yt-drawer-body",style:e},i.props.children),i.renderFooter())},i.renderFooter=function(){var e=i.props,t=e.footer,e=e.footerStyle;return t?s().createElement("div",{className:"yt-drawer-footer",style:e},t):""},i.getRcDrawerStyle=function(){var e=i.props,t=e.zIndex,n=e.placement,a=e.mask,r=e.style,e=i.state.push,a=a?{}:i.getOffsetStyle();return o()({zIndex:t,transform:e?i.getPushTransform(n):void 0},a,r)},i}i()(e,a);var t=e.prototype;return t.componentDidMount=function(){this.props.visible&&this.parentDrawer&&this.parentDrawer.push()},t.componentDidUpdate=function(e){var t=this.props.visible;e.visible!==t&&this.parentDrawer&&(t?this.parentDrawer.push():this.parentDrawer.pull())},t.componentWillUnmount=function(){this.parentDrawer&&(this.parentDrawer.pull(),this.parentDrawer=null)},t.getOffsetStyle=function(){var e=this.props,t=e.placement,n=e.width,a=e.height,r=e.visible,e=e.mask;if(!r&&!e)return{};e={};return"left"===t||"right"===t?e.width=n:e.height=a,e},t.render=function(){var t=this,e=this.props,n=e.visible,e=(e.headerStyle,e.closeable,e.bodyStyle,e.drawerStyle,e.footer,e.footerStyle,e.closable,e.push,e.title,r()(e,["visible","headerStyle","closeable","bodyStyle","drawerStyle","footer","footerStyle","closable","push","title"])),a=o()({open:n},e);return s().createElement(u.Consumer,null,function(e){return t.parentDrawer=e,s().createElement(u.Provider,{value:t},s().createElement(c.default,o()({handler:!1,prefixCls:"yt-drawer"},a,{open:t.props.visible,getContainer:t.parentDrawer||null,style:t.getRcDrawerStyle()}),t.renderBody()))})},e}(s().Component);t.defaultProps={closable:!0,placement:"right",maskClosable:!1,mask:!0,level:null,keyboard:!0,push:l};const a=t;t.propTypes={visible:n().bool,className:n().string,width:n().number,onClose:n().func,maskClosable:n().bool,level:n().object,keyboard:n().bool,push:n().oneOfType([n().object,n().bool]),placement:n().oneOf(["left","top","right","bottom"]),title:n().oneOfType([n().string,n().node]),headerStyle:n().object,closeable:n().bool,bodyStyle:n().object,drawerStyle:n().object,footer:n().oneOfType([n().string,n().node]),footerType:n().object}},63968:(e,t,n)=>{"use strict";n.d(t,{p:()=>function(e,t){return a().AES.decrypt({ciphertext:a().enc.Base64.parse(e)},a().enc.Utf8.parse(t),{mode:a().mode.ECB,padding:a().pad.Pkcs7}).toString(a().enc.Utf8)}});var t=n(81354),a=n.n(t)},64396:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=(0,n(39432).Li)({global:"全局",aspectWarning:"指标预警",colManage:{manage:"店铺管理"},inbox:"消息模块",message:{inboxDetail:"消息详情"},IDBHeaderScreening:{headerScreening:"头部筛选",screening:"筛选",timeScreening:"时间筛选",quickTimeScreening:"快捷时间筛选",savedScreening:"保存的筛选器",inboxDetail:"消息详情"},serviceFilter:"消息模块，客服会话筛选",sentiment:{overview:"舆情概览",warning:{list:"舆情预警列表",edit:"舆情预警编辑"},subject:{list:"舆情专题列表",edit:"舆情专题编辑"},alert:"预警提醒",analysis:{subject:"专题概览",eventContext:"事件脉络",channel:"渠道分析",path:"路径分析",point:"观点分析",trend:"趋势分析"},tagAnalysis:"标签分析"},dashboard:{dashboard:"仪表盘",template:{list:"选择模板",edit:"设置图表"}},brand:{brandOverview:"品牌总览",analyzeOfIndex:"指数分析",brandAnalysis:"品牌洞察分析",brandAnalysisSub:{channel:"渠道分析",content:"内容分析",overview:"品牌洞察概览",interaction:"互动分析"}},social:{overview:"舆情概览",models:{top:"机型Top10",comparison:"机型对比"},tag:{detail:"Top下钻",trend:"品牌/机型走势",top30:"品牌/机型Top30"}},price:{chaos:"渠道乱价",editRule:"编辑规则",pushLog:"推送日志",ruleList:"规则列表",screenshot:"截图取证",priceBranding:"品牌分析",priceOverview:"价格概览",historyPrice:"每日最低价",productShop:"店铺分析"},headerScreening:"头部筛选",screening:"筛选",userLogin:"登录",product:{overview:"产品洞察概览",compare:"竞品分析",selfAnalysis:"自主分析",customer:"客户关注",scene:{overview:"场景概览",user:"用户简画",usage:"使用场合，用途，购买决策"},setting:{public:"产品设置公共model",subscribe:{overview:"智能订阅",recycling:"回收站",rule:"订阅规则"},link:"商品链接",base:{spu:"SPU知识库",sku:"SKU知识库",entryDrawer:"词条编辑"},topic:{overview:"主题",topicValue:"主题值"}},comment:{smartSubscribe:"电商评论智能订阅",linkManagement:"电商评论链接管理",subscribeLink:"订阅链接待维护列表",linkMaintenance:"电商评论商品链接维护",linkRecycleBin:"回收站"},aspectTrend:{overview:"指标趋势"}},market:{newMonitoring:"上新监控",brandAnalysis:"品牌分析",modelAnalysis:"型号分析",salesAnalysis:"销量分析",hotDiscovery:"爆款发现"},research:{questions:"问卷编辑",uploadPic:"上传图片",npsManage:"nps管理",distribute:"问卷分发",distributeEdit:"分发编辑",answer:"问卷回答",addContact:"分发编辑",analyze:{nps:"nps分析",satisfaction:"满意度分析",answer:"答卷分析",answerDetail:"答卷详情",record:"分发详情"},board:{nps:"nps类型看板",satisfaction:"满意度类型看板"},setting:{set:"设置",edit:"看板编辑",template:"模板编辑",templateList:"模板列表"},npsContacts:"调研联系人",npsOverview:"调研概览",npmTemplate:"调研模板"},monitoring:{warning:"预警监测"},productExperience:{aspectSystem:{global:"全局指标",tree:"指标树",treeEdit:"指标树编辑"}},drillDown:{sceneAnalyze:"场景分析"},pushRule:"推送设置",project:{connection:{maintainList:"待维护列表"},warningEdit:"预警设置",dataUrlEdit:"数据链接编辑",dataUrlList:"数据编辑列表",messageRule:"消息处理规则",tag:"标签",dataFeedback:"数据反馈"},freedom:"自由探索",explore:{result:"自由探索结果",savaFilter:"已保存的筛选器",savaResult:"已保存的探索结果",scene:{overview:"场景挖掘",relation:"角色与关系",usage:"使用场合，用途，购买决策",advice:"用户建议",spokesperson:"代言人",competingAnalysis:"竞品分析"}},public:{header:"公共头部筛选",menu:"公共菜单"},userState:{message:"消息盒子"},account:{auditLog:{timeScreening:"审计日志时间筛选"}},opinionHome:"典型意见首页",opinion:{savaFilter:"典型意见的筛选器",savaResult:"典型意见探索结果",opinionScreen:"典型意见筛选页",timeScreening:"典型意见时间筛选",detail:"典型意见详情页",screening:"典型意见筛选列表",opinionChart:"典型意见词云图",everyOpinion:"每周典型意见",opinionScreening:"每周典型意见头部筛选",IDBScreening:"每周典型意见筛选"},personalSet:{messageRulePrivate:"私人消息处理"},userHelp:{helpCenter:"帮助中心"},conversationHome:"服务洞察",conversation:{commodityAnalyze:"商品分析",concernAnalyze:"关注点分析",detail:"关注点详情分析",overview:"服务洞察数据概览",setting:"服务洞察配置"},service:{overview:"数据概览",spu:"单品分析",match:"商品对比",concernAnalyze:"关注点分析",gombitAnalyze:"话题分析"},projectAll:"所有项目"})},87300:(e,t,n)=>{"use strict";n.d(t,{r:()=>c,U:()=>function(e,t,n,a){var r=Object.values(n),n=r[0],r=r[1];return c(e,t,[{title:"消息",icon:"icon-cem_jump-message",callback:n},{title:"下钻",icon:"icon-cem_jump-details",callback:r}],a)}});var t=n(85354),a=n.n(t),t=n(23279),r=n.n(t),t=n(67294),i=n.n(t),t=n(73935),o=n.n(t),t=n(45697),t=n.n(t),s=function(e){function t(){return e.apply(this,arguments)||this}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.events,n=e.elmId;t&&setTimeout(function(){var e=document.getElementById(n);e&&e.addEventListener("mouseleave",r()(function(){e.style.display="none"},1e3)),t.forEach(function(e,t){!e.callback||(t=document.getElementById(n+"_"+t))&&t.addEventListener("click",e.callback)})},0)},n.componentWillUnmount=function(){var e=this.props,t=e.events,n=e.elmId;t&&setTimeout(function(){t.forEach(function(e,t){!e.callback||(t=document.getElementById(n+"_"+t))&&t.removeEventListener("click",e.callback)})},0)},n.render=function(){var e=this.props,t=e.title,n=e.content,a=void 0===n?[]:n,r=e.elmId,n=e.events,e=e.className;return i().createElement("div",{className:"yt_tooltip_wrapper "+e,id:r},t&&i().createElement("div",{className:"title_wrapper",dangerouslySetInnerHTML:{__html:t}}),i().createElement("div",{className:"content_wrapper"},a.map(function(e,t){return i().createElement("div",{key:t,dangerouslySetInnerHTML:{__html:e}})})),n&&i().createElement("div",{className:"footer_wrapper"},n.map(function(e,t){return i().createElement("span",{id:r+"_"+t,className:"item",alt:e.title,key:e.title},i().createElement("i",{className:(e.icon||"")+" icon_style"}),i().createElement("span",{className:"title_style"},e.title))})))},t}(i().Component);function c(e,t,n,a){if(!n||n instanceof Array){var r=document.createElement("div");return o().render(i().createElement(s,{title:e,content:t,events:n,elmId:(new Date).getTime(),className:a}),r),r.outerHTML}console.log("events 需要是[{callback, title, icon}]形式的数组")}s.propTypes={title:t().oneOfType([t().string,t().node]),content:t().arrayOf(t().shape({title:t().string,icon:t().string,callback:t().func}))}},70715:(e,t,n)=>{"use strict";n.d(t,{fX:()=>l,ad:()=>c,I8:()=>M,OW:()=>b,EH:()=>T,Fq:()=>s,gi:()=>d,Rt:()=>f,aW:()=>A,W4:()=>i,Zi:()=>o,TJ:()=>u});function a(t){return{color:t,backgroundColor:"#ffffff",textStyle:{fontFamily:"'PingFang SC','Microsoft Yahei', 'Helvetica Neue', Helvetica, Tahoma, Arial, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif"},grid:{top:"10%",right:48,bottom:"10%",left:48},title:{top:14,left:15,textStyle:{color:"#262626",fontSize:14},subtextStyle:{color:"#8c8c8c"}},line:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:2}},symbolSize:4,symbol:"circle",smooth:!0},radar:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:2}},symbolSize:4,symbol:"circle",smooth:!0},bar:{itemStyle:{normal:{barBorderWidth:"0",barBorderColor:"#ccc"},emphasis:{barBorderWidth:"0",barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#c12e34",color0:"#2b821d",borderColor:"#c12e34",borderColor0:"#2b821d",borderWidth:1}}},graph:{itemStyle:{normal:{color:function(e){return t[e.dataIndex%t.length]},borderWidth:"0",borderColor:"#ccc"}},lineStyle:{normal:{width:1,color:"#aaaaaa"}},symbolSize:4,symbol:"circle",smooth:!0,color:t,label:{normal:{textStyle:{color:"#ffffff"}}}},map:{itemStyle:{normal:{areaColor:"#dddddd",borderColor:"#eeeeee",borderWidth:.5},emphasis:{areaColor:"rgba(230,182,0,1)",borderColor:"#dddddd",borderWidth:1}},label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"rgb(193,46,52)"}}}},geo:{itemStyle:{normal:{areaColor:"#dddddd",borderColor:"#eeeeee",borderWidth:.5},emphasis:{areaColor:"rgba(230,182,0,1)",borderColor:"#dddddd",borderWidth:1}},label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"rgb(193,46,52)"}}}},wordCloud:{textStyle:{normal:{color:function(e){return t[e.dataIndex%t.length]}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#ebebeb"}},axisTick:{show:!1,lineStyle:{color:"#ebebeb"}},axisLabel:{show:!0,textStyle:{color:"#262626"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#ebebeb"}},axisTick:{show:!1,lineStyle:{color:"#ebebeb"}},axisLabel:{show:!0,textStyle:{color:"#262626"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#ebebeb"}},axisTick:{show:!1,lineStyle:{color:"#ebebeb"}},axisLabel:{show:!0,textStyle:{color:"#262626"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#ebebeb"}},axisTick:{show:!1,lineStyle:{color:"#ebebeb"}},axisLabel:{show:!0,textStyle:{color:"#262626"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#D2D2D2"},emphasis:{borderColor:"#093B88"}},feature:{dataView:{readOnly:!0},dataZoom:{title:{zoom:"区域缩放",back:"缩放还原"}},saveAsImage:{title:"导出图片",pixelRatio:2}}},legend:{top:10,textStyle:{color:"#262626"}},tooltip:{textStyle:{color:"#262626",fontSize:12},backgroundColor:"rgba(255,255,255,0.9)",borderWidth:1,padding:[8,18],borderColor:"#ccc",extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);",axisPointer:{lineStyle:{color:"#bfbfbf",width:1},label:{show:!0,backgroundColor:"#000",shadowColor:"rgba(0, 0, 0, 0.15)",shadowBlur:8},crossStyle:{color:"#bfbfbf",type:"dashed"}}},timeline:{lineStyle:{color:"#0847a6",width:1},itemStyle:{normal:{color:"#0847a6",borderWidth:1},emphasis:{color:"#0847a6"}},controlStyle:{normal:{color:"#0847a6",borderColor:"#0847a6",borderWidth:.5},emphasis:{color:"#0847a6",borderColor:"#0847a6",borderWidth:.5}},checkpointStyle:{color:"#0847a6",borderColor:"rgba(49,107,194,0.5)"},label:{normal:{textStyle:{color:"#0847a6"}},emphasis:{textStyle:{color:"#0847a6"}}}},dataZoom:{backgroundColor:"rgba(47,69,84,0)",dataBackground:{areaStyle:{color:"rgba(47,69,84,0.3)"}},fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333333"}},markPoint:{label:{normal:{textStyle:{color:"#ffffff"}},emphasis:{textStyle:{color:"#ffffff"}}}}}}var t=n(70596),r=n.n(t),i=(n(89777),{square:"path://M0,0H12V12H0z",squareRing:"path://M774.582857 253.074286v521.508571H253.074286V253.074286h521.508571m146.285714-146.285715H106.788571v814.08h814.08V106.788571z",lineRing:"path://M512 341.504A170.496 170.496 0 1 0 682.496 512 170.496 170.496 0 0 0 512 341.504z m0-170.496a341.504 341.504 0 0 1 330.752 256H1024v170.496h-181.248a341.504 341.504 0 0 1-660.992 0H0V426.496h181.248a341.504 341.504 0 0 1 330.752-256z"}),o=function(e){return'<span style="font-size: 12px; color: #262626; font-weight: bold; display: inline-block; padding-bottom: 4px;">'+e+"</span>"},s=["#1574B3","#CDB446","#D07B49","#1EA082","#3D85FF","#D8727F","#0E97AD","#119073","#D969BF","#A9A557","#3D42C6","#3ACCD3","#1A9E59","#1574B3","#38B5FF","#9369D9","#1BBF69","#CC6A77","#A3A3A3","#D2D2D2"],c=["#7161FB","#1890ff","#8CD9F9"],u=["#1890ff","#53D092","#F08A8A"],l=["#096dd9","#46b88c","#cf6e29","#65789b","#734796","#4186ab","#cf9608","#028685","#5249d6","#a34d52"],p=["#D96969","#15B374"],d=["#15B374","#D96969"],f=["#15B374","#1574B3","#D96969"],h=["#D96969","#1574B3","#15B374"],m=["#1574B3","#D96969"],v=["#1574B3","#CDB446"],y=["#FFDEDA","#D96969","#15B374"],g=["#1574B3","#CDB446","#D07B49"],x=["#1890ff","#CEDDFD","#60DDA9","#CDF3E4","#65789B","#CED4DE","#F6BD15","#FDEBB9","#7262FD","#D3CEFD","#78D3F8","#D3EEF9","#9661BC","#DECFEA","#F6903D","#FFE0C7","#028685","#BCDEDD","#F08A8A","#FFE0ED"],b=["#1890ff","#60DDA9","#F6BD15","#F08A8A","#78D3F8","#65789B","#F6903D","#028685","#7262FD","#9661BC"],T=["#7262FD","#1890ff","#78D3F8","#60DDA9"],I=["#1890ff","#78D3F8"],w=["#F6903D","#FFE0C7"],E=["#F08A8A","#60DDA9"],k=["#60DDA9","#F08A8A"],C=["#60DDA9","#1890ff","#F08A8A"],S=["#F08A8A","#1890ff","#60DDA9"],N=["#1890ff","#F08A8A"],_=["#052A75","#1048BB","#275FD0","#4377E1","#1890ff","#91B4FB"],O=["#BB3535","#D34B4B","#EF5E5E","#F57676","#F08A8A","#F9B2B2"],j=["#035835","#027E4A","#10B16E","#3CC18A","#60DDA9","#84EAC0"],D=["#1048BB","#275FD0","#4377E1","#1890ff","#91B4FB","#F9B2B2","#F08A8A","#F57676","#EF5E5E","#D34B4B"],M="'PingFang SC','Microsoft Yahei', 'Helvetica Neue', Helvetica, Tahoma, Arial, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif",A=function(){r().registerTheme("yunting_multi_color",a(s)),r().registerTheme("yunting_neg_pos",a(p)),r().registerTheme("yunting_pos_neg",a(d)),r().registerTheme("yunting_pos_neu_neg",a(f)),r().registerTheme("yunting_neg_neu_pos",a(h)),r().registerTheme("yunting_blue_yellow",a(v)),r().registerTheme("yunting_h5_warning",a(y)),r().registerTheme("yunting_price",a(g)),r().registerTheme("yunting_netural_negative",a(m)),r().registerTheme("yunting_plain_theme",a(void 0)),r().registerTheme("yunting_explore_color",a(c)),r().registerTheme("yt_multi_color_20",a(x)),r().registerTheme("yt_multi_color_10",a(b)),r().registerTheme("yt_multi_color_4",a(T)),r().registerTheme("yt_compare_primary",a(I)),r().registerTheme("yt_compare_minor",a(w)),r().registerTheme("yt_neg_pos",a(E)),r().registerTheme("yt_pos_neg",a(k)),r().registerTheme("yt_pos_neu_neg",a(C)),r().registerTheme("yt_neg_neu_pos",a(S)),r().registerTheme("yt_netural_negative",a(N)),r().registerTheme("yt_same_neutral",a(_)),r().registerTheme("yt_same_negative",a(O)),r().registerTheme("yt_same_positive",a(j)),r().registerTheme("yt_gradient_color",a(D))}},94644:(e,t,n)=>{"use strict";n.d(t,{_v:()=>o,OH:()=>l,aT:()=>p,UO:()=>u,Mx:()=>function(i,o){return new Promise(function(e){var t=i.clientWidth,n=i.clientHeight,a=i.cloneNode(!0),r=document.createElement("canvas");r.width=t,r.height=n,r.className="yt_trend_list_canvas",r.getContext("2d"),a.style.width=t+"px",a.style.height=n+"px",a.style.backgroundColor="#fff",a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.zIndex=-1,document.body.appendChild(a),s()(a,{allowTaint:!0,taintTest:!1,canvas:r,useCORS:!0,width:t,height:n,onrendered:function(e){document.body.appendChild(e);e=e.toDataURL("png");(0,c.saveAs)(e,u(o),"image/png"),setTimeout(function(){document.body.removeChild(a);var e=document.querySelector(".yt_trend_list_canvas");e&&document.body.removeChild(e)},0)}})})}});var t=n(66085),r=n.n(t),a=n(5133),t=n(7869),i=n.n(t),t=n(29531),s=n.n(t),c=n(93162),u=function(e){var t=new Date;return e+"-"+(""+t.getFullYear()+(t.getMonth()+1)+t.getDate()+t.getHours()+t.getMinutes()+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())+t.getMilliseconds())},o=function(t,n){setTimeout(function(){try{var e=t.getDataURL({type:"jpeg",pixelRatio:2,backgroundColor:"#fff"});(0,c.saveAs)(e,u(n),"image/jpeg")}catch(e){a.Z.error("导出失败")}},0)},l=function(e,t,a){setTimeout(function(){var n=new(r());e.forEach(function(e,t){t=a&&a[t]||e.getOption().title[0].text,e=e.getDataURL({type:"jpeg",pixelRatio:2,backgroundColor:"#fff"});n.file(t+".jpg",function(e){for(var t=e.split(";base64,"),e=t[0].split(":"),e=(e[0],e[1]),n=window.atob(t[1]),a=n.length,r=new Uint8Array(a),i=0;i<a;++i)r[i]=n.charCodeAt(i);return new Blob([r],{type:e})}(e))}),n.generateAsync({type:"blob"}).then(function(e){(0,c.saveAs)(e,u(t)+".zip")})},0)},p=function(e,t,a){e=e.reduce(function(e,t,n){n=a?a[n]:"Sheet "+(n+1);return e.SheetNames.push(n),e.Sheets[n]=i().utils.aoa_to_sheet(t,{sheet:n}),e},{SheetNames:[],Sheets:{}}),e=i().write(e,{bookType:"xlsx",bookSST:!0,type:"array"});(0,c.saveAs)(new Blob([e],{type:"application/octet-stream"}),u(t)+".xlsx")}},36144:(e,t,n)=>{"use strict";n.d(t,{h:()=>u,v:()=>l});var t=n(9669),t=n.n(t),a=n(61193),r=n(61409),i=n(5133);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var c,n={baseURL:"/api",timeout:3e5,headers:{"Content-Encoding":"gzip, deflate, br"}},u=t().create(n);(c=u).interceptors.request.use(function(e){if(!e.data||e.data&&e.data.PROGRESS,e.data&&delete e.data.PROGRESS,"post"===e.method)if(e.data instanceof FormData){for(var t=[],n=o(e.data.entries());!(a=n()).done;){var a=a.value;t.push(a[0]+"="+a[1])}e.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",e.data=t.join("&")}else e.headers.post["Content-Type"]="application/json; charset=UTF-8","object"==typeof data&&(e.data=JSON.stringify(e.data));return e},function(e){throw new Error("illegal parameter")}),c.interceptors.response.use(function(e){if("object"!=typeof e)throw new Error("response data should be JSON");var t=null;if(e.data&&"string"==typeof e.data)try{t=JSON.parse(e.data)}catch(e){}switch(e.status){case 200:if(50102===e.data.code)return void r.mW.push("/login");if(52001===e.data.code)return i.Z.error(e.data.msg),void r.mW.push("/login ");if(t&&50103===t.code)return Promise.reject({data:t});if(410017===e.data.code&&"此签名有被其他模板引用，请先找到相应模板，替换掉签名之后，再删除。"===e.data.msg)return Promise.reject(e);if(420017===e.data.code)return Promise.reject(e);if(4500014===e.data.code)return Promise.reject(e);if(2e4!==e.data.code&&-1===e.config.url.indexOf("logout"))return-1===e.config.url.indexOf("login")&&i.Z.error(e.data.msg),Promise.reject(e);break;case 401:a.Z.destroy(),r.mW.push("/login");break;case 403:"IP_ACCESS_DENIED"===e.message&&(r.mW.push("/login"),i.Z.error("当前IP无权访问"));break;default:throw new Error(e.message||"unknown error")}return e},function(e){throw e.response&&403===e.response.status&&"IP_ACCESS_DENIED"===e.response.data.message?(r.mW.push("/login"),i.Z.error("当前IP无权访问")):-1!==String(e).indexOf("timeout")&&i.Z.error("请求超时"),new Error("网络异常","fail")});var l=t().create(n)},29531:(e,t,n)=>{e.exports=function a(r,i,o){function s(n,e){if(!i[n]){if(!r[n]){if(0,c)return c(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=i[n]={exports:{}};r[n][0].call(t.exports,function(e){var t=r[n][1][e];return s(t||e)},t,t.exports,a,r,i,o)}return i[n].exports}for(var c=void 0,e=0;e<o.length;e++)s(o[e]);return s}({1:[function(e,D,M){!function(j){!function(e){function v(e){throw RangeError(m[e])}function n(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function t(e,t){return n(e.split(f),t).join(".")}function y(e){for(var t,n,a=[],r=0,i=e.length;r<i;)55296<=(t=e.charCodeAt(r++))&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),r--):a.push(t);return a}function h(e){return n(e,function(e){var t="";return 65535<e&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+_(e)}).join("")}function g(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var a=0;for(e=n?N(e/l):e>>1,e+=N(e/t);S*w>>1<e;a+=T)e=N(e/S);return N(a+(S+1)*e/(e+u))}function a(e){var t,n,a,r,i,o,s,c=[],u=e.length,l=0,p=k,d=E,f=e.lastIndexOf(C);for(f<0&&(f=0),n=0;n<f;++n)128<=e.charCodeAt(n)&&v("not-basic"),c.push(e.charCodeAt(n));for(a=0<f?f+1:0;a<u;){for(r=l,i=1,o=T;u<=a&&v("invalid-input"),s=e.charCodeAt(a++),(T<=(s=s-48<10?s-22:s-65<26?s-65:s-97<26?s-97:T)||s>N((b-l)/i))&&v("overflow"),l+=s*i,!(s<(s=o<=d?I:d+w<=o?w:o-d));o+=T)i>N(b/(s=T-s))&&v("overflow"),i*=s;d=x(l-r,t=c.length+1,0==r),N(l/t)>b-p&&v("overflow"),p+=N(l/t),l%=t,c.splice(l++,0,p)}return h(c)}function r(e){for(var t,n,a,r,i,o,s,c,u,l,p=[],d=(e=y(e)).length,f=k,h=E,m=t=0;m<d;++m)(s=e[m])<128&&p.push(_(s));for(n=a=p.length,a&&p.push(C);n<d;){for(r=b,m=0;m<d;++m)f<=(s=e[m])&&s<r&&(r=s);for(r-f>N((b-t)/(c=n+1))&&v("overflow"),t+=(r-f)*c,f=r,m=0;m<d;++m)if((s=e[m])<f&&++t>b&&v("overflow"),s==f){for(i=t,o=T;!(i<(u=o<=h?I:h+w<=o?w:o-h));o+=T)p.push(_(g(u+(l=i-u)%(u=T-u),0))),i=N(l/u);p.push(_(g(i,0))),h=x(t,c,n==a),t=0,++n}++t,++f}return p.join("")}var i="object"==typeof M&&M,o="object"==typeof D&&D&&D.exports==i&&D,s="object"==typeof j&&j;s.global!==s&&s.window!==s||(e=s);var c,b=2147483647,T=36,I=1,w=26,u=38,l=700,E=72,k=128,C="-",p=/^xn--/,d=/[^ -~]/,f=/\x2E|\u3002|\uFF0E|\uFF61/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=T-I,N=Math.floor,_=String.fromCharCode,O={version:"1.2.4",ucs2:{decode:y,encode:h},decode:a,encode:r,toASCII:function(e){return t(e,function(e){return d.test(e)?"xn--"+r(e):e})},toUnicode:function(e){return t(e,function(e){return p.test(e)?a(e.slice(4).toLowerCase()):e})}};if(0,i&&!i.nodeType)if(o)o.exports=O;else for(c in O)O.hasOwnProperty(c)&&(i[c]=O[c]);else e.punycode=O}(this)}.call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){function r(e,t){for(var n=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),a=e.firstChild;a;)!0!==t&&1===a.nodeType&&"SCRIPT"===a.nodeName||n.appendChild(r(a,t)),a=a.nextSibling;return 1===e.nodeType&&(n._scrollTop=e.scrollTop,n._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?function(t,e){try{e&&(e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0))}catch(e){i("Unable to copy canvas content from",t,e)}}(e,n):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(n.value=e.value)),n}var i=e("./log");t.exports=function(i,e,t,n,o,s,c){var u=r(i.documentElement,o.javascriptEnabled),l=e.createElement("iframe");return l.className="html2canvas-container",l.style.visibility="hidden",l.style.position="fixed",l.style.left="-10000px",l.style.top="0px",l.style.border="0",l.width=t,l.height=n,l.scrolling="no",e.body.appendChild(l),new Promise(function(t){var e,n,a,r=l.contentWindow.document;l.contentWindow.onload=l.onload=function(){var e=setInterval(function(){0<r.body.childNodes.length&&(function e(t){if(1===t.nodeType){t.scrollTop=t._scrollTop,t.scrollLeft=t._scrollLeft;for(var n=t.firstChild;n;)e(n),n=n.nextSibling}}(r.documentElement),clearInterval(e),"view"===o.type&&(l.contentWindow.scrollTo(s,c),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.contentWindow.scrollY===c&&l.contentWindow.scrollX===s||(r.documentElement.style.top=-c+"px",r.documentElement.style.left=-s+"px",r.documentElement.style.position="absolute")),t(l))},50)},r.open(),r.write("<!DOCTYPE html><html></html>"),n=s,a=c,!(e=i).defaultView||n===e.defaultView.pageXOffset&&a===e.defaultView.pageYOffset||e.defaultView.scrollTo(n,a),r.replaceChild(r.adoptNode(u),r.documentElement),r.close()})}},{"./log":13}],3:[function(e,t){function n(e){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}n.prototype.darken=function(e){e=1-e;return new n([Math.round(this.r*e),Math.round(this.g*e),Math.round(this.b*e),this.a])},n.prototype.isTransparent=function(){return 0===this.a},n.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},n.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),3<e.length&&(this.a=e[3])),Array.isArray(e)};var a=/^#([a-f0-9]{3})$/i;n.prototype.hex3=function(e){var t;return null!==(t=e.match(a))&&(this.r=parseInt(t[1][0]+t[1][0],16),this.g=parseInt(t[1][1]+t[1][1],16),this.b=parseInt(t[1][2]+t[1][2],16)),null!==t};var r=/^#([a-f0-9]{6})$/i;n.prototype.hex6=function(e){var t=null;return null!==(t=e.match(r))&&(this.r=parseInt(t[1].substring(0,2),16),this.g=parseInt(t[1].substring(2,4),16),this.b=parseInt(t[1].substring(4,6),16)),null!==t};var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;n.prototype.rgb=function(e){var t;return null!==(t=e.match(i))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3])),null!==t};var o=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;n.prototype.rgba=function(e){var t;return null!==(t=e.match(o))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3]),this.a=Number(t[4])),null!==t},n.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},n.prototype.namedColor=function(e){e=e.toLowerCase();var t=s[e];if(t)this.r=t[0],this.g=t[1],this.b=t[2];else if("transparent"===e)return!(this.r=this.g=this.b=this.a=0);return!!t},n.prototype.isColor=!0;var s={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};t.exports=n},{}],4:[function(e,t){function n(e,t){var n,a,r=w++;if((t=t||{}).logging&&(g.options.logging=!0,g.options.start=Date.now()),t.async=void 0===t.async||t.async,t.allowTaint=void 0!==t.allowTaint&&t.allowTaint,t.removeContainer=void 0===t.removeContainer||t.removeContainer,t.javascriptEnabled=void 0!==t.javascriptEnabled&&t.javascriptEnabled,t.imageTimeout=void 0===t.imageTimeout?1e4:t.imageTimeout,t.renderer="function"==typeof t.renderer?t.renderer:m,t.strict=!!t.strict,"string"==typeof e){if("string"!=typeof t.proxy)return Promise.reject("Proxy must be used when rendering url");var i=null!=t.width?t.width:window.innerWidth,o=null!=t.height?t.height:window.innerHeight;return b((n=e,(a=document.createElement("a")).href=n,a.href=a.href,a),t.proxy,document,i,o,t).then(function(e){return d(e.contentWindow.document.documentElement,e,t,i,o)})}var s,c,u,l,p,e=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return e.setAttribute(I+r,r),s=e.ownerDocument,c=t,u=e.ownerDocument.defaultView.innerWidth,l=e.ownerDocument.defaultView.innerHeight,p=r,x(s,s,u,l,c,s.defaultView.pageXOffset,s.defaultView.pageYOffset).then(function(e){g("Document cloned");var t=I+p,n="["+t+"='"+p+"']";s.querySelector(n).removeAttribute(t);var t=e.contentWindow,a=t.document.querySelector(n);return Promise.resolve("function"!=typeof c.onclone||c.onclone(t.document)).then(function(){return d(a,e,c,u,l)})}).then(function(e){return"function"==typeof t.onrendered&&(g("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),t.onrendered(e)),e})}function d(n,a,r,e,t){var i,o,s=a.contentWindow,c=new h(s.document),u=new v(r,c),l=T(n),o="view"===r.type?e:(o=s.document,Math.max(Math.max(o.body.scrollWidth,o.documentElement.scrollWidth),Math.max(o.body.offsetWidth,o.documentElement.offsetWidth),Math.max(o.body.clientWidth,o.documentElement.clientWidth))),i="view"===r.type?t:(i=s.document,Math.max(Math.max(i.body.scrollHeight,i.documentElement.scrollHeight),Math.max(i.body.offsetHeight,i.documentElement.offsetHeight),Math.max(i.body.clientHeight,i.documentElement.clientHeight))),p=new r.renderer(o,i,u,r,document);return new y(n,p,c,u,r).ready.then(function(){var e,t;return g("Finished rendering"),e="view"===r.type?f(p.canvas,{width:p.canvas.width,height:p.canvas.height,top:0,left:0,x:0,y:0}):n===s.document.body||n===s.document.documentElement||null!=r.canvas?p.canvas:f(p.canvas,{width:(null!=r.width?r:l).width,height:(null!=r.height?r:l).height,top:l.top,left:l.left,x:0,y:0}),t=a,r.removeContainer&&(t.parentNode.removeChild(t),g("Cleaned up container")),e})}function f(e,t){var n=document.createElement("canvas"),a=Math.min(e.width-1,Math.max(0,t.left)),r=Math.min(e.width,Math.max(1,t.left+t.width)),i=Math.min(e.height-1,Math.max(0,t.top)),o=Math.min(e.height,Math.max(1,t.top+t.height));n.width=t.width,n.height=t.height;r-=a,o-=i;return g("Cropping canvas at:","left:",t.left,"top:",t.top,"width:",r,"height:",o),g("Resulting crop with width",t.width,"and height",t.height,"with x",a,"and y",i),n.getContext("2d").drawImage(e,a,i,r,o,t.x,t.y,r,o),n}var h=e("./support"),m=e("./renderers/canvas"),v=e("./imageloader"),y=e("./nodeparser"),a=e("./nodecontainer"),g=e("./log"),r=e("./utils"),x=e("./clone"),b=e("./proxy").loadUrlDocument,T=r.getBounds,I="data-html2canvas-node",w=0;n.CanvasRenderer=m,n.NodeContainer=a,n.log=g,n.utils=r;r="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:n;t.exports=r},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,t){function a(e){var n;this.src=e,r("DummyImageContainer for",e),this.promise&&this.image||(r("Initiating DummyImageContainer"),a.prototype.image=new Image,n=this.image,a.prototype.promise=new Promise(function(e,t){n.onload=e,n.onerror=t,n.src=i(),!0===n.complete&&e(n)}))}var r=e("./log"),i=e("./utils").smallImage;t.exports=a},{"./log":13,"./utils":26}],6:[function(e,t){var o=e("./utils").smallImage;t.exports=function(e,t){var n=document.createElement("div"),a=document.createElement("img"),r=document.createElement("span"),i="Hidden Text";n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin=0,n.style.padding=0,document.body.appendChild(n),a.src=o(),a.width=1,a.height=1,a.style.margin=0,a.style.padding=0,a.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin=0,r.style.padding=0,r.appendChild(document.createTextNode(i)),n.appendChild(r),n.appendChild(a),t=a.offsetTop-r.offsetTop+1,n.removeChild(r),n.appendChild(document.createTextNode(i)),n.style.lineHeight="normal",a.style.verticalAlign="super",a=a.offsetTop-n.offsetTop+1,document.body.removeChild(n),this.baseline=t,this.lineWidth=1,this.middle=a}},{"./utils":26}],7:[function(e,t){function n(){this.data={}}var a=e("./font");n.prototype.getMetrics=function(e,t){return void 0===this.data[e+"-"+t]&&(this.data[e+"-"+t]=new a(e,t)),this.data[e+"-"+t]},t.exports=n},{"./font":6}],8:[function(i,e){function t(t,e,n){this.image=null,this.src=t;var a=this,r=o(t);this.promise=(e?new Promise(function(e){"about:blank"===t.contentWindow.document.URL||null==t.contentWindow.document.documentElement?t.contentWindow.onload=t.onload=function(){e(t)}:e(t)}):this.proxyLoad(n.proxy,r,n)).then(function(e){return i("./core")(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:n.proxy,javascriptEnabled:n.javascriptEnabled,removeContainer:n.removeContainer,allowTaint:n.allowTaint,imageTimeout:n.imageTimeout/2})}).then(function(e){return a.image=e})}var o=i("./utils").getBounds,r=i("./proxy").loadUrlDocument;t.prototype.proxyLoad=function(e,t,n){var a=this.src;return r(a.src,e,a.ownerDocument,t.width,t.height,n)},e.exports=t},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,t){function n(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}n.TYPES={LINEAR:1,RADIAL:2},n.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,t.exports=n},{}],10:[function(e,t){t.exports=function(n,a){this.src=n,this.image=new Image;var r=this;this.tainted=null,this.promise=new Promise(function(e,t){r.image.onload=e,r.image.onerror=t,a&&(r.image.crossOrigin="anonymous"),r.image.src=n,!0===r.image.complete&&e(r.image)})}},{}],11:[function(e,t){function n(e,t){this.link=null,this.options=e,this.support=t,this.origin=this.getOrigin(window.location.href)}var i=e("./log"),a=e("./imagecontainer"),r=e("./dummyimagecontainer"),o=e("./proxyimagecontainer"),s=e("./framecontainer"),c=e("./svgcontainer"),u=e("./svgnodecontainer"),l=e("./lineargradientcontainer"),p=e("./webkitgradientcontainer"),d=e("./utils").bind;n.prototype.findImages=function(e){var t=[];return e.reduce(function(e,t){switch(t.node.nodeName){case"IMG":return e.concat([{args:[t.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[t.node],method:t.node.nodeName}])}return e},[]).forEach(this.addImage(t,this.loadImage),this),t},n.prototype.findBackgroundImage=function(e,t){return t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},n.prototype.addImage=function(n,a){return function(t){t.args.forEach(function(e){this.imageExists(n,e)||(n.splice(0,0,a.call(this,t)),i("Added image #"+n.length,"string"==typeof e?e.substring(0,100):e))},this)}},n.prototype.hasImageBackground=function(e){return"none"!==e.method},n.prototype.loadImage=function(e){if("url"!==e.method)return"linear-gradient"===e.method?new l(e):"gradient"===e.method?new p(e):"svg"===e.method?new u(e.args[0],this.support.svg):"IFRAME"===e.method?new s(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new r(e);e=e.args[0];return!this.isSVG(e)||this.support.svg||this.options.allowTaint?e.match(/data:image\/.*;base64,/i)?new a(e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(e)||!0===this.options.allowTaint||this.isSVG(e)?new a(e,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new a(e,!0):this.options.proxy?new o(e,this.options.proxy):new r(e):new c(e)},n.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||c.prototype.isInline(e)},n.prototype.imageExists=function(e,t){return e.some(function(e){return e.src===t})},n.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},n.prototype.getOrigin=function(e){var t=this.link||(this.link=document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port},n.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout).catch(function(){return new r(t.src).promise.then(function(e){t.image=e})})},n.prototype.get=function(t){var n=null;return this.images.some(function(e){return(n=e).src===t})?n:null},n.prototype.fetch=function(e){return this.images=e.reduce(d(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(t,n){t.promise.then(function(){i("Succesfully loaded image #"+(n+1),t)},function(e){i("Failed loading image #"+(n+1),t,e)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),i("Finished searching images"),this},n.prototype.timeout=function(n,a){var r,e=Promise.race([n.promise,new Promise(function(e,t){r=setTimeout(function(){i("Timed out loading image",n),t(n)},a)})]).then(function(e){return clearTimeout(r),e});return e.catch(function(){clearTimeout(r)}),e},t.exports=n},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,t){function n(e){a.apply(this,arguments),this.type=a.TYPES.LINEAR;var t=n.REGEXP_DIRECTION.test(e.args[0])||!a.REGEXP_COLORSTOP.test(e.args[0]);t?e.args[0].split(/\s+/).reverse().forEach(function(e,t){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var n=this.y0,a=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=a,this.y1=n;break;case"center":break;default:n=.01*parseFloat(e,10);if(isNaN(n))break;0===t?(this.y0=n,this.y1=1-this.y0):(this.x0=n,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(t?1:0).map(function(e){var t=e.match(a.REGEXP_COLORSTOP),n=+t[2],e=0==n?"%":t[3];return{color:new r(t[1]),stop:"%"===e?n/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(n,a){null===n.stop&&this.colorStops.slice(a).some(function(e,t){return null!==e.stop&&(n.stop=(e.stop-this.colorStops[a-1].stop)/(t+1)+this.colorStops[a-1].stop,!0)},this)},this)}var a=e("./gradientcontainer"),r=e("./color");n.prototype=Object.create(a.prototype),n.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,t.exports=n},{"./color":3,"./gradientcontainer":9}],13:[function(e,t){function n(){n.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-n.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))}n.options={logging:!1},t.exports=n},{}],14:[function(e,t){function n(e,t){this.node=e,this.parent=t,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function o(e){return-1!==e.toString().indexOf("%")}function a(e){return e.replace("px","")}function r(e){return parseFloat(e)}var i=e("./color"),e=e("./utils"),s=e.getBounds,c=e.parseBackgrounds,u=e.offsetBounds;n.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},n.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},n.prototype.assignStack=function(e){(this.stack=e).children.push(this)},n.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},n.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},n.prototype.prefixedCss=function(t){var n=this.css(t);return void 0===n&&["webkit","moz","ms","o"].some(function(e){return void 0!==(n=this.css(e+t.substr(0,1).toUpperCase()+t.substr(1)))},this),void 0===n?null:n},n.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},n.prototype.cssInt=function(e){e=parseInt(this.css(e),10);return isNaN(e)?0:e},n.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new i(this.css(e)))},n.prototype.cssFloat=function(e){e=parseFloat(this.css(e));return isNaN(e)?0:e},n.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},n.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},n.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=c(this.css("backgroundImage")))},n.prototype.cssList=function(e,t){e=(this.css(e)||"").split(",");return e=1===(e=(e=e[t||0]||e[0]||"auto").trim().split(" ")).length?[e[0],o(e[0])?"auto":e[0]]:e},n.prototype.parseBackgroundSize=function(e,t,n){var a,r=this.cssList("backgroundSize",n);if(o(r[0]))a=e.width*parseFloat(r[0])/100;else{if(/contain|cover/.test(r[0])){var i=e.width/e.height,n=t.width/t.height;return i<n^"contain"===r[0]?{width:e.height*n,height:e.height}:{width:e.width,height:e.width/n}}a=parseInt(r[0],10)}return e="auto"===r[0]&&"auto"===r[1]?t.height:"auto"===r[1]?a/t.width*t.height:o(r[1])?e.height*parseFloat(r[1])/100:parseInt(r[1],10),{width:a="auto"===r[0]?e/t.height*t.width:a,height:e}},n.prototype.parseBackgroundPosition=function(e,t,n,a){var r=this.cssList("backgroundPosition",n),n=o(r[0])?(e.width-(a||t).width)*(parseFloat(r[0])/100):parseInt(r[0],10),a="auto"===r[1]?n/t.width*t.height:o(r[1])?(e.height-(a||t).height)*parseFloat(r[1])/100:parseInt(r[1],10);return{left:n="auto"===r[0]?a/t.height*t.width:n,top:a}},n.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},n.prototype.parseTextShadows=function(){var e=this.css("textShadow"),t=[];if(e&&"none"!==e)for(var n=e.match(this.TEXT_SHADOW_PROPERTY),a=0;n&&a<n.length;a++){var r=n[a].match(this.TEXT_SHADOW_VALUES);t.push({color:new i(r[0]),offsetX:r[1]?parseFloat(r[1].replace("px","")):0,offsetY:r[2]?parseFloat(r[2].replace("px","")):0,blur:r[3]?r[3].replace("px",""):0})}return t},n.prototype.parseTransform=function(){var e,t;return this.transformData||(this.hasTransform()?(e=this.parseBounds(),(t=this.prefixedCss("transformOrigin").split(" ").map(a).map(r))[0]+=e.left,t[1]+=e.top,this.transformData={origin:t,matrix:this.parseTransformMatrix()}):this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]}),this.transformData},n.prototype.parseTransformMatrix=function(){var e;return this.transformMatrix||(e=(e=this.prefixedCss("transform"))?function(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){e=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[e[0],e[1],e[4],e[5],e[12],e[13]]}}(e.match(this.MATRIX_PROPERTY)):null,this.transformMatrix=e||[1,0,0,1,0,0]),this.transformMatrix},n.prototype.parseBounds=function(){return this.bounds||(this.bounds=(this.hasTransform()?u:s)(this.node))},n.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},n.prototype.getValue=function(){var e,t=this.node.value||"";return"SELECT"===this.node.tagName?t=(e=(e=this.node).options[e.selectedIndex||0])&&e.text||"":"password"===this.node.type&&(t=Array(t.length+1).join("•")),0===t.length?this.node.placeholder||"":t},n.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,n.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,n.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,n.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,t.exports=n},{"./color":3,"./utils":26}],15:[function(e,t){function n(e,t,n,a,r){N("Starting NodeParser"),this.renderer=t,this.options=r,this.range=null,this.support=n,this.renderQueue=[],this.stack=new L(!0,1,e.ownerDocument,null);var i=new O(e,null);r.background&&t.rectangle(0,0,t.width,t.height,new A(r.background)),e===e.ownerDocument.documentElement&&(n=new O(i.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null),t.rectangle(0,0,t.width,t.height,n.color("backgroundColor"))),i.visibile=i.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=S([i].concat(this.getChildren(i)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new M,N("Fetched nodes, total:",this.nodes.length),N("Calculate overflow clips"),this.calculateOverflowClips(),N("Start fetching images"),this.images=a.fetch(this.nodes.filter(I)),this.ready=this.images.ready.then(P(function(){return N("Images loaded, starting parsing"),N("Creating stacking contexts"),this.createStackingContexts(),N("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),N("Render queue created with "+this.renderQueue.length+" items"),new Promise(P(function(e){r.async?"function"==typeof r.async?r.async.call(this,this.renderQueue,e):0<this.renderQueue.length?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function a(e){return e.parent&&e.parent.clip.length}function s(){}function c(o,s,c,u){return o.map(function(e,t){if(0<e.width){var n=s.left,a=s.top,r=s.width,i=s.height-o[2].width;switch(t){case 0:i=o[0].width,e.args=p({c1:[n,a],c2:[n+r,a],c3:[n+r-o[1].width,a+i],c4:[n+o[3].width,a+i]},u[0],u[1],c.topLeftOuter,c.topLeftInner,c.topRightOuter,c.topRightInner);break;case 1:n=s.left+s.width-o[1].width,r=o[1].width,e.args=p({c1:[n+r,a],c2:[n+r,a+i+o[2].width],c3:[n,a+i],c4:[n,a+o[0].width]},u[1],u[2],c.topRightOuter,c.topRightInner,c.bottomRightOuter,c.bottomRightInner);break;case 2:a=a+s.height-o[2].width,i=o[2].width,e.args=p({c1:[n+r,a+i],c2:[n,a+i],c3:[n+o[3].width,a],c4:[n+r-o[3].width,a]},u[2],u[3],c.bottomRightOuter,c.bottomRightInner,c.bottomLeftOuter,c.bottomLeftInner);break;case 3:r=o[3].width,e.args=p({c1:[n,a+i+o[2].width],c2:[n,a],c3:[n+r,a+o[0].width],c4:[n+r,a+i]},u[3],u[0],c.bottomLeftOuter,c.bottomLeftInner,c.topLeftOuter,c.topLeftInner)}}return e})}function y(e,t,n,a){var r=(Math.sqrt(2)-1)/3*4,i=n*r,r=a*r,n=e+n,a=t+a;return{topLeft:l({x:e,y:a},{x:e,y:a-r},{x:n-i,y:t},{x:n,y:t}),topRight:l({x:e,y:t},{x:e+i,y:t},{x:n,y:a-r},{x:n,y:a}),bottomRight:l({x:n,y:t},{x:n,y:t+r},{x:e+i,y:a},{x:e,y:a}),bottomLeft:l({x:n,y:a},{x:n-i,y:a},{x:e,y:t+r},{x:e,y:t})}}function u(e,t,n){var a=e.left,r=e.top,i=e.width,o=e.height,s=t[0][0]<i/2?t[0][0]:i/2,c=t[0][1]<o/2?t[0][1]:o/2,u=t[1][0]<i/2?t[1][0]:i/2,l=t[1][1]<o/2?t[1][1]:o/2,p=t[2][0]<i/2?t[2][0]:i/2,d=t[2][1]<o/2?t[2][1]:o/2,f=t[3][0]<i/2?t[3][0]:i/2,h=t[3][1]<o/2?t[3][1]:o/2,m=i-u,v=o-d,e=i-p,t=o-h;return{topLeftOuter:y(a,r,s,c).topLeft.subdivide(.5),topLeftInner:y(a+n[3].width,r+n[0].width,Math.max(0,s-n[3].width),Math.max(0,c-n[0].width)).topLeft.subdivide(.5),topRightOuter:y(a+m,r,u,l).topRight.subdivide(.5),topRightInner:y(a+Math.min(m,i+n[3].width),r+n[0].width,m>i+n[3].width?0:u-n[3].width,l-n[0].width).topRight.subdivide(.5),bottomRightOuter:y(a+e,r+v,p,d).bottomRight.subdivide(.5),bottomRightInner:y(a+Math.min(e,i-n[3].width),r+Math.min(v,o+n[0].width),Math.max(0,p-n[1].width),d-n[2].width).bottomRight.subdivide(.5),bottomLeftOuter:y(a,r+t,f,h).bottomLeft.subdivide(.5),bottomLeftInner:y(a+n[3].width,r+t,Math.max(0,f-n[3].width),h-n[2].width).bottomLeft.subdivide(.5)}}function l(i,o,s,c){function u(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}return{start:i,startControl:o,endControl:s,end:c,subdivide:function(e){var t=u(i,o,e),n=u(o,s,e),a=u(s,c,e),r=u(t,n,e),n=u(n,a,e),e=u(r,n,e);return[l(i,t,r,e),l(e,n,a,c)]},curveTo:function(e){e.push(["bezierCurve",o.x,o.y,s.x,s.y,c.x,c.y])},curveToReversed:function(e){e.push(["bezierCurve",s.x,s.y,o.x,o.y,i.x,i.y])}}}function p(e,t,n,a,r,i,o){var s=[];return 0<t[0]||0<t[1]?(s.push(["line",a[1].start.x,a[1].start.y]),a[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),0<n[0]||0<n[1]?(s.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(s),s.push(["line",o[0].end.x,o[0].end.y]),o[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),0<t[0]||0<t[1]?(s.push(["line",r[1].end.x,r[1].end.y]),r[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function o(e,t,n,a,r,i,o){0<t[0]||0<t[1]?(e.push(["line",a[0].start.x,a[0].start.y]),a[0].curveTo(e),a[1].curveTo(e)):e.push(["line",i,o]),(0<n[0]||0<n[1])&&e.push(["line",r[0].start.x,r[0].start.y])}function d(e){return e.cssInt("zIndex")<0}function f(e){return 0<e.cssInt("zIndex")}function h(e){return 0===e.cssInt("zIndex")}function m(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function v(e){return e instanceof L}function g(e){return 0<e.node.data.trim().length}function r(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function x(e){return"static"!==e.css("position")}function b(e){return"none"!==e.css("float")}function T(e){var t=this;return function(){return!e.apply(t,arguments)}}function I(e){return e.node.nodeType===Node.ELEMENT_NODE}function i(e){return!0===e.isPseudoElement}function w(e){return e.node.nodeType===Node.TEXT_NODE}function E(e){return parseInt(e,10)}function k(e){return e.width}function C(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function S(e){return[].concat.apply([],e)}var N=e("./log"),_=e("punycode"),O=e("./nodecontainer"),j=e("./textcontainer"),D=e("./pseudoelementcontainer"),M=e("./fontmetrics"),A=e("./color"),L=e("./stackingcontext"),e=e("./utils"),P=e.bind,F=e.getBounds,R=e.parseBackgrounds,z=e.offsetBounds;n.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){var t,n;I(e)?(i(e)&&e.appendToDOM(),e.borders=this.parseBorders(e),t="hidden"===e.css("overflow")?[e.borders.clip]:[],(n=e.parseClip())&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&t.push([["rect",e.bounds.left+n.left,e.bounds.top+n.top,n.right-n.left,n.bottom-n.top]]),e.clip=a(e)?e.parent.clip.concat(t):t,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,i(e)&&e.cleanDOM()):w(e)&&(e.clip=a(e)?e.parent.clip:[]),i(e)||(e.bounds=null)},this)},n.prototype.asyncRenderer=function(e,t,n){n=n||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?t():n+20>Date.now()?this.asyncRenderer(e,t,n):setTimeout(P(function(){this.asyncRenderer(e,t)},this),0)},n.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+D.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+D.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},n.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},n.prototype.createStyles=function(e,t){var n=e.createElement("style");n.innerHTML=t,e.body.appendChild(n)},n.prototype.getPseudoElements=function(e){var t,n=[[e]];return e.node.nodeType===Node.ELEMENT_NODE&&(t=this.getPseudoElement(e,":before"),e=this.getPseudoElement(e,":after"),t&&n.push(t),e&&n.push(e)),S(n)},n.prototype.getPseudoElement=function(e,t){var n=e.computedStyle(t);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var a,r=(a=n.content,(r=a.substr(0,1))===a.substr(a.length-1)&&r.match(/'|"/)?a.substr(1,a.length-2):a),a="url"===r.substr(0,3),i=document.createElement(a?"img":"html2canvaspseudoelement"),t=new D(i,e,t),o=n.length-1;0<=o;o--){var s=n.item(o).replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")});i.style[s]=n[s]}if(i.className=D.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+D.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,a)return i.src=R(r)[0].args[0],[t];var r=document.createTextNode(r);return i.appendChild(r),[t,new j(r,t)]},n.prototype.getChildren=function(n){return S([].filter.call(n.node.childNodes,r).map(function(e){var t=[new(e.nodeType===Node.TEXT_NODE?j:O)(e,n)].filter(C);return e.nodeType===Node.ELEMENT_NODE&&t.length&&"TEXTAREA"!==e.tagName?t[0].isElementVisible()?t.concat(this.getChildren(t[0])):[]:t},this))},n.prototype.newStackingContext=function(e,t){var n=new L(t,e.getOpacity(),e.node,e.parent);e.cloneTo(n),(t?n.getParentStack(this):n.parent.stack).contexts.push(n),e.stack=n},n.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){var t,n;I(e)&&(this.isRootElement(e)||e.getOpacity()<1||(n=(t=e).css("position"),"auto"!==(-1!==["absolute","relative","fixed"].indexOf(n)?t.css("zIndex"):"auto"))||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):I(e)&&(x(e)&&h(e)||-1!==["inline-block","inline-table"].indexOf(e.css("display"))||b(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},n.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},n.prototype.isRootElement=function(e){return null===e.parent},n.prototype.sortStackingContexts=function(e){var n;e.contexts.sort((n=e.contexts.slice(0),function(e,t){return e.cssInt("zIndex")+n.indexOf(e)/n.length-(t.cssInt("zIndex")+n.indexOf(t)/n.length)})),e.contexts.forEach(this.sortStackingContexts,this)},n.prototype.parseTextBounds=function(r){return function(e,t,n){if("none"!==r.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!r.parent.hasTransform()){var a=n.slice(0,t).join("").length;return this.getRangeBounds(r.node,a,e.length)}if(r.node&&"string"==typeof r.node.data){t=r.node.splitText(e.length),a=this.getWrapperBounds(r.node,r.parent.hasTransform());return r.node=t,a}}else this.support.rangeBounds&&!r.parent.hasTransform()||(r.node=r.node.splitText(e.length));return{}}},n.prototype.getWrapperBounds=function(e,t){var n=e.ownerDocument.createElement("html2canvaswrapper"),a=e.parentNode,r=e.cloneNode(!0);n.appendChild(e.cloneNode(!0)),a.replaceChild(n,e);t=(t?z:F)(n);return a.replaceChild(r,n),t},n.prototype.getRangeBounds=function(e,t,n){var a=this.range||(this.range=e.ownerDocument.createRange());return a.setStart(e,t),a.setEnd(e,t+n),a.getBoundingClientRect()},n.prototype.parse=function(e){var t=e.contexts.filter(d),n=e.children.filter(I),a=n.filter(T(b)),r=a.filter(T(x)).filter(T(m)),i=n.filter(T(x)).filter(b),o=a.filter(T(x)).filter(m),n=e.contexts.concat(a.filter(x)).filter(h),a=e.children.filter(w).filter(g),e=e.contexts.filter(f);t.concat(r).concat(i).concat(o).concat(n).concat(a).concat(e).forEach(function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new s))},this)},n.prototype.paint=function(e){try{e instanceof s?this.renderer.ctx.restore():w(e)?(i(e.parent)&&e.parent.appendToDOM(),this.paintText(e),i(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(e){if(N(e),this.options.strict)throw e}},n.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},n.prototype.paintElement=function(t){var n=t.parseBounds();this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,n,t.borders.borders.map(k))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var e=this.images.get(t.node);e?this.renderer.renderImage(t,n,t.borders,e):N("Error loading <"+t.node.nodeName+">",t.node);break;case"IMG":e=this.images.get(t.node.src);e?this.renderer.renderImage(t,n,t.borders,e):N("Error loading <img>",t.node.src);break;case"CANVAS":this.renderer.renderImage(t,n,t.borders,{image:t.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t)}},this)},n.prototype.paintCheckbox=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height),a={width:n-1,height:n-1,top:t.top,left:t.left},t=[3,3],r=[t,t,t,t],i=[1,1,1,1].map(function(e){return{color:new A("#A5A5A5"),width:e}}),o=u(a,r,i);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(a.left+1,a.top+1,a.width-2,a.height-2,new A("#DEDEDE")),this.renderer.renderBorders(c(i,a,o,r)),e.node.checked&&(this.renderer.font(new A("#424242"),"normal","normal","bold",n-3+"px","arial"),this.renderer.text("✔",a.left+n/6,a.top+n-1))},this)},n.prototype.paintRadio=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(t.left+1,t.top+1,n,new A("#DEDEDE"),1,new A("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(t.left+n/4)+1,Math.ceil(t.top+n/4)+1,Math.floor(n/2),new A("#424242"))},this)},n.prototype.paintFormValue=function(t){var e,n,a,r=t.getValue();0<r.length&&(e=t.node.ownerDocument,n=e.createElement("html2canvaswrapper"),["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(e){try{n.style[e]=t.css(e)}catch(e){N("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}}),a=t.parseBounds(),n.style.position="fixed",n.style.left=a.left+"px",n.style.top=a.top+"px",n.textContent=r,e.body.appendChild(n),this.paintText(new j(n.firstChild,t)),e.body.removeChild(n))},n.prototype.paintText=function(n){n.applyTextTransform();var e=_.ucs2.decode(n.node.data),a=this.options.letterRendering&&!/^(normal|none|0px)$/.test(n.parent.css("letterSpacing"))||/[^\u0000-\u00ff]/.test(n.node.data)?e.map(function(e){return _.ucs2.encode([e])}):function(e){for(var t,n=[],a=0,r=!1;e.length;)-1!==[32,13,10,9,45].indexOf(e[a])===r?((t=e.splice(0,a)).length&&n.push(_.ucs2.encode(t)),r=!r,a=0):a++,a>=e.length&&((t=e.splice(0,a)).length&&n.push(_.ucs2.encode(t)));return n}(e),t=n.parent.fontWeight(),r=n.parent.css("fontSize"),i=n.parent.css("fontFamily"),e=n.parent.parseTextShadows();this.renderer.font(n.parent.color("color"),n.parent.css("fontStyle"),n.parent.css("fontVariant"),t,r,i),e.length?this.renderer.fontShadow(e[0].color,e[0].offsetX,e[0].offsetY,e[0].blur):this.renderer.clearShadow(),this.renderer.clip(n.parent.clip,function(){a.map(this.parseTextBounds(n),this).forEach(function(e,t){e&&(this.renderer.text(a[t],e.left,e.bottom),this.renderTextDecoration(n.parent,e,this.fontMetrics.getMetrics(i,r)))},this)},this)},n.prototype.renderTextDecoration=function(e,t,n){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(t.left,Math.round(t.top+n.baseline+n.lineWidth),t.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(t.left,Math.round(t.top),t.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(t.left,Math.ceil(t.top+n.middle+n.lineWidth),t.width,1,e.color("color"))}};var V={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};n.prototype.parseBorders=function(r){var t,e=r.parseBounds(),n=(t=r,["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){e=t.css("border"+e+"Radius").split(" ");return e.length<=1&&(e[1]=e[0]),e.map(E)})),a=["Top","Right","Bottom","Left"].map(function(e,t){var n=r.css("border"+e+"Style"),a=r.color("border"+e+"Color");"inset"===n&&a.isBlack()&&(a=new A([255,255,255,a.a]));t=V[n]?V[n][t]:null;return{width:r.cssInt("border"+e+"Width"),color:t?a[t[0]](t[1]):a,args:null}}),i=u(e,n,a);return{clip:this.parseBackgroundClip(r,i,a,n,e),borders:c(a,e,i,n)}},n.prototype.parseBackgroundClip=function(e,t,n,a,r){var i=[];switch(e.css("backgroundClip")){case"content-box":case"padding-box":o(i,a[0],a[1],t.topLeftInner,t.topRightInner,r.left+n[3].width,r.top+n[0].width),o(i,a[1],a[2],t.topRightInner,t.bottomRightInner,r.left+r.width-n[1].width,r.top+n[0].width),o(i,a[2],a[3],t.bottomRightInner,t.bottomLeftInner,r.left+r.width-n[1].width,r.top+r.height-n[2].width),o(i,a[3],a[0],t.bottomLeftInner,t.topLeftInner,r.left+n[3].width,r.top+r.height-n[2].width);break;default:o(i,a[0],a[1],t.topLeftOuter,t.topRightOuter,r.left,r.top),o(i,a[1],a[2],t.topRightOuter,t.bottomRightOuter,r.left+r.width,r.top),o(i,a[2],a[3],t.bottomRightOuter,t.bottomLeftOuter,r.left+r.width,r.top+r.height),o(i,a[3],a[0],t.bottomLeftOuter,t.topLeftOuter,r.left,r.top+r.height)}return i},t.exports=n},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,t,n){function s(e,t,n){var a="withCredentials"in new XMLHttpRequest;if(!t)return Promise.reject("No proxy configured");var r=o(a),e=c(t,e,r);return a?u(e):i(n,e,r).then(function(e){return d(e.content)})}function i(r,i,o){return new Promise(function(t,n){function a(){delete window.html2canvas.proxy[o],r.body.removeChild(e)}var e=r.createElement("script");window.html2canvas.proxy[o]=function(e){a(),t(e)},e.src=i,e.onerror=function(e){a(),n(e)},r.body.appendChild(e)})}function o(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++r+"_"+Math.round(1e5*Math.random())}function c(e,t,n){return e+"?url="+encodeURIComponent(t)+(n.length?"&callback=html2canvas.proxy."+n:"")}var u=e("./xhr"),a=e("./utils"),l=e("./log"),p=e("./clone"),d=a.decode64,r=0;n.Proxy=s,n.ProxyURL=function(e,t,n){var a="crossOrigin"in new Image,r=o(a),e=c(t,e,r);return a?Promise.resolve(e):i(n,e,r).then(function(e){return"data:"+e.type+";base64,"+e.content})},n.loadUrlDocument=function(e,t,n,a,r,i){return new s(e,t,window.document).then((o=e,function(t){var n,e=new DOMParser;try{n=e.parseFromString(t,"text/html")}catch(e){l("DOMParser not supported, falling back to createHTMLDocument"),n=document.implementation.createHTMLDocument("");try{n.open(),n.write(t),n.close()}catch(e){l("createHTMLDocument write not supported, falling back to document.body.innerHTML"),n.body.innerHTML=t}}t=n.querySelector("base");return t&&t.href.host||((t=n.createElement("base")).href=o,n.head.insertBefore(t,n.head.firstChild)),n})).then(function(e){return p(e,n,a,r,i,0,0)});var o}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,t){var i=e("./proxy").ProxyURL;t.exports=function(n,a){var e=document.createElement("a");e.href=n,n=e.href,this.src=n,this.image=new Image;var r=this;this.promise=new Promise(function(e,t){r.image.crossOrigin="Anonymous",r.image.onload=e,r.image.onerror=t,new i(n,a,document).then(function(e){r.image.src=e}).catch(t)})}},{"./proxy":16}],18:[function(e,t){function n(e,t,n){a.call(this,e,t),this.isPseudoElement=!0,this.before=":before"===n}var a=e("./nodecontainer");n.prototype.cloneTo=function(e){n.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},(n.prototype=Object.create(a.prototype)).appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},n.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},n.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",t.exports=n},{"./nodecontainer":14}],19:[function(e,t){function n(e,t,n,a,r){this.width=e,this.height=t,this.images=n,this.options=a,this.document=r}var s=e("./log");n.prototype.renderImage=function(e,t,n,a){var r=e.cssInt("paddingLeft"),i=e.cssInt("paddingTop"),o=e.cssInt("paddingRight"),e=e.cssInt("paddingBottom"),n=n.borders,o=t.width-(n[1].width+n[3].width+r+o),e=t.height-(n[0].width+n[2].width+i+e);this.drawImage(a,0,0,a.image.width||o,a.image.height||e,t.left+r+n[3].width,t.top+i+n[0].width,o,e)},n.prototype.renderBackground=function(e,t,n){0<t.height&&0<t.width&&(this.renderBackgroundColor(e,t),this.renderBackgroundImage(e,t,n))},n.prototype.renderBackgroundColor=function(e,t){e=e.color("backgroundColor");e.isTransparent()||this.rectangle(t.left,t.top,t.width,t.height,e)},n.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},n.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},n.prototype.renderBackgroundImage=function(r,i,o){r.parseBackgroundImages().reverse().forEach(function(e,t,n){switch(e.method){case"url":var a=this.images.get(e.args[0]);a?this.renderBackgroundRepeating(r,i,a,n.length-(t+1),o):s("Error loading background-image",e.args[0]);break;case"linear-gradient":case"gradient":a=this.images.get(e.value);a?this.renderBackgroundGradient(a,i,o):s("Error loading background-image",e.args[0]);break;case"none":break;default:s("Unknown background-image type",e.args[0])}},this)},n.prototype.renderBackgroundRepeating=function(e,t,n,a,r){var i=e.parseBackgroundSize(t,n.image,a),o=e.parseBackgroundPosition(t,n.image,a,i);switch(e.parseBackgroundRepeat(a)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(n,o,i,t,t.left+r[3],t.top+o.top+r[0],99999,i.height,r);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(n,o,i,t,t.left+o.left+r[3],t.top+r[0],i.width,99999,r);break;case"no-repeat":this.backgroundRepeatShape(n,o,i,t,t.left+o.left+r[3],t.top+o.top+r[0],i.width,i.height,r);break;default:this.renderBackgroundRepeat(n,o,i,{top:t.top,left:t.left},r[3],r[0])}},t.exports=n},{"./log":13}],20:[function(e,t){function n(e,t){r.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=t),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},o("Initialized CanvasRenderer with size",e,"x",t)}function a(e){return 0<e.length}var r=e("../renderer"),i=e("../lineargradientcontainer"),o=e("../log");(n.prototype=Object.create(r.prototype)).setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},n.prototype.rectangle=function(e,t,n,a,r){this.setFillStyle(r).fillRect(e,t,n,a)},n.prototype.circle=function(e,t,n,a){this.setFillStyle(a),this.ctx.beginPath(),this.ctx.arc(e+n/2,t+n/2,n/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},n.prototype.circleStroke=function(e,t,n,a,r,i){this.circle(e,t,n,a),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},n.prototype.drawShape=function(e,t){this.shape(e),this.setFillStyle(t).fill()},n.prototype.taints=function(t){if(null===t.tainted){this.taintCtx.drawImage(t.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),t.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),t.tainted=!0}}return t.tainted},n.prototype.drawImage=function(e,t,n,a,r,i,o,s,c){this.taints(e)&&!this.options.allowTaint||this.ctx.drawImage(e.image,t,n,a,r,i,o,s,c)},n.prototype.clip=function(e,t,n){this.ctx.save(),e.filter(a).forEach(function(e){this.shape(e).clip()},this),t.call(n),this.ctx.restore()},n.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,t){("rect"===e[0]?this.ctx.rect:this.ctx[0===t?"moveTo":e[0]+"To"]).apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},n.prototype.font=function(e,t,n,a,r,i){this.setFillStyle(e).font=[t,n,a,r,i].join(" ").split(",")[0]},n.prototype.fontShadow=function(e,t,n,a){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",t).setVariable("shadowOffsetX",n).setVariable("shadowBlur",a)},n.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},n.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},n.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},n.prototype.setVariable=function(e,t){return this.variables[e]!==t&&(this.variables[e]=this.ctx[e]=t),this},n.prototype.text=function(e,t,n){this.ctx.fillText(e,t,n)},n.prototype.backgroundRepeatShape=function(e,t,n,a,r,i,o,s,c){i=[["line",Math.round(r),Math.round(i)],["line",Math.round(r+o),Math.round(i)],["line",Math.round(r+o),Math.round(s+i)],["line",Math.round(r),Math.round(s+i)]];this.clip([i],function(){this.renderBackgroundRepeat(e,t,n,a,c[3],c[0])},this)},n.prototype.renderBackgroundRepeat=function(e,t,n,a,r,i){r=Math.round(a.left+t.left+r),i=Math.round(a.top+t.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,n),"repeat")),this.ctx.translate(r,i),this.ctx.fill(),this.ctx.translate(-r,-i)},n.prototype.renderBackgroundGradient=function(e,t){var n;e instanceof i&&(n=this.ctx.createLinearGradient(t.left+t.width*e.x0,t.top+t.height*e.y0,t.left+t.width*e.x1,t.top+t.height*e.y1),e.colorStops.forEach(function(e){n.addColorStop(e.stop,e.color.toString())}),this.rectangle(t.left,t.top,t.width,t.height,n))},n.prototype.resizeImage=function(e,t){var n=e.image;if(n.width===t.width&&n.height===t.height)return n;e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,t.width,t.height),e},t.exports=n},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,t){function n(e,t,n,a){r.call(this,n,a),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*t}var r=e("./nodecontainer");(n.prototype=Object.create(r.prototype)).getParentStack=function(e){var t=this.parent?this.parent.stack:null;return t?t.ownStacking?t:t.getParentStack(e):e.stack},t.exports=n},{"./nodecontainer":14}],22:[function(e,t){function n(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}n.prototype.testRangeBounds=function(e){var t,n,a=!1;return e.createRange&&((t=e.createRange()).getBoundingClientRect&&((n=e.createElement("boundtest")).style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),123===t.getBoundingClientRect().height&&(a=!0),e.body.removeChild(n))),a},n.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},n.prototype.testSVG=function(){var e=new Image,t=document.createElement("canvas"),n=t.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch(e){return!1}return!0},t.exports=n},{}],23:[function(e,t){function n(e){this.src=e,this.image=null;var n=this;this.promise=this.hasFabric().then(function(){return n.isInline(e)?Promise.resolve(n.inlineFormatting(e)):a(e)}).then(function(t){return new Promise(function(e){window.html2canvas.svg.fabric.loadSVGFromString(t,n.createCanvas.call(n,e))})})}var a=e("./xhr"),r=e("./utils").decode64;n.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},n.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},n.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},n.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},n.prototype.createCanvas=function(a){var r=this;return function(e,t){var n=new window.html2canvas.svg.fabric.StaticCanvas("c");r.image=n.lowerCanvasEl,n.setWidth(t.width).setHeight(t.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(e,t)).renderAll(),a(n.lowerCanvasEl)}},n.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):r(e)},t.exports=n},{"./utils":26,"./xhr":28}],24:[function(e,t){function n(n,e){this.src=n,this.image=null;var a=this;this.promise=e?new Promise(function(e,t){a.image=new Image,a.image.onload=e,a.image.onerror=t,a.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(n),!0===a.image.complete&&e(a.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(n,a.createCanvas.call(a,e))})})}e=e("./svgcontainer");n.prototype=Object.create(e.prototype),t.exports=n},{"./svgcontainer":23}],25:[function(e,t){function n(e,t){r.call(this,e,t)}function a(e,t,n){return 0<e.length?t+n.toUpperCase():void 0}var r=e("./nodecontainer");(n.prototype=Object.create(r.prototype)).applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},n.prototype.transform=function(e){var t=this.node.data;switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,a);case"uppercase":return t.toUpperCase();default:return t}},t.exports=n},{"./nodecontainer":14}],26:[function(e,t,n){n.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n.bind=function(e,t){return function(){return e.apply(t,arguments)}},n.decode64=function(e){for(var t,n,a,r,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=e.length,c="",u=0;u<s;u+=4)a=o.indexOf(e[u])<<2|(i=o.indexOf(e[u+1]))>>4,r=(15&i)<<4|(t=o.indexOf(e[u+2]))>>2,i=(3&t)<<6|(n=o.indexOf(e[u+3])),c+=64===t?String.fromCharCode(a):64===n||-1===n?String.fromCharCode(a,r):String.fromCharCode(a,r,i);return c},n.getBounds=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=null==e.offsetWidth?t.width:e.offsetWidth;return{top:t.top,bottom:t.bottom||t.top+t.height,right:t.left+n,left:t.left,width:n,height:null==e.offsetHeight?t.height:e.offsetHeight}}return{}},n.offsetBounds=function(e){var t=e.offsetParent?n.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,right:e.offsetLeft+t.left+e.offsetWidth,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},n.parseBackgrounds=function(e){function t(){p&&((n='"'===n.substr(0,1)?n.substr(1,n.length-2):n)&&l.push(n),"-"===p.substr(0,1)&&0<(r=p.indexOf("-",1)+1)&&(a=p.substr(0,r),p=p.substr(r)),s.push({prefix:a,method:p.toLowerCase(),value:i,args:l,image:null})),l=[],p=a=n=i=""}var n,a,r,i,o,s=[],c=0,u=0,l=[],p=a=n=i="";return e.split("").forEach(function(e){if(!(0===c&&-1<" \r\n\t".indexOf(e))){switch(e){case'"':o?o===e&&(o=null):o=e;break;case"(":if(o)break;if(0===c)return c=1,void(i+=e);u++;break;case")":if(o)break;if(1===c){if(0===u)return c=0,i+=e,void t();u--}break;case",":if(o)break;if(0===c)return void t();if(1===c&&0===u&&!p.match(/^url$/i))return l.push(n),n="",void(i+=e)}i+=e,0===c?p+=e:n+=e}}),t(),s}},{}],27:[function(e,t){function n(e){a.apply(this,arguments),this.type="linear"===e.args[0]?a.TYPES.LINEAR:a.TYPES.RADIAL}var a=e("./gradientcontainer");n.prototype=Object.create(a.prototype),t.exports=n},{"./gradientcontainer":9}],28:[function(e,t){t.exports=function(a){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",a),n.onload=function(){200===n.status?e(n.responseText):t(new Error(n.statusText))},n.onerror=function(){t(new Error("Network Error"))},n.send()})}},{}]},{},[4])(4)},90549:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var a,r,i,o,s,c,u,l,p,t=n(48926),d=n.n(t),t=n(87757),f=n.n(t),h="YUNTING_INDEXEDDB",m={indexedDB:window.indexedDB||window.webkitindexedDB,store:{html:{name:"dashboardChangeRecode",key:"id",cursorIndex:[{name:"chartName",unique:!1}]},pageData:{name:"pageData",key:"type",cursorIndex:[{name:"type",unique:!1},{name:"createdAt",unique:!1},{name:"updatedAt",unique:!1}]},projectData:{name:"projectData",key:"projectId",cursorIndex:[{name:"createdAt",unique:!1},{name:"updatedAt",unique:!1}]}},init:function(){return d()(f().mark(function e(){var o,t;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=(o=m).indexedDB.open(h,2)).onerror=function(){console.log("打开数据库失败")},t.onsuccess=function(){console.log("打开数据库成功")},t.onupgradeneeded=function(e){var t,n=e.target.result;for(t in o.store)if(!n.objectStoreNames.contains(o.store[t].name))for(var a=n.createObjectStore(o.store[t].name,{keyPath:o.store[t].key}),r=0;r<o.store[t].cursorIndex.length;r++){var i=o.store[t].cursorIndex[r];a.createIndex(i.name,i.name,{unique:i.unique})}};case 5:case"end":return e.stop()}},e)}))()},openDB:function(){return new Promise(function(t,n){var e=m.indexedDB.open(h,2);e.onerror=function(e){n("IndexedDB数据库打开错误，"+e)},e.onsuccess=function(e){t(e.target.result)}})},add:(p=d()(f().mark(function e(t,n){var a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.openDB();case 3:return a=e.sent,r=a.transaction(t.name,"readwrite").objectStore(t.name).add(n),e.abrupt("return",new Promise(function(e,t){r.onerror=function(e){t("添加数据出错:"+e)},r.onsuccess=function(){e(!0)}}));case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.resolve(!1));case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,t){return p.apply(this,arguments)}),delete:(l=d()(f().mark(function e(t,n){var a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.openDB();case 3:return a=e.sent,r=a.transaction(t.name,"readwrite").objectStore(t.name).delete(n),e.abrupt("return",new Promise(function(e){r.onerror=function(){e(!1)},r.onsuccess=function(){e(!0)}}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.resolve(!1));case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,t){return l.apply(this,arguments)}),get:(u=d()(f().mark(function e(t,n,a){var r,i,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.openDB();case 3:return r=e.sent,r=r.transaction(t.name,"readonly").objectStore(t.name),i=n?(a?r.index(a):r).get(n):r.openCursor(),o=[],e.abrupt("return",new Promise(function(t){i.onerror=function(){t("查询数据失败")},i.onsuccess=function(e){n||a?t([e.target.result]):e.target.result?(o.push(e.target.result.value),e.target.result.continue()):t(o)}}));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(e,t,n){return u.apply(this,arguments)}),update:(c=d()(f().mark(function e(t,n){var a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.openDB();case 3:return a=e.sent,r=a.transaction(t.name,"readwrite").objectStore(t.name).put(n),e.abrupt("return",new Promise(function(e){r.onerror=function(){e(!1)},r.onsuccess=function(){e(!0)}}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.resolve(!1));case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,t){return c.apply(this,arguments)}),deleteDB:function(e){e=m.indexedDB.deleteDatabase(e);e.onerror=function(){return Promise.resolve(!1)},e.onsuccess=function(){return Promise.resolve(!0)}},closeDB:(s=d()(f().mark(function e(t){var n,a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=5;break}return e.next=4,m.openDB();case 4:n=e.sent;case 5:return a=n.closeDB(),e.abrupt("return",new Promise(function(e){a.onerror=function(){e(!1)},a.onsuccess=function(){e(!0)}}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.resolve(!1));case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(e){return s.apply(this,arguments)}),clear:(o=d()(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.openDB();case 2:n=e.sent,n.transaction(t.name,"readwrite").objectStore(t.name).clear();case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),handleDataByCursor:(i=d()(f().mark(function e(t,n){var a,r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n||"",e.next=4,m.openDB();case 4:return r=e.sent,r=r.transaction(t,"readwrite").objectStore(t),i=r.openCursor(a),e.abrupt("return",new Promise(function(t){i.onerror=function(){t("通过游标获取数据报错")},i.onsuccess=function(e){e=e.target.result;t(e)}}));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(e,t){return i.apply(this,arguments)}),handleDataByIndex:(r=d()(f().mark(function e(t,n,a){var r,i,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n||"",e.next=4,m.openDB();case 4:return i=e.sent,i=i.transaction(t,"readwrite").objectStore(t),o=i.index(a).openCursor(r),e.abrupt("return",new Promise(function(t){o.onerror=function(){t("通过索引游标获取数据报错")},o.onsuccess=function(e){e=e.target.result;e&&t(e)}}));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(e,t,n){return r.apply(this,arguments)}),createCursorIndex:(a=d()(f().mark(function e(t,n,a){var r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.openDB();case 2:return r=e.sent,r.transaction(t,"readwrite").objectStore(t).createIndex(n,n,{unique:a}),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e)})),function(e,t,n){return a.apply(this,arguments)})};const v=m},97189:function(e,t,n){var a;!function(){"use strict";void 0===(a="function"==typeof(a=function(){"use strict";function a(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");if(t=document.cookie.match(n))return decodeURIComponent(t[2]);else return null}function e(e){var t=new Date;t.setTime(t.getTime()-1);var n=a(e);if(n!=null)document.cookie=e+"="+n+";expires="+t.toGMTString()}function t(e,t,n){var a=new Date;a.setTime(a.getTime()+n);document.cookie=e+"="+escape(t)+";expires="+a.toGMTString()}function n(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i");var n=window.location.search.substr(1).match(t);if(n!=null)return unescape(n[2]);return null}function r(e,t){if(e===t)return true;if(e.length!=t.length)return false;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return false;return true}function i(e){if(e&&typeof e==="object"){var t=e instanceof Array?[]:{};for(var n in e){var a=e[n];t[n]=i(a)}return t}else return e}function o(e){var t=[];for(var n=0;n<e.length;n++)t.indexOf(e[n])==-1&&t.push(e[n]);return t}function s(e,t){var n=e.className,a=n!=""?" ":"",r=n+a+t;e.className=r}function c(e,t){var n=" "+e.className+" ",n=n.replace(/(\s+)/gi," "),a=n.replace(" "+t+" "," "),a=a.replace(/(^\s+)|(\s+$)/g,"");e.className=a}function u(e,t){var n=e.className,a=n.split(/\s+/);for(var r in a)if(a[r]==t)return true;return false}return{getCookie:a,delCookie:e,setCookie:t,getQuery:n,arrayEqual:r,deepClone:i,uniqueArray:o,addClass:s,removeClass:c,hasClass:u}})?a.call(t,n,t,e):a)||(e.exports=a)}()},40845:(e,t,n)=>{"use strict";n.d(t,{o:()=>function(e){var t=e.projectId,e=e.key;return a.h.post("/default/value/find",{projectId:t,key:e})},s:()=>function(e){var t=e.projectId,n=e.value,e=e.key;return a.h.post("/default/value/update",{projectId:t,key:e,value:n})}});var a=n(36144)},35239:(e,t,n)=>{"use strict";n.d(t,{t:()=>r,V:()=>c});var s=n(70300),a=n(61193),n=function(){return console.error("不可以通过js设置types哦！请手动在types中添加字段！！"),!0},c=new Proxy({shrink:"shrink",project:"project",curProject:"curProject",aspect:"aspect",recentList:"recentList",opinionDetail:"opinionDetail",backProjectConfig:"backProjectConfig",messageFilterValue:"messageFilterValue",messageFilterListSave:"messageFilterListSave",overviewFilterListSave:"overviewFilterListSave",realPriceTableTitleList:"realPriceTableTitleList",historyPriceTableTitleList:"historyPriceTableTitleList",conversationOverviewHeader:"conversationOverviewHeader",conversationCommodityHeader:"conversationCommodityHeader",conversationConcernHeader:"conversationConcernHeader",sentimentInfo:"sentimentInfo",dashboardLock:"dashboardLock",storageColumns:"storageColumns",configOptions:"configOptions",newEntry:"newEntry",quickTimeChoice:"quickTimeChoice",messageDateFilter:"messageDateFilter",projectLogo:"projectLogo",connectionLinkMaintainList:"connectionLinkMaintainList",comparisonItemsSession:"comparisonItemsSession",leaveRouter:"leaveRouter",linkManagementFilter:"linkManagementFilter",filterList:"filterList",specifyFilterList:"specifyFilterList",connectionFilter:"connectionFilter"},{get:function(e,t,n){if(e[t])return Reflect.get(e,t,n);console.error("types对象中没找到 "+t+"，如需使用此值，请先在types中添加")},set:n,defineProperty:n,deleteProperty:n,preventExtensions:n,setPrototypeOf:n}),r=Object.freeze({getUser:function(){var e=a.Z.getUser(),e=e?e.userId:null;return e||console.error("请登录！"),e},set:function(e,t,n,a){var r,i;void 0===n&&(n="local"),void 0===a&&(a=0),void 0!==e?(r="local"===n?s.I:s.n,i={},n=this.getUser(),(i=r.get(n)?r.get(n):i)[e]=t,r.set(n,i,a)):console.error("存储失败，请使用有效的key值")},setWidthProject:function(e,t,n,a){var r="local"===(n=void 0===n?"local":n)?s.I:s.n,i={},n=this.getUser();r.get(n)&&(i=r.get(n));var o=s.I.get(n)[c.curProject].id;i[e]=i[e]||[],i[e].some(function(e){return e.projectId===o})?i[e].forEach(function(e){e.projectId===o&&(e.value=t)}):i[e].push({projectId:o,value:t}),r.set(n,i,a)},getWidthProject:function(e,t){var n=("local"===(t=void 0===t?"local":t)?s.I:s.n).get(this.getUser());if(n&&n[e]){var t=this.getUser(),a=s.I.get(t)[c.curProject].id;return n[e].some(function(e){return e.projectId===a})?n[e].filter(function(e){return e.projectId===a})[0].value:null}return null},get:function(e,t){t=("local"===(t=void 0===t?"local":t)?s.I:s.n).get(this.getUser());return t&&void 0!==t[e]?t[e]:null},remove:function(e,t){var n,a;void 0===t&&(t="local"),void 0!==e?(n="local"===t?s.I:s.n,a={},t=this.getUser(),delete(a=n.get(t)?n.get(t):a)[e],n.set(t,a)):console.error("删除失败，请使用有效的key值")}})},70300:(e,t,n)=>{"use strict";n.d(t,{I:()=>a,n:()=>r});var a={set:function(e,t,n){n={value:t,expiryTime:!n||isNaN(n)?0:this.getCurrentTimeStamp()+parseInt(1e3*n*60*60*24)};try{localStorage.setItem(e,JSON.stringify(n))}catch(e){!function(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}(e)?console.error("Error: 保存到本地存储失败"):(console.error("Error: 本地存储超过限制"),localStorage.clear())}},get:function(e){var t=localStorage[e];if(!t||"null"===t)return null;var n,e=this.getCurrentTimeStamp();try{n=JSON.parse(t)}catch(e){return null}return 0===n.expiryTime||n.expiryTime>e?n.value:void 0===n.expiryTime?n:null},remove:function(e){localStorage.removeItem(e)},getCurrentTimeStamp:function(){return Date.parse(new Date)}},r={get:function(e){e=sessionStorage[e];return e&&"null"!==e?JSON.parse(e).value:null},set:function(e,t){sessionStorage[e]=JSON.stringify({value:t})}}},13853:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});var a={"/login":"登录","/tourists/active":"账户激活","/tourists":"重置密码","/reset":"重置密码","/set":"设置密码","/binded":"已绑定微信","/inbox/public":"全部消息","/inbox/personal":"私人消息","/inbox/folder":"私人消息","/inbox/archive":"归档消息","/overview":"项目概览","/product/overview":"概览","/product/analyze":"产品分析","/product/selfAnalysis":"自主分析","/product/customer":"客户关注","/product/compare":"竞品分析","/product/service":"服务分析","/product/marketing":"市场分析","/product/aspectTrend":"指标趋势","/salesVolume":"指标与销量","/explore/opinion":"典型意见","/opinionDetail":"典型意见详情","/product/scene/SceneOverview":"场景概览","/product/scene/SceneUser":"用户简画","/product/scene/SceneUsage/SCENE_USE_SCENE":"使用场合","/product/scene/SceneUsage/SCENE_USE":"用途","/product/scene/SceneUsage/SCENE_BUY_DECISION":"购买决策","/product/scene/SceneUsage/SCENE_MY_ADVICE":"用户建议","/account/project/comment/subscribe":"智能订阅","/account/project/comment/subscribe/recycling":"回收站","/account/project/comment/subscribe/rules":"订阅规则","/account/project/comment/subscribe/rules/edit":"订阅规则","/account/project/comment/subscribe/linkMaintenance":"订阅链接待维护列表","/account/project/comment/link":"链接管理","/account/project/comment/link/linkMaintenance":"订阅链接待维护列表","/account/project/comment/maintainList":"待维护商品链接","/account/project/comment/batchAdd":"批量上传任务","/account/project/comment/addLink":"新增链接任务","/account/project/base":"SPU知识库","/account/project/base/sku":"SKU知识库","/account/project/linkTopic":"主题","/account/project/linkTopic/value":"主题值","/aspectWarning":"指标预警","/tab/sceneAnalyze":"分析详情","/tab/detail":"分析详情","/price":"价格列表","/price/up":"价格上升列表","/price/down":"价格下降列表","/price/priceDetail":"价格趋势","/priceMonitorChart":"价格图表","/priceCompare":"价格比较","/priceWarning":"竞品比价","/priceWarning/add":"添加预警","/priceWarning/weChatPush":"推送日志","/price/overview":"数据概览","/price/branding":"品牌分析","/price/product":"产品分析","/price/spu":"SPU分析","/price/shop":"店铺分析","/price/realTimePrice":"实时价格","/priceHistory":"每日最低价","/account/project/price/subscribe":"智能订阅","/account/project/price/subscribe/recycling":"回收站","/account/project/price/subscribe/rules":"订阅规则","/account/project/price/subscribe/rules/edit":"订阅规则","/account/project/price/subscribe/linkMaintenance":"订阅链接待维护列表","/account/project/price/link":"链接管理","/account/project/price/link/linkMaintenance":"订阅链接待维护列表","/account/project/price/maintainList":"待维护商品链接","/account/project/price/batchAdd":"批量上传任务","/account/project/price/addLink":"新增链接任务","/account/project/price/base":"SPU知识库","/account/project/price/base/sku":"SKU知识库","/account/project/price/topic":"主题","/account/project/price/topic/value":"主题值","/priceChaos":"渠道乱价","/priceChaos/screenshot":"截图取证","/priceChaos/pushLog":"推送日志","/priceChaos/ruleList":"规则列表","/priceChaos/editRule":"规则","/market/newMonitoring":"上新监控","/market/hotDiscovery":"爆款发现","/market/salesAnalysis":"销量分析","/market/brandAnalysis":"品牌分析","/market/modelAnalysis":"型号分析","/explore/free":"自由探索","/explore/scene/overview":"场景挖掘","/explore/scene/user":"角色与关系","/explore/scene/useScene":"使用场合","/explore/scene/use":"用途","/explore/scene/buyDecision":"购买决策","/explore/scene/myAdvice":"用户建议","/explore/scene/spokesmanAnalysis":"代言人","/explore/scene/competingAnalysis":"竞品分析","/brand/analyze/overview":"品牌总览","/brand/analyzing":"维度概览","/brand/interaction":"互动分析","/brand/channel":"渠道分析","/brand/content":"内容分析","/brand/index":"指数分析","/service/overview":"数据概览","/service/concernAnalyze":"关注点分析","/service/spu":"单品分析","/service/gombitAnalyze":"话题分析","/service/match":"商品对比","/service/setting":"配置","/publicSentiment/overview":"舆情概览","/publicSentiment/tagAnalysis":"标签分析","/publicSentiment/subjectOverview":"舆情专题","/publicSentiment/subject/edit":"舆情专题编辑","/publicSentiment/warning/list":"舆情预警","/publicSentiment/warning/edit":"舆情预警编辑","/publicSentiment/alert":"预警提醒","/publicSentiment/alert/detail":"预警提醒详情","/publicSentiment/subject":"数据概况","/publicSentiment/subject/trend":"趋势分析","/publicSentiment/subject/channel":"渠道分析","/publicSentiment/subject/path":"传播分析","/publicSentiment/subject/point":"观点分析","/publicSentiment/event":"事件脉络","/publicSentiment/event/trend":"趋势分析","/publicSentiment/event/channel":"渠道分析","/publicSentiment/event/path":"传播分析","/publicSentiment/event/point":"观点分析","/social/overview":"舆情概览","/social/models/top10":"机型Top10","/social/models/comparison":"机型对比","/social/tag/brand/top":"标签Top30（品牌）","/social/tag/brand/detail":"分析详情","/social/tag/brand/trend":"品牌走势","/social/tag/models/top":"标签Top30（机型）","/social/tag/models/detail":"分析详情","/social/tag/models/trend":"机型走势","/nps/overview":"NPS看板","/nps/edit":"NPS编辑","/nps/manage":"NPS问卷管理","/nps/manage/dispatch":"问卷分发","/nps/manage/detail":"NPS数据分析","/nps/contact":"联系人","/research/board/satisfaction":"满意度看板","/research/board/nps":"NPS看板","/research/manage":"问卷管理","/research/contact":"联系人","/research/setting":"看板模板","/research/setting/edit":"看板编辑","/research/setting/template":"模板签名编辑","/research/questions":"问卷编辑","/research/manage/distribute":"问卷分发","/dashboard":"仪表盘","/personalSettings/overview":"个人资料","/personalSettings/password":"账号密码","/personalSettings/authorization":"授权管理","/personalSettings/smartFolder":"个人文件夹","/personalSettings/privateMessageRule":"私人消息处理","/personalSettings/download":"导出记录","/personalSettings/smartFolder/create":"添加智能文件夹","/personalSettings/smartFolder/setting":"编辑智能文件夹","/personalSettings/messageRemind":"消息提醒","/personalSettings/filter":"筛选器管理","/personalSettings/filter/edit":"编辑筛选器","/account/overview":"权益概览","/account/project/preview":"项目概况","/account/role":"角色权限","/account/user":"用户","/account/team":"团队","/account/team/edit":"编辑团队","/account/project":"所有项目","/account/project/connection":"提取数据任务","/account/project/connection/edit":"添加链接","/account/project/edit":"编辑项目","/account/project/topic":"主题","/account/project/topic/topicValue":"主题值管理","/account/project/tag":"标签","/account/project/messageRule":"消息路由","/account/project/uselessMsg/custom":"自定义无效消息","/account/project/uselessMsg/smart":"智能识别无效消息","/account/project/uselessMsg/detail":"近30天无效消息详情","/account/project/aspectSystem/global":"全局指标","/account/project/aspectSystem/tree":"指标树","/account/project/aspectSystem/tree/edit":"指标树编辑","/account/project/alert":"预警管理","/account/project/dataFeedback":"数据反馈","/account/project/alert/log":"推送日志","/account/auditLog":"审计日志","/account/history":"操作名单","/account/whiteList":"IP白名单","/account/loginSetting":"登录设置","/account/outboxSetting":"发件箱配置","/account/customSetting":"自定义设置","/account/template/email":"邮件模板","/account/template/sms":"短信模板","/collection/manage":"店铺管理","/collection/export":"数据导出"}},42314:()=>{!function(e){var t,n,a,r,i,o,s,c,u='<svg><defs><clipPath id="clip-path"><path class="cls-1"d="M6 5h7a1 1 0 0 1 0 2H7a1 1 0 0 1-1-1z"/></clipPath><clipPath id="clip-path-2"><path fill="none"d="M.03.03h20v20h-20z"/></clipPath><clipPath id="clip-path-3"><path class="cls-1"d="M6 9h5a1 1 0 0 1 0 2H7a1 1 0 0 1-1-1z"/></clipPath><clipPath id="clip-path-5"><path class="cls-1"d="M6 13h4a1 1 0 0 1 0 2H7a1 1 0 0 1-1-1z"/></clipPath><clipPath id="clip-path-7"><path class="cls-1"d="M13 13a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/></clipPath></defs><symbol id="icon-cem-add-to"viewBox="0 0 20 20"><path d="M9 9V4h1a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 0 1-1-1V9z"fill="#bfbfbf"fill-rule="evenodd"/></symbol><symbol id="icon-cem-add-to-white"viewBox="0 0 20 20"><path d="M9 9V4h1a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 0 1-1-1V9z"fill="#fff"fill-rule="evenodd"/></symbol><symbol id="icon-cem-all-the-news"viewBox="0 0 20 20"><path class="cls-1"d="M2 2h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm2 2v3h3V4zm-1 7h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1zm1 2v3h3v-3zm8-11h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm1 2v3h3V4z"/><path d="M12 11h5a1 1 0 0 1 1 1v6h-6a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1zm1 2v3h3v-3z"fill="#979797"/></symbol><symbol id="icon-cem-archival-mailbox"viewBox="0 0 20 20"><path d="M17 2H2v15a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zM4 16v-3h2.54a4 4 0 0 0 6.92 0H16v3zm8-5a2 2 0 0 1-4 0H4V4h12v7z"fill="#bfbfbf"/><path class="cls-2"d="M6 5h8v1a1 1 0 0 1-1 1H6zm0 3h5v1a1 1 0 0 1-1 1H6z"/></symbol><symbol id="icon-cem-audit-log"viewBox="0 0 20 20"><path d="M3.5 16.46h4v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-16h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-1v-4h-13z"fill="#bfbfbf"fill-rule="evenodd"/><path d="M18.23 16.77l-3.56-3.56a5 5 0 1 0-1.41 1.41l3.56 3.56zM7.5 10.46a3 3 0 1 1 3 3 3 3 0 0 1-3-3z"fill="#979797"/></symbol><symbol id="icon-cem-close-window"viewBox="0 0 20 20"><circle cx="10"cy="10"r="10"fill="#e0e0e0"/><path d="M10 8.59l3.54-3.54.71.71a1 1 0 0 1 0 1.41L11.41 10l3.54 3.54-.71.71a1 1 0 0 1-1.41 0L10 11.41l-3.54 3.54-.71-.71a1 1 0 0 1 0-1.41L8.59 10 5.05 6.46l.71-.71a1 1 0 0 1 1.41 0z"fill="#8c8c8c"fill-rule="evenodd"/></symbol><symbol id="icon-cem-data-overview"viewBox="0 0 20 20"><path class="cls-1"d="M1.5 8.46h4a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1zm2 2v5h1v-5zm4-5h4a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1zm2 2v8h1v-8z"/><path d="M13.5 2.46h4a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1zm2 2v11h1v-11z"fill="#979797"/></symbol><symbol id="icon-cem-delete"viewBox="0 0 20 20"><path d="M10 8.79l3.54-3.54.71.71a1 1 0 0 1 0 1.41l-2.83 2.83 2.86 2.8a1 1 0 0 1-1.41 1.41L10 11.62l-2.79 2.83A1 1 0 0 1 5.8 13l2.83-2.83L5.8 7.38A1 1 0 0 1 5.8 6l.71-.71z"fill="#bfbfbf"fill-rule="evenodd"/></symbol><symbol id="icon-cem-delete-white"viewBox="0 0 20 20"><path d="M10 8.79l3.54-3.54.71.71a1 1 0 0 1 0 1.41l-2.83 2.83 2.86 2.8a1 1 0 0 1-1.41 1.41L10 11.62l-2.79 2.83A1 1 0 0 1 5.8 13l2.83-2.83L5.8 7.38A1 1 0 0 1 5.8 6l.71-.71z"fill="#fff"fill-rule="evenodd"/></symbol><symbol id="icon-cem-edit"viewBox="0 0 20 20"><path d="M16.66 2a2 2 0 0 1 0 2.83L9.59 11.9a2 2 0 0 1-2.83 0zm-1.9 14v-6h1a1 1 0 0 1 1 1v7h-13a1 1 0 0 1-1-1V3h6a1 1 0 0 1 1 1v1h-5v11z"fill="#bfbfbf"fill-rule="evenodd"/></symbol><symbol id="icon-cem-expand-more"viewBox="0 0 20 20"><path class="cls-1"d="M17 17H4a1 1 0 0 1-1-1v-1h13a1 1 0 0 1 1 1z"/><path class="cls-2"d="M11 11H4a1 1 0 0 1-1-1V9h7a1 1 0 0 1 1 1z"/><path class="cls-1"d="M17 5H4a1 1 0 0 1-1-1V3h13a1 1 0 0 1 1 1z"/><path class="cls-2"d="M16.51 10.4l-2.67 2A.5.5 0 0 1 13 12V8a.5.5 0 0 1 .8-.4l2.67 2a.5.5 0 0 1 .1.7z"/></symbol><symbol id="icon-cem-historical-records"viewBox="0 0 20 20"><path d="M10 17a7 7 0 1 0-7-7 7 7 0 0 0 7 7zm0 2a9 9 0 1 1 9-9 9 9 0 0 1-9 9z"fill="#bfbfbf"/><path d="M11 9h3v1a1 1 0 0 1-1 1H9V6a1 1 0 0 1 1-1h1z"fill="#979797"fill-rule="evenodd"/></symbol><symbol id="icon-cem-link"viewBox="0 0 20 20"><path class="cls-1"d="M7.53 16.68l3.54-3.54.71.71a1 1 0 0 1 0 1.41L7.53 19.5l-5.66-5.65a2 2 0 0 1 0-2.83L4.7 8.19a1 1 0 0 1 1.41 0l.71.71-3.54 3.53zm4.94-13.44L8.94 6.78l-.71-.71a1 1 0 0 1 0-1.41L12.47.41l5.66 5.66a2 2 0 0 1 0 2.83l-2.83 2.83a1 1 0 0 1-1.41 0l-.71-.73 3.54-3.54z"/><path d="M11.77 6.78l.71.71a1 1 0 0 1 0 1.41l-4.25 4.24-.71-.71a1 1 0 0 1 0-1.41z"fill="#979797"fill-rule="evenodd"/></symbol><symbol id="icon-cem-lock"viewBox="0 0 20 20"><path class="cls-1"d="M2 6.5h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm2 2v8h12v-8zm11-2h-2a3 3 0 0 0-6 0H5a5 5 0 0 1 10 0z"/><circle class="cls-1"cx="10"cy="12.5"r="2"/></symbol><symbol id="icon-cem-locking"viewBox="0 0 20 20"><circle cx="10.04"cy="10"r="10"fill="#ff8373"/><path class="cls-2"d="M14 7h-2a2 2 0 0 0-4 0H6a4 4 0 0 1 8 0zm-4 6.52a2 2 0 1 0-2-2 2 2 0 0 0 2 2zM5 7h9a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1z"/></symbol><symbol id="icon-cem-market"viewBox="0 0 20 20"><path d="M9 7H4v5H2V5h7V2h1a1 1 0 0 1 1 1v2h6a1 1 0 0 1 1 1v6h-2V7h-5v9h5a1 1 0 0 1 1 1v1H4a1 1 0 0 1-1-1v-1h6z"fill="#bfbfbf"fill-rule="evenodd"/><path class="cls-2"d="M15.04 10.96h4v2h-4zm-14 0h4v2h-4z"/></symbol><symbol id="icon-cem-more"viewBox="0 0 20 20"><path class="cls-1"d="M3.5 8.5h3v3h-2a1 1 0 0 1-1-1z"/><path fill="#bfbfbf"d="M8.5 8.5h3v3h-3z"/><path class="cls-1"d="M13.5 11.5v-3h3v2a1 1 0 0 1-1 1z"/></symbol><symbol id="icon-cem-open"viewBox="0 0 20 20"><circle cx="9.96"cy="10"r="10"fill="#1890ff"/><path d="M14 7H9v-.46A1.52 1.52 0 0 1 10.46 5a1.47 1.47 0 0 1 1 .4 1 1 0 0 0 1.37-1.46A3.47 3.47 0 0 0 10.46 3 3.52 3.52 0 0 0 7 6.54V7H5v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zm-4 6.06a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"fill="#fff"/></symbol><symbol id="icon-cem-private-mailbox"viewBox="0 0 20 20"><path d="M6 1.53h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm2 2v4h4v-4z"fill="#bfbfbf"/><path d="M16 13.53H4v5H2v-7h15a1 1 0 0 1 1 1v6h-2z"fill="#979797"fill-rule="evenodd"/></symbol><symbol id="icon-cem-product"viewBox="0 0 20 20"><path d="M16.29 10.35a1 1 0 0 0-.56.9v2L11 15.58V9.51H9v6.06l-4.69-2.35v-2.59L2 9.5v5.1l7.66 3.81a.8.8 0 0 0 .72 0L18 14.62V9.5z"fill="#979797"/><path d="M10.47 1.6l7 3.51a1 1 0 0 1 0 1.79l-7 3.5a1 1 0 0 1-.89 0l-7-3.51a1 1 0 0 1 0-1.79l7-3.5a1 1 0 0 1 .89 0zM5.23 6L10 8.39 14.81 6 10 3.62z"fill="#bfbfbf"/></symbol><symbol id="icon-cem-project"viewBox="0 0 20 20"><path class="cls-1"d="M17 13.36a.93.93 0 0 0-.42.42A.92.92 0 0 0 17 15l-1.63-.83zm-6.57 3.75a1 1 0 0 0-.86 0l.43-.22zm-.43-.22l5.36-2.71-1.73-.87-.7-.33.86-1.81.7.33 3.41 1.72a1.08 1.08 0 0 1 .47 1.44 1.07 1.07 0 0 1-.47.48l-7.42 3.75a1 1 0 0 1-.94 0l-7.45-3.76a1.08 1.08 0 0 1-.48-1.44 1.07 1.07 0 0 1 .48-.48l3.38-1.7 1-.5.87 1.8-1 .48-1.74.88zm-7-3.55a.92.92 0 0 1 .42 1.23A.93.93 0 0 1 3 15l1.64-.83zM3 15a.93.93 0 0 0 .42-.42.92.92 0 0 0-.42-1.24l1.64.83zm7.46 2.11a1 1 0 0 0-.86 0l.43-.22zm3.2-3.8l-.7-.33.86-1.81.7.33 3.41 1.72a1.08 1.08 0 0 1 .47 1.44 1.07 1.07 0 0 1-.47.48l-7.42 3.75a1 1 0 0 1-.94 0l-7.48-3.76a1.08 1.08 0 0 1-.48-1.44 1.07 1.07 0 0 1 .48-.48l3.38-1.7 1-.5.87 1.8-1 .48-1.74.88 5.4 2.72 5.36-2.71zM17 15a.92.92 0 0 1-.42-1.23.93.93 0 0 1 .42-.42l-1.63.82z"/><path d="M17 9.36a.93.93 0 0 0-.42.42A.92.92 0 0 0 17 11l-1.63-.83zm-6.57 3.75a1 1 0 0 0-.86 0l.43-.22zm-.43-.22l5.36-2.71-1.73-.87-.68-.31.86-1.81.7.33 3.41 1.72a1.08 1.08 0 0 1 .47 1.44 1.07 1.07 0 0 1-.47.48l-7.42 3.75a1 1 0 0 1-.94 0l-7.47-3.78a1.08 1.08 0 0 1-.48-1.44 1.07 1.07 0 0 1 .48-.48L5.47 7.5l1-.5.87 1.8-1 .48-1.74.88zM3 9.34a.92.92 0 0 1 .42 1.23A.93.93 0 0 1 3 11l1.64-.83zM3 11a.93.93 0 0 0 .42-.42A.92.92 0 0 0 3 9.34l1.64.83zm7.46 2.11a1 1 0 0 0-.86 0l.43-.22zm3.2-3.8L12.95 9l.86-1.81.7.33 3.41 1.72a1.08 1.08 0 0 1 .47 1.44 1.07 1.07 0 0 1-.47.48l-7.42 3.75a1 1 0 0 1-.94 0l-7.47-3.78a1.08 1.08 0 0 1-.48-1.44 1.07 1.07 0 0 1 .48-.48L5.47 7.5l1-.5.87 1.8-1 .48-1.74.88 5.4 2.73 5.36-2.71zM17 11a.92.92 0 0 1-.42-1.23.93.93 0 0 1 .42-.41l-1.63.82z"fill="#979797"/><path class="cls-1"d="M10.46 1.11l7.69 4a1 1 0 0 1 0 1.77l-7.67 4a1 1 0 0 1-.92 0l-7.71-4a1 1 0 0 1 0-1.77l7.69-4a1 1 0 0 1 .92 0zm-.46 2L4.48 6 10 8.88 15.53 6z"/></symbol><symbol id="icon-cem-pull-down-or-take-up"viewBox="0 0 20 20"><path d="M16 6.45l.7.71-6.78 6.69L3.3 7.31 4 6.6a1 1 0 0 1 1.41 0L9.92 11l4.66-4.6a1 1 0 0 1 1.42.05z"fill="#bfbfbf"/></symbol><symbol id="icon-cem-question"viewBox="0 0 20 20"><circle cx="10.13"cy="10"r="10"fill="#8c8c8c"/><path d="M10 13.58a1.27 1.27 0 0 1 .9.34 1.24 1.24 0 0 1 0 1.74 1.23 1.23 0 0 1-.9.34 1.25 1.25 0 0 1-.88-.35 1.24 1.24 0 0 1 0-1.73 1.23 1.23 0 0 1 .88-.34zm.29-9.23a3.64 3.64 0 0 1 2.53.85 2.9 2.9 0 0 1 1 2.3 3.2 3.2 0 0 1-.59 2c-.14.16-.61.59-1.38 1.26a2.48 2.48 0 0 0-.64.8 2.26 2.26 0 0 0-.24 1v.22H9.1v-.22A3.39 3.39 0 0 1 9.42 11a8.7 8.7 0 0 1 1.87-2l.19-.22a1.77 1.77 0 0 0 .43-1.14 1.75 1.75 0 0 0-.45-1.25 1.74 1.74 0 0 0-1.28-.45 1.67 1.67 0 0 0-1.5.66 2.61 2.61 0 0 0-.4 1.57H6.46a3.66 3.66 0 0 1 1-2.78 3.83 3.83 0 0 1 2.84-1.04z"fill="#fff"fill-rule="evenodd"/></symbol><symbol id="icon-cem-return"viewBox="0 0 20 20"><path d="M18 4.79v13a1 1 0 0 1-1 1H4a2 2 0 0 1-2-2v-1h13v-9H7v-3h10a1 1 0 0 1 1 1z"fill-rule="evenodd"fill="#bfbfbf"/><path d="M2.25 5L8.14.88a.5.5 0 0 1 .79.41v8.24a.5.5 0 0 1-.79.41L2.25 5.82a.5.5 0 0 1 0-.82z"fill="#979797"fill-rule="evenodd"/></symbol><symbol id="icon-cem-role"viewBox="0 0 20 20"><path d="M6 1.5h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm2 2v4h4v-4z"fill="#bfbfbf"/><path fill-rule="evenodd"fill="#bfbfbf"d="M10 17.13L7.53 18.5 8 15.61l-2-2.05 2.76-.43L10 10.5l1.24 2.63 2.76.43-2 2.05.47 2.89L10 17.13z"/><path d="M16 9.5H4v9H2v-11h15a1 1 0 0 1 1 1v10h-2z"fill="#979797"fill-rule="evenodd"/></symbol><symbol id="icon-cem-screen"viewBox="0 0 20 20"><path d="M17.36 4.56a.92.92 0 0 0 .18-.56 1.1 1.1 0 0 0-1.17-1H3.71a1.3 1.3 0 0 0-.63.16.94.94 0 0 0-.36 1.4l3.53 4v4.33h2V7.84L5.76 5h8.56l-2.49 2.84v8.08l2 1.08V8.59z"fill="#bfbfbf"fill-rule="evenodd"/></symbol><symbol id="icon-cem-service"viewBox="0 0 20 20"><path d="M2 2h16v15a1 1 0 0 1-1.31 1L10 15.78 3.34 18A1 1 0 0 1 2 17zm2 2v11.62l6-2 6 2V4z"fill="#bfbfbf"/><path fill="#979797"fill-rule="evenodd"d="M10.03 11.31l-2.47 1.3.47-2.75-2-1.95L8.8 7.5 10.03 5l1.24 2.5 2.76.41-2 1.95.48 2.75-2.48-1.3z"/></symbol><symbol id="icon-cem-side-setting-spot"viewBox="0 0 20 20"><path class="cls-1"d="M4.64 4.09a8 8 0 0 1 3.08-1.76l.69-.21.42.59a1.49 1.49 0 0 0 2.43 0l.42-.59.69.21a8 8 0 0 1 3.08 1.75l.53.48-.29.66a1.49 1.49 0 0 0 1.23 2.08l.71.06.17.69a8.07 8.07 0 0 1 0 3.76l-.17.72-.74.05a1.49 1.49 0 0 0-1.23 2.12l.32.66-.54.5a8 8 0 0 1-3.2 1.81l-.65.19-.42-.54a1.49 1.49 0 0 0-2.35 0l-.42.54-.65-.19a8 8 0 0 1-3.2-1.81l-.54-.5.32-.66a1.49 1.49 0 0 0-1.23-2.12l-.74-.05-.17-.72a8.07 8.07 0 0 1 0-3.76l.17-.69.71-.06A1.49 1.49 0 0 0 4.4 5.22l-.29-.66zm1.88 1.73a3.49 3.49 0 0 1-2.43 3.32 6.1 6.1 0 0 0 0 1.6 3.49 3.49 0 0 1 2.36 4.07 6 6 0 0 0 1.36.77 3.49 3.49 0 0 1 4.48 0 6 6 0 0 0 1.36-.77A3.49 3.49 0 0 1 16 10.74a6.1 6.1 0 0 0 0-1.6 3.49 3.49 0 0 1-2.37-4 6 6 0 0 0-1.25-.72 3.49 3.49 0 0 1-4.65 0 6 6 0 0 0-1.25.72 3.5 3.5 0 0 1 .04.68z"/><path class="cls-1"d="M10 11.12a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm0 2a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></symbol><symbol id="icon-cem-side-setting"viewBox="0 0 20 20"><path d="M4.64 4.09a8 8 0 0 1 3.08-1.76l.69-.21.42.59a1.49 1.49 0 0 0 2.43 0l.42-.59.69.21a8 8 0 0 1 3.08 1.75l.53.48-.29.66a1.49 1.49 0 0 0 1.23 2.08l.71.06.17.69a8.07 8.07 0 0 1 0 3.76l-.17.72-.74.05a1.49 1.49 0 0 0-1.23 2.12l.32.66-.54.5a8 8 0 0 1-3.2 1.81l-.65.19-.42-.54a1.49 1.49 0 0 0-2.35 0l-.42.54-.65-.19a8 8 0 0 1-3.2-1.81l-.54-.5.32-.66a1.49 1.49 0 0 0-1.23-2.12l-.74-.05-.17-.72a8.07 8.07 0 0 1 0-3.76l.17-.69.71-.06A1.49 1.49 0 0 0 4.4 5.22l-.29-.66zm1.88 1.73a3.49 3.49 0 0 1-2.43 3.32 6.1 6.1 0 0 0 0 1.6 3.49 3.49 0 0 1 2.36 4.07 6 6 0 0 0 1.36.77 3.49 3.49 0 0 1 4.48 0 6 6 0 0 0 1.36-.77A3.49 3.49 0 0 1 16 10.74a6.1 6.1 0 0 0 0-1.6 3.49 3.49 0 0 1-2.37-4 6 6 0 0 0-1.25-.72 3.49 3.49 0 0 1-4.65 0 6 6 0 0 0-1.25.72 3.5 3.5 0 0 1 .04.68z"fill="#bfbfbf"/><path d="M10 11.12a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm0 2a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"fill="#8c8c8c"/></symbol><symbol id="icon-cem-source"viewBox="0 0 20 20"><path d="M13.7 10.77l-4.9 4.08a1 1 0 0 1-1.64-.77V5.92a1 1 0 0 1 1.64-.77l4.9 4.08a1 1 0 0 1 .13 1.41z"fill="#8c8c8c"fill-rule="evenodd"/></symbol><symbol id="icon-cem-switch"viewBox="0 0 20 20"><path class="cls-1"d="M4 6.64l2.67-2a.5.5 0 0 1 .8.4V9a.5.5 0 0 1-.8.4L4 7.44a.5.5 0 0 1-.1-.7zM8.5 6h6a1 1 0 0 1 1 1v1h-6a1 1 0 0 1-1-1zm7.5 7.44l-2.67 2a.5.5 0 0 1-.8-.4V11a.5.5 0 0 1 .8-.4l2.67 2a.5.5 0 0 1 .1.7zm-4.5.56h-6a1 1 0 0 1-1-1v-1h6a1 1 0 0 1 1 1z"/></symbol><symbol id="icon-cem-switch-white"viewBox="0 0 20 20"><path class="cls-1"d="M4 6.64l2.67-2a.5.5 0 0 1 .8.4V9a.5.5 0 0 1-.8.4L4 7.44a.5.5 0 0 1-.1-.7zM8.5 6h6a1 1 0 0 1 1 1v1h-6a1 1 0 0 1-1-1zm7.5 7.44l-2.67 2a.5.5 0 0 1-.8-.4V11a.5.5 0 0 1 .8-.4l2.67 2a.5.5 0 0 1 .1.7zm-4.5.56h-6a1 1 0 0 1-1-1v-1h6a1 1 0 0 1 1 1z"/></symbol><symbol id="icon-cem-top-setting"viewBox="0 0 20 20"><path class="cls-1"d="M4 3.38a9 9 0 0 1 3.47-2l.78-.24.47.67a1.68 1.68 0 0 0 2.74 0l.47-.67.78.24a9 9 0 0 1 3.47 2l.59.54-.32.74A1.68 1.68 0 0 0 17.83 7l.8.07.2.78a9.09 9.09 0 0 1 0 4.24l-.19.81-.83.06a1.68 1.68 0 0 0-1.39 2.39l.36.75-.61.56a9 9 0 0 1-3.6 2l-.74.21-.47-.61a1.68 1.68 0 0 0-2.65 0l-.47.61-.74-.21a9 9 0 0 1-3.6-2l-.61-.56.36-.75A1.68 1.68 0 0 0 2.3 13l-.83-.06-.19-.81a9.09 9.09 0 0 1 0-4.24l.2-.78.84-.11a1.68 1.68 0 0 0 1.4-2.34l-.32-.74zm2.1 1.95a3.93 3.93 0 0 1-2.73 3.74 6.88 6.88 0 0 0 0 1.81A3.93 3.93 0 0 1 6 15.46a6.76 6.76 0 0 0 1.54.86 3.93 3.93 0 0 1 5 0 6.76 6.76 0 0 0 1.54-.86 3.93 3.93 0 0 1 2.66-4.59 6.88 6.88 0 0 0 0-1.81 3.93 3.93 0 0 1-2.63-4.46 6.76 6.76 0 0 0-1.41-.81 3.93 3.93 0 0 1-5.24 0A6.76 6.76 0 0 0 6 4.6a4 4 0 0 1 .1.73z"/><path class="cls-1"d="M10.06 12.16a2 2 0 1 0-2-2 2 2 0 0 0 2 2zm0 2a4 4 0 1 1 4-4 4 4 0 0 1-4 4z"/></symbol><symbol id="icon-cem-user"viewBox="0 0 20 20"><path class="cls-1"d="M2 2h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm2 2v3h3V4zm10.5-2A3.5 3.5 0 1 1 11 5.5 3.5 3.5 0 0 1 14.5 2zm0 2A1.5 1.5 0 1 0 16 5.5 1.5 1.5 0 0 0 14.5 4z"/><path fill="#979797"d="M9 11h2v7H9z"/><path d="M16 13H4v5H2v-7h15a1 1 0 0 1 1 1v6h-2z"fill-rule="evenodd"fill="#979797"/></symbol><symbol id="icon-cem-white-list"viewBox="0 0 20 20"><path d="M1.5 5.5h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zm2 2v9h9v-9z"fill="#bfbfbf"/><path d="M10 9.29l.71.71a1 1 0 0 1 0 1.41l-3.48 3.47-1.73-1.73a1 1 0 0 1 0-1.41l.71-.74 1 1z"fill="#979797"/><path d="M18.5 3.5v11a1 1 0 0 1-1 1h-1v-12h-12v-1a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"fill-rule="evenodd"fill="#bfbfbf"/></symbol><symbol id="icon-cem-negative-hover"viewBox="0 0 20 20"fill="#FF8373"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M13.83 13.95a1 1 0 1 1-1.67 1.1A2.59 2.59 0 0 0 10 14a2.6 2.6 0 0 0-2.16 1 1 1 0 0 1-1.66-1.12A4.59 4.59 0 0 1 10 12a4.58 4.58 0 0 1 3.83 1.95z"/></symbol><symbol id="icon-cem-negative-no-hover"viewBox="0 0 20 20"fill="#FF8373"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M13.83 13.95a1 1 0 1 1-1.67 1.1A2.59 2.59 0 0 0 10 14a2.6 2.6 0 0 0-2.16 1 1 1 0 0 1-1.66-1.12A4.59 4.59 0 0 1 10 12a4.58 4.58 0 0 1 3.83 1.95z"/></symbol><symbol id="icon-cem-negative"viewBox="0 0 20 20"fill="#FF8373"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M13.83 13.95a1 1 0 1 1-1.67 1.1A2.59 2.59 0 0 0 10 14a2.6 2.6 0 0 0-2.16 1 1 1 0 0 1-1.66-1.12A4.59 4.59 0 0 1 10 12a4.58 4.58 0 0 1 3.83 1.95z"/></symbol><symbol id="icon-cem-neutral-hover"viewBox="0 0 20 20"fill="#1890ff"><path d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z"/></symbol><symbol id="icon-cem-neutral-no-hover"viewBox="0 0 20 20"fill="#1890FF"><path d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z"/></symbol><symbol id="icon-cem-neutral"viewBox="0 0 20 20"fill="#1890ff"><path d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z"/></symbol><symbol id="icon-cem-positive-no-hover"viewBox="0 0 20 20"fill="#49CD8B"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M6.17 13.55a1 1 0 0 1 1.67-1.1A2.59 2.59 0 0 0 10 13.5a2.6 2.6 0 0 0 2.16-1 1 1 0 0 1 1.66 1.12A4.59 4.59 0 0 1 10 15.5a4.58 4.58 0 0 1-3.83-1.95z"/></symbol><symbol id="icon-cem-positive-hover"viewBox="0 0 20 20"fill="#49CD8B"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M6.17 13.55a1 1 0 0 1 1.67-1.1A2.59 2.59 0 0 0 10 13.5a2.6 2.6 0 0 0 2.16-1 1 1 0 0 1 1.66 1.12A4.59 4.59 0 0 1 10 15.5a4.58 4.58 0 0 1-3.83-1.95z"/></symbol><symbol id="icon-cem-positive"viewBox="0 0 20 20"fill="#49CD8B"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M6.17 13.55a1 1 0 0 1 1.67-1.1A2.59 2.59 0 0 0 10 13.5a2.6 2.6 0 0 0 2.16-1 1 1 0 0 1 1.66 1.12A4.59 4.59 0 0 1 10 15.5a4.58 4.58 0 0 1-3.83-1.95z"/></symbol><symbol id="icon-cem-reply"viewBox="0 0 20 20"><path d="M5 .5h14v12.37a4 4 0 0 1-4 4H4.07L1 19.5v-15a4 4 0 0 1 4-4zM3.34 14.87H15a2 2 0 0 0 2-2V2.5H5a2 2 0 0 0-2 2v10.66z"fill="#1890ff"/><path class="cls-2"d="M6 5.5h7v1a1 1 0 0 1-1 1H5v-1a1 1 0 0 1 1-1zm0 4h4v1a1 1 0 0 1-1 1H5v-1a1 1 0 0 1 1-1z"/></symbol></svg>';if((t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss")&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}n=function(){var e,t,n;(t=document.createElement("div")).innerHTML=u,u=null,(n=t.getElementsByTagName("svg")[0])&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",e=n,(t=document.body).firstChild?(n=t.firstChild).parentNode.insertBefore(e,n):t.appendChild(e))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(n,0):(a=function e(){document.removeEventListener("DOMContentLoaded",e,!1),n()},document.addEventListener("DOMContentLoaded",a,!1)):document.attachEvent&&(r=n,i=e.document,o=!1,s=function(){o||(o=!0,r())},(c=function(){try{i.documentElement.doScroll("left")}catch(e){return void setTimeout(c,50)}s()})(),i.onreadystatechange=function(){"complete"==i.readyState&&(i.onreadystatechange=null,s())})}(window)},94680:()=>{!function(e){var t,n,a,r,i,o='<svg><symbol id="icon-xiajiang" viewBox="0 0 1024 1024"><path d="M508.859733 954.9824c11.127467 12.629333 29.354667 12.629333 40.413867 0l332.253867-378.538667c11.0592-12.629333 6.212267-23.005867-10.922667-23.005866h-124.177067a30.72 30.72 0 0 1-31.061333-30.3104V280.507733a30.72 30.72 0 0 0-31.061333-30.3104H373.828267a30.72 30.72 0 0 0-31.061334 30.3104v242.619734a30.72 30.72 0 0 1-31.061333 30.3104h-124.245333c-17.066667 0-21.9136 10.376533-10.8544 23.005866l332.253866 378.538667z m82.3296-826.026667c0-33.5872 27.784533-60.689067 62.122667-60.689066 34.269867 0 62.122667 27.101867 62.122667 60.6208a61.371733 61.371733 0 0 1-62.122667 60.689066 61.371733 61.371733 0 0 1-62.122667-60.689066z m-248.490666 0c0-33.5872 27.8528-60.689067 62.122666-60.689066 34.338133 0 62.122667 27.101867 62.122667 60.6208a61.371733 61.371733 0 0 1-62.122667 60.689066 61.371733 61.371733 0 0 1-62.122666-60.689066z m310.613333 60.6208H404.821333V68.266667h248.490667v121.309866z" fill="#F08A8A" ></path></symbol><symbol id="icon-shangsheng" viewBox="0 0 1024 1024"><path d="M551.936 10.166857a28.16 28.16 0 0 0-43.300571 0L152.649143 415.744c-11.849143 13.531429-6.656 24.649143 11.702857 24.649143h133.046857c18.285714 0 33.28 14.628571 33.28 32.475428v259.876572a32.914286 32.914286 0 0 0 33.28 32.475428h332.653714c18.285714 0 33.28-14.628571 33.28-32.475428V472.868571a32.914286 32.914286 0 0 1 33.28-32.475428h133.12c18.285714 0 23.478857-11.117714 11.629715-24.649143L551.936 10.166857z m-88.210286 885.028572a65.755429 65.755429 0 0 1-66.56 64.950857 65.755429 65.755429 0 0 1-66.56-64.950857c0-35.84 29.842286-64.950857 66.56-64.950858 36.790857 0 66.56 29.037714 66.56 64.950858z m266.24 0a65.755429 65.755429 0 0 1-66.56 64.950857 65.755429 65.755429 0 0 1-66.56-64.950857c0-35.84 29.769143-64.950857 66.56-64.950858 36.717714 0 66.56 29.037714 66.56 64.950858z m-332.8-64.950858h266.24v129.901715H397.165714v-129.901715z" fill="#49CD8B" ></path></symbol><symbol id="icon-bianzu3" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m0 204.8a307.2 307.2 0 1 0 0 614.4 307.2 307.2 0 0 0 0-614.4z" fill="#FFFFFF" ></path><path d="M512 512m-307.2 0a307.2 307.2 0 1 0 614.4 0 307.2 307.2 0 1 0-614.4 0Z" fill="#5A8EF8" ></path></symbol><symbol id="icon-qushixian" viewBox="0 0 2582 1024"><path d="M44.521739 934.956522h2493.217391v44.521739H44.521739z" fill="#CEDDFD" ></path><path d="M30.141217 316.950261c422.288696-358.310957 828.104348-362.362435 1208.987826-11.486609l13.133914 12.243478c260.630261 246.071652 490.095304 340.769391 709.231304 312.453566 173.857391-22.483478 334.046609-115.578435 542.452869-296.292174l19.099827-16.651131 29.384347 33.391305c-223.899826 197.097739-395.085913 299.141565-585.193739 323.673043-229.10887 29.606957-466.053565-65.625043-729.088-308.802782l-16.473043-15.36C858.112 6.856348 478.074435 2.893913 73.238261 338.899478l-14.336 12.02087-28.761044-33.970087z" fill="#5B8FF9" ></path></symbol><symbol id="icon-yuanjiaojuxing" viewBox="0 0 1024 1024"><path d="M249.376256 0m102.4 0l0 0q102.4 0 102.4 102.4l0 819.2q0 102.4-102.4 102.4l0 0q-102.4 0-102.4-102.4l0-819.2q0-102.4 102.4-102.4Z" fill="#7262FD" ></path></symbol><symbol id="icon-datazoom" viewBox="0 0 2662 1024"><path d="M30.703064 0m61.406129 0l1443.044016 0q61.406128 0 61.406129 61.406128l0 491.249027q0 61.406128-61.406129 61.406129l-1443.044016 0q-61.406128 0-61.406129-61.406129l0-491.249027q0-61.406128 61.406129-61.406128Z" fill="#7262FD" opacity=".3" ></path><path d="M0 0m61.406128 0l0 0q61.406128 0 61.406129 61.406128l0 491.249027q0 61.406128-61.406129 61.406129l0 0q-61.406128 0-61.406128-61.406129l0-491.249027q0-61.406128 61.406128-61.406128Z" fill="#7262FD" ></path><path d="M1473.747081 0m61.406128 0l0 0q61.406128 0 61.406129 61.406128l0 491.249027q0 61.406128-61.406129 61.406129l0 0q-61.406128 0-61.406128-61.406129l0-491.249027q0-61.406128 61.406128-61.406128Z" fill="#7262FD" ></path></symbol><symbol id="icon-cem_enlarge-the-picture" viewBox="0 0 1024 1024"><path d="M158.72 158.72a487.04 487.04 0 0 1 741.28 626.56l119.52 119.52-114.72 114.72-119.52-119.52A487.04 487.04 0 0 1 158.72 158.72z" fill="#FFFFFF" ></path><path d="M544 341.28v121.44h121.44V544H544v121.44h-81.76V544H340.8v-81.28h121.44v-121.44z m-298.72-96a365.28 365.28 0 1 0 516.64 0 365.28 365.28 0 0 0-517.12-0.48z m573.92-57.44a446.56 446.56 0 0 1 27.04 600.96l116 116.16-57.44 57.44-116-116.16a446.4 446.4 0 1 1 30.08-658.88z" fill="#262626" ></path></symbol><symbol id="icon-cem_delete-indicator-tree-fiben" viewBox="0 0 1024 1024"><path d="M441.92 86.08a35.04 35.04 0 0 0-35.04 35.04v34.88h210.24V121.12a35.04 35.04 0 0 0-28.8-34.4h-6.24z m280.16 350.08v210.08h-70.08V436.16z m-350.24 0v210.08h-69.92V436.16z m175.04-70.08v350.24h-69.92V366.24z m280.32-140H196.8v595.36a105.12 105.12 0 0 0 94.88 104.64h430.4a105.12 105.12 0 0 0 105.12-105.12zM582.08 16a105.12 105.12 0 0 1 105.12 105.12v34.88h315.2v70.08h-105.28v595.36a175.04 175.04 0 0 1-163.52 174.72H301.92A175.04 175.04 0 0 1 126.88 821.44V226.08H21.76V156h315.2V121.12A105.12 105.12 0 0 1 432 16h10.08z" fill="#E5E5E5" ></path></symbol><symbol id="icon-cem_create-subordinates-fiben" viewBox="0 0 1024 1024"><path d="M737.92 419.52h-48v72.64h-73.12v48h72.8v72.8h48v-72.32h72.64v-48h-72.32z m242.24-96.96v387.68H448V322.72z" fill="#BFBFBF" ></path><path d="M302.08 904a96.96 96.96 0 0 1-96.96 96.96H59.84V32h145.28a96.96 96.96 0 0 1 96.96 96.96v363.36H448v48h-145.92z" fill="#E5E5E5" ></path></symbol><symbol id="icon-cem_create-siblings-fiben" viewBox="0 0 1024 1024"><path d="M722.08 710.24h-48v72.64h-73.12v48h72.64v73.12h48V832h72.64v-48h-72.16z m242.24-96.96v387.68H432V613.44z" fill="#BFBFBF" ></path><path d="M964.32 32v387.52H431.36V250.08H213.28v532.8h218.08v48.48H164.8V540.64H43.68v-48.32h121.12V201.6h266.56V32h532.96z" fill="#E5E5E5" ></path></symbol><symbol id="icon-cem_narrow-new-color" viewBox="0 0 1024 1024"><path d="M495.04 533.44H96v-49.92h848v49.92H495.04z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_delete-indicator-tree-color" viewBox="0 0 1024 1024"><path d="M441.92 86.08a35.04 35.04 0 0 0-35.04 35.04v34.88h210.24V121.12a35.04 35.04 0 0 0-28.8-34.4h-6.24z m280.16 350.08v210.08h-70.08V436.16z m-350.24 0v210.08h-69.92V436.16z m175.04-70.08v350.24h-69.92V366.24z m280.32-140H196.8v595.36a105.12 105.12 0 0 0 94.88 104.64h430.4a105.12 105.12 0 0 0 105.12-105.12zM582.08 16a105.12 105.12 0 0 1 105.12 105.12v34.88h315.2v70.08h-105.28v595.36a175.04 175.04 0 0 1-163.52 174.72H301.92A175.04 175.04 0 0 1 126.88 821.44V226.08H21.76V156h315.2V121.12A105.12 105.12 0 0 1 432 16h10.08z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_narrow-new" viewBox="0 0 1024 1024"><path d="M495.04 533.44H96v-49.92h848v49.92H495.04z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_create-subordinates-color" viewBox="0 0 1024 1024"><path d="M737.92 419.52h-48v72.64h-73.12v48h72.8v72.8h48v-72.32h72.64v-48h-72.32z m242.24-96.96v387.68H448V322.72z" fill="#0847A6" ></path><path d="M302.08 904a96.96 96.96 0 0 1-96.96 96.96H59.84V32h145.28a96.96 96.96 0 0 1 96.96 96.96v363.36H448v48h-145.92z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_create-subordinates" viewBox="0 0 1024 1024"><path d="M737.92 419.52h-48v72.64h-73.12v48h72.8v72.8h48v-72.32h72.64v-48h-72.32z m242.24-96.96v387.68H448V322.72z" fill="#262626" ></path><path d="M302.08 904a96.96 96.96 0 0 1-96.96 96.96H59.84V32h145.28a96.96 96.96 0 0 1 96.96 96.96v363.36H448v48h-145.92z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_delete-indicator-tree" viewBox="0 0 1024 1024"><path d="M441.92 86.08a35.04 35.04 0 0 0-35.04 35.04v34.88h210.24V121.12a35.04 35.04 0 0 0-28.8-34.4h-6.24z m280.16 350.08v210.08h-70.08V436.16z m-350.24 0v210.08h-69.92V436.16z m175.04-70.08v350.24h-69.92V366.24z m280.32-140H196.8v595.36a105.12 105.12 0 0 0 94.88 104.64h430.4a105.12 105.12 0 0 0 105.12-105.12zM582.08 16a105.12 105.12 0 0 1 105.12 105.12v34.88h315.2v70.08h-105.28v595.36a175.04 175.04 0 0 1-163.52 174.72H301.92A175.04 175.04 0 0 1 126.88 821.44V226.08H21.76V156h315.2V121.12A105.12 105.12 0 0 1 432 16h10.08z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_create-siblings" viewBox="0 0 1024 1024"><path d="M722.08 710.24h-48v72.64h-73.12v48h72.64v73.12h48V832h72.64v-48h-72.16z m242.24-96.96v387.68H432V613.44z" fill="#262626" ></path><path d="M964.32 32v387.52H431.36V250.08H213.28v532.8h218.08v48.48H164.8V540.64H43.68v-48.32h121.12V201.6h266.56V32h532.96z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_enlarge-new-color" viewBox="0 0 1024 1024"><path d="M544.96 84.48v399.04H944v49.92H544.96v399.04h-49.92V533.44H96v-49.92h399.04V84.48h49.92z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_enlarge-new" viewBox="0 0 1024 1024"><path d="M544.96 84.48v399.04H944v49.92H544.96v399.04h-49.92V533.44H96v-49.92h399.04V84.48h49.92z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_create-siblings-color" viewBox="0 0 1024 1024"><path d="M722.08 710.24h-48v72.64h-73.12v48h72.64v73.12h48V832h72.64v-48h-72.16z m242.24-96.96v387.68H432V613.44z" fill="#0847A6" ></path><path d="M964.32 32v387.52H431.36V250.08H213.28v532.8h218.08v48.48H164.8V540.64H43.68v-48.32h121.12V201.6h266.56V32h532.96z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_word-list-color" viewBox="0 0 1024 1024"><path d="M752 272v96H560v-96z m-288 0v96H272v-96z m0 192v96H272v-96z m288 0v96H560v-96z m0 192v96H560v-96z m-288 0v96H272v-96z m384-480H176v672h672z m96-96v864H80V80z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_terms-color" viewBox="0 0 1024 1024"><path d="M993.76 625.12v93.28H760.48v-93.28z m0 186.56v93.28H620.64v-93.28zM584.64 112C806.08 112 987.04 282.72 993.6 496v12h-93.12c0-167.04-141.12-303.2-315.84-303.2a313.92 313.92 0 0 0-306.72 230.4l-2.56 10.88-6.24 28.8-29.12 7.36a168.96 168.96 0 0 0-132.8 162.24 170.72 170.72 0 0 0 165.92 166.88h266.72v93.28H282.4A264.32 264.32 0 0 1 14.24 644.48a260.96 260.96 0 0 1 173.12-243.52l3.68-1.28 2.24-7.68A407.68 407.68 0 0 1 572 112z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_terms" viewBox="0 0 1024 1024"><path d="M993.76 625.12v93.28H760.48v-93.28z m0 186.56v93.28H620.64v-93.28zM584.64 112C806.08 112 987.04 282.72 993.6 496v12h-93.12c0-167.04-141.12-303.2-315.84-303.2a313.92 313.92 0 0 0-306.72 230.4l-2.56 10.88-6.24 28.8-29.12 7.36a168.96 168.96 0 0 0-132.8 162.24 170.72 170.72 0 0 0 165.92 166.88h266.72v93.28H282.4A264.32 264.32 0 0 1 14.24 644.48a260.96 260.96 0 0 1 173.12-243.52l3.68-1.28 2.24-7.68A407.68 407.68 0 0 1 572 112z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_word-list" viewBox="0 0 1024 1024"><path d="M752 272v96H560v-96z m-288 0v96H272v-96z m0 192v96H272v-96z m288 0v96H560v-96z m0 192v96H560v-96z m-288 0v96H272v-96z m384-480H176v672h672z m96-96v864H80V80z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_sort-within-group-color" viewBox="0 0 1024 1024"><path d="M80 80h123.36v864H80z" fill="#0847A6" ></path><path d="M820.64 688H944v256h-123.36z" fill="#6B91CA" ></path><path d="M573.76 288h123.36v656h-123.36z" fill="#0847A6" ></path><path d="M326.88 480h123.36v464h-123.36z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_sort-within-group" viewBox="0 0 1024 1024"><path d="M80 80h123.36v864H80z" fill="#8C8C8C" ></path><path d="M820.64 688H944v256h-123.36z" fill="#BFBFBF" ></path><path d="M573.76 288h123.36v656h-123.36z" fill="#8C8C8C" ></path><path d="M326.88 480h123.36v464h-123.36z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_non-sort-within-group-color" viewBox="0 0 1024 1024"><path d="M80 80v864h123.36V80z m740.64 678.88V944H944V758.88z m-246.88-123.52V944h123.36V635.36zM326.88 388.64V944h123.36V388.64z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_non-sort-within-group" viewBox="0 0 1024 1024"><path d="M80 80v864h123.36V80z m740.64 678.88V944H944V758.88z m-246.88-123.52V944h123.36V635.36zM326.88 388.64V944h123.36V388.64z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_harmony-map" viewBox="0 0 1024 1024"><path d="M560.104186 414.124651a341.015814 341.015814 0 0 1-71.44186 16.669768 304.580465 304.580465 0 0 1-38.102326 102.4 432.461395 432.461395 0 0 1 104.781395 79.062325 323.393488 323.393488 0 0 1 61.916279-117.402791 232.900465 232.900465 0 0 1-57.153488-80.729302z m22.146977-307.438139l40.007442 15.24093-5.715349 15.47907c-30.95814 86.444651-41.19814 158.83907-29.767442 218.135814a404.837209 404.837209 0 0 0 148.122791-148.360931l3.333953-7.144186 36.673489 22.146977a446.987907 446.987907 0 0 1-176.699535 175.032558 193.369302 193.369302 0 0 0 46.199069 66.44093 526.764651 526.764651 0 0 1 217.421396-115.497674l8.573023-2.381395 11.668837 41.198139a498.664186 498.664186 0 0 0-203.371163 103.114419 466.03907 466.03907 0 0 0 191.940466 61.20186h8.096744L874.924651 595.348837a506.99907 506.99907 0 0 1-224.803721-73.585116 285.767442 285.767442 0 0 0-60.963721 130.024186 635.594419 635.594419 0 0 1 97.875349 186.463256l3.095814 9.049302-40.72186 13.573954a645.834419 645.834419 0 0 0-66.91721-144.312559 572.725581 572.725581 0 0 0 21.194419 155.266977l2.381395 8.334884-41.436279 11.430698a565.819535 565.819535 0 0 1-20.956279-227.661396 394.835349 394.835349 0 0 0-119.069767-95.255814 545.101395 545.101395 0 0 1-198.132093 149.075349l-8.096745 3.810233-18.098604-38.816744 15.717209-7.620466a505.808372 505.808372 0 0 0 168.602791-124.785116 540.576744 540.576744 0 0 0-236.234419-30.005581h-9.287442l-2.619535-41.674419a582.251163 582.251163 0 0 1 274.574884 36.197209 265.287442 265.287442 0 0 0 32.863256-80.967441 565.343256 565.343256 0 0 1-232.900465-56.200931l-8.573023-3.810232 18.098604-38.816744a523.906977 523.906977 0 0 0 229.328372 55.96279A442.225116 442.225116 0 0 0 392.930233 166.697674l-3.810233-7.382325 38.102326-19.765582a498.664186 498.664186 0 0 1 65.488372 247.188838 296.72186 296.72186 0 0 0 55.010232-13.573954c-15.955349-71.44186-5.477209-156.695814 31.910698-258.143256z" fill="#9CB0CD" ></path><path d="M523.906977 71.44186a427.222326 427.222326 0 0 1 174.08 36.911628l10.24 4.762791L671.315349 190.511628a343.15907 343.15907 0 0 0-421.745116 104.066977l-4.524652 6.429767-69.774883-50.009302A428.651163 428.651163 0 0 1 523.906977 71.44186z m225.994418 64.297675a428.651163 428.651163 0 0 1 156.933954 557.246512l-4.762791 9.287441-75.490232-40.483721a343.15907 343.15907 0 0 0-115.497675-449.131162l-6.429767-4.048372z m-602.493023 159.315349l75.252093 40.96a343.15907 343.15907 0 0 0 120.260465 455.56093l6.667907 4.048372-43.579535 73.823256a428.651163 428.651163 0 0 1-158.60093-574.392558z m655.36 404.837209l69.536744 50.009302a428.651163 428.651163 0 0 1-512.238139 146.455814l-10.24-4.286511 34.768372-78.347907a343.397209 343.397209 0 0 0 417.934884-113.830698z" fill="#61799B" ></path></symbol><symbol id="icon-cem_harmony-map-gray" viewBox="0 0 1024 1024"><path d="M560.104186 414.124651a341.015814 341.015814 0 0 1-71.44186 16.669768 304.580465 304.580465 0 0 1-38.102326 102.4 432.461395 432.461395 0 0 1 104.781395 79.062325 323.393488 323.393488 0 0 1 61.916279-117.402791 232.900465 232.900465 0 0 1-57.153488-80.729302z m22.146977-307.438139l40.007442 15.24093-5.715349 15.47907c-30.95814 86.444651-41.19814 158.83907-29.767442 218.135814a404.837209 404.837209 0 0 0 148.122791-148.360931l3.333953-7.144186 36.673489 22.146977a446.987907 446.987907 0 0 1-176.699535 175.032558 193.369302 193.369302 0 0 0 46.199069 66.44093 526.764651 526.764651 0 0 1 217.421396-115.497674l8.573023-2.381395 11.668837 41.198139a498.664186 498.664186 0 0 0-203.371163 103.114419 466.03907 466.03907 0 0 0 191.940466 61.20186h8.096744L874.924651 595.348837a506.99907 506.99907 0 0 1-224.803721-73.585116 285.767442 285.767442 0 0 0-60.963721 130.024186 635.594419 635.594419 0 0 1 97.875349 186.463256l3.095814 9.049302-40.72186 13.573954a645.834419 645.834419 0 0 0-66.91721-144.312559 572.725581 572.725581 0 0 0 21.194419 155.266977l2.381395 8.334884-41.436279 11.430698a565.819535 565.819535 0 0 1-20.956279-227.661396 394.835349 394.835349 0 0 0-119.069767-95.255814 545.101395 545.101395 0 0 1-198.132093 149.075349l-8.096745 3.810233-18.098604-38.816744 15.717209-7.620466a505.808372 505.808372 0 0 0 168.602791-124.785116 540.576744 540.576744 0 0 0-236.234419-30.005581h-9.287442l-2.619535-41.674419a582.251163 582.251163 0 0 1 274.574884 36.197209 265.287442 265.287442 0 0 0 32.863256-80.967441 565.343256 565.343256 0 0 1-232.900465-56.200931l-8.573023-3.810232 18.098604-38.816744a523.906977 523.906977 0 0 0 229.328372 55.96279A442.225116 442.225116 0 0 0 392.930233 166.697674l-3.810233-7.382325 38.102326-19.765582a498.664186 498.664186 0 0 1 65.488372 247.188838 296.72186 296.72186 0 0 0 55.010232-13.573954c-15.955349-71.44186-5.477209-156.695814 31.910698-258.143256z" fill="#BFBFBF" ></path><path d="M523.906977 71.44186a427.222326 427.222326 0 0 1 174.08 36.911628l10.24 4.762791L671.315349 190.511628a343.15907 343.15907 0 0 0-421.745116 104.066977l-4.524652 6.429767-69.774883-50.009302A428.651163 428.651163 0 0 1 523.906977 71.44186z m225.994418 64.297675a428.651163 428.651163 0 0 1 156.933954 557.246512l-4.762791 9.287441-75.490232-40.483721a343.15907 343.15907 0 0 0-115.497675-449.131162l-6.429767-4.048372z m-602.493023 159.315349l75.252093 40.96a343.15907 343.15907 0 0 0 120.260465 455.56093l6.667907 4.048372-43.579535 73.823256a428.651163 428.651163 0 0 1-158.60093-574.392558z m655.36 404.837209l69.536744 50.009302a428.651163 428.651163 0 0 1-512.238139 146.455814l-10.24-4.286511 34.768372-78.347907a343.397209 343.397209 0 0 0 417.934884-113.830698z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_asahi-chart--gray" viewBox="0 0 1024 1024"><path d="M404.837209 512a119.069767 119.069767 0 0 1 106.924651-116.212093v-95.255814A214.325581 214.325581 0 0 0 309.581395 512z" fill="#BFBFBF" ></path><path d="M535.813953 300.055814v95.255814a119.069767 119.069767 0 1 1-128.833488 140.026046H309.581395a214.325581 214.325581 0 1 0 225.041861-235.758139z" fill="#8C8C8C" ></path><path d="M512 228.613953v-142.88372A428.651163 428.651163 0 0 0 95.255814 512h142.883721A285.767442 285.767442 0 0 1 512 228.613953z" fill="#BFBFBF" ></path><path d="M952.55814 513.666977a428.651163 428.651163 0 0 0-416.744187-428.651163v142.883721a285.767442 285.767442 0 0 1 193.369303 483.661395l100.971163 100.971163A426.984186 426.984186 0 0 0 952.55814 513.666977z" fill="#8C8C8C" ></path><path d="M523.906977 799.434419A285.767442 285.767442 0 0 1 238.139535 535.813953H95.255814a428.651163 428.651163 0 0 0 717.514419 293.864187l-100.971163-100.971163A284.338605 284.338605 0 0 1 523.906977 799.434419z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_relation-diagram-gray" viewBox="0 0 1024 1024"><path d="M327.989581 217.20707l190.416372-95.208186 10.668652 21.289674-190.416372 95.232z" fill="#E5E5E5" ></path><path d="M344.349767 223.374884l117.402791 281.957209 252.189768 137.406512 184.558139-115.259535 12.859535 20.003721-196.465116 122.88-271.71721-148.122791-120.736744-289.815814 21.908837-9.049302z" fill="#E5E5E5" ></path><path d="M703.226047 660.551442l22.599441-7.525209 71.441861 214.397023-22.575628 7.525209zM443.653953 505.808372l17.622326 15.717209-181.224186 204.085582 131.453023 87.635349-13.335814 20.003721-154.314418-102.87628 199.799069-224.565581z" fill="#E5E5E5" ></path><path d="M90.493023 667.505116l9.525582-21.908837 180.271628 77.395349-127.642791 178.604651-19.527442-13.812093 110.496744-154.552558-153.123721-65.726512z" fill="#E5E5E5" ></path><path d="M452.465116 513.666977m-142.883721 0a142.883721 142.883721 0 1 0 285.767442 0 142.883721 142.883721 0 1 0-285.767442 0Z" fill="#8C8C8C" ></path><path d="M714.418605 656.550698m-95.255814 0a95.255814 95.255814 0 1 0 190.511628 0 95.255814 95.255814 0 1 0-190.511628 0Z" fill="#BFBFBF" ></path><path d="M333.395349 227.899535m-95.255814 0a95.255814 95.255814 0 1 0 190.511628 0 95.255814 95.255814 0 1 0-190.511628 0Z" fill="#BFBFBF" ></path><path d="M261.953488 727.992558m-71.44186 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#BFBFBF" ></path><path d="M785.860465 870.876279m-71.44186 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#8C8C8C" ></path><path d="M904.930233 537.48093m-71.441861 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#8C8C8C" ></path><path d="M95.255814 656.550698m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#8C8C8C" ></path><path d="M142.883721 894.690233m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#8C8C8C" ></path><path d="M404.837209 823.248372m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#8C8C8C" ></path><path d="M523.906977 132.643721m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_double-column-chart" viewBox="0 0 1024 1024"><path d="M285.767442 642.976744h95.255814v214.325582h-95.255814zM95.255814 595.348837h95.255814v261.953489H95.255814zM476.27907 714.418605h95.255814v142.883721h-95.255814zM666.790698 762.046512h95.255814v95.255814h-95.255814zM857.302326 809.674419h95.255814v47.627907h-95.255814z" fill="#61799B" ></path><path d="M285.767442 238.139535h95.255814v214.325581h-95.255814zM95.255814 190.511628h95.255814v261.953488H95.255814zM476.27907 309.581395h95.255814v142.883721h-95.255814zM666.790698 357.209302h95.255814v95.255814h-95.255814zM857.302326 404.837209h95.255814v47.627907h-95.255814z" fill="#9CB0CD" ></path><path d="M95.255814 500.093023h857.302326v47.627907H95.255814z" fill="#DDE4EF" ></path></symbol><symbol id="icon-cem_scatter-diagram" viewBox="0 0 1024 1024"><path d="M556.8 649.6a201.6 201.6 0 1 0 403.2 0 201.6 201.6 0 1 0-403.2 0zM624 280a100.8 100.8 0 1 0 201.6 0 100.8 100.8 0 1 0-201.6 0zM64 672a112 112 0 1 0 224 0 112 112 0 1 0-224 0zM870.4 179.2a44.8 44.8 0 1 0 89.6 0 44.8 44.8 0 1 0-89.6 0zM332.8 795.2a78.4 78.4 0 1 0 156.8 0 78.4 78.4 0 1 0-156.8 0z"  ></path></symbol><symbol id="icon-cem_line-chart1" viewBox="0 0 1024 1024"><path d="M47.627907 727.27814l130.738605-206.943256 103.114418 136.215814 154.314419-275.289303 105.257674 54.772093 106.448372-172.413023 119.784186 231.709768 110.973024-146.693954L1000.186047 538.909767v379.594419H47.627907v-191.226046z" fill="#9CB0CD" ></path><path d="M47.627907 918.504186h952.55814V645.596279l-120.022326-141.931163-128.357209 120.736744-81.205582-120.736744-100.733023 141.931163-132.88186-68.107907-154.314419 224.803721-101.209302-122.403721L47.627907 824.677209v93.826977z" fill="#61799B" ></path><path d="M514.619535 309.105116l134.548837-224.565581 127.404651 235.996279 111.449303-141.216744 132.88186 230.04279-41.436279 23.813954-97.637209-169.07907-112.64 142.883721-122.165582-226.232558-113.830697 190.511628-104.781396-51.2-152.409302 271.717209-97.16093-147.884651-110.973024 181.462326-40.48372-25.004652 150.027906-245.28372L272.907907 500.093023l135.977674-242.426046 105.733954 51.438139z" fill="#DDE4EF" ></path></symbol><symbol id="icon-cem_index-card" viewBox="0 0 1024 1024"><path d="M989.707907 360.305116h-52.152558v-15.479069h52.152558z m-65.726512 54.533954a83.348837 83.348837 0 0 0 13.335814-44.532093H1000.186047v-35.482791h-30.95814c-1.666977-4.286512-3.095814-8.334884-4.524651-11.906977l-10.954419 1.666977a88.111628 88.111628 0 0 1 5.00093 10.001861h-31.196279v32.386976a71.44186 71.44186 0 0 1-10.954418 40.721861z m-30.243721-40.96h-23.813953v-14.050233h23.813953z m-33.577674 0h-21.432558v-14.050233h21.432558z m0-23.813954h-21.432558v-13.812093h21.432558z m33.577674 0h-23.813953v-13.812093h23.813953z m-66.44093 63.106977a60.487442 60.487442 0 0 0 10.954419-30.243721h21.908837v27.624186h10.47814V383.404651h23.813953v13.573954c0 3.810233-1.666977 5.715349-4.524651 5.715348h-10.716279l2.857674 10.001861h11.192558a10.24 10.24 0 0 0 11.668838-11.430698v-73.823256h-76.680931v47.627907a55.010233 55.010233 0 0 1-8.811162 31.434419z m-51.438139-30.72h-17.860465v-20.24186h17.860465z m10.24 10.00186v-39.293023h-38.578605v39.769303z m-49.771163 21.670698v-74.061395h-10.47814v74.537674z m58.820465 0c8.811163 0 13.335814-3.810233 13.335814-11.668837v-74.061395H762.046512v10.00186h35.72093v60.963721c0 3.333953-1.666977 5.23907-5.00093 5.23907h-10.47814l2.857675 9.525581z m-47.627907-68.822325l9.287442-4.762791a108.591628 108.591628 0 0 0-11.668837-17.384186l-9.287442 4.286511a104.543256 104.543256 0 0 1 10.24 17.622326z m-108.115349 66.679069a159.315349 159.315349 0 0 0 19.765582-15.955348l-2.857675-10.71628-8.334884 7.858605v-40.245581H623.925581v9.763721h12.621396v34.053953a7.620465 7.620465 0 0 1-2.619535 5.715349z m7.858605-65.488372l7.144186-7.144186a123.594419 123.594419 0 0 0-15.955349-14.288372l-7.144186 6.667907a88.349767 88.349767 0 0 1 14.526512 14.526512z m15.002791 68.584186a76.204651 76.204651 0 0 0 20.48-43.579535h17.384186v28.814884a5.23907 5.23907 0 0 1-5.23907 4.286512h-12.859535l3.095814 9.287442h10.954418a12.145116 12.145116 0 0 0 12.383256-7.620465 256.714419 256.714419 0 0 0 2.857675-44.532094h-28.814884v-14.050232H714.418605v-10.001861h-23.813954a119.069767 119.069767 0 0 0-7.144186-14.764651l-10.00186 2.857675a112.163721 112.163721 0 0 1 6.667907 12.145116h-23.813954v10.00186h17.384186v11.906977a91.92186 91.92186 0 0 1-4.048372 23.813954 72.870698 72.870698 0 0 1-14.764651 23.813953z m-44.770233-5.477209v-10.00186h-31.196279a259.333953 259.333953 0 0 0 13.812093-44.293954l-10.954419-2.857674a267.668837 267.668837 0 0 1-14.764651 47.627907h-47.627907v10.00186z m-62.392558-11.192558l10.954418-2.857675a358.4 358.4 0 0 0-11.430697-43.341395l-10.716279 3.572093a359.590698 359.590698 0 0 1 9.763721 42.388837z m59.058604-50.009302v-10.001861h-35.72093c-1.428837-5.23907-2.619535-10.00186-4.048372-14.288372l-11.906977 1.905116a131.691163 131.691163 0 0 1 4.524652 12.383256h-35.720931v10.001861z m-128.833488 23.813953H476.27907v-23.813953h9.049302z m19.289302 0h-9.287441v-23.813953h9.287441z m-58.344186 41.436279a15.24093 15.24093 0 0 0 9.287442-2.619535c3.810233-3.333953 5.953488-12.859535 5.953489-29.053023a107.877209 107.877209 0 0 0-4.762791-33.815814l-1.190698-3.095814a91.683721 91.683721 0 0 0 11.668837-15.002791l-8.334883-5.239069a98.351628 98.351628 0 0 1-8.573024 11.430697 81.205581 81.205581 0 0 0-9.049302-10.716279l-8.096744 6.191628a55.248372 55.248372 0 0 1 10.00186 11.430698 63.821395 63.821395 0 0 1-12.621395 7.858604l5.477209 8.811163c4.286512-2.857674 8.334884-5.477209 11.906977-8.096744a60.487442 60.487442 0 0 1 2.381395 9.287442A67.393488 67.393488 0 0 1 428.651163 381.023256l5.715349 8.573023a71.44186 71.44186 0 0 0 15.479069-15.24093V381.023256a45.722791 45.722791 0 0 1-2.857674 21.432558 5.715349 5.715349 0 0 1-5.00093 1.666977h-9.287442l3.095814 9.525581z m63.821396 1.666977l9.287442-2.381396a216.945116 216.945116 0 0 0-8.811163-28.576744l-8.334884 2.857675c0 3.572093 2.381395 7.144186 3.333954 10.954418l-10.47814 1.905117V381.023256h19.051163v-41.674419h-19.289303v-15.00279h-10.24v15.00279h-18.574883V381.023256h18.813023v19.527442l-22.385116 1.666976 1.666976 10.24a357.209302 357.209302 0 0 0 43.817675-5.953488z m-121.451163-23.813954h-22.146977v-8.573023h22.146977z m9.763721 8.811163v-26.195349h-43.341395v25.95721z m3.572093-31.196279v-8.811163H381.023256v-7.144186h15.955349v-8.334883H381.023256v-6.191628h-10.001861v6.191628h-16.431628v8.334883h16.431628v7.144186h-18.574883v8.811163z m-62.630698 45.484651a103.828837 103.828837 0 0 0 10.47814-48.818604v-29.529303H404.837209v65.250233c0 2.143256 0 3.333953-3.572093 3.333953h-11.906976l2.619534 9.763721H404.837209c7.144186 0 10.716279-3.095814 10.716279-9.049302v-78.824186h-77.157209v39.531163a95.255814 95.255814 0 0 1-8.334884 41.198139z m-15.955349-41.198139v-10.24H233.138605v10.24z m-111.211162 41.674418l8.811162-5.953488a271.717209 271.717209 0 0 0-23.813953-33.101395L190.511628 381.023256c4.524651 5.953488 8.811163 11.906977 12.383256 17.384186-8.811163 0-23.813953 2.143256-42.865117 3.572093a121.213023 121.213023 0 0 0 18.336745-28.576744h45.246511v-10.001861H185.034419v-15.24093h32.386976v-10.00186H185.034419v-14.526512h-10.47814v14.526512H142.883721v10.00186h31.672558v15.24093H135.739535v10.001861H166.697674a69.536744 69.536744 0 0 1-23.813953 30.005581l1.666977 8.334884q30.243721-1.666977 64.059535-4.524651z m-166.697675 0c5.00093-9.049302 8.334884-13.573953 10.47814-13.573953a5.477209 5.477209 0 0 1 3.810232 2.381395 21.670698 21.670698 0 0 0 10.716279 6.667907 79.300465 79.300465 0 0 0 16.431628 1.666977h38.340465l2.381396-10.24h-45.246512a37.149767 37.149767 0 0 1-13.573953-2.381395 28.576744 28.576744 0 0 1-7.144186-5.715349V357.209302h-23.813954v9.525582h13.097674v26.195349a42.865116 42.865116 0 0 0-13.335813 15.24093z m38.816744-35.72093l8.334884-5.715349a162.887442 162.887442 0 0 0-13.812093-18.574883l-7.382326 5.00093a176.937674 176.937674 0 0 1 12.383256 19.527442z m-28.576744-32.386977l7.382326-7.382325a129.309767 129.309767 0 0 0-16.669768-15.24093l-6.906046 6.667906a100.733023 100.733023 0 0 1 15.955349 16.193489z m46.19907 52.152558a9.287442 9.287442 0 0 0 10.478139-10.478139v-40.007442h13.573954v-10.00186h-13.812093v-14.764652h-10.001861v14.764652H65.488372v10.00186h36.673488v37.864186a3.572093 3.572093 0 0 1-3.810232 3.810233h-12.383256l2.143256 9.763721z" fill="#9CB0CD" ></path><path d="M862.541395 674.649302a15.47907 15.47907 0 0 1-10.00186-3.572093 27.862326 27.862326 0 0 1-7.382326-14.288372 177.890233 177.890233 0 0 1-2.857674-39.531163 179.08093 179.08093 0 0 1 3.333953-40.96 23.813953 23.813953 0 0 1 6.906047-13.097674 15.717209 15.717209 0 0 1 10.24-3.572093 15.47907 15.47907 0 0 1 10.00186 3.572093 28.100465 28.100465 0 0 1 7.382326 14.288372 177.890233 177.890233 0 0 1 2.857674 39.531163 177.652093 177.652093 0 0 1-3.333953 40.72186 23.813953 23.813953 0 0 1-6.906047 13.097675 15.717209 15.717209 0 0 1-10.24 3.810232z m0 25.95721a44.532093 44.532093 0 0 0 36.911628-16.669768 108.353488 108.353488 0 0 0 15.955349-66.67907 108.115349 108.115349 0 0 0-15.955349-66.679069 49.294884 49.294884 0 0 0-74.061395 0A107.877209 107.877209 0 0 0 809.674419 616.781395a108.353488 108.353488 0 0 0 14.526511 65.488372 47.627907 47.627907 0 0 0 38.340465 18.336745z m-126.928372-25.95721a15.47907 15.47907 0 0 1-10.00186-3.572093 27.862326 27.862326 0 0 1-7.382326-14.288372 177.890233 177.890233 0 0 1-3.810232-39.769302 179.08093 179.08093 0 0 1 3.333953-40.96 23.813953 23.813953 0 0 1 6.906047-13.097675 15.717209 15.717209 0 0 1 10.24-3.572093 15.47907 15.47907 0 0 1 10.00186 3.572093 28.100465 28.100465 0 0 1 7.382326 14.288373 177.890233 177.890233 0 0 1 2.857674 39.531162 177.652093 177.652093 0 0 1-3.333953 40.721861 23.813953 23.813953 0 0 1-6.906047 13.097674 15.717209 15.717209 0 0 1-9.287442 4.048372z m0 25.95721a44.532093 44.532093 0 0 0 36.911628-16.669768 108.353488 108.353488 0 0 0 15.955349-66.67907 108.115349 108.115349 0 0 0-15.955349-66.679069 49.294884 49.294884 0 0 0-74.061395 0 107.877209 107.877209 0 0 0-15.955349 66.44093 108.353488 108.353488 0 0 0 14.526512 65.488372 47.627907 47.627907 0 0 0 38.578604 18.098605z m-127.88093-2.857675a192.416744 192.416744 0 0 1 7.144186-49.056744 218.373953 218.373953 0 0 1 20.956279-51.914419 168.602791 168.602791 0 0 1 26.909768-37.387907v-23.813953h-107.162791v29.053023h71.44186a230.28093 230.28093 0 0 0-35.244651 63.106977 210.03907 210.03907 0 0 0-14.050232 69.060465z m-106.210233 36.435349a45.722791 45.722791 0 0 0 16.669768-9.763721 32.148837 32.148837 0 0 0 8.811163-14.050232 78.109767 78.109767 0 0 0 2.381395-21.432559V666.790698h-31.434419v30.958139h15.240931a25.71907 25.71907 0 0 1-4.286512 15.002791 26.433488 26.433488 0 0 1-13.573953 8.573023z m-82.872558-58.820465a21.432558 21.432558 0 0 1-16.669767-7.144186 31.434419 31.434419 0 0 1 0-37.387907 19.527442 19.527442 0 0 1 17.146046-7.858605 21.432558 21.432558 0 0 1 16.431628 6.906047 25.957209 25.957209 0 0 1 6.429768 18.336744 28.814884 28.814884 0 0 1-6.429768 20.24186 20.71814 20.71814 0 0 1-16.907907 6.906047z m0-77.633488a19.289302 19.289302 0 0 1-14.050232-5.23907 19.527442 19.527442 0 0 1-5.23907-14.526512 19.051163 19.051163 0 0 1 5.23907-14.050232 19.527442 19.527442 0 0 1 14.288372-5.23907 18.098605 18.098605 0 0 1 19.289302 19.289302 19.765581 19.765581 0 0 1-5.23907 14.764651 19.289302 19.289302 0 0 1-15.00279 5.000931z m1.428838 102.876279a52.390698 52.390698 0 0 0 38.340465-14.050233 49.294884 49.294884 0 0 0 14.526511-36.911628 42.150698 42.150698 0 0 0-7.144186-23.813953 43.817674 43.817674 0 0 0-20.718139-15.955349 37.387907 37.387907 0 0 0 16.669767-13.573954 35.72093 35.72093 0 0 0 5.953489-20.24186 39.293023 39.293023 0 0 0-12.859535-30.243721 51.2 51.2 0 0 0-36.19721-11.906977 51.2 51.2 0 0 0-36.197209 11.906977 39.531163 39.531163 0 0 0-12.859535 30.243721 35.006512 35.006512 0 0 0 23.813954 33.815814 42.388837 42.388837 0 0 0-20.71814 17.146046 47.627907 47.627907 0 0 0-6.667907 23.813954 45.722791 45.722791 0 0 0 15.002791 38.102325 58.106047 58.106047 0 0 0 38.340465 11.668838zM288.386977 619.162791a19.527442 19.527442 0 0 1-15.71721-7.382326 35.72093 35.72093 0 0 1-6.191627-23.813953 35.006512 35.006512 0 0 1 5.715348-22.385117 18.098605 18.098605 0 0 1 13.573954-5.953488 20.48 20.48 0 0 1 16.193488 8.334884 35.72093 35.72093 0 0 1 6.906047 23.813953 31.196279 31.196279 0 0 1-6.191628 20.956279 19.289302 19.289302 0 0 1-14.288372 6.429768zM285.767442 700.606512a53.819535 53.819535 0 0 0 43.341395-19.765582 100.494884 100.494884 0 0 0 16.669768-64.773953 99.304186 99.304186 0 0 0-15.955349-63.345117 53.581395 53.581395 0 0 0-79.300465-5.00093 55.010233 55.010233 0 0 0-14.764651 40.007442 54.295814 54.295814 0 0 0 14.050232 38.816744 44.055814 44.055814 0 0 0 33.339535 15.002791 37.387907 37.387907 0 0 0 29.529302-13.812093 75.966512 75.966512 0 0 1-8.811162 39.054884 20.24186 20.24186 0 0 1-16.431628 8.811162 17.146047 17.146047 0 0 1-12.383256-4.524651 21.908837 21.908837 0 0 1-5.715349-13.812093l-31.196279 2.619535a49.294884 49.294884 0 0 0 15.717209 30.72 45.722791 45.722791 0 0 0 31.910698 10.001861z m-95.255814-2.857675v-164.078139H166.697674a57.867907 57.867907 0 0 1-19.765581 26.195349 90.493023 90.493023 0 0 1-27.862326 15.24093v28.338604a108.115349 108.115349 0 0 0 40.483721-23.813953v119.069767z" fill="#61799B" ></path></symbol><symbol id="icon-cem_asahi-chart" viewBox="0 0 1024 1024"><path d="M404.837209 512a119.069767 119.069767 0 0 1 106.924651-116.212093v-95.255814A214.325581 214.325581 0 0 0 309.581395 512z" fill="#9CB0CD" ></path><path d="M535.813953 300.055814v95.255814a119.069767 119.069767 0 1 1-128.833488 140.026046H309.581395a214.325581 214.325581 0 1 0 225.041861-235.758139z" fill="#61799B" ></path><path d="M512 228.613953v-142.88372A428.651163 428.651163 0 0 0 95.255814 512h142.883721A285.767442 285.767442 0 0 1 512 228.613953z" fill="#9CB0CD" ></path><path d="M952.55814 513.666977a428.651163 428.651163 0 0 0-416.744187-428.651163v142.883721a285.767442 285.767442 0 0 1 193.369303 483.661395l100.971163 100.971163A426.984186 426.984186 0 0 0 952.55814 513.666977z" fill="#61799B" ></path><path d="M523.906977 799.434419A285.767442 285.767442 0 0 1 238.139535 535.813953H95.255814a428.651163 428.651163 0 0 0 717.514419 293.864187l-100.971163-100.971163A284.338605 284.338605 0 0 1 523.906977 799.434419z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_pie-chart" viewBox="0 0 1024 1024"><path d="M535.813953 228.613953a285.767442 285.767442 0 0 1 273.860466 285.767442v10.24h142.883721v-10.24a428.651163 428.651163 0 0 0-416.744187-428.651162z" fill="#9CB0CD" ></path><path d="M238.139535 512A285.767442 285.767442 0 0 1 512 228.613953v-142.88372A428.651163 428.651163 0 0 0 95.255814 512zM807.531163 547.72093A285.767442 285.767442 0 0 1 535.813953 798.72v142.883721A428.651163 428.651163 0 0 0 950.891163 547.72093z" fill="#61799B" ></path><path d="M512 798.72A285.767442 285.767442 0 0 1 238.139535 535.813953H95.255814a428.651163 428.651163 0 0 0 415.553488 404.83721z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_histogram1" viewBox="0 0 1024 1024"><path d="M285.767442 333.395349h95.255814v523.906977h-95.255814zM95.255814 190.511628h95.255814v666.790698H95.255814zM476.27907 476.27907h95.255814v381.023256h-95.255814zM666.790698 619.162791h95.255814v238.139535h-95.255814zM857.302326 762.046512h95.255814v95.255814h-95.255814z" fill="#61799B" ></path></symbol><symbol id="icon-cem_form-chart" viewBox="0 0 1024 1024"><path d="M976.372093 166.697674H690.604651v666.790698h285.767442zM666.790698 166.697674H381.023256v666.790698h285.767442zM357.209302 166.697674H71.44186v666.790698h285.767442zM47.627907 857.302326V142.883721h952.55814v714.418605z" fill="#9CB0CD" ></path><path d="M47.627907 500.093023h952.55814v142.883721H47.627907z" fill="#9CB0CD" ></path><path d="M47.627907 142.883721h952.55814v166.697674H47.627907z" fill="#61799B" ></path><path d="M166.697674 381.023256h95.255814v47.627907H166.697674zM166.697674 714.418605h95.255814v47.627907H166.697674zM476.27907 381.023256h95.255814v47.627907h-95.255814zM476.27907 714.418605h95.255814v47.627907h-95.255814zM785.860465 381.023256h95.255814v47.627907h-95.255814zM785.860465 714.418605h95.255814v47.627907h-95.255814z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_side-by-side-bar-chart" viewBox="0 0 1024 1024"><path d="M0 190.511628h1024v95.255814H0z" fill="#61799B" ></path><path d="M0 381.023256h881.116279v95.255814H0z" fill="#9CB0CD" ></path><path d="M0 571.534884h571.534884v95.255814H0z" fill="#61799B" ></path><path d="M0 762.046512h357.209302v95.255814H0z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_radar-chart" viewBox="0 0 1024 1024"><path d="M523.906977 510.809302a47.627907 47.627907 0 1 0 47.627907 47.627907 47.627907 47.627907 0 0 0-47.627907-47.627907z m0-71.44186a119.069767 119.069767 0 1 1-119.069768 119.069767 119.069767 119.069767 0 0 1 119.069768-119.069767z m0-95.255814a214.325581 214.325581 0 1 0 214.325581 214.325581 214.325581 214.325581 0 0 0-214.325581-214.325581z m0-71.441861a285.767442 285.767442 0 1 1-285.767442 285.767442 285.767442 285.767442 0 0 1 285.767442-285.767442z m0-71.44186a357.209302 357.209302 0 1 0 357.209302 357.209302 357.209302 357.209302 0 0 0-357.209302-357.209302z m0-71.44186a428.651163 428.651163 0 1 1-428.651163 428.651162 428.651163 428.651163 0 0 1 428.651163-428.651162z" fill="#DDE4EF" ></path><path d="M309.581395 992.089302a23.813953 23.813953 0 0 1-23.813953-22.623255l-23.813954-432.223256a23.813953 23.813953 0 0 1 2.381396-11.906977l238.139535-474.612093a23.813953 23.813953 0 0 1 21.432558-13.335814 25.48093 25.48093 0 0 1 21.194418 12.145116l254.094884 452.465117a23.813953 23.813953 0 0 1 1.190698 20.718139l-107.87721 259.333954a23.813953 23.813953 0 0 1-10.716279 11.668837l-360.781395 195.512558a23.813953 23.813953 0 0 1-11.430698 2.857674z m0-451.274418L331.252093 928.744186l320.297674-173.603721 100.018605-239.568372L523.906977 111.925581z" fill="#9CB0CD" ></path><path d="M714.418605 918.980465a23.813953 23.813953 0 0 1-7.144186 0l-345.302326-111.449302a23.813953 23.813953 0 0 1-12.621395-9.763721L75.252093 376.736744a23.813953 23.813953 0 0 1 10.954419-35.006511l428.651162-176.937675a23.813953 23.813953 0 0 1 21.432559 1.666977l428.651162 256.714418a23.813953 23.813953 0 0 1 8.811163 31.434419l-238.139535 452.465116a23.813953 23.813953 0 0 1-21.194418 11.906977z m-330.061396-154.314418l318.392558 101.685581L920.885581 452.465116 522.00186 214.325581 130.976744 374.831628z" fill="#61799B" ></path></symbol><symbol id="icon-cem_funnel" viewBox="0 0 1024 1024"><path d="M519.620465 108.829767H23.813953L519.620465 945.413953 1015.426977 108.829767z" fill="#DDE4EF" ></path><path d="M673.458605 523.906977H359.828837a1741.276279 1741.276279 0 0 1 87.635349 190.511628h142.883721a1539.572093 1539.572093 0 0 1 83.110698-190.511628z" fill="#61799B" ></path><path d="M589.157209 714.418605h-142.883721a2076.338605 2076.338605 0 0 1 74.775814 230.995348 1803.668837 1803.668837 0 0 1 68.107907-230.995348zM238.139535 333.395349a1476.465116 1476.465116 0 0 1 121.213023 190.511628h314.106047a1349.060465 1349.060465 0 0 1 121.213023-190.511628z" fill="#9CB0CD" ></path><path d="M1015.426977 108.829767H23.813953A1296.669767 1296.669767 0 0 1 238.139535 333.395349h556.532093a1267.140465 1267.140465 0 0 1 220.755349-224.565582z" fill="#61799B" ></path></symbol><symbol id="icon-cem_dendrogram1" viewBox="0 0 1024 1024"><path d="M100.733023 534.385116l-10.954418-20.956279 407.933023-215.516279 404.837209-83.348837 4.762791 23.337674-403.170233 83.110698-403.408372 213.373023z" fill="#DDE4EF" ></path><path d="M491.662884 321.083535l6.001116-23.051907 410.123907 107.162791-6.001116 23.028093zM902.548837 833.250233l-407.933023-84.539535-404.837209-214.325582 10.954418-20.956279 403.408372 213.373023 403.170233 83.110698-4.762791 23.337675z" fill="#DDE4EF" ></path><path d="M497.163907 726.635163l404.956279-107.162791 6.096372 23.028093-404.956279 107.162791z" fill="#DDE4EF" ></path><path d="M23.813953 381.023256h142.883721v285.767442H23.813953zM428.651163 166.697674h142.883721v285.767442h-142.883721z" fill="#61799B" ></path><path d="M428.651163 595.348837h142.883721v285.767442h-142.883721z" fill="#9CB0CD" ></path><path d="M833.488372 166.697674h142.883721v119.069768h-142.883721z" fill="#61799B" ></path><path d="M833.488372 762.046512h142.883721v119.069767h-142.883721z" fill="#9CB0CD" ></path><path d="M833.488372 571.534884h142.883721v119.069767h-142.883721z" fill="#61799B" ></path><path d="M833.488372 357.209302h142.883721v119.069768h-142.883721z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_area-chart" viewBox="0 0 1024 1024"><path d="M47.627907 142.883721h547.72093v547.72093H47.627907zM762.046512 666.790698h238.139535v190.511628H762.046512z" fill="#61799B" ></path><path d="M642.976744 142.883721h357.209303v357.209302H642.976744zM47.627907 738.232558h547.72093v119.069768H47.627907zM642.976744 547.72093h71.441861v309.581396h-71.441861zM762.046512 547.72093h238.139535v71.441861H762.046512z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_parallel-graph" viewBox="0 0 1024 1024"><path d="M71.44186 142.883721h47.627907v714.418605H71.44186zM285.767442 142.883721h47.627907v714.418605h-47.627907zM500.093023 142.883721h47.627907v714.418605h-47.627907zM714.418605 142.883721h47.627907v714.418605h-47.627907zM928.744186 142.883721h47.627907v714.418605h-47.627907z" fill="#DDE4EF" ></path><path d="M309.581395 458.418605a23.813953 23.813953 0 0 1-13.573953-4.286512l-214.325582-148.837209 27.147907-39.054884L309.581395 404.837209l200.751628-139.311628a23.813953 23.813953 0 0 1 22.385117-2.619534L738.232558 344.349767l205.514419-80.729302 17.384186 44.293954-214.325582 84.301395a23.813953 23.813953 0 0 1-17.384186 0l-202.418604-79.538605-203.847442 141.454884a23.813953 23.813953 0 0 1-13.573954 4.286512z" fill="#9CB0CD" ></path><path d="M113.592558 797.767442l-36.673488-30.481861 214.325581-259.572093a23.813953 23.813953 0 0 1 11.192558-7.620465l214.325582-68.822325a23.813953 23.813953 0 0 1 16.669767 0l206.705116 89.778604 206.466977-54.057674 12.145116 46.19907-214.325581 56.20093a23.813953 23.813953 0 0 1-15.47907-1.190698l-205.990697-89.540465-199.084652 64.059535z" fill="#61799B" ></path><path d="M738.232558 730.612093a23.813953 23.813953 0 0 1-10.716279-2.619535L523.906977 624.163721l-204.085582 86.682791a23.813953 23.813953 0 0 1-18.574883 0L85.968372 619.162791l18.574884-43.817675L309.581395 662.980465l205.03814-87.15907a23.813953 23.813953 0 0 1 20.003721 0l203.609302 104.781396L943.508837 595.348837l18.336744 44.055814-214.325581 89.302326a23.813953 23.813953 0 0 1-9.287442 1.905116z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_dashboard" viewBox="0 0 1024 1024"><path d="M535.813953 260.048372A285.767442 285.767442 0 0 1 809.674419 523.906977h142.883721A428.651163 428.651163 0 0 0 535.813953 117.164651z" fill="#61799B" ></path><path d="M809.674419 547.72093a285.767442 285.767442 0 0 1-159.07721 253.856744L714.418605 928.744186l7.858604-4.048372A428.651163 428.651163 0 0 0 952.55814 547.72093zM238.139535 545.339535a285.767442 285.767442 0 0 1 273.860465-285.767442v-142.883721A428.651163 428.651163 0 0 0 333.395349 928.744186l63.583256-127.88093-6.667907-3.333954A285.767442 285.767442 0 0 1 238.139535 545.339535z" fill="#9CB0CD" ></path><path d="M523.906977 309.581395l71.44186 95.255814h-47.627907v75.490233a71.44186 71.44186 0 0 1 47.627907 63.106977V547.72093a71.44186 71.44186 0 1 1-95.255814-67.393488V404.837209h-47.627907z" fill="#61799B" ></path></symbol><symbol id="icon-cem_k-line-chart" viewBox="0 0 1024 1024"><path d="M452.465116 95.255814v71.44186h23.813954v666.790698h-23.813954v71.441861h-47.627907v-71.441861h-23.813953V166.697674h23.813953V95.255814h47.627907zM952.55814 142.883721v95.255814h23.813953v523.906977h-23.813953v95.255814h-47.627907v-95.255814h-23.813954V238.139535h23.813954V142.883721h47.627907z" fill="#61799B" ></path><path d="M785.860465 214.325581v119.069768h23.813954v333.395349h-23.813954v119.069767h-47.627907v-119.069767h-23.813953V333.395349h23.813953V214.325581h47.627907zM285.767442 214.325581v95.255814h23.813953v404.83721h-23.813953v71.44186h-47.627907v-71.44186H214.325581V309.581395h23.813954V214.325581h47.627907z" fill="#9CB0CD" ></path><path d="M619.162791 309.581395v95.255814h23.813953v190.511628h-23.813953v95.255814h-47.627907v-95.255814h-23.813954v-190.511628h23.813954v-95.255814h47.627907zM119.069767 309.581395v71.441861h23.813954v238.139535H119.069767v71.44186H71.44186v-71.44186H47.627907V381.023256h23.813953v-71.441861h47.627907z" fill="#61799B" ></path></symbol><symbol id="icon-cem_river-map" viewBox="0 0 1024 1024"><path d="M261.953488 202.656744c214.325581 260.524651 243.616744 71.44186 335.062326 71.441861S711.79907 476.27907 785.860465 476.27907s110.020465-257.190698 208.372093 37.864186H23.813953Q201.227907 127.88093 261.953488 202.656744z" fill="#61799B" ></path><path d="M261.953488 845.157209c214.325581-260.524651 243.616744-71.44186 335.062326-71.44186S711.79907 571.534884 785.860465 571.534884s110.020465 257.190698 208.372093-37.864186H23.813953q177.413953 386.262326 238.139535 311.486511z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_scatter-plot" viewBox="0 0 1024 1024"><path d="M245.045581 435.557209m-221.231628 0a221.231628 221.231628 0 1 0 442.463256 0 221.231628 221.231628 0 1 0-442.463256 0Z" fill="#61799B" ></path><path d="M797.767442 678.697674m-154.790698 0a154.790698 154.790698 0 1 0 309.581396 0 154.790698 154.790698 0 1 0-309.581396 0Z" fill="#61799B" ></path><path d="M886.117209 324.822326m-110.496744 0a110.496744 110.496744 0 1 0 220.993488 0 110.496744 110.496744 0 1 0-220.993488 0Z" fill="#61799B" ></path><path d="M79.062326 778.24m-55.248373 0a55.248372 55.248372 0 1 0 110.496745 0 55.248372 55.248372 0 1 0-110.496745 0Z" fill="#9CB0CD" ></path><path d="M587.728372 358.16186m-55.248372 0a55.248372 55.248372 0 1 0 110.496744 0 55.248372 55.248372 0 1 0-110.496744 0Z" fill="#9CB0CD" ></path><path d="M488.186047 745.138605m-88.349768 0a88.349767 88.349767 0 1 0 176.699535 0 88.349767 88.349767 0 1 0-176.699535 0Z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_relation-diagram" viewBox="0 0 1024 1024"><path d="M327.989581 217.20707l190.416372-95.208186 10.668652 21.289674-190.416372 95.232z" fill="#DDE4EF" ></path><path d="M344.349767 223.374884l117.402791 281.957209 252.189768 137.406512 184.558139-115.259535 12.859535 20.003721-196.465116 122.88-271.71721-148.122791-120.736744-289.815814 21.908837-9.049302z" fill="#DDE4EF" ></path><path d="M703.226047 660.551442l22.599441-7.525209 71.441861 214.397023-22.575628 7.525209zM443.653953 505.808372l17.622326 15.717209-181.224186 204.085582 131.453023 87.635349-13.335814 20.003721-154.314418-102.87628 199.799069-224.565581z" fill="#DDE4EF" ></path><path d="M90.493023 667.505116l9.525582-21.908837 180.271628 77.395349-127.642791 178.604651-19.527442-13.812093 110.496744-154.552558-153.123721-65.726512z" fill="#DDE4EF" ></path><path d="M452.465116 513.666977m-142.883721 0a142.883721 142.883721 0 1 0 285.767442 0 142.883721 142.883721 0 1 0-285.767442 0Z" fill="#61799B" ></path><path d="M714.418605 656.550698m-95.255814 0a95.255814 95.255814 0 1 0 190.511628 0 95.255814 95.255814 0 1 0-190.511628 0Z" fill="#9CB0CD" ></path><path d="M333.395349 227.899535m-95.255814 0a95.255814 95.255814 0 1 0 190.511628 0 95.255814 95.255814 0 1 0-190.511628 0Z" fill="#9CB0CD" ></path><path d="M261.953488 727.992558m-71.44186 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#9CB0CD" ></path><path d="M785.860465 870.876279m-71.44186 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#61799B" ></path><path d="M904.930233 537.48093m-71.441861 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#61799B" ></path><path d="M95.255814 656.550698m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#61799B" ></path><path d="M142.883721 894.690233m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#61799B" ></path><path d="M404.837209 823.248372m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#61799B" ></path><path d="M523.906977 132.643721m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#61799B" ></path></symbol><symbol id="icon-cem_thermodynamic-chart" viewBox="0 0 1024 1024"><path d="M785.860465 142.883721h190.511628v166.697674h-190.511628zM595.348837 142.883721h190.511628v166.697674h-190.511628z" fill="#61799B" ></path><path d="M785.860465 309.581395h190.511628v190.511628h-190.511628z" fill="#61799B" opacity=".8" ></path><path d="M595.348837 309.581395h190.511628v190.511628h-190.511628z" fill="#61799B" opacity=".3" ></path><path d="M785.860465 500.093023h190.511628v190.511628h-190.511628z" fill="#61799B" opacity=".5" ></path><path d="M595.348837 500.093023h190.511628v190.511628h-190.511628zM785.860465 690.604651h190.511628v166.697675h-190.511628z" fill="#61799B" ></path><path d="M595.348837 690.604651h190.511628v166.697675h-190.511628z" fill="#61799B" opacity=".3" ></path><path d="M404.837209 142.883721h190.511628v166.697674h-190.511628zM404.837209 309.581395h190.511628v190.511628h-190.511628zM404.837209 500.093023h190.511628v190.511628h-190.511628z" fill="#61799B" opacity=".8" ></path><path d="M404.837209 690.604651h190.511628v166.697675h-190.511628zM214.325581 142.883721h190.511628v166.697674H214.325581z" fill="#61799B" ></path><path d="M214.325581 309.581395h190.511628v190.511628H214.325581z" fill="#8093AE" ></path><path d="M214.325581 500.093023h190.511628v190.511628H214.325581z" fill="#61799B" ></path><path d="M214.325581 690.604651h190.511628v166.697675H214.325581z" fill="#61799B" opacity=".5" ></path><path d="M23.813953 142.883721h190.511628v166.697674H23.813953z" fill="#61799B" opacity=".3" ></path><path d="M23.813953 309.581395h190.511628v190.511628H23.813953zM23.813953 500.093023h190.511628v190.511628H23.813953z" fill="#61799B" opacity=".5" ></path><path d="M23.813953 690.604651h190.511628v166.697675H23.813953z" fill="#61799B" ></path></symbol><symbol id="icon-cem_calendar" viewBox="0 0 1024 1024"><path d="M976.372093 166.697674H71.44186v666.790698h904.930233z m23.813954-23.813953v714.418605H47.627907V142.883721z" fill="#9CB0CD" ></path><path d="M690.604651 381.023256h95.255814v95.255814h-95.255814zM690.604651 523.906977h95.255814v95.255814h-95.255814z" fill="#9CB0CD" ></path><path d="M547.72093 523.906977h95.255814v95.255814h-95.255814z" fill="#61799B" ></path><path d="M547.72093 666.790698h95.255814v95.255814h-95.255814zM404.837209 523.906977h95.255814v95.255814h-95.255814z" fill="#9CB0CD" ></path><path d="M404.837209 666.790698h95.255814v95.255814h-95.255814z" fill="#61799B" ></path><path d="M833.488372 381.023256h95.255814v95.255814h-95.255814zM833.488372 523.906977h95.255814v95.255814h-95.255814zM690.604651 666.790698h95.255814v95.255814h-95.255814z" fill="#9CB0CD" ></path><path d="M833.488372 666.790698h95.255814v95.255814h-95.255814zM47.627907 142.883721h952.55814v166.697674H47.627907z" fill="#61799B" ></path></symbol><symbol id="icon-cem_bar-chart1" viewBox="0 0 1024 1024"><path d="M0 190.511628h1024v95.255814H0zM0 381.023256h881.116279v95.255814H0zM0 571.534884h571.534884v95.255814H0zM0 762.046512h357.209302v95.255814H0z" fill="#61799B" ></path></symbol><symbol id="icon-cem_sankey" viewBox="0 0 1024 1024"><path d="M893.023256 156.457674q36.911628 49.294884 0 166.697675a1763.661395 1763.661395 0 0 0-762.046512 47.627907q-61.67814-64.059535 0-214.325582a2701.931163 2701.931163 0 0 0 762.046512 0z m27.862325 457.942326q25.957209-34.292093 38.816745 4.762791l-23.813954-1.666977h-15.24093z m-27.862325-235.75814l95.255814 142.883721q-342.206512-157.172093-809.674419 68.346047Q642.976744 428.651163 924.933953 532.71814q5.477209 62.868837-31.910697 76.204651Q637.261395 498.902326 95.255814 688.223256q-23.813953-26.195349 5.477209-69.060465l19.527442-7.382326 1.666977 7.382326q-42.626977-174.556279 8.811163-200.751628z m16.907907 238.139535h9.525581a307.676279 307.676279 0 0 0-25.71907 47.627907 4266.984186 4266.984186 0 0 0-762.046511 63.583256q-30.95814-31.672558-30.95814-39.769302a2532.137674 2532.137674 0 0 1 809.19814-72.394419z m-16.907907 88.349768q44.532093 20.003721 0 142.883721-509.380465-8.096744-762.046512 23.813953-39.293023-66.917209 0-95.255814 551.054884 12.383256 762.046512-72.394418z" fill="#DDE4EF" ></path><path d="M35.72093 156.457674h95.255814v214.325582h-95.255814z" fill="#9CB0CD" ></path><path d="M607.255814 180.271628h95.255814v309.581395h-95.255814zM35.72093 775.620465h95.255814v95.255814h-95.255814zM893.023256 704.178605h95.255814v166.697674h-95.255814z" fill="#61799B" ></path><path d="M893.023256 378.64186h95.255814v285.767442h-95.255814z" fill="#9CB0CD" ></path><path d="M893.023256 156.457674h95.255814v166.697675h-95.255814zM571.534884 561.294884h95.255814v95.255814h-95.255814z" fill="#61799B" ></path><path d="M416.744186 704.178605h95.255814v142.883721h-95.255814z" fill="#9CB0CD" ></path><path d="M35.72093 418.411163h95.255814v309.581395h-95.255814z" fill="#61799B" ></path></symbol><symbol id="icon-cem_word-cloud" viewBox="0 0 1024 1024"><path d="M803.006512 656.550698h-80.014884v-42.388838h80.014884z m-58.344186-142.883721h-59.058605v-33.339535h58.582326zM809.674419 447.464186h-123.832559v-27.862326H809.674419z m-166.697675 256.952558A421.030698 421.030698 0 0 0 684.174884 547.72093h60.487442v34.053954h-55.962791v122.403721h34.053953v-14.526512h80.014884v14.526512h34.053954v-122.641861h-55.962791V547.72093h71.44186v-34.292093h-71.44186v-33.339535h64.059535v-95.255814h-195.036279v119.069768a387.691163 387.691163 0 0 1-35.244651 174.556279z m-71.44186-3.810232a31.910698 31.910698 0 0 0 35.244651-36.673489v-95.255814l28.814884-14.288372v-37.387907c-9.287442 5.00093-18.813023 9.525581-28.814884 14.288372v-56.439069h30.243721v-35.95907h-30.005582v-63.106977H571.534884v62.868837h-39.293024v35.95907H571.534884v71.44186c-15.002791 5.00093-30.243721 9.287442-45.484651 12.859535l9.525581 36.673489c12.145116-3.810233 23.813953-8.096744 35.95907-12.383256v71.44186c0 8.811163-3.810233 13.573953-11.430698 13.573954a163.84 163.84 0 0 1-25.71907-2.381395l7.858605 34.768372z m-301.246512-71.441861c-11.430698-4.524651-23.813953-8.811163-34.053953-12.383256 5.00093-8.573023 10.00186-17.384186 14.526511-26.671628h52.628837a119.069767 119.069767 0 0 1-32.863255 40.007442z m-82.634419 73.823256A309.581395 309.581395 0 0 0 275.527442 666.790698a507.951628 507.951628 0 0 1 49.056744 25.719069l20.003721-29.053023c-13.097674-7.144186-26.671628-13.573953-40.483721-19.527442a126.928372 126.928372 0 0 0 32.386977-54.772093v-29.767442h-71.441861c1.666977-5.00093 3.572093-10.24 5.715349-15.717209l-34.768372-4.286511c-2.143256 6.429767-4.524651 12.859535-7.144186 20.00372H179.08093v31.672559H214.325581c-6.429767 13.097674-13.812093 27.147907-22.385116 41.198139 15.717209 5.953488 30.95814 12.145116 45.246512 18.098605a339.586977 339.586977 0 0 1-66.44093 21.670697z m233.376745-134.786977A501.283721 501.283721 0 0 1 391.739535 476.27907l3.810232-14.526512h43.341396a374.355349 374.355349 0 0 1-17.860465 106.448372z m-214.325582-134.072558l26.433489-11.668837A294.578605 294.578605 0 0 0 214.325581 379.832558l-28.814883 9.287442a357.209302 357.209302 0 0 1 22.146976 45.008372z m105.257675 1.428837a238.139535 238.139535 0 0 0 27.147907-43.817674l-25.95721-12.383256A214.325581 214.325581 0 0 1 285.767442 422.459535zM190.511628 544.863256a175.270698 175.270698 0 0 0 56.20093-63.583256v55.724651h34.053954V500.093023q15.002791 10.24 37.387907 27.624186l19.289302-29.053023q-28.814884-14.288372-56.43907-25.71907h59.534884v-33.339535h-60.487442v-64.297674h-34.053953v64.297674H179.795349v32.386977h42.388837a149.551628 149.551628 0 0 1-50.96186 43.103256z m291.72093 159.791628l20.71814-30.243721a209.80093 209.80093 0 0 1-60.725582-66.91721 379.356279 379.356279 0 0 0 31.196279-146.455813h19.527442v-36.19721h-89.778604c2.381395-13.812093 4.524651-28.338605 6.667907-44.055814l-36.19721-6.429767A461.514419 461.514419 0 0 1 333.395349 531.289302l23.813953 28.814884c5.715349-10.00186 11.430698-20.956279 16.669768-32.625116a508.189767 508.189767 0 0 0 30.958139 78.824186 190.511628 190.511628 0 0 1-61.44 66.44093l19.289303 31.196279a249.332093 249.332093 0 0 0 61.44-63.583256 236.472558 236.472558 0 0 0 57.153488 64.059535z" fill="#61799B" ></path><path d="M346.731163 306.96186V215.754419h23.813953V197.655814h-69.536744V171.460465a264.096744 264.096744 0 0 0 66.202791-11.668837L357.209302 142.883721a239.568372 239.568372 0 0 1-74.775814 12.621395V214.325581a133.35814 133.35814 0 0 1-23.813953 77.871628l13.097674 14.050233a158.124651 158.124651 0 0 0 27.624186-90.731163h27.147907v91.445581z m-93.112558 0V220.755349c3.810233 5.477209 8.811163 12.621395 14.050232 21.194418l10.24-15.00279c-8.096744-9.525581-15.955349-18.098605-23.813953-26.433489v-7.144186h22.146976v-17.622325h-22.146976V142.883721h-18.574884v32.863256h-23.813953v17.860465h23.813953a151.933023 151.933023 0 0 1-27.147907 52.866977l8.096744 20.48a206.466977 206.466977 0 0 0 20.003721-41.19814v81.443721z m-202.656745 0a125.499535 125.499535 0 0 0 40.96-35.006511 132.405581 132.405581 0 0 0 16.669768-43.341396h38.816744a179.31907 179.31907 0 0 1-5.477209 47.627907 16.907907 16.907907 0 0 1-17.146047 10.954419L95.255814 287.672558l5.00093 18.336744h33.815814a25.242791 25.242791 0 0 0 19.765582-8.811162 65.012093 65.012093 0 0 0 8.811162-29.767442c1.666977-14.288372 2.857674-32.625116 3.572093-55.724651H58.106047v17.860465h32.148837a104.543256 104.543256 0 0 1-14.764651 34.768372 113.830698 113.830698 0 0 1-36.19721 28.338604z m-10.24-85.730232A214.325581 214.325581 0 0 0 76.442791 190.511628a199.322791 199.322791 0 0 0 23.813953-35.95907l-15.955349-9.763721a187.892093 187.892093 0 0 1-23.813953 34.053954 119.069767 119.069767 0 0 1-29.767442 26.909767z m141.454884 0l12.621396-14.764651A119.069767 119.069767 0 0 1 140.978605 142.883721l-16.193489 9.049302a140.740465 140.740465 0 0 0 57.391628 69.298605zM949.462326 881.116279l9.287441-9.287442a178.366512 178.366512 0 0 0-19.289302-20.24186l-8.334884 8.096744a121.927442 121.927442 0 0 1 18.336745 21.432558z m-62.868838-1.666977c5.953488-14.288372 10.954419-29.767442 15.955349-45.96093l-11.668837-4.762791a459.371163 459.371163 0 0 1-16.669767 45.246512z m5.000931-58.820465l9.049302-9.049302a147.408372 147.408372 0 0 0-17.860465-19.527442l-9.287442 9.049302a114.068837 114.068837 0 0 1 18.098605 19.289303z m14.764651 60.487442a44.770233 44.770233 0 0 0 21.432558-19.765581 92.874419 92.874419 0 0 0 7.382325-37.149768v-41.674418h-11.192558v41.674418a77.157209 77.157209 0 0 1-5.477209 28.338605 39.293023 39.293023 0 0 1-19.289302 16.907907z m66.20279-29.767442V769.190698h-12.145116v82.158139z m-55.010232-4.048372v-71.44186h23.813953v71.44186h12.383256v-83.825116H904.930233v83.586977z m-23.813954-60.725581l9.049303-9.049303a158.60093 158.60093 0 0 0-18.336744-18.098604l-9.287442 9.049302a110.973023 110.973023 0 0 1 18.813023 17.384186z m86.444652 93.112558c8.334884 0 12.383256-4.524651 12.383255-13.573954v-107.877209h-13.097674v104.781395c0 3.095814-1.428837 5.00093-3.810233 5.000931a113.592558 113.592558 0 0 1-13.097674 0l2.857674 12.859535z m-144.312559-15.002791h-14.050232v-23.813953h14.050232z m-27.386046 0h-13.812093v-23.813953H809.674419z m-27.386047 0h-13.573953v-23.813953h13.573953z m81.205582 12.383256v-12.383256h-12.859535v-36.673488h-95.255814v36.911628h-13.573954v12.383256z m-26.671628-55.010233l11.668837-8.096744a205.03814 205.03814 0 0 0-15.717209-23.813953l-11.192558 7.144186a174.31814 174.31814 0 0 1 15.717209 24.766511zM762.046512 818.723721v-55.010233h-13.812093v55.248372z m27.624186 5.00093v-66.67907h-14.050233v66.67907z m11.430697-12.621395a83.825116 83.825116 0 0 0 16.431628-25.242791h41.912558v-13.573953h-37.387907c0-4.048372 2.143256-8.334884 3.095814-12.859535l-14.288372-2.619535a93.112558 93.112558 0 0 1-18.098604 43.817674zM266.47814 859.445581h-23.813954v-28.576744h23.813954z m-61.91628 0h-23.813953v-28.576744h23.813953z m37.387907 19.289303v-6.191628h23.813954v6.191628h13.812093v-60.725582H228.375814v60.725582z m-60.725581 0v-6.191628h23.813954v6.191628h13.573953v-60.725582H166.697674v60.725582z m67.155349-82.634419h-47.627907v-21.432558h47.627907zM261.953488 809.674419v-47.627907H185.748837v47.627907z m-159.077209-9.763721h-23.813953l-4.286512-16.193489h34.053953a100.971163 100.971163 0 0 1-5.477209 15.47907zM38.578605 881.116279a88.826047 88.826047 0 0 0 14.288372-50.485581v-17.384186h95.255814v-13.573954H116.926512a115.497674 115.497674 0 0 0 5.239069-16.193488h22.146977v-13.097675H98.113488a119.069767 119.069767 0 0 0-5.239069-14.050232l-14.764652 2.381395a95.255814 95.255814 0 0 1 5.715349 11.668837H37.626047v13.097675h23.813953l4.286512 16.193488H38.578605v30.72a73.346977 73.346977 0 0 1-10.716279 40.96zM658.693953 291.482791h-67.393488V285.767442h67.393488z m-67.393488 12.383256v-3.572094h67.393488v3.572094h13.573954v-26.671628h-95.255814v26.671628zM666.790698 272.431628v-7.858605h-84.301396v7.858605z m0-11.906977v-7.858604h-84.301396v7.858604z m-71.441861-34.530232h-9.287442v-5.715349H595.348837z m12.621396 1.190697h-2.619535V214.325581h-25.95721l2.143256-3.810232h32.625116a84.301395 84.301395 0 0 1 0 14.288372 4.762791 4.762791 0 0 1-5.239069 2.381395z m47.627907-16.669767a31.434419 31.434419 0 0 1-8.573024-12.145116h15.002791a35.006512 35.006512 0 0 1-6.429767 12.145116z m26.671627 38.102325V238.139535h-50.96186c0-2.619535-2.381395-5.23907-3.333954-7.382326h-6.191627l1.666976-1.905116a56.43907 56.43907 0 0 0 3.095814-22.623256l6.667907 8.334884a59.296744 59.296744 0 0 0 6.906047-7.144186 39.531163 39.531163 0 0 0 6.429767 8.811163 56.677209 56.677209 0 0 1-18.098604 6.667907l5.00093 11.192558a63.583256 63.583256 0 0 0 23.813953-9.763721 90.731163 90.731163 0 0 0 21.432558 10.00186l6.191628-10.954418a88.826047 88.826047 0 0 1-18.813023-7.620465 52.628837 52.628837 0 0 0 8.811163-20.003721h7.144186v-9.763721h-30.481861c0-1.666977 0-3.572093 1.428838-5.47721l-12.621396-2.143255a54.057674 54.057674 0 0 1-13.812093 27.147907v-5.000931h-41.198139v-1.905116h7.382325v-4.762791h10.954419v4.762791h11.430698v-4.762791h15.00279v-9.763721h-15.00279v-5.00093h-11.430698v5.00093h-10.954419v-5.00093h-11.430697v5.00093h-14.526512v9.763721h14.526512v3.333954l-6.906047-1.190698a35.244651 35.244651 0 0 1-11.668837 18.574884l7.382326 9.049302a49.533023 49.533023 0 0 0 6.429767-6.429767v15.717209h28.338605v3.095814H614.63814a23.813953 23.813953 0 0 1 2.143255 3.572093h-50.485581v9.763721z m-138.597209 54.057675l9.763721-9.763721a196.226977 196.226977 0 0 0-23.813953-21.432558l-9.049303 8.573023a142.883721 142.883721 0 0 1 23.099535 22.623256z m-57.391628 0a56.677209 56.677209 0 0 0 28.576744-18.574884 63.345116 63.345116 0 0 0 9.049303-34.530232v-23.813954h-13.335814v23.813954a52.152558 52.152558 0 0 1-7.144186 25.957209 50.96186 50.96186 0 0 1-25.71907 15.24093z m-37.626046 0c7.620465 0 11.668837-4.286512 11.668837-12.621396V238.139535h9.525581a99.066047 99.066047 0 0 1-5.715349 15.717209l11.430698 4.286512a110.020465 110.020465 0 0 0 7.382326-23.813954v-9.525581h-15.955349l-4.762791-5.953488a127.166512 127.166512 0 0 0 17.146047-23.813954v-11.430698h-46.19907v12.859535h31.434419a101.685581 101.685581 0 0 1-10.24 13.812093l-8.573024-9.049302-10.24 6.429767c6.191628 6.191628 11.668837 11.906977 16.431628 17.384186H428.651163V238.139535h17.622325v47.627907c0 2.857674 0 4.286512-3.095814 4.286511a85.492093 85.492093 0 0 1-11.430697 0l2.857674 12.621396z m53.105116-29.529302V219.802791h33.577674v52.628837H547.72093V207.657674h-23.813953c0-3.572093 1.428837-7.144186 1.905116-10.954418h25.71907v-13.097675h-66.67907v13.097675h27.386047c0 3.810233 0 7.382326-1.905117 10.954418h-21.908837v65.012093z" fill="#9CB0CD" ></path><path d="M973.03814 219.802791l3.333953-7.382326a216.468837 216.468837 0 0 0-33.577674-8.573023l-3.572093 6.906046a218.135814 218.135814 0 0 1 33.815814 9.049303z m-6.191628-14.288372l4.286511-6.667907a125.023256 125.023256 0 0 0-18.574883-7.144186l-4.048373 5.953488a98.827907 98.827907 0 0 1 18.336745 8.096744z m-7.382326-25.95721a56.915349 56.915349 0 0 1-9.763721-6.906046h17.860465a32.386977 32.386977 0 0 1-8.096744 7.144186z m-23.813953 16.431628a103.590698 103.590698 0 0 0 23.813953-8.334884 96.446512 96.446512 0 0 0 20.956279 8.096745l4.762791-6.906047a104.781395 104.781395 0 0 1-18.336744-5.715349 32.625116 32.625116 0 0 0 9.525581-10.954418V166.697674h-23.813953l1.666976-3.572093h-8.334883a34.292093 34.292093 0 0 1-15.47907 15.71721l5.00093 6.667907a58.820465 58.820465 0 0 0 7.858605-5.953489 53.819535 53.819535 0 0 0 9.287442 3.810233 102.876279 102.876279 0 0 1-21.194419 5.477209z m51.438139 23.813954H928.744186V160.506047h56.915349zM928.744186 231.471628V228.613953h56.915349v2.857675h9.049302V152.171163h-74.537674v79.300465z m-30.72 0l8.334884-5.953488a300.770233 300.770233 0 0 0-18.574884-31.19628l-6.667907 5.47721c3.095814 5.00093 6.191628 10.00186 8.811163 15.00279-13.812093 1.905116-27.862326 3.572093-41.912558 4.524652a162.649302 162.649302 0 0 0 19.527442-31.910698h42.150697v-9.525581h-81.205581v9.287441H857.302326a97.39907 97.39907 0 0 1-20.71814 31.672559h-2.143256l2.381396 9.525581q31.434419-2.381395 57.867907-5.953488c0.952558 3.810233 2.381395 6.667907 3.810232 9.763721z m2.857674-69.774884v-8.096744h-63.821395v9.049302z m-107.40093 44.532093h-12.383256v-13.573953h12.383256z m8.811163 8.096744V184.55814h-30.005581V214.325581z m-50.247442 14.764652a128.11907 128.11907 0 0 0 16.431628-14.764652l-2.619535-9.763721-6.191628 6.429768V175.508837H738.232558v8.811163h11.906977v31.434419a6.191628 6.191628 0 0 1-2.381395 5.00093z m52.866977-51.67628v-8.811162h-35.006512v8.811162z m2.143256 53.819535c7.382326 0 11.192558-3.572093 11.192558-10.24v-69.060465h-50.485582v8.811163H809.674419v57.391628c0 2.857674-1.428837 4.286512-3.810233 4.286512h-10.00186l2.381395 8.811162z m-47.627907-61.916279l6.429767-6.429767a124.546977 124.546977 0 0 0-14.288372-13.097675l-6.667907 6.429768a81.443721 81.443721 0 0 1 14.288372 13.097674zM624.40186 865.875349h-9.049302v-11.192558h9.049302z m-18.098604 0h-9.049303v-11.192558h9.049303z m-18.098605 0h-8.811163v-11.192558h8.811163z m54.295814 8.334884v-8.334884h-9.049302v-19.765582h-63.106977v19.765582h-8.334884v8.334884z m-38.578605-55.486512h-17.860465v-11.668837h11.668838l-4.048373 4.76279a56.20093 56.20093 0 0 1 10.24 6.667907z m16.193489 0h-12.859535l3.572093-4.524651a65.012093 65.012093 0 0 0-11.192558-7.144186H619.162791z m-45.96093 26.671628a31.910698 31.910698 0 0 0 11.192558-18.336744H595.348837l-4.524651 5.477209a59.296744 59.296744 0 0 1 13.573954 10.24l5.477209-6.667907a77.157209 77.157209 0 0 0-13.573954-9.049302h23.813954V833.488372c0 2.381395 0 3.572093-2.619535 3.572093h-5.953488l2.381395 8.334884H619.162791c6.191628 0 9.287442-2.857674 9.287442-8.334884v-8.811163h10.954418v-8.573023h-10.954418v-20.003721h-24.290233a20.48 20.48 0 0 0 2.143256-4.524651l-9.287442-1.190698a28.338605 28.338605 0 0 1-2.381395 5.715349h-17.622326v20.003721h-12.621395v8.573023h11.668837a23.813953 23.813953 0 0 1-9.049302 11.906977z m-84.301396 30.958139a234.329302 234.329302 0 0 0 29.529303-9.049302l-1.905117-8.573023c-5.953488 2.381395-11.906977 4.524651-17.860465 6.429767v-15.717209a59.773023 59.773023 0 0 0 10.954419-11.430698h1.905116A65.012093 65.012093 0 0 0 547.72093 875.877209l5.00093-8.096744a55.248372 55.248372 0 0 1-19.289302-11.906977 52.152558 52.152558 0 0 0 13.812093-9.763721l-6.429767-6.191627a45.96093 45.96093 0 0 1-12.621396 10.24 59.296744 59.296744 0 0 1-7.382325-12.383256h30.958139v-8.334884h-34.053953v-5.715349h25.957209v-8.573023h-25.957209V809.674419H547.72093v-8.573024h-30.958139v-6.667907h-9.525582v6.667907H476.27907V809.674419h30.958139v5.715348h-24.766511v8.573024h25.957209v5.715349h-34.292093v8.334883H500.093023a71.44186 71.44186 0 0 1-28.814883 16.431628l5.00093 8.096744a125.975814 125.975814 0 0 0 13.812093-6.906046v8.334884c0 2.143256-1.190698 3.572093-3.810233 4.524651z m-78.347907 0a74.537674 74.537674 0 0 0 23.813954-18.098604 83.586977 83.586977 0 0 0 23.813953 18.098604l5.715349-8.334883a82.396279 82.396279 0 0 1-23.813953-17.146047 115.021395 115.021395 0 0 0 17.860465-50.96186l-8.811163-1.905117a107.162791 107.162791 0 0 1-15.47907 45.008372 110.734884 110.734884 0 0 1-17.860465-37.626046l-8.096744 4.524651a130.738605 130.738605 0 0 0 20.24186 40.483721 65.964651 65.964651 0 0 1-23.813953 17.146047z m23.813954-58.582325l7.620465-5.23907a158.124651 158.124651 0 0 0-11.906977-19.289302l-7.144186 5.00093a169.07907 169.07907 0 0 1 10.47814 19.765581z m-33.101396 58.582325v-59.773023a103.114419 103.114419 0 0 0 8.811163-19.289302l-8.811163-4.048372A96.446512 96.446512 0 0 1 381.023256 828.725581l3.095814 10.001861 7.620465-8.573023v46.199069zM107.162791 518.429767a172.651163 172.651163 0 0 0-8.096744-29.767441h-8.811163a175.746977 175.746977 0 0 1 7.620465 30.958139z m1.905116-68.346046c0-5.23907-5.715349-9.049302-17.146047-11.668837l-5.239069 7.858604q11.906977 1.905116 11.906976 4.762791c0 1.905116-1.905116 4.048372-5.477209 6.429768a97.875349 97.875349 0 0 0-16.193488-13.812094l-5.47721 7.382326a80.253023 80.253023 0 0 1 12.621396 10.47814 76.204651 76.204651 0 0 1-10.716279 2.619534H71.44186l-3.572093-23.813953-8.811162 1.428837 3.572093 22.385116h-9.287442l-3.095814-21.908837-8.573023 1.428837 2.857674 20.71814h-17.146046v11.906977H47.627907v11.906977l8.573023-1.428838-0.952558-10.478139h9.525581l2.381396 15.00279 8.811163-1.428837-2.381396-15.00279h5.23907a66.67907 66.67907 0 0 0 11.906977-3.810233 73.108837 73.108837 0 0 1 10.478139 20.956279l7.382326-5.477209a68.346047 68.346047 0 0 0-9.763721-20.003721l1.905116-1.428837a16.907907 16.907907 0 0 0 8.096744-15.002791z m-66.44093 3.810232l-5.00093-7.382325a119.069767 119.069767 0 0 0-10.24 9.763721l4.524651 6.906046a86.206512 86.206512 0 0 1 10.716279-9.287442z m45.96093 63.345117a139.073488 139.073488 0 0 0-6.667907-27.386047H73.823256a135.977674 135.977674 0 0 1 4.524651 16.431628A220.993488 220.993488 0 0 0 47.627907 488.424186l-3.095814 8.334884 9.525581 4.524651v8.573023a152.409302 152.409302 0 0 0-25.48093-12.383256l-3.572093 8.811163a171.460465 171.460465 0 0 1 26.195349 10.47814 9.763721 9.763721 0 0 1 3.333953 3.810232l8.334884-2.143256-1.666977-12.621395a81.205581 81.205581 0 0 1 14.288373 9.525581 15.24093 15.24093 0 0 1 2.619534 4.286512z m20.48 84.301395a47.627907 47.627907 0 0 0-31.672558-12.145116v-8.334884h21.670698V571.534884h-21.432559v-8.096744h-9.049302V571.534884h-14.764651v9.049302h15.002791v8.096744h-15.002791v9.049303h15.002791v9.525581h8.811162v-9.049302a37.864186 37.864186 0 0 1 25.480931 10.24z m0-62.392558c0-5.953488-6.906047-9.763721-20.956279-11.668837l-4.048372 8.096744c10.24 0 15.24093 1.905116 15.47907 4.048372a16.669767 16.669767 0 0 1-10.716279 7.382326 97.16093 97.16093 0 0 0-31.672559-14.764652l-3.810232 8.334884a98.351628 98.351628 0 0 1 23.813953 9.287442 173.365581 173.365581 0 0 1-27.386046 2.619535v-22.385116h-8.811163v7.858604l-4.286512-4.286511a85.253953 85.253953 0 0 0-9.287441 10.954418l5.715348 5.715349a64.059535 64.059535 0 0 1 7.858605-9.049302v11.668837h-13.573953v9.525581h13.573953v45.246512h8.811163v-45.96093h4.524651a125.975814 125.975814 0 0 0 32.625116-5.23907 67.869767 67.869767 0 0 1 15.71721 18.098605l7.382325-5.000931a75.490233 75.490233 0 0 0-13.335814-16.669767c8.096744-5.23907 12.621395-8.573023 13.335814-14.050233z m-7.620465 95.255814v45.008372h-2.857675v-45.008372z m8.096744 45.008372h-2.381395v-45.008372h2.381395v-9.049302h-16.907907v63.106976h17.860465z m-20.956279-50.485581h-4.286512v56.439069h5.23907z m-8.096744 0h-4.048372v56.439069h5.239069zM59.296744 666.790698v1.666976h-9.049302v17.860466L47.627907 685.84186v-21.670697a56.20093 56.20093 0 0 1 9.525581 0 3.095814 3.095814 0 0 1 2.143256 2.619535zM47.627907 636.546977a20.956279 20.956279 0 0 1-8.096744 5.715349v-10.001861a23.813953 23.813953 0 0 1 8.096744 4.286512zM73.823256 619.162791h-6.667907v33.815814l-5.00093 2.143255v4.286512h-1.428838a37.626047 37.626047 0 0 0-13.097674-3.572093l5.715349-4.524651a39.531163 39.531163 0 0 0-4.762791-4.524651 26.433488 26.433488 0 0 0 4.524651-3.810233 37.626047 37.626047 0 0 1 4.524651 12.145116l7.382326-3.333953a42.388837 42.388837 0 0 0-6.667907-15.24093 60.487442 60.487442 0 0 0 6.667907-14.288372l-7.382326-4.286512a59.296744 59.296744 0 0 1-5.00093 12.621395 35.006512 35.006512 0 0 0-13.335814-5.953488V619.162791h-7.382325v19.765581h-3.572093l-1.428838 8.334884a35.95907 35.95907 0 0 1 18.098605 9.049302h-3.333953v27.147907H40.483721v-5.00093h-3.095814v-7.382326h3.095814v-7.620465h-3.095814v-10.00186h-6.667907v10.00186h-3.333953v7.620465h3.333953v7.382326h-3.333953v7.620465h3.333953v9.763721h6.667907v-10.001861h2.143256v4.524652a23.813953 23.813953 0 0 1 12.383256 7.620465l5.953488-5.00093a33.101395 33.101395 0 0 0-4.286512-4.286512h10.47814v-18.813023h2.143256V666.790698v-2.857675l2.381395-1.428837v34.292093h5.23907z" fill="#61799B" ></path><path d="M935.173953 641.071628c0-2.857674 2.143256-5.715349 3.095814-8.573023l6.667907 3.572093v13.097674a29.529302 29.529302 0 0 1-9.763721-8.096744z m-18.336744-20.71814a77.395349 77.395349 0 0 0 9.049303 21.908838 126.928372 126.928372 0 0 1-6.429768 12.383255l7.382326 5.000931c1.666977-3.333953 3.333953-6.667907 5.00093-10.24a31.672558 31.672558 0 0 0 13.573953 8.096744h7.144187v-17.860465l3.810232 1.428837v-8.811163l-3.810232-1.666977V619.162791h-7.858605v8.811162l-10.24-5.715348-4.524651 11.192558a84.777674 84.777674 0 0 1-5.47721-16.669768z m33.815814 58.344186a125.261395 125.261395 0 0 1 23.813954-7.382325h3.572093v10.954418a93.588837 93.588837 0 0 1-27.386047-3.572093z m33.577675-53.343255l2.857674 6.667907a73.585116 73.585116 0 0 0 10.716279-5.000931l-2.381395-7.144186a89.064186 89.064186 0 0 1-11.430698 5.47721z m0 26.433488a59.773023 59.773023 0 0 0 10.954418 6.667907l3.095814-6.429767a53.581395 53.581395 0 0 1-10.716279-6.667907z m-27.386047-30.72a43.817674 43.817674 0 0 0 15.955349 14.050233h-14.050233V642.976744h9.287442l-6.906046 9.287442 7.382325 4.762791q3.572093-7.144186 6.429768-14.050233v15.002791h8.096744V642.976744h16.193488v-8.573023h-16.193488V619.162791h-8.096744v10.478139a37.387907 37.387907 0 0 1-10.716279-12.621395z m-40.007442 72.870698l7.620465 5.239069a52.390698 52.390698 0 0 1 16.669768-15.24093A95.255814 95.255814 0 0 0 976.372093 690.604651v5.00093h9.049302v-22.146976l10.954419 1.666976L1000.186047 666.790698a115.259535 115.259535 0 0 1-39.293024-9.763721l-7.144186 5.715349 8.096744 4.286511a127.166512 127.166512 0 0 0-19.765581 7.382326 47.627907 47.627907 0 0 1-16.669767-15.47907l-7.858605 4.762791a62.392558 62.392558 0 0 0 15.955349 15.479069 59.058605 59.058605 0 0 0-16.907907 14.764652z m0-148.59907a75.252093 75.252093 0 0 0 30.481861 53.581395l3.810232-8.096744a72.870698 72.870698 0 0 1-27.147907-50.723721z m13.812093 0a69.774884 69.774884 0 0 0 22.146977 40.007442l4.762791-7.144186a60.011163 60.011163 0 0 1-19.765582-37.864186z m12.145117 0a60.725581 60.725581 0 0 0 17.860465 27.862325l4.286511-7.144186a53.581395 53.581395 0 0 1-15.00279-23.813953z m5.00093-15.47907a80.253023 80.253023 0 0 0 18.336744 30.72v15.47907a60.725581 60.725581 0 0 0-18.098605 27.862325l8.334884 4.048373a59.773023 59.773023 0 0 1 9.525581-21.670698v19.765581h8.334884v-37.626046l5.715349 2.857674v18.336744l-5.23907 5.23907 5.23907 7.620465a171.936744 171.936744 0 0 0 16.907907-20.003721l-4.524651-7.144186-5.00093 5.953489c0-8.811163 0-17.860465-1.428838-26.909768a121.689302 121.689302 0 0 0 10.954419 13.097675l3.095814-9.049303a47.627907 47.627907 0 0 1-14.050233-21.432558l-8.096744 1.428837v23.813954a35.482791 35.482791 0 0 1-5.23907-3.095814v-30.243721h-8.334883v20.956279a72.632558 72.632558 0 0 1-10.001861-23.813953z m-30.005582-16.431628l8.811163 5.47721a50.485581 50.485581 0 0 1 23.813954-32.863256v30.72h9.049302v-33.815814a90.254884 90.254884 0 0 0 11.668837 1.190697h2.143256v28.814884h9.049302v-16.431628a79.776744 79.776744 0 0 0 15.240931 6.906047l2.381395-9.049303a86.206512 86.206512 0 0 1-17.622326-8.334883v-17.622326l2.619535 5.23907a170.746047 170.746047 0 0 0 14.526512-9.525582l-4.048372-8.573023a106.924651 106.924651 0 0 1-13.097675 8.811163v-18.574884h-9.049302v28.814884h-2.143256a76.442791 76.442791 0 0 1-11.668837-1.428837v-32.148837h-9.049302v29.767441a42.388837 42.388837 0 0 1-7.382326-3.810232 53.581395 53.581395 0 0 1-16.669767-27.624186l-8.096744 5.00093a57.153488 57.153488 0 0 0 18.336744 29.529302 56.20093 56.20093 0 0 0 10.24 5.715349 60.249302 60.249302 0 0 0-30.243721 35.244651z m13.573954-95.255814v-24.290232h12.621395v25.48093z m21.194419 0v-24.290232h13.097674v25.48093z m21.670697 0v-24.290232h12.621396v25.48093z m-56.43907-25.48093h5.000931v25.48093h-5.000931V428.651163h77.633489v-43.579535h-78.824186z m0-22.385116h43.103256l-10.00186 6.667907 7.382325 5.00093c4.524651-3.810233 8.811163-7.620465 12.859535-11.668837h3.572093V381.023256h8.811163v-9.525582h16.431628v-9.049302h-16.431628v-11.430698h-8.811163v11.192559a75.728372 75.728372 0 0 1-26.433488-13.335814l-9.287442 3.572093a107.63907 107.63907 0 0 0 18.813023 9.763721h-41.198139z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_relationship" viewBox="0 0 1024 1024"><path d="M870.4 102.4h-102.4v102.4h102.4z m0 358.4h-102.4v102.4h102.4zM256 460.8H153.6v102.4h102.4z m614.4 358.4h-102.4v102.4h102.4z m-307.2 102.4a102.4 102.4 0 0 1-102.4-94.72V563.2H358.4v7.68A102.4 102.4 0 0 1 256 665.6H153.6a102.4 102.4 0 0 1-102.4-102.4V460.8a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4h102.4V204.8a102.4 102.4 0 0 1 94.72-102.4H665.6a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4h-102.4v256h102.4a102.4 102.4 0 0 1 94.72-102.4H870.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4h-102.4v256h102.4a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_relationship-color" viewBox="0 0 1024 1024"><path d="M870.4 102.4h-102.4v102.4h102.4z m0 358.4h-102.4v102.4h102.4zM256 460.8H153.6v102.4h102.4z m614.4 358.4h-102.4v102.4h102.4z m-307.2 102.4a102.4 102.4 0 0 1-102.4-94.72V563.2H358.4v7.68A102.4 102.4 0 0 1 256 665.6H153.6a102.4 102.4 0 0 1-102.4-102.4V460.8a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4h102.4V204.8a102.4 102.4 0 0 1 94.72-102.4H665.6a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4h-102.4v256h102.4a102.4 102.4 0 0 1 94.72-102.4H870.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4h-102.4v256h102.4a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_dendrogram" viewBox="0 0 1024 1024"><path d="M870.4 153.6a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2zM153.6 460.8a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2z m409.6-51.2a102.4 102.4 0 1 0 102.4 102.4 102.4 102.4 0 0 0-102.4-102.4z m307.2 358.4a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2z m0-716.8a153.6 153.6 0 1 1-62.464 293.888L741.888 409.6a204.8 204.8 0 0 1 0 200.704l5.12 4.608 61.952 61.44a153.6 153.6 0 1 1-74.752 70.144l-56.832-56.832-6.656-5.632a204.8 204.8 0 0 1-307.2-122.88H298.496a153.6 153.6 0 1 1 0-102.4h66.56a204.8 204.8 0 0 1 307.2-123.392l62.976-62.976A153.6 153.6 0 0 1 870.4 51.2z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_dendrogram-color" viewBox="0 0 1024 1024"><path d="M870.4 153.6a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2zM153.6 460.8a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2z m409.6-51.2a102.4 102.4 0 1 0 102.4 102.4 102.4 102.4 0 0 0-102.4-102.4z m307.2 358.4a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2z m0-716.8a153.6 153.6 0 1 1-62.464 293.888L741.888 409.6a204.8 204.8 0 0 1 0 200.704l5.12 4.608 61.952 61.44a153.6 153.6 0 1 1-74.752 70.144l-56.832-56.832-6.656-5.632a204.8 204.8 0 0 1-307.2-122.88H298.496a153.6 153.6 0 1 1 0-102.4h66.56a204.8 204.8 0 0 1 307.2-123.392l62.976-62.976A153.6 153.6 0 0 1 870.4 51.2z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_cumulate-colour-new" viewBox="0 0 1024 1024"><path d="M189.952 298.496c204.8 187.392 394.24 282.112 563.2 287.744H768v102.4c-197.12 0-406.528-99.84-628.736-296.448l-20.48-17.92z" fill="#8C8C8C" ></path><path d="M768 327.68v102.4c-138.752 0-327.168 88.064-563.2 265.728l-20.992 15.872-59.392-80.896c256-195.584 460.8-297.472 631.296-303.104z" fill="#8C8C8C" ></path><path d="M204.8 182.784v614.4h565.248v-614.4h102.4v716.8H102.4v-716.8h102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_cumulate-twocolour-new" viewBox="0 0 1024 1024"><path d="M189.952 298.496c204.8 187.392 394.24 282.112 563.2 287.744H768v102.4c-197.12 0-406.528-99.84-628.736-296.448l-20.48-17.92z" fill="#0847A6" ></path><path d="M768 327.68v102.4c-138.752 0-327.168 88.064-563.2 265.728l-20.992 15.872-59.392-80.896c256-195.584 460.8-297.472 631.296-303.104z" fill="#0847A6" ></path><path d="M204.8 182.784v614.4h565.248v-614.4h102.4v716.8H102.4v-716.8h102.4z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_broken-line-color" viewBox="0 0 1024 1024"><path d="M849.92 164.864l51.2 87.552-267.776 164.352a102.4 102.4 0 0 1-90.624 7.68l-8.192-3.584-153.6-77.312-224.256 138.752L102.4 395.264 324.096 256a102.4 102.4 0 0 1 91.648-8.704l8.192 3.584 153.6 77.312zM849.92 497.664l51.2 87.552-269.824 164.352a102.4 102.4 0 0 1-90.624 7.68l-8.192-3.584-153.6-77.312-221.696 138.24L102.4 728.064l221.696-138.24a102.4 102.4 0 0 1 91.648-8.704l8.192 3.584 153.6 77.312z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_broken-line" viewBox="0 0 1024 1024"><path d="M849.92 164.864l51.2 87.552-267.776 164.352a102.4 102.4 0 0 1-90.624 7.68l-8.192-3.584-153.6-77.312-224.256 138.752L102.4 395.264 324.096 256a102.4 102.4 0 0 1 91.648-8.704l8.192 3.584 153.6 77.312zM849.92 497.664l51.2 87.552-269.824 164.352a102.4 102.4 0 0 1-90.624 7.68l-8.192-3.584-153.6-77.312-221.696 138.24L102.4 728.064l221.696-138.24a102.4 102.4 0 0 1 91.648-8.704l8.192 3.584 153.6 77.312z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_hate" viewBox="0 0 1024 1024"><path d="M214.869532 627.56175h118.931475v-396.43825h-118.931475a45.590399 45.590399 0 0 0-39.643825 49.554781v297.328688a45.590399 45.590399 0 0 0 39.643825 49.554781z m69.376693-346.883469v297.328688h-59.465737v-297.328688zM426.171119 581.971351V281.867596H673.945025a52.329849 52.329849 0 0 1 51.140534 39.643825l70.169571 269.57801h-277.506775l49.951219 146.682152h-74.926829z m203.372822 57.483546h167.296942a51.536973 51.536973 0 0 0 52.726287-50.347657 48.365467 48.365467 0 0 0 0-12.289586L777.01897 307.636082A104.659698 104.659698 0 0 0 673.945025 231.1235H373.444832v396.43825l84.044909 158.5753h111.399148a51.536973 51.536973 0 0 0 52.726287-50.347658 48.365467 48.365467 0 0 0-2.775068-15.85753l-10.307394-29.732869-5.153697-16.253968-11.893148-34.886566z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_hate-full" viewBox="0 0 1024 1024"><path d="M175.225707 280.678281v297.328688a45.590399 45.590399 0 0 0 39.643825 49.554781h118.931475v-396.43825h-118.931475a45.590399 45.590399 0 0 0-39.643825 49.554781zM847.584979 577.214092l-70.566009-269.57801A104.659698 104.659698 0 0 0 673.945025 231.1235H373.444832v396.43825l84.044909 158.5753h111.399148a51.536973 51.536973 0 0 0 52.726287-50.347658 48.365467 48.365467 0 0 0-2.775068-15.85753l-10.307394-29.732869-5.153697-16.253968-11.893148-34.886566h204.958575a51.536973 51.536973 0 0 0 52.726288-50.347658 48.365467 48.365467 0 0 0-1.585753-11.496709z" fill="#d96969" ></path></symbol><symbol id="icon-cem_division" viewBox="0 0 1024 1024"><path d="M358.4 102.4h102.4v307.2H358.4z" fill="#BFBFBF" ></path><path d="M358.4 460.8h102.4v460.8H358.4z" fill="#8C8C8C" ></path><path d="M153.6 563.2h102.4v102.4H153.6z" fill="#BFBFBF" ></path><path d="M153.6 716.8h102.4v204.8H153.6z" fill="#8C8C8C" ></path><path d="M563.2 358.4h102.4v204.8h-102.4z" fill="#BFBFBF" ></path><path d="M563.2 614.4h102.4v307.2h-102.4z" fill="#8C8C8C" ></path><path d="M768 665.6h102.4v102.4h-102.4z" fill="#BFBFBF" ></path><path d="M768 819.2h102.4v102.4h-102.4z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_division-colour" viewBox="0 0 1024 1024"><path d="M358.4 102.4h102.4v307.2H358.4z" fill="#6B91CA" ></path><path d="M358.4 460.8h102.4v460.8H358.4z" fill="#0847A6" ></path><path d="M153.6 563.2h102.4v102.4H153.6z" fill="#6B91CA" ></path><path d="M153.6 716.8h102.4v204.8H153.6z" fill="#0847A6" ></path><path d="M563.2 358.4h102.4v204.8h-102.4z" fill="#6B91CA" ></path><path d="M563.2 614.4h102.4v307.2h-102.4z" fill="#0847A6" ></path><path d="M768 665.6h102.4v102.4h-102.4z" fill="#6B91CA" ></path><path d="M768 819.2h102.4v102.4h-102.4z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_area" viewBox="0 0 1024 1024"><path d="M358.4 256H204.8v102.4h153.6z m102.4-102.4v307.2H102.4V153.6z m307.2 102.4h-153.6v256h153.6z m102.4-102.4v460.8h-358.4V153.6z m-102.4 614.4h-153.6v51.2h153.6z m-409.6-153.6H204.8v204.8h153.6z m512 51.2v256h-358.4v-256z m-409.6-153.6v409.6H102.4v-409.6z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_form-new" viewBox="0 0 1024 1024"><path d="M768 256H204.8v102.4h563.2z m0 204.8h-102.4v102.4h102.4z m-204.8 0H409.6v102.4h153.6zM307.2 460.8H204.8v102.4h102.4z m460.8 204.8h-102.4v153.6h102.4z m-204.8 0H409.6v153.6h153.6z m-256 0H204.8v153.6h102.4z m-204.8 256V153.6h768v768z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_cumulate-col" viewBox="0 0 1024 1024"><path d="M398.848 259.072c-70.656 0-135.168 51.2-194.048 169.984v116.224c66.048-75.264 129.024-114.176 193.024-114.176a140.288 140.288 0 0 1 25.088 0A198.656 198.656 0 0 1 496.128 460.8l37.888 21.504c88.576 48.64 139.776 44.032 233.984-56.32V280.064v-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-33.28z m0 274.432c-47.104 0-117.248 63.488-201.216 197.12L204.8 716.8v87.552h563.2V563.2c-99.328 72.704-186.88 64-293.376 3.072l-30.72-17.408a241.152 241.152 0 0 0-24.064-11.776H404.992z m472.064-256v629.76H102.4v-501.76l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.048-9.216 87.04 40.448 90.112 137.728z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_area-col" viewBox="0 0 1024 1024"><path d="M358.4 256H204.8v102.4h153.6z m102.4-102.4v307.2H102.4V153.6z m307.2 102.4h-153.6v256h153.6z m102.4-102.4v460.8h-358.4V153.6z m-102.4 614.4h-153.6v51.2h153.6z m-409.6-153.6H204.8v204.8h153.6z m512 51.2v256h-358.4v-256z m-409.6-153.6v409.6H102.4v-409.6z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_histogram-col" viewBox="0 0 1024 1024"><path d="M870.4 665.6v256h-102.4v-256z m-204.8-307.2v563.2h-102.4V358.4z m-409.6 204.8v358.4H153.6v-358.4z m204.8-460.8v819.2H358.4V102.4z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_bar-chart-col" viewBox="0 0 1024 1024"><path d="M102.4 768h358.4v102.4H102.4zM102.4 563.2h512v102.4H102.4zM102.4 358.4h665.6v102.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_cumulate-alone-col" viewBox="0 0 1024 1024"><path d="M768 300.544v-20.48-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-32.768c-70.656 0-135.168 51.2-194.048 169.984v376.32h563.2z m102.4 607.232H102.4V405.504l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.56-9.216 87.552 40.448 90.112 137.728v629.76z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_form-new-col" viewBox="0 0 1024 1024"><path d="M768 256H204.8v102.4h563.2z m0 204.8h-102.4v102.4h102.4z m-204.8 0H409.6v102.4h153.6zM307.2 460.8H204.8v102.4h102.4z m460.8 204.8h-102.4v153.6h102.4z m-204.8 0H409.6v153.6h153.6z m-256 0H204.8v153.6h102.4z m-204.8 256V153.6h768v768z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_histogram-gray" viewBox="0 0 1024 1024"><path d="M358.4 102.4h102.4v819.2H358.4z" fill="#BFBFBF" ></path><path d="M153.6 563.2h102.4v358.4H153.6zM563.2 358.4h102.4v563.2h-102.4z" fill="#8C8C8C" ></path><path d="M768 665.6h102.4v256h-102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_bar-chart" viewBox="0 0 1024 1024"><path d="M102.4 768h358.4v102.4H102.4zM102.4 563.2h512v102.4H102.4zM102.4 358.4h665.6v102.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_histogram-colour" viewBox="0 0 1024 1024"><path d="M358.4 102.4h102.4v819.2H358.4z" fill="#6B91CA" ></path><path d="M153.6 563.2h102.4v358.4H153.6zM563.2 358.4h102.4v563.2h-102.4z" fill="#0847A6" ></path><path d="M768 665.6h102.4v256h-102.4z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_cumulate-twocolour" viewBox="0 0 1024 1024"><path d="M197.12 730.624c83.968-133.632 153.6-197.12 201.216-197.12H419.84a241.152 241.152 0 0 1 24.064 11.776l30.72 17.408c94.72 53.76 173.568 67.072 259.584 18.944a501.76 501.76 0 0 0 122.88-102.4l-75.776-66.048c-102.4 114.176-153.6 121.344-247.296 70.656L496.128 460.8a198.656 198.656 0 0 0-73.216-29.184 140.288 140.288 0 0 0-25.088 0c-93.696 0-186.368 83.968-287.744 245.248z" fill="#0847A6" ></path><path d="M768 300.544v-20.48-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-32.768c-70.656 0-135.168 51.2-194.048 169.984v376.32h563.2z m102.4 607.232H102.4V405.504l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.56-9.216 87.552 40.448 90.112 137.728v629.76z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_bar-type-colour" viewBox="0 0 1024 1024"><path d="M102.4 768h358.4v102.4H102.4z" fill="#6B91CA" ></path><path d="M102.4 563.2h512v102.4H102.4z" fill="#0847A6" ></path><path d="M102.4 358.4h665.6v102.4H102.4z" fill="#6B91CA" ></path><path d="M102.4 153.6h819.2v102.4H102.4z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_histogram" viewBox="0 0 1024 1024"><path d="M870.4 665.6v256h-102.4v-256z m-204.8-307.2v563.2h-102.4V358.4z m-409.6 204.8v358.4H153.6v-358.4z m204.8-460.8v819.2H358.4V102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_cumulate-colour" viewBox="0 0 1024 1024"><path d="M197.12 730.624c83.968-133.632 153.6-197.12 201.216-197.12H419.84a241.152 241.152 0 0 1 24.064 11.776l30.72 17.408C614.4 646.144 716.8 637.952 857.088 481.792l-75.776-68.608c-102.4 114.176-153.6 121.344-247.296 70.656L496.128 460.8a198.656 198.656 0 0 0-73.216-29.184 140.288 140.288 0 0 0-25.088 0c-93.696 0-186.368 83.968-287.744 245.248z" fill="#8C8C8C" ></path><path d="M768 300.544v-20.48-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-32.768c-70.656 0-135.168 51.2-194.048 169.984v376.32h563.2z m102.4 607.232H102.4V405.504l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.56-9.216 87.552 40.448 90.112 137.728v629.76z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_cumulate" viewBox="0 0 1024 1024"><path d="M398.848 259.072c-70.656 0-135.168 51.2-194.048 169.984v116.224c66.048-75.264 129.024-114.176 193.024-114.176a140.288 140.288 0 0 1 25.088 0A198.656 198.656 0 0 1 496.128 460.8l37.888 21.504c88.576 48.64 139.776 44.032 233.984-56.32V280.064v-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-33.28z m0 274.432c-47.104 0-117.248 63.488-201.216 197.12L204.8 716.8v87.552h563.2V563.2c-99.328 72.704-186.88 64-293.376 3.072l-30.72-17.408a241.152 241.152 0 0 0-24.064-11.776H404.992z m472.064-256v629.76H102.4v-501.76l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.048-9.216 87.04 40.448 90.112 137.728z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_bar-type" viewBox="0 0 1024 1024"><path d="M102.4 768h358.4v102.4H102.4z" fill="#BFBFBF" ></path><path d="M102.4 563.2h512v102.4H102.4z" fill="#8C8C8C" ></path><path d="M102.4 358.4h665.6v102.4H102.4z" fill="#BFBFBF" ></path><path d="M102.4 153.6h819.2v102.4H102.4z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_cumulate-alone" viewBox="0 0 1024 1024"><path d="M768 300.544v-20.48-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-32.768c-70.656 0-135.168 51.2-194.048 169.984v376.32h563.2z m102.4 607.232H102.4V405.504l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.56-9.216 87.552 40.448 90.112 137.728v629.76z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_new-more-sel" viewBox="0 0 1024 1024"><path d="M435.2 742.4h153.6v153.6h-102.4a51.2 51.2 0 0 1-51.2-51.2z m0-153.6v-153.6h153.6v153.6z m153.6-460.8v153.6h-153.6v-102.4a51.2 51.2 0 0 1 51.2-51.2z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_new-more" viewBox="0 0 1024 1024"><path d="M435.2 742.4h153.6v153.6h-102.4a51.2 51.2 0 0 1-51.2-51.2z m0-153.6v-153.6h153.6v153.6z m153.6-460.8v153.6h-153.6v-102.4a51.2 51.2 0 0 1 51.2-51.2z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_more-two" viewBox="0 0 1024 1024"><path d="M512 726.528a204.8 204.8 0 1 1 204.8-204.8 204.8 204.8 0 0 1-204.8 204.8z m0-102.4a102.4 102.4 0 1 0-102.4-102.4 102.4 102.4 0 0 0 102.4 102.4zM200.192 174.08a460.8 460.8 0 0 1 177.664-102.4l39.936-12.288 24.064 34.304a86.016 86.016 0 0 0 140.288 0l24.064-34.304 39.936 12.288a460.8 460.8 0 0 1 177.664 102.4l30.208 27.648-16.384 37.888A86.016 86.016 0 0 0 909.312 358.4l40.96 3.584 10.24 39.936a465.408 465.408 0 0 1 0 217.088l-9.728 41.472-42.496 3.072a86.016 86.016 0 0 0-71.168 122.368l18.432 38.4-31.232 28.672a460.8 460.8 0 0 1-184.32 102.4l-37.888 10.752-24.064-31.232a86.016 86.016 0 0 0-135.68 0l-24.064 31.232-37.888-10.752a460.8 460.8 0 0 1-184.32-102.4l-31.232-28.672 18.432-38.4A86.016 86.016 0 0 0 114.176 665.6l-42.496-3.072-9.728-41.472a465.408 465.408 0 0 1 0-217.088l10.24-39.936 42.496-5.632a86.016 86.016 0 0 0 71.68-119.808l-16.384-37.888z m95.744 99.84a188.416 188.416 0 0 1-138.752 181.248 364.544 364.544 0 0 0 0 112.64 188.416 188.416 0 0 1 133.632 229.888 358.4 358.4 0 0 0 95.744 54.272 188.416 188.416 0 0 1 252.928 0 358.4 358.4 0 0 0 95.744-54.272 188.416 188.416 0 0 1 133.632-229.888 364.544 364.544 0 0 0 0-112.64 188.416 188.416 0 0 1-133.632-224.256 358.4 358.4 0 0 0-89.6-51.2 188.416 188.416 0 0 1-262.656 0 358.4 358.4 0 0 0-89.6 51.2 188.928 188.928 0 0 1 2.56 43.008z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_line-chart" viewBox="0 0 1024 1024"><path d="M624.64 955.904l173.568-404.992H921.6v-102.4h-190.976l-99.84 231.936L399.872 61.44l-153.6 387.072H102.4v102.4h213.504l80.896-204.288 227.84 609.28z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_line-chart-color" viewBox="0 0 1024 1024"><path d="M624.64 955.904l173.568-404.992H921.6v-102.4h-190.976l-99.84 231.936L399.872 61.44l-153.6 387.072H102.4v102.4h213.504l80.896-204.288 227.84 609.28z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_chart-setting" viewBox="0 0 1024 1024"><path d="M512 726.528a204.8 204.8 0 1 1 204.8-204.8 204.8 204.8 0 0 1-204.8 204.8z m0-102.4a102.4 102.4 0 1 0-102.4-102.4 102.4 102.4 0 0 0 102.4 102.4zM200.192 174.08a460.8 460.8 0 0 1 177.664-102.4l39.936-12.288 24.064 34.304a86.016 86.016 0 0 0 140.288 0l24.064-34.304 39.936 12.288a460.8 460.8 0 0 1 177.664 102.4l30.208 27.648-16.384 37.888A86.016 86.016 0 0 0 909.312 358.4l40.96 3.584 10.24 39.936a465.408 465.408 0 0 1 0 217.088l-9.728 41.472-42.496 3.072a86.016 86.016 0 0 0-71.168 122.368l18.432 38.4-31.232 28.672a460.8 460.8 0 0 1-184.32 102.4l-37.888 10.752-24.064-31.232a86.016 86.016 0 0 0-135.68 0l-24.064 31.232-37.888-10.752a460.8 460.8 0 0 1-184.32-102.4l-31.232-28.672 18.432-38.4A86.016 86.016 0 0 0 114.176 665.6l-42.496-3.072-9.728-41.472a465.408 465.408 0 0 1 0-217.088l10.24-39.936 42.496-5.632a86.016 86.016 0 0 0 71.68-119.808l-16.384-37.888z m95.744 99.84a188.416 188.416 0 0 1-138.752 181.248 364.544 364.544 0 0 0 0 112.64 188.416 188.416 0 0 1 133.632 229.888 358.4 358.4 0 0 0 95.744 54.272 188.416 188.416 0 0 1 252.928 0 358.4 358.4 0 0 0 95.744-54.272 188.416 188.416 0 0 1 133.632-229.888 364.544 364.544 0 0 0 0-112.64 188.416 188.416 0 0 1-133.632-224.256 358.4 358.4 0 0 0-89.6-51.2 188.416 188.416 0 0 1-262.656 0 358.4 358.4 0 0 0-89.6 51.2 188.928 188.928 0 0 1 2.56 43.008z" fill="#A6CAE2" ></path><path d="M512 728.064a204.8 204.8 0 1 1 204.8-204.8 204.8 204.8 0 0 1-204.8 204.8z m0-307.2a102.4 102.4 0 1 0 102.4 102.4 102.4 102.4 0 0 0-102.4-103.936z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_radar" viewBox="0 0 1024 1024"><path d="M186.368 324.096v376.32L512 888.32l325.632-187.904V324.096L512 135.68zM512 17.92l428.032 247.296v494.08L512 1006.08l-428.032-246.784V264.704z" fill="#A6CAE2" ></path><path d="M570.368 291.84l-194.048 49.152-71.168 199.68 215.04 211.968 194.56-279.04-144.384-181.76z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_radar-gray" viewBox="0 0 1024 1024"><path d="M186.368 324.096v376.32L512 888.32l325.632-187.904V324.096L512 135.68zM512 17.92l428.032 247.296v494.08L512 1006.08l-428.032-246.784V264.704z" fill="#BFBFBF" ></path><path d="M570.368 291.84l-194.048 49.152-71.168 199.68 215.04 211.968 194.56-279.04-144.384-181.76z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_multi-graph-withcolor1" viewBox="0 0 1024 1024"><path d="M460.8 134.144h102.4v755.712H460.8zM206.848 651.776h149.504v149.504H206.848zM207.36 223.232h148.48v148.48h-148.48zM668.16 223.232h148.48v148.48h-148.48zM667.648 651.776h149.504v149.504h-149.504z" fill="#BFBFBF" ></path><path d="M102.4 460.8h819.2v102.4H102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_multi-graph" viewBox="0 0 1024 1024"><path d="M460.8 134.144h102.4v755.712H460.8z" fill="#D96969" ></path><path d="M206.848 651.776h149.504v149.504H206.848z" fill="#15B374" ></path><path d="M207.36 223.232h148.48v148.48h-148.48z" fill="#D96969" ></path><path d="M668.16 223.232h148.48v148.48h-148.48z" fill="#15B374" ></path><path d="M667.648 651.776h149.504v149.504h-149.504z" fill="#D96969" ></path><path d="M102.4 460.8h819.2v102.4H102.4z" fill="#15B374" ></path></symbol><symbol id="icon-cem_user-voice1" viewBox="0 0 1024 1024"><path d="M859.993918 837.936138H150.511911l328.271667-320.227066L151.030917 198.001014h708.963001v51.900659H278.447035l274.813989 267.807399-275.073492 268.326407h581.806386v51.900659z" fill="#15B374" ></path><path d="M808.093259 198.001014h51.900659v159.854029h-51.900659zM808.093259 678.082108h51.900659v159.85403h-51.900659z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_twocolor-separat" viewBox="0 0 1024 1024"><path d="M206.336 768h204.8v102.4h-204.8zM103.936 358.4h307.2v102.4h-307.2zM103.936 563.2h307.2v102.4h-307.2z" fill="#8C8C8C" ></path><path d="M462.336 768h307.2v102.4h-307.2zM462.336 460.8V358.4h460.8v102.4h-460.8zM462.336 563.2h460.8v102.4h-460.8z" fill="#BFBFBF" ></path><path d="M206.336 153.6h204.8v102.4h-204.8z" fill="#8C8C8C" ></path><path d="M462.336 153.6h307.2v102.4h-307.2z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_green-front-with" viewBox="0 0 1024 1024"><path d="M102.4 563.2h460.8v102.4H102.4zM102.4 768h307.2v102.4H102.4zM102.4 358.4v102.4h614.4V358.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#15B374" ></path></symbol><symbol id="icon-cem_red-negative-noc" viewBox="0 0 1024 1024"><path d="M102.4 563.2h460.8v102.4H102.4zM102.4 768h307.2v102.4H102.4zM102.4 358.4v102.4h614.4V358.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_doublecolor-upan" viewBox="0 0 1024 1024"><path d="M102.4 153.6h819.2v102.4H102.4zM102.4 563.2h716.8v102.4H102.4z" fill="#BFBFBF" ></path><path d="M102.4 768h409.6v102.4H102.4zM102.4 358.4h512v102.4H102.4z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_twocolor-oneway-" viewBox="0 0 1024 1024"><path d="M102.4 768h153.6v102.4H102.4zM102.4 153.6h153.6v102.4H102.4zM102.4 358.4h256v102.4H102.4zM102.4 563.2h256v102.4H102.4z" fill="#8C8C8C" ></path><path d="M307.2 768h409.6v102.4H307.2zM307.2 153.6h409.6v102.4H307.2zM409.6 460.8V358.4h512v102.4H409.6zM409.6 563.2h512v102.4H409.6z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_red-negative-wit" viewBox="0 0 1024 1024"><path d="M102.4 563.2h460.8v102.4H102.4zM102.4 768h307.2v102.4H102.4zM102.4 358.4v102.4h614.4V358.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#D96969" ></path></symbol><symbol id="icon-cem_twocolor-separat1" viewBox="0 0 1024 1024"><path d="M206.336 768h204.8v102.4h-204.8zM103.936 358.4h307.2v102.4h-307.2zM103.936 563.2h307.2v102.4h-307.2z" fill="#D96969" ></path><path d="M462.336 768h307.2v102.4h-307.2zM462.336 460.8V358.4h460.8v102.4h-460.8zM462.336 563.2h460.8v102.4h-460.8z" fill="#15B374" ></path><path d="M206.336 153.6h204.8v102.4h-204.8z" fill="#D96969" ></path><path d="M462.336 153.6h307.2v102.4h-307.2z" fill="#15B374" ></path></symbol><symbol id="icon-cem_twocolor-oneway-1" viewBox="0 0 1024 1024"><path d="M102.4 768h153.6v102.4H102.4zM102.4 153.6h153.6v102.4H102.4zM102.4 358.4h256v102.4H102.4zM102.4 563.2h256v102.4H102.4z" fill="#D96969" ></path><path d="M307.2 768h409.6v102.4H307.2zM307.2 153.6h409.6v102.4H307.2zM409.6 460.8V358.4h512v102.4H409.6zM409.6 563.2h512v102.4H409.6z" fill="#15B374" ></path></symbol><symbol id="icon-cem_doublecolor-upan1" viewBox="0 0 1024 1024"><path d="M102.4 153.6h819.2v102.4H102.4zM102.4 563.2h716.8v102.4H102.4z" fill="#15B374" ></path><path d="M102.4 768h409.6v102.4H102.4zM102.4 358.4h512v102.4H102.4z" fill="#D96969" ></path></symbol><symbol id="icon-cem_red-negative-dee" viewBox="0 0 1024 1024"><path d="M102.4 563.2h460.8v102.4H102.4zM102.4 768h307.2v102.4H102.4zM102.4 358.4v102.4h614.4V358.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_geometry" viewBox="0 0 1024 1024"><path d="M271.440446 847.53776l-228.881906-130.789661 25.690826-44.89407 177.759757 101.465789 219.799291-533.798277h515.892549v51.900659H500.581855l-229.141409 556.11556z" fill="#15B374" ></path><path d="M618.396351 845.98074h-51.900659V447.124176h311.403953V845.98074h-51.900659V499.024835h-207.602635V845.98074z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_total-proportion" viewBox="0 0 1024 1024"><path d="M304.397364 758.52813h155.701977v51.900659h-155.701977zM200.596047 576.875824h259.503294v51.900659h-259.503294zM122.745058 395.223517h337.354283v51.900659h-337.354283z" fill="#15B374" ></path><path d="M44.89407 213.571211h415.205271v51.900659h-415.205271z" fill="#1574B3" ></path><path d="M563.900659 213.571211h415.205271v51.900659h-415.205271zM563.900659 395.223517h337.354283v51.900659h-337.354283zM563.900659 576.875824h259.503294v51.900659h-259.503294zM563.900659 758.52813h155.701977v51.900659h-155.701977z" fill="#15B374" ></path></symbol><symbol id="icon-cem_index" viewBox="0 0 1024 1024"><path d="M304.397364 758.52813h155.701977v51.900659h-155.701977zM200.596047 576.875824h259.503294v51.900659h-259.503294zM122.745058 395.223517h337.354283v51.900659h-337.354283z" fill="#BFBFBF" ></path><path d="M44.89407 213.571211h415.205271v51.900659h-415.205271z" fill="#1574B3" ></path><path d="M563.900659 213.571211h415.205271v51.900659h-415.205271z" fill="#15B374" ></path><path d="M563.900659 395.223517h337.354283v51.900659h-337.354283zM563.900659 576.875824h259.503294v51.900659h-259.503294zM563.900659 758.52813h155.701977v51.900659h-155.701977z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_special-emotions" viewBox="0 0 1024 1024"><path d="M304.397364 758.52813h155.701977v51.900659h-155.701977zM200.596047 576.875824h259.503294v51.900659h-259.503294zM122.745058 395.223517h337.354283v51.900659h-337.354283z" fill="#15B374" ></path><path d="M44.89407 213.571211h415.205271v51.900659h-415.205271z" fill="#1574B3" ></path><path d="M563.900659 213.571211h415.205271v51.900659h-415.205271zM563.900659 395.223517h337.354283v51.900659h-337.354283zM563.900659 576.875824h259.503294v51.900659h-259.503294zM563.900659 758.52813h155.701977v51.900659h-155.701977z" fill="#BFBFBF" ></path></symbol></svg>',s=(s=document.getElementsByTagName("script"))[s.length-1].getAttribute("data-injectcss");if(s&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}function c(){i||(i=!0,a())}t=function(){var e,t,n;(t=document.createElement("div")).innerHTML=o,o=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",t=e,(e=document.body).firstChild?(n=e.firstChild).parentNode.insertBefore(t,n):e.appendChild(t))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(a=t,r=e.document,i=!1,function t(){try{r.documentElement.doScroll("left")}catch(e){return void setTimeout(t,50)}c()}(),r.onreadystatechange=function(){"complete"==r.readyState&&(r.onreadystatechange=null,c())})}(window)},39432:(e,t,n)=>{"use strict";n.d(t,{jD:()=>f,zp:()=>x,ZP:()=>d,gw:()=>h,Go:()=>g,uf:()=>l,bC:()=>y,hE:()=>p,fy:()=>function(e){if(Number(e)===parseFloat(e)){e=Number(e);if(1e8<=e)return Math.round(e/1e8)+"亿";if(1e4<=e&&e<1e8)return l(Math.round(e/1e4))+"万";if(1e3<=e)return l(e);if(0<=e&&e<1e3)return e}return"--"},LV:()=>function(e,t){switch(t){case"HOUR":return{from:i()(e).format("YYYY-MM-DD HH:00:00"),to:i()(e).format("YYYY-MM-DD HH:59:59")};case"YEAR":var n=i()(e);return{from:n.startOf("year").format("YYYY-MM-DD"),to:n.endOf("year").format("YYYY-MM-DD")};case"QUARTER":var a=e.split("-"),a=i()().year(a[0]).quarter(a[1]);return{from:a.startOf("quarter").format("YYYY-MM-DD"),to:a.endOf("quarter").format("YYYY-MM-DD")};case"MONTH":var r=i()(e);return{from:r.startOf("month").format("YYYY-MM-DD"),to:r.endOf("month").format("YYYY-MM-DD")};case"WEEK":a=e.split("-"),r=a[0],a=a[1],a=i()().year(r).week(a);return{from:a.startOf("week").format("YYYY-MM-DD"),to:a.endOf("week").format("YYYY-MM-DD")};case"DAY":default:return{from:e,to:e}}},O8:()=>function(e){try{var t=e.indexOf("?"),n=e;return(n=-1<t?e.substring(t+1):n).split("&").reduce(function(e,t){t=t.split("=");return o()({},e,((e={})[t[0]]=t[1],e))},{})}catch(e){return{}}},Li:()=>v,B1:()=>function(e,t){void 0===t&&(t=!1);if(/:/.test(e))return e;if(t)return i()(e).endOf("day").format("YYYY/MM/DD  HH:ss:mm");return i()(e).format("YYYY/MM/DD  HH:ss:mm")},Sn:()=>function(e,t){switch(e){case"YEAR":return t+"年";case"QUARTER":return i()(t).format("YYYY年第M季度");case"WEEK":return t.substr(0,4)+"年第"+Number(t.substr(t.length-2,t.length))+"周";case"MONTH":return i()(t).format("YYYY年MM月");case"HOUR":return i()(t).format("MM月DD日HH时");case"DAY":default:return i()(t).format("YYYY/MM/DD")}},qS:()=>function(e){return e.replaceAll("-","/")},yV:()=>function(e,t){switch(e){case"YEAR":return t+"年";case"QUARTER":return i()(t).format("YYYY年第M季度");case"WEEK":return t.substr(0,4)+"年第"+Number(t.substr(t.length-2,t.length))+"周";case"MONTH":return i()(t).format("YYYY年M月");case"HOUR":return i()(t).format("M月D日H时");case"DAY":default:return i()(t).format("YYYY年M月D日")}},QM:()=>function(e,n,a,t){void 0===n&&(n="name");void 0===a&&(a="z_p");var r=[],i=[];if(e.length&&e instanceof Array){if(t&&"COMMENT_SCORE"===t)return e;t=e.filter(function(e){return!(!parseFloat(e[n])&&0!==parseFloat(e[n]))||(r.push(e),!1)}).sort(function(e,t){return parseFloat(e[n])-parseFloat(t[n])});return r=r.filter(function(e){return!(!/^[（([{【*&^$#+-±_-].+$/.test(e[n])&&e[n])||(i.push(e),!1)}).sort(function(e,t){return e[n]&&t[n]?e[n].localeCompare(t[n]):0}),(i=i.map(function(e){return o()({},e,{compareName:"p_z"===a?function(e){for(var t="",n=new RegExp("[a-zA-Z0-9- ]"),a=0;a<e.length;a++){var r=e.substr(a,1),i=function(e){for(var t in s)if(-1!==s[t].indexOf(e))return function(e){if(0<e.length){var t=e.substr(0,1).toUpperCase(),e=e.substr(1,e.length);return t+e}}(t);return!1}(r);n.test(r)?t+=r:!1!==i&&(t+=i)}t=t.replace(/ /g,"-");for(;0<t.indexOf("--");)t=t.replace("--","-");return t}(e[n].trim()||""):(e[n].trim()||"").replace(/[a-zA-Z]/g,function(e){return c[e.toLowerCase()]})})}).sort(function(e,t){return"p_z"===a?e.compareName.localeCompare(t.compareName):e.compareName.localeCompare(t.compareName,"zh")}).map(function(e){return delete e.compareName,e})).concat.apply(i,t.concat(r))}return e}});n(75314);function a(e){switch(e){case"yyyy":return"year";case"yyyy-MM":return"month";case"yyyy-MM-dd":return"day";case"yyyy-qq":return"quarter";case"yyyy-MM-dd HH":case"HH":return"hour";case"yyyy-MM-dd HH:mm":case"HH:mm":return"minute";case"yyyy-MM-dd HH:mm:ss":case"HH:mm:ss":return"second"}return""}var r=n(11187),t=n(67154),o=n.n(t),t=n(30381),i=n.n(t),s={a:"啊阿锕",ai:"埃挨哎唉哀皑癌蔼矮艾碍爱隘诶捱嗳嗌嫒瑷暧砹锿霭",an:"鞍氨安俺按暗岸胺案谙埯揞犴庵桉铵鹌顸黯",ang:"肮昂盎",ao:"凹敖熬翱袄傲奥懊澳坳拗嗷噢岙廒遨媪骜聱螯鏊鳌鏖",ba:"芭捌扒叭吧笆八疤巴拔跋靶把耙坝霸罢爸茇菝萆捭岜灞杷钯粑鲅魃",bai:"白柏百摆佰败拜稗薜掰鞴",ban:"斑班搬扳般颁板版扮拌伴瓣半办绊阪坂豳钣瘢癍舨",bang:"邦帮梆榜膀绑棒磅蚌镑傍谤蒡螃",bao:"苞胞包褒雹保堡饱宝抱报暴豹鲍爆勹葆宀孢煲鸨褓趵龅",bo:"剥薄玻菠播拨钵波博勃搏铂箔伯帛舶脖膊渤泊驳亳蕃啵饽檗擘礴钹鹁簸跛",bei:"杯碑悲卑北辈背贝钡倍狈备惫焙被孛陂邶埤蓓呗怫悖碚鹎褙鐾",ben:"奔苯本笨畚坌锛",beng:"崩绷甭泵蹦迸唪嘣甏",bi:"逼鼻比鄙笔彼碧蓖蔽毕毙毖币庇痹闭敝弊必辟壁臂避陛匕仳俾芘荜荸吡哔狴庳愎滗濞弼妣婢嬖璧贲畀铋秕裨筚箅篦舭襞跸髀",bian:"鞭边编贬扁便变卞辨辩辫遍匾弁苄忭汴缏煸砭碥稹窆蝙笾鳊",biao:"标彪膘表婊骠飑飙飚灬镖镳瘭裱鳔",bie:"鳖憋别瘪蹩鳘",bin:"彬斌濒滨宾摈傧浜缤玢殡膑镔髌鬓",bing:"兵冰柄丙秉饼炳病并禀邴摒绠枋槟燹",bu:"捕卜哺补埠不布步簿部怖拊卟逋瓿晡钚醭",ca:"擦嚓礤",cai:"猜裁材才财睬踩采彩菜蔡",can:"餐参蚕残惭惨灿骖璨粲黪",cang:"苍舱仓沧藏伧",cao:"操糙槽曹草艹嘈漕螬艚",ce:"厕策侧册测刂帻恻",ceng:"层蹭噌",cha:"插叉茬茶查碴搽察岔差诧猹馇汊姹杈楂槎檫钗锸镲衩",chai:"拆柴豺侪茈瘥虿龇",chan:"搀掺蝉馋谗缠铲产阐颤冁谄谶蒇廛忏潺澶孱羼婵嬗骣觇禅镡裣蟾躔",chang:"昌猖场尝常长偿肠厂敞畅唱倡伥鬯苌菖徜怅惝阊娼嫦昶氅鲳",chao:"超抄钞朝嘲潮巢吵炒怊绉晁耖",che:"车扯撤掣彻澈坼屮砗",chen:"郴臣辰尘晨忱沉陈趁衬称谌抻嗔宸琛榇肜胂碜龀",cheng:"撑城橙成呈乘程惩澄诚承逞骋秤埕嵊徵浈枨柽樘晟塍瞠铖裎蛏酲",chi:"吃痴持匙池迟弛驰耻齿侈尺赤翅斥炽傺墀芪茌搋叱哧啻嗤彳饬沲媸敕胝眙眵鸱瘛褫蚩螭笞篪豉踅踟魑",chong:"充冲虫崇宠茺忡憧铳艟",chou:"抽酬畴踌稠愁筹仇绸瞅丑俦圳帱惆溴妯瘳雠鲋",chu:"臭初出橱厨躇锄雏滁除楚础储矗搐触处亍刍憷绌杵楮樗蜍蹰黜",chuan:"揣川穿椽传船喘串掾舛惴遄巛氚钏镩舡",chuang:"疮窗幢床闯创怆",chui:"吹炊捶锤垂陲棰槌",chun:"春椿醇唇淳纯蠢促莼沌肫朐鹑蝽",chuo:"戳绰蔟辶辍镞踔龊",ci:"疵茨磁雌辞慈瓷词此刺赐次荠呲嵯鹚螅糍趑",cong:"聪葱囱匆从丛偬苁淙骢琮璁枞",cu:"凑粗醋簇猝殂蹙",cuan:"蹿篡窜汆撺昕爨",cui:"摧崔催脆瘁粹淬翠萃悴璀榱隹",cun:"村存寸磋忖皴",cuo:"撮搓措挫错厝脞锉矬痤鹾蹉躜",da:"搭达答瘩打大耷哒嗒怛妲疸褡笪靼鞑",dai:"呆歹傣戴带殆代贷袋待逮怠埭甙呔岱迨逯骀绐玳黛",dan:"耽担丹单郸掸胆旦氮但惮淡诞弹蛋亻儋卩萏啖澹檐殚赕眈瘅聃箪",dang:"当挡党荡档谠凼菪宕砀铛裆",dao:"刀捣蹈倒岛祷导到稻悼道盗叨啁忉洮氘焘忑纛",de:"德得的锝",deng:"蹬灯登等瞪凳邓噔嶝戥磴镫簦",di:"堤低滴迪敌笛狄涤翟嫡抵底地蒂第帝弟递缔氐籴诋谛邸坻莜荻嘀娣柢棣觌砥碲睇镝羝骶",dian:"颠掂滇碘点典靛垫电佃甸店惦奠淀殿丶阽坫埝巅玷癜癫簟踮",diao:"碉叼雕凋刁掉吊钓调轺铞蜩粜貂",die:"跌爹碟蝶迭谍叠佚垤堞揲喋渫轶牒瓞褶耋蹀鲽鳎",ding:"丁盯叮钉顶鼎锭定订丢仃啶玎腚碇町铤疔耵酊",dong:"东冬董懂动栋侗恫冻洞垌咚岽峒夂氡胨胴硐鸫",dou:"兜抖斗陡豆逗痘蔸钭窦窬蚪篼酡",du:"都督毒犊独读堵睹赌杜镀肚度渡妒芏嘟渎椟橐牍蠹笃髑黩",duan:"端短锻段断缎彖椴煅簖",dui:"堆兑队对怼憝碓",dun:"墩吨蹲敦顿囤钝盾遁炖砘礅盹镦趸",duo:"掇哆多夺垛躲朵跺舵剁惰堕咄哚缍柁铎裰踱",e:"蛾峨鹅俄额讹娥恶厄扼遏鄂饿噩谔垩垭苊莪萼呃愕屙婀轭曷腭硪锇锷鹗颚鳄",en:"恩蒽摁唔嗯",er:"而儿耳尔饵洱二贰迩珥铒鸸鲕",fa:"发罚筏伐乏阀法珐垡砝",fan:"藩帆番翻樊矾钒繁凡烦反返范贩犯饭泛蘩幡犭梵攵燔畈蹯",fang:"坊芳方肪房防妨仿访纺放匚邡彷钫舫鲂",fei:"菲非啡飞肥匪诽吠肺废沸费芾狒悱淝妃绋绯榧腓斐扉祓砩镄痱蜚篚翡霏鲱",fen:"芬酚吩氛分纷坟焚汾粉奋份忿愤粪偾瀵棼愍鲼鼢",feng:"丰封枫蜂峰锋风疯烽逢冯缝讽奉凤俸酆葑沣砜",fu:"佛否夫敷肤孵扶拂辐幅氟符伏俘服浮涪福袱弗甫抚辅俯釜斧脯腑府腐赴副覆赋复傅付阜父腹负富讣附妇缚咐匐凫郛芙苻茯莩菔呋幞滏艴孚驸绂桴赙黻黼罘稃馥虍蚨蜉蝠蝮麸趺跗鳆",ga:"噶嘎蛤尬呷尕尜旮钆",gai:"该改概钙盖溉丐陔垓戤赅胲",gan:"干甘杆柑竿肝赶感秆敢赣坩苷尴擀泔淦澉绀橄旰矸疳酐",gang:"冈刚钢缸肛纲岗港戆罡颃筻",gong:"杠工攻功恭龚供躬公宫弓巩汞拱贡共蕻廾咣珙肱蚣蛩觥",gao:"篙皋高膏羔糕搞镐稿告睾诰郜蒿藁缟槔槁杲锆",ge:"哥歌搁戈鸽胳疙割革葛格阁隔铬个各鬲仡哿塥嗝纥搿膈硌铪镉袼颌虼舸骼髂",gei:"给",gen:"根跟亘茛哏艮",geng:"耕更庚羹埂耿梗哽赓鲠",gou:"钩勾沟苟狗垢构购够佝诟岣遘媾缑觏彀鸲笱篝鞲",gu:"辜菇咕箍估沽孤姑鼓古蛊骨谷股故顾固雇嘏诂菰哌崮汩梏轱牯牿胍臌毂瞽罟钴锢瓠鸪鹄痼蛄酤觚鲴骰鹘",gua:"刮瓜剐寡挂褂卦诖呱栝鸹",guai:"乖拐怪哙",guan:"棺关官冠观管馆罐惯灌贯倌莞掼涫盥鹳鳏",guang:"光广逛犷桄胱疒",gui:"瑰规圭硅归龟闺轨鬼诡癸桂柜跪贵刽匦刿庋宄妫桧炅晷皈簋鲑鳜",gun:"辊滚棍丨衮绲磙鲧",guo:"锅郭国果裹过馘蠃埚掴呙囗帼崞猓椁虢锞聒蜮蜾蝈",ha:"哈",hai:"骸孩海氦亥害骇咴嗨颏醢",han:"酣憨邯韩含涵寒函喊罕翰撼捍旱憾悍焊汗汉邗菡撖阚瀚晗焓颔蚶鼾",hen:"夯痕很狠恨",hang:"杭航沆绗珩桁",hao:"壕嚎豪毫郝好耗号浩薅嗥嚆濠灏昊皓颢蚝",he:"呵喝荷菏核禾和何合盒貉阂河涸赫褐鹤贺诃劾壑藿嗑嗬阖盍蚵翮",hei:"嘿黑",heng:"哼亨横衡恒訇蘅",hong:"轰哄烘虹鸿洪宏弘红黉讧荭薨闳泓",hou:"喉侯猴吼厚候后堠後逅瘊篌糇鲎骺",hu:"呼乎忽瑚壶葫胡蝴狐糊湖弧虎唬护互沪户冱唿囫岵猢怙惚浒滹琥槲轷觳烀煳戽扈祜鹕鹱笏醐斛",hua:"花哗华猾滑画划化话劐浍骅桦铧稞",huai:"槐徊怀淮坏还踝",huan:"欢环桓缓换患唤痪豢焕涣宦幻郇奂垸擐圜洹浣漶寰逭缳锾鲩鬟",huang:"荒慌黄磺蝗簧皇凰惶煌晃幌恍谎隍徨湟潢遑璜肓癀蟥篁鳇",hui:"灰挥辉徽恢蛔回毁悔慧卉惠晦贿秽会烩汇讳诲绘诙茴荟蕙哕喙隳洄彗缋珲晖恚虺蟪麾",hun:"荤昏婚魂浑混诨馄阍溷缗",huo:"豁活伙火获或惑霍货祸攉嚯夥钬锪镬耠蠖",ji:"击圾基机畸稽积箕肌饥迹激讥鸡姬绩缉吉极棘辑籍集及急疾汲即嫉级挤几脊己蓟技冀季伎祭剂悸济寄寂计记既忌际妓继纪居丌乩剞佶佴脔墼芨芰萁蒺蕺掎叽咭哜唧岌嵴洎彐屐骥畿玑楫殛戟戢赍觊犄齑矶羁嵇稷瘠瘵虮笈笄暨跻跽霁鲚鲫髻麂",jia:"嘉枷夹佳家加荚颊贾甲钾假稼价架驾嫁伽郏拮岬浃迦珈戛胛恝铗镓痂蛱笳袈跏",jian:"歼监坚尖笺间煎兼肩艰奸缄茧检柬碱硷拣捡简俭剪减荐槛鉴践贱见键箭件健舰剑饯渐溅涧建僭谏谫菅蒹搛囝湔蹇謇缣枧柙楗戋戬牮犍毽腱睑锏鹣裥笕箴翦趼踺鲣鞯",jiang:"僵姜将浆江疆蒋桨奖讲匠酱降茳洚绛缰犟礓耩糨豇",jiao:"蕉椒礁焦胶交郊浇骄娇嚼搅铰矫侥脚狡角饺缴绞剿教酵轿较叫佼僬茭挢噍峤徼姣纟敫皎鹪蛟醮跤鲛",jie:"窖揭接皆秸街阶截劫节桔杰捷睫竭洁结解姐戒藉芥界借介疥诫届偈讦诘喈嗟獬婕孑桀獒碣锴疖袷颉蚧羯鲒骱髫",jin:"巾筋斤金今津襟紧锦仅谨进靳晋禁近烬浸尽卺荩堇噤馑廑妗缙瑾槿赆觐钅锓衿矜",jing:"劲荆兢茎睛晶鲸京惊精粳经井警景颈静境敬镜径痉靖竟竞净刭儆阱菁獍憬泾迳弪婧肼胫腈旌",jiong:"炯窘冂迥扃",jiu:"揪究纠玖韭久灸九酒厩救旧臼舅咎就疚僦啾阄柩桕鹫赳鬏",ju:"鞠拘狙疽驹菊局咀矩举沮聚拒据巨具距踞锯俱句惧炬剧倨讵苣苴莒掬遽屦琚枸椐榘榉橘犋飓钜锔窭裾趄醵踽龃雎鞫",juan:"捐鹃娟倦眷卷绢鄄狷涓桊蠲锩镌隽",jue:"撅攫抉掘倔爵觉决诀绝厥劂谲矍蕨噘崛獗孓珏桷橛爝镢蹶觖",jun:"均菌钧军君峻俊竣浚郡骏捃狻皲筠麇",ka:"喀咖卡佧咔胩",ke:"咯坷苛柯棵磕颗科壳咳可渴克刻客课岢恪溘骒缂珂轲氪瞌钶疴窠蝌髁",kai:"开揩楷凯慨剀垲蒈忾恺铠锎",kan:"刊堪勘坎砍看侃凵莰莶戡龛瞰",kang:"康慷糠扛抗亢炕坑伉闶钪",kao:"考拷烤靠尻栲犒铐",ken:"肯啃垦恳垠裉颀",keng:"吭忐铿",kong:"空恐孔控倥崆箜",kou:"抠口扣寇芤蔻叩眍筘",ku:"枯哭窟苦酷库裤刳堀喾绔骷",kua:"夸垮挎跨胯侉",kuai:"块筷侩快蒯郐蒉狯脍",kuan:"宽款髋",kuang:"匡筐狂框矿眶旷况诓诳邝圹夼哐纩贶",kui:"亏盔岿窥葵奎魁傀馈愧溃馗匮夔隗揆喹喟悝愦阕逵暌睽聩蝰篑臾跬",kun:"坤昆捆困悃阃琨锟醌鲲髡",kuo:"括扩廓阔蛞",la:"垃拉喇蜡腊辣啦剌摺邋旯砬瘌",lai:"莱来赖崃徕涞濑赉睐铼癞籁",lan:"蓝婪栏拦篮阑兰澜谰揽览懒缆烂滥啉岚懔漤榄斓罱镧褴",lang:"琅榔狼廊郎朗浪莨蒗啷阆锒稂螂",lao:"捞劳牢老佬姥酪烙涝唠崂栳铑铹痨醪",le:"勒乐肋仂叻嘞泐鳓",lei:"雷镭蕾磊累儡垒擂类泪羸诔荽咧漯嫘缧檑耒酹",ling:"棱冷拎玲菱零龄铃伶羚凌灵陵岭领另令酃塄苓呤囹泠绫柃棂瓴聆蛉翎鲮",leng:"楞愣",li:"厘梨犁黎篱狸离漓理李里鲤礼莉荔吏栗丽厉励砾历利傈例俐痢立粒沥隶力璃哩俪俚郦坜苈莅蓠藜捩呖唳喱猁溧澧逦娌嫠骊缡珞枥栎轹戾砺詈罹锂鹂疠疬蛎蜊蠡笠篥粝醴跞雳鲡鳢黧",lian:"俩联莲连镰廉怜涟帘敛脸链恋炼练挛蔹奁潋濂娈琏楝殓臁膦裢蠊鲢",liang:"粮凉梁粱良两辆量晾亮谅墚椋踉靓魉",liao:"撩聊僚疗燎寥辽潦了撂镣廖料蓼尥嘹獠寮缭钌鹩耢",lie:"列裂烈劣猎冽埒洌趔躐鬣",lin:"琳林磷霖临邻鳞淋凛赁吝蔺嶙廪遴檩辚瞵粼躏麟",liu:"溜琉榴硫馏留刘瘤流柳六抡偻蒌泖浏遛骝绺旒熘锍镏鹨鎏",long:"龙聋咙笼窿隆垄拢陇弄垅茏泷珑栊胧砻癃",lou:"楼娄搂篓漏陋喽嵝镂瘘耧蝼髅",lu:"芦卢颅庐炉掳卤虏鲁麓碌露路赂鹿潞禄录陆戮垆摅撸噜泸渌漉璐栌橹轳辂辘氇胪镥鸬鹭簏舻鲈",lv:"驴吕铝侣旅履屡缕虑氯律率滤绿捋闾榈膂稆褛",luan:"峦孪滦卵乱栾鸾銮",lue:"掠略锊",lun:"轮伦仑沦纶论囵",luo:"萝螺罗逻锣箩骡裸落洛骆络倮荦摞猡泺椤脶镙瘰雒",ma:"妈麻玛码蚂马骂嘛吗唛犸嬷杩麽",mai:"埋买麦卖迈脉劢荬咪霾",man:"瞒馒蛮满蔓曼慢漫谩墁幔缦熳镘颟螨鳗鞔",mang:"芒茫盲忙莽邙漭朦硭蟒",meng:"氓萌蒙檬盟锰猛梦孟勐甍瞢懵礞虻蜢蠓艋艨黾",miao:"猫苗描瞄藐秒渺庙妙喵邈缈缪杪淼眇鹋蜱",mao:"茅锚毛矛铆卯茂冒帽貌贸侔袤勖茆峁瑁昴牦耄旄懋瞀蛑蝥蟊髦",me:"么",mei:"玫枚梅酶霉煤没眉媒镁每美昧寐妹媚坶莓嵋猸浼湄楣镅鹛袂魅",men:"门闷们扪玟焖懑钔",mi:"眯醚靡糜迷谜弥米秘觅泌蜜密幂芈冖谧蘼嘧猕獯汨宓弭脒敉糸縻麋",mian:"棉眠绵冕免勉娩缅面沔湎腼眄",mie:"蔑灭咩蠛篾",min:"民抿皿敏悯闽苠岷闵泯珉",ming:"明螟鸣铭名命冥茗溟暝瞑酩",miu:"谬",mo:"摸摹蘑模膜磨摩魔抹末莫墨默沫漠寞陌谟茉蓦馍嫫镆秣瘼耱蟆貊貘",mou:"谋牟某厶哞婺眸鍪",mu:"拇牡亩姆母墓暮幕募慕木目睦牧穆仫苜呒沐毪钼",na:"拿哪呐钠那娜纳内捺肭镎衲箬",nai:"氖乃奶耐奈鼐艿萘柰",nan:"南男难囊喃囡楠腩蝻赧",nao:"挠脑恼闹孬垴猱瑙硇铙蛲",ne:"淖呢讷",nei:"馁",nen:"嫩能枘恁",ni:"妮霓倪泥尼拟你匿腻逆溺伲坭猊怩滠昵旎祢慝睨铌鲵",nian:"蔫拈年碾撵捻念廿辇黏鲇鲶",niang:"娘酿",niao:"鸟尿茑嬲脲袅",nie:"捏聂孽啮镊镍涅乜陧蘖嗫肀颞臬蹑",nin:"您柠",ning:"狞凝宁拧泞佞蓥咛甯聍",niu:"牛扭钮纽狃忸妞蚴",nong:"脓浓农侬",nu:"奴努怒呶帑弩胬孥驽",nv:"女恧钕衄",nuan:"暖",nuenue:"虐",nue:"疟谑",nuo:"挪懦糯诺傩搦喏锘",ou:"哦欧鸥殴藕呕偶沤怄瓯耦",pa:"啪趴爬帕怕琶葩筢",pai:"拍排牌徘湃派俳蒎",pan:"攀潘盘磐盼畔判叛爿泮袢襻蟠蹒",pang:"乓庞旁耪胖滂逄",pao:"抛咆刨炮袍跑泡匏狍庖脬疱",pei:"呸胚培裴赔陪配佩沛掊辔帔淠旆锫醅霈",pen:"喷盆湓",peng:"砰抨烹澎彭蓬棚硼篷膨朋鹏捧碰坯堋嘭怦蟛",pi:"砒霹批披劈琵毗啤脾疲皮匹痞僻屁譬丕陴邳郫圮鼙擗噼庀媲纰枇甓睥罴铍痦癖疋蚍貔",pian:"篇偏片骗谝骈犏胼褊翩蹁",piao:"飘漂瓢票剽嘌嫖缥殍瞟螵",pie:"撇瞥丿苤氕",pin:"拼频贫品聘拚姘嫔榀牝颦",ping:"乒坪苹萍平凭瓶评屏俜娉枰鲆",po:"坡泼颇婆破魄迫粕叵鄱溥珀钋钷皤笸",pou:"剖裒踣",pu:"扑铺仆莆葡菩蒲埔朴圃普浦谱曝瀑匍噗濮璞氆镤镨蹼",qi:"期欺栖戚妻七凄漆柒沏其棋奇歧畦崎脐齐旗祈祁骑起岂乞企启契砌器气迄弃汽泣讫亟亓圻芑萋葺嘁屺岐汔淇骐绮琪琦杞桤槭欹祺憩碛蛴蜞綦綮趿蹊鳍麒",qia:"掐恰洽葜",qian:"牵扦钎铅千迁签仟谦乾黔钱钳前潜遣浅谴堑嵌欠歉佥阡芊芡荨掮岍悭慊骞搴褰缱椠肷愆钤虔箝",qiang:"枪呛腔羌墙蔷强抢嫱樯戗炝锖锵镪襁蜣羟跫跄",qiao:"橇锹敲悄桥瞧乔侨巧鞘撬翘峭俏窍劁诮谯荞愀憔缲樵毳硗跷鞒",qie:"切茄且怯窃郄唼惬妾挈锲箧",qin:"钦侵亲秦琴勤芹擒禽寝沁芩蓁蕲揿吣嗪噙溱檎螓衾",qing:"青轻氢倾卿清擎晴氰情顷请庆倩苘圊檠磬蜻罄箐謦鲭黥",qiong:"琼穷邛茕穹筇銎",qiu:"秋丘邱球求囚酋泅俅氽巯艽犰湫逑遒楸赇鸠虬蚯蝤裘糗鳅鼽",qu:"趋区蛆曲躯屈驱渠取娶龋趣去诎劬蕖蘧岖衢阒璩觑氍祛磲癯蛐蠼麴瞿黢",quan:"圈颧权醛泉全痊拳犬券劝诠荃獾悛绻辁畎铨蜷筌鬈",que:"缺炔瘸却鹊榷确雀阙悫",qun:"裙群逡",ran:"然燃冉染苒髯",rang:"瓤壤攘嚷让禳穰",rao:"饶扰绕荛娆桡",ruo:"惹若弱",re:"热偌",ren:"壬仁人忍韧任认刃妊纫仞荏葚饪轫稔衽",reng:"扔仍",ri:"日",rong:"戎茸蓉荣融熔溶容绒冗嵘狨缛榕蝾",rou:"揉柔肉糅蹂鞣",ru:"茹蠕儒孺如辱乳汝入褥蓐薷嚅洳溽濡铷襦颥",ruan:"软阮朊",rui:"蕊瑞锐芮蕤睿蚋",run:"闰润",sa:"撒洒萨卅仨挲飒",sai:"腮鳃塞赛噻",san:"三叁伞散彡馓氵毵糁霰",sang:"桑嗓丧搡磉颡",sao:"搔骚扫嫂埽臊瘙鳋",se:"瑟色涩啬铩铯穑",sen:"森",seng:"僧",sha:"莎砂杀刹沙纱傻啥煞脎歃痧裟霎鲨",shai:"筛晒酾",shan:"珊苫杉山删煽衫闪陕擅赡膳善汕扇缮剡讪鄯埏芟潸姗骟膻钐疝蟮舢跚鳝",shang:"墒伤商赏晌上尚裳垧绱殇熵觞",shao:"梢捎稍烧芍勺韶少哨邵绍劭苕潲蛸笤筲艄",she:"奢赊蛇舌舍赦摄射慑涉社设厍佘猞畲麝",shen:"砷申呻伸身深娠绅神沈审婶甚肾慎渗诜谂吲哂渖椹矧蜃",sheng:"声生甥牲升绳省盛剩胜圣丞渑媵眚笙",shi:"师失狮施湿诗尸虱十石拾时什食蚀实识史矢使屎驶始式示士世柿事拭誓逝势是嗜噬适仕侍释饰氏市恃室视试谥埘莳蓍弑唑饣轼耆贳炻礻铈铊螫舐筮豕鲥鲺",shou:"收手首守寿授售受瘦兽扌狩绶艏",shu:"蔬枢梳殊抒输叔舒淑疏书赎孰熟薯暑曙署蜀黍鼠属术述树束戍竖墅庶数漱恕倏塾菽忄沭涑澍姝纾毹腧殳镯秫鹬",shua:"刷耍唰涮",shuai:"摔衰甩帅蟀",shuan:"栓拴闩",shuang:"霜双爽孀",shui:"谁水睡税",shun:"吮瞬顺舜恂",shuo:"说硕朔烁蒴搠嗍濯妁槊铄",si:"斯撕嘶思私司丝死肆寺嗣四伺似饲巳厮俟兕菥咝汜泗澌姒驷缌祀祠锶鸶耜蛳笥",song:"松耸怂颂送宋讼诵凇菘崧嵩忪悚淞竦",sou:"搜艘擞嗽叟嗖嗾馊溲飕瞍锼螋",su:"苏酥俗素速粟僳塑溯宿诉肃夙谡蔌嗉愫簌觫稣",suan:"酸蒜算",sui:"虽隋随绥髓碎岁穗遂隧祟蓑冫谇濉邃燧眭睢",sun:"孙损笋荪狲飧榫跣隼",suo:"梭唆缩琐索锁所唢嗦娑桫睃羧",ta:"塌他它她塔獭挞蹋踏闼溻遢榻沓",tai:"胎苔抬台泰酞太态汰邰薹肽炱钛跆鲐",tan:"坍摊贪瘫滩坛檀痰潭谭谈坦毯袒碳探叹炭郯蕈昙钽锬覃",tang:"汤塘搪堂棠膛唐糖傥饧溏瑭铴镗耥螗螳羰醣",thang:"倘躺淌",theng:"趟烫",tao:"掏涛滔绦萄桃逃淘陶讨套挑鼗啕韬饕",te:"特",teng:"藤腾疼誊滕",ti:"梯剔踢锑提题蹄啼体替嚏惕涕剃屉荑悌逖绨缇鹈裼醍",tian:"天添填田甜恬舔腆掭忝阗殄畋钿蚺",tiao:"条迢眺跳佻祧铫窕龆鲦",tie:"贴铁帖萜餮",ting:"厅听烃汀廷停亭庭挺艇莛葶婷梃蜓霆",tong:"通桐酮瞳同铜彤童桶捅筒统痛佟僮仝茼嗵恸潼砼",tou:"偷投头透亠",tu:"凸秃突图徒途涂屠土吐兔堍荼菟钍酴",tuan:"湍团疃",tui:"推颓腿蜕褪退忒煺",tun:"吞屯臀饨暾豚窀",tuo:"拖托脱鸵陀驮驼椭妥拓唾乇佗坨庹沱柝砣箨舄跎鼍",wa:"挖哇蛙洼娃瓦袜佤娲腽",wai:"歪外",wan:"豌弯湾玩顽丸烷完碗挽晚皖惋宛婉万腕剜芄苋菀纨绾琬脘畹蜿箢",wang:"汪王亡枉网往旺望忘妄罔尢惘辋魍",wei:"威巍微危韦违桅围唯惟为潍维苇萎委伟伪尾纬未蔚味畏胃喂魏位渭谓尉慰卫倭偎诿隈葳薇帏帷崴嵬猥猬闱沩洧涠逶娓玮韪軎炜煨熨痿艉鲔",wen:"瘟温蚊文闻纹吻稳紊问刎愠阌汶璺韫殁雯",weng:"嗡翁瓮蓊蕹",wo:"挝蜗涡窝我斡卧握沃莴幄渥杌肟龌",wu:"巫呜钨乌污诬屋无芜梧吾吴毋武五捂午舞伍侮坞戊雾晤物勿务悟误兀仵阢邬圬芴庑怃忤浯寤迕妩骛牾焐鹉鹜蜈鋈鼯",xi:"昔熙析西硒矽晰嘻吸锡牺稀息希悉膝夕惜熄烯溪汐犀檄袭席习媳喜铣洗系隙戏细僖兮隰郗茜葸蓰奚唏徙饩阋浠淅屣嬉玺樨曦觋欷熹禊禧钸皙穸蜥蟋舾羲粞翕醯鼷",xia:"瞎虾匣霞辖暇峡侠狭下厦夏吓掀葭嗄狎遐瑕硖瘕罅黠",xian:"锨先仙鲜纤咸贤衔舷闲涎弦嫌显险现献县腺馅羡宪陷限线冼藓岘猃暹娴氙祆鹇痫蚬筅籼酰跹",xiang:"相厢镶香箱襄湘乡翔祥详想响享项巷橡像向象芗葙饷庠骧缃蟓鲞飨",xiao:"萧硝霄削哮嚣销消宵淆晓小孝校肖啸笑效哓咻崤潇逍骁绡枭枵筱箫魈",xie:"楔些歇蝎鞋协挟携邪斜胁谐写械卸蟹懈泄泻谢屑偕亵勰燮薤撷廨瀣邂绁缬榭榍歙躞",xin:"薪芯锌欣辛新忻心信衅囟馨莘歆铽鑫",xing:"星腥猩惺兴刑型形邢行醒幸杏性姓陉荇荥擤悻硎",xiong:"兄凶胸匈汹雄熊芎",xiu:"休修羞朽嗅锈秀袖绣莠岫馐庥鸺貅髹",xu:"墟戌需虚嘘须徐许蓄酗叙旭序畜恤絮婿绪续讴诩圩蓿怵洫溆顼栩煦砉盱胥糈醑",xuan:"轩喧宣悬旋玄选癣眩绚儇谖萱揎馔泫洵渲漩璇楦暄炫煊碹铉镟痃",xue:"靴薛学穴雪血噱泶鳕",xun:"勋熏循旬询寻驯巡殉汛训讯逊迅巽埙荀薰峋徇浔曛窨醺鲟",ya:"压押鸦鸭呀丫芽牙蚜崖衙涯雅哑亚讶伢揠吖岈迓娅琊桠氩砑睚痖",yan:"焉咽阉烟淹盐严研蜒岩延言颜阎炎沿奄掩眼衍演艳堰燕厌砚雁唁彦焰宴谚验厣靥赝俨偃兖讠谳郾鄢芫菸崦恹闫阏洇湮滟妍嫣琰晏胭腌焱罨筵酽魇餍鼹",yang:"殃央鸯秧杨扬佯疡羊洋阳氧仰痒养样漾徉怏泱炀烊恙蛘鞅",yao:"邀腰妖瑶摇尧遥窑谣姚咬舀药要耀夭爻吆崾徭瀹幺珧杳曜肴鹞窈繇鳐",ye:"椰噎耶爷野冶也页掖业叶曳腋夜液谒邺揶馀晔烨铘",yi:"一壹医揖铱依伊衣颐夷遗移仪胰疑沂宜姨彝椅蚁倚已乙矣以艺抑易邑屹亿役臆逸肄疫亦裔意毅忆义益溢诣议谊译异翼翌绎刈劓佾诒圪圯埸懿苡薏弈奕挹弋呓咦咿噫峄嶷猗饴怿怡悒漪迤驿缢殪贻旖熠钇镒镱痍瘗癔翊衤蜴舣羿翳酏黟",yin:"茵荫因殷音阴姻吟银淫寅饮尹引隐印胤鄞堙茚喑狺夤氤铟瘾蚓霪龈",ying:"英樱婴鹰应缨莹萤营荧蝇迎赢盈影颖硬映嬴郢茔莺萦撄嘤膺滢潆瀛瑛璎楹鹦瘿颍罂",yo:"哟唷",yong:"拥佣臃痈庸雍踊蛹咏泳涌永恿勇用俑壅墉慵邕镛甬鳙饔",you:"幽优悠忧尤由邮铀犹油游酉有友右佑釉诱又幼卣攸侑莸呦囿宥柚猷牖铕疣蝣鱿黝鼬",yu:"迂淤于盂榆虞愚舆余俞逾鱼愉渝渔隅予娱雨与屿禹宇语羽玉域芋郁吁遇喻峪御愈欲狱育誉浴寓裕预豫驭禺毓伛俣谀谕萸蓣揄喁圄圉嵛狳饫庾阈妪妤纡瑜昱觎腴欤於煜燠聿钰鹆瘐瘀窳蝓竽舁雩龉",yuan:"鸳渊冤元垣袁原援辕园员圆猿源缘远苑愿怨院塬沅媛瑗橼爰眢鸢螈鼋",yue:"曰约越跃钥岳粤月悦阅龠樾刖钺",yun:"耘云郧匀陨允运蕴酝晕韵孕郓芸狁恽纭殒昀氲",za:"匝砸杂拶咂",zai:"栽哉灾宰载再在咱崽甾",zan:"攒暂赞瓒昝簪糌趱錾",zang:"赃脏葬奘戕臧",zao:"遭糟凿藻枣早澡蚤躁噪造皂灶燥唣缫",ze:"责择则泽仄赜啧迮昃笮箦舴",zei:"贼",zen:"怎谮",zeng:"增憎曾赠缯甑罾锃",zha:"扎喳渣札轧铡闸眨栅榨咋乍炸诈揸吒咤哳怍砟痄蚱齄",zhai:"摘斋宅窄债寨砦",zhan:"瞻毡詹粘沾盏斩辗崭展蘸栈占战站湛绽谵搌旃",zhang:"樟章彰漳张掌涨杖丈帐账仗胀瘴障仉鄣幛嶂獐嫜璋蟑",zhao:"招昭找沼赵照罩兆肇召爪诏棹钊笊",zhe:"遮折哲蛰辙者锗蔗这浙谪陬柘辄磔鹧褚蜇赭",zhen:"珍斟真甄砧臻贞针侦枕疹诊震振镇阵缜桢榛轸赈胗朕祯畛鸩",zheng:"蒸挣睁征狰争怔整拯正政帧症郑证诤峥钲铮筝",zhi:"芝枝支吱蜘知肢脂汁之织职直植殖执值侄址指止趾只旨纸志挚掷至致置帜峙制智秩稚质炙痔滞治窒卮陟郅埴芷摭帙忮彘咫骘栉枳栀桎轵轾攴贽膣祉祗黹雉鸷痣蛭絷酯跖踬踯豸觯",zhong:"中盅忠钟衷终种肿重仲众冢锺螽舂舯踵",zhou:"舟周州洲诌粥轴肘帚咒皱宙昼骤啄着倜诹荮鬻纣胄碡籀舳酎鲷",zhu:"珠株蛛朱猪诸诛逐竹烛煮拄瞩嘱主著柱助蛀贮铸筑住注祝驻伫侏邾苎茱洙渚潴驺杼槠橥炷铢疰瘃蚰竺箸翥躅麈",zhua:"抓",zhuai:"拽",zhuan:"专砖转撰赚篆抟啭颛",zhuang:"桩庄装妆撞壮状丬",zhui:"椎锥追赘坠缀萑骓缒",zhun:"谆准",zhuo:"捉拙卓桌琢茁酌灼浊倬诼廴蕞擢啜浞涿杓焯禚斫",zi:"兹咨资姿滋淄孜紫仔籽滓子自渍字谘嵫姊孳缁梓辎赀恣眦锱秭耔笫粢觜訾鲻髭",zong:"鬃棕踪宗综总纵腙粽",zou:"邹走奏揍鄹鲰",zu:"租足卒族祖诅阻组俎菹啐徂驵蹴",zuan:"钻纂攥缵",zui:"嘴醉最罪",zun:"尊遵撙樽鳟",zuo:"昨左佐柞做作坐座阝阼胙祚酢",cou:"薮楱辏腠",nang:"攮哝囔馕曩",o:"喔",dia:"嗲",chuai:"嘬膪踹",cen:"岑涔",diu:"铥",nou:"耨",fou:"缶",bia:"髟"},c={a:"凹",b:"芭",c:"擦",d:"搭",e:"蛾",f:"藩",g:"噶",h:"呼",i:"豁",j:"击",k:"喀",l:"垃",m:"拇",n:"女",o:"哦",p:"啪",q:"期",r:"然",s:"撒",t:"凸",u:"吞",v:"拖",w:"挖",x:"昔",y:"压",z:"匝"};Date.prototype.format=function(e){var t,n={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":this.getMonth(),S:this.getMilliseconds()};for(t in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(""+this.getFullYear()).substr(4-RegExp.$1.length))),n)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[t]:("00"+n[t]).substr((""+n[t]).length)));return e},Date.prototype.parse=function(e,t){switch(t){case"yyyy-MM-dd HH:mm:ss":this.setSeconds(+e.substr(17,2));break;case"yyyy-MM-dd HH:mm":this.setMinutes(+e.substr(14,2));break;case"yyyy-MM-dd HH":this.setHours(+e.substr(11,2));break;case"yyyy-MM-dd":this.setDate(+e.substr(8,2));break;case"yyyy-MM":this.setMonth(+e.substr(5,2)-1);break;case"yyyy-qq":this.setMonth(3*+e.substr(5,2))}this.setFullYear(+e.substr(0,4))},Date.prototype.endAdd=function(e){switch(e){case"yyyy":this.setFullYear(this.getFullYear()+1);break;case"yyyy-MM":this.setMonth(this.getMonth()+1);break;case"yyyy-MM-dd":this.setDate(this.getDate()+1);break;case"yyyy-qq":this.setMonth(this.getMonth()+3);break;case"yyyy-MM-dd HH":this.setHours(this.getHours()+1);break;case"yyyy-MM-dd HH:mm":this.setMinutes(this.getMinutes()+1);break;case"yyyy-MM-dd HH:mm:ss":this.setSeconds(this.getSeconds()+1)}};var u=function(e,t){if(!e.calType)return e.format?{date_histogram:{field:e.remoteName,interval:a(e.format),format:"yyyy-qq"===e.format?"yyyy-MM":e.format,min_doc_count:0,extended_bounds:{min:t.dateRange[0],max:t.dateRange[1]}}}:{terms:{field:e.remoteName,size:e.size||100}};if(e.calType)switch(e.calType){case"count":return{value_count:{field:e.remoteName}};case"rangesGroup":return{range:{field:e.remoteName,keyed:!0,ranges:e.ranges}};default:return{extended_stats:{field:e.remoteName}}}return{}},l=function(e){if(0===e)return e;if(e){for(var t,n=(e=e.toString()).indexOf("."),a=[],r="",i=0,i=-1!==n?(t=e.substring(0,n),r=e.substring(n,e.length),t.length):e.length,o=Math.ceil(i/3),s=0;s<o-1;s++)a[o-1-s]=e.slice(i-3*(s+1),i-3*s);return a[0]=e.slice(0,i-3*(o-1)),-1!==n?a.toString()+r:a.toString()}};function p(e){if(Number(e)===parseFloat(e)){e=Number(e);if(1e8<=e)return(e/1e8).toFixed(2)+"亿";if(1e4<=e&&e<1e8)return l((e/1e4).toFixed(2))+"万";if(1e3<=e)return l(e);if(0<=e&&e<1e3)return e}return"--"}const d={findDateInterval:a,findDateRange:function(e,t,n){var a=new Date;a.parse(e[0],"yyyy-MM");var r=a.format(t);return a.parse(e[1],"yyyy-MM"),n&&a.endAdd(t),{min:r,max:a.format(t)}},findAggs:function(e,t){var n={},a={};return a[e.name]=u(e,t),e.children?n[e.children]={children:{type:e.children},aggs:a}:n[t.category]={filter:{term:{flag:t.category}},aggs:a},n},formatNumber:l,getApproximateNum:p};var f=function(e,t){void 0===t&&(t=14);var n=document.createElement("canvas").getContext("2d");return n?(n.font=t+"px 'PingFang SC','Microsoft Yahei', 'Helvetica Neue', Helvetica, Tahoma, Arial, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif",n.measureText(e).width):0},h=function(t){return new Promise(function(e){return setTimeout(e,t)})};function m(){return console.error("不可以通过js设置names哦！请手动在names中添加字段！！"),!0}var v=function a(e,r){return void 0===r&&(r=""),new Proxy(e,{get:function(e,t){var n=""+(r||"")+(r?t.replace(t[0],t[0].toUpperCase()):t);if(e[t])return e[t]instanceof Object?a(e[t],n):n;console.error("names中不包含 "+t+" 键名，请检查names文件（键名路径："+n+"）")},set:m,defineProperty:m,deleteProperty:m,preventExtensions:m,setPrototypeOf:m})},y=function(e){e*=100;return e<.01?e.toExponential(2):e.toFixed(2)},g=function(e){if(!e)return null;var t=new Date,e=new Date(e.substring(0,19).replace(/-/g,"/").replace(/T/," ")),n=t.getTime()-e.getTime();switch(!0){case n<36e5:var a=Math.abs(Math.floor(n/6e4));return a?a+"分钟前":"刚刚";case n<864e5:return Math.floor(n/36e5)+"小时前";default:return Math.floor(n/864e5)+"天前"}},x=function(e){var t=document.querySelector("."+e),n=document.createRange();null!=(e=window.getSelection())&&e.removeAllRanges(),t&&n.selectNode(t),null!=(t=window.getSelection())&&t.addRange(n),document.execCommand("Copy")?r.default.success("复制成功"):r.default.error("复制失败"),null!=(n=window.getSelection())&&n.removeAllRanges()}},19635:(e,t,n)=>{var a={"./bdtb.png":76324,"./bdxw.png":18995,"./bdzd.png":34298,"./bilibili.png":97300,"./chuangwei.png":86420,"./coloros_bbs.png":45359,"./custom.png":81146,"./douyin.png":34638,"./dy.png":41395,"./dzdp.png":74390,"./ecovacs.png":9960,"./gm.png":31725,"./haixin.png":89758,"./hmts.png":58980,"./htsc.png":95273,"./huawei.png":81859,"./jd.png":44229,"./jrtt.png":48137,"./jts.png":44301,"./jx.png":38039,"./nps.png":29948,"./opposq.png":98443,"./pdd.png":3224,"./smzdm.png":39795,"./snyg.png":13622,"./tb.png":59038,"./tm.png":56723,"./txxw.png":8414,"./vivo.png":84476,"./vivo_bbs.png":67931,"./wph.png":36306,"./wx.png":46551,"./wyxw.png":13254,"./xhs.png":61018,"./xl.png":95327,"./xlxw.png":12976,"./xm.png":56478,"./xm_bbs.png":67785,"./xm_bbs1.png":11563,"./xw.png":48751,"./yd.png":12366,"./yhd.png":10607,"./ymx.png":56437,"./yp.png":22306,"./zh.png":35786};function r(e){e=i(e);return n(e)}function i(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(a)},r.resolve=i,(e.exports=r).id=19635},50757:(e,t,n)=>{},25365:(e,t,n)=>{},20431:(e,t,n)=>{var a={"./account/audit/DatePicker/model.js":12621,"./aspectWarning/model.js":4878,"./brand/overview/model.js":23061,"./brand/subjectAnalyze/analyzeOfIndex/model.js":56685,"./brand/subjectAnalyze/model.js":52653,"./collection/manage/model.js":92765,"./conversation/commodityAnalyze/model.js":27664,"./conversation/components/Conversation/model.js":74857,"./conversation/concernAnalyze/model.js":63102,"./conversation/detail/model.js":67918,"./conversation/overview/model.js":36757,"./conversation/setting/pages/Edit/model.js":42042,"./dashboard/model.js":63123,"./dashboard/template/edit/model.js":31185,"./dashboard/template/list/model.js":62529,"./detail/components/chart/model.js":3171,"./detail/model.js":57585,"./drillDown/sceneAnalyze/model.js":58334,"./explore/free/components/FilterTable/model.js":19706,"./explore/free/components/ResultTable/model.js":31155,"./explore/free/model.js":73630,"./explore/free/result/model.js":16235,"./explore/scene/advice/model.ts":4270,"./explore/scene/competingAnalysis/model.js":81236,"./explore/scene/overview/model.js":43226,"./explore/scene/relation/model.js":3226,"./explore/scene/spokesperson/model.js":16851,"./explore/scene/usage/model.js":50537,"./market/bmAnalysis/models/brandAnalysis/model.js":66853,"./market/bmAnalysis/models/modelAnalysis/model.js":38739,"./market/hotDiscovery/model.js":75919,"./market/newMonitoring/model.js":52861,"./market/salesAnalysis/model.js":43637,"./message/components/MsgDetail/model.js":38141,"./message/components/ServiceFilter/model.js":42624,"./message/model.js":37361,"./opinion/components/EverydayTable/IDBHeaderScreening/model.js":2832,"./opinion/components/EverydayTable/model.js":91797,"./opinion/components/FilterTable/model.js":88278,"./opinion/components/ResultTable/model.js":86878,"./opinion/components/Screen/components/DatePicker/model.js":59348,"./opinion/components/Screen/model.js":48556,"./opinion/model.js":60597,"./opinion/original/model.js":44334,"./opinionDetail/components/chart/model.js":21596,"./opinionDetail/model.js":25822,"./personalSet/messageRulePrivate/model.js":39842,"./price/branding/model.js":27338,"./price/chaos/components/EditRule/model.js":41195,"./price/chaos/components/PricePushLog/model.js":81538,"./price/chaos/components/PriceRuleList/model.js":66697,"./price/chaos/components/PriceScreenshot/model.js":93890,"./price/chaos/model.js":85876,"./price/overview/model.js":74681,"./price/priceHistory/model.js":26365,"./price/priceWarning/model.js":12455,"./price/product_shop/model.js":75335,"./product/aspectTrend/model.js":46290,"./product/compareProduct/model.js":1269,"./product/customer/model.js":8050,"./product/overview/model.js":13419,"./product/scene/overview/model.js":94134,"./product/scene/usageOccasion/model.js":79405,"./product/scene/user/model.js":78155,"./product/selfAnalysis/model.js":6861,"./project/alert/edit/model.js":31313,"./project/aspectSystem/global/model.js":31290,"./project/aspectSystem/tree/edit/model.js":85027,"./project/aspectSystem/tree/list/model.js":23413,"./project/base/entryDrawer/model.js":45039,"./project/base/skuList/model.js":91903,"./project/base/spuList/model.js":47911,"./project/connection/maintainList/model.js":55988,"./project/dataFeedback/model.js":78813,"./project/dataUrl/edit/model.js":6019,"./project/dataUrl/list/model.js":54754,"./project/linkTopic/overview/model.js":40748,"./project/linkTopic/topicValue/model.js":70019,"./project/messageRule/model.js":51417,"./project/model.js":67431,"./project/setting/linkMaintenance/model.js":28383,"./project/setting/linkManagement/model.js":47501,"./project/setting/model.js":4083,"./project/setting/pages/link/model.js":3680,"./project/setting/pages/subscribeOverview/overview/model.js":10952,"./project/setting/pages/subscribeOverview/recycling/model.js":18460,"./project/setting/pages/subscribeOverview/rules/model.js":24773,"./project/setting/smartSubscribe/components/subscribeLink/model.js":59134,"./project/setting/smartSubscribe/model.js":90430,"./project/tag/model.js":4167,"./publicModel/model.js":75016,"./publicSentiment/alert/list/model.js":70444,"./publicSentiment/analysis/channel/model.js":41263,"./publicSentiment/analysis/event/model.js":57847,"./publicSentiment/analysis/path/model.js":38303,"./publicSentiment/analysis/point/model.js":40267,"./publicSentiment/analysis/subject/model.js":79599,"./publicSentiment/analysis/trend/model.js":80721,"./publicSentiment/overview/model.js":44098,"./publicSentiment/subjectOverview/edit/model.js":74660,"./publicSentiment/subjectOverview/list/model.js":59615,"./publicSentiment/tagAnalysis/model.js":92609,"./publicSentiment/warning/edit/model.js":52315,"./publicSentiment/warning/list/model.js":54465,"./research/contact/model.js":86556,"./research/manage/analysis/answer/model.js":85633,"./research/manage/analysis/answerDetail/model.js":79041,"./research/manage/analysis/nps/model.js":96237,"./research/manage/analysis/record/model.js":75778,"./research/manage/analysis/satisfaction/model.js":69253,"./research/manage/answer/model.js":76352,"./research/manage/components/AddContact/model.js":98960,"./research/manage/distribute/model.js":17084,"./research/manage/distributeEdit/model.js":39719,"./research/manage/npsManage/model.js":33504,"./research/manage/questions/components/QuestionTypes/components/LogoDialog/model.js":55046,"./research/manage/questions/model.js":5877,"./research/overview/model.js":10242,"./research/setting/pages/dashboard/model.js":10938,"./research/setting/pages/template/list/model.js":88938,"./research/settingEdit/model.js":4714,"./research/templateEdit/model.js":74023,"./serviceInsight/concernAnalyze/model.ts":1048,"./serviceInsight/gombitAnalyze/model.ts":92208,"./serviceInsight/match/model.ts":58598,"./serviceInsight/overview/model.ts":76751,"./serviceInsight/spu/model.ts":33604,"./social/analysis/models/comparison/model.js":91568,"./social/analysis/models/top10/model.js":61888,"./social/analysis/tag/detail/model.js":89259,"./social/analysis/tag/top/model.js":56847,"./social/analysis/tag/trend/model.js":13885,"./social/overview/model.js":57835,"./userHelpCenter/model.js":64981};function r(e){e=i(e);return n(e)}function i(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(a)},r.resolve=i,(e.exports=r).id=20431},20402:(e,t,n)=>{var a={"./Header/model.js":30674,"./HeaderScreening/model.js":73702,"./IDBHeaderScreening/components/DatePicker/model.js":41183,"./IDBHeaderScreening/components/QuickDatePicker/model.ts":93310,"./IDBHeaderScreening/components/SavedFilter/model.js":91780,"./IDBHeaderScreening/components/Screening/Screening/model.js":35211,"./IDBHeaderScreening/model.js":94052,"./Left/model.js":7200,"./Login/model.js":953,"./PushRule/model.js":63023,"./Screening/model.js":31799,"./UserState/model.js":44031};function r(e){e=i(e);return n(e)}function i(e){if(n.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(a)},r.resolve=i,(e.exports=r).id=20402},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},96419:()=>{},56353:()=>{},25893:()=>{},69386:()=>{},31616:()=>{},69862:()=>{},40964:()=>{},55382:()=>{},72095:()=>{},91298:()=>{}},e=>{"use strict";e.O(0,[3759,4736],()=>e(e.s=45680));e.O()}]);
(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[1093],{81093:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var a=n(37316),r=n.n(a),t=n(67154),i=n.n(t),a=n(85354),c=n.n(a),t=n(67294),l=n.n(t),a=n(55609),o=n(55815),s=n(8201),u=n(29383),t=(n(61918),n(30381)),p=n.n(t);const d=function(e){var t=e.loading,n=e.pushList,a=(e.keyword,e.pageIndex),r=e.pageSize,i=e.count,c=(e.onSearch,e.onSiwtchPage),e=e.onSiwtchPageSize;return l().createElement(s.Z,{className:"push_log_list_wrapper",data:0===i?[]:n,loading:t},l().createElement(u.Z,{data:n instanceof Array?n:[],pagePosition:"down",columns:[{label:"",width:16},{label:"用户",prop:"username",minWidth:125},{label:"提醒时间",minWidth:125,render:function(e){e=e.createdAt;return l().createElement("span",{className:"ellipsis"},p()(e).format("YYYY-MM-DD HH:mm"))}},{label:"价格预警名称",minWidth:140,render:function(e){e=e.warningPriceName;return l().createElement("span",{className:"price_warn",title:e},e)}},{label:"提醒内容",minWidth:145,render:function(e){e=e.content;return l().createElement("span",{className:"price_warn",title:e},e)}},{label:"阈值",prop:"warningPrice"},{label:"提醒结果",width:100,render:function(e){e=e.status;return l().createElement("span",{className:"ellipsis",title:e},e)}},{label:"",width:16}],currentPage:a,onPage:c,pageSizeSelectorShow:!0,onPageSizeChange:e,pageSize:r,total:i,emptyText:0===i&&"用户组所有用户都未绑定微信，破价通知未成功，请联系用户尽快绑定微信",notLimit:!0}))};const h=function(e){return l().createElement("div",{className:"yt_price_push_log_wrapper"},l().createElement(o.Z,{title:[{title:"渠道乱价",url:"/priceChaos"},{title:"推送日志",url:""}]}),l().createElement("div",{className:"content",id:"price_push_log_content"},l().createElement(d,e)))};var g=n(64396).Z.price.pushLog,n=function(n){function e(e){var r=n.call(this,e)||this;r._handleOnSiwtchPage=function(e){var t=r.props,n=t.fetchLogList,a=t.pageSize;n({pageIndex:e,keyword:t.keyword,pageSize:a})},r._handleOnSiwtchPageSize=function(e){var t=r.props;(0,t.fetchLogList)({pageSize:e,pageIndex:1,keyword:t.keyword})};var t=e.location.state;return e.fetchLogList({breakBackFilterId:t&&t.pushId}),r.state={},r.event={onSiwtchPage:r._handleOnSiwtchPage,onSiwtchPageSize:r._handleOnSiwtchPageSize},r}return c()(e,n),e.prototype.render=function(){return l().createElement(h,i()({},this.props,this.state,this.event))},e}(l().PureComponent);const f=(0,a.connect)(function(e){var t=e.loading,e=r()(e,["loading"]);return i()({},e[g],{loading:t.effects[g+"/fetchLogList"]||!1})},function(t){return{save:function(e){return t({type:g+"/save",payload:e})},clean:function(e){return t({type:g+"/clean",payload:e})},fetchLogList:function(e){return t({type:g+"/fetchLogList",payload:e})}}})(n)},61918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var t=n(67294),u=n.n(t),t=n(45697),n=n.n(t),t=function(e){var t=e.className,n=e.onClear,a=e.onSearch,r=e.placeholder,i=e.style,c=e.defValue,l=e.signal,e=u().useState(c),o=e[0],s=e[1];u().useEffect(function(){s(c)},[c,l]);return u().createElement("div",{style:i,className:"yt_search_input_wrapper "+(t||"")},u().createElement("input",{placeholder:r,value:o,onKeyDown:function(e){13===e.keyCode&&a(o)},onChange:function(e){return s(e.target.value)},autoComplete:"off"}),o&&u().createElement("i",{className:"icon-cem_log-off",onClick:function(){s(""),n&&n("")}}),u().createElement("i",{className:"icon-cem_small-search",onClick:function(){return a(o)}}))};t.propTypes={className:n().string,onSearch:n().func.isRequired,placeholder:n().string,style:n().object,defValue:n().string,signal:n().any,onClear:n().func};const a=t}}]);
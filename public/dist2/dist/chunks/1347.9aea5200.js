(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[1347],{81347:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var a=n(37316),r=n.n(a),t=n(67154),o=n.n(t),a=n(85354),i=n.n(a),t=n(67294),b=n.n(t),a=n(64396),m=n(55815),h=n(61918),f=n(53754),g=n(35239),v=n(92360),x=n(23570),N=n(35303),w=n(61409),S=12;const l=function(e){function t(e){if(f===n&&d===o&&m===r.find(function(e){return e.name===a}).id)return e({result:"faild"}),!1;if(!f)return _("输入框不能为空"),y(!1),!1;if(!m)return E("选择框不能为空"),!1;var t={id:c,name:f.substring(0,S)};return c?s(t):w.mW.push({pathname:"/account/project/aspectSystem/tree/edit",state:{name:f,level:d,module:m,moduleName:r.find(function(e){return e.id===m}).name}}),e({result:"success"}),!1}var n=e.name,a=e.typeName,r=e.typeNameList,o=e.treeType,i=e.treeTypeList,l=e.setParams,c=e.id,s=e.onEditTree,u=b().useState(o||i[0].id),d=u[0],p=u[1],e=b().useState(a?r.find(function(e){return e.name===a}).id:r.some(function(e){return 0===e.status})?r.find(function(e){return 0===e.status}).id:void 0),m=e[0],h=e[1],u=b().useState(n||""),f=u[0],g=u[1],e=b().useState(!0),v=e[0],y=e[1],u=b().useState(""),e=u[0],_=u[1],u=b().useState(""),C=u[0],E=u[1];b().useEffect(function(){l({tree:d,type:m,folderName:f,confirmRun:t}),!v&&f&&f.length<=S&&y(!0)},[f,d,m]);function k(e,t){"type"===e?h(t):"tree"===e&&p(t)}return b().createElement("div",{className:"yt_tree_modal_folder_wrapper"},b().createElement("div",{className:"content_item"},b().createElement("span",{className:"required"},"指标树名称"),b().createElement("span",{className:v?"":"required_error",style:{position:"relative"}},b().createElement(x.Z,{className:"content_item_input",defaultValue:f,placeholder:"请输入指标树名称",onChange:function(e){e=e.target.value;""===e.trim()?(_("输入框不能为空"),y(!1)):S<=e.length?(_("最多只能输入12个字符"),y(!1)):(_(""),y(!0)),g(e)},onBlur:function(e){e=e.target.value;""===e.trim()?(_("输入框不能为空"),y(!1)):e.length===S&&(_(""),y(!0))},maxLength:S}),b().createElement("span",{className:"tip_text"},e))),b().createElement("div",{className:"content_item"},b().createElement("span",{className:"type_name"},"功能模块"),b().createElement("span",{className:"type_select"},b().createElement(N.RS,{disabled:c,className:C?"error":"",tags:!1,onChange:function(e){C&&E(""),k("type",e)},value:m,optionLabelProp:"label",optionFilterProp:"label",placeholder:"请选择"},r.map(function(e,t){return b().createElement(N.Wx,{key:t,value:e.id,label:e.name,disabled:1===e.status},e.name)})),b().createElement("span",{className:"tip_text"},C))),b().createElement("div",{className:"content_item"},b().createElement("span",{className:"tree_name"},"树层级"),b().createElement("span",null,b().createElement(N.RS,{disabled:c,tags:!1,onChange:function(e){return k("tree",e)},value:d,optionLabelProp:"label",optionFilterProp:"label"},i.map(function(e,t){return b().createElement(N.Wx,{key:t,value:e.id,label:e.name},e.name)})))))};var s=n(5133),u=n(36144);const c=function(e){function t(t){u.h.post("/overall/aspect/tree/delete",{id:r,projectId:o}).then(function(e){2e4===e.data.code&&(t({result:"success"}),s.Z.success("删除成功"),l({keyword:c}))}).catch(function(e){420017===e.data.code&&y.delete({titleText:"提示",content:"该指标树是「"+a+"」模块的最后一颗指标树，不支持删除",onOk:function(){},okText:"知道了",className:"yt_aspect_tree_model_wrapper"}),t({result:"failed"})})}var n=e.deleteText,a=e.module,r=e.id,o=e.projectId,i=e.setParams,l=e.fetchTreeList,c=e.keyword;return b().useEffect(function(){i({confirmRun:t})},[]),b().createElement("div",{className:"aspect_tree_delete_text",style:{fontSize:14}},n)};var d=n(57522);const y={folder:function(e){var n=o()({},e,{titleText:(e.id?"重命名":"新建")+"指标树",titleHelp:b().createElement("a",{style:{color:"#0847a6"},href:"https://www.yuque.com/docs/share/81b0f257-2352-4fa8-abc7-d63ca9167f0e?# 《「指标树」功能说明》",target:"_blank",rel:"noopener noreferrer"},"了解更多"),content:b().createElement(l,e)});return n.onOk?(0,d.Z)(n):new Promise(function(e,t){n.onOk=e,n.onCancel=t,(0,d.Z)(n)})},delete:function(e){var n=o()({},e,{dialogType:"danger",titleText:e.titleText,showClose:!1,content:e.content||b().createElement(c,e)});return n.onCancel?new Promise(function(e,t){n.onOk=e,n.onCancel=t,(0,d.Z)(n)}):(0,d.Z)(n)}};var t=n(93913),p=n.n(t),_=n(43036),C=n(2271);const E=function(t){function e(e){var l=t.call(this,e)||this;return l._handleOnControlClick=function(e,t){var n=l.props,a=n.typeNameList,r=n.treeTypeList,o=n.onEditTree,i=n.fetchTreeList,n=n.keyword;"edit"===e?w.mW.push({pathname:"/account/project/aspectSystem/tree/edit",state:{id:t.id,name:t.name}}):"delete"===e?y.delete({id:t.id,module:t.module,fetchTreeList:i,keyword:n,projectId:g.t.get(g.V.curProject).id,titleText:"确定要删除「"+t.name+"的"+t.module+"」指标树？",onCancel:function(){},deleteText:"如果有用户在前台使用该指标树，会影响其使用，请慎重操作",onOk:function(e){e.result},okText:"确定",className:"yt_aspect_tree_model_wrapper"}):"rename"===e&&y.folder({name:t.name,id:t.id,onEditTree:o,typeNameList:a,treeType:t.level,typeName:t.module,treeTypeList:r})},l.state={},l.columns=[{label:"指标树名称",prop:"name",width:150,fixed:"",checked:!0},{label:"功能模块",prop:"module",width:100,fixed:"",checked:!0},{label:"树层级",prop:"level",width:100,fixed:"",checked:!0},{label:"操作",prop:"control",width:150,fixed:"right",checked:!0}],l.prefixColumns=[{label:"",width:16,fixed:"left"}],l.headerRenders={level:function(e){return b().createElement(b().Fragment,null,"树层级",b().createElement(_.Z,{placement:"top",overlay:b().createElement("div",{style:{maxWidth:216}},"「树层级」包含作为末级的「全局指标」，但不包含作为模块的根节点",b().createElement("div",{style:{marginTop:14,textAlign:"right"}},b().createElement(w.rU,{className:"yt-feedback-read-more",to:"https://www.yuque.com/docs/share/81b0f257-2352-4fa8-abc7-d63ca9167f0e?# 《「指标树」功能说明》",target:"_blank"},"了解更多")))},b().createElement("span",{style:{marginLeft:4}},b().createElement("i",{className:"icon-cem_file1"}))))}},l}return i()(e,t),e.prototype.render=function(){var e=this.props,t=e.data,n=(e.option.width,e.onPageChange),e=e.onPageSizeChange;return b().createElement(b().Fragment,null,b().createElement(C.Z,o()({},this.props,{data:t&&t.list instanceof Array?t.list:[],rowKeyProp:"id",prefixColumns:this.prefixColumns,columns:this.columns,headerReanders:this.headerRenders,columnRenders:this.columnRenders,total:t?t.total:0,onPageChange:n,onPageSizeChange:e,savedKey:"PROJECT_ASPECTSYSTEM_TREE"})))},p()(e,[{key:"columnRenders",get:function(){var a=this;return{control:function(e,t,n){return b().createElement(b().Fragment,null,b().createElement("span",{style:{marginRight:12},className:"col-control",onClick:function(){return a._handleOnControlClick("edit",e)}},"编辑"),b().createElement("span",{style:{marginRight:12},className:"col-control",onClick:function(){return a._handleOnControlClick("rename",e)}},"重命名"),b().createElement("span",{className:"col-control",onClick:function(){return a._handleOnControlClick("delete",e)}},"删除"))}}}}]),e}(b().PureComponent);var k=[1,2,3,4,5,6].map(function(e){return{id:e,name:e}});const O=function(e){var t=e.name,n=e.loading,a=e.pageIndex,r=e.pageSize,o=e.moduleList,i=e.typeNameList,l=e.data,c=e.onEditTree,s=e.onPageChange,u=e.onPageSizeChange,d=e.contentWidth,p=e.onFilterChange,e=e.fetchTreeList;return b().createElement("div",{className:"yt_productExperience_aspectSystem_tree_list_wrapper"},b().createElement(m.Z,{title:[{title:"所有项目",url:"/account/project"},{title:g.t.get(g.V.backProjectConfig).name,url:"/account/project/preview"},{title:"指标树",url:""}]}),b().createElement("div",{id:"content"},b().createElement("div",{className:"tree_list"},b().createElement("div",{className:"top"},b().createElement(h.Z,{placeholder:"搜索指标名称",defValue:t,onSearch:function(e){return p({name:e})},onClear:function(e){return p({name:e})},style:{width:168}}),b().createElement(f.Z,{title:"功能模块",options:i,value:o,onChange:function(e){return p({moduleList:e})}}),b().createElement(v.Button,{type:"primary",onClick:function(){return y.folder({onEditTree:c,typeNameList:i,treeTypeList:k})}},"新建指标树")),b().createElement(E,{keyword:t,fetchTreeList:e,onEditTree:c,typeNameList:i,treeTypeList:k,data:l,loading:n,pageIndex:a,pageSize:r,option:{width:d},onPageChange:s,onPageSizeChange:u}))))};var n=n(55609),P=a.Z.productExperience.aspectSystem.tree,a=function(t){function e(e){var a=t.call(this,e)||this;return a._handleOnEditTree=function(e){a.props.editTree(e)},a._handleOnFilterChange=function(e){var t=a.props,n=t.name,t=t.moduleList;e.moduleList?a.props.fetchTreeList({moduleList:e.moduleList,name:n}):void 0!==e.name&&a.props.fetchTreeList({name:e.name,moduleList:t})},a._handleOnPageChange=function(e){var t=a.props,n=t.name;(0,t.fetchTreeList)({pageIndex:e,name:n})},a._handleOnPageSizeChange=function(e){var t=a.props,n=t.name;(0,t.fetchTreeList)({pageSize:e,pageIndex:1,name:n})},a.state={contentWidth:0,projectId:g.t.get(g.V.backProjectConfig).id},a.event={onFilterChange:a._handleOnFilterChange,onEditTree:a._handleOnEditTree,onPageChange:a._handleOnPageChange,onPageSizeChange:a._handleOnPageSizeChange},a}i()(e,t);var n=e.prototype;return n.componentDidMount=function(){var e=this.state.projectId;this.props.fetchTreeList({projectId:e}),this.props.fetchModuleNameList({projectId:e})},n.componentWillUnmount=function(){this.props.clean()},n.render=function(){return b().createElement(O,o()({},this.props,this.state,this.event))},e}(b().Component);const T=(0,n.connect)(function(e){var t=e.loading,e=r()(e,["loading"]);return o()({},e[P],{loading:t.effects[name+"/fetchTreeList"]||!1})},function(t){return{save:function(e){return t({type:P+"/save",payload:e})},clean:function(e){return t({type:P+"/clean",payload:e})},fetchTreeList:function(e){return t({type:P+"/fetchTreeList",payload:e})},fetchModuleNameList:function(e){return t({type:P+"/fetchModuleNameList",payload:e})},editTree:function(e){return t({type:P+"/editTree",payload:e})}}})(a)},61918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var t=n(67294),u=n.n(t),t=n(45697),n=n.n(t),t=function(e){var t=e.className,n=e.onClear,a=e.onSearch,r=e.placeholder,o=e.style,i=e.defValue,l=e.signal,e=u().useState(i),c=e[0],s=e[1];u().useEffect(function(){s(i)},[i,l]);return u().createElement("div",{style:o,className:"yt_search_input_wrapper "+(t||"")},u().createElement("input",{placeholder:r,value:c,onKeyDown:function(e){13===e.keyCode&&a(c)},onChange:function(e){return s(e.target.value)},autoComplete:"off"}),c&&u().createElement("i",{className:"icon-cem_log-off",onClick:function(){s(""),n&&n("")}}),u().createElement("i",{className:"icon-cem_small-search",onClick:function(){return a(c)}}))};t.propTypes={className:n().string,onSearch:n().func.isRequired,placeholder:n().string,style:n().object,defValue:n().string,signal:n().any,onClear:n().func};const a=t},2271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var a=n(37316),p=n.n(a),t=n(67154),m=n.n(t),a=n(93913),r=n.n(a),t=n(85354),o=n.n(t),a=n(23279),i=n.n(a),t=n(67294),h=n.n(t),f=n(92360),s=n(35303),a=n(45697),t=n.n(a),u=[{label:"10项/页",value:10},{label:"20项/页",value:20},{label:"40项/页",value:40},{label:"100项/页",value:100}];const g=function(e){var t=e.onPageChange,n=e.onSizeChange,a=e.total,r=void 0===a?0:a,o=e.pageIndex,i=e.pageSize,l=e.currLength,c=e.layout,a=e.className,e=0===r?0:(o-1)*i+1,l=0===r?0:e+l-1;return 0===r?null:h().createElement("div",{className:"yt-awp-pagination "+(a||"")},h().createElement("span",{className:"total_num"},h().createElement("span",null,e+" - "+l+" "),"项，共",h().createElement("span",null," "+r+" "),"项"),h().createElement("div",{style:{textAlign:"right",float:"right"},className:"new_pagination"},h().createElement(f.Pagination,{small:!0,pageSize:i,currentPage:o,pageCount:Math.ceil(r/i),layout:0===r?"":"prev, pager, next",onCurrentChange:t}),void 0===c||c.includes("sizes")?h().createElement(s.RS,{multiple:!1,tags:!1,showSearch:!1,optionFilterProp:"label",optionLabelProp:"label",animation:"slide-up",dropdownClassName:"custom-pagination-dropdown",value:i||10,onChange:n},u.map(function(e,t){return h().createElement(s.Wx,{key:t,label:e.label,value:e.value},e.label)})):null))};t().propTypes={onPageChange:t().func,onSizeChange:t().func,total:t().number,pageIndex:t().number,pageSize:t().number,currLength:t().number,layout:t().string,className:t().string};var v=n(8201),a=n(48926),l=n.n(a),a=n(87757),c=n.n(a),d=n(36144);function y(){return(y=l()(c().mark(function e(t){var n,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.key,e.abrupt("return",d.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(){return(_=l()(c().mark(function e(t){var n,a,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,r=t.key,e.abrupt("return",d.h.post("/default/value/update",{projectId:n,key:r,value:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var C=n(39432),E=n(43036),k=n(51474),b=n(87219),a=function(t){function e(e){var s=t.call(this,e)||this;return s._setShowFalse=function(){s.setState({show:!1})},s._handleParentClick=function(e){s.state.show&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())},s._handleOnTriggerClick=function(){setTimeout(function(){s.setState({show:!s.state.show})},0)},s._renderOptionItem=function(t,e,n,a,r,o){var i=s.state.maxLabelWidth,l=s.props,c=l.value,l=l.savedKey,c=c.find(function(e){return e.prop===t.prop});return h().createElement("div",{className:"opt_item "+(e?"draggable":""),key:t.prop},e&&h().createElement("i",{className:"icon-cem_move my_handle"}),h().createElement("div",{className:"opt_content",style:{width:i,marginLeft:e?0:12}},h().createElement("div",{className:"item_label",onClick:function(e){e.stopPropagation(),s._handleOnItemClick(t.prop)}},h().createElement("span",{className:"icon_checkbox "+(c&&c.checked?"checkbox_checked":"")}),h().createElement("span",null,t.label)),h().createElement("div",{className:"item_control",style:{display:"product_setting_link"===l?"none":"block"}},h().createElement(E.Z,{placement:"top",overlay:n},h().createElement("span",{onClick:function(e){return a(e,t.prop)}},h().createElement("i",{className:(e?"icon-cem_up":"icon-cem_up-and-down")+" fun_icon_a"}))),h().createElement(E.Z,{placement:"top",overlay:r},h().createElement("span",{onClick:function(e){return o(e,t.prop)},style:{marginLeft:4}},h().createElement("i",{className:"icon-cem_down fun_icon_b"}))))))},s._handleOnItemClick=function(t){var e=s.props,n=e.value,e=e.onChange;e&&e((0,b.ZP)(n,function(e){e=e.find(function(e){return e.prop===t});e&&(e.checked=!e.checked)}))},s._handleOnFilxedLeftClick=function(e,t){e.stopPropagation(),s._handleOnFixedChange(t,"left")},s._handleOnCancelFixedClick=function(e,t){e.stopPropagation(),s._handleOnFixedChange(t,"")},s._handleOnFixedRightClick=function(e,t){e.stopPropagation(),s._handleOnFixedChange(t,"right")},s._handleOnFixedChange=function(t,n){var e=s.props,a=e.value,e=e.onChange;e&&e((0,b.ZP)(a,function(e){e=e.find(function(e){return e.prop===t});e&&(e.fixed=n)}))},s.state={show:!1,value:[],leftOpts:[],normalOpts:[],rightOpts:[],maxLabelWidth:e.value.reduce(function(e,t){return Math.max((0,C.jD)(t.label,14)+56+16+16,e)},0)},s}o()(e,t),e.getDerivedStateFromProps=function(a,e){if(JSON.stringify(a.value)===JSON.stringify(e.value))return null;var t=a.value.reduce(function(e,t){var n=1;return"left"===t.fixed&&(n=0),e[n="right"===t.fixed?2:n].push(a.value.find(function(e){return e.prop===t.prop})),e},[[],[],[]]),n=t[0],e=t[1],t=t[2];return{value:a.value,leftOpts:n,normalOpts:e,rightOpts:t,maxLabelWidth:a.value.reduce(function(e,t){return Math.max((0,C.jD)(t.label,14)+56+16+16,e)},0)}};var n=e.prototype;return n.componentDidMount=function(){var i=this;window.addEventListener("click",this._setShowFalse);var e=document.querySelectorAll("#draggable_zone");e.length&&e.forEach(function(e){k.ZP.create(e,{group:"draggable_zone",animation:150,filter:".undraggable",draggable:".draggable",handle:".my_handle",onEnd:function(e){var t=i.props,n=t.value,a=t.onChange,r=e.newIndex,o=e.oldIndex;r!==o&&(t=n.filter(function(e){return"left"===e.fixed}),e=n.filter(function(e){return"right"===e.fixed}),n=(0,b.ZP)(n.filter(function(e){return!e.fixed}),function(e){var t=e.splice(o,1)[0];e.splice(r,0,t)}),a&&a([].concat(t,n,e)))}})})},n.componentWillUnmount=function(){window.removeEventListener("click",this._setShowFalse)},n.render=function(){var t=this,e=this.state,n=e.show,a=e.leftOpts,r=e.normalOpts,o=e.rightOpts,i=this.props,e=i.className,i=i.title;return h().createElement("div",{className:"yt_columns_selector_wrapper "+(e||""),onClick:this._handleParentClick},h().createElement("div",{className:"trigger "+(n?"sel":""),onClick:this._handleOnTriggerClick},i||"列",h().createElement("i",{className:"icon-cem_arrow-launches",style:{transform:n?"rotate(-180deg)":""}})),h().createElement("div",{className:"options "+(n?"active":"")},0<a.length&&h().createElement(h().Fragment,null,h().createElement("div",{className:"opt_label"},"固定在左侧"),a.map(function(e){return t._renderOptionItem(e,!1,"不固定",t._handleOnCancelFixedClick,"固定在列尾",t._handleOnFixedRightClick)})),(0<a.length||0<o.length)&&h().createElement("div",{className:"opt_label"},"不固定"),h().createElement("div",{id:"draggable_zone",style:{visibility:0<r.length}},r.map(function(e){return t._renderOptionItem(e,!0,"固定在列头",t._handleOnFilxedLeftClick,"固定在列尾",t._handleOnFixedRightClick)})),0<o.length&&h().createElement(h().Fragment,null,h().createElement("div",{className:"opt_label"},"固定在右侧"),o.map(function(e){return t._renderOptionItem(e,!1,"不固定",t._handleOnCancelFixedClick,"固定在列头",t._handleOnFilxedLeftClick)}))))},e}(h().PureComponent);const x=a;a.propTypes={className:t().string,title:t().string,value:t().arrayOf(t().shape({label:t().string,prop:t().string,fixed:t().string,checked:t().bool})),onChange:t().func};var N=n(35239),a=function(t){function e(e){var n=t.call(this,e)||this;return n._handleOnResize=function(){var e=document.querySelector(".yt-listview-wrapper");e&&n.setState({tableWidth:e.clientWidth-5})},n._handleOnColumnsChange=function(e){n.setState({columns:e},function(){n.props.savedKey&&!function(){return _.apply(this,arguments)}({projectId:N.t.get(N.V.curProject).id,key:n.props.savedKey,value:JSON.stringify(e.map(function(e){return{prop:e.prop,checked:e.checked,fixed:e.fixed}}))}).then(function(e){e.data})})},n.handleRoKey=function(e){var t=n.props.rowKeyProp;return t&&e&&e[t]?e[t]:JSON.stringify(e)},n.state={talbeWidth:0,columns:e.columns||[],loadingSave:!0},n}o()(e,t),e.getDerivedStateFromProps=function(e,t){};var n=e.prototype;return n.componentDidMount=function(){var n=this;window.addEventListener("resize",i()(this._handleOnResize,150)),this._handleOnResize();var e=this.props,t=e.savedKey,r=e.columns;t&&!function(){return y.apply(this,arguments)}({projectId:N.t.get(N.V.curProject).id,key:t}).then(function(e){var t,a=e.data;if(2e4===a.code)try{t=r.map(function(t,e){var n=JSON.parse(a.result).filter(function(e){e=e.prop;return t.prop===e});return n&&0<n.length?m()({},t,n[0]):t}).filter(function(e){return e})}catch(e){}finally{n.setState({columns:t||n.state.columns,loadingSave:!1})}})},n.componentWillUnmount=function(){window.removeEventListener("resize",this._handleOnResize)},n.componentDidUpdate=function(e,t){var r=this;JSON.stringify(e.columns)!==JSON.stringify(this.props.columns)&&0<this.props.columns.length&&this.setState({columns:this.props.columns.reduce(function(e,t,n){var a=r.state.columns.findIndex(function(e){e=e.prop;return t.prop===e});return e.splice(-1<a?a:n,0,m()({},t,r.state.columns[a])),e},[]).filter(function(e){return e})})},n.render=function(){var e=this.props,t=e.data,n=e.total,a=void 0===n?0:n,r=e.loading,o=e.savedKey,i=e.pageIndex,l=e.pageSize,c=e.onPageChange,s=e.onPageSizeChange,u=e.className,d=void 0===u?"":u,n=p()(e,["data","total","loading","savedKey","pageIndex","pageSize","onPageChange","onPageSizeChange","className"]),u=this.state,e=u.columns,u=u.loadingSave;return h().createElement(v.Z,{data:t,className:"yt-listview-wrapper "+d,loading:o&&u||r},(0,v.P)(t)&&h().createElement(h().Fragment,null,h().createElement(f.Table,m()({},n,{columns:(o?this:this.props).columns,data:t,rowKey:this.handleRoKey})),c&&h().createElement(g,{onPageChange:c,onSizeChange:s,total:a,currLength:t.length,pageIndex:i,pageSize:l}),o&&h().createElement(x,{className:"column_selector",value:e,savedKey:o,onChange:this._handleOnColumnsChange})))},r()(e,[{key:"columns",get:function(){var t,e=this.state,n=e.tableWidth,a=e.columns,r=this.props,e=r.columnRenders,o=void 0===e?{}:e,e=r.headerRenders,i=void 0===e?{}:e,r=r.prefixColumns,l=0,c=0,s=0,a=[].concat(void 0===r?[]:r,JSON.parse(JSON.stringify(a.filter(function(e){e=e.checked;return void 0===e||e}))));return a.forEach(function(e){s+=e.width,e.fixed?l+=e.width:c+=e.width;var t=o[e.prop];t&&(e.render=t);t=i[e.prop];t&&(e.renderHeader=t)}),s<n&&(t=n-l,a.forEach(function(e){void 0!==e.checked&&!e.checked||e.fixed||(e.width=e.width/c*t)})),a}}]),e}(h().PureComponent);a.propTypes={className:t().string,savedKey:t().string.isRequired,rowKeyProp:t().string,data:t().any.isRequired,total:t().number,fixedHeight:t().bool,loading:t().bool,pageIndex:t().number,pageSize:t().number,onPageChange:t().func,onPageSizeChange:t().func,columnRenders:t().shape(((n={})[t().string]=t().func,n)),headerRenders:t().shape(((n={})[t().string]=t().func,n)),prefixColumns:t().arrayOf(t().shape({label:t().string,prop:t().string,fixed:t().oneOf(["","left","right"]),width:t().number,checked:t().bool})),columns:t().arrayOf(t().shape({label:t().string,prop:t().string,fixed:t().oneOf(["","left","right"]),width:t().number,checked:t().bool})).isRequired};const w=a}}]);
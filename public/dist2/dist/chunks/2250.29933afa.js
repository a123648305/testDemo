(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[2250],{98542:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-02cb3c"},7388:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-f5303e"},32475:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-2b48f3"},86566:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-c63711"},91761:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-e76e4f"},2603:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"html-cb3e2f"},72250:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var t=n(81506),c=n.n(t),t=n(85354),i=n.n(t),t=n(67294),s=n.n(t),o=n(5133),r=n(29383),l=n(36144),u=n(88308),m=n(12518),d=n(61409),p={USER:{name:"用户",des:"添加和管理用户，切换用户角色。",img:n(2603),route:"/account/user"},ROLE:{name:"角色",des:"通过角色统一控制用户的权限。",img:n(98542),route:"/account/role"},TEAM:{name:"团队",des:"用户属于一个或多个团队。",img:n(32475),route:"/account/team"},PROJECT:{name:"项目",des:"添加和管理项目，配置项目主题，配置项目分析模型等。",img:n(86566),route:"/account/project"},CONNECTION:{name:"链接",des:"添加和管理链接，给链接配置扩展信息赋值，移动复制链接等。",img:n(7388),route:""},MESSAGE_ROUTE:{name:"消息处理规则",des:"通过消息处理规则可以将消息分配给用户处理。",img:n(91761),route:"/account/project/messageRule"}},a=function(a){function e(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(i=a.call.apply(a,[this].concat(t))||this).state={accountName:"",expirationTime:"2019-07-31",columns:[{label:"名称",prop:"name",className:"name",width:298,render:function(e,t,n){var a=p[e.content];return a&&s().createElement("div",{className:"account-col",onClick:i.changeRoute.bind(c()(i),a.route)},s().createElement("div",{className:"account-icon"},a.img?s().createElement("img",{src:a.img,alt:""}):s().createElement("span",null)),s().createElement("span",{className:a.route?"account-name":"account-name-no-url"},a.name||e.content))}},{label:"使用量",prop:"usageAmount",width:324,render:function(e,t,n){return e.used+"/"+e.topLimit}},{label:"描述",prop:"describe",render:function(e,t,n){e=p[e.content];return e&&e.des}}],data:[]},i.getList=function(e){l.h.get("/account/basic_info/list",{}).then(function(e){var t=e.data.result,n=t.resource,e=t.name,t=t.expireTime;n.splice(6,1),i.setState({expireTime:t,accountName:e,data:n})})},i.changeRoute=function(e){e&&d.mW.push(e)},i}i()(e,a);var t=e.prototype;return t.componentDidMount=function(){this.getList()},t.closeInput=function(t){var n=this;l.h.post("/account/account_name/update",{newName:t}).then(function(e){o.Z.success("修改成功"),n.setState({accountName:t})})},t.render=function(){var t=this,e=this.state,n=e.accountName,a=e.expireTime,i=e.columns,c=e.data,e=document.documentElement.clientHeight-46-48-24;return s().createElement("div",{className:"common-wrapper"},s().createElement(m.Z,{title:"权益概览"}),s().createElement("div",{className:"common-padding-12"},s().createElement("div",{className:"account-container",style:{minHeight:e,backgroundColor:"#fff"}},s().createElement("ul",{className:"info-list"},s().createElement("li",{className:"info-item"},s().createElement("span",{className:"info-name"},"账户名称"),s().createElement(u.Z,{className:"info-value",id:"editName",value:n,name:"账户名称",confirm:function(e){return t.closeInput(e)}})),s().createElement("li",{className:"info-item"},s().createElement("span",{className:"info-name"},"账户到期日期"),s().createElement("span",{className:"info-value",style:{paddingLeft:"10px"}},a))),s().createElement(r.Z,{columns:i,data:c}))))},e}(t.Component)},88308:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(85354),i=n.n(a),c=n(67294),l=n.n(c),t=n(45697),a=n.n(t),u=n(5133),m=n(43036),t=n(94184),d=n.n(t),t={value:a().string,id:a().any.isRequired,enter:a().bool,blurFun:a().func,name:a().string,empty:a().bool,placeholder:a().string,type:a().string,confirmNoChange:a().func},a={value:"",enter:!0,name:"名称",empty:!1,placeholder:"",cancel:function(e,t){console.log("取消")},confirm:function(e,t){console.log("确定后的value:"+e)},type:"normal"},c=function(n){function e(e){var t=n.call(this,e)||this;t.enter=function(e){t.props.enter&&13===e.keyCode&&t.confirmEdit()};e=t.props.value;return t.state={isEdit:!1,curValue:e||"",lastVal:e||"",hover:!1,canEdit:!1},t}i()(e,n);var t=e.prototype;return t.UNSAFE_componentWillReceiveProps=function(e){var t=this;e.value!==this.state.lastVal&&e.value&&this.setState({curValue:e.value,lastVal:e.value}),!0!==e.canEdit||this.state.canEdit||this.setState({canEdit:!0},function(e){t.toEdit()})},t.componentDidMount=function(){var a=this;document.body.addEventListener("click",function(e){var t=e.target||window.event.srcElement,n=a.props.className,e="edit-input-wrap";!function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&!n.call(e,t);)e=e.parentElement;return e}(t,"."+(e=n?n.split(" ")[0]:e))&&a.cancelEdit()})},t.changeName=function(){var e=this.props.id,e=document.getElementById(e).value;this.setState({curValue:e})},t.toEdit=function(){var e=this.state,t=e.isEdit,n=(e.canEdit,this.props.id);t||this.setState({isEdit:!0,hover:!0},function(e){var t=document.getElementById(n);setTimeout(function(){t.focus()})})},t.checkEdit=function(){"normal"===this.props.type&&this.toEdit()},t.cancelEdit=function(){var e=this.state,t=e.curValue,n=e.lastVal,a=e.isEdit,e=e.canEdit,i=this.props.cancel;a&&(e&&this.setState({canEdit:!1}),this.setState({isEdit:!1,hover:!1,curValue:n},function(e){i&&i(t,n)}))},t.borderShow=function(){var e=this.state.hover;"normal"!==this.props.type||e||this.setState({hover:!0})},t.borderHide=function(){var e=this.state,t=e.hover,e=e.isEdit;"normal"===this.props.type&&t&&!e&&this.setState({hover:!1})},t.confirmEdit=function(){var e=this.state,t=e.curValue,n=e.lastVal,a=e.canEdit,i=this.props,c=i.confirm,s=i.id,o=i.name,r=i.empty,e=i.confirmNoChange,i=i.inputType,l=document.getElementById(s);""!==String(t).replace(/\s/g,"")||r||"remark"===i?(""===String(t).replace(/\s/g,"")&&r||"remark"==i?(this.setState({isEdit:!1,hover:!1,lastVal:t},function(e){l.blur()}),c&&c(t,n)):n===t?this.setState({isEdit:!1,hover:!1},function(e){l.blur()}):(this.setState({isEdit:!1,hover:!1,lastVal:t},function(e){l.blur()}),c&&c(t,n)),a&&(e&&e(t),this.setState({canEdit:!1}))):(u.Z.warning(o+"不能为空"),this.setState({curValue:n},function(e){l.focus()}))},t.render=function(){var e=this.props,t=e.id,n=e.style,a=e.className,i=e.placeholder,c=this.state,s=c.isEdit,o=c.curValue,r=c.hover,e=d()(["edit-input-wrap",a]),c=d()(["edit-input-cont",{hover:r,"is-edit":s}]),a=d()(["edit-input",{disabled:!s}]);return l().createElement("div",{className:e,style:n},l().createElement("div",{className:c,onMouseEnter:this.borderShow.bind(this),onMouseLeave:this.borderHide.bind(this),onClick:this.checkEdit.bind(this)},l().createElement("input",{id:t,className:a,type:"text",value:o,title:o,placeholder:i,style:n,disabled:!s,onInput:this.changeName.bind(this),onKeyDown:this.enter.bind(this)}),r&&!s&&l().createElement(m.Z,{placement:"top",overlay:"编辑"},l().createElement("div",{className:"btn-wrap",title:"编辑"},l().createElement("i",{className:"name-edit edit-btn icon-cem_edit"}))),r&&s&&l().createElement("div",{className:"btn-wrap"},l().createElement(m.Z,{placement:"top",overlay:"取消"},l().createElement("i",{className:"cancel-edit edit-btn icon-cem_delete",onClick:this.cancelEdit.bind(this),title:"取消"})),l().createElement(m.Z,{placement:"top",overlay:"确认"},l().createElement("i",{className:"confirm-edit edit-btn icon-cem_check-out",onClick:this.confirmEdit.bind(this),title:"确认"})))))},e}(c.Component);c.propTypes=t,c.defaultProps=a;const s=c}}]);
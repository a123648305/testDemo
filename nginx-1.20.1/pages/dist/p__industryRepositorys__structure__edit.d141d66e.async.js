(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{FVdx:function(e,a,t){e.exports={editMain:"editMain___t2oGb",footer:"footer___35jCQ"}},LKHg:function(e,a,t){e.exports={inputTagMain:"inputTagMain___2nDd8",tags:"tags___2O_uk"}},jTXB:function(e,a,t){"use strict";t.r(a);t("+L6B");var n=t("2/Rp"),l=t("0Owb"),r=(t("OaEy"),t("2fM7")),c=(t("y8nQ"),t("Vl3Y")),o=(t("5NDa"),t("5rEg")),u=(t("Q9mQ"),t("diRs")),i=t("tJVT"),s=t("k1fw"),d=t("fWQN"),m=t("mtLc"),p=t("yKVA"),v=t("879j"),h=t("q1tI"),b=t.n(h),f=t("Hx5s"),O=t("9kvl"),E=(t("+BJd"),t("mr32")),y=t("rfrl"),_=t("LKHg"),g=t.n(_),k=function(e){Object(p["a"])(t,e);var a=Object(v["a"])(t);function t(e){var n;return Object(d["a"])(this,t),n=a.call(this,e),n._handleOnPressEnter=function(e){var a=e.target.value,t=n.props.onChange,l=n.state.value,r=void 0===l?[]:l,c=Object(y["a"])(r,(function(e){e.includes(a)||e.push(a)}));n.setState({value:c,inputVal:""}),t&&t(c)},n._handleOnClose=function(e){var a=n.props.onChange,t=n.state.value,l=void 0===t?[]:t,r=(null===l||void 0===l?void 0:l.filter((function(a){return a!==e})))||[];n.setState({value:r}),a&&a(r)},n._handleOnChange=function(e){n.setState({inputVal:e.target.value})},n.state={value:e.value||[],inputVal:""},n}return Object(m["a"])(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.value,n=void 0===t?[]:t,l=a.inputVal;return b.a.createElement("div",{className:g.a.inputTagMain},b.a.createElement(o["a"],{value:l,placeholder:"\u8f93\u5165\u540e\u6309\u56de\u8f66",onChange:this._handleOnChange,onPressEnter:this._handleOnPressEnter}),b.a.createElement("div",{className:g.a.tags},n.map((function(a){return b.a.createElement(E["a"],{key:a,closable:!0,onClose:function(){return e._handleOnClose(a)}},a)}))))}}]),t}(h["PureComponent"]),C=k,T={labelCol:{xs:{span:1},sm:{span:2}},wrapperCol:{xs:{span:12},sm:{span:6}}},j=t("55Ip"),S=t("FVdx"),I=t.n(S),V=t("Lyp1"),w=[{label:"\u5b57\u7b26\u4e32",value:"STRING"},{label:"\u6570\u503c",value:"NUMBER"},{label:"\u65e5\u671f",value:"DATE"}],N=[{label:"\u5355\u4e3b\u9898\u503c",value:"SINGLE"},{label:"\u591a\u4e3b\u9898\u503c",value:"MULTI"}],L=[{label:"\u5c55\u793a\u7ed9\u7528\u6237",value:"SHOW"},{label:"\u4e0d\u5c55\u793a\u7ed9\u7528\u6237",value:"NOT_SHOW"}],R=function(e){Object(p["a"])(t,e);var a=Object(v["a"])(t);function t(e){var n,l;Object(d["a"])(this,t),l=a.call(this,e),l.formRef=b.a.createRef(),l._handleOnOk=function(e){var a,t=l.state,n=t.id,r=t.topicType,c=t.industryId,o=l.props,u=o.updateTopic,i=o.addTopic;null===(a=l.formRef)||void 0===a||a.current.validateFields().then((function(a){void 0!==n?u(Object(s["a"])(Object(s["a"])({},a),{},{id:n,callback:function(){e&&O["d"].goBack()}})):i(Object(s["a"])(Object(s["a"])({},a),{},{industryId:c,topicType:r,callback:function(a){e?O["d"].goBack():l.setState({id:a})}}))}))},l._handleOnCancel=function(){O["d"].goBack()},l._handleOnFieldsChange=function(e){var a=Object(i["a"])(e,1),t=a[0];if(t){var n=l.state.mValueOpts;"valueType"===t.name[0]&&"DATE"===t.value?l.setState({mValueOpts:N.filter((function(e){return"SINGLE"===e.value}))},(function(){var e;null===(e=l.formRef)||void 0===e||e.current.setFieldsValue({valueCheckbox:"SINGLE"})})):1===n.length&&l.setState({mValueOpts:N})}},l._renderLabel=function(e,a){return b.a.createElement(b.a.Fragment,null,b.a.createElement(u["a"],{placement:"top",content:a},b.a.createElement(V["a"],{style:{marginRight:8,color:"#8c8c8c"}})),e)};var r=null===(n=e.location)||void 0===n?void 0:n.state;return l.state=Object(s["a"])(Object(s["a"])({},r),{},{mValueOpts:N}),l}return Object(m["a"])(t,[{key:"componentDidMount",value:function(){var e,a=this,t=this.props,n=t.location,l=t.fetchValue;n.state&&n.state.id&&l({id:null===(e=n.state)||void 0===e?void 0:e.id}).then((function(e){2e4===e.code&&a.setState(Object(s["a"])({},e.result))}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.name,u=void 0===t?"":t,i=a.keyword,s=void 0===i?[]:i,d=a.valueType,m=void 0===d?"STRING":d,p=a.valueCheckbox,v=void 0===p?"SINGLE":p,h=a.mValueOpts,O=a.showUser,E=void 0===O?"SHOW":O,y=a.breadRoutes,_=a.width,g=void 0===_?"":_,k={routes:y.concat({breadcrumbName:u?"\u7f16\u8f91\u4e3b\u9898":"\u65b0\u5efa\u4e3b\u9898"}),itemRender:function(e,a,t,n){var l=t.indexOf(e)===y.length;return l?b.a.createElement("span",null,e.breadcrumbName):b.a.createElement(j["a"],{to:{pathname:e.path,state:e.state},style:{color:"rgba(0,0,0,0.65)"}},e.breadcrumbName)}};return b.a.createElement(f["b"],{breadcrumb:k,title:u?"\u7f16\u8f91\u4e3b\u9898":"\u65b0\u5efa\u4e3b\u9898"},b.a.createElement("div",{className:I.a.editMain},b.a.createElement(c["a"],Object(l["a"])({className:I.a.content,ref:this.formRef},T,{initialValues:{name:u,keyword:s,valueType:m,valueCheckbox:v,showUser:E,width:g},onFieldsChange:this._handleOnFieldsChange}),b.a.createElement(c["a"].Item,{label:"\u4e3b\u9898",name:"name",rules:[{required:!0,message:"\u4e3b\u9898\u503c\u4e0d\u80fd\u4e3a\u7a7a"}]},b.a.createElement(o["a"],{placeholder:"\u8bf7\u8f93\u5165\u4e3b\u9898\u503c"})),b.a.createElement(c["a"].Item,{label:this._renderLabel("\u5173\u952e\u8bcd","\u7cfb\u7edf\u57fa\u4e8e\u8bcd\u6761\u5e93\u5904\u7406\u65f6\uff0c\u4e0d\u533a\u5206\u82f1\u6587\u5927\u5c0f\u5199\u3002"),name:"keyword"},b.a.createElement(C,null)),b.a.createElement(c["a"].Item,{label:this._renderLabel("\u503c\u7c7b\u578b","\u8fd9\u4e2a\u8bbe\u7f6e\u5bf9\u4e8e\u7528\u6237\u901a\u8fc7\u754c\u9762\u7ef4\u62a4\u65f6\u8d77\u5230\u6821\u9a8c\u4f5c\u7528\u3002"),name:"valueType"},b.a.createElement(r["a"],{options:w})),b.a.createElement(c["a"].Item,{label:this._renderLabel("\u503c\u6570\u91cf","\u8fd9\u4e2a\u8bbe\u7f6e\u5bf9\u4e8e\u7528\u6237\u901a\u8fc7\u754c\u9762\u7ef4\u62a4\u65f6\u8d77\u5230\u6821\u9a8c\u4f5c\u7528\u3002"),name:"valueCheckbox"},b.a.createElement(r["a"],{options:h})),b.a.createElement(c["a"].Item,{label:this._renderLabel("\u504f\u597d","\u5e76\u4e0d\u662f\u6240\u6709\u7684\u4e3b\u9898\u90fd\u8981\u5c55\u793a\u7ed9\u7528\u6237\uff0c\u6bd4\u5982\u8fd8\u5728\u7ef4\u62a4\u4e2d\u7684\u4e3b\u9898\u53ef\u4ee5\u6682\u65f6\u4e0d\u5c55\u793a\uff0c\u5728\u7ef4\u62a4\u597d\u4e86\u5728\u5f00\u653e\u7ed9\u7528\u6237\u3002"),name:"showUser"},b.a.createElement(r["a"],{options:L})),b.a.createElement(c["a"].Item,{label:this._renderLabel("\u8868\u683c\u5217\u5bbd","\u5982\u679c\u8be5\u5b57\u6bb5\u8981\u5728\u76f8\u5e94\u7684\u5217\u8868\u4e2d\u5c55\u793a\uff0c\u8fd9\u4e2a\u914d\u7f6e\u9879\u53ef\u4ee5\u63a7\u5236\u201c\u5217\u5bbd\u201d\u3002\u4e3a\u7a7a\u65f6\uff0c\u6309\u9ed8\u8ba4\u5904\u7406\u3002"),name:"width",rules:[{pattern:/[4-9]|1[0-6]/,message:"\u8bf7\u8f93\u51654~16\u7684\u6574\u6570"}]},b.a.createElement(o["a"],{placeholder:"\u8bf7\u8f93\u5165\u8868\u683c\u5217\u5bbd"}))),b.a.createElement("div",{className:I.a.footer},b.a.createElement(n["a"],{onClick:this._handleOnCancel},"\u53d6\u6d88"),b.a.createElement(n["a"],{type:"primary",onClick:function(){return e._handleOnOk(!1)}},"\u4fdd\u5b58"),b.a.createElement(n["a"],{type:"primary",onClick:function(){return e._handleOnOk(!0)}},"\u4fdd\u5b58\u5e76\u8fd4\u56de"))))}}]),t}(h["PureComponent"]),x=function(e){var a=e.IndustryStructure,t=a.remoteState;return{remoteState:t}},M=function(e){return{updateTopic:function(a){return e({type:"IndustryStructure/updateTopic",payload:a})},addTopic:function(a){return e({type:"IndustryStructure/addTopic",payload:a})},fetchValue:function(a){return e({type:"IndustryStructure/fetchValue",payload:a})}}};a["default"]=Object(O["a"])(x,M)(R)}}]);
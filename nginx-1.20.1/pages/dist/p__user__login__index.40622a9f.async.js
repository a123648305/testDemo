(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[61],{"3T1H":function(e,t,a){"use strict";a.r(t);var n=a("k1fw"),r=a("0Owb"),o=a("fWQN"),i=a("mtLc"),c=a("yKVA"),s=a("879j"),l=a("q1tI"),u=a.n(l),m=a("9kvl"),d=(a("Znn+"),a("ZTPi")),p=(a("y8nQ"),a("Vl3Y")),h=(a("+L6B"),a("2/Rp")),f=a("tJVT"),w=a("55Ip"),g=(a("5NDa"),a("5rEg")),y=a("l244"),v=a("MGYb"),E=[],b=[],C=function(e){var t=e.required;return u.a.createElement(u.a.Fragment,null,u.a.createElement(p["a"].Item,{name:"username",rules:[{required:t,message:"\u8bf7\u8f93\u5165\u8d26\u53f7"}].concat(E)},u.a.createElement(g["a"],{size:"large",placeholder:"\u8d26\u53f7",prefix:u.a.createElement(y["a"],{style:{marginRight:8}})})),u.a.createElement(p["a"].Item,{name:"password",rules:[{required:t,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}].concat(b)},u.a.createElement(g["a"].Password,{size:"large",placeholder:"\u5bc6\u7801",prefix:u.a.createElement(v["a"],{style:{marginRight:8}})})))},O=C,_=a("H9yf"),j=a.n(_),k=function(e){var t=e.wechat;return u.a.createElement(u.a.Fragment,null,t.appId?u.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},u.a.createElement("div",{style:{position:"relative",height:280,width:280,overflow:"hidden"}},u.a.createElement("div",{style:{position:"absolute",top:-49,left:-10}},u.a.createElement(j.a,{option:{appid:t.appId,scope:t.scope,state:t.state,userServiceAPI:"".concat(t.redirectUri,"&failureUrl=").concat(window.location.href),userServiceParams:{},smartRedirect:window.location.host+"/new/account"},style:{width:"300px"}})))):u.a.createElement("div",null,"\u7f51\u7edc\u51fa\u73b0\u5f02\u5e38"))},I=k,N=a("Nxd6"),x=a.n(N),F=u.a.forwardRef((function(e,t){var a=e.onFinish,n=e.wechat,r=u.a.useState(window.location.hostname.includes("manager")?"qrcode":"password"),o=Object(f["a"])(r,2),i=o[0],c=o[1],s=function(e){a(e,i)};return u.a.createElement(p["a"],{onFinish:s,ref:t,className:x.a.main},u.a.createElement(d["a"],{onChange:c,className:x.a.tabStyle},!window.location.hostname.includes("manager")&&u.a.createElement(d["a"].TabPane,{tab:"\u5bc6\u7801\u767b\u5f55",key:"password"},u.a.createElement(O,{required:"password"===i}),u.a.createElement(p["a"].Item,null,u.a.createElement(h["a"],{size:"large",type:"primary",htmlType:"submit",className:x.a.commitButton},"\u767b\u5f55")),u.a.createElement("section",{className:x.a.register},u.a.createElement(w["a"],{to:"/user/register"},"\u6ce8\u518c\u8d26\u6237"))),u.a.createElement(d["a"].TabPane,{tab:"\u626b\u7801\u767b\u5f55",key:"qrcode"},u.a.createElement(I,{wechat:n}))))})),q=F,P=function(e){Object(c["a"])(a,e);var t=Object(s["a"])(a);function a(e){var n;return Object(o["a"])(this,a),n=t.call(this,e),n.events=void 0,n.handleOnFinishClick=function(e,t){var a,r=e.username,o=e.password,i=e.phone,c=e.smsCode,s=n.props.ref.current;"password"===t?a={type:t,form:s,params:{username:r,password:o}}:"phone"===t&&(a={type:t,form:s,params:{phone:i,smsCode:c}}),n.props.userlogin(a)},n.handleOnCodeClick=function(){var e=n.props,t=e.ref.current,a=e.fetchLoginCode;t.validateFields(["phone","captchaCode"]).then((function(e){var t=e.phone,n=e.captchaCode;a({phone:t,captchaCode:n})}))},n.state={},n.events={onFinish:n.handleOnFinishClick},n}return Object(i["a"])(a,[{key:"componentDidMount",value:function(){this.props.getQrcode()}},{key:"render",value:function(){return u.a.createElement(q,Object(r["a"])({},this.props,this.state,this.events))}}]),a}(u.a.Component);P.defaultProps={ref:u.a.createRef()};var L=function(e){var t=e.user;e.loading;return Object(n["a"])({},t)},R=function(e){return{userlogin:function(t){return e({type:"user/userlogin",payload:t})},fetchLoginCode:function(t){return e({type:"user/fetchLoginCode",payload:t})},getQrcode:function(){return e({type:"user/getQrcode"})}}};t["default"]=Object(m["a"])(L,R)(P)},Nxd6:function(e,t,a){e.exports={main:"main___2tLnV",tabStyle:"tabStyle___35Nfl",commitButton:"commitButton___2axJj",register:"register___2ZHae"}}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29,5],{"1wcP":function(e,t,n){},"2qtc":function(e,t,n){"use strict";n("cIOH"),n("1wcP"),n("+L6B")},"55Ip":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("Ty5D"),r=n("dI71"),i=n("q1tI"),o=n.n(i),c=n("YS25"),s=(n("17x9"),n("wx14")),u=n("zLVn"),l=n("9R94");o.a.Component;o.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},f=function(e,t){return"string"===typeof e?Object(c["c"])(e,null,null,t):e},p=function(e){return e},m=o.a.forwardRef;function v(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}"undefined"===typeof m&&(m=p);var h=m((function(e,t){var n=e.innerRef,a=e.navigate,r=e.onClick,i=Object(u["a"])(e,["innerRef","navigate","onClick"]),c=i.target,l=Object(s["a"])({},i,{onClick:function(e){try{r&&r(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||v(e)||(e.preventDefault(),a())}});return l.ref=p!==m&&t||n,o.a.createElement("a",l)}));var b=m((function(e,t){var n=e.component,r=void 0===n?h:n,i=e.replace,c=e.to,v=e.innerRef,b=Object(u["a"])(e,["component","replace","to","innerRef"]);return o.a.createElement(a["f"].Consumer,null,(function(e){e||Object(l["a"])(!1);var n=e.history,a=f(d(c,e.location),e.location),u=a?n.createHref(a):"",h=Object(s["a"])({},b,{href:u,navigate:function(){var t=d(c,e.location),a=i?n.replace:n.push;a(t)}});return p!==m?h.ref=t||v:h.innerRef=v,o.a.createElement(r,h)}))})),y=function(e){return e},k=o.a.forwardRef;function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}"undefined"===typeof k&&(k=y);k((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,c=void 0===i?"active":i,p=e.activeStyle,m=e.className,v=e.exact,h=e.isActive,g=e.location,C=e.sensitive,N=e.strict,w=e.style,E=e.to,S=e.innerRef,j=Object(u["a"])(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(a["f"].Consumer,null,(function(e){e||Object(l["a"])(!1);var n=g||e.location,i=f(d(E,n),n),u=i.pathname,I=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=I?Object(a["g"])(n.pathname,{path:I,exact:v,sensitive:C,strict:N}):null,L=!!(h?h(x,n):x),_=L?O(m,c):m,R=L?Object(s["a"])({},w,{},p):w,T=Object(s["a"])({"aria-current":L&&r||null,className:_,style:R,to:i},j);return y!==k?T.ref=t||S:T.innerRef=S,o.a.createElement(b,T)}))}))},"5EC/":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=[{id:"\u672a\u77e5",name:"\u672a\u77e5"},{id:"\u5957\u88c5",name:"\u5957\u88c5"},{id:"\u975e\u5957\u88c5",name:"\u975e\u5957\u88c5"}],r=[{id:"brands",name:"\u54c1\u724c",ids:"brandIdList"},{id:"ytCategories",name:"\u7c7b\u76ee",ids:"categoryIdList"},{id:"price",name:"\u4ef7\u683c\u533a\u95f4"},{id:"sources",name:"\u5e73\u53f0",ids:"sourceIdList"},{id:"shopTypes",name:"\u5e97\u94fa\u7c7b\u578b",ids:"shopTypeList"},{id:"shops",name:"\u5e97\u94fa",ids:"shopIdList"}],i=function(e,t){var n=[];return e.forEach((function(e){t.find((function(t){return t.parentId===e}))&&n.push(t.find((function(t){return t.parentId===e})))})),n}},"5rEg":function(e,t,n){"use strict";var a=n("mh/l"),r=n("rePB"),i=n("q1tI"),o=n("TSYQ"),c=n.n(o),s=n("H84U"),u=function(e){return i["createElement"](s["a"],null,(function(t){var n,a=t.getPrefixCls,o=t.direction,s=e.prefixCls,u=e.className,l=void 0===u?"":u,d=a("input-group",s),f=c()(d,(n={},Object(r["a"])(n,"".concat(d,"-lg"),"large"===e.size),Object(r["a"])(n,"".concat(d,"-sm"),"small"===e.size),Object(r["a"])(n,"".concat(d,"-compact"),e.compact),Object(r["a"])(n,"".concat(d,"-rtl"),"rtl"===o),n),l);return i["createElement"]("span",{className:f,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)}))},l=u,d=n("wx14"),f=n("c+Xe"),p=n("l+S1"),m=n("2/Rp"),v=n("3Nzz"),h=n("0n0R"),b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},y=i["forwardRef"]((function(e,t){var n,o,u=e.prefixCls,l=e.inputPrefixCls,y=e.className,k=e.size,O=e.suffix,g=e.enterButton,C=void 0!==g&&g,N=e.addonAfter,w=e.loading,E=e.disabled,S=e.onSearch,j=e.onChange,I=b(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),x=i["useContext"](s["b"]),L=x.getPrefixCls,_=x.direction,R=i["useContext"](v["b"]),T=k||R,P=i["useRef"](null),F=function(e){e&&e.target&&"click"===e.type&&S&&S(e.target.value,e),j&&j(e)},z=function(e){var t;document.activeElement===(null===(t=P.current)||void 0===t?void 0:t.input)&&e.preventDefault()},M=function(e){var t;S&&S(null===(t=P.current)||void 0===t?void 0:t.input.value,e)},A=L("input-search",u),B=L("input",l),D="boolean"===typeof C?i["createElement"](p["a"],null):null,K="".concat(A,"-button"),U=C||{},J=U.type&&!0===U.type.__ANT_BUTTON;o=J||"button"===U.type?Object(h["a"])(U,Object(d["a"])({onMouseDown:z,onClick:M,key:"enterButton"},J?{className:K,size:T}:{})):i["createElement"](m["a"],{className:K,type:C?"primary":void 0,size:T,disabled:E,key:"enterButton",onMouseDown:z,onClick:M,loading:w,icon:D},C),N&&(o=[o,Object(h["a"])(N,{key:"addonAfter"})]);var V=c()(A,(n={},Object(r["a"])(n,"".concat(A,"-rtl"),"rtl"===_),Object(r["a"])(n,"".concat(A,"-").concat(T),!!T),Object(r["a"])(n,"".concat(A,"-with-button"),!!C),n),y);return i["createElement"](a["a"],Object(d["a"])({ref:Object(f["a"])(P,t),onPressEnter:M},I,{size:T,prefixCls:B,addonAfter:o,suffix:O,onChange:F,className:V,disabled:E}))}));y.displayName="Search";var k=y,O=n("whJP"),g=n("ODXe"),C=n("bT9E"),N=n("9BLJ"),w=n("fHMl"),E=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},S={click:"onClick",hover:"onMouseOver"},j=i["forwardRef"]((function(e,t){var n=Object(i["useState"])(!1),o=Object(g["a"])(n,2),u=o[0],l=o[1],f=function(){var t=e.disabled;t||l(!u)},p=function(t){var n,a=e.action,o=e.iconRender,c=void 0===o?function(){return null}:o,s=S[a]||"",l=c(u),d=(n={},Object(r["a"])(n,s,f),Object(r["a"])(n,"className","".concat(t,"-icon")),Object(r["a"])(n,"key","passwordIcon"),Object(r["a"])(n,"onMouseDown",(function(e){e.preventDefault()})),Object(r["a"])(n,"onMouseUp",(function(e){e.preventDefault()})),n);return i["cloneElement"](i["isValidElement"](l)?l:i["createElement"]("span",null,l),d)},m=function(n){var o=n.getPrefixCls,s=e.className,l=e.prefixCls,f=e.inputPrefixCls,m=e.size,v=e.visibilityToggle,h=E(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),b=o("input",f),y=o("input-password",l),k=v&&p(y),O=c()(y,s,Object(r["a"])({},"".concat(y,"-").concat(m),!!m)),g=Object(d["a"])(Object(d["a"])({},Object(C["a"])(h,["suffix","iconRender"])),{type:u?"text":"password",className:O,prefixCls:b,suffix:k});return m&&(g.size=m),i["createElement"](a["a"],Object(d["a"])({ref:t},g))};return i["createElement"](s["a"],null,m)}));j.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?i["createElement"](N["a"],null):i["createElement"](w["a"],null)}},j.displayName="Password";var I=j;a["a"].Group=l,a["a"].Search=k,a["a"].TextArea=O["a"],a["a"].Password=I;t["a"]=a["a"]},"9BLJ":function(e,t,n){"use strict";var a=n("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},i=r,o=n("6VBw"),c=function(e,t){return a["createElement"](o["a"],Object.assign({},e,{ref:t,icon:i}))};c.displayName="EyeOutlined";t["a"]=a["forwardRef"](c)},B1X8:function(e,t,n){},XkBv:function(e,t,n){e.exports={edit_modal_left_wrap:"edit_modal_left_wrap___3knp_",top:"top___3Gmqp",title:"title___2JAk0",contentItem:"contentItem___3ikQf",product:"product___X4olC",item:"item___2LGOz",checked:"checked___25exO",closed:"closed___1m5SL",more:"more___1SMbJ",bottom:"bottom___2-6XO",param:"param___OZRPe"}},Z0zx:function(e,t,n){e.exports={linkTable:"linkTable___2ZO4s",titleHeader:"titleHeader___GRm3f",btnZone:"btnZone___19Q8s",filterContent:"filterContent___2_wBt",name:"name___2hFF2",linkOverviewTitleWrap:"linkOverviewTitleWrap___WgC5m",title:"title___1_iW0",sku:"sku___3XiFL"}},fHMl:function(e,t,n){"use strict";var a=n("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},i=r,o=n("6VBw"),c=function(e,t){return a["createElement"](o["a"],Object.assign({},e,{ref:t,icon:i}))};c.displayName="EyeInvisibleOutlined";t["a"]=a["forwardRef"](c)},hGTh:function(e,t,n){e.exports={edit_modal_right_wrap:"edit_modal_right_wrap___1kzFw",top:"top___2_4um",spu_sku_base:"spu_sku_base___2bJIg",bottom:"bottom___2Eohy",name:"name___2nJHn"}},hzQT:function(e,t,n){"use strict";var a=n("wx14"),r=n("ODXe"),i=n("q1tI"),o=n("1W/9"),c=n("VTBJ"),s=n("TSYQ"),u=n.n(s),l=n("4IlW"),d=n("l4aY"),f=n("bX4T"),p=n("8XRh");function m(e){var t=e.prefixCls,n=e.style,r=e.visible,o=e.maskProps,s=e.motionName;return i["createElement"](p["b"],{key:"mask",visible:r,motionName:s,leavedClassName:"".concat(t,"-mask-hidden")},(function(e){var r=e.className,s=e.style;return i["createElement"]("div",Object(a["a"])({style:Object(c["a"])(Object(c["a"])({},s),n),className:u()("".concat(t,"-mask"),r)},o))}))}function v(e,t,n){var a=t;return!a&&n&&(a="".concat(e,"-").concat(n)),a}var h=-1;function b(){return h+=1,h}function y(e,t){var n=e["page".concat(t?"Y":"X","Offset")],a="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var r=e.document;n=r.documentElement[a],"number"!==typeof n&&(n=r.body[a])}return n}function k(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},a=e.ownerDocument,r=a.defaultView||a.parentWindow;return n.left+=y(r),n.top+=y(r,!0),n}var O=i["memo"]((function(e){var t=e.children;return t}),(function(e,t){var n=t.shouldUpdate;return!n})),g={width:0,height:0,overflow:"hidden",outline:"none"},C=i["forwardRef"]((function(e,t){var n=e.closable,o=e.prefixCls,s=e.width,l=e.height,d=e.footer,f=e.title,m=e.closeIcon,v=e.style,h=e.className,b=e.visible,y=e.forceRender,C=e.bodyStyle,N=e.bodyProps,w=e.children,E=e.destroyOnClose,S=e.modalRender,j=e.motionName,I=e.ariaId,x=e.onClose,L=e.onVisibleChanged,_=e.onMouseDown,R=e.onMouseUp,T=e.mousePosition,P=Object(i["useRef"])(),F=Object(i["useRef"])(),z=Object(i["useRef"])();i["useImperativeHandle"](t,(function(){return{focus:function(){var e;null===(e=P.current)||void 0===e||e.focus()},changeActive:function(e){var t=document,n=t.activeElement;e&&n===F.current?P.current.focus():e||n!==P.current||F.current.focus()}}}));var M,A,B,D=i["useState"](),K=Object(r["a"])(D,2),U=K[0],J=K[1],V={};function H(){var e=k(z.current);J(T?"".concat(T.x-e.left,"px ").concat(T.y-e.top,"px"):"")}void 0!==s&&(V.width=s),void 0!==l&&(V.height=l),U&&(V.transformOrigin=U),d&&(M=i["createElement"]("div",{className:"".concat(o,"-footer")},d)),f&&(A=i["createElement"]("div",{className:"".concat(o,"-header")},i["createElement"]("div",{className:"".concat(o,"-title"),id:I},f))),n&&(B=i["createElement"]("button",{type:"button",onClick:x,"aria-label":"Close",className:"".concat(o,"-close")},m||i["createElement"]("span",{className:"".concat(o,"-close-x")})));var q=i["createElement"]("div",{className:"".concat(o,"-content")},B,A,i["createElement"]("div",Object(a["a"])({className:"".concat(o,"-body"),style:C},N),w),M);return i["createElement"](p["b"],{visible:b,onVisibleChanged:L,onAppearPrepare:H,onEnterPrepare:H,forceRender:y,motionName:j,removeOnLeave:E,ref:z},(function(e,t){var n=e.className,a=e.style;return i["createElement"]("div",{key:"dialog-element",role:"document",ref:t,style:Object(c["a"])(Object(c["a"])(Object(c["a"])({},a),v),V),className:u()(o,h,n),onMouseDown:_,onMouseUp:R},i["createElement"]("div",{tabIndex:0,ref:P,style:g,"aria-hidden":"true"}),i["createElement"](O,{shouldUpdate:b||y},S?S(q):q),i["createElement"]("div",{tabIndex:0,ref:F,style:g,"aria-hidden":"true"}))}))}));C.displayName="Content";var N=C;function w(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,o=e.zIndex,s=e.visible,p=void 0!==s&&s,h=e.keyboard,y=void 0===h||h,k=e.focusTriggerAfterClose,O=void 0===k||k,g=e.scrollLocker,C=e.title,w=e.wrapStyle,E=e.wrapClassName,S=e.wrapProps,j=e.onClose,I=e.afterClose,x=e.transitionName,L=e.animation,_=e.closable,R=void 0===_||_,T=e.mask,P=void 0===T||T,F=e.maskTransitionName,z=e.maskAnimation,M=e.maskClosable,A=void 0===M||M,B=e.maskStyle,D=e.maskProps,K=Object(i["useRef"])(),U=Object(i["useRef"])(),J=Object(i["useRef"])(),V=i["useState"](p),H=Object(r["a"])(V,2),q=H[0],X=H[1],W=Object(i["useRef"])();function Q(e){if(e){var t;if(!Object(d["a"])(U.current,document.activeElement))K.current=document.activeElement,null===(t=J.current)||void 0===t||t.focus()}else{if(X(!1),P&&K.current&&O){try{K.current.focus({preventScroll:!0})}catch(n){}K.current=null}q&&(null===I||void 0===I||I())}}function Y(e){null===j||void 0===j||j(e)}W.current||(W.current="rcDialogTitle".concat(b()));var G=Object(i["useRef"])(!1),Z=Object(i["useRef"])(),$=function(){clearTimeout(Z.current),G.current=!0},ee=function(){Z.current=setTimeout((function(){G.current=!1}))},te=null;function ne(e){if(y&&e.keyCode===l["a"].ESC)return e.stopPropagation(),void Y(e);p&&e.keyCode===l["a"].TAB&&J.current.changeActive(!e.shiftKey)}return A&&(te=function(e){G.current?G.current=!1:U.current===e.target&&Y(e)}),Object(i["useEffect"])((function(){return p&&X(!0),function(){}}),[p]),Object(i["useEffect"])((function(){return function(){clearTimeout(Z.current)}}),[]),Object(i["useEffect"])((function(){return q?(null===g||void 0===g||g.lock(),null===g||void 0===g?void 0:g.unLock):function(){}}),[q,g]),i["createElement"]("div",Object(a["a"])({className:"".concat(n,"-root")},Object(f["a"])(e,{data:!0})),i["createElement"](m,{prefixCls:n,visible:P&&p,motionName:v(n,F,z),style:Object(c["a"])({zIndex:o},B),maskProps:D}),i["createElement"]("div",Object(a["a"])({tabIndex:-1,onKeyDown:ne,className:u()("".concat(n,"-wrap"),E),ref:U,onClick:te,role:"dialog","aria-labelledby":C?W.current:null,style:Object(c["a"])(Object(c["a"])({zIndex:o},w),{},{display:q?null:"none"})},S),i["createElement"](N,Object(a["a"])({},e,{onMouseDown:$,onMouseUp:ee,ref:J,closable:R,ariaId:W.current,prefixCls:n,visible:p,onClose:Y,onVisibleChanged:Q,motionName:v(n,x,L)}))))}var E=function(e){var t=e.visible,n=e.getContainer,c=e.forceRender,s=e.destroyOnClose,u=void 0!==s&&s,l=e.afterClose,d=i["useState"](t),f=Object(r["a"])(d,2),p=f[0],m=f[1];return i["useEffect"]((function(){t&&m(!0)}),[t]),!1===n?i["createElement"](w,Object(a["a"])({},e,{getOpenCount:function(){return 2}})):c||!u||p?i["createElement"](o["a"],{visible:t,forceRender:c,getContainer:n},(function(t){return i["createElement"](w,Object(a["a"])({},e,{destroyOnClose:u,afterClose:function(){null===l||void 0===l||l(),m(!1)}},t))})):null};E.displayName="Dialog";var S=E;t["a"]=S},kLXV:function(e,t,n){"use strict";var a=n("rePB"),r=n("wx14"),i=n("q1tI"),o=n("hzQT"),c=n("TSYQ"),s=n.n(c),u=n("4i/N"),l=n("KQm4"),d=n("ODXe");function f(){var e=i["useState"]([]),t=Object(d["a"])(e,2),n=t[0],a=t[1],r=i["useCallback"]((function(e){return a((function(t){return[].concat(Object(l["a"])(t),[e])})),function(){a((function(t){return t.filter((function(t){return t!==e}))}))}}),[]);return[n,r]}var p=n("2/Rp"),m=n("zvFY"),v=function(e){var t=i["useRef"](!1),n=i["useRef"](),a=i["useState"](!1),o=Object(d["a"])(a,2),c=o[0],s=o[1];i["useEffect"]((function(){var t;if(e.autoFocus){var a=n.current;t=setTimeout((function(){return a.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var u=function(n){var a=e.closeModal;n&&n.then&&(s(!0),n.then((function(){a.apply(void 0,arguments)}),(function(e){console.error(e),s(!1),t.current=!1})))},l=function(){var n=e.actionFn,a=e.closeModal;if(!t.current)if(t.current=!0,n){var r;if(n.length)r=n(a),t.current=!1;else if(r=n(),!r)return void a();u(r)}else a()},f=e.type,v=e.children,h=e.prefixCls,b=e.buttonProps;return i["createElement"](p["a"],Object(r["a"])({},Object(m["a"])(f),{onClick:l,loading:c,prefixCls:h},b,{ref:n}),v)},h=v,b=n("uaoM"),y=n("wEI+"),k=n("EXcs"),O=function(e){var t=e.icon,n=e.onCancel,r=e.onOk,o=e.close,c=e.zIndex,u=e.afterClose,l=e.visible,d=e.keyboard,f=e.centered,p=e.getContainer,m=e.maskStyle,v=e.okText,O=e.okButtonProps,g=e.cancelText,C=e.cancelButtonProps,N=e.direction,w=e.prefixCls,E=e.rootPrefixCls,S=e.bodyStyle,j=e.closable,I=void 0!==j&&j,x=e.closeIcon,L=e.modalRender,_=e.focusTriggerAfterClose;Object(b["a"])(!("string"===typeof t&&t.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(t,"` at https://ant.design/components/icon"));var R=e.okType||"primary",T="".concat(w,"-confirm"),P=!("okCancel"in e)||e.okCancel,F=e.width||416,z=e.style||{},M=void 0===e.mask||e.mask,A=void 0!==e.maskClosable&&e.maskClosable,B=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),D=s()(T,"".concat(T,"-").concat(e.type),Object(a["a"])({},"".concat(T,"-rtl"),"rtl"===N),e.className),K=P&&i["createElement"](h,{actionFn:n,closeModal:o,autoFocus:"cancel"===B,buttonProps:C,prefixCls:"".concat(E,"-btn")},g);return i["createElement"](Z,{prefixCls:w,className:D,wrapClassName:s()(Object(a["a"])({},"".concat(T,"-centered"),!!e.centered)),onCancel:function(){return o({triggerCancel:!0})},visible:l,title:"",footer:"",transitionName:Object(k["b"])(E,"zoom",e.transitionName),maskTransitionName:Object(k["b"])(E,"fade",e.maskTransitionName),mask:M,maskClosable:A,maskStyle:m,style:z,width:F,zIndex:c,afterClose:u,keyboard:d,centered:f,getContainer:p,closable:I,closeIcon:x,modalRender:L,focusTriggerAfterClose:_},i["createElement"]("div",{className:"".concat(T,"-body-wrapper")},i["createElement"](y["b"],{prefixCls:E},i["createElement"]("div",{className:"".concat(T,"-body"),style:S},t,void 0===e.title?null:i["createElement"]("span",{className:"".concat(T,"-title")},e.title),i["createElement"]("div",{className:"".concat(T,"-content")},e.content))),i["createElement"]("div",{className:"".concat(T,"-btns")},K,i["createElement"](h,{type:R,actionFn:r,closeModal:o,autoFocus:"ok"===B,buttonProps:O,prefixCls:"".concat(E,"-btn")},v))))},g=O,C=n("ZvpZ"),N=n("YMnH"),w=n("H84U"),E=function(e,t){var n=e.afterClose,a=e.config,o=i["useState"](!0),c=Object(d["a"])(o,2),s=c[0],u=c[1],l=i["useState"](a),f=Object(d["a"])(l,2),p=f[0],m=f[1],v=i["useContext"](w["b"]),h=v.direction,b=v.getPrefixCls,y=b("modal"),k=b();function O(){u(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.some((function(e){return e&&e.triggerCancel}));p.onCancel&&a&&p.onCancel()}return i["useImperativeHandle"](t,(function(){return{destroy:O,update:function(e){m((function(t){return Object(r["a"])(Object(r["a"])({},t),e)}))}}})),i["createElement"](N["a"],{componentName:"Modal",defaultLocale:C["a"].Modal},(function(e){return i["createElement"](g,Object(r["a"])({prefixCls:y,rootPrefixCls:k},p,{close:O,visible:s,afterClose:n,okText:p.okText||(p.okCancel?e.okText:e.justOkText),direction:h,cancelText:p.cancelText||e.cancelText}))}))},S=i["forwardRef"](E),j=n("i8i4"),I=n("+YFz"),x=n("Ue1A"),L=n("2BaD"),_=n("RCxd"),R=n("ul5b"),T=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},P="";function F(){return P}function z(e){var t=document.createElement("div");document.body.appendChild(t);var n=Object(r["a"])(Object(r["a"])({},e),{close:c,visible:!0});function a(){var n=j["unmountComponentAtNode"](t);n&&t.parentNode&&t.parentNode.removeChild(t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];var o=r.some((function(e){return e&&e.triggerCancel}));e.onCancel&&o&&e.onCancel.apply(e,r);for(var s=0;s<Q.length;s++){var u=Q[s];if(u===c){Q.splice(s,1);break}}}function o(e){var n=e.okText,a=e.cancelText,o=e.prefixCls,c=T(e,["okText","cancelText","prefixCls"]);setTimeout((function(){var e=Object(R["b"])(),s=Object(y["c"])(),u=s.getPrefixCls,l=u(void 0,F()),d=o||"".concat(l,"-modal");j["render"](i["createElement"](g,Object(r["a"])({},c,{prefixCls:d,rootPrefixCls:l,okText:n||(c.okCancel?e.okText:e.justOkText),cancelText:a||e.cancelText})),t)}))}function c(){for(var t=this,i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];n=Object(r["a"])(Object(r["a"])({},n),{visible:!1,afterClose:function(){"function"===typeof e.afterClose&&e.afterClose(),a.apply(t,c)}}),o(n)}function s(e){n="function"===typeof e?e(n):Object(r["a"])(Object(r["a"])({},n),e),o(n)}return o(n),Q.push(c),{destroy:c,update:s}}function M(e){return Object(r["a"])(Object(r["a"])({icon:i["createElement"](_["a"],null),okCancel:!1},e),{type:"warning"})}function A(e){return Object(r["a"])(Object(r["a"])({icon:i["createElement"](I["a"],null),okCancel:!1},e),{type:"info"})}function B(e){return Object(r["a"])(Object(r["a"])({icon:i["createElement"](x["a"],null),okCancel:!1},e),{type:"success"})}function D(e){return Object(r["a"])(Object(r["a"])({icon:i["createElement"](L["a"],null),okCancel:!1},e),{type:"error"})}function K(e){return Object(r["a"])(Object(r["a"])({icon:i["createElement"](_["a"],null),okCancel:!0},e),{type:"confirm"})}function U(e){var t=e.rootPrefixCls;Object(b["a"])(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),P=t}var J=0,V=i["memo"](i["forwardRef"]((function(e,t){var n=f(),a=Object(d["a"])(n,2),r=a[0],o=a[1];return i["useImperativeHandle"](t,(function(){return{patchElement:o}}),[]),i["createElement"](i["Fragment"],null,r)})));function H(){var e=i["useRef"](null),t=i["useState"]([]),n=Object(d["a"])(t,2),a=n[0],r=n[1];i["useEffect"]((function(){if(a.length){var e=Object(l["a"])(a);e.forEach((function(e){e()})),r([])}}),[a]);var o=i["useCallback"]((function(t){return function(n){var a;J+=1;var o,c=i["createRef"](),s=i["createElement"](S,{key:"modal-".concat(J),config:t(n),ref:c,afterClose:function(){o()}});return o=null===(a=e.current)||void 0===a?void 0:a.patchElement(s),{destroy:function(){function e(){var e;null===(e=c.current)||void 0===e||e.destroy()}c.current?e():r((function(t){return[].concat(Object(l["a"])(t),[e])}))},update:function(e){function t(){var t;null===(t=c.current)||void 0===t||t.update(e)}c.current?t():r((function(e){return[].concat(Object(l["a"])(e),[t])}))}}}}),[]),c=i["useMemo"]((function(){return{info:o(A),success:o(B),error:o(D),warning:o(M),confirm:o(K)}}),[]);return[c,i["createElement"](V,{ref:e})]}var q,X=n("R3zJ"),W=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Q=[],Y=function(e){q={x:e.pageX,y:e.pageY},setTimeout((function(){q=null}),100)};Object(X["a"])()&&document.documentElement.addEventListener("click",Y,!0);var G=function(e){var t,n=i["useContext"](w["b"]),c=n.getPopupContainer,l=n.getPrefixCls,d=n.direction,f=function(t){var n=e.onCancel;null===n||void 0===n||n(t)},v=function(t){var n=e.onOk;null===n||void 0===n||n(t)},h=function(t){var n=e.okText,a=e.okType,o=e.cancelText,c=e.confirmLoading;return i["createElement"](i["Fragment"],null,i["createElement"](p["a"],Object(r["a"])({onClick:f},e.cancelButtonProps),o||t.cancelText),i["createElement"](p["a"],Object(r["a"])({},Object(m["a"])(a),{loading:c,onClick:v},e.okButtonProps),n||t.okText))},b=e.prefixCls,y=e.footer,O=e.visible,g=e.wrapClassName,C=e.centered,E=e.getContainer,S=e.closeIcon,j=e.focusTriggerAfterClose,I=void 0===j||j,x=W(e,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),L=l("modal",b),_=l(),T=i["createElement"](N["a"],{componentName:"Modal",defaultLocale:Object(R["b"])()},h),P=i["createElement"]("span",{className:"".concat(L,"-close-x")},S||i["createElement"](u["a"],{className:"".concat(L,"-close-icon")})),F=s()(g,(t={},Object(a["a"])(t,"".concat(L,"-centered"),!!C),Object(a["a"])(t,"".concat(L,"-wrap-rtl"),"rtl"===d),t));return i["createElement"](o["a"],Object(r["a"])({},x,{getContainer:void 0===E?c:E,prefixCls:L,wrapClassName:F,footer:void 0===y?T:y,visible:O,mousePosition:q,onClose:f,closeIcon:P,focusTriggerAfterClose:I,transitionName:Object(k["b"])(_,"zoom",e.transitionName),maskTransitionName:Object(k["b"])(_,"fade",e.maskTransitionName)}))};G.useModal=H,G.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var Z=G;function $(e){return z(M(e))}var ee=Z;ee.info=function(e){return z(A(e))},ee.success=function(e){return z(B(e))},ee.error=function(e){return z(D(e))},ee.warning=$,ee.warn=$,ee.confirm=function(e){return z(K(e))},ee.destroyAll=function(){while(Q.length){var e=Q.pop();e&&e()}},ee.config=U;t["a"]=ee},mw2k:function(e,t,n){"use strict";n.r(t);var a=n("0Owb"),r=n("k1fw"),i=n("fWQN"),o=n("mtLc"),c=n("yKVA"),s=n("879j"),u=n("q1tI"),l=n.n(u),d=n("Hx5s"),f=(n("g9YV"),n("wCAj")),p=n("jrin"),m=(n("5NDa"),n("5rEg")),v=(n("+L6B"),n("2/Rp")),h=(n("OaEy"),n("2fM7")),b=(n("/zsF"),n("PArb")),y=(n("Q9mQ"),n("diRs")),k=(n("miYZ"),n("tsqr")),O=n("qMuR"),g=n("9kvl"),C=n("5EC/"),N=(n("2qtc"),n("kLXV")),w=(n("sRBo"),n("kaz8")),E=n("TSYQ"),S=n.n(E),j=n("XkBv"),I=n.n(j),x=function(e){var t=e.data,n=e.detailList,a=e.changeKeyword;return l.a.createElement("div",{className:I.a.edit_modal_left_wrap},l.a.createElement("div",{className:I.a.top},l.a.createElement(y["a"],{content:l.a.createElement("div",{style:{maxWidth:260},onMouseUp:function(){a("spuKeyword",window.getSelection().toString().trim())}},t.name)},l.a.createElement("div",{className:I.a.title,onClick:function(){return window.open("".concat(t.url))}},t.name)),l.a.createElement("div",{className:I.a.contentItem},n.map((function(e){return l.a.createElement("div",{className:I.a.product,key:e.id},l.a.createElement("span",null,e.name),l.a.createElement("div",null,e.values.map((function(t,n){return l.a.createElement("span",{key:e.name,className:S()(I.a.item,0===n&&I.a.checked,t.offShelf&&I.a.closed),onMouseUp:function(){a("skuKeyword",window.getSelection().toString().trim())}},t.name)}))))})))))},L=x,_=n("oBTY"),R=n("hGTh"),T=n.n(R),P=(n("B1X8"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(e){var a;return Object(i["a"])(this,n),a=t.call(this,e),a.skuRef=l.a.createRef(),a.spuRef=l.a.createRef(),a.getValue=function(){var e=a.state,t=e.spu,n=e.sku,r=e.spuName,i=e.skuName,o=e.packageType;return{spuId:t,skuId:n,spuName:r,skuName:i,packageType:o}},a._handleSkutWarn=function(){a.skuRef.current.focus(),a.setState({skuClassName:"border-warn"})},a._handleSpuWarn=function(){a.spuRef.current.focus(),a.setState({spuClassName:"border-warn"})},a._handleOnSpuChange=function(e,t){var n=a.props,r=n.skuList,i=n.data,o=e?r.filter((function(t){return t.parentId===e})):r,c="",s=0;o.forEach((function(e){e.name.split(e.split).every((function(e){return i.name.includes(e)}))&&(c=e.name,s=e.id)})),a.setState({spuName:t.label,spu:e,skuName:c||a.state.skuName,sku:s||a.state.sku,spuClassName:"",mSkuList:o}),1===o.length&&a.setState({sku:o[0].id,skuName:o[0].name})},a._handleOnSkuChange=function(e,t){a.setState({skuName:t.label,sku:e,skuClassName:""})},a.state={spu:e.data.spuId,sku:e.data.skuId,spuName:e.data.spuName,skuName:e.data.skuName,topicList:e.topicList,skuClassName:"",spuClassName:"",mSkuList:[],packageType:e.data.packageType||C["c"][0].id},a}return Object(o["a"])(n,[{key:"componentDidMount",value:function(){this.setTopicList(this.props.topicList,this.props.data,this.state.spu,this.state.sku)}},{key:"setTopicList",value:function(e,t,n,a){var r=this;this.setState({topicList:[].concat(Object(_["a"])(e),Object(_["a"])(t.spuTitle.map((function(e,t){return{id:e,name:e,values:n&&r.props.spuList.find((function(e){return e.id===n}))?JSON.parse(r.props.spuList.find((function(e){return e.id===n})).config)[e]:""}}))),Object(_["a"])(t.skuTitle.map((function(e,t){return{id:e,name:e,values:a&&r.props.skuList.find((function(e){return e.id===a}))?JSON.parse(r.props.skuList.find((function(e){return e.id===a})).config)[e]:""}}))))})}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=e.data,r=this.props,i=r.data,o=r.topicList,c=t.spu,s=t.sku,u=this.state,l=u.spu,d=u.sku;JSON.stringify(a)!==JSON.stringify(i)&&this.setState({spu:i.spuId,spuName:i.spuName,sku:i.skuId,skuName:i.skuName,packageType:i.packageType?i.packageType:C["c"][0].id},(function(){n.setTopicList(o,i,n.state.spu,n.state.sku)})),JSON.stringify(c)===JSON.stringify(l)&&JSON.stringify(s)===JSON.stringify(d)||this.setTopicList(o,i,l,d)}},{key:"render",value:function(){var e=this,t=this.state,n=t.spu,a=t.spuName,r=t.mSkuList,i=t.sku,o=t.topicList,c=t.spuSearch,s=t.skuSearch,u=t.packageType,d=this.props,f=d.spuList,p=d.industryId,m=d.titleName,v=d.onFocus,y=d.spuKeyword,k=d.skuKeyword,O=d.resetKeyword,g=[{path:"/",breadcrumbName:"\u9996\u9875"},{path:"/industryRepositorys",breadcrumbName:m},{path:"/industryRepositorys/base/spu",breadcrumbName:a,state:{id:p,name:m}}];return l.a.createElement("div",{className:T.a.edit_modal_right_wrap},l.a.createElement("div",{className:T.a.top},l.a.createElement("div",{className:T.a.spu_sku_base},l.a.createElement("span",null,"SPU\u8bcd\u6761"),l.a.createElement(h["a"],{showSearch:!0,className:this.state.spuClassName,ref:this.spuRef,placeholder:"\u8bf7\u9009\u62e9\u6216\u8005\u8f93\u5165",value:n&&f.find((function(e){return e.id===n}))?n:void 0,onBlur:function(){O(),e.setState({spuClassName:""})},onChange:function(t,n){O(),e._handleOnSpuChange(t,n)},searchValue:c||y,onSearch:function(t){e.setState({spuSearch:t}),t||O()},open:!!y||void 0,style:{width:230},optionFilterProp:"children",filterOption:function(e,t){return t.children.trim().toLowerCase().indexOf(e.trim().toLowerCase())>=0},onFocus:v,dropdownRender:function(e){return l.a.createElement("div",null,e,l.a.createElement(b["a"],{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{padding:10,color:"#1890ff",cursor:"pointer"},onClick:function(){window.open("/new/industryRepositorys/base/spu?drawerVisible=true&industryId=".concat(p,"&name=").concat(m))}},"\u521b\u5efaSPU\u8bcd\u6761"))}},f.map((function(e){return l.a.createElement(h["a"].Option,{key:e.id,value:e.id,label:e.name},e.name)})))),l.a.createElement("div",{className:T.a.spu_sku_base},l.a.createElement("span",null,"SKU\u8bcd\u6761"),l.a.createElement(h["a"],{showSearch:!0,className:this.state.skuClassName,ref:this.skuRef,searchValue:s||k,onSearch:function(t){e.setState({skuSearch:t}),t||O()},open:!!k||void 0,placeholder:"\u8bf7\u9009\u62e9\u6216\u8005\u8f93\u5165",value:i&&r.find((function(e){return e.id===i}))?i:void 0,onBlur:function(){O(),e.setState({skuClassName:""})},onChange:function(t,n){O(),e._handleOnSkuChange(t,n)},style:{width:230},optionFilterProp:"children",filterOption:function(e,t){return t.children.trim().toLowerCase().indexOf(e.trim().toLowerCase())>=0},onFocus:v,dropdownRender:function(e){return l.a.createElement("div",null,e,l.a.createElement(b["a"],{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{padding:10,color:n?"#1890ff":"#BFBFBF",cursor:n?"pointer":"not-allowed",background:n?"#fff":"#F7F8FA"},onClick:function(){n&&window.open("/new/industryRepositorys/base/sku?drawerVisible=true&industryId=".concat(p,"&spuId=").concat(n,"&breadRoutes=").concat(encodeURIComponent(JSON.stringify(g))))}},"\u521b\u5efaSKU\u8bcd\u6761"))}},r.map((function(e){return l.a.createElement(h["a"].Option,{key:e.id,value:e.id,label:e.name},e.name)})))),l.a.createElement("div",{className:T.a.spu_sku_base},l.a.createElement("span",null,"\u9500\u552e\u7248\u672c"),l.a.createElement(h["a"],{placeholder:"\u8bf7\u9009\u62e9",showSearch:!0,value:u,onChange:function(t){e.setState({packageType:t})}},C["c"].map((function(e){return l.a.createElement(h["a"].Option,{key:e.id,value:e.id,label:e.name},e.name)}))))),l.a.createElement("div",{className:T.a.bottom},l.a.createElement("h4",null,"\u4e3b\u9898\u503c\u603b\u89c8"),l.a.createElement("div",null,o.map((function(e){return l.a.createElement("div",{key:e.id},l.a.createElement("span",{className:T.a.name},e.name),l.a.createElement("span",{className:T.a.value},e.values))})))))}}]),n}(l.a.PureComponent)),F=P,z={visible:!1,industryId:0,id:"",nextId:"",topicList:[],isNext:!0,data:{url:"",name:"",spuId:0,skuId:0,spuName:"",skuName:"",spuTitle:[],skuTitle:[],spuSplit:"",skuSplit:""},detailList:[],spuKeyword:"",skuKeyword:""},M=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(e){var a;return Object(i["a"])(this,n),a=t.call(this,e),a.contentRef=l.a.createRef(),a.state=void 0,a.show=function(e){var t=e.industryId,n=e.id,i=e.nextId,o=e.topicList,c=e.data,s=e.detailList;a.state.visible?a.setState(Object(r["a"])({},Object.assign({},z)),(function(){a.setState({industryId:t,visible:!0,id:n,nextId:i,topicList:o,data:c,detailList:s})})):a.setState({industryId:t,visible:!0,id:n,nextId:i,topicList:o,data:c,detailList:s})},a._handleOnOk=function(){a._handleOnCancel()},a._handleOnCancel=function(){a.setState(Object(r["a"])({},Object.assign({},z)))},a._handleOnAddIgnore=function(e){var t=a.state,n=t.id,i=t.isNext,o=t.nextId,c=(t.data,a.props),s=c.linkList,u=c.total,l=c.keyword,d=c.pageIndex;if("add"===e){if(!a.contentRef.getValue().spuId)return k["default"].error("\u8bf7\u9009\u62e9SPU\u8bcd\u6761"),void a.contentRef._handleSpuWarn();if(!a.contentRef.getValue().skuId)return k["default"].error("\u8bf7\u9009\u62e9SKU\u8bcd\u6761"),void a.contentRef._handleSkuWarn()}var f=a.contentRef.getValue().spuId,p=a.contentRef.getValue().spuName;a.props.fetchEdit(Object(r["a"])(Object(r["a"])({connectionId:n},a.contentRef.getValue()),{},{flag:"add"===e?"true":"false"})),i?o?(a.setState({id:o}),a.props.fetchDetail({connectionId:o}).then((function(t){2e4===t.code&&a.props.fetchLinkList({name:l}).then((function(n){var i=n.findIndex((function(e){return e.id===o}));n.length&&a.setState({data:Object(r["a"])(Object(r["a"])({},n.find((function(e){return e.id===o}))),{},{spuId:"add"===e&&!n.find((function(e){return e.id===o})).spuId&&f?f:n.find((function(e){return e.id===o})).spuId,spuName:"add"===e&&!n.find((function(e){return e.id===o})).spuId&&f?p:n.find((function(e){return e.id===o})).spuName}),topicList:[{id:"\u5e73\u53f0",name:"\u5e73\u53f0",values:n.find((function(e){return e.id===o})).sourceName},{id:"\u5e97\u94fa",name:"\u5e97\u94fa\u7c7b\u578b",values:n.find((function(e){return e.id===o})).shopType},{id:"\u5e97\u94fa",name:"\u5e97\u94fa",values:n.find((function(e){return e.id===o})).shopName}],detailList:t.result,nextId:i!==n.length-1?n[i+1].id:""})}))}))):u>s.length?a.props.fetchLinkList({name:l,pageIndex:d+1}).then((function(t){if(t.length){var n=t[0].id;a.setState({id:n}),a.props.fetchDetail({connectionId:n}).then((function(n){2e4===n.code&&a.setState({data:Object(r["a"])(Object(r["a"])({},t[0]),{},{spuId:"add"===e&&!t[0].spuId&&f?f:t[0].spuId,spuName:"add"===e&&!t[0].spuId&&f?p:t[0].spuName}),topicList:[{id:"\u5e73\u53f0",name:"\u5e73\u53f0",values:t[0].sourceName},{id:"\u5e97\u94fa",name:"\u5e97\u94fa\u7c7b\u578b",values:t[0].shopType},{id:"\u5e97\u94fa",name:"\u5e97\u94fa",values:t[0].shopName}],detailList:n.result,nextId:t[1].id})}))}})):(k["default"].error("\u5f53\u524d\u5df2\u662f\u6700\u540e\u4e00\u4e2a\u5546\u54c1"),setTimeout((function(){a.props.fetchLinkList({name:l})}),200),a._handleOnCancel()):(setTimeout((function(){a.props.fetchLinkList({name:l,pageIndex:1})}),200),a._handleOnCancel())},a._handleOnNextChange=function(e){var t=e.target;a.setState({isNext:t.checked})},a.changeKeyword=function(e,t){a.setState(Object(p["a"])({},e,t))},a.resetKeyword=function(){a.setState({spuKeyword:"",skuKeyword:""})},a.state=Object(r["a"])({},Object.assign({},z)),a}return Object(o["a"])(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.visible,a=t.isNext,r=t.topicList,i=t.data,o=t.detailList,c=t.industryId,s=t.spuKeyword,u=t.skuKeyword,d=this.props,f=d.spuList,p=d.skuList,m=d.titleName,h=d.onFocus;return l.a.createElement(N["a"],{title:"\u5546\u54c1\u94fe\u63a5\u4e3b\u9898\u7ef4\u62a4",visible:n,onOk:this._handleOnOk,onCancel:this._handleOnCancel,width:890,footer:[l.a.createElement(w["a"],{onChange:this._handleOnNextChange,checked:a},"\u4e0b\u4e00\u5546\u54c1"),l.a.createElement(v["a"],{onClick:function(){return e._handleOnAddIgnore("ignore")}},"\u5ffd\u7565"),l.a.createElement(v["a"],{type:"primary",onClick:function(){return e._handleOnAddIgnore("add")}},"\u6dfb\u52a0")]},l.a.createElement("div",{style:{display:"flex",maxHeight:434,overflow:"auto"}},l.a.createElement(L,{data:i,detailList:o,changeKeyword:this.changeKeyword}),l.a.createElement(F,{ref:function(t){return e.contentRef=t},onFocus:h,titleName:m,industryId:c,data:i,spuList:f,skuList:p,topicList:r,spuKeyword:s,skuKeyword:u,resetKeyword:this.resetKeyword})))}}]),n}(l.a.PureComponent),A=Object(g["a"])((function(e){var t=e.linkOverview,n=t.skuList,a=t.spuList,r=t.linkList,i=t.pageIndex,o=t.name,c=t.total;return{skuList:n,spuList:a,linkList:r,pageIndex:i,keyword:o,total:c}}),(function(e){return{fetchLinkList:function(t){return e({type:"linkOverview/fetchLinkList",payload:t})},fetchDetail:function(t){return e({type:"linkOverview/fetchDetail",payload:t})},fetchEdit:function(t){return e({type:"linkOverview/fetchEdit",payload:t})}}}),null,{forwardRef:!0})(M),B=n("Z0zx"),D=n.n(B),K=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(e){var a;return Object(i["a"])(this,n),a=t.call(this,e),a.modalRef=void 0,a.skuRef=l.a.createRef(),a.spuRef=l.a.createRef(),a._handleOnEdit=function(e){var t=a.props,n=t.data,r=t.industryId,i=n.findIndex((function(t){return t.id===e.id}));a.props.fetchDetail({connectionId:e.id}).then((function(t){2e4===t.code&&a.modalRef.show({industryId:r,id:e.id,nextId:i!==n.length-1?n[i+1].id:"",data:e,topicList:[{id:"\u5e73\u53f0",name:"\u5e73\u53f0",values:e.sourceName},{id:"\u5e97\u94fa",name:"\u5e97\u94fa\u7c7b\u578b",values:e.shopType},{id:"\u5e97\u94fa",name:"\u5e97\u94fa",values:e.shopName}],detailList:t.result})}))},a._handleOnAddIgnore=function(e,t){var n=a.state,r=n.spuName,i=n.spuId,o=n.skuName,c=n.skuId,s=a.state.id===e.id&&i||e.spuId,u=a.state.id===e.id&&c||e.skuId;if("add"===t){if(!s)return k["default"].error("\u8bf7\u9009\u62e9SPU\u8bcd\u6761"),a.spuRef.current.focus(),void a.setState({spuClassName:"border-warn"});if(!u)return k["default"].error("\u8bf7\u9009\u62e9SKU\u8bcd\u6761"),a.skuRef.current.focus(),void a.setState({skuClassName:"border-warn"})}a.props.onEdit({spuName:r||e.spuName,spuId:s,skuName:o||e.skuName,skuId:u,connectionId:e.id,flag:"add"===t?"true":"false",isList:!0})},a._handleOnSpuChange=function(e,t,n){var r=a.props.skuList,i=t.label?r.filter((function(e){return e.parentId===t.label})):r,o="",c=0;i.forEach((function(e){e.name.split(e.split).every((function(e){return n.name.includes(e)}))&&(o=e.name,c=e.id)})),a.setState({id:n.id,spuName:e,spuId:t.label,skuName:o||a.state.skuName,skuId:c||a.state.skuId,spuClassName:"",keywordSpu:"",openSpu:!1,mSkuList:i}),1===i.length&&a.setState({skuId:i[0].id,skuName:i[0].name})},a._handleOnSkuChange=function(e,t,n){a.setState({id:n.id,skuName:e,skuId:t.label,skuClassName:"",keywordSku:"",openSku:!1})},a._handleOnMinChange=function(e){a.setState({min:e.target.value})},a._handleOnMaxChange=function(e){a.setState({max:e.target.value})},a.state={min:"",max:"",spuName:"",spuId:0,skuName:"",skuId:0,columns:[],id:"",skuClassName:"",spuClassName:"",keywordSpu:"",keywordSku:"",openSpu:!1,openSku:!1,openId:"",mSkuList:[]},a}return Object(o["a"])(n,[{key:"componentDidUpdate",value:function(e){var t=this,n=e.data,a=e.spuList,r=e.skuList,i=e.editLoading,o=this.props,c=o.data,s=o.firstId,u=o.spuList,d=o.skuList,f=o.industryId,p=o.titleName,m=o.onFocus,k=o.editLoading;JSON.stringify(n)===JSON.stringify(c)&&JSON.stringify(a)===JSON.stringify(u)&&JSON.stringify(r)===JSON.stringify(d)&&i===k||this.setState({columns:[{title:"\u5546\u54c1\u8be6\u60c5\u9875\u6807\u9898",width:"32%",render:function(e){return l.a.createElement(y["a"],{content:l.a.createElement("div",{style:{maxWidth:260}},l.a.createElement("p",{onMouseUp:function(){var n=window.getSelection().toString().trim();t.setState({keywordSpu:n,spuName:e.spuName.includes(n)?e.spuName:void 0,spuId:e.spuName.includes(n)?e.spuId:void 0,openSpu:!!n.length,openId:e.id})}},e.name),l.a.createElement("div",{style:{color:"#8c8c8c"},className:D.a.sku,dangerouslySetInnerHTML:{__html:"".concat(Object.values(JSON.parse(e.urlTopics)).join("&nbsp;"))},onMouseUp:function(){var n=window.getSelection().toString().trim();t.setState({keywordSku:n,skuName:e.skuName.includes(n)?e.skuName:void 0,skuId:e.skuName.includes(n)?e.skuId:void 0,openSku:!!n.length,openId:e.id})}}))},l.a.createElement("div",{className:D.a.linkOverviewTitleWrap},l.a.createElement("p",{className:D.a.title,onClick:function(){window.open("".concat(e.url))}},e.name),l.a.createElement("div",{className:D.a.sku,dangerouslySetInnerHTML:{__html:"".concat(Object.values(JSON.parse(e.urlTopics)).join("&nbsp;"))}})))}},{title:"SPU\u8bcd\u6761",width:"28%",render:function(e){return e.id===s?l.a.createElement(h["a"],{defaultValue:e.spuName,showSearch:!0,disabled:k,className:t.state.spuClassName,ref:t.spuRef,searchValue:t.state.keywordSpu,open:!(e.id!==t.state.openId||!t.state.openSpu),optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onSearch:function(e){t.setState({keywordSpu:e,openSpu:!!e.length})},onFocus:function(){m(),t.setState({openSpu:!0,openId:e.id})},onBlur:function(){t.state.openSpu&&t.setState({openSpu:!1,openId:""}),t.state.keywordSpu&&t.setState({keywordSpu:""}),t.setState({spuClassName:""})},onChange:function(n,a){return t._handleOnSpuChange(n,a,e)},style:{width:260},placeholder:"\u8bf7\u9009\u62e9\u4e00\u4e2aSPU\u8bcd\u6761",dropdownRender:function(e){return l.a.createElement("div",{onMouseDown:function(e){e.preventDefault()}},e,l.a.createElement(b["a"],{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{padding:10,color:"#1890ff",cursor:"pointer"},onClick:function(){window.open("/new/industryRepositorys/base/spu?drawerVisible=true&industryId=".concat(f,"&name=").concat(p))}},"\u521b\u5efaSPU\u8bcd\u6761"))}},u.map((function(e){return l.a.createElement(h["a"].Option,{key:e.id,value:e.name,label:e.id},e.name)}))):l.a.createElement("span",null,e.spuName)}},{title:"SKU\u8bcd\u6761",width:"28%",render:function(e){var n=t.state,a=n.spuId,r=n.spuName,i=a?d.filter((function(e){return e.parentId===a})):e.spuId?d.filter((function(t){return t.parentId===e.spuId})):d,o=a||e.spuId,c=[{path:"/",breadcrumbName:"\u9996\u9875"},{path:"/industryRepositorys",breadcrumbName:p},{path:"/industryRepositorys/base/spu",breadcrumbName:r||e.spuName,state:{id:f,name:p}}];return e.id===s?l.a.createElement(h["a"],{defaultValue:e.skuName,style:{width:260},placeholder:"\u8bf7\u9009\u62e9\u4e00\u4e2aSKU\u8bcd\u6761",showSearch:!0,disabled:k,className:t.state.skuClassName,ref:t.skuRef,searchValue:t.state.keywordSku,open:!(e.id!==t.state.openId||!t.state.openSku),value:t.state.skuId&&i.find((function(e){return e.id===t.state.skuId}))?t.state.skuId:void 0,onFocus:function(){m(),t.setState({openSku:!0,openId:e.id})},onBlur:function(){t.state.openSku&&t.setState({openSku:!1}),t.state.keywordSku&&t.setState({keywordSku:""}),t.setState({skuClassName:""})},onChange:function(n,a){return t._handleOnSkuChange(n,a,e)},optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},onSearch:function(e){t.setState({keywordSku:e,openSku:!!e.length})},dropdownRender:function(n){return l.a.createElement("div",{onMouseDown:function(e){e.preventDefault()}},n,l.a.createElement(b["a"],{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{padding:10,color:o?"#1890ff":"#BFBFBF",cursor:o?"pointer":"not-allowed",background:o?"#fff":"#F7F8FA"},onClick:function(){o&&window.open("/new/industryRepositorys/base/sku?drawerVisible=true&industryId=".concat(f,"&spuId=").concat(t.state.spuId||e.spuId,"&breadRoutes=").concat(encodeURIComponent(JSON.stringify(c))))}},"\u521b\u5efaSKU\u8bcd\u6761"))}},i.map((function(e){return l.a.createElement(h["a"].Option,{key:e.id,value:e.id,label:e.name},e.name)}))):l.a.createElement("span",null,e.skuName)}},{title:"\u64cd\u4f5c",width:"14%",render:function(e){return l.a.createElement("div",null,e.id===s?l.a.createElement("span",null,l.a.createElement(v["a"],{size:"small",type:"link",disabled:k,onClick:function(){return t._handleOnAddIgnore(e,"add")}},"\u786e\u5b9a"),l.a.createElement(v["a"],{size:"small",type:"link",disabled:k,onClick:function(){return t._handleOnAddIgnore(e,"ignore")}},"\u5ffd\u7565")):l.a.createElement(v["a"],{size:"small",type:"link",onClick:function(){return t._handleOnEdit(e)}},"\u7f16\u8f91"))}}]}),JSON.stringify(n)!==JSON.stringify(c)&&this.setState({spuId:0,spuName:"",skuId:0,skuName:"",skuClassName:"",spuClassName:""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.columns,a=t.min,r=t.max,i=this.props,o=i.onFocus,c=i.loading,s=i.data,u=i.pageIndex,d=i.pageSize,b=i.total,N=i.onSearch,w=i.onPageChange,E=i.onPageSizeChange,S=i.industryId,j=i.filterList,I=i.titleName,x=i.spuList,L=i.skuList,_=i.spuGroupList,R=i.onFilterChange,T=_&&_.length?Object(C["b"])(_,L):L;return l.a.createElement("div",{className:D.a.linkTable},l.a.createElement("div",{className:D.a.titleHeader},l.a.createElement(m["a"].Search,{allowClear:!0,style:{width:250},placeholder:"\u8bf7\u8f93\u5165\u6807\u9898\u6216\u89c4\u5219ID",onSearch:N}),l.a.createElement("div",{className:D.a.btnZone},l.a.createElement(v["a"],{type:"primary",onClick:function(){window.open("/new/industryRepositorys/linkAdded?industryId=".concat(S,"&name=").concat(I))}},"\u5df2\u786e\u5b9a\u7684\u5546\u54c1\u94fe\u63a5"),l.a.createElement(y["a"],{content:"\u67e5\u770b\u88ab\u6807\u8bc6\u4e3a\u201c\u6682\u5ffd\u7565\u201d\u7684\u5546\u54c1\u94fe\u63a5"},l.a.createElement(O["a"],{style:{fontSize:"20px",color:"8c8c8c",cursor:"pointer"},onClick:function(){g["d"].push({pathname:"/industryRepositorys/linkRecycling",state:{industryId:S,name:I}})}})),l.a.createElement(v["a"],{type:"primary",onClick:function(){g["d"].push({pathname:"/industryRepositorys/industryCategory",state:{industryId:S}})}},"\u884c\u4e1a\u7c7b\u76ee"))),l.a.createElement("div",{className:D.a.filterContent},C["a"].map((function(t){return l.a.createElement("div",{key:t.id},l.a.createElement("span",{className:D.a.name},t.name),"price"!==t.id?l.a.createElement(h["a"],{optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},mode:"multiple",style:{width:200},placeholder:"\u8bf7\u9009\u62e9",onChange:function(e,n){return R(Object(p["a"])({},"".concat(t.ids),e))}},j[t.id]&&j[t.id].map((function(e){return l.a.createElement(h["a"].Option,{key:e.id,value:e.id},e.name)}))):l.a.createElement("span",null,l.a.createElement(m["a"],{style:{width:120,textAlign:"center"},placeholder:"\u6700\u4f4e\u4ef7",onChange:e._handleOnMinChange,onPressEnter:function(){if(Number(a)===parseFloat(a)){if(r&&parseFloat(r)<parseFloat(a))return void k["default"].error("\u6700\u4f4e\u4ef7\u4e0d\u80fd\u5927\u4e8e\u6700\u9ad8\u4ef7");R({minPrice:a})}else""===a?R({minPrice:a}):k["default"].error("\u8bf7\u8f93\u5165\u6570\u5b57\u683c\u5f0f")}}),l.a.createElement(m["a"],{className:"site-input-split",style:{width:30,borderLeft:0,borderRight:0,pointerEvents:"none"},placeholder:"~",disabled:!0}),l.a.createElement(m["a"],{className:"site-input-right",style:{width:120,textAlign:"center"},placeholder:"\u6700\u9ad8\u4ef7",onChange:e._handleOnMaxChange,onPressEnter:function(){if(Number(r)===parseFloat(r)){if(a&&parseFloat(r)<parseFloat(a))return void k["default"].error("\u6700\u4f4e\u4ef7\u4e0d\u80fd\u5927\u4e8e\u6700\u9ad8\u4ef7");R({maxPrice:r})}else""===r?R({maxPrice:r}):k["default"].error("\u8bf7\u8f93\u5165\u6570\u5b57\u683c\u5f0f")}})))})),l.a.createElement("span",null,"SPU\u8bcd\u6761"),l.a.createElement(h["a"],{optionFilterProp:"children",filterOption:function(e,t){return t.children.trim().toLowerCase().indexOf(e.trim().toLowerCase())>=0},mode:"multiple",style:{width:200},placeholder:"\u8bf7\u9009\u62e9",onChange:function(e,t){return R({spuGroupList:e})}},x.map((function(e){return l.a.createElement(h["a"].Option,{key:e.id,value:e.id},e.name)}))),l.a.createElement("span",null,"SKU\u8bcd\u6761"),l.a.createElement(h["a"],{optionFilterProp:"children",filterOption:function(e,t){return t.children.trim().toLowerCase().indexOf(e.trim().toLowerCase())>=0},mode:"multiple",style:{width:200},placeholder:"\u8bf7\u9009\u62e9",onChange:function(e,t){return R({skuGroupList:e})}},T.map((function(e){return l.a.createElement(h["a"].Option,{key:e.id,value:e.id},e.name)})))),l.a.createElement(f["a"],{dataSource:s,columns:n,loading:c,rowKey:function(e){var t=e.id;return t},pagination:{current:u,showSizeChanger:!0,pageSize:d,total:b,onChange:w,onShowSizeChange:E,pageSizeOptions:["10","20","50","100"],showTotal:function(e,t){return"".concat(t[0]," - ").concat(t[1],"\u9879\uff0c\u5171").concat(e,"\u9879")}}}),l.a.createElement(A,{onFocus:o,titleName:I,ref:function(t){return e.modalRef=t}}))}}]),n}(l.a.PureComponent),U=K,J=n("55Ip"),V=function(e){var t=e.industryId,n=e.loading,a=e.linkList,r=e.firstId,i=e.spuList,o=e.skuList,c=e.pageIndex,s=e.pageSize,u=e.total,f=e.filterList,p=e.onSearch,m=e.onPageChange,v=e.onPageSizeChange,h=e.onFilterChange,b=e.onEdit,y=e.fetchDetail,k=e.titleName,O=e.spuGroupList,g=e.onFocus,C=e.editLoading,N={routes:[{path:"/",breadcrumbName:"\u9996\u9875"},{path:"/industryRepositorys",breadcrumbName:k},{path:"",breadcrumbName:"\u5546\u54c1\u94fe\u63a5"}],itemRender:function(e,t,n,a){var r=1===n.indexOf(e);return r?l.a.createElement(J["a"],{to:{pathname:e.path,state:e.state},style:{color:"rgba(0,0,0,0.65)"}},e.breadcrumbName):l.a.createElement("span",null,e.breadcrumbName)}};return l.a.createElement(d["b"],{title:"\u5546\u54c1\u94fe\u63a5",breadcrumb:N},l.a.createElement(U,{industryId:t,loading:n,data:a,spuList:i,skuList:o,pageIndex:c,pageSize:s,total:u,firstId:r,onSearch:p,onPageChange:m,onPageSizeChange:v,onEdit:b,fetchDetail:y,filterList:f,onFilterChange:h,titleName:k,onFocus:g,spuGroupList:O,editLoading:C}))},H=V,q=n("Cot+"),X=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(e){var a,o;Object(i["a"])(this,n),o=t.call(this,e),o.event=void 0,o._handleOnFilterChange=function(e){var t=o.props.name;o.props.fetchLinkList(Object(r["a"])(Object(r["a"])({},e),{},{name:t,pageIndex:1}))},o._handleOnSearch=function(e){o.props.fetchLinkList({name:e,pageIndex:1})},o._handleOnPageChange=function(e,t){var n=o.props,a=n.name,r=n.fetchLinkList;r({name:a,pageIndex:e,pageSize:t})},o._handleOnPageSizeChange=function(e,t){o._handleOnPageChange(1,t)},o._handleOnEdit=function(e){o.props.fetchEdit(e)},o._handleOnFocus=function(){var e,t,n=o.props,a=n.location,r=n.spuList,i=n.skuList,c=Object(q["b"])(q["a"].newEntry),s=c.spuName,u=c.skuName,l=c.spuId,d=c.skuId;(s&&!r.find((function(e){return s.includes(e.name.replaceAll(e.split,"").replaceAll("|",""))}))||u&&!i.find((function(e){return u.includes(e.name.replaceAll(e.split,"").replaceAll("|",""))}))||l&&!r.find((function(e){return String(e.id)===String(l)}))||d&&!i.find((function(e){return String(e.id)===String(d)})))&&o.props.fetchEntryOpts({industryId:null===(e=a.state)||void 0===e?void 0:e.industryId,id:null===(t=a.state)||void 0===t?void 0:t.industryId})};var c=e,s=c.location,u=s.state.industryId;return o.state={titleName:null===(a=s.state)||void 0===a?void 0:a.name},o.event={onSearch:o._handleOnSearch,onFilterChange:o._handleOnFilterChange,onPageChange:o._handleOnPageChange,onPageSizeChange:o._handleOnPageSizeChange,onEdit:o._handleOnEdit,onFocus:o._handleOnFocus},e.save({industryId:u}),o}return Object(o["a"])(n,[{key:"componentDidMount",value:function(){var e,t,n=this.props,a=n.location;this.props.fetchEntryOpts({industryId:(null===(e=a.state)||void 0===e?void 0:e.industryId)||1}),this.props.fetchFilterList({industryId:null===(t=a.state)||void 0===t?void 0:t.industryId})}},{key:"componentWillUnmount",value:function(){this.props.clean()}},{key:"render",value:function(){return l.a.createElement(H,Object(a["a"])({},this.props,this.state,this.event))}}]),n}(l.a.PureComponent),W=function(e){var t=e.linkOverview,n=e.loading;return Object(r["a"])(Object(r["a"])({},t),{},{loading:n.effects["linkOverview/fetchLinkList"]||!1,editLoading:n.effects["linkOverview/fetchEdit"]||!1})},Q=function(e){return{save:function(t){return e({type:"linkOverview/save",payload:t})},clean:function(){return e({type:"linkOverview/clean"})},fetchDetail:function(t){return e({type:"linkOverview/fetchDetail",payload:t})},fetchFilterList:function(t){return e({type:"linkOverview/fetchFilterList",payload:t})},fetchLinkList:function(t){return e({type:"linkOverview/fetchLinkList",payload:t})},fetchEdit:function(t){return e({type:"linkOverview/fetchEdit",payload:t})},fetchEntryOpts:function(t){return e({type:"linkOverview/fetchEntryOpts",payload:t})}}};t["default"]=Object(g["a"])(W,Q)(X)},qMuR:function(e,t,n){"use strict";var a=n("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M508 704c79.5 0 144-64.5 144-144s-64.5-144-144-144-144 64.5-144 144 64.5 144 144 144zm0-224c44.2 0 80 35.8 80 80s-35.8 80-80 80-80-35.8-80-80 35.8-80 80-80z"}},{tag:"path",attrs:{d:"M832 256h-28.1l-35.7-120.9c-4-13.7-16.5-23.1-30.7-23.1h-451c-14.3 0-26.8 9.4-30.7 23.1L220.1 256H192c-17.7 0-32 14.3-32 32v28c0 4.4 3.6 8 8 8h45.8l47.7 558.7a32 32 0 0031.9 29.3h429.2a32 32 0 0031.9-29.3L802.2 324H856c4.4 0 8-3.6 8-8v-28c0-17.7-14.3-32-32-32zm-518.6-76h397.2l22.4 76H291l22.4-76zm376.2 664H326.4L282 324h451.9l-44.3 520z"}}]},name:"rest",theme:"outlined"},i=r,o=n("6VBw"),c=function(e,t){return a["createElement"](o["a"],Object.assign({},e,{ref:t,icon:i}))};c.displayName="RestOutlined";t["a"]=a["forwardRef"](c)}}]);
(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[2143],{46700:(e,t,n)=>{var r={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=46700},32807:(e,t,n)=>{"use strict";n.d(t,{FrU:()=>a,Sob:()=>i,CIS:()=>o,sFA:()=>c,BGn:()=>s,z8N:()=>u,U0p:()=>l,aBi:()=>p,lG5:()=>d,z5L:()=>f,Hy2:()=>h,Dn8:()=>m});var r=n(49722),a=function(e){return r.h.post("/customer/journey/addJourney",e)},i=function(e){return r.h.post("/customer/journey/checkName",e)},o=function(e){return r.h.post("/customer/journey/detail",e)},c=function(e){return r.h.post("/customer/journey/map/upload",e)},s=function(e){return r.h.post("/customer/journey/update",e)},u=function(e){return r.h.post("/default/value/find",e)},l=function(e){return r.h.post("/default/value/update",e)},p=function(e){return r.h.post("/product/overview/chart/comment/find",e)},d=function(e){return r.h.post("/product/overview/chart/comment/v2/find",e)},f=function(e){return r.h.post("/product/overview/comment/overview/find",e)},h=function(e){return r.h.post("/questionnaire/createTextTask",e)},m=function(e){return r.h.post("/questionnaire/findTextResult",e)}},12621:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.key,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.key,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:a,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=n(74483),f=n(30381),h=n.n(f),m=n(35239),v=n(64396).Z.account.auditLog.timeScreening,y={type:"",dateFilter:void 0,projectId:void 0,selectedDateRange:[],selectedQuickTimeChoice:8,staredQuickTimeChoice:-1,quickTime:""};const g={namespace:v,state:Object.assign({},y),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(y))}},effects:{init:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,o=n.take,c=r.type,s=r.params,e.next=5,a({type:"save",payload:{type:c,projectId:m.t.get(m.V.curProject).id}});case 5:return u="default-time-"+c,e.next=8,a({type:"getDefaultValue",payload:{key:u,params:s,formatStr:"YYYY-MM-DD HH:mm:ss",defaultValue:m.t.getWidthProject(m.V.messageDateFilter)&&m.t.getWidthProject(m.V.messageDateFilter)[c]||void 0,projectId:m.t.get(m.V.curProject).id}});case 8:return e.next=10,o("getDefaultValue/@@end");case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})),getDefaultValue:i().mark((function e(t,n){var a,o,c,u,l,p,f,m,y,g,x,I,b,T,E,w,k,C,S,N,O;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[v]}));case 4:return l=e.sent,p=l.projectId,f=a.params,m=a.formatStr,y=a.defaultValue,g=a.key,e.next=9,o(s,{projectId:a.projectId||p,key:g});case 9:if(x=e.sent,2e4!==(I=x.data).code){e.next=28;break}if(!(T=JSON.parse(I.result))||-1===T.staredQuickTimeChoice){e.next=23;break}if(E=T.currSelector,w=T.selectedQuickTimeChoice,k=T.staredQuickTimeChoice,C=f&&-1===f.quickChoice.indexOf("-")?d.A$.indexOf(f.quickChoice):k>-1?k:w,S=f?-1===f.quickChoice.indexOf("-")?(0,d.B9)(C,m):[f.from,f.to]:k>-1?(0,d.B9)(k,m):(0,d.B9)(w,m),0!==E){e.next=21;break}return b={from:S[0],to:S[1],quickChoice:f&&f.quickChoice.indexOf("-")>-1?f.quickChoice:d.A$[C],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,d.vv)(S),currSelector:0},e.next=21,c({type:"save",payload:{selectedQuickTimeChoice:C,staredQuickTimeChoice:k,selectedDateRange:S,dateFilter:b,quickTime:f&&f.quickChoice.indexOf("-")>-1?"":d.A$[k]}});case 21:e.next=28;break;case 23:return N=f?-1===f.quickChoice.indexOf("-")?d.A$.indexOf(f.quickChoice):-1:y?-1===y.quickChoice.indexOf("-")?d.A$.indexOf(y.quickChoice):-1:y,O=f?N>0?(0,d.B9)(N,m):[f.from,f.to]:y?N>0?(0,d.B9)(N,m):[y.from,y.to]:[h()().subtract(29,"days"),h()()].map((function(e){return e.format(m)})),b={from:O[0],to:O[1],quickChoice:f?f.quickChoice:y?y.quickChoice:d.A$[8],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,d.vv)(O),currSelector:N>0||!N||f?0:1},e.next=28,c({type:"save",payload:{selectedQuickTimeChoice:N,staredQuickTimeChoice:-1,selectedDateRange:O,dateFilter:b,quickTime:""}});case 28:return e.abrupt("return",{dateFilter:b});case 29:case"end":return e.stop()}}),e)})),setDefaultValue:i().mark((function e(t,n){var a,o,c,s,u,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[v]}));case 4:return s=e.sent,u=s.projectId,e.prev=6,p=a.key,d=a.value,e.next=10,o(l,{projectId:a.projectId||u,key:p,value:d});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:case"end":return e.stop()}}),e,null,[[6,12]])}))}}},74483:(e,t,n)=>{"use strict";n.d(t,{Sz:()=>i,vv:()=>o,ld:()=>c,A$:()=>s,B9:()=>u,p6:()=>l});var r=n(30381),a=n.n(r),i=/([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,o=function(e,t){if(Array.isArray(e)){var n=e[0],r=e[1];return a()(r,t).diff(a()(n,t),"days")+1}return 0},c=["\u4eca\u5929","\u6628\u5929","\u672c\u5468","\u4e0a\u5468","\u672c\u6708","\u4e0a\u6708","\u672c\u5b63","\u4e0a\u5b63","\u4eca\u5e74","\u53bb\u5e74"],s=["\u4eca\u5929","\u6628\u5929","\u672c\u5468","\u4e0a\u5468","\u8fd13\u5929","\u672c\u6708","\u8fd17\u5929","\u4e0a\u6708","\u8fd130\u5929","\u672c\u5b63","\u8fd190\u5929","\u4e0a\u5b63","\u8fd1180\u5929","\u4eca\u5e74","\u8fd1365\u5929","\u53bb\u5e74"],u=function(e,t){var n=[];switch(e){case 0:n=[a()().startOf("day"),a()()];break;case 1:n=[a()().subtract(1,"days").startOf("day"),a()().subtract(1,"days").endOf("day")];break;case 2:n=[a()().startOf("week"),a()()];break;case 3:n=[a()().subtract(1,"weeks").startOf("week"),a()().subtract(1,"weeks").endOf("week")];break;case 5:n=[a()().startOf("month"),a()()];break;case 7:n=[a()().subtract(1,"months").startOf("month"),a()().subtract(1,"months").endOf("month")];break;case 9:n=[a()().startOf("quarter"),a()()];break;case 11:n=[a()().subtract(1,"quarters").startOf("quarter"),a()().subtract(1,"quarters").endOf("quarter")];break;case 13:n=[a()().startOf("year"),a()()];break;case 15:n=[a()().subtract(1,"years").startOf("year"),a()().subtract(1,"years").endOf("year")];break;case 4:n=[a()().subtract(3,"days"),a()()];break;case 6:n=[a()().subtract(7,"days"),a()()];break;case 8:n=[a()().subtract(29,"days"),a()()];break;case 10:n=[a()().subtract(89,"days"),a()()];break;case 12:n=[a()().subtract(179,"days"),a()()];break;case 14:n=[a()().subtract(364,"days"),a()()]}return n.map((function(e){return e.format(t)}))},l=function(e,t,n){for(var r="",a=0;a<t.length;a++){var i=void 0,o=void 0;if(n){var c=t[a].split(" ");i=c[0],o=c[1]}else i=t[a];for(var s=i.split("-"),u=0;u<s.length;u++)0===u&&(r+=s[u]+(1===e?"\u5e74":".")),1===u&&(r+=s[u]+(1===e?"\u6708":".")),2===u&&(r+=s[u]+(1===e?"\u65e5":""));o&&(r+=1===e?o.split(":")[0]+"\u65f6"+o.split(":")[1]+"\u5206":" "+o),0===a&&(r+=" - ")}return r}},54327:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(49722),s=function(e){return c.h.post("/product/overview/comment/overview/find",e)},u=function(e){return c.h.post("/product/overview/chart/comment/find",e)},l=n(40845),p=n(64396),d=["projectId","pageType"],f=p.Z.appComment.commentOverview,h={projectId:void 0,analysisModel:void 0,headerFilterParamsNew:void 0,dateFilter:void 0,dateOptions:[],defaultDateType:void 0,filterValues:[],pageType:"PRODUCT_COMMENT",cardData:void 0,starTrendData:void 0,starTrendCountType:"count",fStarTrendCountType:"",starTrendTimeType:"DAY",fStarTrendTimeType:"",feedbackData:void 0,feedbackEnablePos:!1,hotwordData:void 0,hotwordEnablePos:!1,emotionsData:void 0,emotionsTrendCountType:"COUNT",emotionsTimeType:"DAY",countData:void 0};const m={namespace:f,state:Object.assign({},h),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},h)}},effects:{fetchParams:o().mark((function e(t,n){var r,i,c,s,u,p,d,h,m,v,y,g,x,I,b,T,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[f]}));case 4:if(u=e.sent,p=u.headerFilterParamsNew,d=u.dateFilter,h=u.pageType,m=u.fStarTrendCountType,v=u.fStarTrendTimeType,JSON.stringify(p)!==JSON.stringify(r.headerFilterParamsNew)||JSON.stringify(d)!==JSON.stringify(r.dateFilter)){e.next=12;break}return e.abrupt("return");case 12:return y={fStarTrendCountType:m,fStarTrendTimeType:v},g={starTrendTimeType:v||r.defaultDateType,starTrendCountType:m||"count"},e.next=16,i(l.o,{projectId:r.projectId,key:h});case 16:if(x=e.sent,2e4===(I=x.data).code&&I.result)try{b=JSON.parse(I.result),Object.keys(b).forEach((function(e){y[e]=b[e]})),T=Object.keys(g),Object.keys(y).forEach((function(e,t){y[e]&&(g[T[t]]=y[e])}))}catch(o){}return["starTrendTimeType"].forEach((function(e){!r.dateOptions.find((function(t){return t.value===g[e]}))&&(g[e]=r.defaultDateType)})),E=(0,a.Z)({},r,g,y,{emotionsTimeType:r.defaultDateType,starTrendTimeType:r.defaultDateType}),e.next=23,c({type:"save",payload:E});case 23:return e.next=25,c({type:"fetchDatas",payload:E});case 25:case"end":return e.stop()}}),e)})),fetchDatas:o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchCardData",payload:r});case 4:return e.next=6,a({type:"fetchStarTrendData",payload:r});case 6:return e.next=8,a({type:"fetchFeedbackData",payload:r});case 8:return e.next=10,a({type:"fetchHotwordData",payload:r});case 10:return e.next=12,a({type:"fetchEmotionsData",payload:r});case 12:return e.next=14,a({type:"fetchCountData",payload:r});case 14:case"end":return e.stop()}}),e)})),fetchCardData:o().mark((function e(t,n){var r,i,c,u,l,p,d,h,m,v,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,p=l.projectId,d=l.dateFilter,h=l.headerFilterParamsNew,m="error",e.prev=9,e.next=12,i(s,{projectId:r.projectId||p,dateFilter:r.dateFilter||d,headerFilterParamsNew:r.headerFilterParamsNew||h,categoryId:"21"});case 12:v=e.sent,y=v.data,m=2e4===y.code&&y.result?y.result:"empty",e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,u({type:"save",payload:(0,a.Z)({},r,{cardData:m})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchFeedbackData:o().mark((function e(t,n){var r,i,c,s,l,p,d,h,m,v,y,g,x,I,b,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,p=l.projectId,d=l.dateFilter,h=l.headerFilterParamsNew,m=l.feedbackEnablePos,v="error",e.prev=10,e.next=13,i(u,{projectId:r.projectId||p,dateFilter:r.dateFilter||d,headerFilterParamsNew:r.headerFilterParamsNew||h,enablePos:void 0!==r.feedbackEnablePos?r.feedbackEnablePos:m,topSize:100,generalChartType:"HOT_WORD_CHART",category:"APP_COMMENT"});case 13:x=e.sent,2e4===(I=x.data).code&&null!=(y=I.result)&&null!=(g=y.list)&&g.length?(b=I.result.list,T=b.reduce((function(e,t){return e+t.total}),0),v=b.sort((function(e,t){return t.total-e.total})).map((function(e){return(0,a.Z)({},e,{precent:e.total/T,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}))):v="empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,a.Z)({feedbackData:v},r)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchStarTrendData:o().mark((function e(t,n){var r,i,c,s,l,p,d,h,m,v,y,g,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,p=l.projectId,d=l.dateFilter,h=l.headerFilterParamsNew,m=l.defaultDateType,v=l.starTrendTimeType,y="error",e.prev=11,e.next=14,i(u,{projectId:r.projectId||p,dateFilter:(0,a.Z)({},r.dateFilter||d,{dateGroupType:r.starTrendTimeType||m}),headerFilterParamsNew:r.headerFilterParamsNew||h,generalChartType:"SECOND_LAYER_DATE_AGGREGATION_CHART",category:"APP_COMMENT",firstLayerAggregationType:"STAR"});case 14:g=e.sent,x=g.data,y=2e4===x.code&&x.result.list.length?x.result.list.filter((function(e){return e.key>0&&e.key<6})).sort((function(e,t){return e.key-t.key})):"empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,s({type:"save",payload:{starTrendData:y,starTrendTimeType:r.starTrendTimeType||v}});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchHotwordData:o().mark((function e(t,n){var r,i,c,s,l,p,d,h,m,v,y,g,x,I,b,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,p=l.projectId,d=l.dateFilter,h=l.headerFilterParamsNew,m=l.hotwordEnablePos,v="error",e.prev=10,e.next=13,i(u,{projectId:r.projectId||p,dateFilter:r.dateFilter||d,headerFilterParamsNew:r.headerFilterParamsNew||h,enablePos:void 0!==r.hotwordEnablePos?r.hotwordEnablePos:m,topSize:100,generalChartType:"HOT_WORD_CHART",category:"APP_COMMENT"});case 13:x=e.sent,2e4===(I=x.data).code&&null!=(y=I.result)&&null!=(g=y.list)&&g.length?(b=I.result.list,T=b.reduce((function(e,t){return e+t.total}),0),v=b.sort((function(e,t){return t.total-e.total})).map((function(e){return(0,a.Z)({},e,{precent:e.total/T,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}))):v="empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,a.Z)({hotwordData:v},r)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchEmotionsData:o().mark((function e(t,n){var r,i,c,s,l,p,d,h,m,v,y,g,x,I,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,p=l.projectId,d=l.dateFilter,h=l.headerFilterParamsNew,m=l.defaultDateType,v="error",e.prev=10,e.next=13,i(u,{projectId:r.projectId||p,dateFilter:(0,a.Z)({},r.dateFilter||d,{dateGroupType:r.emotionsTimeType||m}),headerFilterParamsNew:r.headerFilterParamsNew||h,generalChartType:"SECOND_LAYER_DATE_AGGREGATION_CHART",category:"APP_COMMENT",firstLayerAggregationType:"EMOTION"});case 13:x=e.sent,2e4===(I=x.data).code&&null!=(y=I.result)&&null!=(g=y.list)&&g.length?(b=I.result.list,v=b.filter((function(e){return["0","1","-1"].includes(e.key)}))):v="empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,a.Z)({emotionsData:v},r)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchCountData:o().mark((function e(t,n){var r,i,c,s,l,p,d,h,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,p=l.projectId,d=l.dateFilter,h=l.headerFilterParamsNew,m="error",e.prev=9,e.next=12,i(u,{projectId:r.projectId||p,dateFilter:r.dateFilter||d,headerFilterParamsNew:r.headerFilterParamsNew||h,generalChartType:"APP_COMMENT_WORLD_MAP_CHART",category:"APP_COMMENT"});case 12:y=e.sent,g=y.data,m=2e4===g.code&&null!=(v=g.result)&&v.length?g.result:"empty",e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,c({type:"save",payload:{countData:m}});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),setDefaultValue:o().mark((function e(t,n){var i,c,s,u,p,h,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[f]}));case 4:return p=e.sent,h=p.projectId,m=p.pageType,v=(0,r.Z)(p,d),y=["fStarTrendTimeType"].reduce((function(e,t){return e[t]=void 0!==i[t]?i[t]:v[t],e}),{}),e.prev=9,e.next=12,c(l.s,{projectId:i.projectId||h,key:m,value:JSON.stringify(y)});case 12:if(g=e.sent,2e4!==g.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:(0,a.Z)({},i)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))}}},55122:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(35239),c=n(49722);function s(e){return c.h.post("/widget/data/find/EMOTION_COUNTER_BAR",(0,r.Z)({},e))}function u(e,t){return c.h.post(e,(0,r.Z)({},t))}var l=n(64396).Z.aspectDetail.opinionChart,p=[{title:"\u7c97",value:20,disabled:!1},{title:"\u4e2d",value:40,disabled:!1},{title:"\u7ec6",value:60,disabled:!1}],d=function(e){var t=e.reduce((function(e,t){return t?e+t.value:e}),0);e.forEach((function(e){e&&(e.ratio=(e.value/t*100).toFixed(2)+"%")}))},f=function(e){var t=e,n=t.sort((function(e,t){return t.value-e.value}));if(n.length>=60)t=n.slice(0,60),d(t);else{var r=Math.ceil(n.length/30);t=[].concat(n,Array(30*r-t.length).fill(void 0)),d(t)}return t};const h={namespace:l,state:{wordCloud:!0,queryTimeType:"",count:0,average:0,json_bar:"\u6ca1\u6709\u6570\u636e\u53ef\u7528",json_word:[],clusterType:p[0].value,clusterTypeOptions:p,opinion:o.t.get(o.V.curProject)&&o.t.get(o.V.curProject).submenu&&o.t.get(o.V.curProject).submenu.includes("OPINION"),currTaskId:"",reloaded:!1,refreshing:!1,allData:{20:[],40:[],60:[]},type:1,opinionTaskValid:!0,invalidReason:0,hasRecord:!1,messageTotal:0,loading:!1,storagedAspectDetails:[]},effects:{getList:i().mark((function e(t,n){var a,o,c,u,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[l]}));case 3:return u=e.sent,p=u.queryParams,e.next=7,a(s,(0,r.Z)({},p));case 7:if(2e4!==(d=e.sent).data.code){e.next=12;break}return f=d.data.result,h=f.total,m=f.avg,v=f.list,e.next=12,o({type:"save",payload:{json_bar:v,count:h,average:m}});case 12:case"end":return e.stop()}}),e)})),getWordCloudList:i().mark((function e(t,n){var a,o,c,s,p,d,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[l]}));case 3:if(s=e.sent,p=s.queryParams,d=s.clusterType,h=s.type,m=s.currTaskId,v=s.opinionTaskValid,!p||!v){e.next=19;break}return 4!==h?(y="/opinion/result",g={projectId:p.projectId,filterModel:{taskId:m,clusterLevel:d}}):(y="/widget/data/find/OPINION_WORD",g=(0,r.Z)({},p)),e.next=13,a(u,y,g);case 13:if(2e4!==(x=e.sent).data.code){e.next=19;break}return(I=x.data.result||[]).length>0&&(I=f(I)),e.next=19,o({type:"save",payload:{json_word:I,loading:4===h}});case 19:case"end":return e.stop()}}),e)})),handleOpinion:i().mark((function e(t,n){var a,c,s,u,p,d,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,c=n.put,s=n.select,u=a.clusterLevel,p=a.data,d=a.taskId,h=a.aspectEscoreType,e.next=5,s((function(e){return(0,r.Z)({},e)[l]}));case 5:if(m=e.sent,v=m.allData,y=m.currTaskId,g=m.hasRecord,x=m.type,I=m.clusterTypeOptions,b=m.refreshing,T=m.messageTotal,E=m.reloaded,w=m.storagedAspectDetails,d!==y||g){e.next=39;break}if(!(u>0)){e.next=34;break}return v[u]=f(p),!b||g||E||Object.keys(v).forEach((function(e,t){I[t].disabled=0===v[e].length})),e.next=21,c({type:"save",payload:{allData:JSON.parse(JSON.stringify(v)),clusterTypeOptions:JSON.parse(JSON.stringify(I))}});case 21:if(20!==u){e.next=25;break}return k=f(p),e.next=25,c({type:"save",payload:{json_word:k,loading:!1}});case 25:if(60!==u){e.next=32;break}return C=decodeURIComponent(window.location.search).split("?"),C[0],S=C[1],N={taskId:y,uri:S,data:JSON.parse(JSON.stringify(v))},o.t.set(o.V.opinionDetail,N),O=[].concat(w||[],[{taskId:y,uri:S,escore:h,data:JSON.parse(JSON.stringify(v))}]),e.next=32,c({type:"save",payload:{storagedAspectDetails:O}});case 32:e.next=39;break;case 34:return e.next=36,c({type:"save",payload:{refreshing:!1,clusterTypeOptions:I.map((function(e){return e.disabled=!1,e}))}});case 36:if(!(4!==x&&T>5e3)){e.next=39;break}return e.next=39,c({type:"getWordCloudList"});case 39:case"end":return e.stop()}}),e)})),reset:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,e.next=3,r({type:"save",payload:{reloaded:!1,loading:!0,allData:{20:[],40:[],60:[]},json_word:[]}});case 3:case"end":return e.stop()}}),e)})),resetClusterOptions:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,e.next=3,r({type:"save",payload:{clusterTypeOptions:p}});case 3:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},81777:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(87462),a=n(87757),i=n.n(a),o=function(e){var t=e.wordAgeList.sort((function(e,t){return t.count-e.count})).slice(0,100).map((function(e,t,n){var r=e.count/n[0].count*40;return{name:e.keyword,value:[e.age,e.count,e.keyword,r<10?10:r]}})),n=t.length>0?t[0].value[1].toString().length:0;return{title:{text:"\u8bcd\u9f84-\u8bcd\u9891\u6563\u70b9\u56fe",left:0,top:10},grid:{left:18*Math.ceil((n+1)/2)+20,top:"10%",bottom:"10%",right:"10%"},xAxis:{type:"value",maxInterval:864e5,axisLabel:{formatter:function(e){return 0===e?"":e.toFixed(0)+"\u5929"}}},yAxis:{type:"value",axisLabel:{formatter:function(e){return 0===e?0:e.toFixed(0)}}},dataZoom:[{type:"slider",xAxisIndex:0,showDetail:!1,height:20,bottom:0,fiterMode:"empty"},{type:"slider",yAxisIndex:0,left:0,showDetail:!1,width:20,fiterMode:"empty"}],tooltip:{formatter:function(e){var t=e.value;e.dataIndex;return[e.marker+" "+t[2],"\u8bcd\u9f84\uff1a"+t[0]+"\u5929","\u8bcd\u9891\uff1a"+t[1]].join("<br>")}},series:{type:"scatter",name:"scatterSeries",symbolSize:function(e){return e[3]},itemStyle:{normal:{color:"#1574B388"},emphasis:{color:"#1FA1F788"}},data:t}}},c=function(e){return{title:{text:"\u8bcd\u4e91\u56fe\u8c31",left:0},tooltip:{formatter:function(e){return e.marker+" "+e.name+"\uff1a"+e.data.oriValue}},series:{name:"opinionWordCloud",type:"wordCloud",shape:"circle",left:"center",top:"center",sizeRange:[12,60],gridSize:6,rotationRange:[0,0],drawOutOfBound:!1,data:e.list.sort((function(e,t){return t.count-e.count})).slice(0,100).map((function(e){return{name:e.name,value:Math.sqrt(e.total),oriValue:e.total}})),textStyle:{emphasis:{color:"#D8D8D8"}}}}},s=n(49722);function u(e){return s.h.post("/opinion/result/other",(0,r.Z)({},e))}const l={namespace:n(64396).Z.aspectDetail.detail,state:{msgCount:0,topChartData:{chartData:{wordAgeList:[],list:[]},sOption:{},wOption:{}}},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchWordData:i().mark((function e(t,n){var r,a,s,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,n.select,l={wordAgeList:[],list:[]},e.prev=3,e.next=6,a(u,r);case 6:p=e.sent,2e4===(d=p.data).code&&(l=d.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,s({type:"save",payload:{topChartData:{chartData:l,sOption:o(l),wOption:c(l)}}});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[3,11,13,17]])}))}}},4878:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.searchKey,r=e.pageIndex,a=void 0===r?1:r,i=e.pageSize,c=void 0===i?20:i,s=e.filterModel,u=void 0===s?{}:s,l=e.statusList,p=void 0===l?[]:l;return o.h.post("/warning/log/user/project/aspect/list",{projectId:t,title:n,pageIndex:a,pageSize:c,filterModel:u,statusList:p})}const s={namespace:n(64396).Z.aspectWarning,state:{projectId:void 0,initLoading:!0,warningData:{data:void 0,fetchParams:{statusList:[],analysis:{},aspect:{aspect1:[],aspect2:[]},searchKey:"",pageIndex:1,pageSize:20}}},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchWarningList:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return e.aspectWarning}));case 4:return l=e.sent,p=l.warningData,d=l.projectId,f={},a.analysis||a.aspect?f=(0,r.Z)({},p.fetchParams,{filterModel:(0,r.Z)({analysis:p.fetchParams.analysis,aspect:p.fetchParams.aspect},a),pageIndex:1,projectId:a.projectId||d}):(f=(0,r.Z)({},p.fetchParams,{filterModel:{analysis:p.fetchParams.analysis,aspect:p.fetchParams.aspect}},a,{projectId:a.projectId||d}),a.statusList&&(f.pageIndex=1)),h=void 0,e.prev=10,e.next=13,o(c,f);case 13:m=e.sent,2e4===(v=m.data).code&&(h=v.result),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,y={warningData:{data:h,fetchParams:(0,r.Z)({},p.fetchParams,a)},initLoading:!1},a.projectId&&(y.projectId=a.projectId),e.next=25,u({type:"save",payload:y});case 25:return e.finish(20);case 26:case"end":return e.stop()}}),e,null,[[10,18,20,26]])}))}}},90646:(e,t,n)=>{"use strict";n.d(t,{Oq:()=>s,p9:()=>u,Kj:()=>c,kQ:()=>l});var r=n(87462),a=n(70715),i=n(39432),o=n(94644),c=function(e){var t=e.slice(0,10),n=Math.sqrt(t[0].total);return t.map((function(e){return(0,r.Z)({},e,{rate:Math.sqrt(e.total)/n})}))},s=function(e,t){return{series:[{type:"graph",layout:"force",silent:!0,animation:!1,legendHoverLink:!1,force:{repulsion:[.4*t,.8*t],gravity:.11,layoutAnimation:!1},itemStyle:{color:"#ffffffff"},data:e.map((function(e){return{symbolSize:e.rate*t/3}}))}]}},u=function(e,t,n,r,o){return{title:{text:t},graphic:[{type:"text",left:(0,i.jD)(t,14)+8+20,top:18,style:{text:"(\u6765\u81ea\u5168\u90e8\u6d88\u606f)",font:"normal 14px "+a.I8,fill:"#8C8C8C"}}],tooltip:{formatter:function(e){var t=e.marker,n=e.data,r=n.value,a=n.name,i=n.total;return"label"!==a?[t+" "+a,"\u58f0\u91cf\uff1a"+r,"\u5360\u6bd4\uff1a"+(r/i*100).toFixed(2)+"%"].join("<br>"):[i.name+"\uff1a"+i.total,'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#D96969;"></span> \u8d1f\u9762\uff1a'+i.negativeCount+'<span style="color: #8c8c8c">('+(i.negativeCount/i.total*100).toFixed(2)+"%)</span>",'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#0074B8;"></span> \u4e2d\u6027\uff1a'+i.neutralCount+'<span style="color: #8c8c8c">('+(i.neutralCount/i.total*100).toFixed(2)+"%)</span>",'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#00B76E;"></span> \u6b63\u9762\uff1a'+i.positiveCount+'<span style="color: #8c8c8c">('+(i.positiveCount/i.total*100).toFixed(2)+"%)</span>"].join("<br>")}},series:n.map((function(t,n){var i=e[n],c=i.rate*r/3*.35,s=26*i.rate,u=s*i.name.length>2*(c-10)?2*(c-10)/i.name.length:s;return{type:"pie",name:i.name,center:t,hoverOffset:4,radius:[c-5,c],label:{normal:{show:!0,position:"center",formatter:"{a|"+i.name+"}",rich:{a:{color:"#262626",fontSize:u,fontFamily:a.I8}}}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(155,155,155,0.5)",borderColor:"#ffffff",borderWidth:.5}},data:[{value:i.positiveCount,type:"pie",name:"\u6b63\u9762",selName:i.name,total:i.total,selEmotion:["PROMOTER"],itemStyle:o&&o.selName?{color:"pie"===o.type&&i.name===o.selName&&o.selEmotion.includes("PROMOTER")?"#15B374":"#8c8c8c"}:{}},{value:i.neutralCount,type:"pie",name:"\u4e2d\u6027",selName:i.name,total:i.total,selEmotion:["PASSIVE"],itemStyle:o&&o.selName?{color:"pie"===o.type&&i.name===o.selName&&o.selEmotion.includes("PASSIVE")?"#1574B3":"#8c8c8c"}:{}},{value:i.negativeCount,type:"pie",name:"\u8d1f\u9762",selName:i.name,total:i.total,selEmotion:["DETRACTOR"],itemStyle:o&&o.selName?{color:"pie"===o.type&&i.name===o.selName&&o.selEmotion.includes("DETRACTOR")?"#D96969":"#8c8c8c"}:{}},{value:0,name:"label",total:i,selName:i.name,selEmotion:["PROMOTER","PASSIVE","DETRACTOR"],type:"pie",itemStyle:{color:"#ffffffff"}}]}}))}},l=function(e,t,n,r){if("image"===t)(0,o._v)(e,r);else if("data"===t){var a=[n.reduce((function(e,t){return[].concat(e,[[t.name,t.total,t.positiveCount,t.neutralCount,t.negativeCount]])}),[["\u5173\u952e\u8bcd","\u58f0\u91cf\u603b\u6570","\u6b63\u9762","\u4e2d\u6027","\u8d1f\u9762"]])];(0,o.aT)(a,r)}}},70018:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>s,aq:()=>c,kQ:()=>u,Gn:()=>l});var r=n(87462),a=n(39432),i=n(70715),o={positive:"\u6b63\u9762",neutral:"\u4e2d\u6027",negative:"\u8d1f\u9762"};function c(e){var t=["\u65f6\u95f4"].concat(Object.values(o)),n=e.reduce((function(e,t){return[].concat(e,[["time"].concat(Object.keys(o)).map((function(e){return t[e]}))])}),[t]),r=e.reduce((function(e,t){return[].concat(e,[["time"].concat(Object.keys(o)).map((function(e,n){return 0===n?t[e]:0===t.total?0:t[e]/t.total}))])}),[t]);return{length:e.length,datasets:[{dimensions:t,source:n},{dimensions:t,source:r}]}}var s=function(e,t,n,o){var c=e.datasets,s=(e.length,(0,a.jD)(t)),u=o-226,l=t;if(u<s)for(var p=0,d=t.length;p<d;p++)if(l=t.substring(0,d-1-(p+1)),(s=(0,a.jD)(l+"...",12))<=u){l+="...";break}return{title:{text:l},grid:{containLabel:!0,left:20,right:20,bottom:20,top:80},tooltip:{type:"axis",formatter:function(e){var t=e.data,r=["\u6b63\u9762","\u4e2d\u6027","\u8d1f\u9762"].map((function(e,r){var a=t[r+1];return a="COUNT"===n?a:(100*a).toFixed(2)+"%",'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+i.Rt[r]+';"></span> '+e+"\uff1a"+a}));return[""+t[0]].concat(r).join("</br>")}},legend:{top:42,left:20,itemWidth:10,itemHeight:10,itemGap:16,icon:i.W4.square},dataset:c.map((function(e){return(0,r.Z)({},e)})),xAxis:[{type:"category"}],yAxis:[{type:"value",axisLabel:{formatter:function(e){return"RATIO"===n?e>100?"":100*e+"%":e}}}],series:[].concat(Array.from({length:3}).map((function(e,t){return{type:"bar",barMaxWidth:40,datasetIndex:"RATIO"===n?1:0,stack:"emotion"}})))}},u=function(e,t,n,r,a){var i=void 0;if("image"===t)i=e;else if("data"===t){var o=("COUNT"===a?n.datasets[0]:n.datasets[1]).source;i=[JSON.parse(JSON.stringify(o))]}r({type:t,obj:i,name:e.getOption().title[0].text})},l=[{title:"\u6bd4\u4f8b",value:"RATIO"},{title:"\u6570\u91cf",value:"COUNT"}]},97220:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),a=n(8201),i=n(39432),o=n(43036),c=n(45697),s=n.n(c),u=n(98191),l=function(e){var t=e.data,n=e.title,c=e.titleOverlay,s=e.bottomTitle,l=e.bottomOverlay,p=e.loading,d=r.useState("--"),f=d[0],h=d[1],m=r.useState(void 0),v=m[0],y=m[1];return r.useEffect((function(){(0,a.P)(t)&&(h(t.value),y(t.bottomValue))}),[t]),r.createElement(a.Z,{data:t,className:"yt_number_info_wrapper",loading:p,renderTitle:r.createElement(u.Z,{showDefTitle:!0,title:n,titleOverlay:c})},r.createElement("div",{className:"ni_middle"},r.createElement(o.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:f},r.createElement("span",null,i.ZP.getApproximateNum(f)))),s&&v&&r.createElement("div",{className:"ni_bottom"},r.createElement("span",null,s,"\uff1a"),r.createElement("span",null,i.ZP.getApproximateNum(v)),l&&r.createElement("span",null,r.createElement(o.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:l},r.createElement("i",{className:"icon-cem_file1"})))))};const p=l;l.propTypes={data:s().shape({value:s().oneOfType([s().string,s().number]),bottomValue:s().oneOfType([s().string,s().number])}),title:s().string,titleOverlay:s().string,bottomOverlay:s().string,loading:s().bool}},53946:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>c,Qj:()=>o,nF:()=>u,kQ:()=>s});var r=n(70715),a=n(94644),i={positive:"\u6b63\u9762",neutral:"\u4e2d\u6027",negative:"\u8d1f\u9762"};function o(e){var t=["\u6e20\u9053"].concat(Object.values(i)),n=e.reduce((function(e,t){return[].concat(e,[["name"].concat(Object.keys(i)).map((function(e){return t[e]}))])}),[t]),r=e.reduce((function(e,t){return[].concat(e,[["name"].concat(Object.keys(i)).map((function(e,n){return 0===n?t[e]:t[e]/t.total}))])}),[t]),a=["\u60c5\u611f"].concat(Object.values(i)),o=e.reduce((function(e,t){return e+t.total}),0),c=a.map((function(e,t){return[e,0===t?"\u6570\u91cf":n.reduce((function(e,n,r){return 0===r?e:e+n[t]}),0)]})),s=c.map((function(e,t){return[e[0],0===t?"\u6bd4\u4f8b":e[1]/o]}));return{length:e.length,datasets:[{dimensions:a,source:c},{dimensions:t,source:n},{dimensions:a,source:s},{dimensions:t,source:r}]}}var c=function(e,t,n){var a=e.datasets,o=(e.length,"NUMBER"===n?0:2);return{title:{text:t},color:r.Rt,tooltip:{trigger:"axis",formatter:function(e){if(e instanceof Array)return e.reduceRight((function(e,t){var r=t.marker,a=t.value,i=t.seriesName,o=a[4-t.seriesIndex];return o="NUMBER"===n?o:o?(100*o).toFixed(2)+"%":"0.00%",[].concat(e,[r+" "+i+"\uff1a"+o])}),[e[0].axisValue]).join("<br/>");var t=e.data,r=e.marker,a="NUMBER"===n?t[1]:(100*t[1]).toFixed(2)+"%";return[r+" "+t[0],("NUMBER"===n?"\u6570\u91cf":"\u6bd4\u4f8b")+"\uff1a"+a].join("</br>")}},grid:[{left:320,right:40,top:80,containLabel:!0}],legend:{itemWidth:12,itemHeight:12,itemGap:16,top:50,left:14,icon:r.W4.square},dataset:a.map((function(e){return e})),xAxis:{type:"category",axisTick:{show:!0,interval:0,alignWithLabel:!0},axisLabel:{show:!0,interval:0}},yAxis:{axisLabel:{showMinLabel:!1,formatter:function(e){return"NUMBER"===n?e:(100*e).toFixed(0)+"%"}}},series:[{type:"pie",datasetIndex:0+o,tooltip:{trigger:"item"},hoverOffset:0,center:[160,170],radius:74,label:{formatter:function(e){var t=e.data,r="NUMBER"===n?t[1]:(100*t[1]).toFixed(2)+"%";return["{a|"+t[0]+"}","{b|"+r+"}"].join("\n")},rich:{a:{color:"#000000"},b:{color:"#8C8C8C",lineHeight:17,verticalAlign:"bottom"}}},labelLine:{smooth:!0,length:5,lineStyle:{color:"#BFBFBF"}}}].concat(Array.from({length:3}).map((function(e,t){return{name:Object.values(i)[2-t],encode:{y:3-t,x:0},type:"bar",barMaxWidth:36,datasetIndex:1+o,stack:"emotion",itemStyle:{color:r.Rt[2-t]}}})))}};function s(e,t,n,r){if("image"===t)(0,a._v)(e,r);else if("data"===t){var i=n.datasets.reduce((function(e,t){return[].concat(e,t.source.map((function(e,t){return t>0?e.map((function(e,t){return t>0&&e<1?(100*e).toFixed(2)+"%":e})):e})),[[""]])}),[]);(0,a.aT)([i],r)}}var u=[{title:"\u6570\u91cf",value:"NUMBER"},{title:"\u6bd4\u4f8b",value:"RATIO"}]},29480:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>s,__:()=>l,kQ:()=>u,X7:()=>c});var r=n(87462),a=(n(67294),n(70715)),i=n(94644),o=n(39432);function c(e,t,n){var a=e.sort((function(e,t){return!(!t.data||!e.data)&&t.data[t.data.length-1].count-e.data[e.data.length-1].count}));"DAY"!==t&&(a=e.map((function(e){return(0,r.Z)({},e,{data:e.data.map((function(e){return(0,r.Z)({},e,{name:(0,o.yV)(t,e.name)})}))})})));var i=0,c=a.map((function(e){var t="--";if(n){var r=n.find((function(t){return t.name===e.name}));if(r&&0!==r.count){var a=e.total-r.count;t=0===a?"0":""+(a/r.count*100).toFixed(2)}}return i+=e.total,[e.name,e.total,t]})),s=a.map((function(e){return e.name})),u=["\u65e5\u671f"].concat(s),l=a[0].data.map((function(e){return[e.name]})),p=a.reduce((function(e,t){return t.data.forEach((function(t){return e.find((function(e){return e[0]===t.name})).push(t.count)})),e}),[].concat(l));return{allTotal:i,length:a.length,tableDatas:n?c.slice().sort((function(e,t){return t[1]-e[1]})).map((function(e){var t=0===e[1]?0:e[1]<1?(100*e[1]).toFixed(2)+"%":e[1];return[e[0],t,e[2]]})):void 0,datasets:[{dimensions:["\u6e20\u9053","\u6570\u91cf","\u73af\u6bd4"],source:c},{dimensions:u,source:p},{dimensions:["\u65e5\u671f","\u603b\u91cf"],source:p.map((function(e){return[e[0],e.reduce((function(e,t,n){return 0===n?e:e+t}),0)]}))}]}}var s=function(e,t,n,i){void 0===i&&(i="COUNT");var c=e.datasets,s=e.length,u="all"===n?2:1;return{title:{text:t},grid:[{left:400,right:40,top:80,containLabel:!0}],dataset:c.map((function(e){return(0,r.Z)({},e,{sourceHeader:!1})})),tooltip:{trigger:"axis",enterable:!0,hideDelay:500,formatter:function(e){var n=e[0].axisValue,r=e.map((function(e){var t=e.marker,n=e.seriesName,r=e.seriesIndex,a=e.data[r];return{name:t+" "+n+"\uff1a"+("RATIO"===i?0===a?0:(100*a).toFixed(2)+"%":a),value:a}}));return(r=r.sort((function(e,t){return t.value-e.value})).map((function(e){return e.name}))).splice(0,0,'<span class="yt_echart_tooltip_title">'+("\u5173\u6ce8\u5ea6"===t?"\u5173\u6ce8\u5ea6":"\u58f0\u91cf")+'<span style="color: #8C8C8C">\uff08'+n+"\uff09</span></span>"),r.join("</br>")}},legend:{top:40,left:400,right:40,itemWidth:14,itemHeight:12,type:"scroll",pageIconSize:12,data:c[u].dimensions.slice(1),icon:a.W4.lineRing},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!0}},yAxis:{minInterval:"RATIO"===i?void 0:1,axisLabel:{showMinLabel:!1,formatter:function(e){return"RATIO"===i?(100*e).toFixed(0)+"%":e}}},series:[{type:"pie",datasetIndex:0,hoverOffset:0,center:[200,160],radius:77,tooltip:{trigger:"item",formatter:function(e){var t=e.marker,n=e.data,r=n.value;return t+" "+n.name+"\uff1a"+("RATIO"===i?0===r?0:(100*r).toFixed(2)+"%":r)}},label:{formatter:function(e){var t=e.data,n=t.value;return["{a|"+t.name+"}","{b|"+("RATIO"===i?0===n?0:(100*n).toFixed(2)+"%":o.ZP.getApproximateNum(n))+"}"].join("\n")},rich:{a:{color:"#000000"},b:{color:"#8C8C8C",lineHeight:14,verticalAlign:"bottom"}}},labelLine:{smooth:!0,length:5,lineStyle:{color:"#BFBFBF"}},data:c[0].source.map((function(e,t){var n=t<8;return{value:e[1],name:e[0],label:{show:n},labelLine:{show:n},emphasis:{label:{show:n},labelLine:{show:n}}}}))}].concat(Array.from({length:"all"===n?1:s}).map((function(e,t){return{type:"line",stack:n,symbol:c[u].source.length>1?"none":"emptyCircle",datasetIndex:u,areaStyle:{opacity:.1},itemStyle:{color:a.Fq[t]}}})))}},u=function(e,t,n,r,a){if("image"===t)(0,i._v)(e,r);else if("data"===t){var o=n.tableDatas,c=n.datasets,s=JSON.parse(JSON.stringify([a||c[0].dimensions].concat(c[0].source.map((function(e){return[e[0],e[1]<1?(100*e[1]).toFixed(2)+"%":e[1],e[2]]})))));o||s.forEach((function(e){return e.splice(2,1)}));var u=[c[1].dimensions].concat(c[1].source),l=[].concat(s,[[""]],u);(0,i.aT)([l],r)}},l={c0:["cem_cumulate-colour-new","cem_cumulate-twocolour-new","\u4ea4\u9519\u6298\u7ebf\u56fe"],c1:["cem_cumulate","cem_cumulate-col","\u5806\u53e0\u6298\u7ebf\u56fe"],c2:["cem_cumulate-alone","cem_cumulate-alone-col","\u603b\u91cf\u56fe"]}},17707:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>s,yv:()=>i});var r=n(39432),a=n(70715);function i(e){var t=e[0]?e[0].path.split("@"):[];return{path:["\u5168\u90e8"].concat(t).filter((function(e){return e})),data:e}}function o(e,t){return(0,r.jD)(e,12)>12*t?e.substring(0,t-1)+"...":e}function c(e){switch(e){case 1:return"\u4e00\u7ea7";case 2:return"\u4e8c\u7ea7";case 3:return"\u4e09\u7ea7";case 4:return"\u56db\u7ea7";default:return"\u672a\u77e5"}}var s=function(e,t,n,i){var s=.4*n,u=e.treemap,l=u.path,p=u.data,d=e.heatmap,f=d.xNames,h=d.yNames,m=d.xMaxs,v=d.data,y=l.length,g=n-(14+s+10+20),x=Math.max.apply(null,f.map((function(e){var t=(0,r.jD)(e,12);return t>72?72:t}))),I=g/(f.length+1)<x;return{title:{text:t},grid:{left:s+24,top:80,bottom:I?55:45,right:40,containLabel:!0},xAxis:{type:"category",data:f,splitArea:{show:!0},axisLabel:{interval:0,rotate:I?45:0,margin:I?15:8,formatter:function(e){return o(e,6)}}},yAxis:{type:"category",data:h,name:i,nameTextStyle:{color:"#262626"},splitArea:{show:!0}},tooltip:{formatter:function(e){var t=e.borderColor,n=e.componentSubType,r=e.data;if("treemap"===n&&"#F7F8FA"!==t){var a=r.name,o=r.value,s=r.path;if(s)return["\u6307\u6807\u5c42\u7ea7\uff1a"+c(s.split("@").length+1),"\u6307\u6807\u540d\u79f0\uff1a"+a,"\u6307\u6807\u58f0\u91cf\uff1a"+o].join("</br>")}else if("heatmap"===n){var u=r.value;return[i+"\uff1a"+h[u[1]],"\u6307\u6807\u540d\u79f0\uff1a"+f[u[0]],"\u6307\u6807\u58f0\u91cf\uff1a"+u[2]].join("</br>")}}},dataZoom:[{type:"slider",show:!0,start:0,end:100,height:16,handleSize:"100%",bottom:15,showDelay:!1}],graphic:[{type:"group",bottom:15,left:(s+14-56*y-4*(y-1))/2,children:l.map((function(e,t){var n,i=o(e,4);return{type:"group",left:56*t,children:[{type:"polygon",info:l.slice(1,t+1),shape:{points:(n=0!==t,n?[[0,0],[52,0],[56,9],[52,18],[0,18],[4,9],[0,0]]:[[0,0],[52,0],[56,9],[52,18],[0,18],[0,0]])},style:{fill:"#E9EAEC"}},{type:"text",left:(56-(0,r.jD)(i,10))/2,top:4,info:l.slice(1,t+1),style:{text:i,font:"10px "+a.I8,fill:"#8C8C8C"}}]}}))}],series:[{name:"\u5168\u90e8",type:"treemap",left:14,top:50,bottom:50,width:s,leafDepth:2,nodeClick:!1,drillDownIcon:"",roam:!1,breadcrumb:{show:!1},levels:[{itemStyle:{borderColor:"#ffffff",borderWidth:0,gapWidth:4},upperLabel:{show:!1,color:"#262626"}},{itemStyle:{borderColor:"#F7F8FA",borderWidth:4,gapWidth:2},upperLabel:{show:!0,color:"#262626"},emphasis:{itemStyle:{borderColor:"#F7F8FA"},upperLabel:{show:!0,color:"#262626"}}}],data:p},{type:"heatmap",data:v.map((function(e){var t=e[0],n=(e[1],e[2]),r=m[t];return{value:e,itemStyle:{color:n?a.Fq[t]:"#e5e5e5",borderColor:"#fff",borderWidth:1,opacity:r&&n?1-.5*(1-n/r):1}}})),label:{show:!0}}]}}},7802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(67294),a=n(45697),i=n.n(a),o=n(43036),c=n(50976),s=n(30133),u=n(49975),l=n(31705),p=n(33798),d=n(94644),f=n(70715),h=function(e,t){if(e.length>0){for(var n=[],r=0;r<e.length;r++)if(0===r)"self"===t&&n.push(e[0]),n.push(["\u5168\u90e8"].concat(Array.from({length:e[0].length-1}).map((function(){return 0}))));else for(var a=1;a<e[r].length;a++)n["self"===t?1:0][a]+=e[r][a];return n}},m=n(39432),v=function(e){var t=e.isInitial,n=e.loading,a=e.isPercentage,i=e.title,v=e.titleDescription,y=e.tooltipTitle,g=e.data,x=e.diffData,I=e.dateRange,b=e.dateDimension,T=e.onDateDimensionChange,E=e.chartType,w=e.onChartTypeChange,k=e.chartTypeOptions,C=e.appendix,S=e.dimensionName,N=e.onClick,O=r.useState(void 0),_=O[0],j=O[1];r.useEffect((function(){if(!n&&_&&g.length>0){var e=function(e){var t=e.data,n=e.chartType,r=e.isPercentage,a=e.tooltipTitle;return{legend:{type:"scroll",pageIconSize:12,left:0,right:32,top:0,itemWidth:"bar"!==n?16:10,itemHeight:"bar"!==n?16:10,itemGap:8,textStyle:{padding:[2,8,0,0]},data:t.slice(1,t.length).sort((function(e,t){return t[t.length-1]-e[e.length-1]})).map((function(e){return{name:e[0],icon:"bar"!==n?f.W4.lineRing:"rect"}}))},tooltip:{trigger:"axis",formatter:function(e){return e.map((function(e,t){var n=e.marker,i=e.name,o=e.seriesName,c=e.value,s=e.encode.y;return(0===t?a+"\uff08"+i+"\uff09<br>":"")+n+" "+o+"\uff1a"+(r?(100*c[s]).toFixed(2)+"%":c[s])+"<br>"})).join("")}},grid:{show:!1,left:"2.5%",right:36,top:36,containLabel:!0},dataset:{source:t},xAxis:{type:"category",boundaryGap:"bar"===n},yAxis:{type:"value",axisLabel:{formatter:function(e){return r&&e>0?100*e+"%":e}},minInterval:r?.2:1},series:Array.from({length:t.length-1}).map((function(){return{type:"bar"===n?"bar":"line",seriesLayoutBy:"row",barMaxWidth:"bar"===n?36:0,barCategoryGap:"bar"===n?"22%":"0%",showSymbol:2===t[0].length,smooth:"bar"!==n,areaStyle:{opacity:"line"!==n&&"bar"!==n?.1:0},stack:"stack"===n?"stack":""}}))}}({data:"sum"===E?h(g,"self"):g,chartType:E,isPercentage:a,tooltipTitle:y});_.clear(),_.setOption(e)}}),[t,n,g,_,E]);var A=[{type:"bar",className:"cem_histogram-gray",activeClassName:"cem_histogram-colour",title:"\u7c07\u72b6\u67f1\u5f62\u56fe"},{type:"area",className:"cem_cumulate-colour-new",activeClassName:"cem_cumulate-twocolour-new",title:"\u4ea4\u9519\u6298\u7ebf\u56fe"},{type:"stack",className:"cem_cumulate",activeClassName:"cem_cumulate-col",title:"\u5806\u53e0\u6298\u7ebf\u56fe"},{type:"sum",className:"cem_cumulate-alone",activeClassName:"cem_cumulate-alone-col",title:"\u603b\u91cf\u56fe"}],D=[];if(k&&k.length>0)for(var M=0;M<A.length;M++)for(var R=0;R<k.length;R++)if(A[M].type===k[R]){D.push(A[M]);break}var L=[];if("sum"===E){for(var P=0,F=0,Z=0;Z<x.length;Z++)P+=x[Z][1],F+=x[Z][2];L.push(["\u5168\u90e8",P,F])}else{var V=JSON.parse(JSON.stringify(x));V.sort((function(e,t){return t[1]-e[1]})),L=V}return r.createElement("div",{className:"bar_trend-wrapper"},t?r.createElement(s.Z,null):r.createElement(r.Fragment,null,r.createElement("div",{className:0===D.length?"bar_trend-header no-chart-types":"bar_trend-header"},r.createElement("span",{className:"title"},i,v),r.createElement(l.Z,{onDownChartClick:function(){return function(e,t){(0,d._v)(e,t)}(_,i)},onDownExcelClick:function(){return function(e,t){e.length>0&&(0,d.aT)([e],t)}(g,i)}}),D.length>0&&r.createElement("div",{className:"chart-types"},D.map((function(e){var t=e.type,n=e.className,a=e.activeClassName,i=e.title;return r.createElement(o.Z,{key:t,placement:"top",overlay:i},r.createElement("span",null,r.createElement(p.Z,{enable:!0,isActive:E===t,defaultIcon:n,activeIcon:a,onClick:function(){return w(t)}})))}))),I&&r.createElement(u.Z,{dateRange:I,defaultValue:b,onChange:T}),C),r.createElement("div",{className:"bar_trend-body"},n||0!==g.length?r.createElement(r.Fragment,null,r.createElement("div",{className:"bar_trend-chart"},r.createElement(c.Z,{theme:"yunting_multi_color",option:{},showLoading:n,style:{width:"100%",height:"100%",display:g.length>0?"block":"none"},loadingOption:{text:"",color:"#1574B3"},onChartReady:function(e){return j(e)},onEvents:{click:N}})),r.createElement("div",{className:"bar_trend-table"},r.createElement("div",{className:"bar_trend-theader"},r.createElement("div",null,S),r.createElement("div",null,"\u5f53\u671f"),r.createElement("div",null,"\u73af\u6bd4",r.createElement(o.Z,{overlay:"\u73af\u6bd4\u589e\u957f=\uff08\u5f53\u671f-\u4e0a\u671f\uff09/ \u4e0a\u671f",placement:"top"},r.createElement("i",{className:"icon-cem_file1"})))),r.createElement("div",{className:"bar_trend-tbody"},L.map((function(e,t){return r.createElement("div",{key:t},r.createElement(o.Z,{overlay:e[0],placement:"top"},r.createElement("div",null,e[0])),r.createElement(o.Z,{overlay:a?(100*e[1]).toFixed(2)+"%":m.ZP.formatNumber(e[1]),placement:"top"},r.createElement("div",null,a?(100*e[1]).toFixed(2)+"%":m.ZP.formatNumber(e[1]))),r.createElement(o.Z,{overlay:r.createElement("div",{className:"table-cell"},0===e[2]?"-":((e[1]-e[2])/e[2]*100).toFixed(2)+"%",e[2]>0&&e[1]-e[2]!==0&&r.createElement("i",{className:"icon-cem_three-states-"+(e[1]-e[2]>0?"up":"down")})),overlayClassName:"trend-chart-table-content-pop",placement:"top"},r.createElement("div",null,0===e[2]?r.createElement("span",{style:{display:"inline-block",textAlign:"right",width:"100%",marginRight:14}},"--"):r.createElement(r.Fragment,null,r.createElement("span",{className:"ellipsis_value"},((e[1]-e[2])/e[2]*100).toFixed(2)),"%"),e[2]>0&&e[1]-e[2]!==0&&r.createElement("i",{className:"icon-cem_three-states-"+(e[1]-e[2]>0?"up":"down")}))))}))))):r.createElement("div",{className:"empty-block"},"\u6682\u65e0\u6570\u636e"))))};v.propTypes={isInitial:i().bool,loading:i().bool,isPercentage:i().bool,title:i().string.isRequired,tooltipTitle:i().string.isRequired,titleDescription:i().node,data:i().array.isRequired,diffData:i().array.isRequired,dateRange:i().number.isRequired,dateDimension:i().string.isRequired,onDateDimensionChange:i().func.isRequired,chartType:i().oneOf(["area","bar","stack","sum"]),chartTypeOptions:i().arrayOf(i().oneOf(["area","bar","stack","sum"])),onChartTypeChange:i().func,appendix:i().node,dimensionName:i().string.isRequired};const y=v},30118:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>o,kQ:()=>c,CA:()=>i,dA:()=>s});var r=n(39432),a=function(e){if("string"===typeof e)switch(!0){case"COMMENT"===e:return"\u8bc4\u8bba";case"ATTITUDE"===e:return"\u70b9\u8d5e";case"REPOST"===e:return"\u8f6c\u53d1";case"BROWSE"===e:return"\u6d4f\u89c8"}},i=function(e){if("string"===typeof e)switch(!0){case"\u8bc4\u8bba"===e:return"COMMENT";case"\u70b9\u8d5e"===e:return"ATTITUDE";case"\u8f6c\u53d1"===e:return"REPOST";case"\u6d4f\u89c8"===e:return"BROWSE"}},o=function(e,t){return{title:{text:t},tooltip:{triger:"item",formatter:function(e){return e.marker+" "+e.name+"\uff1a"+e.value+"\uff08"+e.percent+"%\uff09"}},series:[{type:"pie",radius:75,hoverAnimation:!1,center:["50%","55%"],data:e.map((function(e){var t=e.type,n=e.count;return{name:0===n?null:a(t),value:0===n?null:n}})),emphasis:{itemStyle:{color:"#d2d2d2"}},label:{position:"outside",color:"#000",formatter:function(e){var t=e.data,n=t.name,a=t.value;return[""+n,"{value|"+r.ZP.getApproximateNum(a)+"}"].join("\n")},rich:{value:{fontSize:12,lineHeight:18,color:"#8c8c8c",align:"left"}}},labelLine:{smooth:!0,length:5,lineStyle:{color:"#bfbfbf"}}}]}},c=function(e,t,n,r){var i=void 0;if("image"===t)i=e;else if("data"===t){var o=n.map((function(e){var t=e.type,n=e.count;return[a(t),n]}));o.splice(0,0,["\u4e92\u52a8\u7c7b\u578b","\u4e92\u52a8\u91cf"]),i=[o]}r({type:t,obj:i,name:e.getOption().title[0].text})},s=function(e,t,n){setTimeout((function(){var r={type:t,seriesIndex:0,seriesName:"overview-wordcloud"};n&&(r.name=n),e.dispatchAction(r)}),0)}},10329:(e,t,n)=>{"use strict";n.d(t,{Rl:()=>s,kQ:()=>u,RH:()=>c});var r,a=n(87462),i=n(70715),o=n(39432);function c(e){var t=["\u4e92\u52a8\u6e20\u9053"].concat(Object.keys(e).filter((function(e){return"totalCount"!==e}))),n=[];return r=e.totalCount,Object.keys(e).forEach((function(t){"totalCount"!==t&&0!==e[t]&&n.push([t,e[t]])})),n.splice(0,0,["\u4e92\u52a8\u6e20\u9053","\u58f0\u91cf"]),{datasets:[{dimensions:t,source:n}]}}var s=function(e,t,n,c){return{title:{text:t},dataset:e.datasets.map((function(e){return(0,a.Z)({},e)})),tooltip:{triger:"item",formatter:function(e){var t=e.marker,n=e.name,r=e.value,a=e.percent;return t+" "+n+"\uff1a"+r[1]+"\uff08"+a+"%\uff09"}},series:[{type:"pie",center:["75%","55%"],radius:74,hoverOffset:0,label:{position:"outside",color:"#000",formatter:function(e){var t=e.data;return[""+t[0],"{value|"+o.ZP.getApproximateNum(t[1])+"}"].join("\n")},rich:{value:{fontSize:12,lineHeight:18,color:"#8c8c8c",align:"left"}}},labelLine:{smooth:!0,length:5,lineStyle:{color:"#BFBFBF"}}}],graphic:[{type:"text",left:"15%",top:114,silent:!0,style:{text:""+o.ZP.getApproximateNum(r),fill:"#000",font:"48px "+i.I8}},{type:"text",left:"13%",bottom:16,silent:!0,style:{text:"\u5173\u6ce8\u5ea6",fill:"#8C8C8C",font:"14px "+i.I8}},{type:"text",left:"22%",bottom:16,silent:!0,style:{text:c,fill:"#262626",font:"14px "+i.I8}}]}},u=function(e,t,n,r){var a=void 0;if("image"===t)a=e;else if("data"===t){var i=n.datasets[0].source;a=[JSON.parse(JSON.stringify(i))]}r({type:t,obj:a,name:e.getOption().title[0].text})}},23061:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(87462),a=n(87757),i=n.n(a),o=n(87219),c=n(30381),s=n.n(c),u=n(29480),l=n(49722);function p(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return l.h.post("/brand-insight/chart/find/INTERACTION_TOTAL_CHART",{projectId:t,filterModel:n,dateFilter:r})}function d(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return l.h.post("/brand-insight/chart/find/VOLUME_TIME_TREND_CHART",{projectId:t,filterModel:n,dateFilter:r})}function f(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return l.h.post("/brand-insight/chart/find/BRAND_DIMENSION_TREND",{projectId:t,filterModel:n,dateFilter:r})}function h(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return l.h.post("/brand-insight/chart/find/BRAND_DIMENSION_COUNT",{projectId:t,filterModel:n,dateFilter:r})}function m(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return l.h.post("/brand-insight/chart/find/VOLUME_SOURCE_CHART",{projectId:t,filterModel:n,dateFilter:r})}var v=n(64396).Z.brand.brandOverview,y=function(e){return new Promise((function(t){return setTimeout(t,e)}))},g={numberInfoData:void 0,pieLineTrendData:void 0,timeType:"DAY",brandDimensionTrendData:void 0,brandTimeType:"DAY",brandDimensionDict:{},dataSource:[],filterParams:void 0,projectId:void 0,dateRange:0,dateOptions:[]};const x={namespace:v,state:Object.assign({},g),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,s=n.call,e.next=4,c((function(e){return(0,r.Z)({},e)[v]}));case 4:if(u=e.sent,l=u.filterParams,p=u.projectId,JSON.stringify(l)===JSON.stringify(a.filterParams)&&p===a.projectId){e.next=18;break}return e.next=10,o({type:"save",payload:Object.assign({},g)});case 10:return e.next=12,s(y,100);case 12:return e.next=14,o({type:"save",payload:a});case 14:return e.next=16,s(y,100);case 16:return e.next=18,o({type:"fetchDataSourceData",payload:a});case 18:case"end":return e.stop()}}),e)})),fetchPieLineTrendData:i().mark((function e(t,n){var a,c,s,l,p,f,h,m,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[v]}));case 4:return p=e.sent,f=p.filterParams,h=p.projectId,m=p.timeType,y=a.timeType||m,g=(0,r.Z)({},(0,o.ZP)(a.filterParams||f,(function(e){e.dateFilter.dateGroupType=y})),{projectId:a.projectId||h}),x=null,I=null,e.prev=11,e.next=14,c(d,g);case 14:if(b=e.sent,2e4!==(T=b.data).code){e.next=26;break}if(0!==T.result.length){e.next=22;break}I="empty",x="empty",e.next=26;break;case 22:return I=(0,u.X7)(T.result,y),x={value:I.allTotal,bottomValue:"--"},e.next=26,s({type:"fetchInteractData",payload:a});case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(11);case 30:return e.prev=30,e.next=33,s({type:"save",payload:(0,r.Z)({},a,{numberInfoData:x,pieLineTrendData:I})});case 33:return e.finish(30);case 34:case"end":return e.stop()}}),e,null,[[11,28,30,34]])})),fetchInteractData:i().mark((function e(t,n){var a,c,s,u,l,d,f,h,m,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[v]}));case 4:return l=e.sent,d=l.filterParams,f=l.projectId,h=l.numberInfoData,m=(0,r.Z)({},a.filterParams||d,{projectId:f}),e.prev=9,e.next=12,c(p,m);case 12:if(y=e.sent,2e4!==(g=y.data).code||!g.result){e.next=17;break}return e.next=17,s({type:"save",payload:{numberInfoData:(0,o.ZP)(h,(function(e){e.bottomValue=g.result}))}});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])})),fetchBrandDimensionTrendData:i().mark((function e(t,n){var a,c,l,p,d,m,y,g,x,I,b,T,E,w,k,C,S,N;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[v]}));case 4:return d=e.sent,m=d.filterParams,y=d.projectId,g=d.brandTimeType,x=a.brandTimeType||g,I=(0,r.Z)({},(0,o.ZP)(a.filterParams||m,(function(e){var t=e.dateFilter,n=t.from,r=t.to,a=t.numOfDays;e.dateFilter.from=s()(n).subtract(a,"days").format("YYYY-MM-DD"),e.dateFilter.to=s()(r).subtract(a,"days").format("YYYY-MM-DD"),e.dateFilter.dateGroupType=x})),{projectId:a.projectId||y}),b=(0,r.Z)({},(0,o.ZP)(a.filterParams||m,(function(e){e.dateFilter.dateGroupType=x})),{projectId:a.projectId||y}),T=null,E={},e.prev=12,w=void 0,e.next=16,c(h,I);case 16:return k=e.sent,2e4===(C=k.data).code&&(w=C.result),e.next=21,c(f,b);case 21:S=e.sent,2e4===(N=S.data).code&&(0===N.result.length?T="empty":(E=N.result.reduce((function(e,t){var n;return(0,r.Z)({},e,((n={})[t.name]=t.id,n))}),{}),T=(0,u.X7)(N.result,x,w))),e.next=28;break;case 26:e.prev=26,e.t0=e.catch(12);case 28:return e.prev=28,e.next=31,l({type:"save",payload:(0,r.Z)({},a,{brandDimensionTrendData:T,brandDimensionDict:E})});case 31:return e.finish(28);case 32:case"end":return e.stop()}}),e,null,[[12,26,28,32]])})),fetchDataSourceData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[v]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=(0,r.Z)({},a.filterParams||l,{projectId:a.projectId||p}),e.next=10,o(m,d);case 10:if(f=e.sent,!(2e4===(h=f.data).code&&h.result.length>0)){e.next=16;break}return y=h.result,e.next=16,c({type:"save",payload:{dataSource:y}});case 16:case"end":return e.stop()}}),e)}))}}},56685:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(87219),c=n(49722);function s(e){var t=e.filterModel,n=e.dateFilter,r=e.projectId,a=e.dimensionId;return c.h.post("/index-analyse/chart/find/WEIBO_INDEX_TREND",{projectId:r,filterModel:t,dateFilter:n,dimensionId:a})}function u(e){var t=e.filterModel,n=e.dateFilter,r=e.projectId,a=e.dimensionId;return c.h.post("/index-analyse/chart/find/BAIDU_INDEX_TREND",{projectId:r,filterModel:t,dateFilter:n,dimensionId:a})}function l(e){var t=e.filterModel,n=e.dateFilter,r=e.projectId,a=e.dimensionId;return c.h.post("/index-analyse/chart/find/QIHU_INDEX_TREND",{projectId:r,filterModel:t,dateFilter:n,dimensionId:a})}var p=n(64396).Z.brand.analyzeOfIndex,d={filterParams:void 0,projectId:"",dimensionId:"",weibo:void 0,baidu:void 0,zhishu360:void 0,baiduSelect:"BAIDU_SEARCH_INDEX",select360:"QIHU_TREND_INDEX"};const f={namespace:p,state:Object.assign({},d),reducers:{changeSel:(0,o.ZP)((function(e,t){var n=t.payload;Object.keys(n).forEach((function(t){e[t]=n[t]}))})),save:(0,o.ZP)((function(e,t){var n=t.payload;Object.keys(n).forEach((function(t){e[t]=n[t]}))})),clean:function(){return Object.assign({},d)}},effects:{init:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"fetchWeibo"});case 4:return e.next=6,r({type:"fetchBaidu"});case 6:return e.next=8,r({type:"fetch360"});case 8:case"end":return e.stop()}}),e)})),fetchWeibo:i().mark((function e(t,n){var a,o,c,u,l,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[p]}));case 3:return u=e.sent,l=u.filterParams,d=u.projectId,f=u.dimensionId,e.next=9,a(s,(0,r.Z)({},l,{projectId:d,dimensionId:f}));case 9:return h=e.sent,e.next=12,o({type:"save",payload:{weibo:h.data.result}});case 12:case"end":return e.stop()}}),e)})),fetchBaidu:i().mark((function e(t,n){var a,o,c,s,l,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[p]}));case 3:return s=e.sent,l=s.filterParams,d=s.projectId,f=s.dimensionId,e.next=9,a(u,(0,r.Z)({},l,{projectId:d,dimensionId:f}));case 9:return h=e.sent,e.next=12,o({type:"save",payload:{baidu:h.data.result}});case 12:case"end":return e.stop()}}),e)})),fetch360:i().mark((function e(t,n){var a,o,c,s,u,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[p]}));case 3:return s=e.sent,u=s.filterParams,d=s.projectId,f=s.dimensionId,e.next=9,a(l,(0,r.Z)({},u,{projectId:d,dimensionId:f}));case 9:return h=e.sent,e.next=12,o({type:"save",payload:{zhishu360:h.data.result}});case 12:case"end":return e.stop()}}),e)}))}}},44836:(e,t,n)=>{"use strict";n.d(t,{E:()=>E,Z:()=>w});var r=n(67294),a=n(19586),i=n(7802),o=n(97220),c=n(94578),s=n(45697),u=n.n(s),l=n(50976),p=n(8201),d=n(30118),f=n(98191),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).renderChart=function(e,t,r){if(t){if((0,p.P)(e)){var a=(0,d.Rl)(e,r);t.clear(),t.setOption(a)}}else n.chartRef=void 0},n._handleOnChartClick=function(e){var t=e.componentType,r=e.componentSubType,a=e.name,i=n.state.selectedName;if("series"===t&&"pie"===r){var o=void 0;i===a?(n.props.onChartClick(),(0,d.dA)(n.chartRef,"downplay","")):(n.props.onChartClick(e),o=a,(0,d.dA)(n.chartRef,"highlight",""),(0,d.dA)(n.chartRef,"downplay",a)),n.setState({selectedName:o})}},n._handleOnMouseOver=function(e){var t=e.componentType,r=e.componentSubType,a=e.name,i=e.color,o=n.state.selectedName;"series"===t&&"pie"===r&&(o&&o!==a?(0,d.dA)(n.chartRef,"highlight",i):(0,d.dA)(n.chartRef,"downplay",a))},n._handleOnMouseOut=function(e){var t=e.componentType,r=e.componentSubType,a=e.color,i=n.state.selectedName;"series"===t&&"pie"===r&&i&&i===name&&(0,d.dA)(n.chartRef,"highlight",a)},n.state={selectedName:void 0},n}(0,c.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.data,n=e.title;this.renderChart(t,this.chartRef,n)},n.shouldComponentUpdate=function(e,t){return e.loading!==this.props.loading||(e.title!==this.props.title||JSON.stringify(e.data)!==JSON.stringify(this.props.data))},n.componentDidUpdate=function(){var e=this.props,t=e.data,n=e.title;this.renderChart(t,this.chartRef,n),(0,d.dA)(this.chartRef,"downplay","")},n.render=function(){var e=this,t=this.props,n=t.data,a=t.onMoreClick,i=t.loading,o=t.titleOverlay,c=t.title;return r.createElement(p.Z,{className:"type-pie-wrapper",data:n,loading:i,renderTitle:r.createElement(f.Z,{title:c,data:n,titleOverlay:o,onMoreClick:function(t){return(0,d.kQ)(e.chartRef,t,n,a)}})},r.createElement(l.Z,{theme:"yunting_multi_color",option:{},onChartReady:function(t){return e.chartRef=t},onEvents:{click:this._handleOnChartClick,mouseover:this._handleOnMouseOver,mouseout:this._handleOnMouseOut}}))},t}(r.Component);h.propTypes={title:u().string.isRequired,loading:u().bool.isRequired,data:u().arrayOf(u().shape({type:u().string.isRequired,count:u().number.isRequired}))};const m=h;var v=n(39432),y=function(e){if("string"===typeof e)switch(!0){case"BBS"===e:return"\u8bba\u575b";case"QUE_ANS"===e:return"\u95ee\u7b54";case"SOCIAL"===e:return"\u793e\u4ea4\u5a92\u4f53";case"SELF"===e:return"\u5185\u5bb9\u7535\u5546";case"NEWS"===e:return"\u65b0\u95fb\u5a92\u4f53";case"LEGAL"===e:return"\u6cd5\u5f8b\u7ef4\u6743"}},g=function(e){var t=e.data,n=e.onMoreClick,a=e.loading,i=e.titleOverlay,o=e.title,c=r.useState(void 0),s=c[0],u=c[1];return r.useEffect((function(){if(s)if((0,p.P)(t)){var e=function(e,t){return{title:{text:t},tooltip:{triger:"item",formatter:function(e){return e.marker+" "+e.name+"\uff1a"+e.value+"\uff08"+e.percent+"%\uff09"}},series:[{type:"pie",radius:75,hoverAnimation:!1,center:["50%","55%"],data:e.map((function(e){var t=e.type,n=e.count;return{name:0===n?null:y(t),value:0===n?null:n}})),label:{position:"outside",color:"#000",formatter:function(e){var t=e.data,n=t.name,r=t.value;return[""+n,"{value|"+v.ZP.getApproximateNum(r)+"}"].join("\n")},rich:{value:{fontSize:12,lineHeight:18,color:"#8c8c8c",align:"left"}}},labelLine:{smooth:!0,length2:4,lineStyle:{color:"#bfbfbf"}}}]}}(t,o);s.clear(),s.setOption(e)}else u(void 0)}),[t,s]),r.createElement(p.Z,{className:"num-pie-wrapper",data:t,loading:a,renderTitle:r.createElement(f.Z,{title:o,data:t,titleOverlay:i,onMoreClick:function(e){return function(e,t,n,r){var a=void 0;if("image"===t)a=e;else if("data"===t){var i=n.map((function(e){var t=e.type,n=e.count;return[y(t),n]}));i.splice(0,0,["\u4e92\u52a8\u6e20\u9053","\u4e92\u52a8\u91cf"]),a=[i]}r({type:t,obj:a,name:e.getOption().title[0].text})}(s,e,t,n)}})},r.createElement(l.Z,{theme:"yunting_multi_color",style:{width:"100%",height:"100%"},option:{},onChartReady:u}))};g.propTypes={title:u().string.isRequired,loading:u().bool.isRequired,data:u().arrayOf(u().shape({type:u().string.isRequired,count:u().number.isRequired}))};const x=g;var I=n(53754),b=n(97189),T=n.n(b),E=[{id:"COMMENT",name:"\u8bc4\u8bba"},{id:"ATTITUDE",name:"\u70b9\u8d5e"},{id:"REPOST",name:"\u8f6c\u53d1"},{id:"BROWSE",name:"\u6d4f\u89c8"}];const w=function(e){var t=e.isInitial,n=e.curDimensionValName,c=e.curDimensionName,s=e.filterParams,u=e.onMoreClick,l=e.getFilterRef,p=e.dateRange,d=e.inteCountLoading,f=e.inteTypeLoading,h=e.inteChannelLoading,v=e.dataCount,y=e.typeData,g=e.inteData,b=e.onTypeChartClick,w=e.satisDataLoading,k=e.comparisionOptions,C=e.comparisionValue,S=e.interTypeValue,N=e.interDateDimension,O=e.interChartType,_=e.interData,j=e.interDiffData,A=e.channelChartLoading,D=e.channelDateDimension,M=e.channelChartType,R=e.channelData,L=e.channelDiffData,P=e.onFilterChange,F=e.fetchInterChartData,Z=e.fetchChannelChartData,V=e.saveState,z=r.createElement(r.Fragment,null,r.createElement(I.Z,{type:1,title:"\u4e92\u52a8\u7c7b\u578b",options:E,value:S,onChange:function(e){return F({interTypeValue:e})}}),r.createElement(I.Z,{type:1,title:"\u5bf9\u6bd4",options:k,value:C,maxLength:2,onChange:function(e){return F({comparisionValue:e})}}));return r.createElement("div",{className:"yt_brand_analyzing_interaction_wrapper"},r.createElement(a.Z,{ref:l,values:s,model:"BRAND_INTERACTION_ANALYSIS",showList:["condition","time","save"],filterCondition:{filter:["TAG","MESSAGE_RELATION","DIMENSION"],dimension:T().getQuery("id")},onFilterReady:P,onChange:P}),r.createElement("div",{className:"ao_content"},r.createElement("div",{className:"ao_content_top"},r.createElement(o.Z,{title:n+"\u4e92\u52a8\u91cf",data:{value:v},loading:d,titleOverlay:"\u4e92\u52a8\u91cf\uff1a\u5fae\u535a\u548c\u5a92\u4f53\u6587\u7ae0\u5728\u4f20\u64ad\u7684\u8fc7\u7a0b\u4e2d\u5176\u4ed6\u7528\u6237\u7684\u201c\u6d4f\u89c8\u201d\u3001\u201c\u8f6c\u53d1\u201d\u3001\u201c\u70b9\u8d5e\u201d\u548c\u201c\u8bc4\u8bba\u201d\u7b49\u884c\u4e3a\u5373\u201c\u4e92\u52a8\u201d\u3002\u4e92\u52a8\u91cf\u662f\u57fa\u4e8e\u5404\u5e73\u53f0\u5bf9\u8fd9\u4e9b\u884c\u4e3a\u7ed9\u51fa\u7684\u5177\u4f53\u6570\u503c\u7d2f\u52a0\u800c\u6765\u3002"}),r.createElement(m,{data:y,onMoreClick:u,loading:f,title:n+"\u4e92\u52a8\u7c7b\u578b",titleOverlay:"\u4e92\u52a8\u91cf\uff1a\u5fae\u535a\u548c\u5a92\u4f53\u6587\u7ae0\u5728\u4f20\u64ad\u7684\u8fc7\u7a0b\u4e2d\u5176\u4ed6\u7528\u6237\u7684\u201c\u6d4f\u89c8\u201d\u3001\u201c\u8f6c\u53d1\u201d\u3001\u201c\u70b9\u8d5e\u201d\u548c\u201c\u8bc4\u8bba\u201d\u7b49\u884c\u4e3a\u5373\u201c\u4e92\u52a8\u201d\u3002\u4e92\u52a8\u91cf\u662f\u57fa\u4e8e\u5404\u5e73\u53f0\u5bf9\u8fd9\u4e9b\u884c\u4e3a\u7ed9\u51fa\u7684\u5177\u4f53\u6570\u503c\u7d2f\u52a0\u800c\u6765\u3002",onChartClick:b}),r.createElement(x,{data:g,onMoreClick:u,loading:h,title:n+"\u4e92\u52a8\u91cf",titleOverlay:"\u4e92\u52a8\u91cf\uff1a\u5fae\u535a\u548c\u5a92\u4f53\u6587\u7ae0\u5728\u4f20\u64ad\u7684\u8fc7\u7a0b\u4e2d\u5176\u4ed6\u7528\u6237\u7684\u201c\u6d4f\u89c8\u201d\u3001\u201c\u8f6c\u53d1\u201d\u3001\u201c\u70b9\u8d5e\u201d\u548c\u201c\u8bc4\u8bba\u201d\u7b49\u884c\u4e3a\u5373\u201c\u4e92\u52a8\u201d\u3002\u4e92\u52a8\u91cf\u662f\u57fa\u4e8e\u5404\u5e73\u53f0\u5bf9\u8fd9\u4e9b\u884c\u4e3a\u7ed9\u51fa\u7684\u5177\u4f53\u6570\u503c\u7d2f\u52a0\u800c\u6765\u3002"})),r.createElement("div",{className:"ao_content_center"},r.createElement(i.Z,{title:n+"\u4e92\u52a8\u91cf\u603b\u8d70\u52bf",tooltipTitle:"\u4e92\u52a8\u91cf",isInitial:t,loading:w,data:_,diffData:j,dateRange:p,dateDimension:N,onDateDimensionChange:function(e){return F({interDateDimension:e})},chartType:O,chartTypeOptions:["bar","area"],onChartTypeChange:function(e){return V({interChartType:e})},appendix:z,dimensionName:c})),r.createElement("div",{className:"ao_content_bottom"},r.createElement(i.Z,{title:n+"\u6e20\u9053\u4e92\u52a8\u91cf\u8d70\u52bf\u5206\u6790",tooltipTitle:"\u4e92\u52a8\u91cf",isInitial:t,loading:A,data:R,diffData:L,dateRange:p,dateDimension:D,onDateDimensionChange:function(e){return Z({channelDateDimension:e})},chartType:M,chartTypeOptions:["area","stack","sum"],onChartTypeChange:function(e){return V({channelChartType:e})},dimensionName:"\u6e20\u9053\u7c7b\u578b"}))))}},52653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ge});var r=n(87462),a=n(87757),i=n.n(a),o=n(87219),c=n(49722);function s(e){var t=e.dateFilter,n=e.projectId,r=e.filterModel,a=e.menuDimension;return c.h.post("/brand-insight/chart/find/VOLUME_DISTRIBUTION_CHART",{filterModel:r,dateFilter:t,projectId:n,menuDimension:a})}function u(e){var t=e.dateFilter,n=e.projectId,r=e.filterModel,a=e.menuDimension;return c.h.post("/brand-insight/chart/find/ATTENTION_COUNT",{filterModel:r,dateFilter:t,projectId:n,menuDimension:a})}function l(e){var t=e.filterModel,n=e.dateFilter,r=e.orderTime,a=e.projectId;return c.h.post("/brand-insight/chart/find/INTERACTION_TOTAL_CHART",{projectId:a,filterModel:t,dateFilter:n,orderTime:r})}function p(e){var t=e.filterModel,n=e.dateFilter,r=e.orderTime,a=e.projectId;return c.h.post("/brand-insight/chart/find/INTERACTION_CATEGORY_CHART",{projectId:a,filterModel:t,dateFilter:n,orderTime:r})}function d(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return c.h.post("/brand-insight/chart/find/CHANNEL_TOTAL_TREND",{projectId:t,filterModel:n,dateFilter:r})}function f(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return c.h.post("/brand-insight/chart/find/CHANNEL_VOLUME_TREND",{projectId:t,filterModel:n,dateFilter:r})}function h(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.calculateType;return c.h.post("/brand-insight/chart/find/CHANNEL_EMOTION_TREND",{projectId:t,filterModel:n,dateFilter:r,calculateType:a})}function m(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return c.h.post("/brand-insight/chart/find/CHANNEL_EMOTION_COUNT",{projectId:t,filterModel:n,dateFilter:r})}var v=n(30381),y=n.n(v),g=function(e){if(e&&e.length>0){e.sort((function(e,t){return!(!e.data||!t.data)&&t.data[t.data.length-1].count-e.data[t.data.length-1].count}));for(var t=[],n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e[n],"name")){0===n&&t.push(["\u65f6\u95f4"].concat(e[0].data.map((function(e){return e.name}))));var r=[e[n].name].concat(e[n].data.map((function(e){return e.count})));t.push(r)}return t}return[]},x=function(e){var t=e.from,n=e.to;if(t&&n&&"string"===typeof t&&"string"===typeof n){var a="YYYY-MM-DD",i=y()(n,a).diff(y()(t,a),"days"),o=y()(t,a).subtract(i+1,"days").format(a),c=y()(n,a).subtract(i+1,"days").format(a);return(0,r.Z)({},e,{from:o,to:c})}},I=n(53946),b=n(10329),T=n(64396),E=T.Z.brand.brandAnalysis,w=T.Z.brand.brandAnalysisSub.channel,k=T.Z.public.menu,C={isInitial:!0,curDimensionName:"",curDimensionValName:"",filterParams:{},projectId:"",menuDimension:"",dateRange:1,count:void 0,inteNumCount:void 0,volData:void 0,volRate:"--",menuName:"",inteData:void 0,totalTrendLoading:!1,comparisionOptions:[],comparisionValue:[],channelTypeOptions:[],channelTypeValue:[],totalTrendDateDimension:"DAY",totalTrendChartType:"bar",originTotalTrendData:[],totalTrendData:[],totalTrendDiffData:[],volTrendDateDimension:"DAY",volTrendChartType:"area",originVolTrendData:[],volTrendData:[],volTrendDiffData:[],emoTrendEmoType:{id:"1",name:"\u6b63\u9762"},emoTrendValType:{id:"PERCENTAGE",name:"\u6bd4\u4f8b"},emoTrendDateDimension:"DAY",emoTrendChartType:"area",originEmoTrendChartData:[],emoTrendChartData:[],emoTrendChartDiffData:[],emotionAnalyzeData:void 0},S=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const N={subNamespace:w,state:Object.assign({},C),reducers:{saveChannelState:(0,o.ZP)((function(e,t){var n=t.payload;Object.keys(n).forEach((function(t){e[w][t]=n[t]}))})),cleanChannelState:(0,o.ZP)((function(e,t){e[w]=Object.assign({},C)}))},effects:{fetchChannelDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[E][w]}));case 4:if(u=e.sent,l=u.filterParams,p=u.projectId,JSON.stringify(l)===JSON.stringify(a.filterParams)&&p===a.projectId){e.next=22;break}return e.next=10,s({type:"saveChannelState",payload:(0,r.Z)({},a,{isInitial:!0})});case 10:return e.next=12,o(S,100);case 12:return e.next=14,s({type:"fetchVolumeTypeData",payload:a});case 14:return e.next=16,s({type:"fetchInterCountData",payload:a});case 16:return e.next=18,s({type:"fetchInterCategoryData",payload:a});case 18:return e.next=20,s({type:"saveChannelState",payload:{isInitial:!1}});case 20:return e.next=22,s({type:"fetchEmotionAnalyzeData",payload:a});case 22:case"end":return e.stop()}}),e)})),fetchVolumeTypeData:i().mark((function e(t,n){var a,o,c,l,p,d,f,h,m,v,y,g,x,I,T,C,S,N,O,_,j,A;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[E][w]}));case 4:return p=e.sent,d=p.filterParams,f=p.projectId,h=p.menuDimension,m=(0,r.Z)({menuDimension:""},a.filterParams||d,{projectId:a.projectId||f}),v=(0,r.Z)({menuDimension:a.menuDimension||h},a.filterParams||d,{projectId:a.projectId||f}),y=null,g=null,x="--",I="",e.prev=14,e.next=17,o(s,m);case 17:if(T=e.sent,!(C=T.data)||2e4!==C.code||"{}"===JSON.stringify(C.result)){e.next=34;break}return g=C.result.totalCount,y=(0,b.RH)(C.result),e.next=24,o(u,v);case 24:if(S=e.sent,2e4!==(N=S.data).code){e.next=34;break}return O=v.filterModel.dimension[0].values,_=O[0],e.next=30,l((function(e){return e[k].menuList.brandInsightMenus[f]}));case 30:j=e.sent,(A=N.result.find((function(e){return String(e.id)===String(_)})))&&(x=(100*A.count).toFixed(2)+"%"),I=j.find((function(e){return String(e.id)===String(h)})).name;case 34:e.next=38;break;case 36:e.prev=36,e.t0=e.catch(14);case 38:return e.prev=38,e.next=41,c({type:"saveChannelState",payload:(0,r.Z)({},a,{volData:y,count:g,volRate:x,menuName:I})});case 41:return e.finish(38);case 42:case"end":return e.stop()}}),e,null,[[14,36,38,42]])})),fetchInterCountData:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E][w]}));case 4:return u=e.sent,p=u.filterParams,d=u.projectId,f=(0,r.Z)({orderTime:a.orderTime},a.filterParams||p,{projectId:a.projectId||d}),h=null,e.prev=9,e.next=12,o(l,f);case 12:m=e.sent,2e4===(v=m.data).code&&v.result&&(h=v.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,c({type:"saveChannelState",payload:(0,r.Z)({},a,{inteNumCount:h})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchInterCategoryData:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[E][w]}));case 4:return u=e.sent,l=u.filterParams,d=u.projectId,f=(0,r.Z)({orderTime:a.orderTime},a.filterParams||l,{projectId:a.projectId||d}),h=null,e.prev=9,e.next=12,o(p,f);case 12:m=e.sent,2e4===(v=m.data).code&&v.result.length>0&&(h=v.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,s({type:"saveChannelState",payload:(0,r.Z)({},f,{inteData:h})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchTotalTrendData:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E][w]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,f=u.comparisionValue,h=u.channelTypeValue,m=u.totalTrendDateDimension,v={projectId:p,dateFilter:(0,r.Z)({},l.dateFilter,{dateGroupType:a&&a.totalTrendDateDimension?a.totalTrendDateDimension:m}),filterModel:(0,r.Z)({},l.filterModel,{dimension:[(0,r.Z)({},l.filterModel.dimension,{values:a&&a.comparisionValue?l.filterModel.dimension[0].values.concat(a.comparisionValue):l.filterModel.dimension[0].values.concat(f)})],messageCategory:a&&a.channelTypeValue?a.channelTypeValue:h.length>0?h:l.filterModel.messageCategory})},e.prev=11,e.next=14,o(d,v);case 14:if(y=e.sent,2e4!==(I=y.data).code){e.next=20;break}return b=I.result,e.next=20,c({type:"saveChannelState",payload:{originTotalTrendData:b.length>0?b.map((function(e){return[e.name,e.total]})):[],totalTrendData:g(b)}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(11);case 24:if(e.prev=24,!a){e.next=28;break}return e.next=28,c({type:"saveChannelState",payload:a});case 28:return T=(0,r.Z)({},v,{dateFilter:x(v.dateFilter)}),e.next=31,c({type:"fetchTotalTrendDiffData",payload:(0,r.Z)({},T)});case 31:return e.finish(24);case 32:case"end":return e.stop()}}),e,null,[[11,22,24,32]])})),fetchTotalTrendDiffData:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,o(d,a);case 5:if(u=e.sent,2e4!==(l=u.data).code){e.next=9;break}return e.delegateYield(i().mark((function e(){var t,n,a,o,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=l.result,e.next=4,s((function(e){return(0,r.Z)({},e)[E][w]}));case 4:for(a=e.sent,o=a.originTotalTrendData,u=function(e){var r=n.filter((function(t){return t.name===o[e][0]}))[0];t.push([].concat(o[e],[r?r.total:0]))},p=0;p<o.length;p++)u(p);return e.next=10,c({type:"saveChannelState",payload:{totalTrendDiffData:t}});case 10:case"end":return e.stop()}}),e)}))(),"t0",9);case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),console.error(e.t1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})),fetchVolTrendChartData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m,v,y,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E][w]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=u.volTrendDateDimension,h={projectId:p,dateFilter:(0,r.Z)({},l.dateFilter,{dateGroupType:a&&a.volTrendDateDimension?a.volTrendDateDimension:d}),filterModel:l.filterModel},e.prev=9,e.next=12,o(f,h);case 12:if(m=e.sent,2e4!==(v=m.data).code){e.next=18;break}return y=v.result,e.next=18,c({type:"saveChannelState",payload:{originVolTrendData:y.length>0?y.map((function(e){return[e.name,e.total]})):[],volTrendData:g(y)}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),console.error(e.t0);case 23:if(e.prev=23,!a){e.next=27;break}return e.next=27,c({type:"saveChannelState",payload:a});case 27:return I=(0,r.Z)({},h,{dateFilter:x(h.dateFilter)}),e.next=30,c({type:"fetchVolTrendChartDiffData",payload:(0,r.Z)({},I)});case 30:return e.finish(23);case 31:case"end":return e.stop()}}),e,null,[[9,20,23,31]])})),fetchVolTrendChartDiffData:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,o(f,a);case 5:if(u=e.sent,2e4!==(l=u.data).code){e.next=9;break}return e.delegateYield(i().mark((function e(){var t,n,a,o,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=l.result,e.next=4,s((function(e){return(0,r.Z)({},e)[E][w]}));case 4:for(a=e.sent,o=a.originVolTrendData,u=function(e){var r=n.filter((function(t){return t.name===o[e][0]}))[0];t.push([].concat(o[e],[r?r.total:0]))},p=0;p<o.length;p++)u(p);return e.next=10,c({type:"saveChannelState",payload:{volTrendDiffData:t}});case 10:case"end":return e.stop()}}),e)}))(),"t0",9);case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),console.error(e.t1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})),fetchEmoTrendChartData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,m,v,y,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E][w]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=u.emoTrendDateDimension,f=u.emoTrendValType,m=u.emoTrendEmoType,v={projectId:p,dateFilter:(0,r.Z)({},l.dateFilter,{dateGroupType:a&&a.emoTrendDateDimension?a.emoTrendDateDimension:d}),filterModel:(0,r.Z)({},l.filterModel,{escore:a&&a.emoTrendEmoType?[a.emoTrendEmoType.id]:[m.id]}),calculateType:a&&a.emoTrendValType?a.emoTrendValType.id:f.id},e.prev=11,e.next=14,o(h,v);case 14:if(y=e.sent,2e4!==(I=y.data).code){e.next=20;break}return b=I.result,e.next=20,c({type:"saveChannelState",payload:{originEmoTrendChartData:b.length>0?b.map((function(e){return[e.name,e.total]})):[],emoTrendChartData:g(b)}});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),console.error(e.t0);case 25:if(e.prev=25,!a){e.next=29;break}return e.next=29,c({type:"saveChannelState",payload:a});case 29:return T=(0,r.Z)({},v,{dateFilter:x(v.dateFilter)}),e.next=32,c({type:"fetchEmoTrendChartDiffData",payload:(0,r.Z)({},T)});case 32:return e.finish(25);case 33:case"end":return e.stop()}}),e,null,[[11,22,25,33]])})),fetchEmoTrendChartDiffData:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,o(h,a);case 5:if(u=e.sent,2e4!==(l=u.data).code){e.next=9;break}return e.delegateYield(i().mark((function e(){var t,n,a,o,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=l.result,e.next=4,s((function(e){return(0,r.Z)({},e)[E][w]}));case 4:for(a=e.sent,o=a.originEmoTrendChartData,u=function(e){var r=n.filter((function(t){return t.name===o[e][0]}))[0];t.push([].concat(o[e],[r?r.total:0]))},p=0;p<o.length;p++)u(p);return e.next=10,c({type:"saveChannelState",payload:{emoTrendChartDiffData:t}});case 10:case"end":return e.stop()}}),e)}))(),"t0",9);case 9:e.next=13;break;case 11:e.prev=11,e.t1=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})),fetchEmotionAnalyzeData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E][w]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=(0,r.Z)({},a.filterParams||l,{projectId:p}),f=null,e.prev=9,e.next=12,o(m,d);case 12:h=e.sent,2e4===(v=h.data).code&&v.result.length>0&&(f=(0,I.Qj)(v.result)),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,c({type:"saveChannelState",payload:(0,r.Z)({},a,{emotionAnalyzeData:f})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])}))}};function O(e){var t=e.dateFilter,n=e.projectId,r=e.filterModel;return c.h.post("/brand-insight/chart/find/SATISFACTION_EMOTION_PERCENTAGE_CHART",{filterModel:r,dateFilter:t,projectId:n})}function _(e){var t=e.dateFilter,n=e.projectId,r=e.filterModel;return c.h.post("/brand-insight/chart/find/EMOTION_TREND_CHART",{filterModel:r,dateFilter:t,projectId:n})}function j(e){var t=e.filterModel,n=e.dateFilter,r=e.projectId;return c.h.post("/brand-insight/chart/find/TOPIC_ASPECT_TOP",{projectId:r,filterModel:t,dateFilter:n})}function A(e){var t=e.filterModel,n=e.dateFilter,r=e.projectId,a=e.pageIndex,i=void 0===a?1:a,o=e.pageSize,s=void 0===o?100:o;return c.h.post("/brand-insight/chart/find/CONTENT_TOPIC_MESSAGES",{projectId:r,filterModel:t,dateFilter:n,pageIndex:i,pageSize:s})}function D(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return c.h.post("/widget/data/find/ASPECT_TIME_LINE",{projectId:t,filterModel:n,dateFilter:r,topSize:50,type:"WORD_TIME_LINE"})}var M=n(90646),R=n(70018),L=T.Z.brand.brandAnalysis,P=T.Z.brand.brandAnalysisSub.content,F={isInitial:!0,projectId:"",curDimensionValName:"",dateRange:0,filterParams:void 0,satisChartData:void 0,emoTrendData:void 0,trendTimeType:"DAY",formulaType:"COUNT",topicType:{id:"weiboTopics",name:"\u5fae\u535a\u8bdd\u9898"},activeSeriesIndex:-1,activeDataIndex:-1,topTenTopicData:[],postList:[],postOrder:{id:"cTime_DESC",name:"\u65f6\u95f4\u7531\u5927\u5230\u5c0f"},dimensionId:""},Z=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function V(e,t){try{return"weiboTopics"===e?t.split("#")[1]:t.split("SUP_TOC")[1]}catch(n){}return""}const z={subNamespace:P,state:Object.assign({},F),reducers:{saveContentState:(0,o.ZP)((function(e,t){var n=t.payload;Object.keys(n).forEach((function(t){e[P][t]=n[t]}))})),cleanContentState:(0,o.ZP)((function(e,t){e[P]=Object.assign({},F)}))},effects:{fetchContentDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[L][P]}));case 4:if(u=e.sent,l=u.filterParams,p=u.projectId,JSON.stringify(l)===JSON.stringify(a.filterParams)&&p===a.projectId){e.next=22;break}return e.next=10,c({type:"saveContentState",payload:Object.assign({},F)});case 10:return e.next=12,o(Z,100);case 12:return e.next=14,c({type:"saveContentState",payload:(0,r.Z)({},a,{isInitial:!0})});case 14:return e.next=16,o(Z,100);case 16:return e.next=18,c({type:"fetchSatisChartData",payload:a});case 18:return e.next=20,c({type:"fetchContentHotWordData",payload:a});case 20:return e.next=22,c({type:"fetchTopTenTopic",payload:a});case 22:case"end":return e.stop()}}),e)})),fetchSatisChartData:i().mark((function e(t,n){var a,c,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[L][P]}));case 4:return l=e.sent,p=l.filterParams,d=l.projectId,f=null,h=(0,r.Z)({},(0,o.ZP)(a.filterParams||p,(function(){})),{projectId:a.projectId||d}),e.prev=9,e.next=12,c(O,h);case 12:m=e.sent,2e4===(v=m.data).code&&v.result&&(f=v.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,s({type:"saveContentState",payload:(0,r.Z)({},a,{satisChartData:f})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchEmotionTrendData:i().mark((function e(t,n){var a,c,s,u,l,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[L][P]}));case 4:return l=e.sent,p=l.filterParams,d=l.projectId,f=l.trendTimeType,h=null,m=a.trendTimeType||f,v=(0,r.Z)({},(0,o.ZP)(a.filterParams||p,(function(e){e.dateFilter.dateGroupType=m})),{projectId:a.projectId||d}),e.prev=11,e.next=14,c(_,v);case 14:y=e.sent,2e4===(g=y.data).code&&g.result&&g.result.length>0&&(h=(0,R.aq)(g.result)),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,s({type:"saveContentState",payload:(0,r.Z)({},a,{emoTrendData:h})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchTopTenTopic:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,s((function(e){return(0,r.Z)({},e)[L][P]}));case 5:return u=e.sent,l=u.filterParams,p=u.projectId,d=u.topicType,f={projectId:p,dateFilter:l.dateFilter,filterModel:(0,r.Z)({},l.filterModel,{topicType:a&&a.topicType?a.topicType.id:d.id})},e.next=12,o(j,f);case 12:if(h=e.sent,2e4!==(m=h.data).code){e.next=19;break}return e.next=17,c({type:"saveContentState",payload:{topTenTopicData:m.result.reverse(),activeSeriesIndex:-1,activeDataIndex:-1}});case 17:return e.next=19,c({type:"fetchPostList"});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),console.error(e.t0);case 24:return e.prev=24,e.next=27,c({type:"saveContentState",payload:{isInitial:!1}});case 27:if(!a){e.next=30;break}return e.next=30,c({type:"saveContentState",payload:a});case 30:return e.finish(24);case 31:case"end":return e.stop()}}),e,null,[[2,21,24,31]])})),fetchPostList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,s((function(e){return(0,r.Z)({},e)[L][P]}));case 5:return u=e.sent,l=u.filterParams,p=u.projectId,d=u.topTenTopicData,f=u.postOrder,h=u.activeDataIndex,m=u.topicType,v=m.id,y=[{contain:a&&a.activeDataIndex>-1?[V(v,d[a.activeDataIndex].topicName)]:h>-1?[V(v,d[h].topicName)]:d.map((function(e){var t=e.topicName;return V(v,t)}))}],g={projectId:p,dateFilter:l.dateFilter,filterModel:(0,r.Z)({},l.filterModel,{dimension:a&&0===a.activeSeriesIndex?l.filterModel.dimension:[],sortName:a&&a.postOrder?a.postOrder.id.split("_")[0]:f.id.split("_")[0],sortOrder:a&&a.postOrder?a.postOrder.id.split("_")[1]:f.id.split("_")[1]})},"weiboTopics"===v?g.filterModel.topics=y:g.filterModel.superTopics=y,e.next=18,o(A,g);case 18:if(x=e.sent,2e4!==(I=x.data).code){e.next=23;break}return e.next=23,c({type:"saveContentState",payload:{postList:I.result.messages}});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(2),console.error(e.t0);case 28:if(e.prev=28,!a){e.next=32;break}return e.next=32,c({type:"saveContentState",payload:a});case 32:return e.finish(28);case 33:case"end":return e.stop()}}),e,null,[[2,25,28,33]])})),fetchContentHotWordData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[L][P]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=(0,r.Z)({},a.filterParams||l,{projectId:a.projectId||p}),f=null,h=null,e.prev=9,e.next=12,o(D,d);case 12:m=e.sent,2e4===(v=m.data).code&&v.result.list.length>0&&(y=v.result.list,g=y.reduce((function(e,t){return e+t.total}),0),h=y.map((function(e){return(0,r.Z)({},e,{precent:e.total/g,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})})),f=0===h.length?[]:(0,M.Kj)(h.slice().sort((function(e,t){return t.total-e.total})))),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,c({type:"saveContentState",payload:(0,r.Z)({},a,{hotWordBubbleData:f,hotWordDoubleData:h})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])}))}};function U(e){var t=e.filterModel,n=e.dateFilter,r=e.orderTime,a=e.projectId;return c.h.post("/brand-insight/chart/find/INTERACTION_TYPE_CHART",{projectId:a,filterModel:t,dateFilter:n,orderTime:r})}function B(e){var t=e.filterModel,n=e.dateFilter,r=e.orderTime,a=e.projectId;return c.h.post("brand-insight/chart/find/INTERACTION_TOTAL_CHART",{projectId:a,filterModel:t,dateFilter:n,orderTime:r})}function q(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.orderTime,i=e.interactionType;return c.h.post("/brand-insight/chart/find/INTERACTION_CATEGORY_CHART",{projectId:t,filterModel:n,dateFilter:r,orderTime:a,interactionType:i})}function W(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.interactionType;return c.h.post("/brand-insight/interaction/chart/find/INTERACTION_TIME_TREND_CHART",{projectId:t,filterModel:n,dateFilter:r,interactionType:a})}function H(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.menuDimension;return c.h.post("/brand-insight/chart/find/INTERACTION_CATEGORY_TIME_TREND_CHART",{projectId:t,filterModel:n,dateFilter:r,menuDimension:a})}var G=n(44836),Y=T.Z.brand.brandAnalysis,J=T.Z.brand.brandAnalysisSub.interaction,K={isInitial:!0,curDimensionName:"",curDimensionValName:"",filterParams:{},projectId:"",dateRange:0,dataCount:void 0,inteData:void 0,typeData:void 0,comparisionOptions:[],comparisionValue:[],interTypeValue:G.E.map((function(e){return e.id})),interDateDimension:"DAY",interChartType:"bar",originInterData:[],interData:[],interDiffData:[],channelDateDimension:"DAY",channelChartType:"area",originChannelData:[],channelData:[],channelDiffData:[]},Q=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const X={subNamespace:J,state:Object.assign({},K),reducers:{saveInteractionState:(0,o.ZP)((function(e,t){var n=t.payload;Object.keys(n).forEach((function(t){e[J][t]=n[t]}))})),cleanInteractionState:(0,o.ZP)((function(e,t){e[J]=Object.assign({},K)}))},effects:{fetchInterDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[Y][J]}));case 4:if(u=e.sent,l=u.filterParams,p=u.projectId,JSON.stringify(l)===JSON.stringify(a.filterParams)&&p===a.projectId){e.next=20;break}return e.next=10,s({type:"saveInteractionState",payload:(0,r.Z)({},a,{isInitial:!0})});case 10:return e.next=12,o(Q,100);case 12:return e.next=14,s({type:"fetchInteractionCountData",payload:a});case 14:return e.next=16,s({type:"fetchInteractionTypeData",payload:a});case 16:return e.next=18,s({type:"fetchInteractionChannelData",payload:a});case 18:return e.next=20,s({type:"saveInteractionState",payload:{isInitial:!1}});case 20:case"end":return e.stop()}}),e)})),fetchInteractionCountData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[Y][J]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=(0,r.Z)({orderTime:a.orderTime},a.filterParams||l,{projectId:a.projectId||p}),f=null,e.prev=9,e.next=12,o(B,d);case 12:h=e.sent,2e4===(m=h.data).code&&0!==m.result&&(f=m.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,c({type:"saveInteractionState",payload:(0,r.Z)({},a,{dataCount:f})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchInteractionTypeData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[Y][J]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=(0,r.Z)({orderTime:a.orderTime},a.filterParams||l,{projectId:a.projectId||p}),f=null,e.prev=9,e.next=12,o(U,d);case 12:h=e.sent,2e4===(m=h.data).code&&(f=0===m.result.length?"empty":m.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:if(e.prev=19,!a){e.next=23;break}return e.next=23,c({type:"saveInteractionState",payload:(0,r.Z)({},a,{typeData:f})});case 23:return e.finish(19);case 24:case"end":return e.stop()}}),e,null,[[9,17,19,24]])})),fetchInteractionChannelData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[Y][J]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=(0,r.Z)({orderTime:a.orderTime},a.filterParams||l,{projectId:a.projectId||p,interactionType:[a.interactionType]}),f=null,e.prev=9,e.next=12,o(q,d);case 12:h=e.sent,2e4===(m=h.data).code&&(f=0===m.result.length?"empty":m.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,s({type:"saveInteractionState",payload:(0,r.Z)({},a,{inteData:f})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchInterChartData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[Y][J]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=u.comparisionValue,f=u.interTypeValue,h=u.interDateDimension,m={projectId:p,dateFilter:(0,r.Z)({},l.dateFilter,{dateGroupType:a&&a.interDateDimension?a.interDateDimension:h}),filterModel:(0,r.Z)({},l.filterModel,{dimension:[(0,r.Z)({},l.filterModel.dimension,{values:a&&a.comparisionValue?l.filterModel.dimension[0].values.concat(a.comparisionValue):l.filterModel.dimension[0].values.concat(d)})]}),interactionType:a&&a.interTypeValue?a.interTypeValue:f},e.prev=11,e.next=14,o(W,m);case 14:if(v=e.sent,2e4!==(y=v.data).code){e.next=20;break}return I=y.result,e.next=20,c({type:"saveInteractionState",payload:{originInterData:I.length>0?I.map((function(e){return[e.name,e.total]})):[],interData:g(I)}});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),console.error(e.t0);case 25:if(e.prev=25,!a){e.next=29;break}return e.next=29,c({type:"saveInteractionState",payload:a});case 29:return b=(0,r.Z)({},m,{dateFilter:x(m.dateFilter)}),e.next=32,c({type:"fetchInterChartDiffData",payload:(0,r.Z)({},b)});case 32:return e.finish(25);case 33:case"end":return e.stop()}}),e,null,[[11,22,25,33]])})),fetchInterChartDiffData:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,o(W,a);case 5:if(u=e.sent,2e4!==(l=u.data).code){e.next=9;break}return e.delegateYield(i().mark((function e(){var t,n,a,o,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=l.result,e.next=4,s((function(e){return(0,r.Z)({},e)[Y][J]}));case 4:for(a=e.sent,o=a.originInterData,u=function(e){var r=n.filter((function(t){return t.name===o[e][0]}))[0];t.push([].concat(o[e],[r?r.total:0]))},p=0;p<o.length;p++)u(p);return e.next=10,c({type:"saveInteractionState",payload:{interDiffData:t}});case 10:case"end":return e.stop()}}),e)}))(),"t0",9);case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),console.error(e.t1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})),fetchChannelChartData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[Y][J]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=u.channelDateDimension,f={projectId:p,dateFilter:(0,r.Z)({},l.dateFilter,{dateGroupType:a&&a.channelDateDimension?a.channelDateDimension:d}),filterModel:l.filterModel},e.prev=9,e.next=12,o(H,f);case 12:if(h=e.sent,2e4!==(m=h.data).code){e.next=18;break}return v=m.result,e.next=18,c({type:"saveInteractionState",payload:{originChannelData:v.length&&v.filter((function(e){return e.name})).length>0?v.filter((function(e){return e.name})).map((function(e){return[e.name,e.total]})):[],channelData:g(v)}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(9);case 22:if(e.prev=22,!a){e.next=26;break}return e.next=26,c({type:"saveInteractionState",payload:a});case 26:return y=(0,r.Z)({},f,{dateFilter:x(f.dateFilter)}),e.next=29,c({type:"fetchChannelChartDiffData",payload:(0,r.Z)({},y)});case 29:return e.finish(22);case 30:case"end":return e.stop()}}),e,null,[[9,20,22,30]])})),fetchChannelChartDiffData:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,o(H,a);case 5:if(u=e.sent,2e4!==(l=u.data).code){e.next=9;break}return e.delegateYield(i().mark((function e(){var t,n,a,o,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=l.result,e.next=4,s((function(e){return(0,r.Z)({},e)[Y][J]}));case 4:for(a=e.sent,o=a.originChannelData,u=function(e){var r=n.filter((function(t){return t.name===o[e][0]}))[0];t.push([].concat(o[e],[r?r.total:0]))},p=0;p<o.length;p++)u(p);return e.next=10,c({type:"saveInteractionState",payload:{channelDiffData:t}});case 10:case"end":return e.stop()}}),e)}))(),"t0",9);case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),console.error(e.t1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))}};var $=n(29480),ee=n(17707);function te(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.dimensionId;return c.h.post("/brand-insight/chart/find/VOLUME_TIME_TREND_CHART",{projectId:t,filterModel:n,dateFilter:r,menuDimension:a})}function ne(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.dimensionId;return c.h.post("/brand-insight/chart/find/INTERACTION_TOTAL_CHART",{projectId:t,filterModel:n,dateFilter:r,menuDimension:a})}function re(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.dimensionId;return c.h.post("/brand-insight/chart/find/ATTENTION_TREND",{projectId:t,filterModel:n,dateFilter:r,menuDimension:a})}function ae(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.dimensionId;return c.h.post("/brand-insight/chart/find/ATTENTION_COUNT",{projectId:t,filterModel:n,dateFilter:r,menuDimension:a})}function ie(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.dimensionId,i=e.aspectLevel,o=e.aspect;return c.h.post("/brand-insight/chart/find/LABEL_ASPECT",{projectId:t,filterModel:n,dateFilter:r,dimensionId:a,aspectLevel:i,aspect:o})}function oe(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.dimensionId,i=e.aspectLevel,o=e.aspect,s=e.lineAspect;return c.h.post("/brand-insight/chart/find/LABEL_DIMENSION",{projectId:t,filterModel:n,dateFilter:r,dimensionId:a,aspectLevel:i,aspect:o,lineAspect:s})}function ce(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.dimensionId;return c.h.post("/brand-insight/chart/find/VOLUME_SOURCE_CHART",{projectId:t,filterModel:n,dateFilter:r,menuDimension:a})}function se(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.dimensionId;return c.h.post("/brand-insight/chart/find/SATISFACTION_TREND",{projectId:t,filterModel:n,dateFilter:r,menuDimension:a})}function ue(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.dimensionId;return c.h.post("/widget/data/find/ASPECT_TIME_LINE",{projectId:t,filterModel:n,dateFilter:r,topSize:50,menuDimension:a,type:"WORD_TIME_LINE"})}var le=function(e){return new Promise((function(t){return setTimeout(t,e)}))},pe=T.Z.brand.brandAnalysis,de=T.Z.brand.brandAnalysisSub.overview,fe=T.Z.public.menu,he="",me={numberInfoData:void 0,pieLineTrendData:void 0,timeType:"DAY",dateOptions:[],attentionTrendData:void 0,attentionTimeType:"DAY",valData:void 0,dataSource:[],originSatisFactionData:[],satisfactionData:[],satisfactionDiffData:[],satisfactionDateDimension:"DAY",tagDistributionData:void 0,aspectLevel:1,aspect:"",hotWordBubbleData:void 0,hotWordDoubleData:void 0,filterParams:void 0,projectId:void 0,dimensionId:"",dateRange:0};const ve={subNamespace:de,state:Object.assign({},me),reducers:{saveOverviewState:(0,o.ZP)((function(e,t){var n=t.payload;Object.keys(n).forEach((function(t){e[de][t]=n[t]}))})),cleanOverviewState:(0,o.ZP)((function(e,t){e[de]=Object.assign({},me)}))},effects:{fetchOverViewDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[pe][de]}));case 4:if(u=e.sent,l=u.filterParams,p=u.projectId,JSON.stringify(l)===JSON.stringify(a.filterParams)&&p===a.projectId){e.next=22;break}return e.next=10,o({type:"saveOverviewState",payload:Object.assign({},me)});case 10:return e.next=12,c(le,100);case 12:return e.next=14,o({type:"saveOverviewState",payload:a});case 14:return e.next=16,c(le,100);case 16:return e.next=18,o({type:"fetchOverviewDataSource",payload:a});case 18:return e.next=20,o({type:"fetchOverviewTagDistributionData",payload:a});case 20:return e.next=22,o({type:"fetchOverviewHotWordData",payload:a});case 22:case"end":return e.stop()}}),e)})),fetchOverviewDataSource:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[pe][de]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=u.dimensionId,f=(0,r.Z)({projectId:a.projectId||p,dimensionId:a.dimensionId||d},a.filterParams||l),e.next=11,o(ce,f);case 11:if(h=e.sent,!(2e4===(m=h.data).code&&m.result.length>0)){e.next=17;break}return v=m.result,e.next=17,c({type:"saveOverviewState",payload:{dataSource:v}});case 17:case"end":return e.stop()}}),e)})),fetchOverviewSatisData:i().mark((function e(t,n){var a,c,s,u,l,p,d,f,h,m,v,y,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[pe][de]}));case 4:return l=e.sent,p=l.filterParams,d=l.projectId,f=l.satisfactionDateDimension,h=l.dimensionId,m=(0,r.Z)({projectId:a.projectId||d,dimensionId:a.dimensionId||h},(0,o.ZP)(a.filterParams||p,(function(e){e.dateFilter.dateGroupType=a&&a.satisfactionDateDimension?a.satisfactionDateDimension:f}))),e.prev=10,e.next=13,c(se,m);case 13:if(v=e.sent,2e4!==(y=v.data).code){e.next=19;break}return I=y.result,e.next=19,s({type:"saveOverviewState",payload:{originSatisFactionData:I.length>0?I.map((function(e){return[e.name,e.total]})):[],satisfactionData:g(I)}});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(10);case 23:return e.prev=23,e.next=26,s({type:"saveOverviewState",payload:a});case 26:return b=(0,r.Z)({},m,{dateFilter:x(m.dateFilter)}),e.next=29,s({type:"fetchOverviewSatisDiffData",payload:(0,r.Z)({},b)});case 29:return e.finish(23);case 30:case"end":return e.stop()}}),e,null,[[10,21,23,30]])})),fetchOverviewSatisDiffData:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,o(se,a);case 5:if(u=e.sent,2e4!==(l=u.data).code){e.next=9;break}return e.delegateYield(i().mark((function e(){var t,n,a,o,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=l.result,e.next=4,s((function(e){return(0,r.Z)({},e)[pe][de]}));case 4:for(a=e.sent,o=a.originSatisFactionData,u=function(e){var r=n.filter((function(t){return t.name===o[e][0]}))[0];t.push([].concat(o[e],[r?r.total:0]))},p=0;p<o.length;p++)u(p);return e.next=10,c({type:"saveOverviewState",payload:{satisfactionDiffData:t}});case 10:case"end":return e.stop()}}),e)}))(),"t0",9);case 9:e.next=13;break;case 11:e.prev=11,e.t1=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})),fetchOverviewPieLineTrendData:i().mark((function e(t,n){var a,c,s,u,l,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.put,s=n.call,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[pe][de]}));case 4:return l=e.sent,p=l.filterParams,d=l.projectId,f=l.timeType,h=l.dimensionId,m=a.timeType||f,v=(0,r.Z)({dimensionId:a.dimensionId||h},(0,o.ZP)(a.filterParams||p,(function(e){e.dateFilter.dateGroupType=m})),{projectId:a.projectId||d}),y=null,g=null,e.prev=12,e.next=15,s(te,v);case 15:if(x=e.sent,2e4!==(I=x.data).code){e.next=27;break}if(0!==I.result.length){e.next=23;break}g="empty",y="empty",e.next=27;break;case 23:return g=(0,$.X7)(I.result,m),y={value:g.allTotal,bottomValue:"--"},e.next=27,c({type:"fetchOverviewInteractData",payload:a});case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(12);case 31:return e.prev=31,e.next=34,c({type:"saveOverviewState",payload:(0,r.Z)({},a,{numberInfoData:y,pieLineTrendData:g})});case 34:return e.finish(31);case 35:case"end":return e.stop()}}),e,null,[[12,29,31,35]])})),fetchOverviewInteractData:i().mark((function e(t,n){var a,c,s,u,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[pe][de]}));case 4:return l=e.sent,p=l.filterParams,d=l.projectId,f=l.numberInfoData,h=l.dimensionId,m=(0,r.Z)({},a.filterParams||p,{dimensionId:a.dimensionId||h,projectId:d}),e.prev=10,e.next=13,c(ne,m);case 13:if(v=e.sent,2e4!==(y=v.data).code||!y.result){e.next=18;break}return e.next=18,s({type:"saveOverviewState",payload:{numberInfoData:(0,o.ZP)(f,(function(e){e.bottomValue=y.result}))}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(10);case 22:case"end":return e.stop()}}),e,null,[[10,20]])})),fetchOverviewAttentionTrendData:i().mark((function e(t,n){var a,c,s,u,l,p,d,f,h,m,v,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.put,s=n.call,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[pe][de]}));case 4:return l=e.sent,p=l.filterParams,d=l.projectId,f=l.attentionTimeType,h=l.dimensionId,m=a.attentionTimeType||f,v=(0,r.Z)({dimensionId:a.dimensionId||h},(0,o.ZP)(a.filterParams||p,(function(e){var t=e.dateFilter,n=t.from,r=t.to,a=t.numOfDays;e.dateFilter.from=y()(n).subtract(a,"days").format("YYYY-MM-DD"),e.dateFilter.to=y()(r).subtract(a,"days").format("YYYY-MM-DD"),e.dateFilter.dateGroupType=m})),{projectId:a.projectId||d}),g=(0,r.Z)({dimensionId:a.dimensionId||h},(0,o.ZP)(a.filterParams||p,(function(e){e.dateFilter.dateGroupType=m})),{projectId:a.projectId||d}),x=null,I=void 0,e.prev=14,b=void 0,e.next=18,s(ae,v);case 18:return T=e.sent,2e4===(E=T.data).code&&(b=E.result),e.next=23,s(re,g);case 23:w=e.sent,2e4===(k=w.data).code&&k.result.length>0&&(0===k.result.length?x="empty":(I=k.result,x=(0,$.X7)(k.result,m,b))),e.next=30;break;case 28:e.prev=28,e.t0=e.catch(14);case 30:return e.prev=30,e.next=33,c({type:"saveOverviewState",payload:(0,r.Z)({},a,{attentionTrendData:x,valData:I})});case 33:return e.finish(30);case 34:case"end":return e.stop()}}),e,null,[[14,28,30,34]])})),fetchOverviewTagDistributionData:i().mark((function e(t,n){var a,c,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.put,s=n.call,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[pe][de]}));case 4:return l=e.sent,p=l.filterParams,d=l.projectId,f=l.aspect,h=l.aspectLevel,m=l.dimensionId,e.next=12,u((function(e){return(0,r.Z)({},e)[fe]}));case 12:return v=e.sent,y=v.menuList,g=null,e.prev=15,x=a.dimensionId||m,I=a.projectId||d,b=y.brandInsightMenus,T=b?b[I].find((function(e){return e.id===parseInt(x)})).name:"",E=(0,r.Z)({projectId:I,dimensionId:x,aspect:a.aspect||f,aspectLevel:a.aspectLevel||h},a.filterParams||p),e.next=23,s(ie,E);case 23:if(w=e.sent,2e4!==(k=w.data).code){e.next=37;break}if(0!==k.result.aspectList.length){e.next=30;break}g="empty",e.next=37;break;case 30:return he=E.aspect,C=(0,ee.yv)(k.result.aspectList),S=k.result.dimensionList,N=k.result.aspectList.map((function(e){return e.name})),g={treemap:C,heatmap:{xNames:N,yNames:S,xMaxs:[],data:S.reduce((function(e,t,n){return[].concat(e,N.map((function(e,t){return[t,n,null]})))}),[])},yAxisName:T},e.next=37,c({type:"fetchTagDetailDataLauncher",payload:{params:E,xNames:N,yNames:S}});case 37:e.next=41;break;case 39:e.prev=39,e.t0=e.catch(15);case 41:return e.prev=41,e.next=44,c({type:"saveOverviewState",payload:(0,o.ZP)(a,(function(e){e.tagDistributionData=g}))});case 44:return e.finish(41);case 45:case"end":return e.stop()}}),e,null,[[15,39,41,45]])})),fetchTagDetailDataLauncher:i().mark((function e(t,n){var a,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.put,s=n.call,u=n.select,e.next=4,s(le,100);case 4:l=a.params,p=a.xNames,d=a.yNames,f=i().mark((function e(t){var n,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u((function(e){return(0,r.Z)({},e)[pe][de]}));case 2:if(n=e.sent,f=n.tagDistributionData,he===a.params.aspect){e.next=6;break}return e.abrupt("return",{v:void 0});case 6:return e.next=8,s(oe,(0,r.Z)({},l,{lineAspect:p[t]}));case 8:if(h=e.sent,2e4!==(m=h.data).code||he!==a.params.aspect){e.next=15;break}return v=0,y=(0,o.ZP)(f,(function(e){d.forEach((function(n,r){var a=m.result.find((function(e){return e.name===n})),i=a?parseInt(a.value):0;e.heatmap.data[t+r*p.length]=[t,r,i],v=Math.max(v,i),r===d.length-1&&e.heatmap.xMaxs.push(v)}))})),e.next=15,c({type:"saveOverviewState",payload:{tagDistributionData:y}});case 15:return e.next=17,s(le,100);case 17:case"end":return e.stop()}}),e)})),h=0;case 7:if(!(h<p.length)){e.next=15;break}return e.delegateYield(f(h),"t0",9);case 9:if("object"!==typeof(m=e.t0)){e.next=12;break}return e.abrupt("return",m.v);case 12:h++,e.next=7;break;case 15:case"end":return e.stop()}}),e)})),fetchOverviewHotWordData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[pe][de]}));case 4:return u=e.sent,l=u.filterParams,p=u.projectId,d=u.dimensionId,f=(0,r.Z)({},a.filterParams||l,{projectId:a.projectId||p,dimensionId:a.dimensionId||d}),h=null,m=null,e.prev=10,e.next=13,o(ue,f);case 13:v=e.sent,2e4===(y=v.data).code&&(0===y.result.list.length?(h="empty",m="empty"):(g=y.result.list,x=g.reduce((function(e,t){return e+t.total}),0),m=g.map((function(e){return(0,r.Z)({},e,{precent:e.total/x,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})})),h=0===m.length?[]:(0,M.Kj)(m.slice().sort((function(e,t){return t.total-e.total}))))),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"saveOverviewState",payload:(0,r.Z)({},a,{hotWordBubbleData:h,hotWordDoubleData:m})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])}))}};var ye;const ge={namespace:T.Z.brand.brandAnalysis,state:(ye={},ye[ve.subNamespace]=ve.state,ye[N.subNamespace]=N.state,ye[z.subNamespace]=z.state,ye[X.subNamespace]=X.state,ye),reducers:(0,r.Z)({},ve.reducers,N.reducers,z.reducers,X.reducers),effects:(0,r.Z)({},ve.effects,N.effects,z.effects,X.effects)}},92765:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.keyword,r=e.statusList,a=e.pageSize,i=e.pageIndex;return o.h.post("/store/list",{projectId:t,storeName:n,statusList:r,pageIndex:i,pageSize:a})}function s(e){var t=e.projectId;return o.h.post("/store/stat",{projectId:t})}var u=n(64396).Z.colManage.manage,l={storeData:void 0,storeListData:void 0,projectId:void 0,keyword:"",statusList:[],pageIndex:1,pageSize:20};const p={namespace:u,state:(0,r.Z)({},l),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return(0,r.Z)({},l)}},effects:{fetchData:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.select,e.next=4,a({type:"fetchStoreData",payload:r});case 4:return e.next=6,a({type:"fetchStoreListData",payload:r});case 6:case"end":return e.stop()}}),e)})),fetchStoreListData:i().mark((function e(t,n){var a,o,s,l,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.select,l=n.put,p=null,e.next=5,s((function(e){return(0,r.Z)({},e)[u]}));case 5:return d=e.sent,f=d.keyword,h=d.statusList,m=d.pageIndex,v=d.pageSize,y=d.projectId,g=(0,r.Z)({keyword:f,statusList:h,pageIndex:m,pageSize:v,projectId:y},a),e.prev=12,e.next=15,o(c,g);case 15:x=e.sent,2e4===(I=x.data).code&&(p=I.result),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,l({type:"save",payload:(0,r.Z)({},g,{storeListData:p})});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])})),fetchStoreData:i().mark((function e(t,n){var r,a,o,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=null,e.prev=3,e.next=6,a(s,r);case 6:u=e.sent,2e4===(l=u.data).code&&(c=l.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,o({type:"save",payload:{storeData:c}});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[3,11,13,17]])}))}}},27664:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.dateFilter,r=e.source,a=e.shopName,i=e.waiter,c=e.typeList,s=e.product,u=e.aspect1,l=e.aspect2,p=e.queryType;return o.h.post("/waiter-session/chart/find/SESSION_TOTAL_DISTRIBUTION",{projectId:t,dateFilter:n,source:r,shopName:a,waiter:i,typeList:c,product:s,aspect1:u,aspect2:l,queryType:p})}function s(e){var t=e.projectId,n=e.trendPlatformType,r=e.dateFilter,a=e.source,i=e.aspect1,c=e.aspect2,s=e.shopName,u=e.waiter,l=e.typeList,p=e.product,d=e.queryType,f=void 0===d?"PRODUCT":d;return o.h.post("/waiter-session/chart/find/DATE_TREND_LINE",{projectId:t,dateFilter:r,groupType:n,source:a,aspect1:i,aspect2:c,shopName:s,waiter:u,typeList:l,product:p,queryType:f})}function u(e){var t=e.projectId,n=e.source,r=e.shopName,a=e.waiter,i=e.typeList,c=e.aspect1,s=e.aspect2,u=e.product,l=e.dateFilter,p=e.productCompare,d=e.productAspectType,f=e.queryType,h=void 0===f?"ASPECT":f;return o.h.post("/waiter-session/chart/find/MENTION_POINT_DETAIL_CHART",{projectId:t,source:n,shopName:r,waiter:a,typeList:i,aspect1:c,aspect2:s,product:u,dateFilter:l,compareProduct:"none"===p?"":p,groupType:d,queryType:h})}function l(e){var t=e.projectId,n=e.dateFilter,r=e.source,a=e.shopName,i=e.waiter,c=e.typeList,s=e.product,u=e.groupType;return o.h.post("/waiter-session/chart/find/MENTION_OTHER_PRODUCT",{projectId:t,dateFilter:n,source:r,shopName:a,waiter:i,typeList:c,product:s,groupType:u})}var p=n(35239),d=n(32283),f=n(39432),h=n(64396),m=h.Z.conversation.commodityAnalyze,v=h.Z.public.header,y={isInitial:!0,conData:{total:0,sum:0,sourceList:[],titlePrefix:""},trendData:void 0,trendTimeType:"DAY",trendPlatformType:"SOURCE",productFocusPointData:void 0,productOptions:[],productCompare:"",productAspectType:"ASPECT1",formulaType:"NUMBER",focusDisData:void 0,mentionedGoodsData:{data:[],groupType:{id:"BRAND",name:"\u54c1\u724c"}},filter:{},headerState:p.t.get(p.V.conversationCommodityHeader)};const g={namespace:m,state:(0,r.Z)({projectId:void 0},Object.assign({},y)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[m]}));case 4:return u=e.sent,l=u.filter,p=u.projectId,e.next=9,c((function(e){return(0,r.Z)({},e)[v]}));case 9:if(d=e.sent,h=d.screeningMap.product,JSON.stringify(a.filter)===JSON.stringify(l)&&p===a.projectId&&!a.refresh){e.next=32;break}return g=h.filter((function(e){return e!==a.filter.product[0]})).reduce((function(e,t){return[].concat(e,[{title:t,value:t}])}),[]),x=(0,r.Z)({},Object.assign({},y),{productOptions:g,productList:h},a),e.next=16,s({type:"save",payload:x});case 16:return e.next=18,o(f.gw,200);case 18:return e.next=20,s({type:"fetchConversationData",payload:x});case 20:return e.next=22,o(f.gw,200);case 22:return e.next=24,s({type:"fetchConversationTrendData",payload:x});case 24:return e.next=26,o(f.gw,200);case 26:return e.next=28,s({type:"fetchProductFocusPointData",payload:x});case 28:return e.next=30,o(f.gw,200);case 30:return e.next=32,s({type:"fetchMentionedGoods",payload:x});case 32:case"end":return e.stop()}}),e)})),fetchConversationData:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,h,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,s=n.select,e.prev=1,e.next=4,s((function(e){return(0,r.Z)({},e)[m]}));case 4:return u=e.sent,l=u.projectId,p=u.filter,d=u.filter.product,e.next=10,a(c,(0,r.Z)({projectId:l},p,{queryType:"PRODUCT"}));case 10:if(f=e.sent,2e4!==(h=f.data).code){e.next=17;break}return v=h.result,y=v.totalCount,g=v.sourceList,x=g.reduce((function(e,t){return e+t.docCount}),0),e.next=17,o({type:"save",payload:{conData:{total:y,sourceList:g,sum:x,titlePrefix:d[0]||""}}});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(1);case 21:return e.prev=21,e.next=24,o({type:"save",payload:{isInitial:!1}});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[1,19,21,25]])})),fetchConversationTrendData:i().mark((function e(t,n){var a,o,c,u,l,p,f,h,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[m]}));case 4:return l=e.sent,p=l.trendTimeType,f=l.trendPlatformType,h=l.projectId,v=l.filter,y={trendPlatformType:a.trendPlatformType||f,trendTimeType:a.trendTimeType||p},g=null,e.prev=11,e.next=14,o(s,(0,r.Z)({projectId:h},y,v,{dateFilter:(0,r.Z)({},v.dateFilter,{dateGroupType:y.trendTimeType})}));case 14:x=e.sent,2e4===(I=x.data).code&&I.result.list.length>0&&(g=(0,d.PT)(I.result,y.trendTimeType,v.product[0]+"\u4f1a\u8bdd\u8d70\u52bf")),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,c({type:"save",payload:(0,r.Z)({},y,{trendData:g})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchProductFocusPointData:i().mark((function e(t,n){var a,o,c,s,l,p,h,v,y,g,x,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,o(f.gw,a.timeOut);case 4:return e.next=6,s((function(e){return(0,r.Z)({},e)[m]}));case 6:return l=e.sent,p=l.productCompare,h=l.productAspectType,v=l.projectId,y=l.filter,g=l.formulaType,x=l.aspect1,I={productCompare:void 0!==a.productCompare?a.productCompare:p,productAspectType:a.aspectType||h,formulaType:a.formulaType||g,aspect1:a.aspect1||x},b=(0,r.Z)({projectId:v},y,I),T=null,e.prev=16,e.next=19,o(u,b);case 19:E=e.sent,2e4===(w=E.data).code&&w.result.length>0&&w.result[0]&&w.result[0].data.length>0&&(k=y.product,C=k[0],T=(0,d.tQ)(w.result,"aspect","\u63d0\u53ca"+C+"\u65f6\u7684\u5173\u6ce8\u70b9",I.productCompare?[C,I.productCompare]:[C],I.formulaType)),e.next=26;break;case 24:e.prev=24,e.t0=e.catch(16);case 26:return e.prev=26,e.next=29,c({type:"save",payload:(0,r.Z)({},I,{productFocusPointData:T})});case 29:return e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[16,24,26,30]])})),fetchMentionedGoods:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,v,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,s((function(e){return(0,r.Z)({},e)[m]}));case 5:return u=e.sent,p=u.projectId,d=u.filter,f=u.mentionedGoodsData,h=u.mentionedGoodsData.groupType,v=(0,r.Z)({projectId:p},d,{groupType:a&&a.groupType?a.groupType.id:h.id}),e.next=13,o(l,v);case 13:if(y=e.sent,2e4!==(g=y.data).code){e.next=22;break}if(!((x=g.result).length>0)){e.next=22;break}return I=x.reduce((function(e,t){return e+t.count}),0),x.forEach((function(e,t){var n=e.count/I*100;e.percentage=Number.isInteger(n)?n:Number(n.toFixed(2)),e.rank=t+1})),e.next=22,c({type:"save",payload:{mentionedGoodsData:(0,r.Z)({},f,{data:x})}});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(2);case 26:return e.prev=26,e.next=29,s((function(e){return(0,r.Z)({},e)[m]}));case 29:return b=e.sent,T=b.mentionedGoodsData,E=b.mentionedGoodsData.groupType,w={groupType:a.groupType||E},e.next=35,c({type:"save",payload:{mentionedGoodsData:(0,r.Z)({},T,w)}});case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[2,24,26,36]])}))}}},74857:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){return o.h.post("/waiter-session/list",(0,r.Z)({},e))}function s(e){return o.h.post("/waiter-session/detail/find",(0,r.Z)({},e))}function u(e){return o.h.post("/session/filter/find/list",(0,r.Z)({},e))}var l=n(35239),p=n(64396).Z.conversationHome;const d={namespace:p,state:{conversationList:void 0,conversationDetail:void 0,detailProduct:[],detailAspect:[],conversationStartTime:"",conversationListTotal:0,detailAspectKeywordList:void 0,currentDisplayGroup:{},conversationFilter:{source:[],shopName:[],typeList:[],waiter:[],position:[]},conversationFilterValue:{},pageSize:10,pageIndex:1,filterParams:{}},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchConversationList:i().mark((function e(t,n){var a,o,s,u,d,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[p]}));case 4:if(d=e.sent,f=d.pageSize,h=d.conversationList,m=d.filterParams,v=d.conversationFilterValue,y={},Object.keys(v).filter((function(e){return v[e].length>0})).forEach((function(e){return y[e]=v[e]})),!a.filterParams){e.next=15;break}return g=a.filterParams.position,e.next=15,s({type:"save",payload:{filterParams:a.filterParams,conversationFilterValue:{position:g}}});case 15:return x=a.pageIndex,e.next=18,o(c,(0,r.Z)({projectId:l.t.get(l.V.curProject).id,pageSize:f,pageIndex:(x-1)*f+1},m,a.filterParams,y));case 18:return I=e.sent,b=I.data.result,e.next=22,s({type:"save",payload:{conversationList:1===x?b.conversationList:h.concat(b.conversationList),conversationListTotal:b.total,pageIndex:x}});case 22:if(!(1===x&&b.conversationList.length>0)){e.next=27;break}return e.next=25,s({type:"fetchConversationDetail",payload:{group:b.conversationList[0].group}});case 25:e.next=30;break;case 27:if(1!==x||0!==b.conversationList.length){e.next=30;break}return e.next=30,s({type:"save",payload:{currentDisplayGroup:{},conversationDetail:[]}});case 30:case"end":return e.stop()}}),e)})),fetchConversationDetail:i().mark((function e(t,n){var r,a,o,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,e.next=4,a(s,{projectId:l.t.get(l.V.curProject).id,group:r.group});case 4:return c=e.sent,u=c.data.result,e.next=8,o({type:"save",payload:{currentDisplayGroup:r.group,conversationDetail:u.contentList.reverse(),detailProduct:u.product,detailAspect:u.aspect,detailAspectKeywordList:u.aspect.reduce((function(e,t){var n=t.aspectId;if(!t.aspectList)return e;var r=t.aspectList.reduce((function(e,t){var r=t.messageId,a=t.start,i=t.highLightWord,o=t.end;e[r]||(e[r]=[]);var c=e[r].find((function(e){return e.aspectId===n}));return c?c.keywords.push({highLightWord:i,start:a,end:o}):e[r].push({aspectId:n,keywords:[{highLightWord:i,start:a,end:o}]}),e}),{});return Object.keys(r).forEach((function(t){e[t]?e[t]=e[t].concat(r[t]):e[t]=r[t]})),e}),{}),conversationStartTime:u.startTime}});case 8:case"end":return e.stop()}}),e)})),fetchConversationFilter:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,e.next=4,a(u,{projectId:l.t.get(l.V.curProject).id,product:r.product});case 4:return c=e.sent,s=c.data.result,e.next=8,o({type:"save",payload:{conversationFilter:s}});case 8:case"end":return e.stop()}}),e)})),clearConversationList:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"save",payload:{conversationList:void 0,conversationListTotal:0,conversationDetail:void 0,filterParams:void 0,conversationFilterValue:{}}});case 4:case"end":return e.stop()}}),e)})),saveValue:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:r});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))}}},32283:(e,t,n)=>{"use strict";n.d(t,{ao:()=>a,eW:()=>i,tQ:()=>o,PT:()=>c});var r=n(87462),a=function(e){return"number"===typeof e?0<=e&&e<1e3?e:e<1e4?(e/1e3).toFixed(2)+"\u5343":(e/1e4).toFixed(2)+"\u4e07":"--"},i=function(e,t){var n=e.sort((function(e,t){return t.count-e.count})).map((function(e){return e.name})),r=e.reduce((function(e,t){return e+t.count}),0);return{tableData:e.map((function(e){var t=e.name,n=e.count;return{name:t,value:n,precent:n/r}})),dataType:t,title:"product"===t?"\u5546\u54c1\u5206\u5e03":"\u5173\u6ce8\u70b9\u5206\u5e03",chartData:{length:1,dimensions:["aspect"].concat(e.map((function(e){return e.name}))),source:[n,e.map((function(e){return e.count}))]}}},o=function(e,t,n,r,a){void 0===a&&(a="NUMBER");var i=e[0].data.sort((function(e,t){return t.value-e.value})).map((function(e){return e.name})),o=e[0].data.reduce((function(e,t){return e+parseInt(t.value)}),0),c=[];if(e&&1===e.length)c=e[0].data.map((function(e){var t=e.name,n=e.value;return{name:t,value:n,precent:parseInt(n)/o}}));else{var s=e[1].data.reduce((function(e,t){return e+parseInt(t.value)}),0);c=e[0].data.map((function(t){for(var n=0;n<e[1].data.length;n++)if(t.name===e[1].data[n].name)return t.value2=e[1].data[n].value,{name:t.name,value:t.value,precent:parseInt(t.value)/o,value2:t.value2,precent2:parseInt(t.value2)/s};return null}))}var u=Math.max.apply(null,e.reduce((function(e,t){return[].concat(e,t.data.map((function(e){return e.value})))}),[])),l=[t].concat(r.reduce((function(e,t){return[].concat(e,[t+"-\u6570\u91cf",t+"-\u6bd4\u4f8b"])}),[])),p=c.reduce((function(e,t){return e[0].push(t.value),e[1].push(t.precent),t.value2&&(e[2]?e[2].push(t.value2):e[2]=[t.value2]),t.precent2&&(e[3]?e[3].push(t.precent2):e[3]=[t.precent2]),e}),[[],[]]),d=[i].concat(p);return{tableData:c,title:n,dataType:t,product:r,chartData:{max:u,length:e.length,dimensions:l,source:d}}};function c(e,t,n){var a=void 0;e.list.map((function(e){var n=0===e.dateList.length;return n||a||(a=e.dateList.map((function(e){return function(e,t){if("WEEK"===t){var n=e.split("-");return n[0]+"\u5e74"+n[1]+"\u5468"}return e}(e.date,t)}))),n})).forEach((function(t,n){t&&(e.list[n]=(0,r.Z)({},e.list[n],{dateList:a.map((function(e){return{date:e,count:0,queryCount:0}}))}))}));var i=[],o=["\u65e5\u671f"].concat(e.list.map((function(e){return e.name}))),c=e.list.reduce((function(e,t){return[].concat(e,[t.dateList.reduce((function(e,t,n){var r=t.queryCount||0;return i[n]?i[n]+=r:i[n]=r,[].concat(e,[r])}),[])])}),[a]),s=e.list.reduce((function(e,t){return[].concat(e,[t.dateList.reduce((function(e,t){return[].concat(e,[0===t.count?0:(t.queryCount/t.count).toFixed(4)-0])}),[])])}),[a]);return{length:e.list.length,title:n,dataset:[{dimensions:o,source:c},{dimensions:o,source:s},{dimensions:[null,"\u5168\u90e8"],source:[a,i]}]}}},63102:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.dateFilter,r=e.source,a=e.shopName,i=e.waiter,c=e.typeList,s=e.product,u=e.aspect1,l=e.aspect2,p=e.brand,d=e.queryType;return o.h.post("/waiter-session/chart/find/SESSION_TOTAL_DISTRIBUTION",{projectId:t,dateFilter:n,source:r,shopName:a,waiter:i,typeList:c,product:s,aspect1:u,aspect2:l,brand:p,queryType:d})}function s(e){var t=e.projectId,n=e.trendPlatformType,r=e.dateFilter,a=e.source,i=e.aspect1,c=e.aspect2,s=e.shopName,u=e.waiter,l=e.typeList,p=e.product,d=e.brand,f=e.queryType;return o.h.post("/waiter-session/chart/find/DATE_TREND_LINE",{projectId:t,dateFilter:r,groupType:n,source:a,aspect1:i,aspect2:c,shopName:s,waiter:u,typeList:l,product:p,brand:d,queryType:f})}function u(e){var t=e.projectId,n=e.source,r=e.shopName,a=e.waiter,i=e.typeList,c=e.aspect1,s=e.aspect2,u=e.product,l=e.brand,p=e.dateFilter,d=e.productCompare,f=e.productAspectType,h=e.queryType,m=void 0===h?"PRODUCT":h,v=e.position;return o.h.post("/waiter-session/chart/find/MENTION_POINT_DETAIL_CHART",{projectId:t,source:n,shopName:r,waiter:a,typeList:i,aspect1:c,aspect2:s,product:u,brand:l,dateFilter:p,compareProduct:d,groupType:f,queryType:m,position:v})}var l=n(35239),p=n(32283),d=n(64396).Z.conversation.concernAnalyze,f={isInitial:!0,conData:{total:0,sum:0,sourceList:[],titlePrefix:""},trendData:void 0,trendTimeType:"DAY",trendPlatformType:"SOURCE",productFocusPointData:void 0,formulaType:"NUMBER",position:[],projectId:void 0,headerState:l.t.get(l.V.conversationConcernHeader),filter:{},chartValue:void 0},h=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const m={namespace:d,state:(0,r.Z)({},Object.assign({},f)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,c=n.put,s=n.call,e.next=4,o((function(e){return(0,r.Z)({},e)[d]}));case 4:if(u=e.sent,l=u.filter,p=u.projectId,JSON.stringify(a.filter)===JSON.stringify(l)&&p===a.projectId&&!a.refresh){e.next=23;break}return m=(0,r.Z)({},Object.assign({},f),a),e.next=11,c({type:"save",payload:m});case 11:return e.next=13,s(h,200);case 13:return e.next=15,c({type:"fetchConversationData",payload:m});case 15:return e.next=17,s(h,200);case 17:return e.next=19,c({type:"fetchConversationTrendData",payload:m});case 19:return e.next=21,s(h,200);case 21:return e.next=23,c({type:"fetchProductFocusPointData",payload:m});case 23:case"end":return e.stop()}}),e)})),fetchConversationData:i().mark((function e(t,n){var a,o,s,u,l,p,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.prev=2,e.next=5,u((function(e){return(0,r.Z)({},e)[d]}));case 5:return l=e.sent,p=l.projectId,f=l.filter,h=l.chartValue,e.next=11,o(c,(0,r.Z)({projectId:p},f,{queryType:h?"":"ASPECT",brand:h?h.values.id:f.brand,aspect1:h?[]:f.aspect1,aspect2:h?[]:f.aspect2}));case 11:if(m=e.sent,2e4!==(v=m.data).code){e.next=19;break}return y=v.result,g=y.totalCount,x=y.sourceList,I=x.reduce((function(e,t){return e+t.docCount}),0),b=f.aspectTitle,e.next=19,s({type:"save",payload:{conData:{total:g,sourceList:x,sum:I,titlePrefix:"\u300c"+(h?h.values.id:b)+"\u300d"},projectId:p||a.projectId}});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(2);case 23:return e.prev=23,e.next=26,s({type:"save",payload:{isInitial:!1}});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[2,21,23,27]])})),fetchConversationTrendData:i().mark((function e(t,n){var a,o,c,u,l,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,f=l.trendTimeType,h=l.trendPlatformType,m=l.projectId,v=l.filter,y=l.chartValue,g={trendPlatformType:a.trendPlatformType||h,trendTimeType:a.trendTimeType||f},x=null,e.prev=12,e.next=15,o(s,(0,r.Z)({projectId:m},g,v,{queryType:y?"":"ASPECT",dateFilter:(0,r.Z)({},v.dateFilter,{dateGroupType:g.trendTimeType}),brand:y?y.values.id:v.brand,aspect1:y?[]:v.aspect1,aspect2:y?[]:v.aspect2}));case 15:I=e.sent,2e4===(b=I.data).code&&b.result.list.length>0&&(x=(0,p.PT)(b.result,g.trendTimeType,"\u300c"+(y?y.values.id:v.aspectTitle)+"\u300d\u5173\u6ce8\u70b9\u8d70\u52bf")),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,c({type:"save",payload:(0,r.Z)({},g,{trendData:x})});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])})),fetchProductFocusPointData:i().mark((function e(t,n){var a,o,c,s,l,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[d]}));case 3:return s=e.sent,l=s.projectId,f=s.filter,h=s.chartValue,m=s.position,v=null,e.prev=9,e.next=12,a(u,(0,r.Z)({projectId:l},f,{brand:h?h.values.id:f.brand,aspect1:h?[]:f.aspect1,aspect2:h?[]:f.aspect2,position:m}));case 12:y=e.sent,2e4===(g=y.data).code&&g.result.length>0&&(v=(0,p.tQ)(g.result,"product","\u5ba2\u6237\u5173\u6ce8\u300c"+(h?h.values.id:f.aspectTitle)+"\u300d\u65f6\u63d0\u53ca\u5230\u7684\u5546\u54c1",[""+(h?h.values.id:f.aspectTitle)])),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,o({type:"save",payload:{productFocusPointData:v}});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])}))}}},67918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.dateFilter,r=e.source,a=e.shopName,i=e.waiter,c=e.typeList,s=e.product,u=e.aspect1,l=e.aspect2,p=e.compareProduct,d=e.queryType,f=e.brand;return o.h.post("/waiter-session/chart/find/PRODUCT_ASPECT_TIME_CHART",{projectId:t,queryType:d,dateFilter:n,source:r,shopName:a,waiter:i,typeList:c,product:s,aspect1:u,aspect2:l,compareProduct:p,brand:f})}function s(e){var t=e.projectId,n=e.dateFilter,r=e.source,a=e.shopName,i=e.waiter,c=e.typeList,s=e.product,u=e.aspect1,l=e.aspect2,p=e.groupType,d=e.queryType,f=e.brand;return o.h.post("/waiter-session/chart/find/ASPECT_PRODUCT_DISTRIBUTION",{projectId:t,dateFilter:n,source:r,shopName:a,waiter:i,typeList:c,product:s,aspect1:u,aspect2:l,groupType:p,queryType:d,brand:f})}var u=n(64396).Z.conversation.detail,l=function(e){return new Promise((function(t){return setTimeout(t,e)}))},p={type:1,isInitial:!0,lineChartData:{total:0,data:[],comparedProduct:""},comparisonList:[],treeChartData:{groupType:{id:"SHOP",name:"\u5e97\u94fa"},data:[]},projectId:"",queryType:"",filterParams:{dateFilter:{},source:[],shopName:[],waiter:[],typeList:[],position:[],product:[],aspect:[],aspect1:[],aspect2:[],brand:""},selectedChart:"",selectedValue:{date:"",source:"",shopName:"",waiter:""}};const d={namespace:u,state:(0,r.Z)({},Object.assign({},p)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.prev=2,e.next=5,c((function(e){return(0,r.Z)({},e)[u]}));case 5:if(p=e.sent,d=p.filterParams,f=p.projectId,JSON.stringify(d)===JSON.stringify(a.filterParams)&&f===a.projectId){e.next=17;break}return e.next=11,s({type:"save",payload:(0,r.Z)({},a)});case 11:return e.next=13,o(l,500);case 13:return e.next=15,s({type:"fetchLineChartData",payload:a});case 15:return e.next=17,s({type:"fetchTreeChartData",payload:a});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(2);case 21:case"end":return e.stop()}}),e,null,[[2,19]])})),fetchLineChartData:i().mark((function e(t,n){var a,o,s,l,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,l=n.select,e.prev=2,e.next=5,l((function(e){return(0,r.Z)({},e)[u]}));case 5:return p=e.sent,d=p.projectId,f=p.filterParams,h=p.lineChartData,m=p.lineChartData.comparedProduct,v=p.queryType,y=(0,r.Z)({projectId:d},f,{queryType:a.queryType||v,compareProduct:void 0!==a.comparedProduct?a.comparedProduct:m}),e.next=14,o(c,y);case 14:if(g=e.sent,2e4!==(x=g.data).code){e.next=21;break}if(!(x.result&&x.result.length>0)){e.next=21;break}return I=x.result,b=I[0].total,e.next=21,s({type:"save",payload:{lineChartData:(0,r.Z)({},h,{data:x.result,total:b})}});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(2);case 25:return e.prev=25,e.next=28,l((function(e){return(0,r.Z)({},e)[u]}));case 28:return T=e.sent,E=T.lineChartData,w=T.lineChartData.comparedProduct,k={comparedProduct:a.comparedProduct||w},e.next=34,s({type:"save",payload:{lineChartData:(0,r.Z)({},E,k),isInitial:!1}});case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[2,23,25,35]])})),fetchTreeChartData:i().mark((function e(t,n){var a,o,c,l,p,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,l=n.select,e.prev=2,e.next=5,l((function(e){return(0,r.Z)({},e)[u]}));case 5:return p=e.sent,d=p.projectId,f=p.queryType,h=p.filterParams,m=p.treeChartData,v=p.treeChartData.groupType,y=(0,r.Z)({projectId:d},h,{groupType:a.groupType?a.groupType.id:v.id,queryType:f}),e.next=14,o(s,y);case 14:if(g=e.sent,2e4!==(x=g.data).code){e.next=19;break}return e.next=19,c({type:"save",payload:{treeChartData:(0,r.Z)({},m,{data:x.result})}});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(2);case 23:return e.prev=23,e.next=26,l((function(e){return(0,r.Z)({},e)[u]}));case 26:return I=e.sent,b=I.treeChartData,T=I.treeChartData.groupType,E={groupType:a.groupType||T},e.next=32,c({type:"save",payload:{treeChartData:(0,r.Z)({},b,E)}});case 32:return e.finish(23);case 33:case"end":return e.stop()}}),e,null,[[2,21,23,33]])})),reset:i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.prev=1,e.next=4,a({type:"save",payload:(0,r.Z)({},Object.assign.apply(Object,[{}].concat(p)))});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])}))}}},36757:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.dateFilter,r=e.source,a=e.shopName,i=e.waiter,c=e.typeList,s=e.product,u=e.aspect1,l=e.aspect2,p=e.queryType;return o.h.post("/waiter-session/chart/find/SESSION_TOTAL_DISTRIBUTION",{projectId:t,dateFilter:n,source:r,shopName:a,waiter:i,typeList:c,product:s,aspect1:u,aspect2:l,queryType:p})}function s(e){var t=e.projectId,n=e.trendPlatformType,r=e.dateFilter,a=e.source,i=e.aspect1,c=e.aspect2,s=e.shopName,u=e.waiter,l=e.typeList,p=e.product,d=e.queryType,f=void 0===d?"":d;return o.h.post("/waiter-session/chart/find/DATE_TREND_LINE",{projectId:t,dateFilter:r,groupType:n,source:a,aspect1:i,aspect2:c,shopName:s,waiter:u,typeList:l,product:p,queryType:f})}function u(e){var t=e.projectId,n=e.dateFilter,r=e.source,a=e.shopName,i=e.waiter,c=e.typeList,s=e.conPosition;return o.h.post("/waiter-session/chart/find/PRODUCT_DISTRIBUTION",{projectId:t,dateFilter:n,source:r,shopName:a,waiter:i,typeList:c,position:s})}function l(e){var t=e.projectId,n=e.source,r=e.shopName,a=e.waiter,i=e.typeList,c=e.focusAspectType,s=e.aspect1,u=e.dateFilter;return o.h.post("/waiter-session/chart/find/ASPECT_DISTRIBUTION",{projectId:t,source:n,shopName:r,waiter:a,typeList:i,groupType:c,aspect1:s,dateFilter:u})}var p=n(35239),d=n(32283),f=n(64396).Z.conversation.overview,h=function(e){return new Promise((function(t){return setTimeout(t,e)}))},m={isInitial:!0,conData:{total:0,sum:0,mentionedGoods:0,mentionedAspect:0,sourceList:[]},trendData:void 0,trendTimeType:"DAY",trendPlatformType:"SOURCE",conPosition:[],productDisData:void 0,focusDisData:void 0,focusAspectType:"ASPECT1",filter:void 0,projectId:void 0,headerState:p.t.get(p.V.conversationOverviewHeader)};const v={namespace:f,state:(0,r.Z)({},Object.assign({},m)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e,t){t.payload;return(0,r.Z)({},e,Object.assign({},m))}},effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[f]}));case 4:if(u=e.sent,l=u.filter,p=u.projectId,JSON.stringify(a.filter)===JSON.stringify(l)&&p===a.projectId){e.next=27;break}return d=(0,r.Z)({},Object.assign({},m),a),e.next=11,s({type:"save",payload:d});case 11:return e.next=13,o(h,200);case 13:return e.next=15,s({type:"fetchConversationData",payload:d});case 15:return e.next=17,o(h,200);case 17:return e.next=19,s({type:"fetchConversationTrendData",payload:d});case 19:return e.next=21,o(h,200);case 21:return e.next=23,s({type:"fetchProductDistributionData",payload:d});case 23:return e.next=25,o(h,200);case 25:return e.next=27,s({type:"fetchFocusDistributionData",payload:d});case 27:case"end":return e.stop()}}),e)})),fetchConversationData:i().mark((function e(t,n){var a,o,s,u,l,p,d,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,s=n.select,e.prev=1,e.next=4,s((function(e){return(0,r.Z)({},e)[f]}));case 4:return u=e.sent,l=u.projectId,p=u.filter,d=u.conData,h=(0,r.Z)({projectId:l},p),e.next=11,a(c,h);case 11:if(m=e.sent,2e4!==(v=m.data).code){e.next=18;break}return y=v.result,g=y.totalCount,x=y.sourceList,I=y.sessionReferProductCount,b=y.sessionReferAspectCount,T=x.reduce((function(e,t){return e+t.docCount}),0),e.next=18,o({type:"save",payload:{conData:(0,r.Z)({},d,{total:g,sourceList:x,sum:T,mentionedGoods:I||0,mentionedAspect:b||0})}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(1);case 22:return e.prev=22,e.next=25,o({type:"save",payload:{isInitial:!1}});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[1,20,22,26]])})),fetchConversationTrendData:i().mark((function e(t,n){var a,o,c,u,l,p,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[f]}));case 4:return l=e.sent,p=l.trendTimeType,h=l.trendPlatformType,m=l.projectId,v=l.filter,y={trendPlatformType:a.trendPlatformType||h,trendTimeType:a.trendTimeType||p},g=null,e.prev=11,e.next=14,o(s,(0,r.Z)({projectId:m},y,v,{dateFilter:(0,r.Z)({},v.dateFilter,{dateGroupType:y.trendTimeType})}));case 14:x=e.sent,2e4===(I=x.data).code&&I.result.list.length>0&&(g=(0,d.PT)(I.result,y.trendTimeType,"\u4f1a\u8bdd\u91cf\u8d70\u52bf")),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,c({type:"save",payload:(0,r.Z)({trendData:g},y)});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchProductDistributionData:i().mark((function e(t,n){var a,o,c,s,l,p,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[f]}));case 3:return s=e.sent,l=s.projectId,p=s.filter,h=s.conPosition,m=null,e.prev=8,e.next=11,a(u,(0,r.Z)({projectId:l},p,{conPosition:h}));case 11:v=e.sent,2e4===(y=v.data).code&&y.result.length>0&&(m=(0,d.eW)(y.result,"product")),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,o({type:"save",payload:{productDisData:m}});case 21:return e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[8,16,18,22]])})),fetchFocusDistributionData:i().mark((function e(t,n){var a,o,c,s,u,p,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[f]}));case 4:return u=e.sent,p=u.focusAspectType,h=u.projectId,m=u.filter,v={focusAspectType:a.aspectType||p},y=(0,r.Z)({projectId:h},v,m),a.aspect1&&(y.aspect1=a.aspect1),g=null,e.prev=12,e.next=15,o(l,y);case 15:x=e.sent,2e4===(I=x.data).code&&I.result.length>0&&(g=(0,d.eW)(I.result,"aspect")),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,c({type:"save",payload:(0,r.Z)({},v,{focusDisData:g})});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])}))}}},42042:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(79607),c=n(49722);function s(e){var t=e.projectId;return c.h.post("/session/filter/find",{projectId:t})}function u(e){var t=e.waiterIds,n=e.type;return c.h.post("/waiter-session/type/update",{waiterIds:t,type:n})}var l=n(87219),p=n(5133),d=n(64396).Z.conversation.setting,f={dataList:void 0,clusterDataList:void 0,type:["UNKNOWN"],platform:[],platformOpts:[],store:[],storeOpts:[],waiter:[],keyword:"",pageIndex:1,pageSize:20,total:0,unknownTotal:0,projectId:void 0};const h={namespace:d,state:JSON.parse(JSON.stringify(f)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},updateClusterDataList:function(e,t){var n=t.payload,a=e.dataList,i=e.pageSize,o=e.pageIndex,c=n.pageIndex||o,s=n.dataList||a,u=n.pageSize||i;return(0,r.Z)({},e,n,{pageIndex:c,dataList:s,pageSize:u,clusterDataList:s.slice((c-1)*u,c*u)})}},effects:{fetchParams:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"fetchOptions",payload:r});case 4:case"end":return e.stop()}}),e)})),fetchOptions:i().mark((function e(t,n){var a,o,c,u,l,p,f,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,p=l.pageSize,f=[],h="error",m=[],v=0,g=[],x=[],e.prev=7,e.next=10,o(s,{projectId:a.projectId});case 10:if(I=e.sent,2e4!==(b=I.data).code||!b.result.waiter.length){e.next=27;break}return f=b.result.waiter,e.next=16,c.resolve({type:"fetchDataList",payload:{waiter:f,sync:!0}});case 16:return m=e.sent,v=m.length,h=m.slice(0,p),y=m.reduce((function(e,t){return"UNKNOWN"===t.typeId?e+1:e}),0),e.next=22,c.resolve({type:"updateOptions",payload:{waiter:f}});case 22:T=e.sent,g=T.platformOpts,x=T.storeOpts,e.next=28;break;case 27:h="empty";case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(7),e.t0;case 33:return e.prev=33,e.next=36,c({type:"save",payload:(0,r.Z)({},a,{clusterDataList:h,dataList:m,total:v,waiter:f,unknownTotal:y,platformOpts:g,storeOpts:x})});case 36:return e.finish(33);case 37:case"end":return e.stop()}}),e,null,[[7,30,33,37]])})),fetchDataList:i().mark((function e(t,n){var a,c,s,u,l,p,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[d]}));case 4:if(u=e.sent,l=u.keyword,p=u.platform,f=u.type,h=u.store,m=u.waiter,v=u.pageSize,y=a.type||f,g=a.platform||p,x=a.store||h,I=a.waiter||m,b=void 0!==a.keyword?a.keyword:l,T=I.reduce((function(e,t){return y.length&&!y.includes(t.typeId)||g.length&&!g.includes(t.sourceId)||x.length&&!x.includes(t.shopName)||b&&!(0,o.u5)(t.waiterName,b)||e.push((0,r.Z)({},t,{waiterName:t.waiterName,platform:t.sourceName,shopName:t.shopName,waiterType:t.typeId})),e}),[]),!a.sync){e.next=19;break}return e.abrupt("return",T);case 19:return e.next=21,s.resolve({type:"updateOptions",payload:{waiter:I,type:y,platform:g,store:x}});case 21:return E=e.sent,e.next=24,s({type:"updateClusterDataList",payload:(0,r.Z)({waiter:I,dataList:T,total:T.length,unknownTotal:T.reduce((function(e,t){return"UNKNOWN"===t.typeId?e+1:e}),0),pageIndex:1,pageSize:v},E)});case 24:case"end":return e.stop()}}),e)})),updateOptions:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,e.next=4,o((function(e){return(0,r.Z)({},e)[d]}));case 4:return c=e.sent,s=c.platform,u=c.type,l=c.store,p=a.type||u,f=a.platform||s,h=a.store||l,m=a.waiter.reduce((function(e,t){return p.length&&!p.includes(t.typeId)||(!e[0][t.sourceId]&&(e[0][t.sourceId]=t.sourceName),f.length&&!f.includes(t.sourceId)||!e[1][t.shopName]&&(e[1][t.shopName]=t.shopName)),e}),[{},{}]),v=Object.keys(m[0]).map((function(e){return{id:e,name:m[0][e]}})),y=Object.keys(m[1]).map((function(e){return{id:e,name:m[1][e]}})),e.abrupt("return",{type:p,platform:f.length?v.reduce((function(e,t){return f.includes(t.id)&&e.push(t.id),e}),[]):[],store:h.length?y.reduce((function(e,t){return h.includes(t.id)&&e.push(t.id),e}),[]):[],platformOpts:v,storeOpts:y});case 15:case"end":return e.stop()}}),e)})),updateWaiterType:i().mark((function e(t,n){var a,o,c,s,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return f=e.sent,h=f.waiter,e.next=8,c(u,a);case 8:if(m=e.sent,2e4!==(v=m.data).code){e.next=17;break}return y=(0,l.ZP)(h,(function(e){a.waiterIds.forEach((function(t){var n=e.findIndex((function(e){return e.id===t}));if(n>-1){e[n].typeId=a.type;var r=e.splice(n,1)[0];e.splice(0,0,r)}}))})),e.next=14,o({type:"fetchDataList",payload:{waiter:y}});case 14:p.Z.success(v.msg),e.next=18;break;case 17:p.Z.error(v.msg);case 18:case"end":return e.stop()}}),e)}))}}},79607:(e,t,n)=>{"use strict";n.d(t,{Lh:()=>r,uG:()=>a,u5:()=>i});var r=[{name:"\u552e\u524d",id:"PRE_SALE"},{name:"\u552e\u540e",id:"AFTER_SALE"},{name:"\u672a\u5206\u7c7b",id:"UNKNOWN"}],a=[{title:"\u552e\u524d",value:"PRE_SALE"},{title:"\u552e\u540e",value:"AFTER_SALE"},{title:"\u672a\u5206\u7c7b",value:"UNKNOWN"}];function i(e,t){return new RegExp(t.toLocaleLowerCase()).test(e.toLocaleLowerCase())}},3720:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(62563),c=n(32249),s=n(64396),u=n(63968),l=n(61193),p=n(35239),d=n(39432),f=s.Z.customersFile.customerDetail;const h={namespace:f,state:{allDynamicList:[],customerInfo:{},baseLabelWidth:28,allTagsList:[]},effects:{getCoustomerInfo:i().mark((function e(t,n){var r,a,c,s,p,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,c=n.put,e.prev=2,s=r.id,e.next=6,a(o.Ou,{id:s});case 6:if(p=e.sent,2e4!==(f=p.data).code){e.next=15;break}return h=l.Z.getUser().userId.substring(16),m=JSON.parse((0,u.p)(f.result.data,h)),v=28,m.mappingInfoList.length&&m.mappingInfoList.map((function(e){var t=(0,d.jD)(e.schemaName);return v=Math.max(v,t),e})),e.next=15,c({type:"save",payload:{customerInfo:m,baseLabelWidth:v>88?88:v}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(2);case 19:case"end":return e.stop()}}),e,null,[[2,17]])})),getCustomerDynamic:i().mark((function e(t,n){var r,a,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,c=n.put,e.prev=2,s=r.id,e.next=6,a(o.E4,{id:s,projectId:p.t.get(p.V.curProject).id});case 6:if(u=e.sent,2e4!==(l=u.data).code){e.next=11;break}return e.next=11,c({type:"save",payload:{allDynamicList:l.result||[]}});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})),updateCustomerRemake:i().mark((function e(t,n){var a,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.prev=2,e.next=5,u((function(e){return(0,r.Z)({},e)[f]}));case 5:return l=e.sent,p=l.customerInfo,e.next=9,c(o.uW,{id:p.id,remark:a.remark});case 9:if(d=e.sent,2e4!==d.data.code){e.next=14;break}return e.next=14,s({type:"getCoustomerInfo",payload:{id:p.id}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(2);case 18:case"end":return e.stop()}}),e,null,[[2,16]])})),fetchTagList:i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.put,e.prev=2,e.next=5,r(c.M5);case 5:if(o=e.sent,2e4!==(s=o.data).code){e.next=10;break}return e.next=10,a({type:"save",payload:{allTagsList:s.result}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})),updateCustomerTags:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"getCoustomerInfo",payload:r});case 4:return e.next=6,a({type:"fetchTagList"});case 6:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},62563:(e,t,n)=>{"use strict";n.d(t,{Ou:()=>a,uW:()=>i,E4:()=>o,Lp:()=>c,gA:()=>s});var r=n(49722);function a(e){return r.h.post("/contact/v2/detail",e)}function i(e){return r.h.post("/contact/v2/update/remark",e)}function o(e){return r.h.post("/contact/v2/detail/message/list",e)}function c(e){return r.h.post("/contact/v2/tag/update",e)}function s(){return r.h.get("/contact/v2/tag/recent")}},32481:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(32249),s=n(63968),u=n(61193),l=n(64396),p=n(35239),d=l.Z.customersFile.allCustomers,f={initLoading:!0,contactsData:{data:{list:[],total:0},fetchParams:{tags:[],keyword:"",pageIndex:1,pageSize:20,schemaFilterModels:[]},selectedRow:{isSelectAll:!1,keys:[],currentKeys:[],unSelectList:[],currentRows:[]}},tagList:void 0,appList:[],defAppValue:"ALL",addedTags:[],questList:[],schemaFields:[],cacheFiltersList:[],delAvailableTags:[]};const h={namespace:d,state:Object.assign({},f),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},f)}},effects:{fetchContactsList:o().mark((function e(t,n){var r,i,l,f,h,m,v,y,g,x,I,b,T,E,w,k,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,l=n.select,f=n.put,e.next=4,l((function(e){return(0,a.Z)({},e)[d]}));case 4:return h=e.sent,m=h.contactsData,v=m.fetchParams,y=m.selectedRow,g=y.isSelectAll,x=y.currentKeys,I=y.unSelectList,b=(0,a.Z)({},v,{allSelected:g,includeIds:x,excludeIds:I,projectId:p.t.get(p.V.curProject).id},r),T=void 0,e.prev=9,e.next=12,i(c.SP,b);case 12:if(E=e.sent,2e4!==(w=E.data).code){e.next=20;break}return k=u.Z.getUser().userId.substring(16),T=JSON.parse((0,s.p)(w.result.data,k)),C={initLoading:!1,contactsData:(0,a.Z)({},m,{data:T})},e.next=20,f({type:"save",payload:C});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),e.t0;case 25:case"end":return e.stop()}}),e,null,[[9,22]])})),addContact:o().mark((function e(t,n){var i,s,u,l,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,s=n.call,u=n.put,e.prev=2,l=(0,a.Z)({},i,{projectId:p.t.get(p.V.curProject).id}),e.next=6,s(c.uK,l);case 6:if(d=e.sent,2e4!==(f=d.data).code){e.next=15;break}return r.default.success(f.msg),e.next=12,u({type:"fetchContactsList",payload:{pageIndex:1}});case 12:return e.next=14,u({type:"fetchTagList"});case 14:return e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 18:e.prev=18,e.t0=e.catch(2);case 20:return e.prev=20,e.finish(20);case 22:case"end":return e.stop()}}),e,null,[[2,18,20,22]])})),deleteContact:o().mark((function e(t,n){var i,s,u,l,p,f,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,s=n.call,u=n.put,l=n.select,e.prev=2,e.next=5,l((function(e){return(0,a.Z)({},e)[d]}));case 5:return p=e.sent,f=p.contactsData,e.next=9,s(c.GK,i);case 9:if(h=e.sent,2e4!==(m=h.data).code){e.next=18;break}return r.default.success(m.msg),e.next=15,u({type:"fetchContactsList"});case 15:return e.next=17,u({type:"save",payload:{contactsData:(0,a.Z)({},f,{selectedRow:{isSelectAll:!1,keys:[],currentKeys:[],unSelectList:[],currentRows:[]}})}});case 17:return e.abrupt("return",!0);case 18:return e.abrupt("return",!1);case 21:e.prev=21,e.t0=e.catch(2);case 23:case"end":return e.stop()}}),e,null,[[2,21]])})),deleteAllContact:o().mark((function e(t,n){var i,s,u,l,f,h,m,v,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._,i=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[d]}));case 4:return l=e.sent,f=l.contactsData,h=f.fetchParams,m=h.tags,v=h.keyword,y=h.schemaFilterModels,g=f.selectedRow,x=g.isSelectAll,I=g.currentKeys,b=g.unSelectList,e.prev=8,T={allSelected:x,excludeIds:b,includeIds:I,keyword:v,projectId:p.t.get(p.V.curProject).id,schemaFilterModels:y,tags:m},e.next=12,i(c.av,T);case 12:if(E=e.sent,2e4!==(w=E.data).code){e.next=21;break}return r.default.success(w.msg),e.next=18,s({type:"fetchContactsList",payload:{pageIndex:1}});case 18:return e.next=20,s({type:"save",payload:{contactsData:(0,a.Z)({},f,{fetchParams:(0,a.Z)({},f.fetchParams,{pageIndex:1}),selectedRow:{isSelectAll:!1,keys:[],currentKeys:[],unSelectList:[],currentRows:[]}})}});case 20:return e.abrupt("return",!0);case 21:return e.abrupt("return",!1);case 24:e.prev=24,e.t0=e.catch(8);case 26:case"end":return e.stop()}}),e,null,[[8,24]])})),updateContact:o().mark((function e(t,n){var a,i,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,s=n.put,e.prev=2,e.next=5,i(c.Tk,a);case 5:if(u=e.sent,2e4!==(l=u.data).code){e.next=14;break}return r.default.success(l.msg),e.next=11,s({type:"fetchTagList"});case 11:return e.next=13,s({type:"fetchContactsList"});case 13:return e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 17:e.prev=17,e.t0=e.catch(2);case 19:return e.prev=19,e.finish(19);case 21:case"end":return e.stop()}}),e,null,[[2,17,19,21]])})),fetchTagList:o().mark((function e(t,n){var r,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.put,e.prev=2,e.next=5,r(c.M5);case 5:if(i=e.sent,2e4!==(s=i.data).code){e.next=10;break}return e.next=10,a({type:"save",payload:{tagList:s.result}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})),bitchSetTags:o().mark((function e(t,n){var i,s,u,l,f,h,m,v,y,g,x,I,b,T,E,w,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,s=n.call,u=n.select,l=n.put,e.next=4,u((function(e){return(0,a.Z)({},e)[d]}));case 4:return f=e.sent,h=f.contactsData,m=h.fetchParams,v=m.tags,y=m.keyword,g=m.schemaFilterModels,x=h.selectedRow,I=x.isSelectAll,b=x.currentKeys,T=x.unSelectList,E={allSelected:I,excludeIds:T,includeIds:b,keyword:y,projectId:p.t.get(p.V.curProject).id,schemaFilterModels:g,tags:v,tagToSet:i.newTags},e.prev=9,e.next=12,s(c.$3,E);case 12:if(w=e.sent,2e4!==(k=w.data).code){e.next=23;break}return r.default.success(k.msg),e.next=18,l({type:"fetchTagList"});case 18:return e.next=20,l({type:"fetchContactsList"});case 20:return e.next=22,l({type:"save",payload:{contactsData:(0,a.Z)({},h,{selectedRow:{isSelectAll:!1,keys:[],currentKeys:[],unSelectList:[],currentRows:[]}})}});case 22:return e.abrupt("return",!0);case 23:return e.abrupt("return",!1);case 26:e.prev=26,e.t0=e.catch(9);case 28:case"end":return e.stop()}}),e,null,[[9,26]])})),fetchQuestList:o().mark((function e(t,n){var r,a,i,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._,r=n.call,n.put,a={projectId:p.t.get(p.V.curProject).id},e.prev=3,e.next=6,r(c.hA,a);case 6:if(i=e.sent,s=i.data,u=s.code,l=s.result,2e4!==u){e.next=12;break}return e.abrupt("return",l);case 12:return e.abrupt("return",!1);case 15:e.prev=15,e.t0=e.catch(3);case 17:case"end":return e.stop()}}),e,null,[[3,15]])})),fetchSchemaList:o().mark((function e(t,n){var r,a,i,s,u,l,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._,r=n.call,a=n.put,i={projectId:p.t.get(p.V.curProject).id},e.prev=3,e.next=6,r(c.fn,i);case 6:if(s=e.sent,u=s.data,l=u.code,d=u.result,2e4!==l){e.next=15;break}return f=d.map((function(e){return delete e.value,e})),e.next=14,a({type:"save",payload:{schemaFields:f}});case 14:return e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 18:e.prev=18,e.t0=e.catch(3);case 20:case"end":return e.stop()}}),e,null,[[3,18]])})),deltagItem:o().mark((function e(t,n){var i,s,u,l,p,f,h,m,v,y,g,x,I,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,s=n.call,u=n.put,l=n.select,p=i.id,e.next=5,l((function(e){return(0,a.Z)({},e)[d]}));case 5:return f=e.sent,h=f.tagList,m=f.contactsData,e.prev=8,e.next=11,s(c.n7,{tagIds:[p]});case 11:if(v=e.sent,y=v.data,g=y.code,x=y.msg,2e4!==g){e.next=24;break}return I=h.filter((function(e){return e.id!==p})),b=m.fetchParams.tags.filter((function(e){return e!==p})),e.next=20,u({type:"save",payload:{tagList:I,contactsData:(0,a.Z)({},m,{fetchParams:(0,a.Z)({},m.fetchParams,{tags:b})})}});case 20:return e.next=22,u({type:"fetchContactsList"});case 22:return r.default.success(x),e.abrupt("return",!0);case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(8);case 28:case"end":return e.stop()}}),e,null,[[8,26]])})),fetchDeltags:o().mark((function e(t,n){var r,i,s,u,l,f,h,m,v,y,g,x,I,b,T,E,w,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._,r=n.call,i=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[d]}));case 4:return u=e.sent,l=u.contactsData,f=l.fetchParams,h=f.tags,m=f.keyword,v=f.schemaFilterModels,y=l.selectedRow,g=y.isSelectAll,x=y.currentKeys,I=y.unSelectList,b={allSelected:g,excludeIds:I,includeIds:x,keyword:m,projectId:p.t.get(p.V.curProject).id,schemaFilterModels:v,tags:h},e.prev=9,e.next=12,r(c.DE,b);case 12:if(T=e.sent,E=T.data,w=E.code,k=E.result,2e4!==w){e.next=20;break}return e.next=19,i({type:"save",payload:{delAvailableTags:k}});case 19:return e.abrupt("return",!0);case 20:return e.abrupt("return",!1);case 23:e.prev=23,e.t0=e.catch(9);case 25:case"end":return e.stop()}}),e,null,[[9,23]])})),batDeltagItem:o().mark((function e(t,n){var i,s,u,l,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,s=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,a.Z)({},e)[d]}));case 4:return f=e.sent,h=f.contactsData,m=i.tagIds,v=h.fetchParams,y=v.tags,g=v.keyword,x=v.schemaFilterModels,I=h.selectedRow,b=I.isSelectAll,T=I.currentKeys,E=I.unSelectList,w={allSelected:b,excludeIds:E,includeIds:T,keyword:g,projectId:p.t.get(p.V.curProject).id,schemaFilterModels:x,tags:y,tagIds:m},e.prev=10,e.next=13,s(c.KD,w);case 13:if(k=e.sent,C=k.data,S=C.code,N=C.msg,2e4!==S){e.next=25;break}return O=y.filter((function(e){return!m.includes(e)})),e.next=21,u({type:"save",payload:{contactsData:(0,a.Z)({},h,{fetchParams:(0,a.Z)({},h.fetchParams,{tags:O}),selectedRow:{isSelectAll:!1,keys:[],currentKeys:[],unSelectList:[],currentRows:[]}})}});case 21:return e.next=23,u({type:"fetchContactsList"});case 23:return r.default.success(N),e.abrupt("return",!0);case 25:return e.abrupt("return",!1);case 28:e.prev=28,e.t0=e.catch(10);case 30:case"end":return e.stop()}}),e,null,[[10,28]])}))}}},32249:(e,t,n)=>{"use strict";n.d(t,{SP:()=>a,uK:()=>i,Tk:()=>o,GK:()=>c,av:()=>s,$3:()=>u,M5:()=>l,hA:()=>p,fn:()=>d,n7:()=>f,DE:()=>h,KD:()=>m});var r=n(49722);function a(e){var t=e.keyword,n=void 0===t?"":t,a=e.tags,i=void 0===a?[]:a,o=e.pageSize,c=void 0===o?20:o,s=e.pageIndex,u=void 0===s?1:s,l=e.projectId,p=e.includeIds,d=e.schemaFilterModels,f=void 0===d?[]:d,h=e.allSelected,m=e.excludeIds;return r.h.post("/contact/v2/list",{allSelected:h,keyword:n,pageIndex:u,pageSize:c,projectId:l,schemaFilterModels:f,tags:i,excludeIds:m,includeIds:p})}function i(e){return r.h.post("/contact/v2/add",e)}function o(e){return r.h.post("/contact/v2/update",e)}function c(e){var t=e.id;return r.h.post("/contact/v2/delete",{id:t})}function s(e){return r.h.post("/contact/v2/batch/delete",e)}function u(e){return r.h.post("/contact/tag/v2/batchAdd",e)}function l(){return r.h.post("/contact/tag/v2/list")}function p(e){return r.h.post("/contact/v2/questionnaire/find",e)}function d(e){return r.h.post("/contact/v2/schemaList",e)}function f(e){return r.h.post("/contact/tag/v2/delete",e)}function h(e){return r.h.post("/contact/tag/v2/union",e)}function m(e){return r.h.post("/contact/tag/v2/batchDelete",e)}},54287:(e,t,n)=>{"use strict";n.r(t),n.d(t,{namespace:()=>g,default:()=>b});var r=n(87462),a=n(87757),i=n.n(a),o=n(61193),c=n(93050),s=n(87219),u=n(39432),l=n(92023),p=n(50361),d=n.n(p),f=n(35239),h=n(97577),m=n(92795),v=n(5724),y=n(64396),g=y.Z.customerJourney.dataSourceSetting,x={relationData:new Map,deepCloneList:{}},I={list:[]};const b={namespace:g,state:Object.assign({},I),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},I)}},effects:{init:i().mark((function e(t,n){var a,s,u,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.call,a=n.put,s=n.select,u=n.take,e.next=3,s((function(e){return(0,r.Z)({},e)[g]}));case 3:if(p=e.sent,d=p.list,e.prev=5,!(h=null==(f=o.Z.getAuthority())?void 0:f.filter((function(e){return e.startsWith("MESSAGE")})))){e.next=15;break}return m=h.length?c.Z.child.filter((function(e){return e.authority&&h.some((function(t){return t===e.authority}))&&l.o.includes(e.authority)})).map((function(e){return{id:e.authority,label:e.name}})):[],d=[{type:"main",id:"source",label:"\u6570\u636e\u6e90\u8fc7\u6ee4",options:m}].concat(m.map((function(e){return{type:"single",id:e.id,label:e.label}}))),e.next=12,a({type:y.Z.global+"/init"});case 12:return e.next=14,u(y.Z.global+"/init/@@end");case 14:return e.abrupt("return",d);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(5);case 19:return e.prev=19,e.next=22,a({type:"save",payload:{list:d}});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[5,17,19,23]])})),fetchDefaultConfig:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,s=n.call,u=n.put,l=n.select,p=n.take,d=c.type,f=c.value,h=c.expandInfo,m=c.noSavingFilterList,e.next=5,l((function(e){return e[y.Z.global]}));case 5:return g=e.sent,x=g.publicResource,e.next=9,s(v.z1,{type:d,publicResource:x});case 9:return I=e.sent,b=(null==f||null==(a=f.find((function(e){return e.type===d})))?void 0:a.headerFilterParamsNew)||[],e.next=13,u({type:"fetchScreeningMap",payload:{type:d,value:b,curShowList:I.ownerChecks.map((function(e){return e.id})),expandInfo:h,noSavingFilterList:m,defaultConfig:I}});case 13:return e.next=15,p("fetchScreeningMap/@@end");case 15:return e.next=17,u({type:"save",payload:(o={},o["screeningValues_"+d]=b,o["defaultConfig_"+d]=(0,r.Z)({},I,{ownerChecked:b||[]}),o)});case 17:return e.next=19,u({type:"refilterList",payload:{type:d}});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})),fetchScreeningMap:i().mark((function e(t,n){var a,o,c,s,l,p,f,h,g,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,c=n.call,s=n.put,l=n.select,p=n.take,f=o.curShowList,h=o.expandInfo,g=o.defaultConfig,I=f.reduce((function(e,t){return e.push.apply(e,v.kL[t]||[]),e}),[]),e.next=6,s({type:y.Z.global+"/fetchPublicData",payload:{types:[].concat(I,["USER_FILTER","DEFAULT_VALUE","CHECK_OWNER"])}});case 6:return e.next=8,p(y.Z.global+"/fetchPublicData/@@end");case 8:return e.next=10,l((function(e){return e[y.Z.global]}));case 10:return b=e.sent,T=b.publicResource,e.next=14,c(v.oG,{curShowList:f,expandInfo:h,publicResource:T});case 14:return E=e.sent,w=E.map((function(e){var t=e.data;return e.relation&&x.relationData.set("PRODUCT_INFO"===e.id?e.id+"-"+h.type:e.id,(0,m.I)(e.relation)),e.otherRelation&&e.otherRelation.forEach((function(e){x.relationData.set("PRODUCT_INFO"===e.id?e.id+"-"+h.type:e.id,(0,m.I)(e.relation))})),g.excludeAccountChecks&&g.excludeAccountChecks.length&&(t=g.excludeAccountChecks.some((function(t){return t.id===e.id}))?e.data.filter((function(t){return-1===g.excludeAccountChecks.find((function(t){return t.id===e.id})).values.indexOf(t.id)})):e.data),(0,r.Z)({},e,{data:t.map((function(e){return(0,r.Z)({},e,{options:e.options?(0,u.QM)(e.options,"label","z_p",e.id):e.options})}))})})),e.next=18,s({type:"save",payload:(a={},a["curScreeningMap_"+o.type]=w,a["screeningList_"+o.type]=d()(w),a)});case 18:return x.deepCloneList["curScreeningMap_"+o.type]=d()(w),e.abrupt("return");case 20:case"end":return e.stop()}}),e)})),screeningValuesChange:i().mark((function e(t,n){var r,a,o,c,u,l,p,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,u=a.type,l=a.id,p=a.values,console.time("filter"),e.t0=d(),e.next=7,c((function(e){return e[g]}));case 7:if(e.t1=e.sent,f=(0,e.t0)(e.t1),h=f["screeningValues_"+u],console.timeEnd("123"),m=d()(h),l){e.next=15;break}return console.error("\u6ca1\u6709id"),e.abrupt("return");case 15:return m=(m=(0,s.ZP)(m,(function(e){e.some((function(e){return e.id===l}))?e.find((function(e){return e.id===l})).values=d()(p):e.push({id:l,values:p})}))).filter((function(e){return e.values.length>0})),e.next=19,o({type:"save",payload:(r={},r["screeningValues_"+u]=m,r)});case 19:return e.next=21,o({type:"refilterList",payload:{type:u,screenValues:m}});case 21:return e.abrupt("return");case 22:case"end":return e.stop()}}),e)})),defaultValueChange:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,s=a.type,e.t0=d(),e.next=6,c((function(e){return e[g]}));case 6:return e.t1=e.sent,u=(0,e.t0)(e.t1),l=u["defaultConfig_"+s],p=u["curScreeningMap_"+s],f=a.value,Object.keys(f).forEach((function(e){if(void 0!==f){if("defaultChecksName"===e){var t=p.map((function(e){return e.data.map((function(t){return t.fatherId=e.id,t}))})).flat(2);l.ownerChecked=[{id:t.find((function(e){return e.id===f.defaultChecksName[0]})).fatherId,values:[{id:f.defaultChecksName[0],values:l.defaultChecked.find((function(e){return e.id===f.defaultChecksName[0]})).values}]}]}l[e]=f[e]}})),e.next=14,o({type:"save",payload:(r={},r["defaultConfig_"+s]=JSON.parse(JSON.stringify(l)),r["screeningValues_"+s]=JSON.parse(JSON.stringify(l.ownerChecked)),r)});case 14:return e.next=16,o({type:"refilterList",payload:{type:s}});case 16:return e.next=18,o({type:"updateDefaultValue",payload:{type:s}});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})),updateDefaultValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,m,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,u=a.type,e.t0=d(),e.next=6,s((function(e){return e[g]}));case 6:return e.t1=e.sent,l=(0,e.t0)(e.t1),p=l["defaultConfig_"+u],e.next=11,s((function(e){return e[y.Z.global]}));case 11:return m=e.sent,x=m.publicResource,e.next=15,o(v.QX,{value:p,type:p.pageType,publicResource:x});case 15:return I=e.sent,e.next=18,c({type:y.Z.global+"/save",payload:{publicResource:I}});case 18:return setTimeout((function(){return(0,h.Q6)((0,r.Z)({},p,{projectId:f.t.get(f.V.curProject).id}))}),0),e.abrupt("return");case 20:case"end":return e.stop()}}),e)})),refilterList:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,n.call,c=n.put,s=n.select,u=o.type,e.t0=d(),e.next=6,s((function(e){return e[g]}));case 6:return e.t1=e.sent,l=(0,e.t0)(e.t1),p=l["screeningValues_"+u],f=l["curScreeningMap_"+u],h=f,(v=d()(p))&&v.forEach((function(e){f.forEach((function(t){e.id===t.id&&t.relation?h=h.map((function(e){var n=(0,r.Z)({},e);if(e.id===t.id){var a=(0,m.y)(f.filter((function(t){return t.id===e.id}))[0].data,d()(v).filter((function(t){return t.id===e.id}))[0].values,t.relation,x.relationData.get("PRODUCT_INFO"===t.id?t.id+"-"+u:t.id)).list;n.data=a,n.has=!0}else e.has||(n.data=f.find((function(t){return t.id===e.id})).data);return n})):e.id===t.id&&t.otherRelation&&t.otherRelation.forEach((function(e){h=h.map((function(n){var a=(0,r.Z)({},n);if(n.id===e.id){var i=(0,m.y)(f.filter((function(e){return e.id===n.id}))[0].data,v.deepcopy().filter((function(e){return e.id===t.id}))[0].values,e.relation,x.relationData.get("PRODUCT_INFO"===e.id?e.id+"-"+u:e.id)).list;a.data=i,a.has=!0}else n.has||(a.data=f.find((function(e){return e.id===n.id})).data);return a}))}))}))})),h&&(h.forEach((function(e){return delete e.has})),h.forEach((function(e){if(e.relation){var t=v.find((function(t){return t.id===e.id}));t&&(t.values.forEach((function(t){e.data.some((function(e){if(t.id===e.id){var n=e.options.map((function(e){return e.id}));return t.values=t.values.filter((function(e){return n.includes(e)})),!0}return!1}))})),t.values=t.values.filter((function(e){return e.values.length>0})))}}))),setTimeout((function(){return x.deepCloneList["curScreeningMap_"+u]=d()(f)}),0),console.timeEnd("filter"),e.next=18,c({type:"save",payload:(a={},a["screeningList_"+u]=h,a["screeningValues_"+u]=v,a)});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)}))}}},92023:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var r=["MESSAGE_COMMENT","MESSAGE_QUESTIONAIRE","MESSAGE_APP","MESSAGE_TICKET"]},81907:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I,namespace:()=>g});n(75314);var r=n(11187),a=n(87462),i=n(50361),o=n.n(i),c=n(87757),s=n.n(c),u=n(49722),l=function(e){return u.h.post("/customer/journey/list",e)},p=function(e){return u.h.post("/customer/journey/delete",e)},d=function(e){return u.h.post("/customer/journey/updateStatus",e)},f=function(e){return u.h.post("/customer/journey/batchAddTag",e)},h=function(e){return u.h.post("/customer/journey/tag/list",e)},m=function(e){return u.h.post("/customer/journey/tag/add",e)},v=function(e){return u.h.post("/customer/journey/tag/delete",e)},y=n(63682),g=n(64396).Z.customerJourney.manage,x={name:"",tagList:[],tags:[],journeyList:[]};const I={namespace:g,state:o()(x),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},x)}},effects:{fetchTagList:s().mark((function e(t,n){var r,i,o,c,u,l,p,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[g]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,e.next=9,i(h,{projectId:r.projectId||l});case 9:if(p=e.sent,!(2e4===(d=p.data).code&&d.result.length>0)){e.next=14;break}return e.next=14,o({type:"save",payload:(0,a.Z)({},r,{tagList:(0,y.eE)(d.result)})});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),fetchAddTag:s().mark((function e(t,n){var r,i,o,c,u,l,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[g]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,e.next=9,i(m,{projectId:r.projectId||l,name:r.name});case 9:if(p=e.sent,2e4!==p.data.code){e.next=14;break}return e.next=14,o({type:"fetchTagList",payload:{projectId:l}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),fetchDeleteTag:s().mark((function e(t,n){var i,o,c,u,l,p,d,f,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[g]}));case 4:return l=e.sent,p=l.projectId,d=l.name,e.next=9,o(v,{id:i.id});case 9:if(f=e.sent,2e4!==(h=f.data).code){e.next=17;break}return r.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=15,c({type:"fetchTagList",payload:{projectId:p}});case 15:return e.next=17,c({type:"fetchJourneyList",payload:{projectId:p,name:d}});case 17:return e.abrupt("return",h);case 18:case"end":return e.stop()}}),e)})),fetchBatchAddTag:s().mark((function e(t,n){var i,o,c,u,l,p,d,h,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[g]}));case 4:return l=e.sent,p=l.projectId,d=l.name,e.next=9,o(f,{journeyIds:i.journeyIds,tagIds:i.tagIds,isCover:i.isCover,projectId:p});case 9:if(h=e.sent,2e4!==(m=h.data).code){e.next=15;break}return r.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=15,c({type:"fetchJourneyList",payload:{projectId:p,name:d}});case 15:return e.abrupt("return",m);case 16:case"end":return e.stop()}}),e)})),fetchJourneyList:s().mark((function e(t,n){var r,i,o,c,u,p,d,f,h,m,v,y;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[g]}));case 4:return u=e.sent,p=u.tags,d=u.projectId,f=[],e.prev=8,e.next=11,i(l,{name:r.name,tagIds:r.tags||p,projectId:r.projectId||d});case 11:h=e.sent,m=h.data,v=m.code,y=m.result,2e4===v&&y.length>0&&(f=y),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(8);case 19:return e.prev=19,e.next=22,o({type:"save",payload:(0,a.Z)({},r,{journeyList:f})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[8,17,19,23]])})),fetchStatusChange:s().mark((function e(t,n){var r,a,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,e.next=4,a(d,{id:r.id,status:r.status});case 4:return i=e.sent,o=i.data,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})),fetchDelete:s().mark((function e(t,n){var r,a,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,e.next=4,a(p,{id:r.id});case 4:return i=e.sent,o=i.data,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))}}},63682:(e,t,n)=>{"use strict";n.d(t,{uT:()=>a,eE:()=>i,HV:()=>o});var r=n(35239),a=function(e){r.t.get(r.V.curProject).name;return[{title:"\u5ba2\u6237\u65c5\u7a0b",url:"/customerJourney/introduce"},{title:e.title,url:e.url}]},i=function(e){var t={},n=e;return e&&(n=e.reduce((function(e,n){return!t[n.name]&&(t[n.name]=e.push(n)),e}),[])),n},o=function(e,t){var n=[];return e&&e.length&&t&&t.length&&e.forEach((function(e){t.some((function(t){return t.id===e}))?n.push(e):t.some((function(t){return t.name===e}))&&n.push(t.find((function(t){return t.name===e})).id)})),n}},63123:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(12791),c=n(87219),s=n(64396),u=(n(61193),n(75483)),l=n(92360),p=n(61409),d=n(35239),f=s.Z.dashboard.dashboard,h=function(e){return new Promise((function(t){setTimeout(t,e)}))},m={projectId:"",title:"",dashboardType:"",dashboardId:"",folderId:"",dashboards:void 0,collect:[],fetchingDashboards:[],dateFilter:{},lock:!0,enlargeId:"",systermAuthority:!1};const v={namespace:f,state:Object.assign({},m),effects:{fetchDashboards:i().mark((function e(t,n){var r,a,c,s,l,p,d,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,c=n.select,e.next=3,c((function(e){return e[f]}));case 3:return s=e.sent,l=s.dashboardId,p=s.projectId,d=s.dateFilter,e.next=9,r(o.j2,{id:l,dateFilter:d});case 9:return h=e.sent,m=h.data.result,v=m,e.next=14,r(o.Gs,{key:l,projectId:p});case 14:return y=e.sent,g=y.data.result,x=(0,u.QC)(v,g?JSON.parse(g):[]),e.next=19,a({type:"save",payload:{dashboards:x,collect:g?JSON.parse(g):[]}});case 19:return e.abrupt("return",x);case 20:case"end":return e.stop()}}),e)})),updateCollectValue:i().mark((function e(t,n){var r,a,s,u,p,d,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,u=n.select,p=r.id,d=r.selectId,h=r.val,e.next=5,u((function(e){return e[f]}));case 5:return m=e.sent,v=m.dashboardId,y=m.projectId,g=m.dashboards,x=m.collect,I=(0,c.ZP)(x,(function(e){var t=!1;e.forEach((function(n,r){n.id===p&&(t=!0,e[r]=(0,c.ZP)(e[r],(function(e){e.collect=(0,c.ZP)(e.collect,(function(e){var t=!1;e.forEach((function(e){e.id===d&&(t=!0,e.value=h)})),t||e.push({id:d,value:h})}))})))})),t||e.push({id:p,collect:[{id:d,value:h}]})})),e.next=13,a(o.xi,{key:v,projectId:y,value:JSON.stringify(I)});case 13:if(b=e.sent,2e4!==(T=b.data).code){e.next=20;break}return e.next=18,s({type:"save",payload:{dashboards:(0,c.ZP)(g,(function(e){e.forEach((function(t,n){t.id===p&&(e[n]=(0,c.ZP)(e[n],(function(e){e.selector.forEach((function(e){e.id===d&&(e.collectValue=h)}))})))}))})),collect:I}});case 18:e.next=21;break;case 20:l.Message.error(T.msg);case 21:case"end":return e.stop()}}),e)})),fetchChart:i().mark((function e(t,n){var a,s,l,p,d,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O,_,j,A,D;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,l=n.put,p=n.select,d=a.chart,m=a.dashId,e.next=5,p((function(e){return e[f]}));case 5:if(v=e.sent,y=v.dateFilter,g=v.fetchingDashboards,x=v.dashboardId,!m||m===x){e.next=11;break}return e.abrupt("return");case 11:if(!(g.length>=6)){e.next=17;break}return e.next=14,s(h,100);case 14:return e.next=16,l({type:"fetchChart",payload:(0,r.Z)({},a,{dashId:x})});case 16:return e.abrupt("return");case 17:return e.next=19,l({type:"save",payload:{fetchingDashboards:(0,c.ZP)(g,(function(e){!e.includes(d.id)&&e.push(d.id)}))}});case 19:return d.selector&&d.selector.forEach((function(e){switch(e.id){case"countType":I=e.value;break;case"aspectType":b=e.value;break;case"dateGroupingType":T=e.value;break;case"tagType":E=e.value;break;case"topicType":w=e.value;break;case"brandsSeriesType":k=e.value}})),e.prev=20,e.next=23,s(o.nO,{chartId:d.id,countType:I,aspectType:b,topicType:w,tagType:E,brandsSeriesType:k,dateFilter:(0,c.ZP)(y,(function(e){e.dateGroupType=T}))});case 23:N=e.sent,O=N.data.result,C=O,e.next=32;break;case 28:e.prev=28,e.t0=e.catch(20),S=e.t0,C="error";case 32:if("Abort"!==S){e.next=34;break}return e.abrupt("return");case 34:return e.next=36,p((function(e){return e[f]}));case 36:if(_=e.sent,j=_.dashboards,A=_.fetchingDashboards,_.dashboardId===x&&j){e.next=42;break}return e.abrupt("return");case 42:return D=(0,c.ZP)(j,(function(e){var t,n;j.forEach((function(e,r){e.id===d.id&&(t=r,n=e)})),n=(0,c.ZP)(n,(function(e){if(C){var t=(0,u.Rl)(C),n=t.option,r=t.source;e.option=n,e.source=r}else e.option="empty",e.source=[]})),e[t]=n})),e.next=45,l({type:"save",payload:{dashboards:D,fetchingDashboards:(0,c.ZP)(A,(function(e){e.splice(e.findIndex((function(e){return e===d.id})),1)}))}});case 45:return e.abrupt("return",C);case 46:case"end":return e.stop()}}),e,null,[[20,28]])})),onSelectorChange:i().mark((function e(t,n){var r,a,o,s,u,l,p,d,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,s=n.select,u=r.id,l=r.selectId,p=r.val,e.next=5,s((function(e){return e[f]}));case 5:return d=e.sent,m=d.dashboards,v=(0,c.ZP)(m,(function(e){e.forEach((function(t,n){t.id===u&&(e[n]=(0,c.ZP)(e[n],(function(e){e.selector=(0,c.ZP)(e.selector,(function(e){e.forEach((function(e){e.id===l&&(e.value=p)}))}))})))}))})),e.next=10,o({type:"save",payload:{dashboards:v}});case 10:if(["stackType","tableView","labelType"].includes(l)){e.next=15;break}return e.next=13,a(h,10);case 13:return e.next=15,o({type:"fetchChart",payload:{chart:v.filter((function(e){return e.id===u}))[0]}});case 15:case"end":return e.stop()}}),e)})),onLayoutChange:i().mark((function e(t,n){var r,a,s,u,p,d,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return e[f]}));case 4:if(p=e.sent,d=p.dashboards,h=p.dashboardType,m=p.systermAuthority,v=r.id,y=r.x,g=r.y,x=r.w,I=r.h,b=r.chartName,h&&("SYSTEM_FOLDER"!==h||m)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,a(o.YF,{id:v,x:y,y:g,w:x,h:I,chartName:b});case 13:if(!(T=e.sent)||200!==T.status){e.next=19;break}return e.next=17,s({type:"save",payload:{dashboards:(0,c.ZP)(d,(function(e){e.forEach((function(t,n){t.id===v&&(e[n].x=y,e[n].y=g,e[n].w=x,e[n].h=I)}))}))}});case 17:e.next=20;break;case 19:l.Message.error("\u56fe\u5217\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");case 20:case"end":return e.stop()}}),e)})),addNewDash:i().mark((function e(t,n){var r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[f]}));case 4:return s=e.sent,u=s.dashboards,e.next=8,a({type:"save",payload:{dashboards:(0,c.ZP)(u,(function(e){e.push(r)}))}});case 8:return e.next=10,a({type:"fetchChart",payload:{chart:r}});case 10:case"end":return e.stop()}}),e)})),removeDash:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[f]}));case 4:return c=e.sent,s=c.dashboards,e.next=8,a({type:"save",payload:{dashboards:s.filter((function(e){return e.id!==r.id}))}});case 8:case"end":return e.stop()}}),e)})),delDash:i().mark((function e(t,n){var r,a,c,s,u,d,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,c=n.put,s=n.select,u=r.id,e.next=5,s((function(e){return e[f]}));case 5:return d=e.sent,h=d.dashboardId,e.prev=7,e.next=10,a(o.Cw,{id:u});case 10:if(!(m=e.sent)||200!==m.status){e.next=16;break}return e.next=14,c({type:"removeDash",payload:{id:u}});case 14:e.next=17;break;case 16:l.Message.error("\u56fe\u8868\u5220\u9664\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),300020===e.t0.data.code&&(l.Message.error("\u8be5\u56fe\u8868\u5df2\u88ab\u5176\u4ed6\u7ba1\u7406\u5458\u5220\u9664"),p.mW.push("/dashboard/"+h));case 22:case"end":return e.stop()}}),e,null,[[7,19]])}))},reducers:{onLockChange:function(e){return d.t.set(d.V.dashboardLock,!e.lock,"session"),(0,r.Z)({},e,{lock:!e.lock})},changeEnlargeId:function(e,t){var n=t.payload;return(0,r.Z)({},e,{enlargeId:n.id})},save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return(0,o.rp)(),Object.assign({},m)}}}},12791:(e,t,n)=>{"use strict";n.d(t,{j2:()=>u,nO:()=>l,YF:()=>p,Cw:()=>d,Gs:()=>f,xi:()=>h,rp:()=>m});var r=n(49722),a=n(90549),i=(n(50757),n(30381)),o=n.n(i),c=[];function s(e){var t={};return function(){var n=new Promise((function(n,r){Object.defineProperty(t,"signal",{set:function(){r("Abort")}}),e().then((function(e){return n(e)})).catch((function(e){return r(e)}))}));return Object.assign(n,{cancel:function(){t.signal=!0}})}}function u(e){var t=e.id,n=e.dateFilter,a=s((function(){return r.h.post("/data-dashboard/chart/position/list",{id:t,dateFilter:n})}))();return c.push(a),a}function l(e){var t=e.chartId,n=e.countType,a=e.aspectType,i=e.dateFilter,o=e.topicType,u=e.tagType,l=e.brandsSeriesType,p=s((function(){return r.h.post("/data-dashboard/chart/show",{chartId:t,countType:n,aspectType:a,dateFilter:i,topicType:o,tagType:u,brandsSeriesType:l})}))();return c.push(p),p}function p(e){var t=e.id,n=e.x,i=e.y,c=e.w,s=e.h,u=e.chartName;try{a.Z.add(a.Z.store.html,{chartName:u,time:o()().format("YYYY-MM-DD HH-mm-ss SSS"),id:(new Date).getTime()+"---"+u+"---"+Math.random(),x:n,y:i,w:c,h:s})}catch(l){}return r.h.post("/data-dashboard/chart/position/update",{id:t,x:n,y:i,w:c,h:s})}function d(e){var t=e.id;return r.h.post("/data-dashboard/chart/delete",{id:t})}function f(e){var t=e.key,n=e.projectId,a=s((function(){return r.h.post("/default/value/find",{key:t,projectId:n})}))();return c.push(a),a}function h(e){var t=e.key,n=e.projectId,a=e.value;return r.h.post("/default/value/update",{key:t,projectId:n,value:a})}function m(){c.forEach((function(e){return e.cancel()})),c=[]}},31185:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);n(50757);function c(e){var t=e.id;return o.h.post("/data-dashboard/chart/filter/find",{id:t})}function s(e){var t=e.dashboardTemplateId;return o.h.post("/data-dashboard/template/filter/find",{dashboardTemplateId:t})}function u(e){var t=e.name,n=(e.description,e.id),r=e.dashboardId,a=e.filterModel,i=e.rules;return o.h.post("/data-dashboard/chart/filter/update",{name:t,id:n,dashboardId:r,filterModel:a,rules:i})}function l(e){var t=e.filterModel,n=e.projectId,r=e.key,a=e.name,i=(e.description,e.dashboardId),c=e.x,s=e.y,u=e.w,l=e.h,p=e.dashboardTemplateId,d=e.rules,f=e.originChartId;return o.h.post("/data-dashboard/chart/add",{filterModel:t,projectId:n,key:r,name:a,dashboardId:i,x:c,y:s,w:u,h:l,dashboardTemplateId:p,rules:d,originChartId:f})}function p(e){var t=e.projectId,n=e.filter,r=e.title,a=e.templateId,i=e.rules;return o.h.post("data-dashboard/preview",{projectId:t,filter:n,title:r,templateId:a,rules:i})}var d=n(12791),f=n(75483),h=n(64396),m=n(92360),v=n(61409),y=h.Z.dashboard.template.edit,g={editId:void 0,copyId:void 0,templateData:void 0,projectId:void 0,chartId:void 0,dashId:void 0,temId:void 0,dimensionModelId:"",option:void 0};const x={namespace:y,state:Object.assign({},g),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},closePreview:function(e){return(0,r.Z)({},e,{option:void 0})},clean:function(e,t){t.payload;return Object.assign({},g)}},effects:{fetchTemplateData:i().mark((function e(t,n){var a,o,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.payload,o=n.call,n.select,u=n.put,l=void 0,d="",e.prev=3,f=void 0,!a.chartId){e.next=11;break}return e.next=8,o(c,{id:a.chartId});case 8:f=e.sent,e.next=15;break;case 11:if(!a.temId){e.next=15;break}return e.next=14,o(s,{dashboardTemplateId:a.temId});case 14:f=e.sent;case 15:f&&2e4===(h=f.data).code&&(l=h.result,p=h.result.dashboardTemplateId,d=h.result.dimensionModelId),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),300020===e.t0.data.code&&(m.Message.error("\u8be5\u56fe\u8868\u5df2\u88ab\u5176\u4ed6\u7ba1\u7406\u5458\u5220\u9664"),v.mW.push("/dashboard/"+a.dashId));case 21:return e.prev=21,e.next=24,u({type:"save",payload:(0,r.Z)({},a,{temId:p||a.temId,templateData:l,dimensionModelId:d})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[3,18,21,25]])})),commitChart:i().mark((function e(t,n){var a,o,c,s,p,h,m,v,g,x,I,b,T,E,w,k,C,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return e[y]}));case 4:if(p=e.sent,h=p.projectId,m=p.chartId,v=p.temId,g=p.dashId,x=void 0,e.prev=10,I=a.filterModel,b=a.rules,T=a.name,E=a.description,!m||a.isCopy){e.next=18;break}return e.next=15,o(u,{filterModel:I,rules:b,name:T,description:E,id:m,dashboardId:g});case 15:x=e.sent,e.next=27;break;case 18:return e.next=20,o(d.j2,{id:g});case 20:if(w=e.sent,2e4!==(k=w.data).code){e.next=27;break}return C=(0,f.$C)(k.result||[]),e.next=26,o(l,(0,r.Z)({projectId:h,originChartId:m||null,key:JSON.stringify(a.rules),name:T,description:E,dashboardId:g,dashboardTemplateId:v,filterModel:I,rules:b},C));case 26:x=e.sent;case 27:if(!x){e.next=34;break}if(2e4!==(S=x.data).code){e.next=34;break}if(!S.result){e.next=33;break}return e.next=33,s({type:"save",payload:{chartId:S.result}});case 33:a.callback&&a.callback();case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(10),e.t0;case 39:case"end":return e.stop()}}),e,null,[[10,36]])})),fetchPreviewChart:i().mark((function e(t,n){var r,a,o,c,s,u,l,d,f,h,v,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.select,c=n.put,e.next=4,o((function(e){return e[y]}));case 4:return s=e.sent,u=s.projectId,l=s.temId,e.prev=7,d=r.filterModel,f=r.rules,h=r.name,v={projectId:u,filter:d,title:h,rules:f,templateId:l},e.next=12,a(p,v);case 12:if(g=e.sent,2e4!==(x=g.data).code||!x.result){e.next=22;break}if(!(I=x.result)){e.next=21;break}return e.next=19,c({type:"save",payload:{option:I}});case 19:e.next=22;break;case 21:m.Message.error("\u9884\u89c8\u5931\u8d25");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(7),m.Message.error("\u9884\u89c8\u5931\u8d25");case 27:case"end":return e.stop()}}),e,null,[[7,24]])}))}}},62529:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);n(50757);function c(e){var t=e.pageIndex,n=e.pageSize,r=e.query,a=e.filter,i=e.types,c=e.params;return o.h.post("/dashboard/template/list",{pageIndex:t,pageSize:n,query:r,filter:a,types:i,params:c})}function s(){return o.h.post("/data-dashboard/template/filter")}function u(e){var t=e.projectId,n=e.templateId;return o.h.post("data-dashboard/preview",{projectId:t,templateId:n})}var l=[{icon:"cem_index-card",name:"\u6307\u6807\u5361",type:"INDICATOR"},{icon:"cem_pie-chart",name:"\u997c\u72b6\u56fe",type:"PIE"},{icon:"cem_form-chart",name:"\u8868\u683c",type:"FORM"},{icon:"cem_histogram1",name:"\u67f1\u72b6\u56fe",type:"HISTOGRAM"},{icon:"cem_bar-chart1",name:"\u6761\u5f62\u56fe",type:"BAR"},{icon:"cem_line-chart1",name:"\u6298\u7ebf\u56fe",type:"LINE"},{icon:"cem_scatter-diagram",name:"\u6563\u70b9\u56fe",type:"SCATTER"},{icon:"cem_scatter-plot",name:"\u6c14\u6ce1\u56fe",type:"scatter"},{icon:"cem_side-by-side-bar-chart",name:"\u5bf9\u6bd4\u6761\u5f62\u56fe",type:"BAR"},{icon:"cem_radar-chart",name:"\u96f7\u8fbe\u56fe",type:"RADAR"},{icon:"cem_parallel-graph",name:"\u5e73\u884c\u5750\u6807\u56fe",type:"PARALLEL"},{icon:"cem_area-chart",name:"\u9762\u79ef\u56fe",type:"TREEMAP"},{icon:"cem_dendrogram1",name:"\u6811\u72b6\u56fe",type:"TREE"},{icon:"cem_asahi-chart",name:"\u65ed\u65e5\u56fe",type:"SUNBURST"},{icon:"cem_word-cloud",name:"\u8bcd\u4e91\u56fe",type:"GRAPH"},{icon:"cem_dashboard",name:"\u4eea\u8868\u76d8",type:"dashboard"},{icon:"cem_sankey",name:"\u6851\u57fa\u56fe",type:"SNAKEY"},{icon:"cem_relation-diagram",name:"\u5173\u7cfb\u56fe",type:"graph"},{icon:"cem_thermodynamic-chart",name:"\u70ed\u529b\u56fe",type:"HEAT"},{icon:"cem_k-line-chart",name:"k\u7ebf\u56fe",type:"CANDLESTICK"},{icon:"cem_calendar",name:"\u65e5\u5386\u56fe",type:"CALENDAR"},{icon:"cem_funnel",name:"\u6f0f\u6597\u56fe",type:"FUNNEL"},{icon:"cem_river-map",name:"\u6cb3\u6d41\u56fe",type:"THEMERIVER"},{icon:"cem_double-column-chart",name:"\u70ed\u8bcd\u56fe",type:"HOT_WORDS"}],p=n(64396).Z.dashboard.template.list;const d={namespace:p,state:{query:"",pageIndex:1,pageSize:10,list:void 0,total:0,types:[],params:[],typeFilterList:void 0,paramFilterList:void 0,projectId:void 0},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchConditions:i().mark((function e(t,n){var r,a,o,c,u,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,o=[],c=[],e.prev=2,e.next=5,r(s);case 5:return u=e.sent,2e4===(p=u.data).code&&((d=p.result).typeModelList&&(o=d.typeModelList.reduce((function(e,t){var n=l.find((function(e){return e.type===t.type}));return n?[].concat(e,[n]):e}),[])),d.params&&(c=d.params.map((function(e){return{id:e.id,label:e.name,options:e.children.map((function(e){return{id:e.id,label:e.name}}))}})))),e.next=10,a({type:"fetchTemplateList",payload:{}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.prev=14,e.next=17,a({type:"save",payload:{typeFilterList:o,paramFilterList:c}});case 17:return e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[2,12,14,18]])})),fetchTemplateList:i().mark((function e(t,n){var a,o,s,u,l,d,f,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.select,u=n.put,e.prev=2,e.next=5,s((function(e){return e[p]}));case 5:return l=e.sent,l.query,d=l.pageIndex,f=l.pageSize,h=l.types,m=l.params,v=l.projectId,y={filter:{filterModel:{sortName:"createdAt",sortOrder:"DESC"}},projectId:a.projectId||v,pageIndex:a.pageIndex||d,pageSize:a.pageSize||f,query:a.query,types:a.types||h,params:a.params||m},e.next=15,o(c,y);case 15:if(g=e.sent,2e4!==(x=g.data).code){e.next=21;break}return I=x.result,b=I.result,T=I.count,e.next=21,u({type:"save",payload:(0,r.Z)({},a,{total:T,list:b})});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(2);case 25:case"end":return e.stop()}}),e,null,[[2,23]])})),fetchPreviewChart:i().mark((function e(t,n){var r,a,o,c,s,l,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.select,c=n.put,e.next=4,o((function(e){return e[p]}));case 4:return s=e.sent,l=s.projectId,d=s.list,f=r.id,h={projectId:l,templateId:f},m=null,e.prev=10,e.next=13,a(u,h);case 13:v=e.sent,2e4===(y=v.data).code&&y.result&&(m=y.result),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.next=22,c({type:"save",payload:{list:d.map((function(e){return e.id===f&&(e.option=m),e}))}});case 22:case"end":return e.stop()}}),e,null,[[10,18]])}))}}},75483:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Rl:()=>getOption,QC:()=>formatServerToFrontData,$C:()=>getNewPosition});var immer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87219),dashboards=function(e){var t=this;this.get=function(e){return t.data.filter((function(t){return t.id===e}))[0]},this.add=function(){},this.remove=function(e){t.get(e)&&(t.data=t.data.splice(t.data.findIndex((function(t){return t.id===e})),1))},this.setOption=function(e,n,r){t.data=t.data.map((function(t){return t.id===e&&(t[n]=r),t}))},this.data=JSON.parse(JSON.stringify(e))},dateGroupingType=[{title:"\u6309\u5929",value:"DAY"},{title:"\u6309\u5468",value:"WEEK"},{title:"\u6309\u6708",value:"MONTH"}],countType=[{title:"\u6570\u91cf",value:"COUNT"},{title:"\u767e\u5206\u6bd4",value:"PERCENT"}],aspectType=[{title:"\u4e00\u7ea7\u6307\u6807",value:"ASPECT1"},{title:"\u4e8c\u7ea7\u6307\u6807",value:"ASPECT2"}],stackType={c0:["cem_cumulate-colour-new","cem_cumulate-twocolour-new","\u4ea4\u9519\u6298\u7ebf\u56fe"],c1:["cem_cumulate","cem_cumulate-col","\u5806\u53e0\u6298\u7ebf\u56fe"],c2:["cem_histogram-gray","cem_histogram-colour","\u7c07\u72b6\u67f1\u5f62\u56fe"],c3:["cem_division","cem_division-colour","\u5806\u53e0\u67f1\u5f62\u56fe"]},tableViewList=[{title:"\u56fe\u5f62",value:"chart"},{title:"\u8868\u683c",value:"table"}],getStackType=function(e){var t={};return e.map((function(e){return e.value})).forEach((function(e){stackType[e]?t[e]=stackType[e]:console.error("stackType\u914d\u7f6e\u9519\u8bef\uff0c\u6ca1\u6709value\u4e3a"+e+"\u7684\u9879")})),t},preferList=[{rotate:"0",row:"1",length:"12"}];function setDefaultSelector(e,t){if(/^sort_/.test(e.type))return t.find((function(t){return t.id===e.type.replace("sort_","")}))?t.find((function(t){return t.id===e.type.replace("sort_","")})).option:[];switch(e.type){case"dateGroupingType":return dateGroupingType;case"countType":return countType;case"aspectType":return aspectType;case"stackType":return stackType;case"prefer":return preferList;case"tableView":return tableViewList;case"labelType":return[{title:"\u5c55\u793a\u56fe\u8868\u6807\u7b7e",value:"boolean"===typeof e.value?e.value:e.value="false"!==e.value}];default:return console.error("selector\u7c7b\u578b\u914d\u7f6e\u9519\u8bef"),[]}}function getSelector(widget){try{var selector;return eval(widget),selector}catch(err){console.error("\u56fe\u8868widget\u914d\u7f6e\u9879\u89e3\u6790\u5931\u8d25")}}function formatServerToFrontData(e,t){return(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(e,(function(e){e.forEach((function(e){var n=t.some((function(t){return t.id===e.id}))?t.filter((function(t){return t.id===e.id}))[0].collect:[];e.selector=getSelector(e.widget),e.selector&&e.selector.length&&(e.selector=(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(e.selector,(function(e){for(var t=e.length-1;t>=0;t--)e[t]=(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(e[t],(function(e){var t=n.some((function(t){return t.id===e.id}))?n.filter((function(t){return t.id===e.id}))[0].value:void 0;e.collectValue=t,e.id=e.type||e.id,e.option&&e.option[0]&&(t&&e.option.some((function(e){return e.value===t}))?e.value=t:e.value&&e.option.some((function(t){return t.value===e.value}))?e.value=e.value:e.value=e.option[0].value),e.option=e.option&&"stackType"===e.id?getStackType(e.option):e.option}))})),e.selector=(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(e.selector,(function(t){t.forEach((function(r,a){!r.option&&r.type&&(t[a]=(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(r,(function(t){var r=n.some((function(e){return e.id===t.id}))?n.filter((function(e){return e.id===t.id}))[0].value:void 0;t.collectValue=r,t.id=t.type,t.option=setDefaultSelector(t,e.selector),t.option&&t.option[0]&&(r&&t.option.some((function(e){return e.value===r}))?t.value=r:t.value&&t.option.some((function(e){return e.value===t.value}))?t.value=t.value:t.value=t.option[0].value)})))}))})),e.selector=(0,immer__WEBPACK_IMPORTED_MODULE_0__.ZP)(e.selector,(function(t){for(var n=t.length-1;n>=0;n--)0===t[n].option.length&&(console.warn("\u56fe\u8868id\u4e3a"+e.id+"\uff0c\u5217\u8868id\uff08type\uff09\u4e3a"+t[n].id+"\u7684\u914d\u7f6e\u9879\u65e0\u5217\u8868"),t.splice(n,1))})))}))}))}function getOption(op){var option,source;try{eval(op)}catch(err){option="error",console.error("op\u89e3\u6790\u5931\u8d25\uff0c\u8bf7\u67e5\u770bop\u683c\u5f0f\uff0c"+err)}return{option:option,source:source}}function getNewPosition(e){var t=e.map((function(e){return{x:e.x+e.w,y:e.y+e.h}})),n=0,r=0;if(e.length){n=Math.max.apply(Math,e.map((function(e){return e.y})));var a=Math.max.apply(Math,e.filter((function(e){return e.y===n})).map((function(e){return e.x+e.w}))),i=Math.max.apply(Math,t.map((function(e){return e.y})));a+12>36?(n=i,r=0):r=a}return{x:r,y:n,w:12,h:10}}},3171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(35239),c=n(49722);function s(e){return c.h.post("/widget/data/find/EMOTION_COUNTER_BAR",(0,r.Z)({},e))}function u(e,t){return c.h.post(e,(0,r.Z)({},t))}var l=[{title:"\u7c97",value:20,disabled:!1},{title:"\u4e2d",value:40,disabled:!1},{title:"\u7ec6",value:60,disabled:!1}],p=function(e){var t=e.reduce((function(e,t){return t?e+t.value:e}),0);e.forEach((function(e){e&&(e.ratio=(e.value/t*100).toFixed(2)+"%")}))},d=function(e){var t=e,n=t.sort((function(e,t){return t.value-e.value}));if(n.length>=60)t=n.slice(0,60),p(t);else{var r=Math.ceil(n.length/30);t=[].concat(n,Array(30*r-t.length).fill(void 0)),p(t)}return t};const f={namespace:"opinionChart",state:{wordCloud:!0,queryTimeType:"",count:0,average:0,json_bar:"\u6ca1\u6709\u6570\u636e\u53ef\u7528",json_word:[],clusterType:l[0].value,clusterTypeOptions:l,opinion:o.t.get(o.V.curProject)&&o.t.get(o.V.curProject).submenu&&o.t.get(o.V.curProject).submenu.includes("OPINION"),currTaskId:"",reloaded:!1,refreshing:!1,allData:{20:[],40:[],60:[]},type:1,opinionTaskValid:!0,invalidReason:0,hasRecord:!1,messageTotal:0,loading:!1},effects:{getList:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return e.opinionChart}));case 3:return u=e.sent,l=u.queryParams,e.next=7,a(s,(0,r.Z)({},l));case 7:if(2e4!==(p=e.sent).data.code){e.next=12;break}return d=p.data.result,f=d.total,h=d.avg,m=d.list,e.next=12,o({type:"save",payload:{json_bar:m,count:f,average:h}});case 12:case"end":return e.stop()}}),e)})),getWordCloudList:i().mark((function e(t,n){var a,o,c,s,l,p,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return e.opinionChart}));case 3:if(s=e.sent,l=s.queryParams,p=s.clusterType,f=s.type,h=s.currTaskId,m=s.opinionTaskValid,!l||!m){e.next=19;break}return 4!==f?(v="/opinion/result",y={projectId:l.projectId,filterModel:{taskId:h,clusterLevel:p}}):(v="/widget/data/find/OPINION_WORD",y=(0,r.Z)({},l)),e.next=13,a(u,v,y);case 13:if(2e4!==(g=e.sent).data.code){e.next=19;break}return(x=g.data.result||[]).length>0&&(x=d(x)),e.next=19,o({type:"save",payload:{json_word:x,loading:4===f}});case 19:case"end":return e.stop()}}),e)})),handleOpinion:i().mark((function e(t,n){var r,a,c,s,u,l,p,f,h,m,v,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,c=n.select,s=r.clusterLevel,u=r.data,l=r.taskId,e.next=5,c((function(e){return e.opinionChart}));case 5:if(p=e.sent,f=p.allData,h=p.currTaskId,m=p.hasRecord,v=p.type,y=p.clusterTypeOptions,g=p.refreshing,x=p.messageTotal,I=p.reloaded,l!==h||m){e.next=32;break}if(!(s>0)){e.next=27;break}return f[s]=d(u),!g||m||I||Object.keys(f).forEach((function(e,t){y[t].disabled=0===f[e].length})),e.next=20,a({type:"save",payload:{allData:JSON.parse(JSON.stringify(f)),clusterTypeOptions:JSON.parse(JSON.stringify(y))}});case 20:if(20!==s){e.next=24;break}return b=d(u),e.next=24,a({type:"save",payload:{json_word:b,loading:!1}});case 24:60===s&&(T=decodeURIComponent(window.location.search).split("?"),T[0],E=T[1],w={taskId:h,uri:E,data:JSON.parse(JSON.stringify(f))},o.t.set(o.V.opinionDetail,w)),e.next=32;break;case 27:return e.next=29,a({type:"save",payload:{refreshing:!1,clusterTypeOptions:y.map((function(e){return e.disabled=!1,e}))}});case 29:if(!(4!==v&&x>5e3)){e.next=32;break}return e.next=32,a({type:"getWordCloudList"});case 32:case"end":return e.stop()}}),e)})),reset:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,e.next=3,r({type:"save",payload:{reloaded:!1,loading:!0,allData:{20:[],40:[],60:[]},json_word:[]}});case 3:case"end":return e.stop()}}),e)})),resetClusterOptions:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,e.next=3,r({type:"save",payload:{clusterTypeOptions:l}});case 3:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},57585:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(87462),a=n(87757),i=n.n(a),o=function(e){var t=e.wordAgeList.sort((function(e,t){return t.count-e.count})).slice(0,100).map((function(e,t,n){var r=e.count/n[0].count*40;return{name:e.keyword,value:[e.age,e.count,e.keyword,r<10?10:r]}})),n=t.length>0?t[0].value[1].toString().length:0;return{title:{text:"\u8bcd\u9f84-\u8bcd\u9891\u6563\u70b9\u56fe",left:0,top:10},grid:{left:18*Math.ceil((n+1)/2)+20,top:"15%",bottom:"15%",right:"10%"},xAxis:{type:"value",maxInterval:864e5,axisLabel:{formatter:function(e){return 0===e?"":e.toFixed(0)+"\u5929"}}},yAxis:{type:"value",axisLabel:{formatter:function(e){return 0===e?0:e.toFixed(0)}}},dataZoom:[{type:"slider",xAxisIndex:0,showDetail:!1,height:20,bottom:0,fiterMode:"empty"},{type:"slider",yAxisIndex:0,left:0,showDetail:!1,width:20,fiterMode:"empty"}],tooltip:{formatter:function(e){var t=e.value;e.dataIndex;return[e.marker+" "+t[2],"\u8bcd\u9f84\uff1a"+t[0]+"\u5929","\u8bcd\u9891\uff1a"+t[1]].join("<br>")}},series:{type:"scatter",name:"scatterSeries",symbolSize:function(e){return e[3]},itemStyle:{normal:{color:"#1574B388"},emphasis:{color:"#1FA1F788"}},data:t}}},c=function(e){return{title:{text:"\u8bcd\u4e91\u56fe\u8c31",left:0},tooltip:{formatter:function(e){return e.marker+" "+e.name+"\uff1a"+e.data.oriValue}},series:{name:"opinionWordCloud",type:"wordCloud",shape:"circle",left:"center",top:"center",sizeRange:[12,60],gridSize:6,rotationRange:[0,0],drawOutOfBound:!1,data:e.list.sort((function(e,t){return t.count-e.count})).slice(0,100).map((function(e){return{name:e.name,value:Math.sqrt(e.total),oriValue:e.total}})),textStyle:{emphasis:{color:"#D8D8D8"}}}}},s=n(49722);function u(e){return s.h.post("/opinion/result/other",(0,r.Z)({},e))}const l={namespace:"detail",state:{msgCount:0,topChartData:{chartData:{wordAgeList:[],list:[]},sOption:{},wOption:{}}},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchWordData:i().mark((function e(t,n){var r,a,s,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,n.select,l={wordAgeList:[],list:[]},e.prev=3,e.next=6,a(u,r);case 6:p=e.sent,2e4===(d=p.data).code&&(l=d.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,s({type:"save",payload:{topChartData:{chartData:l,sOption:o(l),wOption:c(l)}}});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[3,11,13,17]])}))}}},58334:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722);function s(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.pageType,i=e.downType;return c.h.post("/scene/message/count/type/time",{projectId:t,filterModel:n,downType:i,dateFilter:r,pageType:a,chartType:"volume_count_type_time"})}function u(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.pageType,i=e.configType;return c.h.post("/scene/brandSeries/count",{projectId:t,filterModel:n,dateFilter:r,pageType:a,chartType:"volume_series_aspect_count",configType:i})}function l(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.pageType,i=e.configType;return c.h.post("/scene/relation",{projectId:t,filterModel:n,dateFilter:r,chartType:"volume_series_count",pageType:a,configType:i})}function p(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.pageType,i=e.configType;return c.h.post("/scene/brandSeries/count",{projectId:t,filterModel:n,dateFilter:r,chartType:"volume_series_aspect_count",pageType:a,configType:i})}function d(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.aspectLevel,i=e.parentAspect;return c.h.post("/scene/aspect-emotion",{projectId:t,filterModel:n,dateFilter:r,aspectLevel:a,parentAspect:i})}function f(e){var t=e.projectId,n=e.filterModel,r={projectId:t,filterModel:{},filterType:"OPINION_TASK",dateFilter:e.dateFilter,newFilterModel:n};return c.h.post("/opinion/add",r)}function h(e){var t=e.projectId,n=e.taskId,r=e.clusterLevel;return c.h.post("/opinion/result",{projectId:t,filterModel:{taskId:n,clusterLevel:r}})}function m(e){var t=e.projectId;return c.h.post("/filter/config/find",{projectId:t})}function v(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel;return c.h.post("/scene/message/count",{projectId:t,dateFilter:n,filterModel:r,pageType:"SCENE_INDEX",chartType:"volume_count"})}var y=n(87219),g=o.Z.drillDown.sceneAnalyze,x={c1Data:void 0,c1TimeType:"DAY",timeOpts:[],c2Data:void 0,c2AnalyzeObj:"",topicOpts:[],c3Data:void 0,c4Data:void 0,c4SelectedObjs:[],compareOpts:[],c4DefaultName:void 0,c5Data:void 0,c5Aspect1:"",c5AspectLevel:"ASPECT1",c6Data:void 0,clusterLevel:"",taskId:void 0,clusterLevelOpts:[{title:"\u7c97",value:"20",disabled:!0},{title:"\u4e2d",value:"40",disabled:!0},{title:"\u7ec6",value:"60",disabled:!0}],tmpC6Data:{20:[],40:[],60:[]},wsRunning:!1,projectId:void 0,pageType:void 0,sceneName:void 0,filterModel:void 0,oriFilterModel:void 0,dateFilter:void 0,analysisModel:void 0,target:{id:void 0,name:void 0},aspectName:void 0,aspectIdKey:void 0,aspectId:void 0,topicName:void 0,topicId:void 0};const I={namespace:g,state:JSON.parse(JSON.stringify(x)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchData:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"save",payload:r});case 4:return e.next=6,a({type:"fetchCompareConfig",payload:{}});case 6:return e.next=8,a({type:"fetchC1Data",payload:{}});case 8:return e.next=10,a({type:"fetchC2Data",payload:{}});case 10:return e.next=12,a({type:"fetchC3Data",payload:{}});case 12:return e.next=14,a({type:"fetchC4Data",payload:{}});case 14:return e.next=16,a({type:"fetchC5Data",payload:{}});case 16:return e.next=18,a({type:"addOpinionTask",payload:{}});case 18:case"end":return e.stop()}}),e)})),fetchC1Data:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,h,m,v,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return e[g]}));case 4:return l=e.sent,p=l.projectId,d=l.filterModel,f=l.dateFilter,h=l.pageType,m=l.aspectName,v=l.aspectId,x=l.c1TimeType,I="error",e.prev=13,e.next=16,o(s,{projectId:p,filterModel:d,pageType:h,downType:v,dateFilter:(0,y.ZP)(f,(function(e){e.dateGroupType=a.c1TimeType||x}))});case 16:b=e.sent,T=b.data,I=2e4===T.code&&T.result.length?T.result.find((function(e){return e.name===m})).data:"empty",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),e.t0;case 24:return e.prev=24,e.next=27,c({type:"save",payload:(0,r.Z)({c1Data:I},a)});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[13,21,24,28]])})),fetchC2Data:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,y,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[g]}));case 4:return l=e.sent,p=l.projectId,d=l.filterModel,f=l.dateFilter,h=l.pageType,m=l.topicOpts,v=l.c2AnalyzeObj,y="error",e.prev=12,x=a.c2AnalyzeObj||v,e.next=16,o(u,{projectId:p,filterModel:d,dateFilter:f,pageType:h,configType:m.find((function(e){return e.value===x})).title});case 16:I=e.sent,b=I.data,y=2e4===b.code&&b.result.length?b.result:"empty",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),e.t0;case 24:return e.prev=24,e.next=27,c({type:"save",payload:(0,r.Z)({c2Data:y},a)});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[12,21,24,28]])})),fetchC3Data:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,y,x,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[g]}));case 4:return u=e.sent,p=u.projectId,u.filterModel,d=u.dateFilter,f=u.aspectIdKey,h=u.aspectName,u.aspectId,m=u.oriFilterModel,y="error",x=0,e.prev=13,e.next=16,o(v,{projectId:p,dateFilter:d,filterModel:m});case 16:return I=e.sent,2e4===(b=I.data).code&&(x=b.result.count),e.next=21,o(l,{projectId:p,filterModel:m,dateFilter:d});case 21:T=e.sent,2e4===(E=T.data).code&&E.result.nodes.length?(w=f+":"+h,k=E.result.nodes.find((function(e){return e.key===w})),C=k?k.total:0,y=E.result.relations.reduce((function(e,t){var n=void 0;if(t.source===w?n="target":t.target===w&&(n="source"),n){var a=E.result.nodes.find((function(e){return e.key===t[n]})),i=0===C?0:t.total/C,o=0===x?0:a.total/x,c=0===o?0:i/o;a&&e.push((0,r.Z)({},a,{relTotal:t.total,aspectCount:C,messageCount:x,trustRate:i,upRate:c}))}return e}),[])):y="empty",e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),e.t0;case 29:return e.prev=29,e.next=32,c({type:"save",payload:(0,r.Z)({c3Data:y,messageCount:x},a)});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[13,26,29,33]])})),fetchC4Data:i().mark((function e(t,n){var r,a,o,c,s,u,l,d,f,h,m,v,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[g]}));case 4:return s=e.sent,u=s.projectId,l=s.filterModel,d=s.dateFilter,f=s.pageType,h=s.topicId,m=s.topicName,v=s.c4SelectedObjs,x="error",I="",b="",T=r.c4SelectedObjs||v,e.prev=13,e.next=16,a(p,{projectId:u,filterModel:(0,y.ZP)(l,(function(e){var t=e.find((function(e){return"CONFIG"===e.id}));t||(t={id:"CONFIG",values:[]},e.push(t));var n=t.values.find((function(e){return e.id===h}));n||(n={id:h,values:[]},t.values.push(n)),b=n.values[0],n.values=T})),dateFilter:d,pageType:f,configType:m});case 16:E=e.sent,2e4===(w=E.data).code&&w.result.length?(x=w.result.sort((function(e,t){return t.count-e.count})).slice(0,10),k=w.result.find((function(e){return e.id===b})),I=k?k.name:"",T=x.map((function(e){return e.id}))):x="empty",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),e.t0;case 24:return e.prev=24,e.next=27,o({type:"save",payload:{c4Data:x,c4SelectedObjs:T,c4DefaultName:I}});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[13,21,24,28]])})),fetchC5Data:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[g]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,f=u.dateFilter,h=u.c5AspectLevel,m=u.c5Aspect1,v="error",e.prev=11,e.next=14,o(d,{projectId:l,filterModel:p,parentAspect:void 0!==a.c5Aspect1?a.c5Aspect1:m,dateFilter:f,aspectLevel:a.c5AspectLevel||h});case 14:y=e.sent,x=y.data,v=2e4===x.code&&x.result.length?x.result:"empty",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),e.t0;case 22:return e.prev=22,e.next=25,c({type:"save",payload:(0,r.Z)({c5Data:v},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])})),addOpinionTask:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m,v,x,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[g]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,h=u.clusterLevelOpts,m="error",v=void 0,x=!1,e.prev=10,e.next=13,o(f,{projectId:l,dateFilter:p,filterModel:d});case 13:if(I=e.sent,2e4!==(b=I.data).code||!b.result){e.next=25;break}if(T=b.result,E=T.messageTotal,w=T.status,k=T.id,C=T.opinionTotal,"FINISH"!==w){e.next=23;break}return e.next=20,c({type:"fetchOpinionData",payload:{taskId:k,clusterLevel:"20",wsRunning:!1,clusterLevelOpts:(0,y.ZP)(h,(function(e){e.forEach((function(e){e.disabled=!1}))}))}});case 20:return e.abrupt("return");case 23:"ENABLE"===w?(x=!0,m=1):C<20?m=2:E<50?m=3:E>5e5&&(m=4);case 24:v=k;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(10),e.t0;case 30:return e.prev=30,e.next=33,c({type:"save",payload:(0,r.Z)({c6Data:m,taskId:v,wsRunning:x},a)});case 33:return e.finish(30);case 34:case"end":return e.stop()}}),e,null,[[10,27,30,34]])})),fetchOpinionData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[g]}));case 4:return u=e.sent,l=u.projectId,p=u.taskId,d="error",e.prev=8,e.next=11,o(h,{projectId:l,taskId:a.taskId||p,clusterLevel:a.clusterLevel});case 11:f=e.sent,m=f.data,d=2e4===m.code&&m.result.length?m.result:"empty",e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),e.t0;case 19:return e.prev=19,e.next=22,c({type:"save",payload:(0,r.Z)({c6Data:d},a)});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[8,16,19,23]])})),fetchCompareConfig:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[g]}));case 4:return c=e.sent,s=c.projectId,u=c.topicName,l=[],e.prev=8,e.next=11,r(m,{projectId:s});case 11:p=e.sent,2e4===(d=p.data).code&&("\u54c1\u724c"===u?l=d.result.brands.map((function(e){return{title:e.name,value:e.id}})):"\u578b\u53f7"===u&&(l=d.result.series.map((function(e){return{title:e.name,value:e.id}})))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),e.t0;case 19:return e.prev=19,e.next=22,a({type:"save",payload:{compareOpts:l}});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[8,16,19,23]])}))}}},89744:(e,t,n)=>{"use strict";n.d(t,{X:()=>c,R:()=>s});var r=n(87462),a=n(70715),i=n(39432);function o(e){switch(e){case"1":return"\u7535\u5546\u8bc4\u8bba";case"8":return"\u5ba2\u670d\u4f1a\u8bdd";case"17":return"\u8c03\u67e5\u95ee\u5377";case"12":return"\u5185\u5bb9\u7535\u5546"}}function c(e){var t=e.map((function(e){return o(e.key)})),n=e.map((function(e){return[o(e.key),e.docCount]})),r=["\u65e5\u671f"].concat(t),a=e[0].recent7DaysDataVOS.map((function(e){return e.key})).map((function(t){var n=[t];return e.forEach((function(e){e.recent7DaysDataVOS.forEach((function(e){t===e.key&&n.push(e.docCount)}))})),n}));return{length:e.length,datasets:[{dimensions:t,source:n},{dimensions:r,source:a}]}}var s=function(e,t){var n=e.datasets,o=e.length;return{title:{text:t},grid:[{left:560,right:100,top:90,bottom:24,containLabel:!0}],dataset:n.map((function(e){return(0,r.Z)({},e,{sourceHeader:!1})})),tooltip:{trigger:"axis",enterable:!0,hideDelay:200,backgroundColor:"#ffffff",borderColor:"#e5e5e5",borderWidth:"1",extraCssText:"border-radius: 2px 2px 2px 0px 2px;\n      box-shadow: 0px 9px 28px 8px rgba(0,0,0,0.05), 0px 6px 16px 0px rgba(0,0,0,0.08), 0px 3px 6px -4px rgba(0,0,0,0.12)",formatter:function(e){for(var t=e[0].axisValue.replace(/-/g,"/"),n=0,r=0;r<e.length;r++)n+=e[r].data[r+1];var a=e.map((function(e){var t=e.marker,n=e.seriesName,r=e.seriesIndex,a=e.data[r];return{name:'\n            <div class="line_chart">\n              <span style="color: #8c8c8c">'+t+" "+n+'</span>\n              <span style="color: #262626;">'+(0===a?0:""+a)+"</span>\n            </div>\n            ",value:a}}));return(a=a.sort((function(e,t){return t.value-e.value})).map((function(e){return e.name}))).splice(0,0,'<span style="color: #8c8c8c">'+t+"</span>",'<span style="margin-right: 80px;font-weight: 600">\u603b\u8ba1</span><span style="font-weight: 500">'+n+"</span>"),a.join('<p style="height: 16px"></p>')}},legend:{top:60,left:30,right:40,itemWidth:12,itemHeight:12,type:"scroll",icon:"circle"},xAxis:{type:"category",boundaryGap:!1,axisLabel:{color:"#8c8c8c",margin:16,formatter:function(t){return e&&e.length?(0,i.Sn)("DAY",t):t}},axisPointer:{type:"line",label:{show:!1}}},yAxis:{minInterval:1,axisLine:{show:!1},axisLabel:{color:"#8c8c8c",showMinLabel:!1,formatter:function(e){return(0,i.fy)(e)}},splitLine:{show:!0,lineStyle:{type:"dashed"}}},series:[{type:"pie",smooth:!0,datasetIndex:0,hoverOffset:0,center:[220,"58%"],radius:["50%","150"],width:524,itemStyle:{smooth:!0,normal:{borderWidth:0,borderColor:"#fff",smooth:!0},emphasis:{borderWidth:0,shadowBlur:0,shadowOffsetX:0}},tooltip:{trigger:"item",formatter:function(e){var t=e.marker,n=e.data,r=n.value;return t+' <span style="margin-right: 36px;color: #8c8c8c">'+n.name+'</span><span style="font-weight: 500">'+r+" ("+e.percent+"%)</span>"}},data:n[0].source.map((function(e){return{value:e[1],name:e[0],label:{show:!1},labelLine:{show:!1},emphasis:{label:{show:!1},labelLine:{show:!1}}}}))}].concat(Array.from({length:o}).map((function(e,t){return{type:"line",symbol:"emptyCircle",showSymbol:!1,datasetIndex:1,areaStyle:{opacity:.1},axisLabel:{show:!0,color:"#626262",formatter:function(e){return(0,i.hE)(e)}},itemStyle:{color:a.ad[t]}}})))}}},19706:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.pageIndex,n=e.pageSize,r=e.projectId,a=e.searchKeyWord;return o.h.post("/filter/pageFilter",{pageIndex:t,pageSize:n,projectId:r,searchKeyWord:a})}function s(e){return o.h.post("/filter/delete",{id:e})}var u=n(64396).Z.explore.savaFilter,l={projectId:"",filterData:void 0,modalShow:!1,id:void 0,pageIndex:1,pageSize:10};const p={namespace:u,state:Object.assign({},l),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},l)}},effects:{fetchSaveFilter:i().mark((function e(t,n){var a,o,s,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[u]}));case 4:return p=e.sent,d=p.projectId,f=p.pageIndex,h=p.pageSize,m=null,e.prev=9,e.next=12,o(c,{projectId:d,pageIndex:f,pageSize:h});case 12:v=e.sent,2e4===(y=v.data).code&&(m=y.result.result&&0!==y.result.result.length?y.result:"empty"),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,s({type:"save",payload:(0,r.Z)({},a,{filterData:m})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),deleteUrl:i().mark((function e(t,n){var a,o,c,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[u]}));case 3:return l=e.sent,p=l.target.id,e.next=7,a(s,p);case 7:if(d=e.sent,2e4!==d.data.code){e.next=14;break}return e.next=12,o({type:"save",payload:{modalShow:!1}});case 12:return e.next=14,o({type:"fetchSaveFilter"});case 14:case"end":return e.stop()}}),e)}))}}},31155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.pageIndex,n=e.pageSize,r=e.projectId,a=e.searchKeyWord;return o.h.post("/freeExploring/index/searchRecord/list",{pageIndex:t,pageSize:n,projectId:r,searchKeyWord:a})}function s(e){var t=e.recordId;return o.h.post("/freeExploring/index/searchRecord/delete",{recordId:t})}var u=n(64396),l=(n(35239),u.Z.explore.savaResult),p={projectId:"",filterData:void 0,modalShow:!1,id:void 0,pageIndex:0,pageSize:10};const d={namespace:l,state:Object.assign({},p),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},p)}},effects:{fetchSaveFilter:i().mark((function e(t,n){var a,o,s,u,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.pageIndex,h=p.pageSize,m=d||a,v=null,e.prev=10,e.next=13,o(c,{projectId:m,pageIndex:f,pageSize:h});case 13:y=e.sent,2e4===(g=y.data).code&&(v=g.result.result&&0!==g.result.result.length?g.result:"empty"),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,s({type:"save",payload:(0,r.Z)({},a,{filterData:v})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),deleteUrl:i().mark((function e(t,n){var a,o,c,u,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[l]}));case 3:return u=e.sent,p=u.target.id,e.next=7,a(s,{recordId:p});case 7:if(d=e.sent,2e4!==d.data.code){e.next=14;break}return e.next=12,o({type:"save",payload:{modalShow:!1}});case 12:return e.next=14,o({type:"fetchSaveFilter"});case 14:case"end":return e.stop()}}),e)}))}}},73630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId;return o.h.post("/freeExploring/index/findRecent7DaysData?projectId="+t)}function s(){return o.h.get("/freeExploring/index/findTouchSpotByAccountId")}var u=n(64396),l=n(89744),p=u.Z.freedom,d={projectId:void 0,pieLineData:void 0,touchData:void 0};const f={namespace:p,state:Object.assign({},d),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},d)}},effects:{fetch7DaysAllData:i().mark((function e(t,n){var a,o,s,u,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[p]}));case 4:return d=e.sent,f=d.projectId,h=null,e.prev=7,e.next=10,o(c,{projectId:a.projectId||f});case 10:m=e.sent,2e4===(v=m.data).code&&(h=0===v.result.length?"empty":(0,l.X)(v.result)),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,s({type:"save",payload:(0,r.Z)({},a,{pieLineData:h})});case 20:return e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[7,15,17,21]])})),findTouchSpotByAccountId:i().mark((function e(t,n){var a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,n.select,u=null,e.prev=3,e.next=6,o(s);case 6:l=e.sent,2e4===(p=l.data).code&&(u=0===p.result.length?"empty":p.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,c({type:"save",payload:(0,r.Z)({},a,{touchData:u})});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[3,11,13,17]])}))}}},16235:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return c.h.post("/freeExploring/index/dataChart/find",e)}function u(e){return c.h.post("/freeExploring/index/wordCloud/find",e)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.key,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.key,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:a,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/freeExploring/index/searchRecord/detail/find",{recordId:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return c.h.get("/freeExploring/index/findTouchSpotByAccountId")}var y=n(64396),g=n(53113),x=y.Z.explore.result,I={key:"FREE_EXPLORE_DEFAULT_FILTER",projectId:void 0,filterValue:{},filterValues:[],comparisonItems:[],selectValue:"",recordId:void 0,filterId:void 0,labelType:"no",labelTypeFlavor:"",timeType:void 0,timeTypeFlavor:"",timeOptions:[],wordCloudFlavor:[],chartData:void 0,allWordCloudList:[],expandParam:"",recordName:"",wordCloudTotal:void 0};const b={namespace:x,state:JSON.parse(JSON.stringify(I)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},I)},saveChartData:function(e,t){var n=t.payload;return e.chartData=n.chartData,(0,r.Z)({},e)},distributeData:function(e,t){var n=t.payload,a=e.allWordCloudList,i=e.recordName,o=["#7262FD","#5B8FF9","#78D3F8","#60DDA9"],c=n.result,s=c.exploreFilterModel,u=c.wordCountResult,l=c.trendResult,p=c.expandParam,d=c.name,f=s.comparisonItems,h=s.dateFilter,m=s.headerFilterParamsNew,v=s.messageCategory,y=s.wordCountConfigs;u.forEach((function(e){e.data&&e.data.length?a.push({data:e.data}):a.push({data:"empty"})})),y.forEach((function(e,t){a[t].enablePos=e.enablePos,a[t].topN=e.topN,a[t].modal=e.modal,a[t].wordCloudModal=e.wordCloudModal,a[t].wordCloudTotal=e.wordCloudTotal})),f.map((function(e,t){return e.color=o[t]})),i=d;var g=JSON.parse(p);return(0,r.Z)({},e,{comparisonItems:f,chartData:l||"empty",dateFilter:h,headerFilterParamsNew:m,filterValue:{headerFilterParamsNew:m,dateFilter:h},selectValue:v,allWordCloudList:a,expandParam:g,timeType:g.dateFilter.dateGroupType,recordName:i})},saveTimeOptions:function(e,t){var n=t.payload,a=(0,g.f)(n.numOfDays,!0),i=a.dateOptions,o=a.defaultDateType;return e.timeOptions=i,e.timeType=o,(0,r.Z)({},e)}},effects:{fetchDefaultValue:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,x,I,b,T,E,w,k,C,S,N;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return e.exploreResult}));case 3:return s=e.sent,u=s.projectId,p=s.key,d=s.filterValue,f=s.allWordCloudList,h=(0,g.f)(d.dateFilter.numOfDays||30,!0),m=h.dateOptions,v=h.defaultDateType,y=v||"DAY",x="no",e.prev=11,e.next=14,a(l,{projectId:u,key:p});case 14:if(I=e.sent,b=I.data,T=JSON.parse(b.result),2e4!==b.code||!b.result){e.next=24;break}return E=T.labelTypeFlavor,w=void 0===E?"":E,k=T.timeTypeFlavor,C=void 0===k?"":k,S=T.wordCloudFlavor,N=void 0===S?[]:S,C&&m.some((function(e){return e.value===C}))&&(y=C),w&&(x=w),N&&N.length&&(N[0]?f[0]=(0,r.Z)({data:void 0,enablePos:!1},N[0],{topN:N[0].topN||"50",modal:N[0].modal||"0",wordCloudModal:N[0].wordCloudModal||"0"}):f[0]={data:void 0,topN:"50",modal:"0",wordCloudModal:"0",enablePos:!1}),e.next=24,o({type:"save",payload:{labelTypeFlavor:w,timeTypeFlavor:C,wordCloudFlavor:N,allWordCloudList:f}});case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(11),e.t0;case 29:return e.prev=29,e.next=32,o({type:"save",payload:{labelType:x,timeOptions:m,timeType:y,allWordCloudList:f}});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[11,26,29,33]])})),setDefaultValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return e.exploreResult}));case 4:return u=e.sent,l=u.projectId,p=u.key,f=u.labelTypeFlavor,h=u.timeTypeFlavor,m=u.wordCloudFlavor,v={labelTypeFlavor:a&&void 0!==a.labelTypeFlavor?a.labelTypeFlavor:f,timeTypeFlavor:void 0!==a.timeTypeFlavor?a.timeTypeFlavor:h,wordCloudFlavor:a&&a.wordCloudFlavor||m},e.next=13,o(d,{projectId:l,key:p,value:JSON.stringify(v)});case 13:if(y=e.sent,2e4!==y.data.code){e.next=18;break}return e.next=18,s({type:"save",payload:(0,r.Z)({},v)});case 18:case"end":return e.stop()}}),e)})),fetchBarOrLineData:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,u="error",l=[],e.prev=3,e.next=6,c((function(e){return e.exploreResult}));case 6:return p=e.sent,d=p.comparisonItems,f=p.timeType,h=p.projectId,m=p.filterValue,v=p.selectValue,d.forEach((function(e){l.push({name:e.name,keywords:e.keywords})})),y=(0,r.Z)({comparisonItems:l,enablePos:!1,messageCategory:v,wordCountConfigs:[],projectId:h},m,{dateFilter:(0,r.Z)({},m.dateFilter)}),f&&(y.dateFilter.dateGroupType=f),e.next=17,a(s,y);case 17:g=e.sent,x=g.data,u=2e4===x.code&&x.result.length>0?x.result:"empty",e.next=24;break;case 22:e.prev=22,e.t0=e.catch(3);case 24:return e.prev=24,e.next=27,o({type:"save",payload:{chartData:u}});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[3,22,24,28]])})),fetchWordCloud:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e.exploreResult}));case 4:return l=e.sent,p=l.comparisonItems,d=l.projectId,f=l.selectValue,h=l.filterValue,m=l.allWordCloudList,v=l.wordCloudFlavor,y=a.index,m[y]||(v[y]?m[y]=(0,r.Z)({data:void 0,enablePos:!1},v[y],{topN:v[y].topN||"50",modal:v[y].modal||"0",wordCloudModal:v[y].modal||"0"}):(m[y]={data:void 0,enablePos:!1,topN:"50",modal:"0",wordCloudModal:"0"},v[y]={enablePos:void 0,topN:void 0,modal:void 0,wordCloudModal:void 0})),e.next=15,c({type:"save",payload:{fetchingIndex:y,allWordCloudList:JSON.parse(JSON.stringify(m)),wordCloudFlavor:v}});case 15:return g=(0,r.Z)({projectId:d},h,{messageCategory:f,comparisonItems:[p[y]],topSize:100,enablePos:m[y].enablePos}),e.prev=16,e.next=19,o(u,g);case 19:x=e.sent,2e4===(I=x.data).code&&I.result?(m[y].data=I.result.length?I.result.slice(0,m[y].topN):"empty",m[y].wordCloudTotal=I.result.reduce((function(e,t){return e+t.total}),0)):m[y].data="error",e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),m[y].data="error";case 27:return e.prev=27,e.next=30,c({type:"save",payload:{allWordCloudList:JSON.parse(JSON.stringify(m)),fetchingIndex:null}});case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[16,24,27,31]])})),exploreResultDetail:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,e.prev=2,e.next=5,a(h,r.recordId);case 5:if(c=e.sent,2e4!==(s=c.data).code){e.next=10;break}return e.next=10,o({type:"distributeData",payload:{result:s.result}});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})),findTouchSpotByAccountId:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.put,n.select,o=null,e.prev=3,e.next=6,r(v);case 6:c=e.sent,2e4===(s=c.data).code&&(o=s.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,a({type:"save",payload:{touchData:o}});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[3,11,13,17]])}))}}},4270:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(49722),s=function(e){return c.h.post("/scene/aspect/count/time",e)},u=function(e){return c.h.post("/scene/scene/new_advice/find",e)},l=function(e){return c.h.post("/scene/export",e)},p=n(40845),d=n(64396),f=n(87219),h=["projectId","pageType"],m=d.Z.explore.scene.advice,v={dateOptions:[],defaultDateType:void 0,trendData:void 0,timeType:"DAY",fTimeType:"",projectId:void 0,analysisModel:void 0,filterModel:void 0,filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:"SCENE_MY_ADVICE",hotAdviceData:void 0,newAdviceData:void 0};const y={namespace:m,state:JSON.parse(JSON.stringify(v)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},v)}},effects:{fetchParams:o().mark((function e(t,n){var r,i,c,s,u,l,d,f,h,v,y,g,x,I,b,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[m]}));case 4:if(u=e.sent,l=u.filterModel,d=u.dateFilter,f=u.pageType,h=u.fTimeType,JSON.stringify(l)!==JSON.stringify(r.filterModel)||JSON.stringify(d)!==JSON.stringify(r.dateFilter)){e.next=11;break}return e.abrupt("return");case 11:return v={fTimeType:h},y={timeType:h||r.defaultDateType},e.next=15,i(p.o,{projectId:r.projectId,key:f});case 15:if(g=e.sent,2e4===(x=g.data).code&&x.result)try{I=JSON.parse(x.result),Object.keys(I).forEach((function(e){v[e]=I[e]})),b=Object.keys(y),Object.keys(v).forEach((function(e,t){v[e]&&(y[b[t]]=v[e])}))}catch(o){}return["timeType"].forEach((function(e){!r.dateOptions.find((function(t){return t.value===y[e]}))&&(y[e]=r.defaultDateType)})),T=(0,a.Z)({},r,y,v),e.next=22,c({type:"fetchDatas",payload:T});case 22:case"end":return e.stop()}}),e)})),fetchDatas:o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchTrendData",payload:r});case 4:return e.next=6,a({type:"fetchNewMessage",payload:r});case 6:return e.next=8,a({type:"fetchHotMessage",payload:r});case 8:case"end":return e.stop()}}),e)})),fetchTrendData:o().mark((function e(t,n){var r,i,c,u,l,p,d,h,v,y,g,x,I,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[m]}));case 4:return l=e.sent,p=l.projectId,d=l.headerFilterParamsNew,h=l.dateFilter,v=l.pageType,y=l.timeType,g="error",e.prev=11,x=(0,f.ZP)(r.dateFilter||h,(function(e){e.dateGroupType=r.timeType||y})),e.next=15,i(s,{projectId:r.projectId||p,dateFilter:x,headerFilterParamsNew:r.headerFilterParamsNew||d,filterModel:[],pageType:v,chartType:"scene_aspect_count_time"});case 15:I=e.sent,b=I.data,g=2e4===b.code?b.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:return e.prev=22,e.next=25,c({type:"save",payload:(0,a.Z)({trendData:g},r)});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,20,22,26]])})),setDefaultValue:o().mark((function e(t,n){var i,c,s,u,l,d,f,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[m]}));case 4:return l=e.sent,d=l.projectId,f=l.pageType,v=(0,r.Z)(l,h),y=["fTimeType"].reduce((function(e,t){return e[t]=void 0!==i[t]?i[t]:v[t],e}),{}),e.prev=9,e.next=12,c(p.s,{projectId:i.projectId||d,key:f,value:JSON.stringify(y)});case 12:if(g=e.sent,2e4!==g.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:(0,a.Z)({},i)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])})),fetchNewMessage:o().mark((function e(t,n){var r,i,c,s,l,p,d,h,v,y,g,x,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[m]}));case 4:return l=e.sent,p=l.projectId,d=l.headerFilterParamsNew,h=l.dateFilter,v=l.pageType,y=l.timeType,g=(0,f.ZP)(r.dateFilter||h,(function(e){null!=e&&e.dateGroupType&&(e.dateGroupType=r.timeType||y)})),e.next=13,i(u,{projectId:r.projectId||p,dateFilter:g,headerFilterParamsNew:r.headerFilterParamsNew||d,filterModel:[],pageType:v,chartType:"scene_aspect_advice_new_count",keyword:r.keywords||"",pageIndex:r.page||1,pageSize:r.pageSize||10,orderByTime:"cTimeMin"});case 13:if(x=e.sent,2e4!==(I=x.data).code){e.next=18;break}return e.next=18,c({type:"save",payload:(0,a.Z)({},r,{newAdviceData:I.result})});case 18:case"end":return e.stop()}}),e)})),fetchHotMessage:o().mark((function e(t,n){var r,i,c,s,l,p,d,h,v,y,g,x,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[m]}));case 4:return l=e.sent,p=l.projectId,d=l.headerFilterParamsNew,h=l.dateFilter,v=l.pageType,y=l.timeType,g=(0,f.ZP)(r.dateFilter||h,(function(e){null!=e&&e.dateGroupType&&(e.dateGroupType=r.timeType||y)})),e.next=13,i(u,{projectId:r.projectId||p,dateFilter:g,headerFilterParamsNew:r.headerFilterParamsNew||d,filterModel:[],pageType:v,chartType:"scene_aspect_advice_new_count",keyword:r.keywords||"",pageIndex:r.page||1,pageSize:r.pageSize||10,orderByTime:""});case 13:if(x=e.sent,2e4!==(I=x.data).code){e.next=18;break}return e.next=18,c({type:"save",payload:(0,a.Z)({},r,{hotAdviceData:I.result})});case 18:case"end":return e.stop()}}),e)})),fetchExport:o().mark((function e(t,n){var r,i,c,s,u,p,d,h,v,y,g,x,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[m]}));case 4:return s=e.sent,u=s.projectId,p=s.headerFilterParamsNew,d=s.dateFilter,h=s.pageType,v=s.timeType,y=(0,f.ZP)(r.dateFilter||d,(function(e){null!=e&&e.dateGroupType&&(e.dateGroupType=r.timeType||v)})),e.next=13,i(l,{projectId:r.projectId||u,dateFilter:y,headerFilterParamsNew:r.headerFilterParamsNew||p,filterModel:[],pageType:h,chartType:r.chartType,keyword:r.keywords||""});case 13:g=e.sent,2e4===(x=g.data).code&&((I=document.createElement("a")).href=x.result,I.click());case 16:case"end":return e.stop()}}),e)}))}}},81236:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(87219),u=n(40845),l=n(49722);n(25365);function p(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.filterModel,i=e.pageType,o=e.configType,c=e.analysisModel;return l.h.post("/scene/competing-analysis",{projectId:t,dateFilter:n,headerFilterParamsNew:r,filterModel:a,pageType:i,configType:o,analysisModel:c})}var d=["projectId","pageType"],f=c.Z.explore.scene.competingAnalysis,h={sceneBarData:void 0,dateOptions:[],defaultDateType:void 0,singleSceneBarData:void 0,singleSceneType:"",singleTopType:"",fSingleSceneType:"",fSingleTopType:"",sceneType:"",timeType:"DAY",fTimeType:"",sceneBarLineData:void 0,projectId:void 0,analysisModel:void 0,filterModel:[],filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:"SCENE_COMPETING_ANALYSIS"};const m={namespace:f,state:JSON.parse(JSON.stringify(h)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},h)}},effects:{fetchParams:o().mark((function e(t,n){var r,i,c,s,l,p,d,h,m,v,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[f]}));case 4:if(l=e.sent,p=l.filterModel,d=l.dateFilter,h=l.pageType,m=l.fTimeType,v=l.fSingleSceneType,y=l.fSingleTopType,JSON.stringify(p)!==JSON.stringify(r.filterModel)||JSON.stringify(d)!==JSON.stringify(r.dateFilter)){e.next=13;break}return e.abrupt("return");case 13:return g={fTimeType:m,fSingleSceneType:v,fSingleTopType:y},x={timeType:m||r.defaultDateType,singleSceneType:v||"\u6027\u522b",singleTopType:y||"top10"},e.next=17,i(u.o,{projectId:r.projectId,key:h});case 17:if(I=e.sent,2e4===(b=I.data).code&&b.result)try{T=JSON.parse(b.result),Object.keys(T).forEach((function(e){g[e]=T[e]})),E=Object.keys(x),Object.keys(g).forEach((function(e,t){g[e]&&(x[E[t]]=g[e])}))}catch(o){}return["timeType"].forEach((function(e){!r.dateOptions.find((function(t){return t.value===x[e]}))&&(x[e]=r.defaultDateType)})),w=(0,a.Z)({},r,x,g),e.next=24,c({type:"fetchDatas",payload:w});case 24:case"end":return e.stop()}}),e)})),fetchDatas:o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchSceneData",payload:r});case 4:case"end":return e.stop()}}),e)})),fetchSceneData:o().mark((function e(t,n){var r,i,c,u,l,d,h,m,v,y,g,x,I,b,T,E,w,k,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,d=l.projectId,h=l.headerFilterParamsNew,m=l.dateFilter,v=l.pageType,y=l.analysisModel,g=l.fTimeType,x="error",I="",b=r.dateOptions,T=r.timeType,E=b&&b.find((function(e){return e.value===g})),I=b&&E?g:T,e.prev=16,w={projectId:r.projectId||d,dateFilter:(0,s.ZP)(r.dateFilter||m,(function(e){e.dateGroupType=I})),filterModel:[],headerFilterParamsNew:r.headerFilterParamsNew||h,pageType:v,analysisModel:r.analysisModel||y,configType:r.analysisModel?r.analysisModel[0].values[0].label:y[0].values[0].label},e.next=20,i(p,w);case 20:k=e.sent,C=k.data,x=2e4===C.code&&C.result.length>0?C.result.every((function(e){return 0===e.total}))?"empty":C.result:"empty",e.next=28;break;case 25:e.prev=25,e.t0=e.catch(16),e.t0;case 28:return e.prev=28,delete r.timeType,e.next=32,c({type:"save",payload:(0,a.Z)({},r,{singleSceneBarData:x,sceneBarData:x,sceneBarLineData:x,timeType:I})});case 32:return e.finish(28);case 33:case"end":return e.stop()}}),e,null,[[16,25,28,33]])})),fetchSceneLabelData:o().mark((function e(t,n){var r,i,c,u,l,d,h,m,v,y,g,x,I,b,T,E,w,k,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,d=l.projectId,h=l.headerFilterParamsNew,m=l.dateFilter,v=l.pageType,y=l.analysisModel,g=l.fTimeType,x="error",I="",b=r.dateOptions,T=r.timeType,E=b&&b.find((function(e){return e.value===g})),I=b&&E?g:T,e.prev=16,w={projectId:r.projectId||d,dateFilter:(0,s.ZP)(r.dateFilter||m,(function(e){e.dateGroupType=I})),filterModel:[],headerFilterParamsNew:r.headerFilterParamsNew||h,pageType:v,analysisModel:r.analysisModel||y,configType:r.analysisModel?r.analysisModel[0].values[0].label:y[0].values[0].label},e.next=20,i(p,w);case 20:k=e.sent,C=k.data,x=2e4===C.code&&C.result.length>0?C.result.every((function(e){return 0===e.total}))?"empty":C.result:"empty",e.next=28;break;case 25:e.prev=25,e.t0=e.catch(16),e.t0;case 28:return e.prev=28,delete r.timeType,e.next=32,c({type:"save",payload:(0,a.Z)({},r,{sceneBarLineData:x,timeType:I})});case 32:return e.finish(28);case 33:case"end":return e.stop()}}),e,null,[[16,25,28,33]])})),setDefaultValue:o().mark((function e(t,n){var i,c,s,l,p,h,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,l=n.select,e.next=4,l((function(e){return(0,a.Z)({},e)[f]}));case 4:return p=e.sent,h=p.projectId,m=p.pageType,v=(0,r.Z)(p,d),y=["fTimeType","fSingleSceneType","fSingleTopType"].reduce((function(e,t){return e[t]=void 0!==i[t]?i[t]:v[t],e}),{}),e.prev=9,e.next=12,c(u.s,{projectId:i.projectId||h,key:m,value:JSON.stringify(y)});case 12:if(g=e.sent,2e4!==g.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:(0,a.Z)({},i)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))}}},49447:(e,t,n)=>{"use strict";n.d(t,{M:()=>S,Z:()=>j});n(43378);var r=n(62443),a=n(87462),i=n(94578),o=n(67294),c=n(70715),s=n(87300),u=n(39432),l=10,p={force:["\u6ce8\uff1a","\u6570\u503c\u8d8a\u5927\uff0c\u8282\u70b9\u8d8a\u5927\uff0c\u4e5f\u8d8a\u5c45\u4e8e\u4e2d\u5fc3\u4f4d\u7f6e","\u5173\u8054\u7684\u8282\u70b9\u8d8a\u591a\uff0c\u8d8a\u5c45\u4e8e\u4e2d\u5fc3\u4f4d\u7f6e","\u5173\u8054\u5173\u7cfb\u8d8a\u5927\uff0c\u8fde\u7ebf\u8d8a\u7c97\uff0c\u4e0e\u76f8\u5173\u8282\u70b9\u4e5f\u8d8a\u8fd1"],circular:["\u6ce8\uff1a","\u6570\u503c\u8d8a\u5927\uff0c\u8282\u70b9\u8d8a\u5927","\u5173\u8054\u5173\u7cfb\u8d8a\u5927\uff0c\u8fde\u7ebf\u8d8a\u7c97"]},d={positive:"\u6b63\u9762\u6d88\u606f",total:"\u6807\u7b7e\u6570\u91cf",negative:"\u8d1f\u9762\u6d88\u606f"};const f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).chartRef=void 0,t.chartData={categories:[],links:[],data:[]},t.getChartRef=function(e){t.chartRef=e},t.setValue=function(e,n,r,i){var o=e.nodes,s=e.relations,u=s.map((function(e){return"posRate"===n?e.positive:"negRate"===n?e.negative:e[n]})),p=Math.max.apply(null,u),d=Math.min.apply(null,u),f=s.reduce((function(e,t,n){var r=u[n];if(r){var i=p===d?1:(r-d)/(p-d)*39+1;e.push((0,a.Z)({},t,{value:r,lineStyle:{width:1},emphasis:{lineStyle:{width:i}}}))}return e}),[]),h=o.map((function(e){return"posRate"===n?e.positive/e.total:"negRate"===n?e.negative/e.total:e[n]})),m=o.reduce((function(e,t){var n=t.sceneName;return e.includes(n)||e.push(n),e}),[]),v=Math.max.apply(null,h),y=Math.min.apply(null,h),g=o.reduce((function(e,t,n){var a=h[n],i=v===y?l:(a-y)/(v-y)*(Number(r)-l)+l;return e[m.indexOf(t.sceneName)].push({value:a,id:t.key,name:t.name,data:{total:t.total,positive:t.positive,negative:t.negative,posRate:t.positive/t.total,negRate:t.negative/t.total},category:t.sceneName,symbolSize:i,itemStyle:{color:c.OW[m.indexOf(t.sceneName)]},label:{show:!0,fontSize:10,color:"#262626"}}),n===o.length-1?e.reduce((function(e,t){return t.sort((function(e,t){return t.value-e.value})).forEach((function(t){e.push(t)})),e}),[]):e}),m.map((function(){return[]})));t.chartData={links:f,data:i?g:g.filter((function(e){return e.value})),categories:m}},t.getOption=function(e,n,r,a){var i=t.chartData,o=i.data,c=i.links,l=i.categories;return{title:{text:n},tooltip:{showDelay:200,hideDelay:0,enterable:!0,confine:!0,padding:0,backgroundColor:"#ffffff",borderColor:"#e5e5e5",borderWidth:"1",extraCssText:"border-radius: 2px;\n        box-shadow: 0px 9px 28px 8px rgba(0,0,0,0.05), 0px 6px 16px 0px rgba(0,0,0,0.08), 0px 3px 6px -4px rgba(0,0,0,0.12)",triggerOn:"click",position:function(e,t,n,r,a){var i=a.contentSize,o=a.viewSize,c=e[0]<o[0]/2?0:-1,s=e[1]<o[1]/2?-.5:-1;return[e[0]+c*i[0]+(c?-10:10),e[1]+s*i[1]]},formatter:function(e,a,i){if(e)return setTimeout((function(){var c=e.dataType,l=e.data,p=e.marker;if("node"!==c){var f=l.source.split(":"),h=(f[0],f[1]),m=l.target.split(":"),v=(m[0],m[1]),y=o.find((function(e){return e.id===l.source})),g=o.find((function(e){return e.id===l.target})),x="posRate"===r?"positive":"negRate"===r?"negative":r,I=y?y.data[x]:0,b=g?g.data[x]:0,T=[d[x]+"\uff1a"+l[x],"\u5360\u300c"+h+"\u300d\u6bd4\u4f8b\uff1a"+(I&&l[x]?(l[x]/I*100).toFixed(2):"0.00")+"%","\u5360\u300c"+v+"\u300d\u6bd4\u4f8b\uff1a"+(b&&l[x]?(l[x]/b*100).toFixed(2):"0.00")+"%"].join("</br>");i(a,(0,s.r)(p+"\u8fde\u7ebf\uff1a"+h+" - "+v,[T],[{title:"\u6d88\u606f",icon:"icon-cem_jump-message",callback:function(){return t._handleOnJumpMsg(e,n,r)}}],"yt_new_tooltip_wrapper"))}else{var E=l.data,w=["<div style='display: flex;justify-content: space-between;align-items: center;color: #8c8c8c;'><div><span style='vertical-align: bottom'></span>\u6807\u7b7e\u6570\u91cf</div><div style='color: #262626;margin-left: 10px;'>\n                  "+(0,u.hE)(E.total)+"\n                </div></div>"].join("</br>");i(a,(0,s.r)(p+"\u8282\u70b9\uff1a"+l.name,[w],[{title:"\u6d88\u606f",icon:"icon-cem_jump-message",callback:function(){return t._handleOnJumpMsg(e,n,r)}}],"yt_new_tooltip_wrapper"))}}))}},legend:{data:l,left:40,top:50,icon:"circle",type:"scroll",itemWidth:10,itemHeight:10,itemGap:16},graphic:{type:"group",silent:!0,left:20,bottom:16,children:p[e].map((function(e,t){return{type:"text",style:{text:e,fill:"#8C8C8C",font:'12px "Microsoft YaHei", sans-serif',y:20*t}}}))},series:[{type:"graph",layout:e,roam:!0,draggable:!0,circular:{rotateLabel:!0},zoom:.75,force:{initLayout:"circular",repulsion:Number(a.repulsion),gravity:Number(a.gravity),edgeLength:[50,100],friction:.1},data:o,links:c,categories:l.map((function(e){return{name:e}})),focusNodeAdjacency:!0,itemStyle:{borderColor:"#fff",borderWidth:0,shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.1)"},label:{position:"right",formatter:"{b}"},lineStyle:{curveness:"circular"===e?.3:0,opacity:.3},emphasis:{lineStyle:{width:10}}}]}},t}(0,i.Z)(t,e);var n=t.prototype;return n.renderChart=function(e,t,n,r,a,i){this.setValue(e,r,a.maxRadius,i),this.changeChartType(n,t,r,a)},n.changeChartType=function(e,t,n,r){var a=this.getOption(e,t,n,r);this.chartRef.clear(),this.chartRef.setOption(a)},t}(o.PureComponent);var h=n(8201),m=n(98191),v=n(50976),y=n(92360),g=n(60496),x=n(94644),I=n(45697),b=n.n(I),T=(n(33798),n(43036)),E=n(61409),w={maxRadius:0,repulsion:0,gravity:0,callback:void 0,visible:!1,maxRadiusTest:!0,repulsionTest:!0,gravityTest:!0};const k=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleOnConfirm=function(){var e=n.state,t=e.callback,r=e.maxRadius,a=e.repulsion,i=e.gravity,o=e.maxRadiusTest,c=e.repulsionTest,s=e.gravityTest;o&&c&&s&&(t&&t({maxRadius:r,repulsion:a,gravity:i}),n._handleOnCancel())},n._handleOnCancel=function(){n.setState(JSON.parse(JSON.stringify(w)))},n._handleOnChange=function(e,t){var r,a=!!Number(t);a&&("maxRadius"===e&&(t<10||t>100||!/^[1-9]\d*$/.test(t))&&(a=!1),"repulsion"===e&&(t<50||t>1e3||!/^[1-9]\d*$/.test(t))&&(a=!1),"gravity"===e&&(t<.01||t>1||String(t).length>4)&&(a=!1)),n.setState(((r={})[e+"Test"]=a,r[e]=t,r))},n.state=JSON.parse(JSON.stringify(w)),n}(0,i.Z)(t,e);var n=t.prototype;return n.show=function(e){this.setState((0,a.Z)({visible:!0},e))},n.render=function(){var e=this,t=this.state,n=t.visible,r=t.maxRadiusTest,a=(t.repulsionTest,t.gravityTest,t.maxRadius);t.repulsion,t.gravity;return o.createElement(y.Dialog,{title:o.createElement("span",{style:{display:"inline-flex",alignItems:"center"}},"\u56fe\u8868\u914d\u7f6e",o.createElement(T.Z,{placement:"top",overlay:o.createElement(E.rU,{className:"yt-new-feedback-read-more",to:"https://www.yuque.com/docs/share/65dc5ff0-5e47-4687-a25f-d4bcbb36d97e?# \u300a\u5173\u8054\u5173\u7cfb\u5206\u6790\u7684\u56fe\u4f7f\u7528\u8bf4\u660e\u300b",target:"_blank"},"\u67e5\u770b\u56fe\u8868\u914d\u7f6e\u8bf4\u660e")},o.createElement("i",{className:"icon-cem_file1",style:{color:"#8C8C8C",marginLeft:4,fontSize:12}}))),className:"yt_graph_chart_config_wrapper",size:"tiny",visible:n,onCancel:this._handleOnCancel},o.createElement(y.Dialog.Body,null,o.createElement("div",{className:"item"},o.createElement("span",null,"\u534a\u5f84\u56e0\u5b50"),o.createElement("div",null,o.createElement(y.Input,{value:a,onChange:function(t){return e._handleOnChange("maxRadius",t)},type:""}),o.createElement("div",{className:"tips",style:{visibility:r?"hidden":"visible"}},"\u8bf7\u8f93\u516510~100\u4e4b\u95f4\u7684\u6574\u6570")))),o.createElement(y.Dialog.Footer,null,o.createElement(y.Button,{type:"default",onClick:this._handleOnCancel},"\u53d6\u6d88"),o.createElement(y.Button,{type:"primary",onClick:this._handleOnConfirm},"\u786e\u5b9a")))},t}(o.PureComponent);var C,S=[{title:"\u6807\u7b7e\u6570\u91cf",value:"total"},{title:"\u6d88\u606f\u597d\u8bc4\u7387",value:"posRate"},{title:"\u6d88\u606f\u5dee\u8bc4\u7387",value:"negRate"},{title:"\u6b63\u9762\u6d88\u606f",value:"positive"},{title:"\u8d1f\u9762\u6d88\u606f",value:"negative"}],N=[{title:"\u56fe\u8868\u914d\u7f6e",type:"config"}],O={positive:"\u6b63\u9762\u6d88\u606f",total:"\u6807\u7b7e\u6570\u91cf",negative:"\u8d1f\u9762\u6d88\u606f"},_=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleOnJumpMsg=function(e,t,r){n.props.onMsgClick(e,t,r)},n._handleOnJumpAnalyze=function(e,t){n.props.onClick(e,t,"analyze")},n._handleOnMouseOverOut=function(e){var t=e.componentSubType,r=e.dataType,i=e.type,o=e.data,c=n.props.dataType,s=n.chartData.data,u=Object.keys(c)[0];if("graph"===t){var l=[];if("edge"===r){var p=o.source.split(":"),d=(p[0],p[1]),f=o.target.split(":"),h=(f[0],f[1]),m=s.find((function(e){return e.id===o.source})),v=s.find((function(e){return e.id===o.target})),y="posRate"===c[u]?"positive":"negRate"===c[u]?"negative":c[u],g=m?m.data[y]:0,x=v?v.data[y]:0;l=["\u8fde\u7ebf\uff1a"+d+" - "+h,O[y]+"\uff1a"+o[y],"\u5728\u63d0\u53ca\u300c"+d+"\u300d\u7684"+O[y]+"\u4e2d\u5360\uff1a"+(g&&o[y]?(o[y]/g*100).toFixed(2):"0.00")+"%","\u5728\u63d0\u53ca\u300c"+h+"\u300d\u7684"+O[y]+"\u4e2d\u5360\uff1a"+(x&&o[y]?(o[y]/x*100).toFixed(2):"0.00")+"%"]}n.setState({showData:"mouseover"===i?r:"",params:"mouseover"===i?(0,a.Z)({},e,{tooltipContent:l}):{}})}},n.handleOnMoreClick=function(e){var t=n.props,r=t.title,i=t.data,o=t.onChange,c=t.dataType,s=t.chartConfig;if("image"===e&&n.chartRef)(0,x._v)(n.chartRef,r);else if("config"===e){var u=Object.values(c)[0],l=Object.values(s)[0],p=Object.keys(s)[0];n.configDialog.show((0,a.Z)({},l[u],{callback:function(e){var t,n;o&&o(((n={})[p]=(0,a.Z)({},l,((t={})[u]=e,t)),n))}}))}else"data"===e&&(0,h.P)(i)&&(0,x.aT)([i.nodes.reduce((function(e,t){return e.push([t.sceneName,t.name,t.positive,t.neutral,t.negative,t.total]),e}),[["\u573a\u666f","\u573a\u666f\u6807\u7b7e","\u6b63\u9762","\u4e2d\u6027","\u8d1f\u9762","\u603b\u6570\u91cf"]]),i.relations.reduce((function(e,t){return e.push([t.sourceSceneName,t.source.split(":")[1],t.targetSceneName,t.target.split(":")[1],t.positive,t.neutral,t.negative,t.total]),e}),[["\u6e90-\u573a\u666f","\u6e90-\u573a\u666f\u6807\u7b7e","\u76ee\u6807-\u573a\u666f","\u76ee\u6807-\u573a\u666f\u6807\u7b7e","\u6b63\u9762","\u4e2d\u6027","\u8d1f\u9762","\u603b\u6570\u91cf"]])],r,["\u8282\u70b9","\u8fb9"])},n.state={chartType:"circular",showZero:!1,showData:"",params:{}},n}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.internalId=setInterval((function(){if(e.chartRef){clearInterval(e.internalId),e.renderChart();var t=e.chartRef._dom.children,n=t[0],r=t[1];n.addEventListener("mouseleave",(function(t){e.chartLeaveTimeout=setTimeout((function(){e.chartLeaveTimeout&&(r.style.display="none")}),500)})),r.addEventListener("mouseenter",(function(t){e.chartLeaveTimeout=void 0}))}}),200)},n.componentDidUpdate=function(t,n){var r=t.data,a=t.dataType,i=t.chartConfig,o=this.props,c=o.data,s=o.dataType,u=o.chartConfig;if(((0,h.P)(c)&&JSON.stringify(r)!==JSON.stringify(c)||JSON.stringify(a)!==JSON.stringify(s)||JSON.stringify(i)!==JSON.stringify(u)||n.showZero!==this.state.showZero)&&this.renderChart(),!(0,h.P)(c)&&this.chartRef&&(this.chartRef=void 0),(0,h.P)(c)&&n.chartType!==this.state.chartType){var l=Object.values(s)[0],p=Object.values(u)[0];e.prototype.changeChartType.call(this,this.state.chartType,this.props.title,l,p[l])}},n.renderChart=function(){var t=this.props,n=t.data,r=t.title,a=t.dataType,i=t.chartConfig,o=this.state,c=o.chartType,s=o.showZero;if((0,h.P)(n)&&this.chartRef){var u=Object.values(a)[0],l=Object.values(i)[0];e.prototype.renderChart.call(this,n,r,c,u,l[u],s)}},n.render=function(){var e=this,t=this.props,n=t.data,a=t.loading,i=t.title,c=t.titleOverlay,s=t.dataType,l=t.flavorDataType,p=t.onChange,d=this.state,f=(d.chartType,d.showZero,d.showData),y=d.params,x=y.data,I=y.tooltipContent,b=Object.keys(s)[0],T=Object.keys(l)[0];return o.createElement(h.Z,{className:"yt_market_bm_analysis_bar_line_in_one_chart",data:n,loading:a,renderTitle:o.createElement(m.Z,{title:i,titleOverlay:c,data:n,onMoreClick:this.handleOnMoreClick,moreOptions:N,newColor:!0},o.createElement(g.Z,{options:S,activeObj:s[b],flavor:l[T],divider:"right",rightHook:!0,onChange:function(e){var t;return p(((t={})[b]=e,t))},onFlavorChange:function(e){var t;return p(((t={})[T]=e,t))}}),o.createElement(r.default,{placement:"top",content:"\u5bfc\u51fa\u6570\u636e",mouseEnterDelay:.6},o.createElement("i",{className:"icon-daochu",onClick:function(){return e.handleOnMoreClick("data")}})),o.createElement(r.default,{placement:"top",content:"\u5bfc\u51fa\u56fe\u7247",mouseEnterDelay:.6},o.createElement("i",{className:"icon-xiazaitupian",onClick:function(){return e.handleOnMoreClick("image")}})))},o.createElement(v.Z,{onChartReady:this.getChartRef,theme:"yt_multi_color_10",option:{},style:{height:"100%"},onEvents:{mouseover:this._handleOnMouseOverOut,mouseout:this._handleOnMouseOverOut}}),f&&o.createElement("div",{className:"show_data_wrapper"},"node"===f?o.createElement("ul",null,o.createElement("li",null,"\u8282\u70b9\uff1a",x.name),o.createElement("li",null,"\u6807\u7b7e\u6570\u91cf\uff1a",(0,u.hE)(x.data.total)),o.createElement("li",null,"\u6d88\u606f\u597d\u8bc4\u7387\uff1a",(100*x.data.posRate).toFixed(2),"%"),o.createElement("li",null,"\u6d88\u606f\u5dee\u8bc4\u7387\uff1a",(100*x.data.negRate).toFixed(2),"%"),o.createElement("li",null,"\u6b63\u9762\u6d88\u606f\uff1a",(0,u.hE)(x.data.positive)),o.createElement("li",null,"\u8d1f\u9762\u6d88\u606f\uff1a",(0,u.hE)(x.data.negative))):"edge"===f?o.createElement("ul",null,I.map((function(e,t){return o.createElement("li",{key:t},e)}))):null),o.createElement(k,{ref:function(t){return e.configDialog=t}}))},t}(f);_.propTypes={data:b().any,titleOverlay:b().oneOf([b().string,b().node]),title:b().string,loading:b().bool,dataType:b().string,flavorDataType:b().string,onChange:b().func,onClick:b().func,chartConfig:b().shape((C={},C[b().string]={maxRadius:b().number,repulsion:b().number,gravity:b().number},C))};const j=_},43226:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(87219),u=n(40845),l=n(92534),p=n(49722);function d(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.filterModel;return p.h.post("/scene/relation",{projectId:t,dateFilter:n,headerFilterParamsNew:r,filterModel:a})}function f(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.filterModel,i=e.pageType;return p.h.post("/scene/message/count/type/time",{projectId:t,dateFilter:n,headerFilterParamsNew:r,filterModel:a,pageType:i,chartType:"volume_count_type_time"})}var h=n(49447),m=["projectId","pageType"],v=c.Z.explore.scene.overview,y={dateOptions:[],defaultDateType:void 0,trendData:void 0,timeType:"DAY",fTimeType:"",seneData:void 0,seneDateType:"DAY",flavorSeneDateType:"",relData:void 0,relDataType:"total",flavorRelDataType:"",relChartConfig:void 0,projectId:void 0,analysisModel:void 0,headerFilterParamsNew:void 0,filterModel:[],filterValues:[],dateFilter:void 0,pageType:"SCENE_INDEX"};const g={namespace:v,state:JSON.parse(JSON.stringify(y)),effects:{fetchParams:o().mark((function e(t,n){var r,i,c,s,l,p,d,f,m,y,g,x,I,b,T,E,w,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[v]}));case 4:if(l=e.sent,p=l.filterModel,d=l.dateFilter,f=l.pageType,m=l.fTimeType,y=l.flavorRelDataType,g=l.flavorSeneDateType,JSON.stringify(p)!==JSON.stringify(r.filterModel)||JSON.stringify(d)!==JSON.stringify(r.dateFilter)){e.next=13;break}return e.abrupt("return");case 13:return x={fTimeType:m,flavorSeneDateType:g,flavorRelDataType:y,relChartConfig:h.M.reduce((function(e,t){return e[t.value]={maxRadius:50,repulsion:100,gravity:.1},e}),{})},I={timeType:m||r.defaultDateType,seneDateType:g||r.defaultDateType,relDataType:"total"},e.next=17,i(u.o,{projectId:r.projectId,key:f});case 17:if(b=e.sent,2e4===(T=b.data).code&&T.result)try{E=JSON.parse(T.result),Object.keys(E).forEach((function(e){x[e]=E[e]})),w=Object.keys(I),Object.keys(x).forEach((function(e,t){x[e]&&(I[w[t]]=x[e])}))}catch(o){}return["timeType","seneDateType"].forEach((function(e){!r.dateOptions.find((function(t){return t.value===I[e]}))&&(I[e]=r.defaultDateType)})),k=(0,a.Z)({},r,I,x),e.next=24,c({type:"fetchData",payload:k});case 24:case"end":return e.stop()}}),e)})),fetchData:o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchTrendData",payload:r});case 4:return e.next=6,a({type:"fetchSeneData",payload:r});case 6:return e.next=8,a({type:"fetchRelativeData",payload:r});case 8:case"end":return e.stop()}}),e)})),fetchTrendData:o().mark((function e(t,n){var r,i,c,u,p,d,f,h,m,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[v]}));case 4:return p=e.sent,d=p.projectId,f=p.headerFilterParamsNew,h=p.dateFilter,m=p.pageType,y=p.fTimeType,g="error",x="",I=r.dateOptions,b=r.timeType,T=I&&I.find((function(e){return e.value===y})),x=I&&T?y:b,e.prev=15,e.next=18,i(l.lm,{projectId:r.projectId||d,dateFilter:(0,s.ZP)(r.dateFilter||h,(function(e){e.dateGroupType=x})),headerFilterParamsNew:r.headerFilterParamsNew||f,filterModel:[],pageType:m});case 18:E=e.sent,2e4===(w=E.data).code?delete(g=w.result).filterCount:g="empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return e.prev=25,delete r.timeType,e.next=29,c({type:"save",payload:(0,a.Z)({trendData:g},r,{timeType:x})});case 29:return e.finish(25);case 30:case"end":return e.stop()}}),e,null,[[15,23,25,30]])})),fetchSeneData:o().mark((function e(t,n){var r,i,c,u,l,p,d,h,m,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[v]}));case 4:return l=e.sent,p=l.projectId,d=l.headerFilterParamsNew,h=l.dateFilter,m=l.pageType,y=l.flavorSeneDateType,g="error",x="",I=r.dateOptions,b=r.seneDateType,T=I&&I.find((function(e){return e.value===y})),x=I&&T?y:b,e.prev=15,e.next=18,i(f,{projectId:r.projectId||p,dateFilter:(0,s.ZP)(r.dateFilter||h,(function(e){e.dateGroupType=x})),headerFilterParamsNew:r.headerFilterParamsNew||d,filterModel:[],pageType:m});case 18:E=e.sent,w=E.data,g=2e4===w.code&&w.result.length?w.result.reduce((function(e,t){return"\u7528\u6237\u7b80\u753b"===t.name||"buyer.age"===t.name||"buyer.gender"===t.name?e[0]&&"\u7528\u6237\u7b80\u753b"===e[0].name?(e[0].total+=t.total,e[0].data.forEach((function(e){var n=t.data.find((function(t){return t.name===e.name}));n&&(e.count+=n.count)}))):e.splice(0,0,(0,a.Z)({},t,{name:"\u7528\u6237\u7b80\u753b"})):e.push(t),e}),[]):"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return e.prev=25,delete r.seneDateType,e.next=29,c({type:"save",payload:(0,a.Z)({seneData:g},r,{seneDateType:x})});case 29:return e.finish(25);case 30:case"end":return e.stop()}}),e,null,[[15,23,25,30]])})),fetchRelativeData:o().mark((function e(t,n){var r,i,c,s,u,l,p,f,h,m,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[v]}));case 4:return u=e.sent,l=u.projectId,p=u.headerFilterParamsNew,f=u.dateFilter,h="error",e.prev=9,e.next=12,i(d,{projectId:r.projectId||l,headerFilterParamsNew:r.headerFilterParamsNew||p,filterModel:[],dateFilter:r.dateFilter||f});case 12:m=e.sent,y=m.data,h=2e4===y.code&&y.result.relations.length?y.result:"empty",e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,c({type:"save",payload:(0,a.Z)({relData:h},r)});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),setDefaultValue:o().mark((function e(t,n){var i,c,s,l,p,d,f,h,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,l=n.select,e.next=4,l((function(e){return(0,a.Z)({},e)[v]}));case 4:return p=e.sent,d=p.projectId,f=p.pageType,h=(0,r.Z)(p,m),y=["fTimeType","flavorSeneDateType","flavorRelDataType","relChartConfig"].reduce((function(e,t){return e[t]=void 0!==i[t]?i[t]:h[t],e}),{}),e.prev=9,e.next=12,c(u.s,{projectId:i.projectId||d,key:f,value:JSON.stringify(y)});case 12:if(g=e.sent,2e4!==g.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:(0,a.Z)({},i)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(y))}}}},3226:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(87219),u=n(40845),l=n(92534),p=n(49722);n(25365);function d(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.filterModel,i=e.pageType;return p.h.post("/scene/message/count/type",{projectId:t,dateFilter:n,headerFilterParamsNew:r,filterModel:a,pageType:i,chartType:"volume_count_type"})}var f=["projectId","pageType"],h=c.Z.explore.scene.relation,m={dateOptions:[],defaultDateType:void 0,trendData:void 0,timeType:"DAY",fTimeType:"",pieData:void 0,oriPieData:void 0,barData:void 0,oLineData:void 0,oBarData:void 0,analyzeLineData:void 0,analyzeBarData:void 0,alzTimeType:"DAY",alzFTimeType:"",alzOptions:[],alzIdKey:"",alzName:"",projectId:void 0,analysisModel:void 0,filterModel:[],filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:"SCENE_USER"};const v={namespace:h,state:JSON.parse(JSON.stringify(m)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},m)}},effects:{fetchParams:o().mark((function e(t,n){var r,i,c,s,l,p,d,f,m,v,y,g,x,I,b,T,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[h]}));case 4:if(l=e.sent,p=l.filterModel,d=l.dateFilter,f=l.pageType,m=l.fTimeType,v=l.alzFTimeType,JSON.stringify(p)!==JSON.stringify(r.filterModel)||JSON.stringify(d)!==JSON.stringify(r.dateFilter)){e.next=12;break}return e.abrupt("return");case 12:return y={fTimeType:m,alzFTimeType:v},g={timeType:m||r.defaultDateType,alzTimeType:v||r.defaultDateType},e.next=16,i(u.o,{projectId:r.projectId,key:f});case 16:if(x=e.sent,2e4===(I=x.data).code&&I.result)try{b=JSON.parse(I.result),Object.keys(b).forEach((function(e){y[e]=b[e]})),T=Object.keys(g),Object.keys(y).forEach((function(e,t){y[e]&&(g[T[t]]=y[e])}))}catch(o){}return["timeType","alzTimeType"].forEach((function(e){!r.dateOptions.find((function(t){return t.value===g[e]}))&&(g[e]=r.defaultDateType)})),E=(0,a.Z)({},r,g,y),e.next=23,c({type:"fetchDatas",payload:E});case 23:case"end":return e.stop()}}),e)})),fetchDatas:o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchTrendData",payload:r});case 4:return e.next=6,a({type:"fetchBarData",payload:r});case 6:return e.next=8,a({type:"fetchPieData",payload:r});case 8:case"end":return e.stop()}}),e)})),fetchTrendData:o().mark((function e(t,n){var r,i,c,u,p,d,f,m,v,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[h]}));case 4:return p=e.sent,d=p.projectId,f=p.headerFilterParamsNew,m=p.dateFilter,v=p.pageType,y=p.fTimeType,g="",x=r.dateOptions,I=r.timeType,b=x&&x.find((function(e){return e.value===y})),g=x&&b?y:I,T="error",e.prev=15,e.next=18,i(l.lm,{projectId:r.projectId||d,dateFilter:(0,s.ZP)(r.dateFilter||m,(function(e){e.dateGroupType=g})),headerFilterParamsNew:r.headerFilterParamsNew||f,filterModel:[],pageType:v});case 18:E=e.sent,w=E.data,T=2e4===w.code?w.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return e.prev=25,delete r.timeType,e.next=29,c({type:"save",payload:(0,a.Z)({trendData:T},r,{timeType:g})});case 29:return e.finish(25);case 30:case"end":return e.stop()}}),e,null,[[15,23,25,30]])})),fetchBarData:o().mark((function e(t,n){var r,i,c,s,u,l,p,f,m,v,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[h]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,f=u.headerFilterParamsNew,m=u.pageType,u.alzIdKey,v="error",y=[],e.prev=11,g={projectId:r.projectId||l,dateFilter:r.dateFilter||p,filterModel:[],headerFilterParamsNew:r.headerFilterParamsNew||f,pageType:m},e.next=15,i(d,g);case 15:x=e.sent,2e4===(I=x.data).code&&I.result.relation.length>0?(v=I.result.relation,b=I.result,T=b.age,E=b.gender,w=b.relation,y=[].concat(E.map((function(e){return{name:e.name,idKey:"user.gender"}})),T.map((function(e){return{name:e.name,idKey:"user.age"}})),w.map((function(e){return{name:e.name,idKey:"relation"}})))):v="empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:if(e.prev=22,"empty"!==v){e.next=28;break}return e.next=26,c({type:"save",payload:(0,a.Z)({},r,{barData:v,alzOptions:[],alzName:"",analyzeLineData:"empty",analyzeBarData:"empty"})});case 26:e.next=34;break;case 28:return e.next=30,c({type:"save",payload:(0,a.Z)({},r,{barData:v,alzOptions:y,alzName:y[0].name})});case 30:return e.next=32,c({type:"fetchAnalyzeBarData",payload:r});case 32:return e.next=34,c({type:"fetchAnalyzeLineData",payload:r});case 34:return e.finish(22);case 35:case"end":return e.stop()}}),e,null,[[11,20,22,35]])})),fetchPieData:o().mark((function e(t,n){var r,i,c,s,u,l,p,f,m,v,y,g,x,I,b,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[h]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,f=u.headerFilterParamsNew,m=u.pageType,v=u.oriPieData,y=r.findKey,g="error",x=[],e.prev=12,I={projectId:r.projectId||l,dateFilter:r.dateFilter||p,filterModel:[],headerFilterParamsNew:r.headerFilterParamsNew||f,pageType:m},e.next=16,i(d,I);case 16:b=e.sent,2e4===(T=b.data).code&&T.result.age.length>0&&T.result.gender.length>0?(x=y?v:T.result,g="gender"===y?(0,a.Z)({},v,{age:T.result.age}):"age"===y?(0,a.Z)({},v,{gender:T.result.gender}):T.result):g="empty",e.next=23;break;case 21:e.prev=21,e.t0=e.catch(12);case 23:return e.prev=23,e.next=26,c({type:"save",payload:{pieData:g,oriPieData:x}});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[12,21,23,27]])})),fetchAnalyzeLineData:o().mark((function e(t,n){var r,i,c,u,p,d,f,m,v,y,g,x,I,b,T,E,w,k,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return e[h]}));case 4:return p=e.sent,d=p.projectId,f=p.headerFilterParamsNew,m=p.dateFilter,v=p.pageType,y=p.alzFTimeType,g=p.alzName,x="",I=r.dateOptions,b=r.alzTimeType,T=I&&I.find((function(e){return e.value===y})),x=I&&T?y:b,E="error",w=void 0,e.prev=16,e.next=19,i(l.P5,{projectId:r.projectId||d,filterModel:[],pageType:v,headerFilterParamsNew:r.headerFilterParamsNew||f,dateFilter:(0,s.ZP)(r.dateFilter||m,(function(e){e.dateGroupType=x}))});case 19:k=e.sent,2e4===(C=k.data).code&&C.result.length?(w=C.result,void 0===(E=C.result.find((function(e){return e.name===g})))&&(E="empty")):E="empty",e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),e.t0;case 27:return e.prev=27,delete r.alzTimeType,e.next=31,c({type:"save",payload:(0,a.Z)({oLineData:w,analyzeLineData:E},r,{alzTimeType:x})});case 31:return e.finish(27);case 32:case"end":return e.stop()}}),e,null,[[16,24,27,32]])})),fetchAnalyzeBarData:o().mark((function e(t,n){var r,i,c,s,u,p,d,f,m,v,y,g,x,I,b,T,E,w,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[h]}));case 4:return u=e.sent,p=u.projectId,d=u.headerFilterParamsNew,u.filterModel,f=u.dateFilter,m=u.alzName,v=u.alzOptions,u.aspectId,y="error",g=void 0,x=0,e.prev=14,e.next=17,i(l.e1,{projectId:r.projectId||p,filterModel:[],headerFilterParamsNew:r.headerFilterParamsNew||d,dateFilter:r.dateFilter||f});case 17:I=e.sent,2e4===(b=I.data).code&&b.result.nodes.length?(g=b.result,T=v.find((function(e){return e.name===m})).idKey,E=T+":"+m,w=b.result.nodes.find((function(e){return e.key===E})),k=w?w.total:0,void 0===(y=(y=b.result.relations.reduce((function(e,t){var n=void 0;if(t.source===E?n="target":t.target===E&&(n="source"),n){var r=b.result.nodes.find((function(e){return e.key===t[n]})),i=0===k?0:t.total/k,o=0===x?0:r.total/x,c=0===o?0:i/o;r&&e.push((0,a.Z)({},r,{relTotal:t.total,aspectCount:k,messageCount:x,trustRate:i,upRate:c}))}return e}),[])).filter((function(e){return"relation"!==e.scene&&"user.age"!==e.scene&&"user.gender"!==e.scene})))&&(y="empty")):y="empty",e.next=25;break;case 22:e.prev=22,e.t0=e.catch(14),e.t0;case 25:return e.prev=25,e.next=28,c({type:"save",payload:(0,a.Z)({oBarData:g,analyzeBarData:y},r)});case 28:return e.finish(25);case 29:case"end":return e.stop()}}),e,null,[[14,22,25,29]])})),setDefaultValue:o().mark((function e(t,n){var i,c,s,l,p,d,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,l=n.select,e.next=4,l((function(e){return(0,a.Z)({},e)[h]}));case 4:return p=e.sent,d=p.projectId,m=p.pageType,v=(0,r.Z)(p,f),y=["fTimeType","alzFTimeType"].reduce((function(e,t){return e[t]=void 0!==i[t]?i[t]:v[t],e}),{}),e.prev=9,e.next=12,c(u.s,{projectId:i.projectId||d,key:m,value:JSON.stringify(y)});case 12:if(g=e.sent,2e4!==g.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:(0,a.Z)({},i)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))}}},92534:(e,t,n)=>{"use strict";n.d(t,{lm:()=>a,As:()=>i,P5:()=>o,e1:()=>c});var r=n(49722);function a(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,i=e.filterModel,o=e.pageType;return r.h.post("/scene/aspect/count/time",{projectId:t,dateFilter:n,headerFilterParamsNew:a,filterModel:i,pageType:o,chartType:"scene_aspect_count_time"})}function i(e){var t=e.projectId,n=e.dateFilter,a=e.headerFilterParamsNew,i=e.filterModel,o=e.pageType;return r.h.post("/scene/message/count/type/time",{projectId:t,dateFilter:n,headerFilterParamsNew:a,filterModel:i,pageType:o,chartType:"volume_count_type_time"})}function o(e){var t=e.projectId,n=e.headerFilterParamsNew,a=e.filterModel,i=e.dateFilter,o=e.pageType;return r.h.post("/scene/message/count/type/time",{projectId:t,headerFilterParamsNew:n,filterModel:a,dateFilter:i,pageType:o,chartType:"volume_count_type_time"})}function c(e){var t=e.projectId,n=e.headerFilterParamsNew,a=e.filterModel,i=e.dateFilter,o=e.pageType,c=e.configType;return r.h.post("/scene/relation",{projectId:t,headerFilterParamsNew:n,filterModel:a,dateFilter:i,configType:c,pageType:o,chartType:"volume_series_count"})}},16851:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(87219),u=n(92534),l=n(40845),p=["projectId","pageType"],d=c.Z.explore.scene.spokesperson,f={dateOptions:[],defaultDateType:void 0,trendData:void 0,timeType:"DAY",fTimeType:"",oLineData:void 0,oBarData:void 0,analyzeLineData:void 0,analyzeBarData:void 0,alzTimeType:"DAY",alzFTimeType:"",alzOptions:[],alzIdKey:"endorser",alzName:"",barData:void 0,projectId:void 0,analysisModel:void 0,filterModel:[],filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:"SCENE_SPOKESMAN_ANALYSIS"};const h={namespace:d,state:JSON.parse(JSON.stringify(f)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},f)}},effects:{fetchParams:o().mark((function e(t,n){var r,i,c,s,u,p,f,h,m,v,y,g,x,I,b,T,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[d]}));case 4:if(u=e.sent,p=u.filterModel,f=u.dateFilter,h=u.pageType,m=u.fTimeType,v=u.alzFTimeType,JSON.stringify(p)!==JSON.stringify(r.filterModel)||JSON.stringify(f)!==JSON.stringify(r.dateFilter)){e.next=12;break}return e.abrupt("return");case 12:return y={fTimeType:m,alzFTimeType:v},g={timeType:m||r.defaultDateType,alzTimeType:v||r.defaultDateType},e.next=16,i(l.o,{projectId:r.projectId,key:h});case 16:if(x=e.sent,2e4===(I=x.data).code&&I.result)try{b=JSON.parse(I.result),Object.keys(b).forEach((function(e){y[e]=b[e]})),T=Object.keys(g),Object.keys(y).forEach((function(e,t){y[e]&&(g[T[t]]=y[e])}))}catch(o){}return["timeType","alzTimeType"].forEach((function(e){!r.dateOptions.find((function(t){return t.value===g[e]}))&&(g[e]=r.defaultDateType)})),E=(0,a.Z)({},r,g,y),e.next=23,c({type:"fetchDatas",payload:E});case 23:case"end":return e.stop()}}),e)})),fetchDatas:o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchTrendData",payload:r});case 4:return e.next=6,a({type:"fetchBarData",payload:r});case 6:case"end":return e.stop()}}),e)})),fetchTrendData:o().mark((function e(t,n){var r,i,c,l,p,f,h,m,v,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,l=n.select,e.next=4,l((function(e){return(0,a.Z)({},e)[d]}));case 4:return p=e.sent,f=p.projectId,h=p.headerFilterParamsNew,m=p.dateFilter,v=p.pageType,y=p.fTimeType,g="error",x="",I=r.dateOptions,b=r.timeType,T=I&&I.find((function(e){return e.value===y})),x=I&&T?y:b,e.prev=15,e.next=18,i(u.lm,{projectId:r.projectId||f,dateFilter:(0,s.ZP)(r.dateFilter||m,(function(e){e.dateGroupType=x})),headerFilterParamsNew:r.headerFilterParamsNew||h,filterModel:[],pageType:v});case 18:E=e.sent,w=E.data,g=2e4===w.code?w.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return e.prev=25,delete r.timeType,e.next=29,c({type:"save",payload:(0,a.Z)({trendData:g},r,{timeType:x})});case 29:return e.finish(25);case 30:case"end":return e.stop()}}),e,null,[[15,23,25,30]])})),fetchBarData:o().mark((function e(t,n){var r,i,c,s,l,p,f,h,m,v,y,g,x,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[d]}));case 4:return l=e.sent,p=l.projectId,f=l.dateFilter,h=l.headerFilterParamsNew,m=l.pageType,v=l.alzIdKey,y="error",e.prev=11,g={projectId:r.projectId||p,dateFilter:r.dateFilter||f,filterModel:[],headerFilterParamsNew:r.headerFilterParamsNew||h,pageType:m},e.next=15,i(u.As,g);case 15:x=e.sent,I=x.data,y=2e4===I.code&&I.result.length>0?I.result.sort((function(e,t){return t.total-e.total})).map((function(e){return{name:e.name,count:e.total}})):"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:if(e.prev=22,"empty"!==y){e.next=28;break}return e.next=26,c({type:"save",payload:(0,a.Z)({},r,{barData:y,alzOptions:[],alzName:"",analyzeLineData:"empty",analyzeBarData:"empty"})});case 26:e.next=34;break;case 28:return e.next=30,c({type:"save",payload:(0,a.Z)({},r,{barData:y,alzOptions:y.map((function(e){return{name:e.name,idKey:r.alzIdKey||v}})),alzName:y[0].name})});case 30:return e.next=32,c({type:"fetchAnalyzeBarData",payload:r});case 32:return e.next=34,c({type:"fetchAnalyzeLineData",payload:r});case 34:return e.finish(22);case 35:case"end":return e.stop()}}),e,null,[[11,20,22,35]])})),fetchAnalyzeLineData:o().mark((function e(t,n){var r,i,c,l,p,f,h,m,v,y,g,x,I,b,T,E,w,k,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,l=n.select,e.next=4,l((function(e){return e[d]}));case 4:return p=e.sent,f=p.projectId,h=p.headerFilterParamsNew,m=p.dateFilter,v=p.pageType,y=p.alzFTimeType,g=p.alzName,x="error",I=void 0,b="",T=r.dateOptions,E=r.alzTimeType,w=T&&T.find((function(e){return e.value===y})),b=T&&w?y:E,e.prev=16,e.next=19,i(u.P5,{projectId:r.projectId||f,filterModel:[],pageType:v,headerFilterParamsNew:r.headerFilterParamsNew||h,dateFilter:(0,s.ZP)(r.dateFilter||m,(function(e){e.dateGroupType=b}))});case 19:k=e.sent,2e4===(C=k.data).code&&C.result.length?(I=C.result,x=C.result.find((function(e){return e.name===g}))):x="empty",e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),e.t0;case 27:return e.prev=27,delete r.alzTimeType,e.next=31,c({type:"save",payload:(0,a.Z)({oLineData:I,analyzeLineData:x},r,{alzTimeType:b})});case 31:return e.finish(27);case 32:case"end":return e.stop()}}),e,null,[[16,24,27,32]])})),fetchAnalyzeBarData:o().mark((function e(t,n){var r,i,c,s,l,p,f,h,m,v,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[d]}));case 4:return l=e.sent,p=l.projectId,f=l.headerFilterParamsNew,h=l.dateFilter,m=l.alzIdKey,v=l.alzName,l.aspectId,y="error",g=void 0,x=0,e.prev=13,e.next=16,i(u.e1,{projectId:r.projectId||p,filterModel:[],headerFilterParamsNew:r.headerFilterParamsNew||f,dateFilter:r.dateFilter||h});case 16:I=e.sent,2e4===(b=I.data).code&&b.result.nodes.length?(g=b.result,T=m+":"+v,E=b.result.nodes.find((function(e){return e.key===T})),w=E?E.total:0,y=b.result.relations.reduce((function(e,t){var n=void 0;if(t.source===T?n="target":t.target===T&&(n="source"),n){var r=b.result.nodes.find((function(e){return e.key===t[n]})),i=0===w?0:t.total/w,o=0===x?0:r.total/x,c=0===o?0:i/o;r&&e.push((0,a.Z)({},r,{relTotal:t.total,aspectCount:w,messageCount:x,trustRate:i,upRate:c}))}return e}),[])):y="empty",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),e.t0;case 24:return e.prev=24,e.next=27,c({type:"save",payload:(0,a.Z)({oBarData:g,analyzeBarData:y},r)});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[13,21,24,28]])})),setDefaultValue:o().mark((function e(t,n){var i,c,s,u,f,h,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[d]}));case 4:return f=e.sent,h=f.projectId,m=f.pageType,v=(0,r.Z)(f,p),y=["fTimeType"].reduce((function(e,t){return e[t]=void 0!==i[t]?i[t]:v[t],e}),{}),e.prev=9,e.next=12,c(l.s,{projectId:i.projectId||h,key:m,value:JSON.stringify(y)});case 12:if(g=e.sent,2e4!==g.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:(0,a.Z)({},i)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))}}},50537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(87219),u=n(40845),l=n(92534),p=["projectId","pageType"],d=c.Z.explore.scene.usage,f={dateOptions:[],defaultDateType:void 0,trendData:void 0,timeType:"DAY",fTimeType:"",oLineData:void 0,oBarData:void 0,analyzeLineData:void 0,analyzeBarData:void 0,alzTimeType:"DAY",alzFTimeType:"",alzOptions:[],alzIdKey:"",alzName:"",barData:void 0,projectId:void 0,analysisModel:void 0,filterModel:[],filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:void 0};const h={namespace:d,state:JSON.parse(JSON.stringify(f)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},f)}},effects:{fetchParams:o().mark((function e(t,n){var r,i,c,s,l,p,f,h,m,v,y,g,x,I,b,T,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[d]}));case 4:if(l=e.sent,p=l.filterModel,f=l.dateFilter,h=l.pageType,m=l.fTimeType,v=l.alzFTimeType,JSON.stringify(p)!==JSON.stringify(r.filterModel)||JSON.stringify(f)!==JSON.stringify(r.dateFilter)){e.next=12;break}return e.abrupt("return");case 12:return y={fTimeType:m,alzFTimeType:v},g={timeType:m||r.defaultDateType,alzTimeType:v||r.defaultDateType},e.next=16,i(u.o,{projectId:r.projectId,key:h});case 16:if(x=e.sent,2e4===(I=x.data).code&&I.result)try{b=JSON.parse(I.result),Object.keys(b).forEach((function(e){y[e]=b[e]})),T=Object.keys(g),Object.keys(y).forEach((function(e,t){y[e]&&(g[T[t]]=y[e])}))}catch(o){}return["timeType","alzTimeType"].forEach((function(e){!r.dateOptions.find((function(t){return t.value===g[e]}))&&(g[e]=r.defaultDateType)})),E=(0,a.Z)({},r,g,y),e.next=23,c({type:"fetchDatas",payload:E});case 23:case"end":return e.stop()}}),e)})),fetchDatas:o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchTrendData",payload:r});case 4:return e.next=6,a({type:"fetchBarData",payload:r});case 6:case"end":return e.stop()}}),e)})),fetchTrendData:o().mark((function e(t,n){var r,i,c,u,p,f,h,m,v,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[d]}));case 4:return p=e.sent,f=p.projectId,h=p.headerFilterParamsNew,m=p.dateFilter,v=p.pageType,y=p.fTimeType,g="error",x="",I=r.dateOptions,b=r.timeType,T=I&&I.find((function(e){return e.value===y})),x=I&&T?y:b,e.prev=15,e.next=18,i(l.lm,{projectId:r.projectId||f,dateFilter:(0,s.ZP)(r.dateFilter||m,(function(e){e.dateGroupType=x})),headerFilterParamsNew:r.headerFilterParamsNew||h,filterModel:[],pageType:v});case 18:E=e.sent,w=E.data,g=2e4===w.code?w.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return e.prev=25,delete r.timeType,e.next=29,c({type:"save",payload:(0,a.Z)({trendData:g},r,{timeType:x})});case 29:return e.finish(25);case 30:case"end":return e.stop()}}),e,null,[[15,23,25,30]])})),fetchBarData:o().mark((function e(t,n){var r,i,c,s,u,p,f,h,m,v,y,g,x,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[d]}));case 4:return u=e.sent,p=u.projectId,f=u.dateFilter,h=u.headerFilterParamsNew,m=u.pageType,v=u.alzIdKey,y="error",e.prev=11,g={projectId:r.projectId||p,dateFilter:r.dateFilter||f,filterModel:[],headerFilterParamsNew:r.headerFilterParamsNew||h,pageType:m},e.next=15,i(l.As,g);case 15:x=e.sent,I=x.data,y=2e4===I.code&&I.result.length>0?I.result.sort((function(e,t){return t.total-e.total})).map((function(e){return{name:e.name,count:e.total}})):"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:if(e.prev=22,"empty"!==y){e.next=28;break}return e.next=26,c({type:"save",payload:(0,a.Z)({},r,{barData:y,alzOptions:[],alzName:"",analyzeLineData:"empty",analyzeBarData:"empty"})});case 26:e.next=34;break;case 28:return e.next=30,c({type:"save",payload:(0,a.Z)({},r,{barData:y,alzOptions:y.map((function(e){return{name:e.name,idKey:r.alzIdKey||v}})),alzName:y[0].name})});case 30:return e.next=32,c({type:"fetchAnalyzeBarData",payload:r});case 32:return e.next=34,c({type:"fetchAnalyzeLineData",payload:r});case 34:return e.finish(22);case 35:case"end":return e.stop()}}),e,null,[[11,20,22,35]])})),fetchAnalyzeLineData:o().mark((function e(t,n){var r,i,c,u,p,f,h,m,v,y,g,x,I,b,T,E,w,k,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return e[d]}));case 4:return p=e.sent,f=p.projectId,h=p.headerFilterParamsNew,m=p.dateFilter,v=p.pageType,y=p.alzFTimeType,g=p.alzName,x="error",I=void 0,b="",T=r.dateOptions,E=r.alzTimeType,w=T&&T.find((function(e){return e.value===y})),b=T&&w?y:E,e.prev=16,e.next=19,i(l.P5,{projectId:r.projectId||f,filterModel:[],pageType:v,headerFilterParamsNew:r.headerFilterParamsNew||h,dateFilter:(0,s.ZP)(r.dateFilter||m,(function(e){e.dateGroupType=b}))});case 19:k=e.sent,2e4===(C=k.data).code&&C.result.length?(I=C.result,x=C.result.find((function(e){return e.name===g}))):x="empty",e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),e.t0;case 27:return e.prev=27,delete r.alzTimeType,e.next=31,c({type:"save",payload:(0,a.Z)({oLineData:I,analyzeLineData:x},r,{alzTimeType:b})});case 31:return e.finish(27);case 32:case"end":return e.stop()}}),e,null,[[16,24,27,32]])})),fetchAnalyzeBarData:o().mark((function e(t,n){var r,i,c,s,u,p,f,h,m,v,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[d]}));case 4:return u=e.sent,p=u.projectId,f=u.headerFilterParamsNew,h=u.dateFilter,m=u.alzIdKey,v=u.alzName,u.aspectId,y="error",g=void 0,x=0,e.prev=13,e.next=16,i(l.e1,{projectId:r.projectId||p,filterModel:[],headerFilterParamsNew:r.headerFilterParamsNew||f,dateFilter:r.dateFilter||h});case 16:I=e.sent,2e4===(b=I.data).code&&b.result.nodes.length?(g=b.result,T=m+":"+v,E=b.result.nodes.find((function(e){return e.key===T})),w=E?E.total:0,y=b.result.relations.reduce((function(e,t){var n=void 0;if(t.source===T?n="target":t.target===T&&(n="source"),n){var r=b.result.nodes.find((function(e){return e.key===t[n]})),i=0===w?0:t.total/w,o=0===x?0:r.total/x,c=0===o?0:i/o;r&&e.push((0,a.Z)({},r,{relTotal:t.total,aspectCount:w,messageCount:x,trustRate:i,upRate:c}))}return e}),[])):y="empty",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),e.t0;case 24:return e.prev=24,e.next=27,c({type:"save",payload:(0,a.Z)({oBarData:g,analyzeBarData:y},r)});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[13,21,24,28]])})),setDefaultValue:o().mark((function e(t,n){var i,c,s,l,f,h,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,l=n.select,e.next=4,l((function(e){return(0,a.Z)({},e)[d]}));case 4:return f=e.sent,h=f.projectId,m=f.pageType,v=(0,r.Z)(f,p),y=["fTimeType","alzFTimeType"].reduce((function(e,t){return e[t]=void 0!==i[t]?i[t]:v[t],e}),{}),e.prev=9,e.next=12,c(u.s,{projectId:i.projectId||h,key:m,value:JSON.stringify(y)});case 12:if(g=e.sent,2e4!==g.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:(0,a.Z)({},i)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))}}},37342:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(94578),a=n(67294),i=n(71322),o=function(e){function t(){var t;return(t=e.call(this)||this).state={},t}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){},n.render=function(){return a.createElement("div",{className:"container"},a.createElement("div",{className:"nav"},a.createElement(i.Z,null)),a.createElement("div",{className:"bottom-container"},a.createElement("div",{className:"mainContent"},this.props.children)))},t}(a.Component)},33583:(e,t,n)=>{"use strict";n(82932);var r=n(31929),a=(n(27959),n(61193)),i=(String(a.Z.getUser()&&a.Z.getUser().username),String(a.Z.getUser()&&a.Z.getUser().username),a.Z.getAuthority(),n(61409)),o=n(87462),c=n(63366),s=n(67294),u=n(99167),l=["history","routes"];const p=function(e){var t=e.history,n=e.routes,r=(0,c.Z)(e,l);return d(n),s.createElement(i.F0,(0,o.Z)({routes:n,history:t},r))};function d(e){for(var t=e.length-1;t>=0;t--){var n,r=e[t];r.onEnter;if(r.authority){if(r.component){var a=r.component;r.component=h(a)(r.authority)}if(r.indexRoute)if(r.indexRoute.component){var i=r.indexRoute.component;r.indexRoute.component=h(i)(r.authority)}else if(r.indexRoute.getComponents){var o=r.indexRoute.getComponents;r.indexRoute.getComponents=f(o)(r.authority)}if(r.getComponents){var c=r.getComponents;r.getComponents=f(c)(r.authority)}}(null==r||null==(n=r.childRoutes)?void 0:n.length)>0&&d(r.childRoutes)}}var f=function(e){return function(t){return function(n,r){return a.Z.hasAuthority(t)?e(n,r):function(e,t){t(null,u.default)}(0,r)}}},h=function(e){return function(t){return function(n){return a.Z.hasAuthority(t)?s.createElement(e,n):s.createElement(u.default,n)}}};var m=n(49722),v=n(9669),y=n.n(v),g=n(84335),x=(n(9405),n(89552));n(68356);function I(){return s.createElement(x.default,{size:"large",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})}const b=function(e){var t=s.lazy((function(){return e()}));return function(e){return s.createElement(s.Suspense,{fallback:s.createElement(I,null)},s.createElement(t,e))}};var T=b((function(){return Promise.all([n.e(3330),n.e(6198),n.e(1433)]).then(n.bind(n,78496))})),E=b((function(){return Promise.all([n.e(3330),n.e(6198),n.e(2934)]).then(n.bind(n,2402))})),w=b((function(){return Promise.all([n.e(3330),n.e(6198),n.e(2475),n.e(4074)]).then(n.bind(n,54074))})),k=b((function(){return Promise.all([n.e(3330),n.e(6198),n.e(2475),n.e(6904)]).then(n.bind(n,86904))})),C=b((function(){return n.e(5304).then(n.bind(n,35304))})),S=b((function(){return Promise.all([n.e(3330),n.e(6198),n.e(2475),n.e(7040)]).then(n.bind(n,56172))})),N=[{path:"/social",component:b((function(){return Promise.resolve().then(n.bind(n,37342))})),childRoutes:[{path:"tag/brand/detail",name:"brandDetail",getComponents:function(e,t){t(null,(function(){return s.createElement(C,{type:"brandDetail"})}))}},{path:"tag/models/detail",name:"modelsDetail",getComponents:function(e,t){t(null,(function(){return s.createElement(C,{type:"modelsDetail"})}))}}]}],O=[{path:"/social",name:"social",onEnter:function(e,t){"/social"===e.location.pathname&&t("/social/overview")},childRoutes:[{path:"overview",name:"overview",component:T},{path:"models",name:"models",onEnter:function(e,t){"/models"===e.location.pathname&&t("/models/top10")},childRoutes:[{path:"top10",name:"top10",component:E},{path:"comparison",name:"comparison",component:w}]},{path:"tag",name:"tag",onEnter:function(e,t){"/tag"===e.location.pathname&&t("/tag/brand/top")},childRoutes:[{path:"brand",name:"brand",childRoutes:[{path:"top",name:"brandTop",getComponents:function(e,t){t(null,(function(){return s.createElement(k,(0,o.Z)({},e,{key:"brandTop"}))}))}},{path:"trend",name:"brandTrend",getComponents:function(e,t){t(null,(function(){return s.createElement(S,(0,o.Z)({type:"brandTrend",key:"brandTrend"},e))}))}}]},{path:"models",name:"models",childRoutes:[{path:"top",name:"modelsTop",getComponents:function(e,t){t(null,(function(){return s.createElement(k,(0,o.Z)({},e,{key:"modelsTop"}))}))}},{path:"trend",name:"modelsTrend",getComponents:function(e,t){t(null,(function(){return s.createElement(S,(0,o.Z)({type:"modelsTrend",key:"modelsTrend"},e))}))}}]}]}]}],_=n(37342),j=n(94578),A=n(43144),D=n(55609),M=n(35239),R=n(71322),L=n(97326),P=n(43036),F=n(51474),Z=function(e){function t(t){var n;return(n=e.call(this,t)||this).stop=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n.state={searchKeyWords:""},n}(0,j.Z)(t,e);var n=t.prototype;return n.search=function(){this.setState({searchKeyWords:this.searchInput.value})},n.handleChecked=function(e){this.props.onSel(e)},n.render=function(){var e=this,t=this.props,n=t.classNames,r=t.style,a=t.showMenu,i=this.state.searchKeyWords,o=a.filter((function(e){return"dashboard"===e.menuType&&(!i||i&&-1!==e.name.toLocaleLowerCase().indexOf(i.trim().toLocaleLowerCase()))}));return s.createElement("div",{className:(n||"")+" dashboard_search",onClick:function(t){return e.stop(t)},style:r},s.createElement("div",{className:"allSelContent"},s.createElement("div",{className:"search"},s.createElement("p",null,s.createElement("input",{value:i,placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd",ref:function(t){return e.searchInput=t},type:"text",onChange:function(){return e.search()}})),s.createElement("i",{className:i.trim()?"icon-cem_cancel":"icon-cem_search",onClick:i.trim()?function(){return e.setState({searchKeyWords:""})}:function(){}})),i&&o.length>0&&s.createElement("div",{className:"dash_Count"},s.createElement("span",null,"\u4eea\u8868\u76d8"),s.createElement("span",null,o.length)),i&&o.length>0?s.createElement("div",{className:"all"},o.map((function(t){return s.createElement("p",{className:t.sel?"singleSel sel":"singleSel",key:t.id,onClick:function(){return e.handleChecked(t.id)}},s.createElement("span",null,t.name),s.createElement("span",null,t.fatherName))}))):i&&s.createElement("div",{className:"all",style:{padding:"12px 12px 0"}},"\u6ca1\u6709\u627e\u5230\u76f8\u5173\u6570\u636e")))},t}(s.Component);const V=Z;const z=function(e){var t=e.edit,n=e.copy,r=e.del,a=e.className,i=e.children,o=s.useState(0),c=o[0],u=o[1],l=s.useState(0),p=l[0],d=l[1],f=s.useState(!1),h=f[0],m=f[1],v=s.useState(null),y=v[0],g=v[1];return t||n||r?s.createElement("div",{className:"copy "+a+" "+(h?"show":""),ref:function(e){return g(e)},onClick:function(e){return e.stopPropagation()},onMouseEnter:function(){return function(){if(y){var e=y.getBoundingClientRect(),a=e.x,i=e.y,o=e.width,c=e.height,s={w:60,h:16+26*[t,n,r].filter((function(e){return e})).length},l=s.w,p=s.h,f=i+c-6;f+p>window.innerHeight&&(f=i-p+6),u(a+o-l/2-o/2),d(f),m(!0)}}()},onMouseLeave:function(){return m(!1)}},h&&s.createElement("div",{className:"copy_wrap",style:{left:c+"px",top:p+"px"}},t&&s.createElement("p",{onClick:t},"\u7f16\u8f91"),n&&s.createElement("p",{onClick:n},"\u590d\u5236"),r&&s.createElement("p",{onClick:r},"\u5220\u9664")),i):null};var U=n(45697),B=n.n(U),q=n(38263),W=n(5133),H=n(23570),G=20,Y=function(e){var t=e.folderOpts,n=void 0===t?[]:t,r=e.dashName,a=e.setParams,i=e.dashId,o=e.projectId,c=e.folderId,u=e.type,l="\u526f\u672c_"+r,p=s.useState("copy"===u?l.substring(0,G):r&&r.substring(0,G)||""),d=p[0],f=p[1],h=s.useState(c||n[0].value),v=h[0],y=h[1],g=s.useState(!0),x=g[0],I=g[1],b=s.useState(d.length>G?"\u6700\u591a\u8f93\u516520\u4e2a\u5b57":""),T=b[0],E=b[1],w=function(e){if(d===r&&v===c)return e({result:"faild"}),!1;if(!d)return E("\u8f93\u5165\u6846\u4e0d\u80fd\u4e3a\u7a7a"),I(!1),!1;var t="",n={projectId:o,name:d.substring(0,G),dashboardFolderId:v};return"copy"===u?(n.id=i,t="/data-dashboard/copy"):r?(n.id=i,t="/data-dashboard/update"):t="/data-dashboard/add",t&&m.h.post(t,n).then((function(t){var n=t.data;2e4===n.code&&(e({result:"success"}),W.Z.success(n.msg))})).catch((function(e){W.Z.error(e.data.msg)})),!1};s.useEffect((function(){a({dashName:d,folderId:v,dashId:i,confirmRun:w}),!x&&r&&r.length<=G&&I(!0)}),[v,d]);var k="",C=n.find((function(e){return e.value===v}));return C&&(k=C.label),s.createElement("div",{className:"yt_modal_dashboard_content_wrapper"},s.createElement("div",{className:"content_item"},s.createElement("span",{className:"required"},"\u4eea\u8868\u76d8\u540d\u79f0"),s.createElement("span",{className:x?"":"required_error",style:{position:"relative"}},s.createElement(H.Z,{className:"content_item_input",defaultValue:d,placeholder:"\u8bf7\u8f93\u5165\u4eea\u8868\u76d8\u540d\u79f0",onChange:function(e){var t=e.target.value;""===t.trim()?(E("\u8f93\u5165\u6846\u4e0d\u80fd\u4e3a\u7a7a"),I(!1)):t.length>=G?(E("\u6700\u591a\u53ea\u80fd\u8f93\u516520\u4e2a\u5b57\u7b26"),I(!1)):(E(""),I(!0)),f(t)},onBlur:function(e){var t=e.target.value;""===t.trim()?(E("\u8f93\u5165\u6846\u4e0d\u80fd\u4e3a\u7a7a"),I(!1)):t.length===G&&(E(""),I(!0))},maxLength:G}),s.createElement("span",{className:"tip_text"},T))),s.createElement("div",{className:"content_item"},s.createElement("span",null,"\u6240\u5c5e\u6587\u4ef6\u5939"),s.createElement("span",null,s.createElement(q.ZP,{className:"content_item_select",value:k,onChange:function(e){y(e)},inputIcon:s.createElement("i",{className:"icon-cem_arrow-launches",style:{color:"#8C8C8C"}})},n.map((function(e){return s.createElement(q.ZP.Option,{value:e.value,key:e.value},e.label)}))))))};const J=Y;Y.propTypes={folderOpts:B().arrayOf({label:B().string,value:B().string}),dashName:B().string,folderId:B().string,setParams:B().func,dashId:B().string,projectId:B().string};var K=20,Q=function(e){var t=e.options,n=void 0===t?[{label:"\u4e2a\u4eba\u6587\u4ef6\u5939",value:"SELF_FOLDER"},{label:"\u7cfb\u7edf\u6587\u4ef6\u5939",value:"SYSTEM_FOLDER"}]:t,r=e.name,a=e.type,i=e.setParams,o=e.id,c=e.projectId,u=e.personalOnly,l=void 0!==u&&u,p=s.useState(l?"SELF_FOLDER":a||n[0].value),d=p[0],f=p[1],h=s.useState(r||""),v=h[0],y=h[1],g=s.useState(!0),x=g[0],I=g[1],b=s.useState(""),T=b[0],E=b[1],w=function(e){if(v===r&&d===a)return e({result:"faild"}),!1;if(!v)return E("\u8f93\u5165\u6846\u4e0d\u80fd\u4e3a\u7a7a"),I(!1),!1;var t="",n={projectId:c,name:v.substring(0,K),type:d};return r?(n.id=o,t="/dashboard/folder/update"):t="/dashboard/folder/add",t&&m.h.post(t,n).then((function(t){var n=t.data;2e4===n.code&&(e({result:"success"}),W.Z.success(n.msg))})).catch((function(e){W.Z.error(e.data.msg)})),!1};s.useEffect((function(){i({folderType:d,folderName:v,confirmRun:w}),!x&&v&&v.length<=K&&I(!0)}),[v,d]);var k=n.length>0?n.find((function(e){return e.value===d})).label:"";return s.createElement("div",{className:"yt_modal_folder_content_wrapper"},s.createElement("div",{className:"content_item"},s.createElement("span",null,"\u6587\u4ef6\u5939\u7c7b\u578b"),s.createElement("span",null,s.createElement(q.ZP,{disabled:l,className:"content_item_select",value:k,inputIcon:s.createElement("i",{className:"icon-cem_arrow-launches",style:{color:"#8C8C8C"}}),onChange:function(e){f(e)}},n.map((function(e){return s.createElement(q.ZP.Option,{value:e.value,key:e.value},e.label)}))))),s.createElement("div",{className:"content_item"},s.createElement("span",{className:"required"},"\u6587\u4ef6\u5939\u540d\u79f0"),s.createElement("span",{className:x?"":"required_error",style:{position:"relative"}},s.createElement(H.Z,{className:"content_item_input",defaultValue:v,placeholder:"\u8bf7\u8f93\u5165\u6587\u4ef6\u5939\u540d\u79f0",onChange:function(e){var t=e.target.value;""===t.trim()?(E("\u8f93\u5165\u6846\u4e0d\u80fd\u4e3a\u7a7a"),I(!1)):K<=t.length?(E("\u6700\u591a\u53ea\u80fd\u8f93\u516520\u4e2a\u5b57\u7b26"),I(!1)):(E(""),I(!0)),y(t)},onBlur:function(e){var t=e.target.value;""===t.trim()?(E("\u8f93\u5165\u6846\u4e0d\u80fd\u4e3a\u7a7a"),I(!1)):t.length===K&&(E(""),I(!0))},maxLength:K}),s.createElement("span",{className:"tip_text"},T))))};const X=Q;Q.propTypes={options:B().arrayOf({label:B().string,value:B().string}),name:B().string,type:B().string,setParams:B().func,id:B().string,projectId:B().string,personalOnly:B().bool};var $=n(57522),ee={dashboard:"\u4eea\u8868\u76d8",folder:"\u6587\u4ef6\u5939"},te=function(e){var t=e.deleteText,n=e.id,r=e.type,a=e.setParams,i=function(e){var t="";"dashboard"===r?t="/data-dashboard/delete":"folder"===r&&(t="/dashboard/folder/delete"),t&&m.h.post(t,{id:n}).then((function(t){var n=t.data;2e4===n.code?(e({result:"success"}),W.Z.success("\u5220\u9664\u6210\u529f")):(e({result:"failed"}),W.Z.error(n.msg))})).catch((function(t){var n=t.data;e({result:"failed"}),W.Z.error(n.msg)}))};return s.useEffect((function(){a({confirmRun:i})}),[]),s.createElement("div",{className:"yt_modal_dashboard_delete_wrapper"},t)};const ne=te;te.propTypes={deleteText:B().string,setParams:B().func,id:B().string,type:B().oneOf(["dashboard","folder"])};const re={delete:function(e){var t=(0,o.Z)({},e,{dialogType:"danger",titleText:e.titleText||"\u786e\u5b9a\u5220\u9664\u6b64"+ee[e.type]+"\uff1f",showClose:!1,content:e.content||s.createElement(ne,e)});return t.onOk?(0,$.Z)(t):new Promise((function(e,n){t.onOk=e,t.onCancel=n,(0,$.Z)(t)}))},folder:function(e){var t=(0,o.Z)({},e,{titleText:e.titleText||(e.name?"\u7f16\u8f91":"\u65b0\u5efa")+"\u6587\u4ef6\u5939",titleHelp:e.titleHelp||"\u300c\u4e2a\u4eba\u6587\u4ef6\u5939\u300d\u53ca\u6587\u4ef6\u5939\u91cc\u9762\u7684\u4eea\u8868\u76d8\u53ea\u6709\u521b\u5efa\u8005\u81ea\u5df1\u53ef\u89c1\uff1b\u300c\u7cfb\u7edf\u6587\u4ef6\u5939\u300d\u662f\u7531\u7ba1\u7406\u5458\u89d2\u8272\u521b\u5efa\u7684\uff0c\u6574\u4e2a\u9879\u76ee\u5171\u4eab\u7684\u6587\u4ef6\u5939\uff0c\u5373\u975e\u7ba1\u7406\u5458\u4e5f\u53ef\u4ee5\u770b\u89c1\uff0c\u4e14\u975e\u7ba1\u7406\u5458\u6ca1\u6709\u7f16\u8f91\u548c\u5220\u9664\u6743\u9650",content:e.content||s.createElement(X,e)});return t.onOk?(0,$.Z)(t):new Promise((function(e,n){t.onOk=e,t.onCancel=n,(0,$.Z)(t)}))},dashboard:function(e){var t=(0,o.Z)({},e,{titleText:e.titleText||("copy"===e.type?"\u590d\u5236":e.dashName?"\u7f16\u8f91":"\u65b0\u5efa")+"\u4eea\u8868\u76d8",titleHelp:e.titleHelp||"\u300c\u4e2a\u4eba\u6587\u4ef6\u5939\u300d\u53ca\u6587\u4ef6\u5939\u91cc\u9762\u7684\u4eea\u8868\u76d8\u53ea\u6709\u521b\u5efa\u8005\u81ea\u5df1\u53ef\u89c1\uff1b\u300c\u7cfb\u7edf\u6587\u4ef6\u5939\u300d\u662f\u7531\u7ba1\u7406\u5458\u89d2\u8272\u521b\u5efa\u7684\uff0c\u6574\u4e2a\u9879\u76ee\u5171\u4eab\u7684\u6587\u4ef6\u5939\uff0c\u5373\u975e\u7ba1\u7406\u5458\u4e5f\u53ef\u4ee5\u770b\u89c1\uff0c\u4e14\u975e\u7ba1\u7406\u5458\u6ca1\u6709\u7f16\u8f91\u548c\u5220\u9664\u6743\u9650",content:e.content||s.createElement(J,e)});return t.onOk?(0,$.Z)(t):new Promise((function(e,n){t.onOk=e,t.onCancel=n,(0,$.Z)(t)}))}};var ae=n(92360),ie=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handelFolder=function(e){re.folder({name:e?e.name:"",id:e?e.id:"",type:e?e.folderType:"SYSTEM_FOLDER",projectId:M.t.get(M.V.curProject).id,personalOnly:!a.Z.hasAuthority("DASHBOARD_OPERATION"),onOk:function(){return n.freshMenu()},onCancel:function(){}})},n._handelDashboard=function(e,t,r,i){var o=(0,L.Z)(n).showMenu.map((function(e){return{label:e.name,value:e.id,menuType:e.menuType,folderType:e.folderType}})).filter((function(e){return"folder"===e.menuType&&(a.Z.hasAuthority("DASHBOARD_OPERATION")||"SELF_FOLDER"===e.folderType)}));0!==o.length?re.dashboard({dashId:r,dashName:t,onOk:function(){return n.freshMenu()},folderOpts:o,folderId:e.fatherId?o.some((function(t){return t.value===e.fatherId}))?e.fatherId:o[0].value:e.id,projectId:M.t.get(M.V.curProject).id,type:i,onCancel:function(){}}):ae.Message.warning("\u8bf7\u65b0\u5efa\u201c\u4e2a\u4eba\u6587\u4ef6\u5939\u201d\u518d\u8fdb\u884c\u590d\u5236")},n.dashDelete=function(e){var t=(0,L.Z)(n).showMenu;re.delete({id:e.id,type:e.menuType,deleteText:"\u786e\u8ba4\u5220\u9664"+e.name+"?",onCancel:function(){},onOk:function(r){if("success"===r.result){var a=t.filter((function(e){return"dashboard"===e.menuType})),o=a[0].id,c=t[0].id;"dashboard"===e.menuType?e.id===n.props.params.id&&i.mW.push(e.id!==o?a[0].path:a[1].path):t.filter((function(t){return t.fatherId===e.id})).map((function(e){return e.id})).includes(n.props.params.id)&&i.mW.push(e.id!==c?a[0].path:a.filter((function(t){return t.fatherId!==e.id}))[0].path),n.freshMenu()}}})},n.closeDrop=function(){n.setState({searchShow:!1})},n.stop=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n.jumpToNewMenu=function(e){var t=document.querySelector('a[href="/dashboard/'+e+'"]');t&&t.scrollIntoView({behavior:"smooth"}),n.closeDrop(),i.mW.push("/dashboard/"+e)},n.renderMenuSort=function(){var e=a.Z.hasAuthority("DASHBOARD_OPERATION");e&&new F.default(document.querySelector(".sortWrap"),{sort:!0,animation:150,draggable:".fold_sort_wrap_SYSTEM_FOLDER",handel:".disabled",onEnd:function(e){var t=e.oldIndex,r=e.newIndex;if(t!==r){var a=n.sortMenu.filter((function(e){return"SYSTEM_FOLDER"===e.folderType})).map((function(e){return e.id}));a.splice(r,0,a.splice(t,1)[0]),n.sortDashMenu({type:"FOLDER",ids:a})}}}),new F.default(document.querySelector(".sortWrap"),{sort:!0,animation:150,draggable:".fold_sort_wrap_SELF_FOLDER",handel:".disabled",onEnd:function(e){var t=e.oldIndex,r=e.newIndex,a=n.sortMenu.filter((function(e){return"SELF_FOLDER"!==e.folderType})).length;if(t!==r){var i=n.sortMenu.filter((function(e){return"SELF_FOLDER"===e.folderType})).map((function(e){return e.id}));i.splice(r-a,0,i.splice(t-a,1)[0]),n.sortDashMenu({type:"FOLDER",ids:i})}}}),Array.from(document.querySelectorAll(".dashboard_sort_wrap")).filter((function(t){return e||"SELF_FOLDER"===t.getAttribute("data-folderType")})).forEach((function(e){return new F.default(e,{sort:!0,animation:150,onEnd:function(t){var r=t.oldIndex,a=t.newIndex;if(r!==a){var i=n.sortMenu.filter((function(t){return t.id===e.getAttribute("data-folderId")}))[0].children.map((function(e){return{id:e.id,name:e.name}}));i.splice(a,0,i.splice(r,1)[0]),n.sortDashMenu({type:"DASHBOARD",ids:i.map((function(e){return e.id}))})}}})}))},n.freshMenu=function(){n.scrollTop=document.querySelector(".menuItem").scrollTop,n.props.fetchMenuList()},n.sortDashMenu=function(e){n.scrollTop=document.querySelector(".menuItem").scrollTop,n.props.sortDashboardMenu(e)},n.renderMenu=function(e,t){var r=n.props.shrinkMenu,o=a.Z.hasAuthority("DASHBOARD_OPERATION");return s.createElement("div",{className:"secondMenu "+("dark"===e.style?"dark":"disabled"===e.style?"disabled":""),key:"second"+t},s.createElement("div",{className:"wrap"},s.createElement(i.rU,{target:e.target?e.target:"",activeClassName:"is-active",className:"menu-a",to:e.path},s.createElement(P.Z,{overlayClassName:"dashboard_tooltip",overlay:s.createElement("div",{style:{width:"200px"}},"SYSTEM_FOLDER"===e.folderType?"\u6b64\u4e3a\u7cfb\u7edf\u6587\u4ef6\u5939\uff0c\u300c\u7cfb\u7edf\u6587\u4ef6\u5939\u300d\u662f\u7531\u9879\u76ee\u7ba1\u7406\u5458\u521b\u5efa\u7684\u3001\u6574\u4e2a\u9879\u76ee\u5171\u4eab\u7684\u6587\u4ef6\u5939\uff0c\u800c\u975e\u7ba1\u7406\u5458\u53ef\u4ee5\u770b\u89c1\uff0c\u4f46\u975e\u7ba1\u7406\u5458\u6ca1\u6709\u7f16\u8f91\u548c\u5220\u9664\u6743\u9650\u3002":"\u6b64\u4e3a\u4e2a\u4eba\u6587\u4ef6\u5939\u3002\u300c\u4e2a\u4eba\u6587\u4ef6\u5939\u300d\u53ca\u6587\u4ef6\u5939\u91cc\u9762\u7684\u4eea\u8868\u76d8\u53ea\u6709\u521b\u5efa\u8005\u81ea\u5df1\u53ef\u89c1\u3002"),placement:"topLeft",destroyTooltipOnHide:!0,overlayStyle:{display:"folder"!==e.menuType||r?"none":"block"}},s.createElement("i",{className:"icon-cem_"+(r&&!e.icon?"line":e.icon)+" iconfont "+("dark"===e.style?"dark_style":"")})),s.createElement("span",{className:"name",title:e.name,style:{width:"dark"===e.style?"148px":"122px"}},e.name)),!r&&"folder"===e.menuType&&("SELF_FOLDER"===e.folderType||o)&&s.createElement(P.Z,{overlay:"\u65b0\u5efa\u4eea\u8868\u76d8",mouseEnterDelay:.5,placement:"top"},s.createElement("i",{className:"icon-cem_add-to add",onClick:function(){return n._handelDashboard(e)}})),!r&&s.createElement(z,{edit:"SELF_FOLDER"===e.folderType||o?function(){"dashboard"===e.menuType?n._handelDashboard(e,e.name,e.id):n._handelFolder(e)}:void 0,copy:"dashboard"===e.menuType?function(){n._handelDashboard(e,e.name,e.id,"copy")}:void 0,del:"SELF_FOLDER"===e.folderType||o?function(){return n.dashDelete(e)}:void 0,className:"more"},s.createElement("i",{className:"icon-cem_more-two-31 "}))))},n.state={searchShow:!1,projectId:M.t.get(M.V.curProject).id},n}(0,j.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("click",this.closeDrop),document.querySelector(".sortWrap")&&this.renderMenuSort()},n.componentDidUpdate=function(e){this.menuListFething!==e.menuListFething&&!1===e.menuListFething&&(this.renderMenuSort(),document.querySelector(".menuItem").scrollTop=this.scrollTop),this.menuListFething=e.menuListFething},n.render=function(){var e=this,t=this.props,n=t.shrinkMenu,r=t.menuListFething,a=this.state.searchShow,i=this.showMenu,o=this.sortMenu;return s.createElement("div",{className:(n?"shrink":"")+" menuWrap dash_wrap"},s.createElement("div",{className:"files"},s.createElement("span",null,"\u6587\u4ef6\u5939 ",s.createElement("span",null,"\uff08",i.filter((function(e){return"folder"===e.menuType})).length,"\uff09")),!n&&s.createElement("span",{className:"control"},s.createElement(P.Z,{overlay:"\u641c\u7d22\u4eea\u8868\u76d8",placement:"top",mouseEnterDelay:.5},s.createElement("i",{className:"icon-cem_search",onClick:function(t){e.stop(t),e.setState({searchShow:!a})}})),s.createElement(P.Z,{overlay:"\u65b0\u5efa\u6587\u4ef6\u5939",placement:"top",mouseEnterDelay:.5},s.createElement("i",{className:"icon-cem_add-to",onClick:this._handelFolder}))),a&&s.createElement(V,{classNames:"dashboard_serach",onSel:function(t){return e.jumpToNewMenu(t)},showMenu:i})),s.createElement("div",{className:"menuItem",ref:function(t){return e.menu=t},onScroll:function(t){return e.props.scroll(t)}},s.createElement(ae.Loading,{loading:r,style:{height:"200px"}},!r&&s.createElement("div",{className:"sortWrap"},o&&o.map((function(t,n){return s.createElement("div",{key:n,className:"fold_sort_wrap_"+t.folderType},e.renderMenu(t,n),s.createElement("div",{className:"dashboard_sort_wrap","data-folderId":t.id,"data-folderType":t.folderType},t.children.map((function(t,n){return e.renderMenu(t,n)}))))}))))))},(0,A.Z)(t,[{key:"showMenu",get:function(){var e=this.props.secondMenu;return e&&e.child?e.child:[]}},{key:"sortMenu",get:function(){var e=this,t=[];return this.showMenu.filter((function(e){return"folder"===e.menuType})).forEach((function(e){e.children=[],t.push(e)})),t.forEach((function(t){e.showMenu.forEach((function(e){e.fatherId===t.id&&t.children.push(e)}))})),t}}]),t}(s.Component);ie.contextTypes={};const oe=ie;var ce=n(28005),se=function(e){var t=e.deleteText,n=e.ids,r=e.setParams,a=function(e){m.h.post("user/opinion/delete",{ids:n}).then((function(t){var n=t.data;2e4===n.code?(e({result:"success"}),W.Z.success("\u5220\u9664\u6210\u529f")):(e({result:"failed"}),W.Z.error(n.msg))})).catch((function(t){var n=t.data;e({result:"failed"}),W.Z.error(n.msg)}))};return s.useEffect((function(){r({confirmRun:a})}),[]),s.createElement("div",{className:"yt_modal_dashboard_delete_wrapper"},t)};const ue=se;se.propTypes={deleteText:B().string,setParams:B().func,ids:B().string};const le={delete:function(e){var t=(0,o.Z)({},e,{dialogType:"danger",titleText:e.titleText||"\u786e\u5b9a\u5220\u9664\u6b64\u5178\u578b\u610f\u89c1\uff1f",showClose:!1,content:e.content||s.createElement(ue,e)});return t.onOk?(0,$.Z)(t):new Promise((function(e,n){t.onOk=e,t.onCancel=n,(0,$.Z)(t)}))}};var pe=n(64396),de=(n(6373),n(82891)),fe=(n(54214),n(12386)),he=n(94184),me=n.n(he),ve=[{title:"\u9884\u8b66",child:[{name:"\u9884\u8b66\u89c4\u5219",path:"/account/project/warning/overview",authority:"WARNING_MANAGE_RULE"},{name:"\u9000\u8ba2\u8bb0\u5f55",path:"/account/project/warning/unsubscribe",authority:"WARNING_MANAGE_UNSUBSCRIBE"}]},{title:"\u5de5\u5355",child:[{name:"\u770b\u677f\u5361\u7247\u663e\u793a\u914d\u7f6e",path:"/account/project/ticket/board",authority:"SET_FIELD_BOARD_CONFIG_WORK_ORDER"},{name:"\u5de5\u5355\u8be6\u60c5\u663e\u793a\u914d\u7f6e",path:"/account/project/ticket/detail",authority:"SET_FIELD_DETAIL_CONFIG_WORK_ORDER"},{name:"\u5b57\u6bb5\u914d\u7f6e",path:"/account/project/ticket/field",authority:"SET_FIELD_CONFIG_WORK_ORDER"},{name:"\u5de5\u5355\u72b6\u6001\u914d\u7f6e",path:"/account/project/ticket/state",authority:"SET_STATUS_WORK_ORDER"},{name:"\u901a\u77e5\u914d\u7f6e",path:"/account/project/ticket/notice",authority:"SET_NOTIFY_WORK_ORDER"}]}],ye=[{pathRoot:"/research",settingPath:"/research/setting",authority:"QUESTIONNAIRE_BOARD_SETTING"},{pathRoot:"/service",settingPath:"/service/setting",authority:"SERVICE_CLASSIFICATION_SETTING"},{pathRoot:"/product",settingPath:"/account/project/comment/subscribe",authority:"COMMENT_SMART_SUBSCRIPTION"},{pathRoot:"/opinion",settingPath:"/account/project/comment/subscribe",authority:"SUBSCRIBE_URL_SETTING"},{pathRoot:"/aspectWarning",settingPath:"/account/project/comment/subscribe",authority:"SUBSCRIBE_URL_SETTING"},{pathRoot:"/price",settingPath:"/account/project/price/subscribe",authority:"MONITORING_SMART_SUBSCRIPTION"},{pathRoot:"/customerFile",settingPath:"/account/project/customerManage",authority:"CUSTOMER_SELF_DEFINE"},{pathRoot:"/workspace",settingPath:"/account/project/warning/overview",authority:ve}];const ge=function(e){var t=e.shrinkMenu,n=e.location,r=n.pathname,o=(0,s.useState)(""),c=o[0],u=o[1],l=(0,s.useState)(!1),p=l[0],d=l[1],f=(0,s.useState)("link"),h=f[0],m=f[1],v=M.t.get(M.V.curProject)||{},y=v.id,g=void 0===y?"":y,x=v.name,I=void 0===x?"":x;M.t.set(M.V.backProjectConfig,{id:g,name:I}),(0,s.useEffect)((function(){r.startsWith("/workspace")?m("dropdownList"):m("link"),d(!1),ye.forEach((function(e){var t=e.pathRoot,n=e.settingPath,i=e.authority;r.startsWith(t)&&(u(n),i?"string"===typeof i?a.Z.hasAuthority(i)&&d(!0):"object"===typeof i&&i.some((function(e){return e.child.some((function(e){return a.Z.hasAuthority(e.authority)}))}))&&d(!0):d(!0))}))}),[r]);var b=c===r||r.startsWith("/product/config")||r.startsWith("/price/config"),T=!t,E=s.createElement(fe.default,{style:{width:"200px"}},ve.map((function(e,t){return e.child.some((function(e){return a.Z.hasAuthority(e.authority)}))&&s.createElement(fe.default.ItemGroup,{title:e.title,key:t},e.child.map((function(e,t){return a.Z.hasAuthority(e.authority)?s.createElement(fe.default.Item,{key:t,onClick:function(){i.mW.push({pathname:e.path})}},s.createElement("span",null,e.name)):null})))})));return s.createElement(s.Fragment,null,p?s.createElement(s.Fragment,null,"link"===h&&s.createElement(xe,{isActive:b,shrink:T,jumpPage:function(){M.t.set(M.V.leaveRouter,n||"","session"),i.mW.push({state:{titles:[{title:"\u9879\u76ee\u6982\u89c8",url:"/product/overview"}]},pathname:c})}}),"dropdownList"===h&&s.createElement(de.default,{overlay:E,placement:"topCenter"},s.createElement("div",null,s.createElement(xe,{isActive:b,shrink:T})))):null)};var xe=(0,s.forwardRef)((function(e,t){var n,r=e.isActive,a=e.shrink;return s.createElement("span",{className:me()("setting_button",(n={},n["is-active"]=r,n)),style:{transform:a?"scale(1)":"scale(0)"},onClick:function(){null==e.jumpPage||e.jumpPage()},ref:t},s.createElement("i",{className:"icon-cem_collection-settings"}),s.createElement("span",null,"\u914d\u7f6e"))})),Ie=["loading","inbox"],be=pe.Z.public.menu,Te=pe.Z.global,Ee=function(e){function t(t){var n,r;return(r=e.call(this,t)||this).pathname="",r.type=void 0,r.setData=function(e){var t=e.inboxMenu,n=e.selProjectItem;r.setState({inboxMenu:t,selProjectItem:n,seted:!0})},r.getAllWarningCount=function(){var e=r.state.projectId;m.h.post("/warning/log/user/aspect/warning/unread/count").then((function(t){var n=(t||{}).data;if(2e4===(n||{}).code){var a=n.result.find((function(t){return t.projectId===e}));a&&r.props.setAspectWarningCount({count:a.unreadTotal})}}))},r.showCount=function(e){switch(!0){case e<1e3:return e;case e<1e4:return new String(e).replace(/(?=(\B)(\d{3})+$)/g,",");case e<1e6:return(e/1e4|0)+"\u4e07+";case e<1e7:return(e/1e6|0)+"\u767e\u4e07+";case e<1e8:return(e/1e7|0)+"\u5343\u4e07+";default:return(e/1e8|0)+"\u4ebf+"}},r.renderMessageStyle=function(e){void 0===e&&(e=[]);var t=r.state.selProjectItem,n=r.props,a=n.shrinkMenu,o=n.allMessageCount;M.t.set("projectName",t.name);var c=e.filter((function(e){return!e.projectId||e.projectId===t.id})).filter((function(e){return!e.type||e.type===r.type||e.type===r.accountType}));return s.createElement("div",{className:"menuWrap",onScroll:function(e){return r.scroll(e)},style:{maxHeight:"calc(100% - 100px)"}},s.createElement("div",{className:"menuItem"},c.some((function(e){return e.showBack}))&&s.createElement("div",{className:"back_to_last"},s.createElement("div",{onClick:function(){return M.t.get(M.V.leaveRouter,"session")?i.mW.push(M.t.get(M.V.leaveRouter,"session")):console.error("\u672a\u83b7\u53d6\u5230\u83dc\u5355")}},s.createElement("i",{className:"icon-fanhui1"}),s.createElement("span",null,"\u8fd4\u56de\u4e0a\u7ea7"))),c.map((function(e,t){var n,c=e.path&&e.path.startsWith("/opinion/");e.message=0,(Number(e.messageTypeId)===Number(o.id)||"all"===e.messageTypeId&&!o.id)&&(e.message=o.total),r.props.personalMessageCount.forEach((function(t){t.id===e.id&&(e.message=t.total)})),"/aspectWarning"===e.path&&(e.message=r.props.aspectWarningCount);var u=e.path?e.path.split("?"):[],l=u[0],p=u[1],d={pathname:l};p&&(d.search="?"+p),e.state&&(d.state=e.state),!((null==(n=r.props.location.state)?void 0:n.title)||void 0)||"/account/project/comment/subscribe"!==d.pathname&&"/account/project/price/subscribe"!==d.pathname||(d.state={titles:[{title:"\u6240\u6709\u9879\u76ee",url:"/account/project"}]});var f="disabled"===e.style?null:r.setLinkActiveWithRouteChildPath(d,e);return s.createElement("div",{className:"secondMenu "+e.style,key:"second"+t},s.createElement("div",{className:"wrap "+(a?"info_fold":"")},s.createElement(i.rU,{target:e.target?e.target:"",activeClassName:"is-active",className:"menu-a "+(a?"":"unfold")+" "+(null!=f&&f.isMatchChildPath?"is-match-child-path":""),to:f,onClick:function(t){e.setLeaveSession&&M.t.set(M.V.leaveRouter,r.props.location?r.props.location:e.setLeaveSession,"session"),f&&location.pathname===f.pathname&&t.preventDefault()}},s.createElement("i",{className:"icon-cem_"+e.icon+" icon-"+e.icon+" iconfont "+(e.message>0&&!e.messageTypeId?"circle_badge":"")}),s.createElement("span",{className:"name"},e.name),e.message>0&&s.createElement("span",{className:"message "+(e.messageTypeId?"gray":"")+" "+(a?"fold_count":"")},r.showCount(e.message))),c&&!a&&s.createElement(z,{className:"more",del:function(){return r.handleOnCardDelete(e.path)}},s.createElement("i",{className:"icon-cem_more-two-31 "}))))}))))},r.setLinkActiveWithRouteChildPath=function(e,t){var n=r.props.location.pathname,a=(0,o.Z)({},e,{isMatchChildPath:!1});if(e.pathname===n)return a;if(!t.childPath||!Array.isArray(t.childPath)||0===t.childPath.length)return a;var i=t.childPath.find((function(e){return e===n}));return i?(0,o.Z)({},a,{isMatchChildPath:!0}):a},r.renderSettingStyle=function(){var e=r.props.shrinkMenu;return s.createElement("div",{className:"menuWrap back-end",onScroll:function(e){return r.scroll(e)},style:{maxHeight:"calc(100% - 34px)"}},r.state.menu&&r.state.menu.map((function(t,n){var r;return s.createElement("div",{className:"menuItem",key:"item"+n},t.path?s.createElement(i.rU,{to:t.path,className:"menu-a top-menu",activeClassName:"is-active"},s.createElement("span",null,t.name),s.createElement("i",{className:"icon-cem_"+t.icon})):t.child.length>0?s.createElement("a",{className:"menu-a top-menu top-menu-default"},s.createElement("span",null,e?t.name.substring(0,-1!==t.name.indexOf("\uff08")?t.name.indexOf("\uff08"):4):t.name)):null,s.createElement("div",{className:"secondMenu person_center",style:{height:46*t.child.length+"px"}},null==(r=t.child)?void 0:r.map((function(t,n){return s.createElement("div",{className:"wrap person_wrap  "+(e?"is_fold":""),key:"second"+n},s.createElement(i.rU,{activeClassName:"is-active",className:"menu-a",to:t.path},s.createElement("i",{className:"icon-cem_"+t.icon+" icon-"+t.icon+" iconfont"}),s.createElement("span",{className:"name"},t.name)))}))))})))},r.handleOnCardDelete=function(e){var t=e.split("/").filter((function(e){return e})),n=t[0],a=t[1];"opinion"===n&&le.delete({ids:[a],onOk:function(){r.props.fetchMenuList(),window.location.pathname===e&&i.mW.replace("/opinion")},onCancel:function(){}})},r.state={projectId:null==(n=M.t.get(M.V.curProject))?void 0:n.id,model:"front",menu:[],inboxMenu:[],selProjectItem:{},dialogVisible:!1,inputName:!1,logoUrl:""},r}(0,j.Z)(t,e);var r=t.prototype;return r.shrinking=function(){this.props.changeShrink().then((function(e){var t=e.payload.shrinkMenu;M.t.set(M.V.shrink,t);var n=document.createEvent("Event");n.initEvent("resize",!0,!0),window.dispatchEvent(n)}))},r.scroll=function(e){document.querySelectorAll(".secondMenu span.name").forEach((function(t){t.style.setProperty("--y",-e.target.scrollTop-1+"px")}))},r.setMenu=function(){var e=window.location.pathname;-1!==e.indexOf("personalSettings")?this.setState({menu:(0,ce.Zn)(),model:"personSetting"}):-1!==e.indexOf("account/project/")?this.setState({menu:(0,ce.Mp)(),model:"projectSetting"}):-1!==e.indexOf("account")?this.setState({menu:(0,ce.Rh)(),model:"accountSetting"}):-1!==e.indexOf("introduce")||-1!==e.indexOf("customerFile/customerDetail")?this.setState({model:"introduce"}):this.setState({model:"front"})},r.componentDidMount=function(){var e=this;this.getAllWarningCount(),this.setMenu(),this.props.fetchPersonalCount(),this.pathname=window.location.pathname,this.props.router.listen((function(t){e.pathname!==t.pathname&&(e.pathname=t.pathname,e.setMenu())}))},r.render=function(){var e,t,r,a,i,c,u=this,l=this.state,p=l.selProjectItem,d=l.model,f=this.props,h=f.shrinkMenu,m=f.fetchMenuList,v=f.sortDashboardMenu,y=f.menuListFething,g=f.fetchPublicData,x=n(33185),I=null==(e=M.t.get(M.V.project))||null==(t=e.find((function(e){return e.id===M.t.get(M.V.backProjectConfig).id})))?void 0:t.pictureUrl,b="front"===d?p.pictureUrl:I;return b&&(x="http://yunting-1251101074.coscd.myqcloud.com"+b),s.createElement("div",{className:(h?"shrink":"")+" nav"},s.createElement(R.Z,{activeProjectType:this.secondMenu.projectType,onDataChange:this.setData,fetchPublicData:g}),"introduce"!==d?s.createElement("div",{className:"menu-bottom-wrap"},s.createElement("div",{className:me()("shrinkIcon",{shrink_active:h}),onClick:function(){return u.shrinking()}},s.createElement("i",{className:"icon-cem_next-page"})),-1!==["front","projectSetting"].indexOf(d)&&s.createElement("div",{className:"sel-project-name"},s.createElement("div",{className:"project-wrap"},s.createElement("p",{className:"project-avatar"},s.createElement("img",{src:x,alt:""})),s.createElement("p",{className:"project-name",style:{display:h?"none":"block"}},"front"===d?p.name:(null==(r=M.t.get(M.V.backProjectConfig))?void 0:r.name)||""))),-1!==["front","projectSetting"].indexOf(d)&&("dashboard"===(null==(a=this.secondMenu)?void 0:a.special)?s.createElement(oe,(0,o.Z)({},this.props,{secondMenu:this.secondMenu,selProjectItem:p,shrinkMenu:h,fetchMenuList:m,sortDashboardMenu:v,scroll:this.scroll,menuListFething:y})):this.renderMessageStyle("front"===d?null==(i=this.secondMenu)?void 0:i.child:null==(c=this.state.menu[0])?void 0:c.child)),-1!==["personSetting","accountSetting"].indexOf(d)&&this.renderSettingStyle(),s.createElement("div",{className:"shrink-bottom"},s.createElement("div",{className:"bottom_left"},s.createElement(ge,{shrinkMenu:h,location:this.props.location})))):null)},(0,A.Z)(t,[{key:"isNotSetting",get:function(){var e=window.location.pathname;return-1===e.indexOf("personalSettings")&&-1===e.indexOf("account")}},{key:"secondMenu",get:function(){var e=this;if(this.isNotSetting){var t;t=1===window.location.search.indexOf("%")||-1!==window.location.search.indexOf("source=detail")||-1!==window.location.search.indexOf("publicOpinionTopicId")||-1!==window.location.search.indexOf("specialTopicName")||"/research/setting/template"===window.location.pathname||"/research/setting/edit"===window.location.pathname||"/account/project/base"===window.location.pathname||"/account/project/base/sku"===window.location.pathname||-1!==window.location.pathname.indexOf("/explore/free/result")||-1!==window.location.pathname.indexOf("/explore/opinion/screen")||-1!==window.location.pathname.indexOf("/workspace/warning")?"":window.location.search;var n,r=window.location.pathname+t;return this.state.inboxMenu.forEach((function(t){t.child.forEach((function(a,i){a.path===r||a.childPath&&-1!==a.childPath.indexOf(r)?(e.type=a.target?2:a.type,n=t):a.child&&a.child.find((function(e){return e.path===r}))&&(n=t.child[i])}))})),n||{}}return{}}},{key:"accountType",get:function(){var e=window.location.pathname,t="";return this.state.menu.forEach((function(n){n.child.forEach((function(n){(n.path===e||n.childPath&&-1!==n.childPath.indexOf(e))&&(t=n.type)}))})),t}}]),t}(s.Component);const we=(0,D.connect)((function(e){var t=e.loading,n=e.inbox,r=(0,c.Z)(e,Ie);return{allMessageCount:n.allMessageCount,personalMessageCount:r[be].personalMessageCount,shrinkMenu:r[be].shrinkMenu,aspectWarningCount:r[be].aspectWarningCount,menuListFething:t.effects[be+"/fetchMenuList"]}}),(function(e){return{fetchPersonalCount:function(){return e({type:be+"/fetchPersonalCount"})},changeShrink:function(){return e({type:be+"/changeShrink"})},setAspectWarningCount:function(t){return e({type:be+"/setAspectWarningCount",payload:t})},sortDashboardMenu:function(t){return e({type:be+"/sortDashboardMenu",payload:t})},fetchMenuList:function(){return e({type:be+"/fetchMenuList"})},fetchPublicData:function(t){return e({type:Te+"/fetchPublicData",payload:t})}}}))(Ee);var ke='\n  <div>\n    <div>\n      <img src="../../.././images/whiteScreen.png" />\n      <div>\u9875\u9762\u767d\u5c4f\uff1f\u5c1d\u8bd5\u6e05\u7a7a\u7f13\u5b58\u4ee5\u4fee\u590d</div>\n      <div>\u6e05\u7a7a\u7f13\u5b58</div>\n    </div>\n  </div>\n',Ce=pe.Z.public.menu,Se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={warningCount:0},t.setWarningCount=function(e){return t.setState({warningCount:e})},t.tip=function(){return ke},t}(0,j.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){},n.render=function(){var e=window.location.pathname,t=this.props.shrinkMenu?"60px":"256px";return(-1!==e.indexOf("introduce")||["/customerFile/customerDetail"].includes(e))&&(t="0"),s.createElement("div",{className:"menu-container"},s.createElement(we,this.props),s.createElement("div",{className:"right-container",style:{left:t},id:"right-wrap"},s.createElement("div",{className:"mainContent"},this.props.children)))},t}(s.Component);const Ne=(0,D.connect)((function(e){return{shrinkMenu:e[Ce].shrinkMenu}}))(Se);var Oe=n(76463);const _e=function(e){var t=s.useState,n=t[0],r=t[1];return s.useEffect((function(){n&&(n.onerror=function(){n.src=Oe})}),[n]),s.createElement("div",{className:"plain-container"},s.createElement("div",{className:"top"},s.createElement("div",{className:"logo"},s.createElement("a",{href:"/overview"},s.createElement("img",{src:a.Z.getUser()&&a.Z.getUser().accountHead?a.Z.getUser().accountHead:"//yunting-1251101074.coscd.myqcloud.com/account_head/"+window.location.hostname+"/128_45.png",ref:r,className:"log_img",alt:""})))),s.createElement("div",{className:"content"},e.children))};var je=b((function(){return n.e(2250).then(n.bind(n,72250))})),Ae=b((function(){return Promise.all([n.e(3129),n.e(5052),n.e(5862)]).then(n.bind(n,75862))})),De=b((function(){return n.e(6368).then(n.bind(n,1242))})),Me=b((function(){return Promise.all([n.e(6459),n.e(6478)]).then(n.bind(n,86478))})),Re=b((function(){return Promise.all([n.e(6459),n.e(4125),n.e(3862)]).then(n.bind(n,33862))})),Le=b((function(){return n.e(8167).then(n.bind(n,12475))})),Pe=b((function(){return n.e(1554).then(n.bind(n,31554))})),Fe=b((function(){return Promise.resolve().then(n.bind(n,99167))})),Ze=b((function(){return n.e(2538).then(n.bind(n,2538))})),Ve=b((function(){return n.e(7131).then(n.bind(n,17131))})),ze=b((function(){return n.e(2715).then(n.bind(n,92715))})),Ue=b((function(){return Promise.all([n.e(3129),n.e(5052),n.e(6083)]).then(n.bind(n,86083))})),Be=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(434),n.e(5912),n.e(3758)]).then(n.bind(n,29889))})),qe=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(434),n.e(5912),n.e(7421)]).then(n.bind(n,29604))})),We=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(434),n.e(5360),n.e(2827),n.e(5912),n.e(8044),n.e(7127)]).then(n.bind(n,48930))})),He=b((function(){return n.e(5003).then(n.bind(n,5003))})),Ge=b((function(){return n.e(8651).then(n.bind(n,48651))})),Ye=b((function(){return n.e(7182).then(n.bind(n,7182))})),Je=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(5072)]).then(n.bind(n,75072))})),Ke=b((function(){return n.e(1347).then(n.bind(n,81347))})),Qe=b((function(){return Promise.all([n.e(9886),n.e(433),n.e(5585)]).then(n.bind(n,85585))})),Xe=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(4521)]).then(n.bind(n,4521))})),$e=b((function(){return Promise.all([n.e(5968),n.e(2457)]).then(n.bind(n,43775))})),et=b((function(){return Promise.all([n.e(8619),n.e(5968),n.e(1909)]).then(n.bind(n,8469))})),tt=b((function(){return n.e(1218).then(n.bind(n,21218))})),nt=b((function(){return Promise.all([n.e(1881),n.e(8376),n.e(2840),n.e(157),n.e(3921)]).then(n.bind(n,4333))})),rt=b((function(){return n.e(8490).then(n.bind(n,98490))})),at=b((function(){return n.e(7986).then(n.bind(n,87986))})),it=b((function(){return Promise.all([n.e(3987),n.e(7518)]).then(n.bind(n,92017))})),ot=b((function(){return n.e(7018).then(n.bind(n,7018))})),ct=b((function(){return n.e(8327).then(n.bind(n,28327))})),st=b((function(){return n.e(4400).then(n.bind(n,24400))})),ut=b((function(){return n.e(822).then(n.bind(n,55003))})),lt=b((function(){return n.e(6940).then(n.bind(n,16940))})),pt=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(5261),n.e(9351),n.e(6025),n.e(2133),n.e(434),n.e(738),n.e(2648),n.e(875),n.e(3648),n.e(5360),n.e(8981),n.e(8474),n.e(9457),n.e(4124),n.e(9706),n.e(2624),n.e(5912),n.e(675),n.e(5810)]).then(n.bind(n,75623))})),dt=b((function(){return Promise.all([n.e(3129),n.e(5052),n.e(1387)]).then(n.bind(n,21387))})),ft=b((function(){return Promise.all([n.e(6459),n.e(5979)]).then(n.bind(n,5979))})),ht=b((function(){return n.e(5292).then(n.bind(n,5292))})),mt=b((function(){return n.e(2659).then(n.bind(n,42659))})),vt=b((function(){return n.e(3040).then(n.bind(n,13040))})),yt=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(6025),n.e(434),n.e(2228),n.e(8229)]).then(n.bind(n,93800))})),gt=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(434),n.e(5360),n.e(46),n.e(2827),n.e(5912),n.e(8044),n.e(3591)]).then(n.bind(n,58287))})),xt=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(6025),n.e(434),n.e(2228),n.e(6384)]).then(n.bind(n,61498))})),It=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(6025),n.e(738),n.e(5360),n.e(46),n.e(1609),n.e(2272)]).then(n.bind(n,92272))})),bt=b((function(){return n.e(370).then(n.bind(n,60370))})),Tt=b((function(){return n.e(1725).then(n.bind(n,81725))})),Et=b((function(){return n.e(1542).then(n.bind(n,61542))})),wt=b((function(){return Promise.all([n.e(5799),n.e(3661),n.e(9811)]).then(n.bind(n,10723))})),kt=b((function(){return Promise.all([n.e(5799),n.e(3661),n.e(9705)]).then(n.bind(n,78500))})),Ct=b((function(){return n.e(1780).then(n.bind(n,81780))})),St=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(2862)]).then(n.bind(n,52862))})),Nt=(b((function(){return Promise.all([n.e(8929),n.e(3468)]).then(n.bind(n,48850))})),b((function(){return n.e(1450).then(n.bind(n,61450))}))),Ot=b((function(){return Promise.all([n.e(847),n.e(9215)]).then(n.bind(n,79215))})),_t=b((function(){return Promise.all([n.e(8929),n.e(9387)]).then(n.bind(n,87771))})),jt=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(8930),n.e(5876)]).then(n.bind(n,25876))})),At=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(1296)]).then(n.bind(n,1296))})),Dt=b((function(){return Promise.all([n.e(640),n.e(7712),n.e(2648),n.e(67),n.e(6147),n.e(2902),n.e(1414)]).then(n.bind(n,81414))})),Mt=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(1296)]).then(n.bind(n,1296))})),Rt=b((function(){return n.e(6612).then(n.bind(n,56612))})),Lt=b((function(){return n.e(7620).then(n.bind(n,57620))})),Pt=b((function(){return n.e(8432).then(n.bind(n,48432))})),Ft=b((function(){return n.e(99).then(n.bind(n,99))})),Zt=b((function(){return Promise.all([n.e(738),n.e(9981)]).then(n.bind(n,79981))})),Vt=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(7712),n.e(8667),n.e(9308),n.e(9582)]).then(n.bind(n,28690))})),zt=b((function(){return Promise.all([n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(847),n.e(3324),n.e(5261),n.e(7660),n.e(8981),n.e(9058),n.e(9483),n.e(5622),n.e(4124),n.e(9706),n.e(5633)]).then(n.bind(n,15633))})),Ut=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(4818)]).then(n.bind(n,74818))})),Bt=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(1025)]).then(n.bind(n,71025))}));const qt=[{path:"/account",name:"account",onEnter:function(e,t){"/account"===e.location.pathname&&t("/account/overview")},childRoutes:[{path:"overview",name:"accountOverview",authority:"ACCOUNT_OVERVIEW",component:je},{path:"businessManager",name:"businessManager",authority:"COMPANY_MANAGER",component:gt},{path:"businessRole",name:"businessRole",authority:"COMPANY_ROLE_PERMISSION",component:yt},{path:"projectManager",name:"projectManager",authority:"PROJECT_SETTING_DETAIL",component:It},{path:"customSetting",name:"customSetting",component:Ae},{path:"organization",name:"organization",component:pt},{path:"user",name:"user",authority:"ACCOUNT_USER",component:lt,indexRoute:{component:ft},childRoutes:[{path:"userEdit",name:"userEdit",component:dt}]},{path:"team",name:"team",authority:"ACCOUNT_TEAM",indexRoute:{component:ht},childRoutes:[{path:"edit",name:"teamEdit",getComponents:function(e,t){var n=e.location.state;n&&n.id?t(null,(function(){return s.createElement(mt,(0,o.Z)({key:n.id},e))})):t(null,Fe)}}]},{path:"role",name:"role",component:vt},{path:"project",name:"project",authority:"PROJECT_MANAGE",indexRoute:{component:tt},childRoutes:[{path:"preview",name:"projectPreview",authority:"PROJECT_PREVIEW",component:Ue},{path:"usergroup",name:"usergroup",authority:"PROJECT_USER_GROUP",indexRoute:{component:Be},childRoutes:[{path:"memberlist",name:"memberlist",authority:"PROJECT_USER_GROUP",component:qe}]},{path:"member",name:"member",authority:"PROJECT_MEMBER",component:We},{path:"role",name:"role",authority:"PROJECT_ROLE_PERMISSION",component:xt},{path:"linkTopic",name:"linkTopic",authority:"THEME_COMMENT",indexRoute:{component:Tt},childRoutes:[{path:"value",name:"value",component:Et}]},{path:"base",name:"base",authority:"REPOSITORY",indexRoute:{component:wt},childRoutes:[{path:"sku",name:"sku",component:kt}]},{path:"topic",name:"projectTopic",indexRoute:{component:He},childRoutes:[{path:"topicValue",name:"topicValue",component:Ge}]},{path:"uselessWord",name:"uselessWord",authority:"USELESS_WORD_MANAGE",component:Ye},{path:"aspectSystem",name:"aspectSystem",authority:"ASPECT_TREE_SETTING",childRoutes:[{path:"global",name:"aspectGlobal",authority:"GLOBAL_ASPECT_LIST",component:Je},{path:"tree",name:"aspectTree",authority:"ASPECT_TREE",indexRoute:{component:Ke},childRoutes:[{path:"edit",name:"treeEdit",component:Qe}]}]},{path:"alert",name:"alert",indexRoute:{component:$e},childRoutes:[{path:"log",name:"log",component:et},{path:"edit",name:"edit",component:zt},{path:"detail",name:"detail",component:st}]},{path:"webhookList",name:"webhookList",authority:"WEBHOOK_MANAGE",component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(266)]).then(n.bind(n,60266))}))},{path:"warning",name:"warning",authority:"WARNING_MANAGE",onEnter:function(e,t){"/warning"===e.location.pathname&&t("/warning/overview")},childRoutes:[{path:"overview",name:"overview",authority:"WARNING_MANAGE_RULE",component:Vt},{path:"edit",name:"edit",component:zt},{path:"unsubscribe",name:"unsubscribe",authority:"WARNING_MANAGE_UNSUBSCRIBE",component:Ut},{path:"log",name:"log",component:Bt}]},{path:"dataFeedback",name:"dataFeedback",authority:"DATA_FEEDBACK",indexRoute:{component:Xe}},{path:"comment/maintainList",name:"maintainList",component:bt},{path:"comment/batchAdd",name:"batchAdd",component:at},{path:"comment/addLink",name:"addLink",component:it},{path:"comment/linkManagement",name:"linkManagement"},{path:"comment/linkMaintenance",name:"linkMaintenance",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(Dt,(0,o.Z)({key:"comment"},e))}))}}},{path:"price/linkMaintenance",name:"linkMaintenance",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(Dt,(0,o.Z)({key:"comment"},e))}))}}},{path:"connection",name:"projectConnection",indexRoute:{component:nt},childRoutes:[{path:"addLink",name:"addLink",component:it},{path:"upload",name:"upload",component:ot},{path:"quickPick",name:"quickPick",component:ct},{path:"batchAdd",name:"batchAdd",component:at},{path:"edit",name:"projectConnectionEdit",component:rt}]},{path:"comment",name:"comment",component:Ct,onEnter:function(e,t){"/account/project/comment"===e.location.pathname&&t({state:{titles:e.location.state.title},pathname:"/account/project/comment/subscribe"})},childRoutes:[{path:"subscribe/link",name:"subscribeLink",authority:"COMMENT_CONNECTION_MANAGER",component:St},{path:"subscribe",name:"subscribe",authority:"COMMENT_SMART_SUBSCRIPTION",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(jt,(0,o.Z)({key:"comment"},e))}))}},childRoutes:[{path:"edit",name:"rulesEdit",authority:"COMMENT_SMART_SUBSCRIPTION",component:Ot},{path:"linkMaintenance",name:"linkMaintenance",authority:"COMMENT_SMART_SUBSCRIPTION",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(Dt,(0,o.Z)({key:"comment"},e))}))}}}]},{path:"link",name:"link",authority:"COMMENT_CONNECTION_MANAGER",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(At,(0,o.Z)({key:"comment"},e))}))}},childRoutes:[{path:"batchAdd",name:"batchAdd",component:at},{path:"linkMaintenance",name:"linkMaintenance",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(Dt,(0,o.Z)({key:"comment"},e))}))}}},{path:"linkRecycleBin",name:"linkRecycleBin",component:Mt}]}]},{path:"/account/project/comment/subscribe/rules",name:"rules",component:Nt},{path:"/account/project/comment/subscribe/rules/edit",name:"rulesEdit",component:Ot},{path:"/account/project/comment/subscribe/recycling",name:"recycling",component:_t},{path:"price/maintainList",name:"maintainList",component:bt},{path:"price/addLink",name:"addLink",component:it},{path:"price",name:"price",component:Ct,onEnter:function(e,t){"/account/project/price"===e.location.pathname&&t({state:{titles:e.location.state.title},pathname:"/account/project/price/subscribe"})},childRoutes:[{path:"subscribe",name:"subscribe",authority:"MONITORING_SMART_SUBSCRIPTION",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(jt,(0,o.Z)({key:"price"},e))}))}},childRoutes:[{path:"edit",name:"rulesEdit",authority:"MONITORING_SMART_SUBSCRIPTION",component:Ot},{path:"link",name:"subscribeLink",authority:"MONITORING_SMART_SUBSCRIPTION",component:St},{path:"linkMaintenance",name:"linkMaintenance",authority:"MONITORING_SMART_SUBSCRIPTION",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(Dt,(0,o.Z)({key:"comment"},e))}))}}}]},{path:"link",name:"link",authority:"MONITORING_CONNECTION_MANAGER",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(At,(0,o.Z)({key:"comment"},e))}))}},childRoutes:[{path:"batchAdd",name:"batchAdd",component:at},{path:"linkMaintenance",name:"linkMaintenance",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(Dt,(0,o.Z)({key:"comment"},e))}))}}},{path:"linkRecycleBin",name:"linkRecycleBin",component:Mt}]}]},{path:"/account/project/price/subscribe/rules",name:"rules",component:Nt},{path:"/account/project/price/subscribe/rules/edit",name:"rulesEdit",component:Ot},{path:"/account/project/price/subscribe/recycling",name:"recycling",component:_t},{path:"uselessMsg/custom",name:"customUselessMsg",authority:"CUSTOM_USELESS_MESSAGE",component:Ze},{path:"uselessMsg/smart",name:"smartUselessMsg",authority:"SMART_USELESS_MESSAGE",component:Ve},{path:"tag",name:"tag",authority:"TAG",indexRoute:{component:ze}},{path:"messageRule",name:"messagerule",authority:"MESSAGE_RULE",component:ut},{path:"ticket/board",name:"ticketBoard",authority:"SET_FIELD_BOARD_CONFIG_WORK_ORDER",component:Lt},{path:"ticket/detail",name:"smartUselessMsg",authority:"SET_FIELD_DETAIL_CONFIG_WORK_ORDER",component:Pt},{path:"ticket/field",name:"ticketField",authority:"SET_FIELD_CONFIG_WORK_ORDER",component:Rt},{path:"ticket/state",name:"smartUselessMsg",authority:"SET_STATUS_WORK_ORDER",component:Ft},{path:"ticket/notice",name:"customUselessMsg",authority:"SET_NOTIFY_WORK_ORDER",component:Zt},{path:"customerManage",name:"customerManage",authority:"CUSTOMER_SELF_DEFINE",component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(7996)]).then(n.bind(n,27996))}))}]},{path:"outboxSetting",name:"outboxSetting",component:De},{path:"history",name:"history",authority:"SAFETY_HISTORY_LOG",component:Me},{path:"auditLog",name:"auditLog",authority:"SAFETY_AUDIT_LOG",component:Re},{path:"whiteList",name:"whiteList",authority:"SAFETY_IP",component:Le},{path:"loginSetting",name:"loginSetting",authority:"SAFETY_LOGIN_SETTING",component:Pe}]}];b((function(){return Promise.resolve().then(n.bind(n,99167))})),b((function(){return n.e(6883).then(n.bind(n,66883))})),b((function(){return n.e(1652).then(n.bind(n,21652))})),b((function(){return n.e(1455).then(n.bind(n,1455))})),b((function(){return n.e(6880).then(n.bind(n,26880))})),b((function(){return n.e(7500).then(n.bind(n,37500))})),b((function(){return n.e(8292).then(n.bind(n,78292))}));b((function(){return Promise.all([n.e(8458),n.e(3062)]).then(n.bind(n,24091))}));var Wt=b((function(){return Promise.all([n.e(8458),n.e(5958)]).then(n.bind(n,25958))})),Ht=b((function(){return n.e(8224).then(n.bind(n,35405))}));const Gt=[{path:"/service",name:"service",authority:"CONTACT_MANAGE_CONVERSATION",childRoutes:[{path:"setting",name:"setting",authority:"SERVICE_CLASSIFICATION_SETTING",component:b((function(){return n.e(1014).then(n.bind(n,91014))}))},{path:"overview",name:"overview",authority:"CUSTOMER_OVERVIEW",component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(5261),n.e(4124),n.e(9706),n.e(500)]).then(n.bind(n,30500))}))},{path:"spu",name:"spu",authority:"SERVICE_SCENE_SINGLE",component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(5261),n.e(4124),n.e(9706),n.e(6893),n.e(7566),n.e(9280)]).then(n.bind(n,77361))}))},{path:"match",name:"match",authority:"SERVICE_SCENE_CONTRAST",component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(5261),n.e(4124),n.e(9706),n.e(6893),n.e(7734)]).then(n.bind(n,41377))}))},{path:"commodityAnalyze",name:"commodityAnalyze",indexRoute:{component:Wt},childRoutes:[{path:"detail",name:"detail",component:Ht}]},{path:"concernAnalyze",name:"concernAnalyze",authority:"CUSTOMER_ANALYZE_ASPECT",indexRoute:{component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(5261),n.e(4124),n.e(9706),n.e(6893),n.e(7566),n.e(5806)]).then(n.bind(n,89165))}))}},{path:"gombitAnalyze",name:"gombitAnalyze",authority:"SERVICE_TOPIC",indexRoute:{component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(5261),n.e(4124),n.e(9706),n.e(6893),n.e(7566),n.e(7198)]).then(n.bind(n,36724))}))}}]}];const Yt=[{path:"appComment",name:"appComment",authority:"CONTACT_MANAGE_APP_COMMENT",childRoutes:[{path:"commentOverview",name:"commentOverview",authority:"APP_COMMENT_PRODUCT_OVERVIEW",component:b((function(){return Promise.all([n.e(5896),n.e(5261),n.e(9221),n.e(4124),n.e(9706),n.e(1855),n.e(9481)]).then(n.bind(n,35235))}))}]}];const Jt=[{path:"workOrder",name:"workOrder",authority:"CONTACT_MANAGE_ZENDESK",childRoutes:[{path:"dataOverview",name:"dataOverview",authority:"ZENDESK_WORK_ORDER_PRODUCT_OVERVIEW",component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(5261),n.e(4124),n.e(9706),n.e(1855),n.e(2589)]).then(n.bind(n,31857))}))}]}];var Kt=b((function(){return Promise.all([n.e(9886),n.e(9968),n.e(8971)]).then(n.bind(n,88971))})),Qt=b((function(){return Promise.all([n.e(4918),n.e(3544)]).then(n.bind(n,83544))})),Xt=b((function(){return Promise.all([n.e(7660),n.e(6735)]).then(n.bind(n,46735))})),$t=b((function(){return Promise.resolve().then(n.bind(n,99167))}));const en=[{path:"dashboard",name:"dashboard",authority:"DATA_DASHBOARD",childRoutes:[{path:":id",name:"dashboardView",indexRoute:{getComponents:function(e,t){e.params.id?t(null,(function(){return s.createElement(Kt,(0,o.Z)({key:e.location.query.id},e))})):t(null,$t)}},childRoutes:[{path:"list",name:"DashboardTemplateList",component:Qt},{path:"edit",name:"DashboardTemplateEdit",component:Xt}]}]}];var tn=b((function(){return Promise.all([n.e(738),n.e(9729)]).then(n.bind(n,79729))})),nn=b((function(){return Promise.all([n.e(5261),n.e(7660),n.e(9483),n.e(4124),n.e(9706),n.e(1204)]).then(n.bind(n,31204))})),rn=b((function(){return Promise.all([n.e(640),n.e(738),n.e(7712),n.e(67),n.e(9063)]).then(n.bind(n,99063))})),an=b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(9731),n.e(1560)]).then(n.bind(n,91455))})),on=b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(9731),n.e(2707),n.e(4424)]).then(n.bind(n,31353))})),cn=b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(9731),n.e(2707),n.e(8938)]).then(n.bind(n,32610))})),sn=b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(9731),n.e(320)]).then(n.bind(n,2320))})),un=b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(9731),n.e(2707),n.e(4088)]).then(n.bind(n,70858))})),ln=b((function(){return Promise.all([n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(847),n.e(3324),n.e(5261),n.e(8981),n.e(9058),n.e(1199),n.e(4124),n.e(9706),n.e(4757)]).then(n.bind(n,34757))}));const pn=[{path:"/explore",name:"explore",authority:"DATA_EXPLORING",onEnter:function(e,t){"/explore"===e.location.pathname&&t("/explore/free")},childRoutes:[{path:"free",name:"free",authority:"FREE_EXPLORING",indexRoute:{component:tn},childRoutes:[{path:"result",name:"result",component:nn}]},{path:"scene",name:"scene",authority:"SCENE_MINING",onEnter:function(e,t){"/scene"===e.location.pathname&&t("/scene/overview")},childRoutes:[{path:"overview",name:"sceneOverview",component:an},{path:"user",name:"SceneUser",component:on},{path:"myAdvice",name:"sceneMyAdvice",component:sn},{path:"spokesmanAnalysis",name:"sceneSpokesmanAnalysis",component:un},{path:"competingAnalysis",name:"sceneCompetingAnalysis",component:b((function(){return Promise.all([n.e(5261),n.e(7712),n.e(593),n.e(4124),n.e(9706),n.e(5930)]).then(n.bind(n,15930))}))},{path:":id",name:"sceneUsage",getComponents:function(e,t){var n=e.location,r=n.pathname.substring(n.pathname.lastIndexOf("/")+1);switch(r){case"use":r="SCENE_USE";break;case"useScene":r="SCENE_USE_SCENE";break;case"buyDecision":r="SCENE_BUY_DECISION"}t(null,(function(){return s.createElement(cn,(0,o.Z)({key:r,type:r},e))}))}}]},{path:"/opinion/:id",name:"opinion",authority:"OPINION",getComponents:function(e,t){t(null,(function(){return s.createElement(rn,e)}))}},{path:"opinion",name:"opinion",authority:"OPINION",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(rn,e)}))}},childRoutes:[{path:"screen",name:"screen",authority:"OPINION",component:ln}]}]}];var dn=b((function(){return Promise.all([n.e(9835),n.e(3032),n.e(5261),n.e(9351),n.e(6025),n.e(2133),n.e(2648),n.e(3648),n.e(4124),n.e(9706),n.e(2624),n.e(675)]).then(n.bind(n,90675))}));const fn=[{path:"/inbox",name:"public",onEnter:function(e,t){"/inbox"===e.location.pathname&&t("/inbox/public")},childRoutes:[{path:"public",name:"publicInbox",authority:"MESSAGE",component:dn},{path:"commont",name:"commont",authority:"MESSAGE_COMMENT",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"COMMENT"})}))}},{path:"questions",name:"questions",authority:"MESSAGE_QUE_ANS",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"QUE_ANS"})}))}},{path:"bbs",name:"bbs",authority:"MESSAGE_BBS",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"BBS"})}))}},{path:"social",name:"social",authority:"MESSAGE_SOCIAL",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"SOCIAL"})}))}},{path:"self",name:"self",authority:"MESSAGE_SELF",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"SELF"})}))}},{path:"news",name:"news",authority:"MESSAGE_NEWS",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"NEWS"})}))}},{path:"complaint",name:"complaint",authority:"MESSAGE_COMPLAINT",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"COMPLAINT"})}))}},{path:"video",name:"video",authority:"MESSAGE_VIDEO",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"VIDEO"})}))}},{path:"questionnaire",name:"questionnaire",authority:"MESSAGE_QUESTIONAIRE",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"QUESTIONAIRE"})}))}},{path:"question",name:"question",authority:"MESSAGE_QUESTION",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"QUESTION"})}))}},{path:"service",name:"service",authority:"MESSAGE_SERVICE",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"SERVICE"})}))}},{path:"app",name:"app",authority:"MESSAGE_APP",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"APP_COMMENT"})}))}},{path:"ticket",name:"ticket",authority:"MESSAGE_TICKET",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,{messageType:"TICKET"})}))}},{path:"folder",name:"folderInbox",getComponents:function(e,t){t(null,(function(){return s.createElement(dn,(0,o.Z)({model:"FOLDER",folderId:e.location.query.id},e))}))}}]}];const hn=[{path:"/personalSettings",name:"personalSettings",onEnter:function(e,t){"/personalSettings"===e.location.pathname&&t("/personalSettings/overview")},childRoutes:[{path:"overview",name:"personalSettingsOverview",component:b((function(){return Promise.all([n.e(3129),n.e(9361),n.e(5052),n.e(9520)]).then(n.bind(n,59520))}))},{path:"password",name:"password",component:b((function(){return n.e(1086).then(n.bind(n,61086))}))},{path:"authorization",name:"authorization",component:b((function(){return n.e(1543).then(n.bind(n,61543))}))},{path:"smartFolder",name:"smartFolder",indexRoute:{component:b((function(){return Promise.all([n.e(6459),n.e(173)]).then(n.bind(n,60173))}))}},{path:"messageRemind",name:"messageRemind",component:b((function(){return n.e(949).then(n.bind(n,70949))}))},{path:"download",name:"download",component:b((function(){return n.e(1993).then(n.bind(n,11993))}))},{path:"privateMessageRule",name:"privateMessageRule",component:b((function(){return n.e(6297).then(n.bind(n,46297))}))}]}];var mn=b((function(){return n.e(8048).then(n.bind(n,68048))})),vn=b((function(){return n.e(136).then(n.bind(n,70136))})),yn=b((function(){return n.e(3004).then(n.bind(n,93004))})),gn=b((function(){return n.e(8086).then(n.bind(n,68086))})),xn=b((function(){return Promise.all([n.e(3330),n.e(5654)]).then(n.bind(n,12008))})),In=b((function(){return n.e(1093).then(n.bind(n,81093))})),bn=b((function(){return n.e(9338).then(n.bind(n,19338))})),Tn=b((function(){return Promise.all([n.e(1285),n.e(6148)]).then(n.bind(n,46148))})),En=b((function(){return Promise.all([n.e(7317),n.e(8481)]).then(n.bind(n,8481))})),wn=b((function(){return n.e(6219).then(n.bind(n,16219))})),kn=b((function(){return n.e(9710).then(n.bind(n,99710))})),Cn=b((function(){return n.e(9350).then(n.bind(n,69350))})),Sn=b((function(){return n.e(9158).then(n.bind(n,39158))})),Nn=b((function(){return Promise.all([n.e(1881),n.e(2840),n.e(9618),n.e(9973)]).then(n.bind(n,99973))})),On=b((function(){return Promise.all([n.e(4908),n.e(8011)]).then(n.bind(n,98011))}));const _n=[{path:"/price",name:"price",authority:"PRICE_MONITORING",childRoutes:[{path:"overview",name:"price/overview",authority:"PRICE_ANALYZE_OVERVIEW",component:mn},{path:"branding",name:"price/branding",authority:"PRICE_ANALYZE_BRAND",component:vn},{path:"product",name:"price/product",authority:"PRICE_ANALYZE_PRODUCT",getComponents:function(e,t){t(null,(function(){return s.createElement(yn,{pageType:"MODEL"})}))}},{path:"shop",name:"price/shop",authority:"PRICE_ANALYZE_STORE",getComponents:function(e,t){t(null,(function(){return s.createElement(yn,{pageType:"SHOP"})}))}},{path:"spu",name:"price/spu",getComponents:function(e,t){t(null,(function(){return s.createElement(yn,{pageType:"SPU"})}))}},{path:"realTimePrice",name:"realTimePrice",authority:"REALTIME_PRICE",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(On,(0,o.Z)({type:"ALL"},e))}))}},childRoutes:[{path:"priceDetail",name:"priceDetail",component:b((function(){return n.e(9914).then(n.bind(n,49914))}))}]},{path:"star",name:"priceDetailStar",getComponents:function(e,t){t(null,(function(){return s.createElement(On,(0,o.Z)({type:"STAR"},e))}))}}]},{path:"/priceHistory",name:"priceHistory",authority:"LOWEST_PRICE",component:wn},{path:"/priceWarning",name:"priceWarning",authority:"COMPETITOR_COMPARE_PRICE",indexRoute:{component:kn},childRoutes:[{path:"add",name:"addWarning",component:Cn},{path:"weChatPush",name:"weChatPush",component:Sn}]},{path:"/priceCompare",name:"priceCompare",authority:"PRICE_COMPARE",component:Nn},{path:"/priceChaos",name:"priceChaos",authority:"BREAK_BACK_PRICE",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(gn,(0,o.Z)({key:e.location.query.id},e))}))}},childRoutes:[{path:"pushLog",name:"PricePushLog",component:In},{path:"editRule",name:"PriceEditRule",component:xn},{path:"ruleList",name:"PriceRuleList",component:bn},{path:"screenshot",name:"PriceScreenshot",component:Tn}]},{path:"/priceMonitorChart",name:"priceMonitorChart",authority:"PRICE_CHART",component:En}];var jn=b((function(){return Promise.all([n.e(1881),n.e(3987),n.e(3303),n.e(2840),n.e(9618),n.e(157),n.e(2614)]).then(n.bind(n,72982))})),An=b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(102)]).then(n.bind(n,70102))})),Dn=b((function(){return Promise.all([n.e(5799),n.e(1122),n.e(1966),n.e(3330),n.e(6198),n.e(7083)]).then(n.bind(n,65406))}));b((function(){return Promise.all([n.e(9835),n.e(6025),n.e(1881),n.e(2840),n.e(9618),n.e(5095),n.e(9003)]).then(n.bind(n,17958))}));const Mn=[{path:"/product",name:"product",onEnter:function(e,t){"/product"===e.location.pathname&&t("/product/commentOverview")},childRoutes:[{path:"overview",name:"productOverview",authority:"ANALYZE_OVERVIEW",getComponents:function(e,t){t(null,(function(){return s.createElement(jn,(0,o.Z)({key:"overview",type:"overview"},e))}))}},{path:"analyze",name:"productAnalyze",authority:"ANALYZE_PRODUCT",getComponents:function(e,t){t(null,(function(){return s.createElement(jn,(0,o.Z)({key:"product",type:"product"},e))}))}},{path:"service",name:"productService",authority:"ANALYZE_SERVER",getComponents:function(e,t){t(null,(function(){return s.createElement(jn,(0,o.Z)({key:"service",type:"service"},e))}))}},{path:"marketing",name:"productMarketing",authority:"ANALYZE_MARKETING",getComponents:function(e,t){t(null,(function(){return s.createElement(jn,(0,o.Z)({key:"marketing",type:"marketing"},e))}))}},{path:"aspectTrend",name:"productAspectTrend",authority:"ASPECT_TREND",component:b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(9164)]).then(n.bind(n,59164))}))},{path:"selfAnalysis",name:"selfAnalysis",authority:"ANALYSIS_INDEPENDENT",component:Dn},{path:"compare",name:"compareProduct",authority:"CONTACT_COMPARE_ANALYZE",component:An},{path:"commentOverview",name:"commentOverview",component:b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(4857)]).then(n.bind(n,34857))}))}]}];var Rn,Ln=b((function(){return n.e(385).then(n.bind(n,20385))})),Pn=b((function(){return Promise.all([n.e(7660),n.e(9912)]).then(n.bind(n,39912))})),Fn=((Rn={}).QUE_ANS="CONNECTION_QUE_ANS",Rn.BBS="CONNECTION_BBS",Rn.SOCIAL="CONNECTION_SOCIAL",Rn.SELF="CONNECTION_SELF",Rn.NEWS="CONNECTION_NEWS",Rn.COMPLAINT="CONNECTION_COMPLAINT",Rn.VIDEO="CONNECTION_VIDEO",Rn);const Zn=[{path:"/account/project/",name:"public",authority:"PROJECT_MANAGE",childRoutes:[].concat(["QUE_ANS","BBS","SOCIAL","SELF","NEWS","COMPLAINT","VIDEO"].map((function(e){return{path:e.toLowerCase(),name:"publicInbox",indexRoute:{getComponents:function(t,n){n(null,(function(){return s.createElement(Ln,(0,o.Z)({type:e},t))}))}},childRoutes:[{path:"edit",name:"edit",component:Pn}]}})).map((function(e){return(0,o.Z)({},e,{authority:Fn[e.path.toUpperCase()]})})))}];var Vn=b((function(){return Promise.all([n.e(8619),n.e(6357)]).then(n.bind(n,16357))})),zn=(b((function(){return Promise.all([n.e(5261),n.e(875),n.e(9361),n.e(5799),n.e(1122),n.e(1692),n.e(928),n.e(2751),n.e(4444)]).then(n.bind(n,74444))})),b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(9306),n.e(3330),n.e(6198),n.e(8245),n.e(4162),n.e(1855),n.e(228),n.e(9087)]).then(n.bind(n,80442))}))),Un=b((function(){return Promise.all([n.e(3330),n.e(6198),n.e(8245),n.e(4162),n.e(228),n.e(1940)]).then(n.bind(n,86666))})),Bn=b((function(){return Promise.all([n.e(3330),n.e(6198),n.e(8245),n.e(4162),n.e(6118)]).then(n.bind(n,86118))})),qn=b((function(){return n.e(4544).then(n.bind(n,4544))})),Wn=b((function(){return n.e(1322).then(n.bind(n,91322))})),Hn=b((function(){return n.e(1427).then(n.bind(n,11427))})),Gn=b((function(){return Promise.all([n.e(875),n.e(4387)]).then(n.bind(n,74387))}));const Yn=[{path:"/research",name:"research",childRoutes:[{path:"overview",name:"overview",component:b((function(){return Promise.all([n.e(8245),n.e(994)]).then(n.bind(n,40994))}))},{path:"contact",name:"contact",component:Gn},{path:"manage",name:"manage",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(Vn,e)}))}},childRoutes:[{path:"analysis",name:"analysis",component:zn}]},{path:"board",name:"board",childRoutes:[{path:"nps/:id",name:"nps",getComponents:function(e,t){var n=e.params;t(null,(function(){return s.createElement(Un,{key:n.id})}))}},{path:"satisfaction/:id",name:"satisfaction",getComponents:function(e,t){var n=e.params;t(null,(function(){return s.createElement(Bn,{key:n.id})}))}}]},{path:"setting",name:"setting",indexRoute:{getComponents:function(e,t){t(null,(function(){return s.createElement(qn,e)}))}},childRoutes:[{path:"edit",name:"settingEdit",component:Wn},{path:"template",name:"templateEdit",component:Hn}]}]}];const Jn=[{path:"productAnalysis",name:"productAnalysis",authority:"ANALYZE",onEnter:function(e,t){"/productAnalysis"===e.location.pathname&&t("/productAnalysis/aspectAnalysis")},childRoutes:[{path:"aspectAnalysis",name:"aspectAnalysis",authority:"PRODUCT_CUSTOMER",component:b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(8149),n.e(8742)]).then(n.bind(n,18529))}))},{path:"compareProduct",name:"compareProduct",authority:"PRODUCT_COMPARE",component:b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(4702)]).then(n.bind(n,94702))}))}]}];const Kn=[{path:"serviceAnalysis",name:"serviceAnalysis",authority:"WAITER_SESSION",onEnter:function(e,t){"/serviceAnalysis"===e.location.pathname&&t("/serviceAnalysis/aspectAnalysis")},childRoutes:[{path:"aspectAnalysis",name:"aspectAnalysis",authority:"SERVICE_ASPECT_ANALYSIS",component:b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(8149),n.e(7880)]).then(n.bind(n,19432))}))},{path:"compareProduct",name:"compareProduct",authority:"SERVICE_COMPARE_ANALYSIS",component:b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(622)]).then(n.bind(n,40622))}))}]}];const Qn=[{path:"marketAnalysis",name:"marketAnalysis",authority:"MARKET_INSIGHT",onEnter:function(e,t){"/marketAnalysis"===e.location.pathname&&t("/marketAnalysis/aspectAnalysis")},childRoutes:[{path:"aspectAnalysis",name:"aspectAnalysis",authority:"MARKET_INSIGHT_ASPECT_ANALYSIS",component:b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(8149),n.e(2627)]).then(n.bind(n,26137))}))},{path:"compareProduct",name:"compareProduct",authority:"MARKET_INSIGHT_PRODUCT_COMPARE",component:b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(7284)]).then(n.bind(n,7284))}))}]}];const Xn=[{path:"comment",name:"comment",onEnter:function(e,t){"/comment"===e.location.pathname&&t("/comment/overview")},childRoutes:[{path:"overview",name:"overview",component:b((function(){return Promise.all([n.e(5261),n.e(4124),n.e(9706),n.e(9541)]).then(n.bind(n,69541))}))}]}];const $n=[{path:"customerJourney",name:"customerJourney",authority:"CUSTOMER_JOURNEY",childRoutes:[{path:"introduce",name:"introduce",component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(5261),n.e(3129),n.e(3648),n.e(3802),n.e(9306),n.e(4259),n.e(928),n.e(7145),n.e(4124),n.e(681)]).then(n.bind(n,53525))}))},{path:"manage",name:"manage",authority:"CUSTOMER_JOURNEY_MANAGE",component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(5745)]).then(n.bind(n,95745))}))}]}];const er=[{path:"customerFile",name:"customerFile",authority:"CUSTOMER_FILE",childRoutes:[{path:"customersList",name:"customersList",authority:"CUSTOMER_MANAGER",component:b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(875),n.e(8474),n.e(4908),n.e(37)]).then(n.bind(n,90037))}))},{path:"customerDetail",name:"CustomerDetail",authority:"CUSTOMER_MANAGER_DETAIL",component:b((function(){return Promise.all([n.e(3032),n.e(1522),n.e(5259)]).then(n.bind(n,65259))}))}]}];var tr=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(9351),n.e(2133),n.e(2648),n.e(3802),n.e(1692),n.e(5359),n.e(2624),n.e(9308),n.e(1860)]).then(n.bind(n,62521))})),nr=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(9351),n.e(2133),n.e(2648),n.e(2624),n.e(9308),n.e(5422)]).then(n.bind(n,58856))})),rr=b((function(){return Promise.all([n.e(9351),n.e(2133),n.e(2624),n.e(5461)]).then(n.bind(n,35461))})),ar=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(9351),n.e(2133),n.e(2624),n.e(3829)]).then(n.bind(n,93829))})),ir=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(3032),n.e(9666),n.e(1152),n.e(640),n.e(847),n.e(3324),n.e(6513),n.e(6889),n.e(9351),n.e(2133),n.e(2624),n.e(1831)]).then(n.bind(n,51831))})),or=b((function(){return n.e(7068).then(n.bind(n,7068))})),cr=b((function(){return n.e(8763).then(n.bind(n,28763))}));const sr=[{path:"/workspace",name:"workspace",authority:"WORKSPACE",childRoutes:[{path:"overview",name:"overview",component:tr,authority:"WARNING_WORKBENCH"},{path:"warningStatistics",name:"warningStatistics",component:cr,authority:"WARNING_STATISTICS"},{path:"warning",name:"warning",component:nr,authority:"WARNING_NOTIFY"},{path:"ticket",name:"ticket",component:rr,authority:"BOARD_WORK_ORDER"},{path:"ticket/state",name:"ticketState",component:or},{path:"ticket/recycleBin",name:"ticketRecycleBin",component:ir,authority:"RECYCLE_LIST_WORK_ORDER"},{path:"ticket/list",name:"ticketList",component:ar,authority:"LIST_WORK_ORDER",onEnter:function(e,t){"/warning"===e.location.pathname&&t("/warning/overview")},childRoutes:[{path:"overview",name:"overview",component:nr},{path:"warningStatistics",name:"warningStatistics",component:cr}]},{path:"ticket/statistics",name:"statistics",component:b((function(){return Promise.all([n.e(1522),n.e(8762)]).then(n.bind(n,78762))})),authority:"COUNT_WORK_ORDER"}]}];var ur=n(15861),lr=(n(75314),n(11187)),pr=n(66678),dr=n.n(pr),fr=n(87757),hr=n.n(fr),mr=n(33663),vr=n(71184),yr=n(94644),gr=["loading"],xr=pe.Z.research.questionnaireEdit,Ir=function(e){function t(t){var n,r;(r=e.call(this,t)||this).events=void 0,r._handleUpload=function(e){var t=e.e,n=e.selectedType,a=t.target.files[0];if(a.size/1024>1024)return lr.default.error("\u6587\u4ef6\u4e0d\u80fd\u5927\u4e8e1M"),!1;var i=new FileReader;i.readAsDataURL(a),i.onload=function(e){var t;r.props.uploadPic({projectId:M.t.get(M.V.curProject).id,base64Code:null==(t=e.target)?void 0:t.result,fileName:a.name,type:"header"===n?"LOGO":"TAIL"})}},r._handleOnDeleteClick=function(e){r.props.deletePic({id:e,projectId:M.t.get(M.V.curProject).id})},r.getParamsNeed=function(e,t){var n=["noticeCount","singleNotice","rules","condition","receiverTeamIdList","receiverUserIdList","status"],r=dr()(e);for(var a in r.questionnaireWarningVO)!n.includes(a)&&delete r.questionnaireWarningVO[a];var i=t||r.questionnaireWarningVO;return r.questionnaireWarningVO&&delete r.questionnaireWarningVO,{needParams:r,forNoticeParams:i}},r._handleSaveQS=function(e,t){var n=r.props,a=n.qsId,i=n.qsCopy,c=n.questionslist,s=n.params,u=n.save,l=n.addOrUpdateQuestionnaire,p=n.updateQuestionnaireStatus,d=e.values,f=e.status,h=e.questionnaireTypes,m=e.skinId,v=e.customId,y=e.questionnaireNotifyModel,g=r.getParamsNeed(s,y),x=g.needParams,I=g.forNoticeParams,b={newConfiguration:(0,o.Z)({},x,d,{questions:c}),others:(0,o.Z)({types:h},d?{name:d.title,desc:d.description,boardList:d.board}:{name:s.title,desc:s.description}),skinId:m,customId:v,questionnaireNotifyModel:I};f?i?l((0,o.Z)({},b)).then((function(e){e&&p({id:e,status:f}).then((function(n){return n&&t(e)&&u({qsCopy:!1})}))})):p({id:a,status:f}).then((function(e){return e&&t()})):l((0,o.Z)({},b)).then((function(e){e&&(lr.default.success("\u64cd\u4f5c\u6210\u529f"),t(),u({qsCopy:!1}),sessionStorage.setItem("newQsId",e))}))},r._handleUpdateSkin=function(e){var t=r.state,n=t.skinSelId,a=t.definedSkinId,i=t.definedSkinName,o=t.definedSkinBase64;r.setState({skinSelId:e.skinSelId||n,definedSkinId:e.definedSkinId||a,definedSkinName:e.definedSkinName||i,definedSkinBase64:e.definedSkinBase64||o})},r.state={skinSelId:"",definedSkinId:"",definedSkinName:"",definedSkinBase64:""},r.events={handleUpload:r._handleUpload,handleOnDeleteClick:r._handleOnDeleteClick,handleSaveQS:r._handleSaveQS,handleUpdateSkin:r._handleUpdateSkin};var a=null==(n=t.location.query)?void 0:n.id;if(sessionStorage.getItem("newQsId")){var i=sessionStorage.getItem("newQsId");sessionStorage.removeItem("newQsId"),window.location.replace("/research/questionnaireEdit/edit?id="+i+"&qsCopy=false")}else sessionStorage.getItem("qsId")&&!a&&window.location.replace("/research/questionnaireEdit/edit?id="+sessionStorage.getItem("qsId"));return r}(0,j.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=(0,ur.Z)(hr().mark((function e(){var t,n,r,a,i,o,c=this;return hr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.fetchPicList({projectId:M.t.get(M.V.curProject).id}),this.props.fetchUserList({projectId:M.t.get(M.V.curProject).id}),this.props.fetchWebhookList({projectId:M.t.get(M.V.curProject).id}),this.props.fetchDashboardList(M.t.get(M.V.curProject).id),a=null==(t=this.props.location.query)?void 0:t.id,i=null==(n=this.props.location)||null==(r=n.query)?void 0:r.copy,!a){e.next=12;break}return e.next=9,this.props.fetchConfig({id:a,isCopy:i});case 9:o=e.sent,this._handleUpdateSkin({skinSelId:o}),(0,vr.qq)({id:a}).then((function(e){if(e.data.result[0]){var t=e.data.result[0],n=t.name,r=t.skinId,a=t.url;c.setState({definedSkinId:r,definedSkinName:n,definedSkinBase64:a,skinSelId:o}),(0,yr.YL)(a,(function(e){c.setState({definedSkinBase64:e})}))}}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.componentWillUnmount=function(){sessionStorage.removeItem("qsId"),sessionStorage.removeItem("newQsId")},n.render=function(){return s.createElement(mr.Z,(0,o.Z)({},this.props,this.state,this.events))},t}(s.Component);const br=(0,D.connect)((function(e){var t=e.loading,n=(0,c.Z)(e,gr);return(0,o.Z)({},n[xr],{saveLoading:t.effects[xr+"/addOrUpdateQuestionnaire"]||!1,publicLoading:t.effects[xr+"/updateQuestionnaireStatus"]||!1})}),(function(e){return{save:function(t){return e({type:xr+"/save",payload:t})},clean:function(){return e({type:xr+"/clean"})},addListItem:function(t){return e({type:xr+"/addListItem",payload:t})},deleteListItem:function(t){return e({type:xr+"/deleteListItem",payload:t})},replaceListItem:function(t){return e({type:xr+"/replaceListItem",payload:t})},updateListItem:function(t){return e({type:xr+"/updateListItem",payload:t})},updateListItemOptions:function(t){return e({type:xr+"/updateListItemOptions",payload:t})},fetchDashboardList:function(t){return e({type:xr+"/fetchDashboardList",payload:t})},fetchUserList:function(t){return e({type:xr+"/fetchUserList",payload:t})},fetchWebhookList:function(t){return e({type:xr+"/fetchWebhookList",payload:t})},addSelectOption:function(t){return e({type:xr+"/addSelectOption",payload:t})},delSelectOption:function(t){return e({type:xr+"/delSelectOption",payload:t})},reorderSelectOption:function(t){return e({type:xr+"/reorderSelectOption",payload:t})},fetchPicList:function(t){return e({type:xr+"/fetchPicList",payload:t})},uploadPic:function(t){return e({type:xr+"/uploadPic",payload:t})},deletePic:function(t){return e({type:xr+"/deletePic",payload:t})},imgSetting:function(t){return e({type:xr+"/imgSetting",payload:t})},imgSwitch:function(t){return e({type:xr+"/imgSwitch",payload:t})},updateParams:function(t){return e({type:xr+"/updateParams",payload:t})},addOrUpdateQuestionnaire:function(t){return e({type:xr+"/addOrUpdateQuestionnaire",payload:t})},updateQuestionnaireStatus:function(t){return e({type:xr+"/updateQuestionnaireStatus",payload:t})},fetchConfig:function(t){return e({type:xr+"/fetchConfig",payload:t})},changeTitle:function(t){return e({type:xr+"/changeTitle",payload:t})},changeDesc:function(t){return e({type:xr+"/changeDesc",payload:t})},handleSaveExtract:function(t){return e({type:xr+"/handleSaveExtract",payload:t})},titleSwitch:function(t){return e({type:xr+"/titleSwitch",payload:t})},descSwitch:function(t){return e({type:xr+"/descSwitch",payload:t})},updateMatrxItemOptions:function(t){return e({type:xr+"/updateMatrxItemOptions",payload:t})},updateQuestionKey:function(t){return e({type:xr+"/updateQuestionKey",payload:t})}}}))(Ir);n(48980);var Tr=n(20838),Er=n(63736);const wr=function(e){var t=(0,o.Z)({},e);document.documentElement.clientHeight;return s.createElement("div",{className:"preview_pc"},s.createElement(Er.Z,{pageConfig:t.pageConfig}))};const kr=function(e){var t=(0,o.Z)({},e);return s.createElement("div",{className:"preview_phone"},s.createElement("img",{src:"https://rs0.bestcem.cn/prod/rs/user/img/icon_phone.0645706b.svg",alt:"",className:"preview_phone_bgc"}),s.createElement("div",{className:"preview_phone_body"},s.createElement(Er.Z,{pageConfig:t.pageConfig})))};var Cr=Tr.default.TabPane;const Sr=function(e){var t=(0,o.Z)({},e).pageConfig,n=t.drawing;return t.questionslist.forEach((function(e){"[object Object]"===Object.prototype.toString.call(e.visible)?e.isShow=!1:e.isShow=!0})),n&&n.length>0&&(t.questionslist=function(e,t){var n=e.map((function(e){return e.id})),r=t.map((function(e){return{start:n.indexOf(e.from),end:n.indexOf(e.to)}})).sort((function(e,t){return e.start-t.start}));var a=[];if(1===r.length)if(0===r[0].start&&r[0].end+1<=e.length-1)for(var i=r[0].end+1;i<=e.length-1;i++)a.push(i);else if(0!==r[0].start&&r[0].end!==e.length-1){for(var o=0;o<r[0].start;o++)a.push(o);for(var c=r[0].end+1;c<=e.length-1;c++)a.push(c)}else for(var s=0;s<r[0].start;s++)a.push(s);else for(var u=0;u<=r.length-1;u++)if(0===u){if(0!==r[u].start)for(var l=0;l<r[u].start;l++)a.push(l)}else if(u===r.length-1){if(r[u].end!==e.length-1)for(var p=r[u].end+1;p<=e.length-1;p++)a.push(p)}else for(var d=r[u].end+1;d<r[u+1].start;d++)a.push(d);var f=t.map((function(e){return{start:n.indexOf(e.from),end:n.indexOf(e.to),count:e.count}})).map((function(e){return h(e.start,e.end,e.count)})).reduce((function(e,t){return e.concat(t)})).concat(a).sort((function(e,t){return e-t}));return f.map((function(t){return e[t].visible=!0,e[t].jumpable=!1,e[t]}));function h(e,t,n){for(var r=[],a=e;a<=t;a++)r.push(a);return r.sort((function(){return.5-Math.random()})),r.length=n,r.sort((function(e,t){return e-t}))}}(t.questionslist,n)),s.createElement("div",null,s.createElement("div",{className:"preview"},s.createElement(Tr.default,{defaultActiveKey:"PC",onChange:function(e){},className:"preview_body",centered:!0},s.createElement(Cr,{tab:s.createElement("span",null,s.createElement("i",{className:"icon-cem_mobile-phone",style:{fontSize:"16px"}}),s.createElement("span",{style:{fontSize:"16px",marginLeft:"5px"}},"\u624b\u673a")),key:"Phone"},s.createElement("div",{className:"preview_body_box"},s.createElement(kr,{pageConfig:(0,o.Z)({},t,{deviceType:"phone"})}))),s.createElement(Cr,{tab:s.createElement("span",null,s.createElement("i",{className:"icon-cem_jingdong-shop",style:{fontSize:"18px"}}),s.createElement("span",{style:{fontSize:"16px",marginLeft:"5px"}},"\u7535\u8111")),key:"PC"},s.createElement(wr,{pageConfig:(0,o.Z)({},t,{deviceType:"pc"})})))))};var Nr=["loading"],Or=pe.Z.research.questionnaireEdit,_r=function(e){function t(t){var n;return(n=e.call(this,t)||this).GetQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},n.state={pageConfig:n.GetQueryString("type")?JSON.parse(M.t.get("pageConfig")):{}},n}(0,j.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){},n.render=function(){return s.createElement(Sr,(0,o.Z)({},this.props,this.state))},t}(s.Component);const jr=(0,D.connect)((function(e){e.loading;var t=(0,c.Z)(e,Nr);return(0,o.Z)({},t[Or])}),(function(e){return{save:function(t){return e({type:Or+"/save",payload:t})},clean:function(){return e({type:Or+"/clean"})}}}))(_r);function Ar(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mr=b((function(){return Promise.all([n.e(9361),n.e(2777)]).then(n.bind(n,22777))})),Rr=b((function(){return n.e(1977).then(n.bind(n,21246))})),Lr=b((function(){return n.e(8732).then(n.bind(n,98732))})),Pr=b((function(){return n.e(7325).then(n.bind(n,80435))})),Fr=b((function(){return Promise.all([n.e(8376),n.e(1438)]).then(n.bind(n,91438))})),Zr=b((function(){return n.e(8073).then(n.bind(n,98073))})),Vr=b((function(){return Promise.resolve().then(n.bind(n,99167))})),zr=b((function(){return Promise.all([n.e(9835),n.e(9666),n.e(6513),n.e(9351),n.e(6025),n.e(434),n.e(738),n.e(7712),n.e(2648),n.e(875),n.e(1522),n.e(6147),n.e(46),n.e(593),n.e(8930),n.e(2902),n.e(4125),n.e(8667),n.e(4259),n.e(543),n.e(4390)]).then(n.bind(n,34390))})),Ur=b((function(){return Promise.all([n.e(9835),n.e(5896),n.e(1152),n.e(6025),n.e(3648),n.e(1881),n.e(9221),n.e(576),n.e(2840),n.e(9618),n.e(5095),n.e(73)]).then(n.bind(n,28184))})),Br=b((function(){return Promise.all([n.e(9361),n.e(1145)]).then(n.bind(n,81145))})),qr=b((function(){return Promise.all([n.e(9835),n.e(6025),n.e(1881),n.e(2840),n.e(9618),n.e(5095),n.e(9003)]).then(n.bind(n,17958))})),Wr=(b((function(){return Promise.all([n.e(9835),n.e(6025),n.e(1881),n.e(2840),n.e(9618),n.e(5095),n.e(9003)]).then(n.bind(n,17958))})),b((function(){return Promise.all([n.e(9835),n.e(640),n.e(6025),n.e(7712),n.e(3648),n.e(67),n.e(6147),n.e(2747)]).then(n.bind(n,92747))}))),Hr=b((function(){return n.e(4400).then(n.bind(n,24400))})),Gr=b((function(){return n.e(1574).then(n.bind(n,81574))})),Yr=b((function(){return n.e(872).then(n.bind(n,50872))})),Jr=b((function(){return n.e(2806).then(n.bind(n,72806))})),Kr=b((function(){return n.e(662).then(n.bind(n,70662))})),Qr=b((function(){return n.e(4896).then(n.bind(n,84896))})),Xr=b((function(){return n.e(1473).then(n.bind(n,71473))})),$r=b((function(){return n.e(9851).then(n.bind(n,89851))})),ea=b((function(){return Promise.all([n.e(3987),n.e(6915)]).then(n.bind(n,86915))})),ta=b((function(){return n.e(2070).then(n.bind(n,2070))})),na=b((function(){return Promise.all([n.e(5968),n.e(5022)]).then(n.bind(n,68889))})),ra=b((function(){return n.e(3966).then(n.bind(n,3966))})),aa=b((function(){return Promise.all([n.e(8619),n.e(7515)]).then(n.bind(n,87515))})),ia=b((function(){return n.e(8858).then(n.bind(n,28858))})),oa=b((function(){return n.e(8530).then(n.bind(n,28530))})),ca=b((function(){return n.e(1717).then(n.bind(n,71717))})),sa=b((function(){return Promise.all([n.e(5261),n.e(875),n.e(9361),n.e(5799),n.e(1122),n.e(1692),n.e(928),n.e(2751),n.e(4444)]).then(n.bind(n,74444))})),ua=b((function(){return n.e(483).then(n.bind(n,40483))})),la=b((function(){return n.e(7740).then(n.bind(n,57740))})),pa=b((function(){return n.e(7891).then(n.bind(n,77891))})),da=b((function(){return n.e(9895).then(n.bind(n,89895))})),fa=b((function(){return n.e(7091).then(n.bind(n,77091))})),ha=b((function(){return Promise.all([n.e(9351),n.e(2133),n.e(2624),n.e(1038)]).then(n.bind(n,71038))}));i.mW.listen((function(e){for(var t,n=e.pathname,r=Ar(va);!(t=r()).done;){var o=t.value;if(o.path===n)return!0;if(o.childRoutes)for(var c,s=Ar(o.childRoutes);!(c=s()).done;){var u=c.value;if(o.path+"/"+u.path===n)return!0}}"/login"===n||a.Z.isLoginIn()||i.mW.push("/login"),"/login"===n&&a.Z.isLoginIn()&&i.mW.push("/")}));var ma=[{path:"/info",component:_e,childRoutes:[{name:"feedback",path:"feedback",component:oa}]}].concat(N,[{path:"/tab",component:_.default,onEnter:function(e,t){"/tab"===e.location.pathname&&t("/inbox")},childRoutes:[{name:"detail",path:"detail",component:qr},{name:"aspectDetail",path:"aspectDetail",component:Ur},{name:"uselessMsgDetail",path:"/account/project/uselessMsg/detail",component:ua},{path:"sceneAnalyze",name:"sceneAnalyze",component:pa},{path:"connectionData",name:"projectConnectionDetailData",component:Gr},{path:"bind",name:"bind",component:Br},{path:"/about",name:"about",component:ta},{path:"/opinionList",name:"opinionList",getComponents:function(e,t){t(null,(function(){return s.createElement(ea,e)}))}},{path:"/opinionDetail",name:"opinionDetail",getComponents:function(e,t){t(null,(function(){return s.createElement(Wr,e)}))}},{path:"/workOrderDetail",name:"workOrderDetail",getComponents:function(e,t){t(null,(function(){return s.createElement(ha,e)}))}},{path:"/research/questionnaireEdit",name:"questionnaireEdit",onEnter:function(e,t){"/research/questionnaireEdit"===e.location.pathname&&t((0,o.Z)({},e.location,{pathname:"/research/questionnaireEdit/edit"}))},childRoutes:[{path:"edit",name:"edit",component:br},{path:"setting",name:"setting",component:br},{path:"skin",name:"skin",component:br},{path:"distribute",name:"distribute",getComponents:function(e,t){t(null,(function(){return s.createElement(sa,e)}))}}]},{path:"/noPermission",name:"\u65e0\u6743\u9650",component:b((function(){return n.e(6079).then(n.bind(n,16079))}))},{path:"/research/manage/distribute",name:"distribute",component:sa,childRoutes:[{path:"edit",name:"distributeEdit",component:sa}]}]},{path:"/",component:Ne,onEnter:function(e,t){a.Z.getAuthority()?"/"===e.location.pathname&&t("/workspace"):t("/login")},childRoutes:[].concat(sr,fn,O,Mn,Gt,Yt,Jt,Xn,Jn,Kn,en,$n,Yn,_n,Qn,hn,qt,Zn,pn,er,[{path:"project/overview",name:"overview",component:ia},{path:"project/eventCalendar",name:"eventCalendar",component:ia},{path:"opinion/overview",name:"overview",component:ia},{path:"opinion/eventManagement",name:"eventManagement",component:ia},{path:"activity/overview",name:"overview",component:ia},{path:"activity/eventManagement",name:"eventManagement",component:ia},{path:"activity/index",name:"index",component:ia},{path:"activity/needsTrack",name:"needsTrack",component:ia},{path:"monitor/feedbackTrack",name:"feedbackTrack",component:ia},{path:"entity",name:"entity",component:ia},{path:"activity",name:"activity",component:ia},{path:"brand",name:"brand",component:ia},{path:"opinionDetail",name:"opinionDetail",getComponents:function(e,t){t(null,(function(){return s.createElement(Wr,e)}))}},{path:"weChartPush_chart",name:"weChartPush_chart",component:Xr},{path:"timeSetting",name:"timeSetting",component:Fr},{path:"aspectWarning",name:"aspectWarning",indexRoute:{component:na},childRoutes:[{path:"detail",name:"detail",component:Hr}]},{path:"collection",name:"collection",childRoutes:[{path:"manage",name:"manage",component:ra},{path:"export",name:"export",component:aa}]},{path:"weibo_back",name:"weibo_back",component:Vr},{path:"*",component:Vr}])}]),va=[{path:"/login",name:"login",component:Mr},{path:"/bind",name:"bind",component:Br},{path:"/binded",name:"binded",component:Zr},{path:"/listPage",name:"listPage",component:Yr},{path:"/warningNotice",name:"warningNotice",component:Jr},{path:"/warningNoticeList",name:"warningNoticeList",component:Kr},{path:"/weChatPush",name:"weChatPush",childRoutes:[{path:"list",name:"Mobile_WechatPush_List",component:Qr},{path:"chart",name:"Mobile_WechatPush_Chart",component:Xr},{path:"thresholdValue",name:"Mobile_WechatPush_ThresholdValue",component:$r}]},{path:"/tourists",name:"tourists",childRoutes:[{path:"active",name:"active",getComponents:function(e,t){e.location.query.token?t(null,Rr):t(null,Mr)}},{path:"reset",name:"reset",getComponents:function(e,t){e.location.query.token?t(null,Pr):t(null,Mr)}}]},{path:"/reset",name:"resetPsw",component:Lr},{path:"/set",name:"set",component:Pr},{path:"/research/questionnaireAnswer/answer",name:"questionnaireAnswer",component:jr},{path:"/research/answer",component:ca},{path:"/nps/answer",component:la,getComponents:function(e,t){e.location.query.id||e.location.query.uniqueKey?t(null,(function(){return s.createElement(la,null)})):t(null,Vr)}},{path:"/notFind",component:Vr},{path:"/models/page",component:da,onEnter:function(e,t){/beta|cemdemo|3c|demo|localhost/g.exec(window.location.hostname)&&a.Z.getAuthority()||t("/login")}},{path:"/antd",component:zr,onEnter:function(e,t){/beta|192|localhost/g.exec(window.location.hostname)||t("/notFind")}},{path:"helpCenter",name:"helpCenter",component:fa}];ma.unshift.apply(ma,va);var ya=n(90549),ga=n(30381),xa=n.n(ga),Ia=n(70715),ba=n(13853),Ta=n(82925);xa().locale("zh-cn",{week:{dow:1,doy:7}}),ya.Z.init(),(0,Ia.aW)(),n(94680),n(42314);var Ea=document.querySelector("link[rel='icon']"),wa=window.location.protocol+"//yunting-1251101074.coscd.myqcloud.com/web_title/"+window.location.hostname+"/64_64.ico";function ka(e){var t=ba.v[e];if(t){var n=localStorage.getItem("cem-web-tile"),r=document.querySelector("title");r&&(r.innerText=t+"-"+n)}}y().get(wa).then((function(e){Ea&&Ea.setAttribute("href",wa+"?_="+(new Date).getTime())})).catch((function(){null==Ea||Ea.setAttribute("href","https://yunting-1251101074.coscd.myqcloud.com/web_title/yuntingai.com/64_64.ico?_=1641972440965")})),function(){var e="\u4e91\u542cCEM";m.h.post("/account/slogan",{host:window.location.hostname}).then((function(t){var n=t.data.result;n.webTitle&&(e=n.webTitle),localStorage.setItem("cem-web-tile",e),ka(location.pathname)}))}(),i.mW.listen((function(e){"dashboard"===e.pathname.split("/")[1]?ka("/dashboard"):e.pathname.includes("/research/board/satisfaction")?ka("/research/board/satisfaction"):e.pathname.includes("/research/board/nps")&&ka("/research/board/nps"),ka(e.pathname)})),location.href.indexOf("https")>-1&&function(){var e=document.createElement("meta");e.httpEquiv="Content-Security-Policy",e.content="upgrade-insecure-requests",document.head.prepend(e)}(),g.l.router((function(){return s.createElement(r.default,{locale:Ta.Z},s.createElement(p,{routes:ma,history:i.mW}))})),g.l.start("#app")},17238:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D,namespace:()=>j});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722),s="MARKET_INSIGHT_ASPECT_ANALYSIS",u="ANALYZE_MARKETING";function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,o=t.categoryId,e.abrupt("return",c.h.post("/product/overview/chart/find/ASPECT_MENTION_RATE_CARD",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,productOverviewModule:s,module:u,categoryId:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,o=t.categoryId,e.abrupt("return",c.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,productOverviewModule:s,module:u,categoryId:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,o=t.categoryId,e.abrupt("return",c.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,productOverviewModule:s,module:u,categoryId:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sameRateType,r=t.cartType,a=t.projectId,o=t.categoryId,e.abrupt("return",c.h.post("/product/overview/set-same-rate",{sameRateType:n,cartType:r,projectId:a,productOverviewModule:s,module:u,categoryId:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,o=t.aspectLevel,s=t.categoryId,e.abrupt("return",c.h.post("/product/overview/chart/find/ASPECT2_EMOTION_QUERY",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,aspectLevel:o,module:u,categoryId:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:s,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/business_point/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.filterTypes,a=t.type,e.abrupt("return",c.h.post("/filter/find",{projectId:n,filterTypes:r,type:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=n(92360),O=n(64396),_=n(71997),j=O.Z.marketAnalysis.aspectAnalysis,A={projectId:void 0,dataAspect1:void 0,dataAspect2:void 0,metion:void 0,positiveRate:void 0,negativeRate:void 0,chartTypeValue:{meAspectType:_.Rx[0].value,emotionType:_.V2[0].value,allEmotionType:_.jg[0].value},flavor:{},headerFilterParamsNew:void 0,dateFilter:void 0,selectValue:void 0,categoryId:void 0,analysisModel:void 0,rangedBusinessPointNames:[],curShowAspect:"aspect1",rangeChecked:{chart1:!1,chart2:!1},treeId:void 0};const D={namespace:j,state:Object.assign({},A),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},A)},saveChartData:function(e,t){var n,a=t.payload,i=a.result.reduce((function(e,t){return t.businessPoint.forEach((function(n){var r=n.id,a=n.name,i=e.find((function(e){return e.view===a}));i||(i={id:r,view:a,aspects:[]},e.push(i));var o=t.positive+t.negative;i.aspects.push({total:o,aspect:t.aspect2,positive:t.positive,negative:t.negative,negRate:t.negative/o,posRate:t.positive/o,menRate:o/t.messageTotal})})),e}),[]);return i=i.length?e.rangedBusinessPointNames.reduce((function(e,t){var n=i.find((function(e){return e.view===t}));return n&&e.push(n),e}),[]):"empty",(0,r.Z)({},e,((n={})["chartData"+a.aspectLevel]=i,n))},saveRangeChecked:function(e,t){var n=t.payload.rangeChecked;return(0,r.Z)({},e,{rangeChecked:n})}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[j]}));case 4:return u=e.sent,l=u.chartTypeValue,p={meAspectType:"",emotionType:"",allEmotionType:""},d=JSON.parse(JSON.stringify(l)),e.prev=8,e.next=11,o(I,{projectId:a.projectId});case 11:f=e.sent,2e4===(h=f.data).code&&h.result&&(p=Object.assign(p,JSON.parse(h.result)),Object.keys(p).forEach((function(e){return d[e]=p[e]||d[e]}))),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.next=20,c({type:"save",payload:(0,r.Z)({},a,{chartTypeValue:d,flavor:p})});case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e,null,[[8,16]])})),fetchAspectTreeId:i().mark((function e(t,n){var r,a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,c=n.call,n.select,s=n.put,e.next=4,c(C,{projectId:o.projectId,filterTypes:["ASPECT"],type:"MARKETING"});case 4:if(2e4===(null==(u=e.sent)||null==(r=u.data)?void 0:r.code)){e.next=7;break}return e.abrupt("return");case 7:if(!(l=null==(a=u.data.result.treeAspect)?void 0:a[0].treeId)){e.next=11;break}return e.next=11,s({type:"save",payload:{treeId:l}});case 11:case"end":return e.stop()}}),e)})),fetchBusinessPointList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.call,c=n.select,s=n.put,e.next=3,c((function(e){return(0,r.Z)({},e)[j]}));case 3:return u=e.sent,l=u.projectId,e.next=7,o(w,{projectId:l});case 7:if(2e4===(null==(p=e.sent)||null==(a=p.data)?void 0:a.code)){e.next=10;break}return e.abrupt("return");case 10:return d=p.data.result.map((function(e){return e.name})),e.next=13,s({type:"save",payload:{rangedBusinessPointNames:d}});case 13:case"end":return e.stop()}}),e)})),fetchMentionRate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[j]}));case 4:return u=e.sent,l=u.headerFilterParamsNew,p=u.dateFilter,d=u.projectId,f=u.categoryId,h=a.aspectType,m="error",v="error",y="aspect1"===h?1:2,e.prev=12,e.next=15,o(g,{projectId:d,aspectLevel:y,dateFilter:p,headerFilterParamsNew:l,categoryId:f});case 15:I=e.sent,2e4===(b=I.data).code&&null!=(x=b.result)&&x.length?(v=b.result.map((function(e){var t=e.positive+e.negative;return(0,r.Z)({},e,{total:t,negRate:0===t?0:e.negative/t,posRate:0===t?0:e.positive/t,menRate:0===e.messageTotal?0:t/e.messageTotal})})),T=b.result.reduce((function(e,t){return e[t.aspect1]?(e[t.aspect1].positive+=t.positive,e[t.aspect1].negative+=t.negative):e[t.aspect1]=t,e}),{}),E=Object.entries(T).map((function(e){e[0];return e[1]})),m=E.map((function(e){var t=e.positive+e.negative;return(0,r.Z)({},e,{total:t,negRate:0===t?0:e.negative/t,posRate:0===t?0:e.positive/t,menRate:0===e.messageTotal?0:t/e.messageTotal})}))):(m="empty",v="empty"),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.next=24,c({type:"save",payload:{dataAspect1:m,dataAspect2:v}});case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e,null,[[12,20]])})),getMention:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[j]}));case 3:return s=e.sent,u=s.headerFilterParamsNew,p=s.dateFilter,d=s.projectId,f=s.categoryId,h="error",e.prev=9,e.next=12,a(l,{projectId:d,headerFilterParamsNew:u,dateFilter:p,categoryId:f});case 12:m=e.sent,2e4===(v=m.data).code&&v.result&&(h=v.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,o({type:"save",payload:{metion:h}});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})),getPositiveRate:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[j]}));case 3:return s=e.sent,u=s.headerFilterParamsNew,l=s.dateFilter,p=s.projectId,f=s.categoryId,h="error",e.prev=9,e.next=12,a(d,{projectId:p,headerFilterParamsNew:u,dateFilter:l,categoryId:f});case 12:m=e.sent,2e4===(v=m.data).code&&v.result&&(h=v.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,o({type:"save",payload:{positiveRate:h}});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})),getNegativeRate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[j]}));case 3:return s=e.sent,u=s.headerFilterParamsNew,l=s.dateFilter,p=s.projectId,d=s.categoryId,f="error",e.prev=9,e.next=12,a(h,{projectId:p,headerFilterParamsNew:u,dateFilter:l,categoryId:d});case 12:m=e.sent,2e4===(v=m.data).code&&v.result&&(f=v.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,o({type:"save",payload:{negativeRate:f}});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})),setCompare:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[j]}));case 4:return u=e.sent,l=u.projectId,p=a.cartType,d=a.sameRateType,e.prev=7,e.next=10,o(v,{projectId:l,cartType:p,sameRateType:d});case 10:if(f=e.sent,2e4!==f.data.code){e.next=26;break}e.t0=p,e.next="ASPECT_MENTION_RATE_CARD"===e.t0?16:"POSITIVE_ASPECT_RATE_CARD"===e.t0?18:"NEGATIVE_ASPECT_RATE_CARD"===e.t0?20:22;break;case 16:return h="getMention",e.abrupt("break",22);case 18:return h="getPositiveRate",e.abrupt("break",22);case 20:return h="getNegativeRate",e.abrupt("break",22);case 22:return N.Message.success("\u8bbe\u7f6e\u6210\u529f"),e.next=25,c({type:h});case 25:return e.abrupt("return",e.sent);case 26:e.next=30;break;case 28:e.prev=28,e.t1=e.catch(7);case 30:case"end":return e.stop()}}),e,null,[[7,28]])})),chartTypeChange:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.t0=JSON,e.t1=JSON,e.next=6,c((function(e){return(0,r.Z)({},e)[j]}));case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),s=e.t0.parse.call(e.t0,e.t3),u=s.chartTypeValue,l=a.key,p=a.value,u[l]=p,e.next=14,o({type:"save",payload:{chartTypeValue:JSON.parse(JSON.stringify(u))}});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})),updateFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[j]}));case 4:return u=e.sent,l=u.projectId,p=u.flavor,d=a.key,f=a.value,p[d]=f,h={meAspectType:p.meAspectType,emotionType:p.emotionType,allEmotionType:p.allEmotionType},e.prev=10,e.next=13,o(T,{projectId:l,value:JSON.stringify(h)});case 13:if(m=e.sent,2e4!==m.data.code){e.next=21;break}return e.next=18,s({type:"save",payload:p});case 18:if(!f){e.next=21;break}return e.next=21,s({type:"chartTypeChange",payload:a});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(10);case 25:case"end":return e.stop()}}),e,null,[[10,23]])}))}}},71997:(e,t,n)=>{"use strict";n.d(t,{ou:()=>o,Rx:()=>c,V2:()=>s,jg:()=>u,LK:()=>l,QS:()=>p,jr:()=>d,gF:()=>f,nW:()=>h,Oy:()=>m});var r=n(8201),a=n(13941),i=n(67294),o=["ASPECT_ANALYSIS_COMMENT","ASPECT_ANALYSIS_QUESTIONAIRE","ASPECT_ANALYSIS_APP","ASPECT_ANALYSIS_TICKET","ASPECT_ANALYSIS_SELF"],c=[{title:"\u4e00\u7ea7\u6307\u6807",value:"aspect1"},{title:"\u4e8c\u7ea7\u6307\u6807",value:"aspect2"}],s=[{title:"\u6307\u6807\u597d\u8bc4\u7387",value:"positive"},{title:"\u6307\u6807\u5dee\u8bc4\u7387",value:"negative"}],u=[{title:"\u6307\u6807\u58f0\u91cf",value:"total"},{title:"\u6307\u6807\u6b63\u9762\u58f0\u91cf",value:"positive"},{title:"\u6307\u6807\u8d1f\u9762\u58f0\u91cf",value:"negative"}],l=function(e){return(0,r.P)(e)?[{name:"\u6307\u6807\u63d0\u53ca\u7387",count:e.aspectMentionRate,format:"percent"},{name:(0,a.kV)(e.sameRateType)+"\u540c\u6bd4",count:e.sameRate,rise:(0,a.hf)(e.sameRate),format:"percent"},{name:"\u73af\u6bd4",count:e.circleRate,rise:(0,a.hf)(e.circleRate),format:"percent"},{name:"\u6307\u6807\u58f0\u91cf",count:e.usefulAspectCount,format:"myriad"},{name:"\u6709\u6548\u6d88\u606f",count:e.usefulCommentCount,format:"myriad"}]:e},p=function(){return i.createElement("div",null,i.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u6765\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),i.createElement("p",null,"\u300c\u6709\u6548\u6d88\u606f\u300d\u83b7\u5f97\u7684\u6d88\u606f\u4e2d\uff0c\u9664\u53bb\u88ab\u6807\u8bb0\u4e3a\u201c\u65e0\u6548\u6d88\u606f\u201d\u7684\u6d88\u606f\u6570\uff0c\u5269\u4e0b\u7684\u5747\u88ab\u6807\u8bb0\u4e3a\u201c\u6709\u6548\u6d88\u606f\u201d\u3002"),i.createElement("p",null,"\u300c\u6307\u6807\u63d0\u53ca\u7387\u300d\u662f\u6307\u9009\u4e2d\u7684\u6d88\u606f\u4e2d\uff0c\u6307\u6807\u58f0\u91cf\xf7\u6709\u6548\u6d88\u606f\u6570\u91cf\u3002"))},d=function(e){return(0,r.P)(e)?[{name:"\u6307\u6807\u597d\u8bc4\u7387",count:e.positiveAspectRate,format:"percent"},{name:(0,a.kV)(e.sameRateType)+"\u540c\u6bd4",count:e.sameRate,rise:(0,a.hf)(e.sameRate),format:"percent"},{name:"\u73af\u6bd4",count:e.circleRate,rise:(0,a.hf)(e.circleRate),format:"percent"},{name:"\u6b63\u9762\u58f0\u91cf",count:e.usefulPositiveAspectCount,format:"myriad"},{name:"\u6307\u6807\u58f0\u91cf",count:e.usefulAspectCount,format:"myriad"}]:e},f=function(){return i.createElement("div",null,i.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),i.createElement("p",null,"\u300c\u6b63\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u6b63\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u6b63\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),i.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d = \u6307\u6807\u6b63\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},h=function(e){return(0,r.P)(e)?[{name:"\u6307\u6807\u5dee\u8bc4\u7387",count:e.negativeAspectRate,format:"percent"},{name:(0,a.kV)(e.sameRateType)+"\u540c\u6bd4",count:e.sameRate,rise:(0,a.hf)(e.sameRate),format:"percent"},{name:"\u73af\u6bd4",count:e.circleRate,rise:(0,a.hf)(e.circleRate),format:"percent"},{name:"\u8d1f\u9762\u58f0\u91cf",count:e.usefulNegativeAspectCount,format:"myriad"},{name:"\u6307\u6807\u58f0\u91cf",count:e.usefulAspectCount,format:"myriad"}]:e},m=function(){return i.createElement("div",null,i.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),i.createElement("p",null,"\u300c\u8d1f\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u8d1f\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),i.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d = \u6307\u6807\u8d1f\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))}},58377:(e,t,n)=>{"use strict";n.r(t),n.d(t,{namespace:()=>l,default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(14692),c=n(64396),s=n(5133),u=n(53017),l=c.Z.marketAnalysis.compareProduct,p={countCard:void 0,countSameRateType:"",positiveRate:void 0,positiveSameRateType:"",negativeRate:void 0,negativeSameRateType:"",cmtData:void 0,cmtAspectType:"",cmtAspFlavor:"",cmtType:"",cmtFlavor:"",cmtRangeCheck:!1,volData:void 0,volAspectType:"",volAspFlavor:"",volType:"",volFlavor:"",volRangeCheck:!1,menData:void 0,menAspectType:"",menAspFlavor:"",menRangeCheck:!1,perData:void 0,perAspectType:"",perAspFlavor:"",perRangeCheck:!1,tarRangedNames:void 0,tarAspectType:void 0,total:0,pageIndex:1,pageSize:10,aspectListType:"",aspectListTypeFlavor:"",aspectData:void 0,fetchedAspectData:void 0,projectId:void 0,dateFilter:{},dateRange:0,headerFilterParamsNew:void 0,analysisModel:[],selectAnalySisModel:void 0};const d={namespace:l,state:Object.assign({},p),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},p)}},effects:{fetchParams:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:if(p=e.sent,d=p.projectId,f=p.headerFilterParamsNew,h=p.dateFilter,m=p.analysisModel,JSON.stringify(d)!==JSON.stringify(a.projectId)||JSON.stringify(f)!==JSON.stringify(a.headerFilterParamsNew)||JSON.stringify(h)!==JSON.stringify(a.dateFilter)||JSON.stringify(m)!==JSON.stringify(a.analysisModel)){e.next=11;break}return e.abrupt("return");case 11:return v={cmtAspectType:"aspect1",cmtType:"posRate",volAspectType:"aspect1",volType:"aspectTotal",menAspectType:"aspect1",perAspectType:"aspect1",aspectListType:"aspect1"},y={cmtAspFlavor:"",cmtFlavor:"",volAspFlavor:"",volFlavor:"",menAspFlavor:"",perAspFlavor:"",aspectListTypeFlavor:""},e.prev=13,e.next=16,c(o.oG,{projectId:a.projectId});case 16:g=e.sent,2e4===(x=g.data).code&&x.result&&(y=JSON.parse(x.result),I=Object.keys(v),Object.keys(y).forEach((function(e,t){y[e]&&(v[I[t]]=y[e])}))),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.next=25,s({type:"save",payload:(0,r.Z)({},a,{headerFilterParamsNew:a.headerFilterParamsNew},y,v)});case 25:return e.next=27,s({type:"fetchCountCard",payload:a});case 27:return e.next=29,s({type:"fetchPositiveCard",payload:a});case 29:return e.next=31,s({type:"fetchNegativeCard",payload:a});case 31:return e.next=33,s({type:"fetchAspectData",payload:a});case 33:case"end":return e.stop()}}),e,null,[[13,21]])})),setSameRate:i().mark((function e(t,n){var a,c,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,u=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=a.cartType,m=a.sameRateType,e.next=9,c(o.qZ,{projectId:f,cartType:h,sameRateType:m});case 9:if(v=e.sent,2e4!==v.data.code){e.next=29;break}e.t0=h,e.next="USEFUL_ASPECT_COUNT_CARD"===e.t0?15:"POSITIVE_ASPECT_RATE_CARD"===e.t0?18:"NEGATIVE_ASPECT_RATE_CARD"===e.t0?21:24;break;case 15:return g="fetchCountCard",x="countSameRateType",e.abrupt("break",24);case 18:return g="fetchPositiveCard",x="positiveSameRateType",e.abrupt("break",24);case 21:return g="fetchNegativeCard",x="negativeSameRateType",e.abrupt("break",24);case 24:return s.Z.success("\u8bbe\u7f6e\u6210\u529f"),e.next=27,u({type:"save",payload:(y={},y[x]=m,y)});case 27:return e.next=29,u({type:g,payload:a});case 29:case"end":return e.stop()}}),e)})),fetchPositiveCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v="error",e.prev=10,y={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},e.next=14,c(o.S2,y);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(v=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,s({type:"save",payload:{positiveRate:v,positiveSameRateType:v.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetchNegativeCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v="error",e.prev=10,y={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},e.next=14,c(o.Ew,y);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(v=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,s({type:"save",payload:{negativeRate:v,negativeSameRateType:v.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetchCountCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},y="error",e.prev=11,e.next=14,c(o.k,v);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(y=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,s({type:"save",payload:{count:y,countSameRateType:y.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[11,19]])})),fetchAspectData:i().mark((function e(t,n){var a,c,s,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O,_,j;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,p=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=d.dateFilter,m=d.headerFilterParamsNew,v=d.analysisModel,y={projectId:a.projectId||f,dateFilter:a.dateFilter||h,headerFilterParamsNew:a.headerFilterParamsNew||m,analysisModel:a.analysisModel||v},g="error",x="error",I="error",b="error",T="error",E="error",w=0,e.prev=11,e.next=14,c(o.nD,y);case 14:k=e.sent,2e4===(C=k.data).code&&C.result.length?(S=y.analysisModel[0].values,N=S[0],O=(0,u.kR)(C.result,N.label,N.values),O.data,_=O.aspect1,j=O.aspect2,g={aspect1:_,aspect2:j},x=C.result,I=C.result,b=C.result,T=C.result,E=C.result,w=C.result.length):(g="empty",x="empty",I="empty",b="empty",T="empty"),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,p({type:"save",payload:(0,r.Z)({},a,{headerFilterParamsNew:a.headerFilterParamsNew,aspectData:g,cmtData:x,volData:I,menData:b,perData:T,fetchedAspectData:E,total:w})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),updateFlavors:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.cmtAspFlavor,h=p.cmtFlavor,m=p.volAspFlavor,v=p.volFlavor,y=p.menAspFlavor,g=p.perAspFlavor,x=p.aspectListTypeFlavor,e.prev=13,I={cmtAspFlavor:void 0!==a.cmtAspectType?a.cmtAspectType:f,cmtFlavor:void 0!==a.cmtType?a.cmtType:h,volAspFlavor:void 0!==a.volAspectType?a.volAspectType:m,volFlavor:void 0!==a.volType?a.volType:v,menAspFlavor:void 0!==a.menAspectType?a.menAspectType:y,perAspFlavor:void 0!==a.perAspectType?a.perAspectType:g,aspectListTypeFlavor:void 0!==a.aspectListType?a.aspectListType:x},e.next=17,c(o.sR,{projectId:d,value:JSON.stringify(I)});case 17:if(b=e.sent,2e4!==b.data.code){e.next=22;break}return e.next=22,u({type:"save",payload:I});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(13);case 26:case"end":return e.stop()}}),e,null,[[13,24]])}))}}},14692:(e,t,n)=>{"use strict";n.d(t,{Gy:()=>c,nD:()=>u,S2:()=>p,Ew:()=>f,k:()=>m,qZ:()=>y,oG:()=>x,sR:()=>b});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722),c="MARKET_INSIGHT_PRODUCT_COMPARE",s="ANALYZE_MARKETING";function u(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){var n,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,t.filterModel,a=t.headerFilterParamsNew,c=t.analysisModel,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT2_EMOTION_ANALYSIS_QUERY",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,analysisModel:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/USEFUL_ASPECT_COUNT_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.cartType,a=t.sameRateType,e.abrupt("return",o.h.post("/product/overview/set-same-rate",{projectId:n,cartType:r,sameRateType:a,productOverviewModule:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:c,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},53017:(e,t,n)=>{"use strict";n.d(t,{aH:()=>i,qR:()=>o,k_:()=>c,ct:()=>s,$j:()=>u,Rx:()=>l,JM:()=>p,BI:()=>d,yE:()=>f,zV:()=>h,kR:()=>m});var r=n(87462),a=n(67294),i=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u6709\u6548\u6d88\u606f\u300d\u83b7\u5f97\u7684\u6d88\u606f\u4e2d\uff0c\u9664\u53bb\u88ab\u6807\u8bb0\u4e3a\u201c\u65e0\u6548\u6d88\u606f\u201d\u7684\u6d88\u606f\u6570\uff0c\u5269\u4e0b\u7684\u5747\u88ab\u6807\u8bb0\u4e3a\u201c\u6709\u6548\u6d88\u606f\u201d"),a.createElement("p",null,"\u300c\u6307\u6807\u63d0\u53ca\u7387\u300d\u662f\u6307\u9009\u4e2d\u7684\u6d88\u606f\u4e2d\uff0c\u6307\u6807\u58f0\u91cf\xf7\u6709\u6548\u6d88\u606f\u6570\u91cf"))},o=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u6b63\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u6b63\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u6b63\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d = \u6307\u6807\u6b63\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},c=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u8d1f\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u8d1f\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d = \u6307\u6807\u8d1f\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},s=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d\u6307\u6807\u6b63\u9762\u58f0\u91cf\xf7\uff08\u6307\u6807\u6b63\u9762\u58f0\u91cf + \u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff09\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d\u6307\u6807\u8d1f\u9762\u58f0\u91cf\xf7\uff08\u6307\u6807\u6b63\u9762\u58f0\u91cf + \u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff09\u3002"))},u=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u5360\u6bd4\u300d\u5177\u4f53\u6307\u6807\u7684\u58f0\u91cf\xf7\u5168\u90e8\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u5de6\u56fe\u5c55\u793a\u7684\u662f\u6307\u6807\u58f0\u91cf\uff0c\u53f3\u56fe\u5c55\u793a\u7684\u662f\u5404\u5206\u6790\u5bf9\u8c61\u7684\u6307\u6807\u5360\u6bd4\u3002"))},l=[{title:"\u4e00\u7ea7\u6307\u6807",value:"aspect1"},{title:"\u4e8c\u7ea7\u6307\u6807",value:"aspect2"}],p=[{title:"\u6307\u6807\u597d\u8bc4\u7387",value:"posRate"},{title:"\u6307\u6807\u5dee\u8bc4\u7387",value:"negRate"}],d=[{title:"\u6307\u6807\u58f0\u91cf",value:"aspectTotal"},{title:"\u6307\u6807\u6b63\u9762\u58f0\u91cf",value:"positive"},{title:"\u6307\u6807\u8d1f\u9762\u58f0\u91cf",value:"negative"}];function f(e){return e.reduce((function(e,t){var n=e.find((function(e){return e.name===t.name}));return n||(n={name:t.name,aspectTotal:0},e.push(n)),n.aspectTotal+=t.aspectPositive+t.aspectNegative,e}),[])}function h(e){var t=e.map((function(e){return e.aspect1})).reduce((function(e,t){return e.includes(t)?e:[].concat(e,[t])}),[]),n=e.map((function(e){return e.aspect2})).reduce((function(e,t){return e.includes(t)?e:[].concat(e,[t])}),[]),a={positive:0,negative:0,posRate:0,negRate:0,NES:0,aspectTotal:0,mentionRate:0};return e.reduce((function(i,o,c){var s=i.find((function(e){return e.name===o.name}));s||(s={name:o.name,messageTotal:o.messageTotal,positive:0,negative:0,posRate:0,negRate:0,NES:0,mentionRate:0,aspectTotal:0,aspect1:[],aspect2:[]},i.push(s)),s.positive+=o.aspectPositive,s.negative+=o.aspectNegative,s.aspectTotal+=o.aspectPositive+o.aspectNegative,s.posRate=0===s.aspectTotal?0:s.positive/s.aspectTotal,s.negRate=0===s.aspectTotal?0:s.negative/s.aspectTotal,s.NES=0===s.aspectTotal?0:(s.positive-s.negative)/s.aspectTotal,s.mentionRate=0===o.messageTotal?0:s.aspectTotal/o.messageTotal,s.aspect2.push({id:o.id,aspect:o.aspect2,positive:o.aspectPositive,negative:o.aspectNegative,posRate:o.aspectPositive+o.aspectNegative===0?0:o.aspectPositive/(o.aspectPositive+o.aspectNegative),negRate:o.aspectPositive+o.aspectNegative===0?0:o.aspectNegative/(o.aspectPositive+o.aspectNegative),NES:o.aspectPositive+o.aspectNegative===0?0:(o.aspectPositive-o.aspectNegative)/(o.aspectPositive+o.aspectNegative),aspectTotal:o.aspectPositive+o.aspectNegative,mentionRate:0===o.messageTotal?0:(o.aspectPositive+o.aspectNegative)/o.messageTotal});var u=s.aspect1.find((function(e){return e.aspect===o.aspect1}));return u||(u={id:o.id,aspect:o.aspect1,messageTotal:o.messageTotal,positive:0,negative:0,aspectTotal:0},s.aspect1.push(u)),u.aspect===o.aspect1&&(u.positive+=o.aspectPositive,u.negative+=o.aspectNegative,u.aspectTotal+=o.aspectPositive+o.aspectNegative),c===e.length-1&&i.forEach((function(e){e.aspect1=t.map((function(t){var n=e.aspect1.find((function(e){return e.aspect===t}));return n?(0,r.Z)({},n,{posRate:0===n.aspectTotal?0:n.positive/n.aspectTotal,negRate:0===n.aspectTotal?0:n.negative/n.aspectTotal,NES:n.positive+n.negative===0?0:(n.positive-n.negative)/(n.positive+n.negative),mentionRate:0===n.messageTotal?0:(n.positive+n.negative)/n.messageTotal}):(0,r.Z)({aspect:t},a)})).filter((function(e){return e.aspect})),e.aspect2=n.map((function(t){var n=e.aspect2.find((function(e){return e.aspect===t}));return n||(0,r.Z)({aspect:t},a)})).filter((function(e){return e.aspect}))})),i}),[])}function m(e,t,n){var r=e.reduce((function(e,t){var n=e.find((function(e){return e.name===t.name}));n||(n={name:t.name,id:t.id,messageTotal:t.messageTotal,totalCount:0,aspect1:[]},e.push(n));var r=n.aspect1.find((function(e){return e.name===t.aspect1}));return r||(r={name:t.aspect1,count:0,posCount:0,negCount:0,aspect2:[]},n.aspect1.push(r)),r.aspect2.push({name:t.aspect2,posCount:t.aspectPositive,negCount:t.aspectNegative,count:t.aspectPositive+t.aspectNegative}),r.count+=t.aspectPositive+t.aspectNegative,r.posCount+=t.aspectPositive,r.negCount+=t.aspectNegative,n.totalCount+=t.aspectPositive+t.aspectNegative,e}),[]);(r=n.map((function(e){return r.find((function(t){return t.id===e}))})).filter((function(e){return e}))).forEach((function(e,t){t?r[0].totalCount&&(e.aspect1=r[0].aspect1.map((function(t){var n=e.aspect1.find((function(e){return e.name===t.name}));return n?(n.aspect2=t.aspect2.map((function(e){var t=n.aspect2.find((function(t){return t.name===e.name}));return t||{name:e.name,count:0,negCount:0,posCount:0}})),n):{name:t.name,count:0,posCount:0,negCount:0,aspect2:t.aspect2.map((function(e){return{name:e.name,count:0,posCount:0,negCount:0}}))}}))):(e.aspect1=e.aspect1.sort((function(e,t){return t.count-e.count})),e.aspect1.forEach((function(e){e.aspect2=e.aspect2.sort((function(e,t){return t.count-e.count}))})))}));var a=r.reduce((function(e,t){return t.aspect1.forEach((function(n){e[0].push([t.name,n.name,n.count,0===t.totalCount?0:n.count/t.totalCount,n.posCount,n.negCount,0===n.count?0:n.posCount/n.count,0===n.count?0:n.negCount/n.count,0===t.messageTotal?0:n.count/t.messageTotal]),n.aspect2.forEach((function(r){e[1].push([t.name,n.name,r.name,r.count,0===t.totalCount?0:r.count/t.totalCount,r.posCount,r.negCount,0===r.count?0:r.posCount/r.count,0===r.count?0:r.negCount/r.count,0===t.messageTotal?0:r.count/t.messageTotal])}))})),e}),[[[t,"\u4e00\u7ea7\u6307\u6807","\u6307\u6807\u58f0\u91cf","\u6307\u6807\u5360\u6bd4","\u6307\u6807\u6b63\u9762\u58f0\u91cf","\u6307\u6807\u8d1f\u9762\u58f0\u91cf","\u6307\u6807\u597d\u8bc4\u7387","\u6307\u6807\u5dee\u8bc4\u7387","\u6307\u6807\u63d0\u53ca\u7387"]],[[t,"\u4e00\u7ea7\u6307\u6807","\u4e8c\u7ea7\u6307\u6807","\u6307\u6807\u58f0\u91cf","\u6307\u6807\u5360\u6bd4","\u6307\u6807\u6b63\u9762\u58f0\u91cf","\u6307\u6807\u8d1f\u9762\u58f0\u91cf","\u6307\u6807\u597d\u8bc4\u7387","\u6307\u6807\u5dee\u8bc4\u7387","\u6307\u6807\u63d0\u53ca\u7387"]]]),i=a[0],o=a[1];return{data:r,aspect1:i,aspect2:o}}},13941:(e,t,n)=>{"use strict";n.d(t,{hf:()=>r,kV:()=>a,bF:()=>i});n(39432);var r=function(e){return 0===e||null===e?void 0:e>0},a=function(e){switch(e){case"WEEK":return"\u5468";case"MONTH":return"\u6708";case"QUATER":return"\u5b63";case"YEAR":return"\u5e74";default:return""}},i=function(e){var t=e.some((function(e){return"DEFAULT"===e.id}))&&e.find((function(e){return"DEFAULT"===e.id})).values.some((function(e){return"SOURCE"===e.id})),n=e.some((function(e){return"TAG_RULE"===e.id}))&&e.find((function(e){return"TAG_RULE"===e.id})).values,r=e.some((function(e){return"CONFIG"===e.id}))&&e.find((function(e){return"CONFIG"===e.id})).values,a={};return r&&(a.connConfig=r.map((function(e){return{id:e.id,values:e.values}}))),t&&(a.source=e.find((function(e){return"DEFAULT"===e.id})).values.find((function(e){return"SOURCE"===e.id})).values),n&&(a.tag=n.map((function(e){return{id:e.id,special:"tag",values:e.values}}))),a}},66853:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(64396),a=n(2738),i=r.Z.market.brandAnalysis;const o=(0,a.P)(i)},38739:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(64396),a=n(2738),i=r.Z.market.modelAnalysis;const o=(0,a.P)(i)},2738:(e,t,n)=>{"use strict";n.d(t,{P:()=>P});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(87219),s={WEEK:"\u5468",MONTH:"\u6708",QUATER:"\u5b63",YEAR:"\u5e74"},u=[{"\u5728\u552e\u5546\u54c1\u6570":"onCount","\u540c\u6bd4":"sameRate","\u73af\u6bd4":"circleRate","\u5c5e\u6027\u4e0b\u67b6":"attributeOffCount","\u94fe\u63a5\u4e0b\u67b6":"urlOffCount"},{"\u5728\u552eSKU\u6570":"skuOnCount","\u540c\u6bd4":"sameRate","\u73af\u6bd4":"circleRate","\u5728\u552eSPU":"spuOnCount"},{"\u52a8\u9500\u5546\u54c1\u6570":"activityItemCount","\u540c\u6bd4":"sameRate","\u73af\u6bd4":"circleRate","\u52a8\u9500\u7387":"activityItemRate","\u6d3b\u52a8\u6570\u91cf":"activityCount"},{"\u9500\u91cf":"saleCount","\u540c\u6bd4":"sameRate","\u73af\u6bd4":"circleRate","\u52a8\u9500\u9500\u91cf":"activitySaleCount","\u975e\u52a8\u9500\u9500\u91cf":"nonActivitySaleCount"}];function l(e,t){var n=u[e];return Object.keys(n).map((function(e,r){var a=n[e],i=a.endsWith("Rate"),o=t[a],c=null===o?null:Math.abs(o);return{name:1===r&&t.sameRateType?""+s[t.sameRateType]+e:e,count:c,format:i?"percent":"myriad",rise:o?o>0:null,compare:t.sameRateType}}))}var p=n(15861),d=n(49722);function f(e){return h.apply(this,arguments)}function h(){return(h=(0,p.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageType,e.abrupt("return",d.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,p.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.pageType,e.abrupt("return",d.h.post("/default/value/update",{projectId:n,key:a,value:JSON.stringify(r)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,p.Z)(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cartType,r=t.sameRateType,a=t.projectId,i=t.pageType,e.abrupt("return",d.h.post("/product/overview/set-same-rate",{marketInsightModule:i,cartType:n,sameRateType:r,projectId:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,p.Z)(o().mark((function e(t){var n,r,a,i,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,r=t.analysisModel,a=t.filterModel,i=t.dateFilter,c=t.sameRateType,s=t.pageType,!c){e.next=4;break}return e.next=4,y({cartType:"ON_COUNT_CARD_CHART",pageType:s,sameRateType:c,projectId:n});case 4:return e.abrupt("return",d.h.post("/market/insight/chart/find/ON_COUNT_CARD_CHART",{analysisModel:r,filterModel:a,dateFilter:i,projectId:n}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,p.Z)(o().mark((function e(t){var n,r,a,i,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,r=t.analysisModel,a=t.filterModel,i=t.dateFilter,c=t.sameRateType,s=t.pageType,!c){e.next=4;break}return e.next=4,y({cartType:"SKU_ON_COUNT_CARD_CHART",pageType:s,sameRateType:c,projectId:n});case 4:return e.abrupt("return",d.h.post("/market/insight/chart/find/SKU_ON_COUNT_CARD_CHART",{analysisModel:r,filterModel:a,dateFilter:i,projectId:n}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return w.apply(this,arguments)}function w(){return(w=(0,p.Z)(o().mark((function e(t){var n,r,a,i,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,r=t.analysisModel,a=t.filterModel,i=t.dateFilter,c=t.sameRateType,s=t.pageType,!c){e.next=4;break}return e.next=4,y({cartType:"ACTIVITY_ITEM_COUNT_CARD_CHART",pageType:s,sameRateType:c,projectId:n});case 4:return e.abrupt("return",d.h.post("/market/insight/chart/find/ACTIVITY_ITEM_COUNT_CARD_CHART",{analysisModel:r,filterModel:a,dateFilter:i,projectId:n}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=(0,p.Z)(o().mark((function e(t){var n,r,a,i,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,r=t.analysisModel,a=t.filterModel,i=t.dateFilter,c=t.sameRateType,s=t.pageType,!c){e.next=4;break}return e.next=4,y({cartType:"SALE_COUNT_CARD_CHART",pageType:s,sameRateType:c,projectId:n});case 4:return e.abrupt("return",d.h.post("/market/insight/chart/find/SALE_COUNT_CARD_CHART",{analysisModel:r,filterModel:a,dateFilter:i,projectId:n}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return(N=(0,p.Z)(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.analysisModel,a=t.filterModel,i=t.dateFilter,e.abrupt("return",d.h.post("/market/insight/chart/find/SOURCE_SALES_CHART",{projectId:n,analysisModel:r,filterModel:a,dateFilter:i}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return _.apply(this,arguments)}function _(){return(_=(0,p.Z)(o().mark((function e(t){var n,r,a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.analysisModel,a=t.filterModel,i=t.dateFilter,c=t.isPromotion,e.abrupt("return",d.h.post("/market/insight/chart/find/PRICE_RANGE_DISTRIBUTE",{projectId:n,analysisModel:r,filterModel:a,dateFilter:i,isPromotion:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return A.apply(this,arguments)}function A(){return(A=(0,p.Z)(o().mark((function e(t){var n,r,a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.analysisModel,a=t.filterModel,i=t.dateFilter,c=t.isPromotion,e.abrupt("return",d.h.post("/market/insight/chart/find/SKU_SALES_CHART",{projectId:n,analysisModel:r,filterModel:a,dateFilter:i,isPromotion:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return M.apply(this,arguments)}function M(){return(M=(0,p.Z)(o().mark((function e(t){var n,r,a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.analysisModel,a=t.filterModel,i=t.dateFilter,c=t.isPromotion,e.abrupt("return",d.h.post("/market/insight/chart/find/SHOP_SALES_CHART",{projectId:n,analysisModel:r,filterModel:a,dateFilter:i,isPromotion:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=["projectId","pageType"],L={onSaleData:void 0,onSaleSKUData:void 0,activeData:void 0,saledData:void 0,platformSaledData:void 0,platformSaledDataType:-1,fPlatformSaledDataType:"",platformSaledTimeType:"DAY",fPlatformSaledTimeType:"",priceZoneData:void 0,priceZoneDataType:-1,fPriceZoneDataType:"",spuTop5Data:void 0,spuTop5DataType:-1,fSpuTop5DataType:"",spuTop5TimeType:"DAY",fSpuTop5TimeType:"",shopTop5Data:void 0,shopTop5DataType:-1,fShopTop5DataType:"",shopTop5TimeType:"DAY",fShopTop5TimeType:"",timeTypeOpts:[],defaultTimeType:"DAY",projectId:void 0,analysisModel:void 0,filterModel:void 0,dateFilter:void 0,pageType:""},P=function(e){return{namespace:e,state:Object.assign({},L),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},L)}},effects:{fetchParams:o().mark((function t(n,r){var i,c,s,u,l,p,d,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.payload,c=r.select,s=r.call,u=r.put,t.next=4,c((function(t){var n=(0,a.Z)({},t);return(0,a.Z)({},n[e])}));case 4:if(l=t.sent,p=l.fPlatformSaledDataType,d=l.fPlatformSaledTimeType,h=l.fPriceZoneDataType,m=l.fSpuTop5DataType,v=l.fSpuTop5TimeType,y=l.fShopTop5DataType,g=l.fShopTop5TimeType,x=l.analysisModel,I=l.filterModel,b=l.dateFilter,T=l.projectId,JSON.stringify(x)!==JSON.stringify(i.analysisModel)||JSON.stringify(I)!==JSON.stringify(i.filterModel)||JSON.stringify(b)!==JSON.stringify(i.dateFilter)){t.next=18;break}return t.abrupt("return");case 18:if(E={platformSaledDataType:p||-1,platformSaledTimeType:d||i.defaultTimeType,priceZoneDataType:h||-1,spuTop5DataType:m||-1,spuTop5TimeType:v||i.defaultTimeType,shopTop5DataType:y||-1,shopTop5TimeType:g||i.defaultTimeType},w={fPlatformSaledDataType:p,fPlatformSaledTimeType:d,fPriceZoneDataType:h,fSpuTop5DataType:m,fSpuTop5TimeType:v,fShopTop5DataType:y,fShopTop5TimeType:g},T){t.next=31;break}return t.prev=21,t.next=24,s(f,{projectId:i.projectId,pageType:i.pageType});case 24:k=t.sent,2e4===(C=k.data).code&&C.result&&(S=JSON.parse(C.result),Object.keys(S).forEach((function(e){w[e]=S[e]})),N=Object.keys(E),Object.keys(w).forEach((function(e,t){w[e]&&(E[N[t]]=w[e])}))),t.next=31;break;case 29:t.prev=29,t.t0=t.catch(21);case 31:return["platformSaledTimeType","spuTop5TimeType","shopTop5TimeType"].forEach((function(e){!i.timeTypeOpts.find((function(t){return t.value===E[e]}))&&(E[e]=i.defaultTimeType)})),O=(0,a.Z)({},i,E,w),t.next=35,u({type:"fetchOnSaleData",payload:O});case 35:return t.next=37,u({type:"fetchOnSaleSKUData",payload:O});case 37:return t.next=39,u({type:"fetchActiveData",payload:O});case 39:return t.next=41,u({type:"fetchSaledData",payload:O});case 41:return t.next=43,u({type:"fetchPlatformSaledData",payload:O});case 43:return t.next=45,u({type:"fetchPriceZoneData",payload:O});case 45:if("MARKET_BRAND_ANALYSIS"!==i.pageType){t.next=48;break}return t.next=48,u({type:"fetchSPUTop5Data",payload:O});case 48:return t.next=50,u({type:"fetchShopTop5Data",payload:O});case 50:case"end":return t.stop()}}),t,null,[[21,29]])})),fetchOnSaleData:o().mark((function t(n,r){var i,c,s,u,p,d,f,h,m,v,y,g,I;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.payload,c=r.select,s=r.call,u=r.put,t.next=4,c((function(t){var n=(0,a.Z)({},t);return(0,a.Z)({},n[e])}));case 4:return p=t.sent,d=p.projectId,f=p.analysisModel,h=p.filterModel,m=p.dateFilter,v=p.pageType,y="error",t.prev=11,t.next=14,s(x,{projectId:i.projectId||d,dateFilter:i.dateFilter||m,analysisModel:i.analysisModel||f,filterModel:i.filterModel||h,sameRateType:i.onSaleCompareType,pageType:i.pageType||v});case 14:g=t.sent,2e4===(I=g.data).code&&(y=l(0,I.result)),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(11),t.t0;case 22:return t.prev=22,t.next=25,u({type:"save",payload:(0,a.Z)({onSaleData:y},i)});case 25:return t.finish(22);case 26:case"end":return t.stop()}}),t,null,[[11,19,22,26]])})),fetchOnSaleSKUData:o().mark((function t(n,r){var i,c,s,u,p,d,f,h,m,v,y,g,x;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.payload,c=r.select,s=r.call,u=r.put,t.next=4,c((function(t){var n=(0,a.Z)({},t);return(0,a.Z)({},n[e])}));case 4:return p=t.sent,d=p.projectId,f=p.analysisModel,h=p.filterModel,m=p.dateFilter,v=p.pageType,y="error",t.prev=11,t.next=14,s(b,{projectId:i.projectId||d,dateFilter:i.dateFilter||m,analysisModel:i.analysisModel||f,filterModel:i.filterModel||h,sameRateType:i.onSaleSKUDataCompareType,pageType:i.pageType||v});case 14:g=t.sent,2e4===(x=g.data).code&&(y=l(1,x.result)),t.next=21;break;case 19:t.prev=19,t.t0=t.catch(11);case 21:return t.prev=21,t.next=24,u({type:"save",payload:(0,a.Z)({onSaleSKUData:y},i)});case 24:return t.finish(21);case 25:case"end":return t.stop()}}),t,null,[[11,19,21,25]])})),fetchActiveData:o().mark((function t(n,r){var i,c,s,u,p,d,f,h,m,v,y,g,x;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.payload,c=r.select,s=r.call,u=r.put,t.next=4,c((function(t){var n=(0,a.Z)({},t);return(0,a.Z)({},n[e])}));case 4:return p=t.sent,d=p.projectId,f=p.analysisModel,h=p.filterModel,m=p.dateFilter,v=p.pageType,y="error",t.prev=11,t.next=14,s(E,{projectId:i.projectId||d,dateFilter:i.dateFilter||m,analysisModel:i.analysisModel||f,filterModel:i.filterModel||h,sameRateType:i.activeDataCompareType,pageType:i.pageType||v});case 14:g=t.sent,2e4===(x=g.data).code&&(y=l(2,x.result)),t.next=21;break;case 19:t.prev=19,t.t0=t.catch(11);case 21:return t.prev=21,t.next=24,u({type:"save",payload:(0,a.Z)({activeData:y},i)});case 24:return t.finish(21);case 25:case"end":return t.stop()}}),t,null,[[11,19,21,25]])})),fetchSaledData:o().mark((function t(n,r){var i,c,s,u,p,d,f,h,m,v,y,g,x;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.payload,c=r.select,s=r.call,u=r.put,t.next=4,c((function(t){var n=(0,a.Z)({},t);return(0,a.Z)({},n[e])}));case 4:return p=t.sent,d=p.projectId,f=p.analysisModel,h=p.filterModel,m=p.dateFilter,v=p.pageType,y="error",t.prev=11,t.next=14,s(k,{projectId:i.projectId||d,dateFilter:i.dateFilter||m,analysisModel:i.analysisModel||f,filterModel:i.filterModel||h,sameRateType:i.saledDataCompareType,pageType:i.pageType||v});case 14:g=t.sent,2e4===(x=g.data).code&&(y=l(3,x.result)),t.next=21;break;case 19:t.prev=19,t.t0=t.catch(11);case 21:return t.prev=21,t.next=24,u({type:"save",payload:(0,a.Z)({saledData:y},i)});case 24:return t.finish(21);case 25:case"end":return t.stop()}}),t,null,[[11,19,21,25]])})),fetchPlatformSaledData:o().mark((function t(n,r){var i,s,u,l,p,d,f,h,m,v,y,g,x,I;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.payload,s=r.select,u=r.call,l=r.put,t.next=4,s((function(t){var n=(0,a.Z)({},t);return(0,a.Z)({},n[e])}));case 4:return p=t.sent,d=p.projectId,f=p.analysisModel,h=p.filterModel,m=p.dateFilter,v=p.platformSaledTimeType,y="error",t.prev=11,t.next=14,u(S,{projectId:i.projectId||d,analysisModel:i.analysisModel||f,filterModel:i.filterModel||h,dateFilter:(0,c.ZP)(i.dateFilter||m,(function(e){e.dateGroupType=i.platformSaledTimeType||v}))});case 14:g=t.sent,2e4===(x=g.data).code&&(I=x.result.reduce((function(e,t){return!t.sourceList.length&&e}),!0),y=I?"empty":x.result),t.next=21;break;case 19:t.prev=19,t.t0=t.catch(11);case 21:return t.prev=21,t.next=24,l({type:"save",payload:(0,a.Z)({platformSaledData:y},i)});case 24:return t.finish(21);case 25:case"end":return t.stop()}}),t,null,[[11,19,21,25]])})),fetchPriceZoneData:o().mark((function t(n,r){var i,c,s,u,l,p,d,f,h,m,v,y,g,x,I,b;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.payload,c=r.select,s=r.call,u=r.put,t.next=4,c((function(t){var n=(0,a.Z)({},t);return(0,a.Z)({},n[e])}));case 4:return l=t.sent,p=l.projectId,d=l.analysisModel,f=l.filterModel,h=l.dateFilter,m=l.priceZoneDataType,v="error",y=void 0!==i.priceZoneDataType?i.priceZoneDataType:m,g=-1===y?void 0:y,t.prev=13,t.next=16,s(O,{projectId:i.projectId||p,analysisModel:i.analysisModel||d,filterModel:i.filterModel||f,dateFilter:i.dateFilter||h,isPromotion:g});case 16:x=t.sent,2e4===(I=x.data).code&&(b=I.result.reduce((function(e,t){return!t.productCount&&e}),!0),v=b?"empty":I.result),t.next=23;break;case 21:t.prev=21,t.t0=t.catch(13);case 23:return t.prev=23,t.next=26,u({type:"save",payload:(0,a.Z)({priceZoneData:v},i)});case 26:return t.finish(23);case 27:case"end":return t.stop()}}),t,null,[[13,21,23,27]])})),fetchSPUTop5Data:o().mark((function t(n,r){var i,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.payload,s=r.select,u=r.call,l=r.put,t.next=4,s((function(t){var n=(0,a.Z)({},t);return(0,a.Z)({},n[e])}));case 4:return p=t.sent,d=p.projectId,f=p.analysisModel,h=p.filterModel,m=p.dateFilter,v=p.spuTop5DataType,y=p.spuTop5TimeType,g="error",x=void 0!==i.spuTop5DataType?i.spuTop5DataType:v,I=-1===x?void 0:x,t.prev=14,t.next=17,u(j,{projectId:i.projectId||d,analysisModel:i.analysisModel||f,filterModel:i.filterModel||h,dateFilter:(0,c.ZP)(i.dateFilter||m,(function(e){e.dateGroupType=i.spuTop5TimeType||y})),isPromotion:I});case 17:b=t.sent,2e4===(T=b.data).code&&(E=T.result.reduce((function(e,t){return!t.sourceList.length&&e}),!0),g=E?"empty":T.result),t.next=24;break;case 22:t.prev=22,t.t0=t.catch(14);case 24:return t.prev=24,t.next=27,l({type:"save",payload:(0,a.Z)({spuTop5Data:g},i)});case 27:return t.finish(24);case 28:case"end":return t.stop()}}),t,null,[[14,22,24,28]])})),fetchShopTop5Data:o().mark((function t(n,r){var i,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.payload,s=r.select,u=r.call,l=r.put,t.next=4,s((function(t){var n=(0,a.Z)({},t);return(0,a.Z)({},n[e])}));case 4:return p=t.sent,d=p.projectId,f=p.analysisModel,h=p.filterModel,m=p.dateFilter,v=p.shopTop5DataType,y=p.shopTop5TimeType,g="error",x=void 0!==i.shopTop5DataType?i.shopTop5DataType:v,I=-1===x?void 0:x,t.prev=14,t.next=17,u(D,{projectId:i.projectId||d,analysisModel:i.analysisModel||f,filterModel:i.filterModel||h,dateFilter:(0,c.ZP)(i.dateFilter||m,(function(e){e.dateGroupType=i.shopTop5TimeType||y})),isPromotion:I});case 17:b=t.sent,2e4===(T=b.data).code&&(E=T.result.reduce((function(e,t){return!t.sourceList.length&&e}),!0),g=E?"empty":T.result),t.next=24;break;case 22:t.prev=22,t.t0=t.catch(14);case 24:return t.prev=24,t.next=27,l({type:"save",payload:(0,a.Z)({shopTop5Data:g},i)});case 27:return t.finish(24);case 28:case"end":return t.stop()}}),t,null,[[14,22,24,28]])})),setDefaultValue:o().mark((function t(n,i){var c,s,u,l,p,d,f,h,v,y;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.payload,s=i.select,u=i.call,l=i.put,t.next=4,s((function(t){var n=(0,a.Z)({},t);return(0,a.Z)({},n[e])}));case 4:return p=t.sent,d=p.projectId,f=p.pageType,h=(0,r.Z)(p,R),v=["fPlatformSaledDataType","fPlatformSaledTimeType","fPriceZoneDataType","fSpuTop5DataType","fSpuTop5TimeType","fShopTop5DataType","fShopTop5TimeType"].reduce((function(e,t){return e[t]=void 0!==c[t]?c[t]:h[t],e}),{}),t.prev=9,t.next=12,u(m,{projectId:c.projectId||d,pageType:c.pageType||f,value:v});case 12:if(y=t.sent,2e4!==y.data.code){t.next=17;break}return t.next=17,l({type:"save",payload:(0,a.Z)({},c)});case 17:t.next=21;break;case 19:t.prev=19,t.t0=t.catch(9);case 21:case"end":return t.stop()}}),t,null,[[9,19]])}))}}}},75919:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(15861),s=n(49722);function u(e){return l.apply(this,arguments)}function l(){return(l=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,e.abrupt("return",s.h.post("/market/insight/chart/find/ON_SALES_PRODUCT_INDICATOR_CARD",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,e.abrupt("return",s.h.post("/market/insight/chart/find/TOTAL_SALES_INDICATOR_CARD",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,e.abrupt("return",s.h.post("/market/insight/chart/find/SALES_INDICATOR_CARD",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,e.abrupt("return",s.h.post("/market/insight/chart/find/CIRCULATION_SALES_INDICATOR_CARD",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,e.abrupt("return",s.h.post("/market/insight/chart/find/SPU_TOTAL_SALES_CHART",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,e.abrupt("return",s.h.post("/market/insight/chart/find/SPU_COUNT_SALES_CHART",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,e.abrupt("return",s.h.post("/market/insight/chart/find/SPU_MATRIX_SALES_CHART",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=o.Z.market.hotDiscovery,w={onSaleData:void 0,historySaleData:void 0,saleData:void 0,compareSaleData:void 0,historySaleRangeData:void 0,saleRangeData:void 0,saleAnalysisData:void 0,projectId:void 0,dateFilter:void 0,filterModel:void 0,analysisModel:void 0};const k={namespace:E,state:Object.assign({},w),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[E]}));case 4:if(s=e.sent,s.projectId,u=s.dateFilter,l=s.filterModel,p=s.analysisModel,JSON.stringify(a.filterModel)!==JSON.stringify(l)||JSON.stringify(a.dateFilter)!==JSON.stringify(u)||JSON.stringify(a.analysisModel)!==JSON.stringify(p)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,o({type:"fetchOnSaleData",payload:a});case 13:return e.next=15,o({type:"fetchHistorySaleData",payload:a});case 15:return e.next=17,o({type:"fetchSaleData",payload:a});case 17:return e.next=19,o({type:"fetchCompareSaleData",payload:a});case 19:return e.next=21,o({type:"fetchHistorySaleRangeData",payload:a});case 21:return e.next=23,o({type:"fetchSaleRangeData",payload:a});case 23:return e.next=25,o({type:"fetchSaleAnalysisData",payload:a});case 25:case"end":return e.stop()}}),e)})),fetchOnSaleData:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E]}));case 4:return l=e.sent,p=l.projectId,d=l.dateFilter,f=l.filterModel,h=l.analysisModel,m="error",e.prev=10,e.next=13,o(u,{projectId:a.projectId||p,dateFilter:a.dateFilter||d,filterModel:a.filterModel||f,analysisModel:a.analysisModel||h});case 13:v=e.sent,2e4===(y=v.data).code&&(m=[{name:"\u5728\u552e\u5546\u54c1\u6570",count:y.result,format:"myriad"}]),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,r.Z)({},a,{onSaleData:m})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchHistorySaleData:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E]}));case 4:return u=e.sent,l=u.projectId,d=u.dateFilter,f=u.filterModel,h=u.analysisModel,m="error",e.prev=10,e.next=13,o(p,{projectId:a.projectId||l,dateFilter:a.dateFilter||d,filterModel:a.filterModel||f,analysisModel:a.analysisModel||h});case 13:v=e.sent,2e4===(y=v.data).code&&(m=[{name:"\u5386\u53f2\u7d2f\u8ba1\u9500\u91cf",count:y.result,format:"myriad"}]),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,r.Z)({},a,{historySaleData:m})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchSaleData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,h=u.analysisModel,m="error",e.prev=10,e.next=13,o(f,{projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d,analysisModel:a.analysisModel||h});case 13:v=e.sent,2e4===(y=v.data).code&&(m=[{name:"\u9500\u91cf",count:y.result,format:"myriad"}]),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,r.Z)({},a,{saleData:m})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchCompareSaleData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f=u.analysisModel,h="error",e.prev=10,e.next=13,o(m,{projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d,analysisModel:a.analysisModel||f});case 13:v=e.sent,2e4===(y=v.data).code&&(h=[{name:"\u4e0a\u671f\u9500\u91cf",count:y.result,format:"myriad"}]),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,r.Z)({},a,{compareSaleData:h})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchHistorySaleRangeData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f=u.analysisModel,h="error",e.prev=10,e.next=13,o(y,{projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d,analysisModel:a.analysisModel||f});case 13:m=e.sent,v=m.data,h=2e4===v.code&&v.result.length?v.result:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,r.Z)({},a,{historySaleRangeData:h})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchSaleRangeData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f=u.analysisModel,h="error",e.prev=10,e.next=13,o(x,{projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d,analysisModel:a.analysisModel||f});case 13:m=e.sent,v=m.data,h=2e4===v.code&&v.result.length?v.result:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,r.Z)({},a,{saleRangeData:h})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchSaleAnalysisData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f=u.analysisModel,h="error",e.prev=10,e.next=13,o(b,{projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d,analysisModel:a.analysisModel||f});case 13:m=e.sent,v=m.data,h=2e4===v.code&&v.result.length?v.result:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,r.Z)({},a,{saleAnalysisData:h})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])}))}}},52861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(87462),a=n(87757),i=n.n(a),o=n(87219),c=(n(39432),n(15861)),s=n(49722),u="MARKET_NEW_MONITORING";function l(e){return p.apply(this,arguments)}function p(){return(p=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,c=t.days,e.abrupt("return",s.h.post("/market/insight/chart/find/DAYS_NEW_PRODUCT_INDICATOR_CARD",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o,days:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,c=t.selectType,e.abrupt("return",s.h.post("/market/insight/chart/find/RANKING_OF_NEW_PRODUCTS_CHART",{filterModel:a,analysisModel:o,selectType:c,dateFilter:r,projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,c=t.selectType,e.abrupt("return",s.h.post("/market/insight/chart/find/TREND_OF_NEW_PRODUCTS_CHART",{filterModel:a,analysisModel:o,selectType:c,dateFilter:r,projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,c=t.selectType,u=t.selectValue,l=t.selectDate,e.abrupt("return",s.h.post("/market/insight/sku/list",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o,selectType:c,selectValue:u,selectDate:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,c=t.skuIdList,u=t.selectType,l=t.selectValue,p=t.selectDate,e.abrupt("return",s.h.post("/market/insight/sku/detail/list",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o,skuIdList:c,selectType:u,selectValue:l,selectDate:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,c.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",s.h.post("/default/value/find",{projectId:n,key:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",s.h.post("/default/value/update",{projectId:n,key:u,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=n(64396).Z.market.newMonitoring,k={count1:void 0,count7:void 0,count15:void 0,count30:void 0,timeType:"",timeTypeFlavor:"",selectType:"",selectTypeFlavor:"",topList:void 0,countTrend:void 0,pageSize:10,pageIndex:1,detailList:void 0,total:0,timeTypeOpts:[],defaultTimeType:"DAY",projeceId:void 0,analysisModel:void 0,filterModel:void 0,dateFilter:void 0},C=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const S={namespace:w,state:Object.assign({},k),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,g,x,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[w]}));case 4:if(u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f=u.analysisModel,h=u.timeTypeFlavor,m=u.selectTypeFlavor,JSON.stringify(a.projectId)!==JSON.stringify(l)||JSON.stringify(a.filterModel)!==JSON.stringify(d)||JSON.stringify(a.dateFilter)!==JSON.stringify(p)||JSON.stringify(a.analysisModel)!==JSON.stringify(f)){e.next=13;break}return e.abrupt("return");case 13:return v={timeType:h||a.defaultTimeType,selectType:m||"SPU"},y={timeTypeFlavor:h,selectTypeFlavor:m},e.prev=15,e.next=18,o(I,{projectId:a.projectId});case 18:g=e.sent,2e4===(x=g.data).code&&x.result&&(y=JSON.parse(x.result),b=Object.keys(v),Object.keys(y).forEach((function(e,t){y[e]&&(v[b[t]]=y[e])}))),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return["timeType"].forEach((function(e){!a.timeTypeOpts.find((function(t){return t.value===v[e]}))&&(v[e]=a.defaultTimeType)})),e.next=28,c({type:"save",payload:(0,r.Z)({},a,y,v)});case 28:return e.next=30,c({type:"fetchDatas",payload:a});case 30:case"end":return e.stop()}}),e,null,[[15,23]])})),fetchDatas:i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(C,100);case 4:return e.next=6,o({type:"fetchNewCard",payload:r});case 6:return e.next=8,o({type:"fetch7NewCard",payload:r});case 8:return e.next=10,o({type:"fetch15NewCard",payload:r});case 10:return e.next=12,o({type:"fetch30NewCard",payload:r});case 12:return e.next=14,o({type:"fetchTopList",payload:r});case 14:return e.next=16,o({type:"fetchSkuIdList",payload:r});case 16:case"end":return e.stop()}}),e)})),fetchNewCard:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[w]}));case 4:return u=e.sent,p=u.projectId,d=u.dateFilter,f=u.filterModel,h=u.analysisModel,m="error",e.prev=10,v={projectId:a.projectId||p,dateFilter:a.dateFilter||d,filterModel:a.filterModel||f,analysisModel:a.analysisModel||h,days:0},e.next=14,o(l,v);case 14:y=e.sent,2e4===(g=y.data).code&&(m=g.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,c({type:"save",payload:{count1:m}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetch7NewCard:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[w]}));case 4:return u=e.sent,p=u.projectId,d=u.dateFilter,f=u.filterModel,h=u.analysisModel,m="error",e.prev=10,v={projectId:a.projectId||p,dateFilter:a.dateFilter||d,filterModel:a.filterModel||f,analysisModel:a.analysisModel||h,days:7},e.next=14,o(l,v);case 14:y=e.sent,2e4===(g=y.data).code&&(m=g.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,c({type:"save",payload:{count7:m}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetch15NewCard:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[w]}));case 4:return u=e.sent,p=u.projectId,d=u.dateFilter,f=u.filterModel,h=u.analysisModel,m={projectId:a.projectId||p,dateFilter:a.dateFilter||d,filterModel:a.filterModel||f,analysisModel:a.analysisModel||h,days:15},v="error",e.prev=11,e.next=14,o(l,m);case 14:y=e.sent,2e4===(g=y.data).code&&(v=g.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,c({type:"save",payload:{count15:v}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[11,19]])})),fetch30NewCard:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[w]}));case 4:return u=e.sent,p=u.projectId,d=u.dateFilter,f=u.filterModel,h=u.analysisModel,m={projectId:a.projectId||p,dateFilter:a.dateFilter||d,filterModel:a.filterModel||f,analysisModel:a.analysisModel||h,days:30},v="error",e.prev=11,e.next=14,o(l,m);case 14:y=e.sent,2e4===(g=y.data).code&&(v=g.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,c({type:"save",payload:{count30:v}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[11,19]])})),fetchTopList:i().mark((function e(t,n){var a,c,s,u,l,p,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[w]}));case 4:return l=e.sent,p=l.projectId,f=l.dateFilter,h=l.filterModel,m=l.analysisModel,v=l.timeType,y=l.selectType,g="error",e.prev=12,x=a.timeType||v,I=(0,o.ZP)(a.dateFilter||f,(function(e){e.dateGroupType=x})),b={projectId:a.projectId||p,dateFilter:I,filterModel:a.filterModel||h,analysisModel:a.analysisModel||m,selectType:a.selectType||y},e.next=18,c(d,b);case 18:if(T=e.sent,!(2e4===(E=T.data).code&&E.result&&E.result.length>0)){e.next=26;break}return g=E.result,e.next=24,u({type:"fetchCountTrend",payload:a});case 24:e.next=29;break;case 26:return g="empty",e.next=29,u({type:"save",payload:{countTrend:"empty"}});case 29:e.next=33;break;case 31:e.prev=31,e.t0=e.catch(12);case 33:return e.prev=33,e.next=36,u({type:"save",payload:(0,r.Z)({},a,{topList:g})});case 36:return e.finish(33);case 37:case"end":return e.stop()}}),e,null,[[12,31,33,37]])})),fetchCountTrend:i().mark((function e(t,n){var a,c,s,u,l,p,d,f,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[w]}));case 4:return l=e.sent,p=l.projectId,d=l.dateFilter,f=l.filterModel,m=l.analysisModel,v=l.timeType,y=l.selectType,g="error",e.prev=12,x=a.timeType||v,I=(0,o.ZP)(a.dateFilter||d,(function(e){e.dateGroupType=x})),b={projectId:a.projectId||p,dateFilter:I,filterModel:a.filterModel||f,analysisModel:a.analysisModel||m,selectType:a.selectType||y},e.next=18,c(h,b);case 18:T=e.sent,E=T.data,g=2e4===E.code&&E.result?E.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:return e.prev=25,e.next=28,u({type:"save",payload:{countTrend:g}});case 28:return e.finish(25);case 29:case"end":return e.stop()}}),e,null,[[12,23,25,29]])})),fetchSkuIdList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[w]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f=u.analysisModel,u.timeType,h=u.selectType,m=[],y=0,e.prev=12,g=a.dateFilter||p,x={projectId:a.projectId||l,filterModel:a.filterValue||d,analysisModel:a.analysisModel||f,dateFilter:g},a.selectDate&&(x.selectDate=a.selectDate),a.selectTypes&&(x.selectType=a.selectTypes||h),a.selectValue&&(x.selectValue=a.selectValue),e.next=20,o(v,x);case 20:if(I=e.sent,!(2e4===(b=I.data).code&&b.result.length>0)){e.next=29;break}return m=b.result,y=b.result.length,e.next=27,s({type:"fetchDetailList",payload:(0,r.Z)({},a,{skuIdList:m})});case 27:e.next=31;break;case 29:return e.next=31,s({type:"save",payload:{detailList:"empty"}});case 31:e.next=35;break;case 33:e.prev=33,e.t0=e.catch(12);case 35:return e.prev=35,e.next=38,s({type:"save",payload:(0,r.Z)({},a,{skuIdList:m,total:y})});case 38:return e.finish(35);case 39:case"end":return e.stop()}}),e,null,[[12,33,35,39]])})),fetchDetailList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,x,I,b,T,E,k,C,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[w]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f=u.analysisModel,u.timeType,h=u.selectType,m=u.pageSize,v=u.pageIndex,y=u.skuIdList,x="error",e.prev=15,I=a.dateFilter||p,b=a.pageIndex||v,T=a.pageSize||m,E=a.skuIdList||y,k={projectId:a.projectId||l,filterModel:a.filterValue||d,analysisModel:a.analysisModel||f,skuIdList:E.slice((b-1)*T,b*T),dateFilter:I},a.selectDate&&(k.selectDate=a.selectDate),a.selectTypes&&(k.selectType=a.selectTypes||h),a.selectValue&&(k.selectValue=a.selectValue),e.next=26,o(g,k);case 26:C=e.sent,S=C.data,x=2e4===S.code&&S.result.count>0?S.result.result:"empty",e.next=33;break;case 31:e.prev=31,e.t0=e.catch(15);case 33:return e.prev=33,e.next=36,s({type:"save",payload:(0,r.Z)({},a,{detailList:x})});case 36:return e.finish(33);case 37:case"end":return e.stop()}}),e,null,[[15,31,33,37]])})),updateFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[w]}));case 4:return u=e.sent,l=u.projectId,p=u.timeTypeFlavor,d=u.selectTypeFlavor,e.prev=8,f={timeTypeFlavor:void 0!==a.timeTypeFlavor?a.timeTypeFlavor:p,selectTypeFlavor:void 0!==a.selectTypeFlavor?a.selectTypeFlavor:d},e.next=12,o(T,{projectId:l,value:JSON.stringify(f)});case 12:if(h=e.sent,2e4!==h.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:f});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}}),e,null,[[8,19]])}))}}},43637:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(87462),a=n(87757),i=n.n(a),o=n(87219),c=n(15861),s=n(49722),u="MARKET_SALES_ANALYSE";function l(e){return p.apply(this,arguments)}function p(){return(p=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,e.abrupt("return",s.h.post("/market/insight/chart/find/ON_COUNT_SKU_CARD_CHART",{projectId:n,dateFilter:r,filterModel:a,marketInsightModule:"MARKET_SALE_ANALYSIS"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,e.abrupt("return",s.h.post("/market/insight/chart/find/ACTIVITY_ITEM_COUNT_CARD_CHART",{projectId:n,dateFilter:r,filterModel:a,marketInsightModule:"MARKET_SALE_ANALYSIS"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,e.abrupt("return",s.h.post("/market/insight/chart/find/SALE_COUNT_CARD_CHART",{projectId:n,dateFilter:r,filterModel:a,marketInsightModule:"MARKET_SALE_ANALYSIS"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.cardType,a=t.sameRateType,e.abrupt("return",s.h.post("/market/insight/set-same-rate",{projectId:n,cardType:r,sameRateType:a,marketInsightModule:"MARKET_SALE_ANALYSIS"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,e.abrupt("return",s.h.post("/market/insight/chart/find/PRODUCT_SALE_DISTRIBUTE",{projectId:n,filterModel:a,dateFilter:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,e.abrupt("return",s.h.post("/market/insight/chart/find/SALE_TAKE_PRICE_CHART",{projectId:n,filterModel:a,dateFilter:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",s.h.post("/default/value/find",{projectId:n,key:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",s.h.post("/default/value/update",{projectId:n,key:u,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=n(5133),S=n(64396).Z.market.salesAnalysis,N={saling:void 0,activeSaling:void 0,salesCount:void 0,timeType:"",timeTypeFlavor:"",saleData:void 0,priceType:"",priceTypeFlavor:"",priceData:void 0,timeTypeOpts:[],defaultTimeType:"DAY",projeceId:void 0,analysisModel:void 0,filterModel:void 0,dateFilter:void 0},O=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const _={namespace:S,state:Object.assign({},N),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[S]}));case 4:if(u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f=u.analysisModel,h=u.timeTypeFlavor,m=u.priceTypeFlavor,JSON.stringify(a.projectId)!==JSON.stringify(l)||JSON.stringify(a.filterModel)!==JSON.stringify(d)||JSON.stringify(a.dateFilter)!==JSON.stringify(p)||JSON.stringify(a.analysisModel)!==JSON.stringify(f)){e.next=13;break}return e.abrupt("return");case 13:return v={timeType:h||a.defaultTimeType,priceType:m||"takePriceList"},y={timeTypeFlavor:h,priceTypeFlavor:m},e.prev=15,e.next=18,o(T,{projectId:a.projectId});case 18:g=e.sent,2e4===(x=g.data).code&&x.result&&(y=JSON.parse(x.result),I=Object.keys(v),Object.keys(y).forEach((function(e,t){y[e]&&(v[I[t]]=y[e])}))),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(15);case 25:return["timeType"].forEach((function(e){!a.timeTypeOpts.find((function(t){return t.value===v[e]}))&&(v[e]=a.defaultTimeType)})),e.next=28,c({type:"save",payload:(0,r.Z)({},a,y,v)});case 28:return e.next=30,c({type:"fetchDatas",payload:a});case 30:case"end":return e.stop()}}),e,null,[[15,23]])})),fetchDatas:i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(O,100);case 4:return e.next=6,o({type:"fetchSalingCard",payload:r});case 6:return e.next=8,o({type:"fetchActiveCard",payload:r});case 8:return e.next=10,o({type:"fetchSalesCountCard",payload:r});case 10:return e.next=12,o({type:"fetchSaleData",payload:r});case 12:return e.next=14,o({type:"fetchPriceData",payload:r});case 14:case"end":return e.stop()}}),e)})),fetchSalingCard:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[S]}));case 4:return u=e.sent,p=u.projectId,d=u.dateFilter,f=u.filterModel,h=u.analysisModel,m="error",e.prev=10,v={projectId:a.projectId||p,dateFilter:a.dateFilter||d,filterModel:a.filterModel||f,analysisModel:a.analysisModel||h},e.next=14,o(l,v);case 14:y=e.sent,2e4===(g=y.data).code&&g.result&&(m=g.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,c({type:"save",payload:{saling:m}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetchActiveCard:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[S]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,f=u.filterModel,h=u.analysisModel,m="error",e.prev=10,v={projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||f,analysisModel:a.analysisModel||h},e.next=14,o(d,v);case 14:y=e.sent,2e4===(g=y.data).code&&g.result&&(m=g.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,c({type:"save",payload:{activeSaling:m}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetchSalesCountCard:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[S]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f=u.analysisModel,m={projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d,analysisModel:a.analysisModel||f},v="error",e.prev=11,e.next=14,o(h,m);case 14:y=e.sent,2e4===(g=y.data).code&&g.result&&(v=g.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,c({type:"save",payload:{salesCount:v}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[11,19]])})),setSameRate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[S]}));case 4:return u=e.sent,l=u.projectId,p=a.cartType,d=a.sameRateType,e.next=9,o(v,{projectId:l,cardType:p,sameRateType:d});case 9:if(f=e.sent,2e4!==f.data.code){e.next=24;break}e.t0=p,e.next="ON_COUNT_SKU_CARD_CHART"===e.t0?15:"ACTIVITY_ITEM_COUNT_CARD_CHART"===e.t0?17:"SALE_COUNT_CARD_CHART"===e.t0?19:21;break;case 15:return h="fetchSalingCard",e.abrupt("break",21);case 17:return h="fetchActiveCard",e.abrupt("break",21);case 19:return h="fetchSalesCountCard",e.abrupt("break",21);case 21:return C.Z.success("\u8bbe\u7f6e\u6210\u529f"),e.next=24,c({type:h,payload:a});case 24:case"end":return e.stop()}}),e)})),fetchSaleData:i().mark((function e(t,n){var a,c,s,u,l,p,d,f,h,m,v,y,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[S]}));case 4:return l=e.sent,p=l.projectId,d=l.dateFilter,f=l.filterModel,h=l.timeType,m="error",e.prev=10,v=a.timeType||h,y=(0,o.ZP)(a.dateFilter||d,(function(e){e.dateGroupType=v})),x={projectId:a.projectId||p,dateFilter:y,filterModel:a.filterModel||f},e.next=16,c(g,x);case 16:return I=e.sent,b=I.data,m=2e4===b.code&&b.result.length>0?b.result:"empty",e.next=21,u({type:"save",payload:(0,r.Z)({},a,{saleData:m})});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(10);case 25:case"end":return e.stop()}}),e,null,[[10,23]])})),fetchPriceData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[S]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f=u.priceType,h="error",e.prev=10,m={projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d,type:a.priceType||f},e.next=14,o(I,m);case 14:return v=e.sent,y=v.data,h=2e4===y.code&&y.result.length>0?y.result:"empty",e.next=19,s({type:"save",payload:(0,r.Z)({},a,{priceData:h})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(10);case 23:case"end":return e.stop()}}),e,null,[[10,21]])})),updateFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[S]}));case 4:return u=e.sent,l=u.projectId,p=u.timeTypeFlavor,d=u.priceTypeFlavor,e.prev=8,f={timeTypeFlavor:void 0!==a.timeTypeFlavor?a.timeTypeFlavor:p,priceTypeFlavor:void 0!==a.priceTypeFlavor?a.priceTypeFlavor:d},e.next=12,o(w,{projectId:l,value:JSON.stringify(f)});case 12:if(h=e.sent,2e4!==h.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:f});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}}),e,null,[[8,19]])}))}}},89132:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(87219),c=n(55898),s=n(61193),u=n(37361),l=n(64396),p=l.Z.global,d=l.Z.message.inboxDetail,f={detailData:void 0,detailDataFetching:!1,detailParams:void 0,specifyData:void 0,operatorList:void 0,pageIndex:0,pageSize:20,noMoreData:!1,resetTime:0,fetchedTag:!1,curMessageId:void 0},h={id:null,userId:null,messageId:null,commentId:null,status:null,createdAt:null,updatedAt:null,content:null,userHeadUrl:null,username:null,email:null},m=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const v={namespace:d,state:Object.assign({},f),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},saveRelatedCount:function(e,t){var n=t.payload,a=e.detailData,i=e.specifyData,o=n.id,c=n.count,s=Array.isArray(a)&&(null==a?void 0:a.find((function(e){return e.id===o||e.messageId===o}))),u=(null==a?void 0:a.id)===o?a:null,l=null==i?void 0:i.find((function(e){return e.id===o}));u&&(u.relatedCount=c+(u.relatedCount?u.relatedCount:0)),s&&(s.relatedCount=c+(s.relatedCount?s.relatedCount:0)),l&&(l.relatedCount=c+(l.relatedCount?l.relatedCount:0));var p=s?{detailData:[].concat(a)}:u?{detailData:JSON.parse(JSON.stringify(a))}:l?{specifyData:[].concat(i)}:{};return(0,r.Z)({},e,p)},clean:function(e,t){t.payload;return Object.assign({},(0,r.Z)({},f,{operatorList:e.operatorList}))}},effects:{fetchMsgDetail:i().mark((function e(t,n){var a,o,l,p,f,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O,_,j,A,D,M,R,L,P,F,Z,V,z,U,B;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[d]}));case 4:return f=e.sent,m=f.pageIndex,v=f.pageSize,y=f.detailParams,g=f.curMessageId,f.detailDataFetching,e.next=12,p((function(e){return e.inbox}));case 12:return x=e.sent,I=x.filterValue,b=x.MESSAGE_TYPE,T=g!==a.id?1:1+m,e.next=18,l({type:"save",payload:{detailDataFetching:!0,curMessageId:a.id}});case 18:return(E=a||y).pageIndex=T,w=null,k=!0,e.prev=21,e.next=24,p((function(e){return(0,r.Z)({},e)[d]}));case 24:if(C=e.sent,C.curMessageId===a.id){e.next=28;break}return e.abrupt("return");case 28:return e.next=30,o(c.L9,(0,r.Z)({},E,{pageSize:v,fromScene:I&&I.fromScene?I.fromScene:"",headerFilterParamsNew:I&&I.headerFilterParamsNew?I.headerFilterParamsNew:[]}));case 30:if(S=e.sent,N=S.data,!s.Z.hasAuthority("MESSAGE_ORDER_NO")){e.next=37;break}return e.next=35,o(c.Ai,{messageIds:[E.oid],projectId:E.projectId});case 35:(O=e.sent).data.result.length>0&&2e4===O.data.code&&(N.result.messageBasics[0].oids=O.data.result[0].oid);case 37:return e.next=39,p((function(e){return(0,r.Z)({},e)[d]}));case 39:if(_=e.sent,j=_.curMessageId,2e4!==N.code||j!==a.id){e.next=74;break}return w=N.result.messageBasics.map((function(e){return(0,r.Z)({},e,{messageVO:h,tagVos:[],msgHistory:"",msgType:"USEFUL_DATA"})})),e.next=45,l({type:"save",payload:{detailData:JSON.parse(JSON.stringify(w))}});case 45:if(k=N.result.total<=m+v,E.pageIndex=k?N.result.total:m+v,A=w.map((function(e){return e.id})),!(m>1)){e.next=51;break}return e.next=51,l({type:"save",payload:{specifyData:null}});case 51:return e.next=53,o(c.SQ,{ids:A,messageCategory:E.messageCategory,projectId:E.projectId,service:"SERVICE"===b});case 53:if(D=e.sent,2e4===(M=D.data).code&&M.result.forEach((function(e){var t=w.find((function(t){return t.id===e.commentId}));t&&(t.tagVos=e.tagVos),t&&(t.aspectVos=e.aspectVos)})),b&&!["COMMENT","APP_COMMENT","QUESTIONAIRE","TICKET","SELF"].includes(b)){e.next=67;break}return R={ids:A,projectId:E.projectId,categoryId:E.categoryId},("QUESTIONAIRE"===b||!b&&"QUESTIONAIRE"===E.messageCategory)&&(R.categoryId=u.messageTypeId.QUESTIONAIRE,R.ids=w.slice(0,1).map((function(e){return e.messageId}))),e.next=61,o(c.ZH,R);case 61:if(L=e.sent,2e4!==(P=L.data).code){e.next=67;break}return"QUESTIONAIRE"===b||!b&&"QUESTIONAIRE"===E.messageCategory?(F=P.result.find((function(e){return e.commentId===w[0].messageId})))&&w.forEach((function(e){var t=F.aspectVos.filter((function(t){return t.questionId===e.id}));e.aspectVos=t||[]})):"TICKET"===b||!b&&"TICKET"===E.messageCategory?((V=w[0].report?P.result.find((function(e){return w[0].report.find((function(t){return e.commentId===t.id}))})):void 0)||(V=P.result.find((function(e){return e.commentId==="TICKET_"+w[0].id})))&&w[0].report&&(w[0].report[0].aspectVos=V.aspectVos),V&&(w[0].aspectVos=V.aspectVos),null==(Z=w[0].report)||Z.forEach((function(e){var t=P.result.find((function(t){return t.commentId===e.id}));t&&(e.aspectVos=t.aspectVos)}))):P.result.forEach((function(e){var t=w.find((function(t){return t.id===e.commentId}));t&&(t.aspectVos=e.aspectVos)})),e.next=67,l({type:"save",payload:{fetchedTag:!0}});case 67:if(!(z=w.map((function(e){return e.messageId}))).length){e.next=74;break}return e.next=71,o(c.O8,{idList:z.join(",")});case 71:U=e.sent,2e4===(B=U.data).code&&Object.keys(B.result).forEach((function(e){var t=w.find((function(t){return t.messageId===e}));t&&(t.relatedCount=B.result[e])}));case 74:e.next=78;break;case 76:e.prev=76,e.t0=e.catch(21);case 78:return e.prev=78,e.next=81,l({type:"save",payload:{detailData:JSON.parse(JSON.stringify(w)),pageIndex:E.pageIndex,noMoreData:k,detailParams:E,detailDataFetching:!1}});case 81:return e.finish(78);case 82:case"end":return e.stop()}}),e,null,[[21,76,78,82]])})),fetchSpecifyMsg:i().mark((function e(t,n){var a,o,s,u,l,p,f,m,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,p=l.detailParams,e.next=8,u((function(e){return e.inbox}));case 8:return f=e.sent,m=f.MESSAGE_TYPE,v=null,e.prev=11,e.next=14,o(c.XC,a);case 14:if(y=e.sent,2e4!==(g=y.data).code){e.next=36;break}if(v=g.result.messageBasics.map((function(e){return(0,r.Z)({},e,{messageVO:h,tagVos:[]})})),!(x=v.map((function(e){return e.messageId}))).length){e.next=25;break}return e.next=22,o(c.O8,{idList:x.join(",")});case 22:I=e.sent,2e4===(b=I.data).code&&Object.keys(b.result).forEach((function(e){var t=v.find((function(t){return t.id===e}));t&&(t.relatedCount=b.result[e])}));case 25:return e.next=27,o(c.SQ,{ids:x,messageCategory:p.messageCategory,projectId:p.projectId,service:"SERVICE"===m});case 27:if(T=e.sent,2e4===(E=T.data).code&&E.result.forEach((function(e){var t=v.find((function(t){return t.id===e.commentId}));t&&(t.tagVos=e.tagVos),t&&(t.aspectVos=e.aspectVos)})),m&&!["COMMENT","APP_COMMENT","QUESTIONAIRE","TICKET"].includes(m)){e.next=36;break}return e.next=33,o(c.ZH,{ids:x,projectId:p.projectId,categoryId:p.categoryId});case 33:w=e.sent,2e4===(k=w.data).code&&k.result.forEach((function(e){var t=v.find((function(t){return t.id===e.commentId}));t&&(t.aspectVos=e.aspectVos)}));case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(11),console.error(e.t0);case 41:return e.prev=41,e.next=44,s({type:"save",payload:{specifyData:v}});case 44:return e.finish(41);case 45:case"end":return e.stop()}}),e,null,[[11,38,41,45]])})),fetchEnableOperatorList:i().mark((function e(t,n){var a,o,s,u,l,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,o=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:if(u=e.sent,!u.operatorList){e.next=8;break}return e.abrupt("return");case 8:return l=[],e.prev=9,e.next=12,a(c.sd);case 12:p=e.sent,2e4===(f=p.data).code&&(l=f.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,o({type:"save",payload:{operatorList:l}});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchCustomerServiceDetail:i().mark((function e(t,n){var a,o,s,u,l,p,f,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O,_;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,p=l.detailParams,e.next=8,u((function(e){return e.inbox}));case 8:return f=e.sent,m=f.MESSAGE_TYPE,v=a||p,e.next=13,s({type:"save",payload:{curMessageId:v.id}});case 13:return y=null,g=[],x=[],I=[],e.prev=17,e.next=20,o(c.q1,v);case 20:return b=e.sent,T=b.data,e.next=24,o(c.Ai,{sessionId:T.result.sessionId,projectId:v.projectId});case 24:return(E=e.sent).data.result.length>0&&2e4===E.data.code&&(T.result.oids=E.data.result[0].oid),e.next=28,u((function(e){return(0,r.Z)({},e)[d]}));case 28:if(w=e.sent,k=w.curMessageId,2e4!==T.code||!T.result||k!==v.id){e.next=52;break}return(y=T.result).messageVO=h,y.tagVos=[],e.next=36,s({type:"save",payload:{detailData:y}});case 36:if(g=y.aspect,x=y.topic,I=y.product,!(C=[T.result.messageId]).length){e.next=46;break}return e.next=43,o(c.O8,{idList:C.join(",")});case 43:S=e.sent,2e4===(N=S.data).code&&Object.keys(N.result).forEach((function(e){(y.id===e?e:null)&&(y.relatedCount=N.result[e])}));case 46:return e.next=48,o(c.SQ,{ids:C,messageCategory:v.messageCategory,projectId:v.projectId,service:"SERVICE"===m});case 48:O=e.sent,2e4===(_=O.data).code&&(y.tagVos=_.result[0].tagVos),2e4===_.code&&(y.aspectVos=_.result[0].aspectVos);case 52:e.next=56;break;case 54:e.prev=54,e.t0=e.catch(17);case 56:return e.prev=56,e.next=59,s({type:"save",payload:{detailData:y,detailAspect:g,detailTopic:x,detailProduct:I,detailParams:v}});case 59:return e.finish(56);case 60:case"end":return e.stop()}}),e,null,[[17,54,56,60]])})),setMessageInvalidate:i().mark((function e(t,n){var a,s,u,l,p,f,h,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.select,u=n.call,l=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return p=e.sent,f=p.detailData,e.prev=6,e.next=9,u(c.xs,a);case 9:if(h=e.sent,2e4!==h.data.code){e.next=20;break}return e.next=14,u(m,5e3);case 14:if(v=f.find((function(e){return e.id===a.id})),null,!v){e.next=20;break}return y=(0,o.ZP)(v,(function(e){e.tagVos.find((function(e){return"\u65e0\u6548\u6570\u636e"===e.tagId}))||e.tagVos.splice(0,0,{commentId:null,tagId:"\u65e0\u6548\u6570\u636e",tagName:"\u65e0\u6548\u6570\u636e",tagValue:"\u65e0\u6548\u6570\u636e",tagTypeName:null}),e.msgHistory=a.msgHistory})),e.next=20,l({type:"save",payload:{specifyData:[y]}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(6);case 24:case"end":return e.stop()}}),e,null,[[6,22]])})),setMessageValidate:i().mark((function e(t,n){var a,s,u,l,p,f,h,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[d]}));case 4:return p=e.sent,f=p.detailData,e.prev=6,e.next=9,s(c.Ez,a);case 9:if(h=e.sent,2e4!==h.data.code){e.next=20;break}return e.next=14,s(m,5e3);case 14:if(v=f.find((function(e){return e.id===a.id})),null,!v){e.next=20;break}return y=(0,o.ZP)(v,(function(e){var t=e.tagVos.findIndex((function(e){return"\u65e0\u6548\u6570\u636e"===e.tagId}));t>-1&&e.tagVos.splice(t,1),e.msgHistory=a.msgHistory})),e.next=20,u({type:"save",payload:{specifyData:[y]}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(6);case 24:case"end":return e.stop()}}),e,null,[[6,22]])})),setMessageHandleByRule:i().mark((function e(t,n){var r,a,s,u,l,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return e.global}));case 4:return l=e.sent,d=l.ruleSettingList,e.prev=6,e.next=9,a(c.Ug,r);case 9:if(f=e.sent,2e4!==f.data.code){e.next=14;break}return e.next=14,s({type:p+"/save",payload:{ruleSettingList:(0,o.ZP)(d,(function(e){e.push(r)}))}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),feedbackCommentTags:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,e.next=4,a(c.a1,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),updateMessInfoTags:i().mark((function e(t,n){var a,o,s,u,l,p,f,h,m,v,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,p=l.detailParams,f=l.detailData,h=l.specifyData,e.next=10,s((function(e){return e.inbox}));case 10:if(m=e.sent,v=m.MESSAGE_TYPE,y=a.id,g=a.index,(b=f instanceof Array)&&f.find((function(e){return e.id===y}))||!b){e.next=20;break}return e.next=18,u({type:"fetchSpecifyMsg",payload:{id:y,index:g}});case 18:e.next=37;break;case 20:return e.prev=20,e.next=23,o(c.SQ,{ids:[y],messageCategory:p.messageCategory,projectId:p.projectId,service:"SERVICE"===v});case 23:T=e.sent,E=T.data,x=JSON.parse(JSON.stringify(f)),2e4===E.code&&E.result.forEach((function(e){b?x.map((function(t){return e.commentId===t.id&&(t.tagVos=e.tagVos),t})):f.id===e.commentId&&(x=(0,r.Z)({},f,{tagVos:e.tagVos}))})),h&&h.length>0&&(I=JSON.parse(JSON.stringify(h)),w=!1,x.map((function(e){var t=I.find((function(t){return t.id===e.id}));return t&&(e.aspectVos=t.aspectVos),t&&(e.messageVO=t.messageVO),e})),I.map((function(e){var t=x.find((function(t){return t.id===e.id}));return t&&(e.tagVos=t.tagVos),e.id===y&&(w=!0),e})),w||(I=void 0)),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(20),console.error(e.t0);case 33:return e.prev=33,e.next=36,u({type:"save",payload:{specifyData:I,detailData:x}});case 36:return e.finish(33);case 37:case"end":return e.stop()}}),e,null,[[20,30,33,37]])}))}}},55898:(e,t,n)=>{"use strict";n.d(t,{L9:()=>c,Ai:()=>s,q1:()=>u,SQ:()=>l,sd:()=>p,XC:()=>d,xs:()=>f,Ez:()=>h,Ug:()=>m,ZH:()=>v,a1:()=>g,TD:()=>I,LG:()=>b,gA:()=>T,cL:()=>E,O8:()=>w});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.dateFilter,n=e.group,r=e.messageCategory,a=e.parent,i=e.dataLevel,c=e.id,s=e.index,u=e.pageIndex,l=void 0===u?1:u,p=e.pageSize,d=void 0===p?20:p,f=e.fromScene,h=e.headerFilterParamsNew,m=e.connectionId;return o.h.post("/message/detail/show",{group:n,dateFilter:t,messageCategory:r,parent:a,dataLevel:i,id:c,index:s,pageIndex:l,pageSize:d,fromScene:f,headerFilterParamsNew:h,connectionId:m})}function s(e){var t=e.messageIds,n=e.projectId,r=e.sessionId;return o.h.post("/order/find",{messageIds:t,projectId:n,sessionId:r})}function u(e){var t=e.projectId,n=e.withAspect,r=void 0===n||n,a=e.withRemark,i=void 0===a||a,c=e.sourceSessionId;return o.h.post("/waiter-session/detail/new/find",{projectId:t,withAspect:r,withRemark:i,sourceSessionId:c})}function l(e){var t=e.projectId,n=e.ids,r=e.service,a=e.messageCategory;return o.h.post("/message/tag/show",{projectId:t,ids:n,service:r,messageCategory:a})}function p(){return o.h.get("/user/enable_user/list")}function d(e){var t=e.id,n=e.index;return o.h.post("/message/find",{id:t,index:n})}function f(e){var t=e.id,n=e.index;return o.h.post("/message/sign",{id:t,index:n})}function h(e){var t=e.id,n=e.index;return o.h.post("/message/cancel/sign",{id:t,index:n})}function m(e){var t=e.id,n=e.index;return o.h.post("/message/handle/rule",{id:t,index:n})}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.ids,a=t.categoryId,e.abrupt("return",o.h.post("message/comment/tag/show",{projectId:n,ids:r,categoryId:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.feedbackDetails,a=t.historyTag,c=t.messageContent,s=t.messageId,e.abrupt("return",o.h.post("/data_feedback/save",{projectId:n,feedbackDetails:r,historyTag:a,messageContent:c,messageId:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return o.h.post("/tag/customize/search",e)}function b(e){return o.h.post("/tag/customize/set",e)}function T(e){return o.h.post("/tag/customize/recent",e)}function E(e){return o.h.post("/tag/customize/check",e)}function w(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.idList,r=t.relationKind,a=void 0===r?"MESSAGE":r,e.abrupt("return",o.h.get("/workorder/work-order/relation/count",{params:{idList:n,relationKind:a}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},51797:(e,t,n)=>{"use strict";n.d(t,{fR:()=>a,bp:()=>i,g1:()=>o});var r={commodityAnalyze:["product"],concernAnalyze:["aspect"],overview:[],all:["product","aspect"]};function a(e,t){var n=[];if(e.waiter&&e.waiter.length){var a=[],i=[],o=[],c=[];e.waiter.forEach((function(e){a.exist("id",e.sourceId)||a.push({name:e.sourceName,id:e.sourceId}),i.exist("id",e.shopId)||i.push({name:e.shopName,id:e.shopId}),o.exist("id",e.waiterId)||o.push({name:e.waiterName,id:e.waiterId}),c.exist("id",e.typeId)||c.push({name:e.typeName,id:e.typeId})})),n.push.apply(n,[{id:"source",serverKey:"source",type:"checkbox",name:"\u5e73\u53f0",list:a},{id:"shop",serverKey:"shopName",type:"checkbox",name:"\u5e97\u94fa",list:i},{id:"type",serverKey:"typeList",type:"checkbox",name:"\u5ba2\u670d\u7c7b\u578b",list:c},{id:"waiter",serverKey:"waiter",type:"checkbox",name:"\u5ba2\u670d",list:o}])}if(e.brandProduct&&n.push({id:"brand",serverKey:"brand",type:"checkbox",name:"\u54c1\u724c",list:Object.keys(e.brandProduct).map((function(e){return{id:e,name:e}}))}),e.product&&e.product.length&&r[t].includes("product")&&n.push({id:"product",serverKey:"product",type:"all"===t?"checkbox":"radio",name:"\u578b\u53f7",list:Object.keys(e.brandProduct).reduce((function(t,n){return t.concat(e.brandProduct[n])}),[]).map((function(e){return{id:e,name:e}}))}),e.aspect&&r[t].includes("aspect")){var s=[];Object.keys(JSON.parse(e.aspect)[0]).forEach((function(t){s.push({id:t,name:t,values:JSON.parse(e.aspect)[0][t].map((function(e){return{id:e,name:e}}))})})),n.push({id:"aspect",serverKey:"aspect",type:"cascade",name:"\u5173\u6ce8\u70b9",list:s})}return n.push({id:"keywords",serverKey:"keywords",type:"keywords",name:"\u5173\u952e\u8bcd"}),n}function i(e){var t={};return e.forEach((function(e){"aspect"===e.serverKey&&e.values.length>0?t[""+e.serverKey+(e.values[0].values.length>0?2:1)]=e.values[0].values.length>0?e.values[0].values.map((function(e){return e.id})):[e.values[0].id]:t[e.serverKey]=e.values})),t}function o(e,t,n){var r=["source","shop","waiter"],a=["product","brand"];n.forEach((function(n){var i=t.waiter.filter((function(e){return n.values.includes(e[n.id+"Id"])}));if(r.includes(n.id)&&e.forEach((function(e){if(n.id===e.id&&(e.hasScreening=!0),n.id!==e.id&&r.includes(e.id)&&!e.hasScreening){var t=[];i.forEach((function(n){t.some((function(t){return t.id===n[e.id+"Id"]}))||t.push({id:n[e.id+"Id"],name:n[e.id+"Name"]})})),e.list=t}})),a.includes(n.id)){var o=t.brandProduct,c=Object.keys(o);e.forEach((function(e){if(n.id===e.id&&(e.hasScreening=!0),a.includes(e.id)&&!e.hasScreening)if("brand"===n.id)e.list=c.filter((function(e){return n.values.includes(e)})).reduce((function(e,t){return e.concat(o[t])}),[]).map((function(e){return{id:e,name:e}}));else if("product"===n.id){var t=[];c.forEach((function(e){n.values.forEach((function(n){o[e].includes(n)&&!t.some((function(t){return t.id===e}))&&t.push({id:e,name:e})}))})),e.list=t}}))}}));var i=r.concat(a);return n.forEach((function(t){e.forEach((function(e){if(i.includes(t.id)&&i.includes(e.id)){var n=e.list.map((function(e){return e.id}));t.id===e.id&&(t.values=t.values.filter((function(e){return n.includes(e)})))}}))})),{list:e,values:n.filter((function(e){return e.values.length>0}))}}Array.prototype.exist=function(e,t){return this.some((function(n){return(e?n[e]:n)===t}))}},42624:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(51797);var c=n(49722);function s(e){var t=e.projectId;return c.h.post("/session/filter/find",{projectId:t})}function u(e){var t=e.id;return c.h.post("/filter/find/save",{id:t})}function l(e){var t=e.name,n=e.copy,r=e.id,a=e.type,i=e.projectId,o=e.selected;return c.h.post("/filter/add",{name:t,copy:n,type:a,id:r,projectId:i,selected:o})}var p=n(35239),d=n(64396).Z.serviceFilter;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var f={overview:"WAITER_SESSION_OVERVIEW",commodityAnalyze:"WAITER_SESSION_ASPECT",concernAnalyze:"WAITER_SESSION_PRODUCT",all:"MSG_WAITER_SESSION"};const h={namespace:d,state:{screeningMap:void 0,screeningList:[],screeningValues:[],dateFilter:{dateGroupType:"DAY",from:"2019-09-25",numOfDays:30,quickChoice:"\u8fd130\u5929",remoteName:"cTime",to:"2019-10-24"},selSaveInfo:{id:"default",name:"\u5168\u90e8",screeningValues:[]},detailInfo:[]},effects:{fetchScreeningMap:i().mark((function e(t,n){var r,a,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,c=n.put,n.select,e.next=4,a(s,{projectId:p.t.get(p.V.curProject).id});case 4:return u=e.sent,(l=u.data.result).waiter&&l.waiter.forEach((function(e){e.waiterId=e.waiterName,e.shopId=e.shopName})),d=(0,o.fR)(l,r.type),e.next=10,c({type:"save",payload:{screeningMap:l,screeningList:d}});case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})),saveBoxChange:i().mark((function e(t,n){var a,c,s,l,p,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,l=n.select,p=a.value,f=a.type,h=a.key,e.next=5,l((function(e){return e[d]}));case 5:if(m=e.sent,v=m.screeningMap,m.screeningValues,y=m.selSaveInfo,"name"!==h){e.next=13;break}return e.next=12,s({type:"save",payload:{selSaveInfo:(0,r.Z)({},JSON.parse(JSON.stringify(y)),{name:p})}});case 12:case 17:case 26:return e.abrupt("return",e.sent);case 13:if("default"!==p.id){e.next=18;break}return g=(0,o.fR)(v,a.type),e.next=17,s({type:"save",payload:{screeningValues:[],selSaveInfo:{id:"default",name:"\u5168\u90e8",screeningValues:[]},screeningList:g}});case 18:return e.next=20,c(u,{id:p.id});case 20:if(x=e.sent,!(I=x.data.result)){e.next=27;break}return b=(0,o.g1)((0,o.fR)(v,f).deepcopy(),v,JSON.parse(I.selected)),T=b.list,E=b.values,e.next=26,s({type:"save",payload:{screeningValues:E.deepcopy(),selSaveInfo:{id:p.id,name:I.name,screeningValues:E.deepcopy()},screeningList:T}});case 27:case"end":return e.stop()}}),e)})),saveScreening:i().mark((function e(t,n){var r,a,o,c,s,u,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,s=r.type,u=r.name,h=r.model,e.next=5,c((function(e){return e[d]}));case 5:return m=e.sent,v=m.selSaveInfo,y=m.screeningValues,e.next=10,a(l,{name:"update"===s?v.name:u,copy:"saveOther"===s,type:f[h],id:"save"===s?null:v.id,projectId:p.t.get(p.V.curProject).id,selected:JSON.stringify(y)});case 10:return g=e.sent,x=g.data.result,e.next=14,o({type:"save",payload:{selSaveInfo:{id:x.id,name:"update"===s?v.name:u,screeningValues:y}}});case 14:return e.abrupt("return",x);case 15:case"end":return e.stop()}}),e)})),screeningValuesChange:i().mark((function e(t,n){var a,c,s,u,l,p,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[d]}));case 4:return u=e.sent,l=u.screeningMap,p=u.screeningValues,f=p.deepcopy(),a.values.forEach((function(e){var t=JSON.parse(JSON.stringify(e.listDetail));f.some((function(e){return e.id===t.id}))?(f.forEach((function(n){n.id===t.id&&(n.values=e.values,delete n.list)})),0===e.values.length&&f.splice(f.findIndex((function(e){return e.id===t.id})),1)):(delete t.list,f.push((0,r.Z)({},t,{values:e.values})))})),h=(0,o.g1)((0,o.fR)(l,a.type).deepcopy(),l,f.deepcopy()),m=h.list,v=h.values,e.next=12,c({type:"save",payload:{screeningValues:v,screeningList:m}});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})),dateValueChange:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"save",payload:{dateFilter:r.value}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),clearAllValues:i().mark((function e(t,n){var r,a,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,c=n.select,e.next=4,c((function(e){return e[d]}));case 4:return s=e.sent,u=s.screeningMap,s.screeningValues,e.next=9,a({type:"save",payload:{screeningValues:[],screeningList:(0,o.fR)(u,r.type)}});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})),saveValue:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"save",payload:{screeningValues:r.value,selSaveInfo:{id:"default",name:"\u5168\u90e8",screeningValues:[]}}});case 4:return e.next=6,a({type:"screeningValuesChange",payload:{values:[],type:r.type}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})),saveDetailInfoValue:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,o=n.select,e.next=4,o((function(e){return e[d]}));case 4:return c=e.sent,s=c.screeningList,r.value.forEach((function(e){if("source"===e.id){var t=s.filter((function(e){return"source"===e.id}))[0].list;e.values=e.values.map((function(e){return t.find((function(t){return t.id===e})).name}))}if("type"===e.id){var n=s.filter((function(e){return"type"===e.id}))[0].list;e.values=e.values.map((function(e){return n.find((function(t){return t.id===e})).name}))}})),e.next=9,a({type:"save",payload:{detailInfo:r.value}});case 9:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},37361:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R,messageTypeId:()=>D});var r=n(87462),a=n(87757),i=n.n(a),o=n(63366),c=n(15861),s=n(49722),u=["dateFilter","filterModel","pageIndex","pageSize","messageCategory","model","smartFolderId"];function l(e){var t={};return function(){var n=new Promise((function(n,r){Object.defineProperty(t,"signal",{set:function(){r("Abort")}}),e().then((function(e){return n(e)})).catch((function(e){return r(e)}))}));return Object.assign(n,{cancel:function(){t.signal=!0}})}}var p=null;function d(e){return f.apply(this,arguments)}function f(){return f=(0,c.Z)(i().mark((function e(t){var n,a,c,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dateFilter,a=t.filterModel,c=t.pageIndex,d=t.pageSize,f=t.messageCategory,h=t.model,m=t.smartFolderId,v=(0,o.Z)(t,u),p&&p.cancel(),e.t0=h,e.next=void 0===e.t0?5:"PERSONAL"===e.t0||"FOLDER"===e.t0?7:"ARCHIVE"===e.t0?9:11;break;case 5:return y=l((function(){return s.h.post("/inbox/messages/list",(0,r.Z)({dateFilter:n,filterModel:a,pageIndex:c,pageSize:d,messageCategory:f},v,{type:void 0}))}))(),e.abrupt("break",11);case 7:return y=l((function(){return s.h.post("/message/personal/list",(0,r.Z)({dateFilter:n,filterModel:a,pageIndex:c,pageSize:d,smartFolderId:m},v))}))(),e.abrupt("break",11);case 9:return y=l((function(){return s.h.post("/message/processed/list",(0,r.Z)({dateFilter:n,filterModel:a,pageIndex:c,pageSize:d},v))}))(),e.abrupt("break",11);case 11:return p=y,e.abrupt("return",y);case 13:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,c.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.h.post("/data/message/export",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,c.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.h.post("/data/waiter-session/export",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.h.post("/data/ticket/export",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dateFilter,r=t.filterModel,a=t.headerFilterParamsNew,e.abrupt("return",s.h.post("/message/all/count",{dateFilter:n,filterModel:r,headerFilterParamsNew:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dateFilter,r=t.filterModel,a=t.orderTime,o=t.messageCategory,c=t.headerFilterParamsNew,e.abrupt("return",s.h.post("/inbox/messages/garbage-count",{dateFilter:n,filterModel:r,orderTime:a,messageCategory:o,headerFilterParamsNew:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.routing,a=t.projectId,e.abrupt("return",s.h.post("message/private/operate",{id:n,status:1,routing:r,projectId:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.tagLists,e.abrupt("return",s.h.post("message/rule/findHighLightWord",{projectId:n,tagLists:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=n(35239),O=n(64396),_=(n(73098),n(87219)),j=O.Z.inbox,A={MODEL:"",MESSAGE_TYPE:void 0,smartFolderId:void 0,canRenderFilter:!1,filterReady:!1,filterValue:{},filterTip:void 0,topicType:void 0,sortName:"cTime|DESC",messageList:void 0,detailList:void 0,total:null,questionnaireCount:null,garbageTotal:0,curSelectMessage:{},pageIndex:1,pageSize:20,allMessageCount:[],serviceCustomerType:"",highLightWordList:[],highLightWords:{content:null,headerFilterParamsNew:null,textRankWord:null,scenceWords:null},hightLightTagsList:[],otherFilter:{msgId:void 0,eventName:void 0,specialTopicId:void 0,contentGroup:void 0,queryType:void 0,topic1Names:void 0,topic2Names:void 0,warningId:void 0,categoryId:void 0,contactId:void 0,dispatchId:void 0,dispatchDetailId:void 0,wsid:void 0,id:void 0}},D={COMMENT:"1",ASPECT_ANALYSIS_COMMENT:"1",APP_COMMENT:"21",MESSAGE_APP:"21",ASPECT_ANALYSIS_APP:"21",PRODUCT_COMMENT:"21",WARNING_APP_COMMENT_KEYWORD:"21",WARNING_APP_COMMENT_ASPECT:"21",TICKET:"22",MESSAGE_TICKET:"22",ASPECT_ANALYSIS_TICKET:"22",PRODUCT_ZENDESK_COMMENT:"22",WARNING_ZENDESK_KEYWORD:"22",WARNING_ZENDESK_ASPECT:"22",QUE_ANS:"2",BBS:"9",SOCIAL:"11",SELF:"12",NEWS:"4",COMPLAINT:"13",QUESTIONAIRE:"17",MESSAGE_QUESTIONAIRE:"17",ASPECT_ANALYSIS_QUESTIONAIRE:"17",WARNING_NPS_ASPECT:"17",WARNING_NPS:"17",QUESTION:"6",VIDEO:"19",SERVICE:"8",length:12},M={time:Date.now(),messageType:"",resetTime:function(){return M.time=Date.now(),M.time}};const R={namespace:j,state:A,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},saveStorageFilterValue:function(e,t){var n=t.payload,a=void 0;return n.filterModel&&n.filterModel.topics&&n.filterModel.topics.length>0&&(a=n.filterModel.topics[0].topicType),(0,r.Z)({},e,{filterValue:n,topicType:a,otherFilter:{msgId:n.msgId,eventName:n.eventName,specialTopicId:n.specialTopicId,contentGroup:n.contentGroup,queryType:n.queryType,topic1Names:n.topic1Names,topic2Names:n.topic2Names,warningId:n.warningId,categoryId:n.categoryId},filterTip:n.filterTip,canRenderFilter:!0})},changeMessage:function(e,t){var n=t.payload,a=n.id,i=e.messageList;return i&&i.forEach((function(e){e.id===a&&Object.keys(n).forEach((function(t){return e[t]=n[t]}))})),(0,r.Z)({},e,{messageList:JSON.parse(JSON.stringify(i))})},changeMessageCount:function(e,t){var n=t.payload,a=n.id,i=n.total,o=e.allMessageCount;return o={id:a,total:i},(0,r.Z)({},e,{allMessageCount:o})}},effects:{filterReady:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:{filterReady:!0,MESSAGE_TYPE:r.messageType,MODEL:r.model,smartFolderId:r.smartFolderId}});case 4:return r.firstTime=!0,e.next=7,a({type:"filterChange",payload:r});case 7:case"end":return e.stop()}}),e)})),filterChange:i().mark((function e(t,n){var r,a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.next=4,c((function(e){return e.inbox}));case 4:return s=e.sent,u=s.MODEL,l=s.otherFilter,e.next=9,o({type:"save",payload:(r={filterValue:a.filterValue,messageList:void 0,detailList:void 0,curSelectMessage:{}},r[a.firstTime?void 0:"filterTip"]=null,r[a.firstTime?void 0:"otherFilter"]=l||{},r.allMessageCount=[],r)});case 9:return e.next=11,o({type:"fetchMessageList",payload:{}});case 11:if(u){e.next=14;break}return e.next=14,o({type:"getGarbageCount"});case 14:return e.next=16,o({type:"getHighLightWord",payload:{filterValue:a.filterValue}});case 16:case"end":return e.stop()}}),e)})),sortTypeChange:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.select,e.next=4,a({type:"save",payload:{sortName:r.value}});case 4:return e.next=6,a({type:"fetchMessageList",payload:{}});case 6:case"end":return e.stop()}}),e)})),getGarbageCount:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return e[j]}));case 3:return s=e.sent,u=s.MESSAGE_TYPE,l=s.filterValue,(p=JSON.parse(JSON.stringify(l))).filterModel=p.filterModel||{},p.filterModel.project=[N.t.get(N.V.curProject).id],d=(0,r.Z)({},p,{orderTime:0,messageCategory:u||""}),e.next=12,a(T,d);case 12:return f=e.sent,h=f.data.result,e.next=16,o({type:"save",payload:{garbageTotal:h}});case 16:case"end":return e.stop()}}),e)})),fetchMessageList:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S,O;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[j]}));case 4:return u=e.sent,l=u.MESSAGE_TYPE,p=u.MODEL,f=u.smartFolderId,h=u.filterValue,m=u.sortName,v=u.messageList,y=u.curSelectMessage,g=u.pageSize,x=u.topicType,I=u.otherFilter,b=u.pageIndex,T=a.pageIndex||1,(E=JSON.parse(JSON.stringify(h))).filterModel.sortName=m.substring(0,m.indexOf("|")),E.filterModel.sortOrder=m.substring(m.indexOf("|")+1,1/0),x&&E.filterModel.topics&&E.filterModel.topics.length>0&&(E.filterModel.topicType=x),w=0,k=a.pageIndex&&a.pageIndex!==b,w=k?M.time:M.resetTime(),C=(0,r.Z)({},E,{pageIndex:20*(T-1)+1,pageSize:g,messageCategory:l||"",model:p,smartFolderId:f,searchTime:w},I,{projectId:N.t.get(N.V.curProject).id}),e.next=27,o(d,C);case 27:return S=e.sent,O=S.data.result,e.next=31,c({type:"save",payload:{messageList:1===T?O.messages:v.concat(O.messages),pageIndex:T,total:O.total,questionnaireCount:O.questionnaireCount,curSelectMessage:1===T?O.messages[0]:y}});case 31:if(!p||"PERSONAL"!==p&&"ARCHIVE"!==p){e.next=36;break}return e.next=34,c({type:"save",allMessageCount:[]});case 34:e.next=38;break;case 36:return e.next=38,c({type:"changeMessageCount",payload:{id:D[l],total:O.total}});case 38:if(1!==T||"PERSONAL"!==p&&"FOLDER"!==p||!O.messages.length||0!==O.messages[0].status){e.next=41;break}return e.next=41,c({type:"freshMessageStatus",payload:O.messages[0]});case 41:case"end":return e.stop()}}),e)})),inboxClick:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.select,o=n.put,e.next=4,a((function(e){return e[j]}));case 4:return c=e.sent,s=c.MODEL,e.next=8,o({type:"save",payload:{curSelectMessage:r}});case 8:if("PERSONAL"!==s&&"FOLDER"!==s||1===r.status){e.next=11;break}return e.next=11,o({type:"freshMessageStatus",payload:r});case 11:case"end":return e.stop()}}),e)})),downloadMessage:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,e.next=4,c((function(e){return e[j]}));case 4:return s=e.sent,u=s.filterValue,l=s.MESSAGE_TYPE,p=a.exportTypes,d=a.category,(f=JSON.parse(JSON.stringify(u))).type&&delete f.type,m=(0,r.Z)({},f,{projectId:N.t.get(N.V.curProject).id,messageCategory:a.messageCategory||l||"",exportTypes:p,category:d}),e.next=13,o(h,m);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})),downloadServiceMessage:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,e.next=4,c((function(e){return e[j]}));case 4:if(s=e.sent,u=s.filterValue,l=s.otherFilter,p=a.exportTypes,d=a.category,(f=JSON.parse(JSON.stringify(u))).type&&delete f.type,"TICKET"!==(h=(0,r.Z)({},f,{projectId:N.t.get(N.V.curProject).id,messageCategory:a.messageCategory,exportTypes:p,category:d},l)).messageCategory){e.next=15;break}return e.next=14,o(g,h);case 14:case 17:return e.abrupt("return",e.sent);case 15:return e.next=17,o(v,h);case 18:case"end":return e.stop()}}),e)})),getMessageCount:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,o=n.select,c=n.put,e.next=4,o((function(e){return e.inbox}));case 4:return s=e.sent,u=s.filterValue,l=s.MESSAGE_TYPE,(p=JSON.parse(JSON.stringify(u))).filterModel.project=[N.t.get(N.V.curProject).id],e.next=11,a(I,(0,r.Z)({},p));case 11:return d=e.sent,f=d.data.result,(h=D[l])&&(f=(0,r.Z)({},f.filter((function(e){return Number(h)===Number(e.id)}))[0])),e.next=17,c({type:"save",payload:{allMessageCount:f}});case 17:case"end":return e.stop()}}),e)})),freshMessageStatus:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.select,o=n.put,c=r.id,s=r.routing,e.next=5,a(w,{id:c,routing:s,projectId:N.t.get(N.V.curProject).id});case 5:if(u=e.sent,2e4!==u.data.code){e.next=10;break}return e.next=10,o({type:"changeMessage",payload:{id:c,status:1}});case 10:case"end":return e.stop()}}),e)})),getHighLightWord:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.select,o=n.put,e.next=4,a((function(e){return e.inbox}));case 4:for(g in c=e.sent,s=c.highLightWords,u=[],l="",p=r.filterValue,d=p.textRankWord,f=p.topic2Names,h=p.warningKeyword,m=p.filterModel.content,v=p.headerFilterParamsNew,l=v&&v.length>0&&"CUSTOMER_SERVICE"===v[0].id?"SERVER"===v[0].values[0].values[0]?"SERVER":"CUSTOMER":"",y=(0,_.ZP)(s,(function(e){if(m){var t=[];m.forEach((function(e){t=e.contain&&e.andContain?t.concat(e.contain).concat(e.andContain):e.contain&&t.concat(e.contain)})),t=[].concat(Array.from(new Set(t))),e.content=t.concat(u)}else e.content=null;e.textRankWord=d?[d]:null,e.topic2Names=f||null,e.warningKeyword=h||null})))(x=y[g])&&(u=u.concat(x));return e.next=16,o({type:"save",payload:{highLightWords:y,highLightWordList:u,serviceCustomerType:l}});case 16:case"end":return e.stop()}}),e)})),getHightLightTags:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=[],s=N.t.get(N.V.curProject).id,u=r.tagId,l=r.tag,e.next=7,o.resolve({type:"save",payload:{hightLightTagsList:[]}});case 7:if(e.prev=7,!l.systemTag){e.next=17;break}if(!u){e.next=15;break}return e.next=12,a(C,{projectId:s,tagLists:[u]});case 12:p=e.sent,2e4===(d=p.data).code&&(f=d.result)&&(c=[].concat(Array.from(new Set(f))));case 15:e.next=18;break;case 17:c=[l.tagName];case 18:return e.next=20,o({type:"save",payload:{hightLightTagsList:c}});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(7),e.t0;case 25:case"end":return e.stop()}}),e,null,[[7,22]])})),clearData:i().mark((function e(t,n){var a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,o=n.select,e.next=3,o((function(e){return e[j]}));case 3:return c=e.sent,s=c.filterValue,u=c.allMessageCount,e.next=8,a({type:"save",payload:(0,r.Z)({},A,{filterValue:s,allMessageCount:u})});case 8:case"end":return e.stop()}}),e)}))}}},73098:(e,t,n)=>{"use strict";n.d(t,{Pk:()=>o,Gt:()=>c,PM:()=>s,JG:()=>u,mm:()=>l});var r=n(78924),a=n.n(r),i=n(39432);function o(e){try{return n(19635)("./"+e+".png")}catch(t){return n(12770)}}function c(e){switch(e){case"COMMENT":return"\u7535\u5546\u8bc4\u8bba";case"QUE_ANS":return"\u95ee\u7b54";case"BBS":return"\u8bba\u575b";case"SOCIAL":return"\u793e\u4ea4\u5a92\u4f53";case"SELF":return"\u5185\u5bb9\u7535\u5546";case"NEWS":return"\u65b0\u95fb\u5a92\u4f53";case"COMPLAINT":return"\u6295\u8bc9\u5e73\u53f0";case"QUESTIONAIRE":return"\u8c03\u67e5\u95ee\u5377";case"QUESTION":return"\u7535\u5546\u95ee\u7b54";case"SERVICE":return"\u5ba2\u6237\u4f1a\u8bdd";case"VIDEO":return"\u89c6\u9891";default:return}}function s(e){switch(e){case"COMMENT":return"MESSAGE_COMMENT";case"QUE_ANS":case"BBS":case"NEWS":case"COMPLAINT":case"QUESTION":case"VIDEO":return"";case"SOCIAL":return"MESSAGE_SOCIAL";case"SELF":return"MESSAGE_SELF";case"QUESTIONAIRE":return"MESSAGE_QUESTIONAIRE";case"SERVICE":return"MESSAGE_SERVICE";case"APP_COMMENT":return"MESSAGE_APP";case"TICKET":return"MESSAGE_TICKET";default:return"MESSAGE_ALL"}}function u(e){return e.systemTag?{}:{color:a()["primary-color"],borderColor:a()["primary-color"]}}var l=function(e,t,n){var r=(0,i.Lh)(e||""),a=r.split(""),o=null!=n&&n.head?null==n?void 0:n.head:"<pre>",c=null!=n&&n.end?null==n?void 0:n.end:"</pre>";return t.forEach((function(e,t){var n=+e.start+2*t,r=+e.size;a.splice.apply(a,[n,r].concat([o].concat(a.slice(n,n+r),[c])))})),r=a.join("")}},68096:(e,t,n)=>{"use strict";n.d(t,{O9:()=>i,FG:()=>o,WN:()=>s});var r=n(70715),a=n(18077),i={normal:["#5B8FF9","#60DDA9","#F6BD15","#F08A8A","#78D3F8","#65789B","#F6903D","#028685","#7262FD","#9661BC"],emotion:["#15B374","#1574B3","#D96969"],aspect:["#15B374","#D96969"]},o=[{id:"n",text:"\u540d\u8bcd",color:"#729EF8",unSelected:!1},{id:"a",text:"\u5f62\u5bb9\u8bcd",color:"#F6903D",unSelected:!1},{id:"un",text:"\u5176\u4ed6",color:"#60DDA9",unSelected:!1}],c=function(e,t){return e.reduce((function(e,n,a){return[].concat(e,[{type:"circle",id:a,left:e[2*a-1]?e[2*a-1].left+14*e[2*a-1].style.text.length+12:0,shape:{cx:5,cy:4,r:5},style:{fill:""+(n.unSelected?"#e5e5e5":n.color)},onclick:function(){return t(n.id)}},{type:"text",left:e[2*a-1]?e[2*a-1].left+14*e[2*a-1].style.text.length+12+16:16,style:{text:n.text,font:"bolder 12px "+r.I8,fill:n.unSelected?"#e5e5e5":"#262626"},onclick:function(){return t(n.id)}}])}),[])},s=function(e,t,n,r,o){var s={title:{text:"\u70ed\u8bcd",top:16,left:24},tooltip:{showDelay:20,hideDelay:10,enterable:!0,padding:[16,12],backgroundColor:"#ffffff",borderColor:"#e5e5e5",borderWidth:"1",extraCssText:"border-radius: 2px;\n      box-shadow: 0px 9px 28px 8px rgba(0,0,0,0.05), 0px 6px 16px 0px rgba(0,0,0,0.08), 0px 3px 6px -4px rgba(0,0,0,0.12)",formatter:function(e){var t=e.marker,n=e.name,r=e.data,i=(0,a.v)({onOk:function(){return o&&o(n)}});return'<span class="yt_tooltip_wrapper">'+t+" "+n+'<span style="padding-left:46px">'+r.hotWordFix+"</span> "+i+"</span>"}},series:{name:"opinionWordCloud",type:"wordCloud",shape:"circle",width:"100%",height:"100%",sizeRange:[16,80],gridSize:10,rotationRange:[0,0],layoutAnimation:!1,data:e&&e.map((function(e,t){return{name:e.name,value:Math.sqrt(e.total),oriValue:e.total,pos:e.pos,hotWordFix:e.hotWordFix,index:t}})),textStyle:{emphasis:{color:"#D8D8D8"}}},graphic:[{type:"group",top:60,left:40,ignore:!t,children:t?c(t,n):[]}]};return s.series.textStyle.normal={color:function(e){if(t){var n=void 0;return t.forEach((function(t){t.id===e.data.pos&&(n=t.color)})),r?r===e.name?n:"#D2D2D2":n}var a=i.normal,o=a[e.dataIndex%a.length];return r?r===e.name?o:"#D2D2D2":o}},s}},21596:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v,wordSelectOpts:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(35239),c=n(49722);function s(e){return c.h.post("/widget/data/find/EMOTION_COUNTER_BAR",(0,r.Z)({},e))}function u(e,t){return c.h.post(e,(0,r.Z)({},t))}function l(e){var t=e.id,n=e.projectId;return c.h.post("/opinion/task/update",{id:t,projectId:n})}var p=n(64396).Z.opinion.opinionChart,d=[{title:"\u7c97",value:20,disabled:!1},{title:"\u4e2d",value:40,disabled:!1},{title:"\u7ec6",value:60,disabled:!1}],f=[{title:"\u8bcd\u4e91",value:"0",icon:"icon-ciyunxuanze"},{title:"\u8868\u683c",value:"1",icon:"icon-biaoge1"}],h=function(e){var t=e.reduce((function(e,t){return t?e+t.value:e}),0);e.forEach((function(e){e&&(e.ratio=(e.value/t*100).toFixed(2)+"%")}))},m=function(e){var t=e,n=t.sort((function(e,t){return t.value-e.value}));if(n.length>=60)t=n.slice(0,60),h(t);else{var r=Math.ceil(n.length/30);t=[].concat(n,Array(30*r-t.length).fill(void 0)),h(t)}return t};const v={namespace:p,state:{wordCloud:!0,queryTimeType:"",count:0,average:0,json_bar:"\u6ca1\u6709\u6570\u636e\u53ef\u7528",json_word:[],clusterType:d[0].value,clusterTypeOptions:d,wordSelectOpts:f,opinion:o.t.get(o.V.curProject)&&o.t.get(o.V.curProject).submenu&&o.t.get(o.V.curProject).submenu.includes("OPINION"),currTaskId:"",otherTaskId:"",reloaded:!1,refreshing:!1,allData:{20:[],40:[],60:[]},type:1,opinionTaskValid:!0,invalidReason:0,hasRecord:!1,messageTotal:0,loading:!0,textRankWord:void 0,optionPage:1,baseType:void 0},effects:{getList:i().mark((function e(t,n){var a,o,c,u,l,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return e[p]}));case 3:return u=e.sent,l=u.queryParams,e.next=7,a(s,(0,r.Z)({},l));case 7:if(2e4!==(d=e.sent).data.code){e.next=12;break}return f=d.data.result,h=f.total,m=f.avg,v=f.list,e.next=12,o({type:"save",payload:{json_bar:v,count:h,average:m}});case 12:case"end":return e.stop()}}),e)})),getWordCloudList:i().mark((function e(t,n){var a,o,c,s,l,d,f,h,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[p]}));case 4:if(s=e.sent,l=s.queryParams,d=s.clusterType,f=s.type,h=s.textRankWord,v=s.opinionTaskValid,!l||!v){e.next=35;break}return 4!==f?(y="/opinion/find/new/result",g={projectId:l.projectId,dateFilter:l.dateFilter,headerFilterParamsNew:l.headerFilterParamsNew,messageCategory:l.messageCategory||l.queryType,filterModel:(0,r.Z)({},l.filterModel,{clusterLevel:d,taskId:l.taskId||l.filterModel.taskId}),textRankWord:h}):(y="/widget/data/find/OPINION_WORD",g=(0,r.Z)({},l)),e.prev=12,e.next=15,a(u,y,g);case 15:if(2e4!==(x=e.sent).data.code){e.next=29;break}if(I=x.data.result||[],b=I.length>0&&I.reduce((function(e,t){return e+Number(t.value)}),0),!(I.length>0)){e.next=25;break}return I=m(I.map((function(e){return e.percent=(e.value/b*100).toFixed(2),e}))),e.next=23,o({type:"save",payload:{json_word:I,loading:4===f,queryParams:g}});case 23:e.next=29;break;case 25:return e.next=27,o({type:"save",payload:{json_word:I}});case 27:return e.next=29,o({type:"save",payload:{loading:!h&&l.status.indexOf("CALCULATING")>-1}});case 29:e.next=35;break;case 31:return e.prev=31,e.t0=e.catch(12),e.next=35,o({type:"save",payload:{loading:4===f,queryParams:l}});case 35:case"end":return e.stop()}}),e,null,[[12,31]])})),handleOpinion:i().mark((function e(t,n){var r,a,c,s,u,l,d,f,h,v,y,g,x,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,c=n.select,s=r.clusterLevel,u=r.data,l=r.taskId,e.next=5,c((function(e){return e[p]}));case 5:if(d=e.sent,f=d.allData,h=d.currTaskId,v=d.otherTaskId,y=d.hasRecord,g=d.type,x=d.clusterTypeOptions,I=d.refreshing,b=d.messageTotal,T=d.reloaded,l!==h&&l!==v||y){e.next=33;break}if(!(s>0)){e.next=28;break}return f[s]=m(u),!I||y||T||Object.keys(f).forEach((function(e,t){x[t].disabled=0===f[e].length})),e.next=21,a({type:"save",payload:{allData:JSON.parse(JSON.stringify(f)),clusterTypeOptions:JSON.parse(JSON.stringify(x))}});case 21:if(20!==s){e.next=25;break}return E=m(u),e.next=25,a({type:"save",payload:{json_word:E,loading:!1}});case 25:60===s&&(w=decodeURIComponent(window.location.search).split("?"),w[0],k=w[1],C={taskId:l,uri:k,data:JSON.parse(JSON.stringify(f))},o.t.set(o.V.opinionDetail,C)),e.next=33;break;case 28:return e.next=30,a({type:"save",payload:{refreshing:!1,clusterTypeOptions:x.map((function(e){return e.disabled=!1,e}))}});case 30:if(!(4!==g&&b>5e3)){e.next=33;break}return e.next=33,a({type:"getWordCloudList"});case 33:case"end":return e.stop()}}),e)})),reset:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,e.next=3,r({type:"save",payload:{reloaded:!1,loading:!0,allData:{20:[],40:[],60:[]},json_word:[]}});case 3:case"end":return e.stop()}}),e)})),resetClusterOptions:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,e.next=3,r({type:"save",payload:{clusterTypeOptions:d}});case 3:case"end":return e.stop()}}),e)})),taskUpdate:i().mark((function e(t,n){var a,o,c,s,u,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[p]}));case 4:return u=e.sent,d=u.projectId,f=a.id,e.next=9,o(l,{id:f,projectId:d});case 9:if(h=e.sent,2e4!==(m=h.data).code){e.next=15;break}return e.next=14,c({type:"save",payload:{loading:!0}});case 14:return e.abrupt("return",m);case 15:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},25822:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(63366),a=n(87462),i=n(50361),o=n.n(i),c=n(87757),s=n.n(c),u=n(68096),l=n(49722);function p(e){return l.h.post("/hotWords/find",(0,a.Z)({},e))}function d(e){var t=e.projectId,n=e.messageIds,r=e.taskId,a=e.typicalOpinion,i=e.clusterLevel;return l.h.post("/opinion/message/queryHighInfo/find",{projectId:t,messageIds:n,taskId:r,typicalOpinion:a,clusterLevel:i})}function f(e){var t=e.projectId,n=e.type,r=e.expandInfo;return l.h.post("/check/owner/list",{projectId:t,pageType:n,expandInfo:r})}var h=n(35239),m=n(64396),v=(n(35717),n(5724),["onWordModalView"]),y=m.Z.opinion.detail,g=(m.Z.IDBHeaderScreening.headerScreening,{relationData:new Map,deepCloneList:{}});const x={namespace:y,state:{wordCloud:!0,msgCount:0,topChartData:{chartData:[],sOption:{},wOption:{},wSection:{gOptions:void 0,_handleGraphicClick:void 0,onWordModalView:void 0}},screeningMap:[],screeningValues:[],defaultValues:{clusterHotType:"0",clusterType:"0"},selectedWordName:void 0,typicalOpinion:void 0,optionPage:1},reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},handleResult:function(e,t){var n=t.payload,r=n.data,i=n.onWordModalView,o=e.selectedWordName,c=e.topChartData.wSection,s=[],l=[],p=r.length>0&&r.reduce((function(e,t){return e+Number(t.total)}),0);if(s=r.length>0&&r.map((function(e){return e.hotWordFix=(e.total/p*100).toFixed(2),e})).sort((function(e,t){return t.hotWordFix-e.hotWordFix})),c.gOptions){var d=c.gOptions.filter((function(e){return e.unSelected})).map((function(e){return e.id}));d&&d.length>0&&(l=s.filter((function(e){return!d.includes(e.pos)})))}return(0,a.Z)({},e,{topChartData:{chartData:s,wOption:(0,u.WN)(l.length>0?l:s,c.gOptions,c._handleGraphicClick,o,i||c.onWordModalView),wSection:c}})}},effects:{fetchWordData:s().mark((function e(t,n){var a,i,o,c,u,l,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,o=n.put,n.select,c=a.onWordModalView,u=(0,r.Z)(a,v),e.next=5,i(p,u);case 5:if(l=e.sent,2e4===(null==(d=l.data)?void 0:d.code)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,o({type:"handleResult",payload:{data:d.result,onWordModalView:c}});case 11:return e.abrupt("return",d.result);case 12:case"end":return e.stop()}}),e)})),fetchOpinionHighlightList:s().mark((function e(t,n){var r,i,o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,n.put,n.select,n.take,e.prev=2,e.next=5,i(d,(0,a.Z)({projectId:h.t.get(h.V.curProject).id},r));case 5:if(o=e.sent,!(c=o.data.result)){e.next=9;break}return e.abrupt("return",c);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})),fetchDefaultConfig:s().mark((function e(t,n){var r,a,i,o,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,i=r.type,o=r.expandInfo,e.next=5,a(f,{projectId:h.t.get(h.V.curProject).id,type:i,expandInfo:o});case 5:return c=e.sent,u=c.data.result,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})),refilterList:s().mark((function e(t,n){var r,a,i,c,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,i=r.screeningValues,c=r.screeningMap,u=o()(i),g.deepCloneList.curScreeningMap=c.deepcopy(),(l=c.deepcopy()).forEach((function(e){var t=u.find((function(t){return t.id===e.id}));t&&(t.values.forEach((function(t){e.data.some((function(e){return t.id===e.id&&(t.label=e.label,t.values=e.options.filter((function(e){return t.values.includes(e.id)})).map((function(e){return e.label})),!0)}))})),t.values=t.values.filter((function(e){return e.values.length>0})))})),setTimeout((function(){return g.deepCloneList.curScreeningMap=c.deepcopy()}),0),console.timeEnd("filter"),e.next=11,a({type:"save",payload:{screeningList:l,screeningValues:u.reduce((function(e,t){return e.concat(t.values)}),[])}});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))}}},2832:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(87462),a=n(87757),i=n.n(a),o=n(18446),c=n.n(o),s=n(49722);function u(e){var t=e.projectId,n=e.brandId,r=e.queryType;return s.h.get("/opinion/topic/check?projectId="+t+"&brandId="+n+"&queryType="+r)}var l=n(64396),p=n(35239),d=l.Z.opinion.opinionScreening,f=l.Z.IDBHeaderScreening.screening,h=l.Z.IDBHeaderScreening.savedScreening,m=l.Z.IDBHeaderScreening.timeScreening;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var v={showKind:null,showAdvanced:!1,content:[{}],advancedFilter:{},check:!0};const y={namespace:d,state:Object.assign(v,{}),effects:{init:i().mark((function e(t,n){var r,a,o,c,s,u,p,d,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.select,n.call,o=n.take,n.takeEvery,c=r.screening,s=r.type,u=r.dateValue,p=r.contentValue,d=r.hasHour,v=r.filterId,e.next=5,a({type:l.Z.global+"/init"});case 5:return e.next=7,o(l.Z.global+"/init/@@end");case 7:if(!p){e.next=10;break}return e.next=10,a({type:"save",payload:{content:p}});case 10:return y=c.value,g=c.noSavingFilterList,x=y||void 0,e.t0=Promise,e.next=15,a({type:h+"/init",payload:{type:s,filterId:v}});case 15:return e.t1=e.sent,e.next=18,a({type:f+"/fetchDefaultConfig",payload:{type:s,value:x,noSavingFilterList:g,expandInfo:{type:s}}});case 18:return e.t2=e.sent,e.next=21,a({type:m+"/init",payload:{type:s,params:u,hasHour:d}});case 21:return e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.abrupt("return",e.t0.all.call(e.t0,e.t4).then((function(e){})));case 24:case"end":return e.stop()}}),e)})),clearAllValues:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,n.select,e.next=4,r({type:f+"/clearAllValues"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),savedFilterChange:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,n.take,e.next=4,o((function(e){return e[f]}));case 4:return c=e.sent,s=c.oriDefaultConfig,u=c.defaultConfig,l=r.selFilterObj,p=r.selFilterSelected,e.next=10,a({type:"contentChange",payload:l&&l.id?p.content:[{}]});case 10:return d=l&&l.id&&p.fastFilterValues?Object.assign(JSON.parse(JSON.stringify(u)),{defaultChecked:[].concat(u.defaultChecked.filter((function(e){return e.id!==p.fastFilterValues.defaultChecksName[0]})),[p.fastFilterValues.defaultChecked[0]]),defaultChecks:[].concat(u.defaultChecks.filter((function(e){return e.id!==p.fastFilterValues.defaultChecksName[0]})),[p.fastFilterValues.defaultChecks[0]]),defaultChecksName:p.fastFilterValues.defaultChecksName}):s,e.next=13,a({type:f+"/save",payload:{defaultConfig:d}});case 13:return h=d.defaultChecked.find((function(e){return e.id===d.defaultChecksName[0]})),m=[],m=h?d.ownerChecked.filter((function(e){return!!e.values.some((function(e){return e.id===h.id}))&&(e.values=e.values.filter((function(e){return e.id===h.id})),!0)})):[],e.next=18,a({type:f+"/updateScreeningValues",payload:l&&l.id?p.screeningValues:m});case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)})),defaultValueChange:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[f]}));case 4:if(c=e.sent,s=c.defaultConfig,u=c.screeningValues,l=c.curScreeningMap,p=r.value,d=r.from,void 0!==p){e.next=11;break}return e.abrupt("return");case 11:return Object.keys(p).forEach((function(e){var t=u.deepcopy();if(s[e]=p[e],"defaultChecked"===e){var n=p.defaultChecked.find((function(e){return e.id===s.defaultChecksName[0]}))||{};t.forEach((function(e){e.values.forEach((function(t){t.id===n.id&&(t.values=n.values,h=e.id,m=e.values)}))})),s.ownerChecked=t}else"defaultChecksName"===e&&l.forEach((function(e){e.data.some((function(e){return e.id===p.defaultChecksName[0]}))&&(h=e.id,m=[{id:p.defaultChecksName[0],values:s.defaultChecked.find((function(e){return e.id===p.defaultChecksName[0]})).values}],s.ownerChecked=[{id:h,values:m}],v=s.ownerChecked)}))})),e.next=14,a({type:f+"/save",payload:Object.assign({defaultConfig:JSON.parse(JSON.stringify(s))},v?{screeningValues:v}:{})});case 14:return e.next=16,a({type:f+"/screeningValuesChange",payload:{id:"model"===d?"":h,values:m}});case 16:return e.next=18,a({type:f+"/updateDefaultValue"});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})),freshFastFilter:i().mark((function e(t,n){var r,a,o,s,u,l,p,d,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,r=n.put,a=n.select,e.next=4,a((function(e){return e[f]}));case 4:return o=e.sent,s=o.screeningValues,u=o.defaultConfig,l=o.screeningList,p=JSON.parse(JSON.stringify(u)),d=s.map((function(e){return e.values})).flat(1),h=JSON.parse(JSON.stringify(p)),m=h.defaultChecks,v=p.defaultChecked.find((function(e){return e.id===p.defaultChecksName[0]})),y=v?m.find((function(e){return e.id===p.defaultChecksName[0]})).values:void 0,v&&d.some((function(e){return e.id===v.id}))&&d.forEach((function(e){e.id===v.id&&(c()(v.values,e.values)||(v.values=e.values,g=p.defaultChecked.deepcopy()),e.values.some((function(e){return!y.map((function(e){return e.id})).includes(e)}))&&e.values.filter((function(e){return!y.map((function(e){return e.id})).includes(e)})).forEach((function(t){var n=l.map((function(e){return e.data})).flat(1).find((function(e){return e.id===v.id})).options.find((function(e){return e.id===t})).label;if(y.length>=p.defaultNumberConfig)for(var r=y.length-1;r>0;r--)if(!e.values.includes(y[r].id)){y.splice(r,1);break}y.unshift({id:t,label:n})})))})),v&&g&&g.some((function(e){return e.id===p.defaultChecksName[0]&&(e.values=y.filter((function(t){return e.values.includes(t.id)})).map((function(e){return e.id})),!0)})),e.next=17,r({type:f+"/save",payload:{defaultConfig:Object.assign(u,{defaultChecked:g||u.defaultChecked,defaultChecks:m,ownerChecked:s}),oriDefaultConfig:Object.assign(u,{defaultChecked:g||u.defaultChecked,defaultChecks:m,ownerChecked:s})}});case 17:return e.next=19,r({type:f+"/updateDefaultValue"});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})),fetchTopicCheck:i().mark((function e(t,n){var r,a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,c=!0,e.prev=3,e.next=6,a(u,{brandId:r.brandId,queryType:(null==r?void 0:r.queryType)||"COMMENT",projectId:p.t.get(p.V.curProject).id});case 6:s=e.sent,2e4===(l=s.data).code&&(c=l.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,o({type:"save",payload:{check:c}});case 16:return e.finish(13);case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e,null,[[3,11,13,17]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e){return Object.assign(v,{})},contentChange:function(e,t){var n=t.payload;return(0,r.Z)({},e,{content:n})},changeShow:function(e,t){var n=t.payload;return(0,r.Z)({},e,{showKind:void 0===n?null:n})},changeAdvancedShow:function(e,t){var n=t.payload;return(0,r.Z)({},e,{showAdvanced:void 0===n?!e.showAdvanced:n})}}}},91797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.queryType,n=e.dateFilter,r=e.eventName,a=e.projectId,i=e.exportFields,c=e.filterModel,s=e.headerFilterParamsNew;return o.h.post("/opinion/index/opinion/find",{queryType:t,dateFilter:n,eventName:r,projectId:a,exportFields:i,filterModel:c,headerFilterParamsNew:s})}function s(e){var t=e.project,n=e.dateFilter,r=e.typicalOpinions;return o.h.post("/opinion/index/opinion/trend/find",{project:t,dateFilter:n,typicalOpinions:r})}var u=n(18073),l=n(35239),p=n(40845),d=n(64396),f=n(59934),h=d.Z.opinion.everyOpinion,m={dateFilter:void 0,eventName:[],projectId:void 0,exportFields:[],filterModel:{},headerFilterParamsNew:[],opinionData:[],queryTypeList:[],pageType:"OPINION_INDEX"};const v={namespace:h,state:Object.assign({},m),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},m)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[h]}));case 4:if(u=e.sent,l=u.filterModel,d=u.dateFilter,f=u.pageType,JSON.stringify(l)!==JSON.stringify(a.filterModel)||JSON.stringify(d)!==JSON.stringify(a.dateFilter)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,o(p.o,{projectId:a.projectId,key:a.pageType||f});case 12:return m=(0,r.Z)({},a),e.next=15,c({type:"opinionFind",payload:m});case 15:case"end":return e.stop()}}),e)})),fetchOpinionTouchSpot:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,o=l.t.get(l.V.curProject).id,e.prev=2,e.next=5,r(u.VO,{projectId:o});case 5:if(c=e.sent,2e4!==(s=c.data).code){e.next=11;break}return e.next=10,a({type:"save",payload:{queryTypeList:s.result.filter((function(e){return"OPINION_MSG_SERVICE"!==e})).map((function(e){return{value:e.split("_")[2],label:f.U[e.split("_")[2]]}}))}});case 10:return e.abrupt("return",s.result);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})),opinionFind:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[h]}));case 4:return l=e.sent,p=l.queryType,d=l.dateFilter,f=l.eventName,m=l.projectId,v=l.exportFields,y=l.filterModel,g=l.headerFilterParamsNew,x=null,e.prev=13,e.next=16,o(c,{queryType:(null==a?void 0:a.queryType)||p||"COMMENT",dateFilter:a&&a.dateFilter||d,eventName:a&&a.eventName||f,projectId:a&&a.projectId||m,exportFields:a&&a.exportFields||v,filterModel:a&&a.filterModel||y,headerFilterParamsNew:a&&a.headerFilterParamsNew||g});case 16:if(I=e.sent,2e4!==(b=I.data).code){e.next=22;break}return x=b.result,e.next=22,s({type:"save",payload:(0,r.Z)({},a,{opinionData:x})});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(13);case 26:return e.prev=26,e.next=29,s({type:"fetchTrendFind",payload:{opinionData:x}});case 29:return e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[13,24,26,30]])})),fetchTrendFind:i().mark((function e(t,n){var a,o,c,u,p,d,f,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[h]}));case 4:return p=e.sent,d=p.projectId,f=p.opinionData,m=p.dateFilter,v=[],y=f.map((function(e){return e.id})),e.prev=10,g={project:d||l.t.get(l.V.curProject).id,typicalOpinions:y,dateFilter:m},e.next=14,c(s,g);case 14:x=e.sent,2e4===(I=x.data).code&&(v=(f||a.opinionData||[]).map((function(e){var t=I.result.filter((function(t){return t.opinion===e.id}))[0];return(0,r.Z)({},e,{trend:t})}))),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.prev=21,e.next=24,o({type:"save",payload:(0,r.Z)({},a,{opinionData:v})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[10,19,21,25]])}))}}},88278:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.pageNumber,n=e.pageSize,r=e.projectId,a=e.name;return o.h.post("/opinion/list",{pageNumber:t,pageSize:n,projectId:r,name:a})}function s(e){var t=e.id,n=e.projectId;return o.h.post("/opinion/delete",{id:t,projectId:n})}function u(e){var t=e.id,n=e.projectId,r=e.newName;return o.h.post("/opinion/rename",{id:t,projectId:n,newName:r})}var l=n(35239),p=n(64396).Z.opinion.savaFilter,d={projectId:"",filterData:void 0,modalShow:!1,id:void 0,pageNumber:1,pageSize:10,name:void 0};const f={namespace:p,state:Object.assign({},d),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},d)}},effects:{opinionList:i().mark((function e(t,n){var a,o,s,u,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[p]}));case 4:return d=e.sent,f=d.projectId,h=d.pageNumber,m=d.pageSize,v=d.name,y=null,e.prev=10,e.next=13,o(c,{projectId:f||l.t.get(l.V.curProject).id,pageNumber:h,pageSize:m,name:a&&a.name||v});case 13:if(g=e.sent,2e4!==(x=g.data).code){e.next=26;break}if(x.result.list&&0!==x.result.list.length){e.next=25;break}if(!(h>1)){e.next=22;break}return e.next=20,s({type:"opinionList",payload:{pageNumber:h-1}});case 20:e.next=23;break;case 22:y="empty";case 23:e.next=26;break;case 25:y=x.result;case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(10);case 30:return e.prev=30,e.next=33,s({type:"save",payload:(0,r.Z)({},a,{filterData:y})});case 33:return e.finish(30);case 34:case"end":return e.stop()}}),e,null,[[10,28,30,34]])})),opinionDelete:i().mark((function e(t,n){var a,o,c,u,l,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[p]}));case 3:return u=e.sent,l=u.target.id,d=u.projectId,e.next=8,a(s,{id:l,projectId:d});case 8:if(f=e.sent,2e4!==f.data.code){e.next=15;break}return e.next=13,o({type:"save",payload:{modalShow:!1}});case 13:return e.next=15,o({type:"opinionList"});case 15:case"end":return e.stop()}}),e)})),opinionRename:i().mark((function e(t,n){var a,o,c,s,l,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[p]}));case 4:return l=e.sent,d=l.projectId,f=a.newName,h=a.id,e.next=9,o(u,{id:h,projectId:d,newName:f});case 9:if(m=e.sent,2e4!==m.data.code){e.next=14;break}return e.next=14,c({type:"opinionList"});case 14:case"end":return e.stop()}}),e)}))}}},86878:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.pageNumber,n=e.pageSize,r=e.projectId,a=e.name;return o.h.post("/opinion/task/list",{pageNumber:t,pageSize:n,projectId:r,name:a})}function s(e){var t=e.id,n=e.projectId;return o.h.post("/opinion/task/delete",{id:t,projectId:n})}function u(e){var t=e.id,n=e.projectId;return o.h.post("/opinion/task/update",{id:t,projectId:n})}function l(e){var t=e.id,n=e.projectId,r=e.newName;return o.h.post("/opinion/task/rename",{id:t,projectId:n,newName:r})}var p=n(35239),d=n(64396).Z.opinion.savaResult,f={projectId:"",filterData:void 0,modalShow:!1,id:void 0,pageNumber:1,pageSize:10,name:void 0};const h={namespace:d,state:Object.assign({},f),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},f)}},effects:{taskList:i().mark((function e(t,n){var a,o,s,u,l,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,f=l.projectId,h=l.pageNumber,m=l.pageSize,v=l.name,y=f||a,g=null,e.prev=11,e.next=14,o(c,{projectId:y||p.t.get(p.V.curProject).id,pageNumber:h,pageSize:m,name:a&&a.name||v});case 14:if(x=e.sent,2e4!==(I=x.data).code){e.next=27;break}if(I.result.list&&0!==I.result.list.length){e.next=26;break}if(!(h>1)){e.next=23;break}return e.next=21,s({type:"taskList",payload:{pageNumber:h-1}});case 21:e.next=24;break;case 23:g="empty";case 24:e.next=27;break;case 26:g=I.result;case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(11);case 31:return e.prev=31,e.next=34,s({type:"save",payload:(0,r.Z)({},a,{filterData:g})});case 34:return e.finish(31);case 35:case"end":return e.stop()}}),e,null,[[11,29,31,35]])})),taskDelete:i().mark((function e(t,n){var a,o,c,u,l,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[d]}));case 3:return u=e.sent,l=u.target.id,p=u.projectId,e.next=8,a(s,{id:l,projectId:p});case 8:if(f=e.sent,2e4!==f.data.code){e.next=15;break}return e.next=13,o({type:"save",payload:{modalShow:!1}});case 13:return e.next=15,o({type:"taskList"});case 15:case"end":return e.stop()}}),e)})),taskUpdate:i().mark((function e(t,n){var a,o,c,s,l,p,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,p=l.projectId,f=a.id,e.next=9,o(u,{id:f,projectId:p});case 9:if(h=e.sent,2e4!==h.data.code){e.next=14;break}return e.next=14,c({type:"taskList"});case 14:case"end":return e.stop()}}),e)})),taskRename:i().mark((function e(t,n){var a,o,c,s,u,p,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return u=e.sent,p=u.projectId,f=a.value,h=a.id,e.next=9,o(l,{id:h,projectId:p,newName:f});case 9:if(m=e.sent,2e4!==m.data.code){e.next=14;break}return e.next=14,c({type:"taskList"});case 14:case"end":return e.stop()}}),e)}))}}},59348:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.key,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.key,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:a,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=n(72156),f=n(30381),h=n.n(f),m=n(35239),v=n(64396).Z.opinion.timeScreening,y={type:"",dateFilter:void 0,projectId:void 0,selectedDateRange:[],selectedQuickTimeChoice:6,staredQuickTimeChoice:-1,quickTime:""};const g={namespace:v,state:Object.assign({},y),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(y))}},effects:{init:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,o=n.take,c=r.type,s=r.params,e.next=5,a({type:"save",payload:{type:c,projectId:m.t.get(m.V.curProject).id}});case 5:return u="default-time-"+c,e.next=8,a({type:"getDefaultValue",payload:{key:u,params:s,formatStr:"YYYY-MM-DD",defaultValue:m.t.getWidthProject(m.V.messageDateFilter)&&m.t.getWidthProject(m.V.messageDateFilter)[c]||void 0,projectId:m.t.get(m.V.curProject).id}});case 8:return e.next=10,o("getDefaultValue/@@end");case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})),getDefaultValue:i().mark((function e(t,n){var a,o,c,u,l,p,f,m,y,g,x,I,b,T,E,w,k,C,S,N,O;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[v]}));case 4:return l=e.sent,p=l.projectId,f=a.params,m=a.formatStr,y=a.defaultValue,g=a.key,e.next=9,o(s,{projectId:a.projectId||p,key:g});case 9:if(x=e.sent,2e4!==(I=x.data).code){e.next=28;break}if(!(T=JSON.parse(I.result))||-1===T.staredQuickTimeChoice){e.next=23;break}if(E=T.currSelector,w=T.selectedQuickTimeChoice,k=T.staredQuickTimeChoice,C=f&&-1===f.quickChoice.indexOf("-")?d.A$.indexOf(f.quickChoice):k>-1?k:w,S=f?-1===f.quickChoice.indexOf("-")?(0,d.B9)(C,m):[f.from,f.to]:k>-1?(0,d.B9)(k,m):(0,d.B9)(w,m),0!==E){e.next=21;break}return b={from:S[0],to:S[1],quickChoice:f&&f.quickChoice.indexOf("-")>-1?f.quickChoice:d.A$[C],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,d.vv)(S),currSelector:f&&d.Sz.test(f.from.trim())&&d.Sz.test(f.to.trim())?1:0},e.next=21,c({type:"save",payload:{selectedQuickTimeChoice:C,staredQuickTimeChoice:k,selectedDateRange:S,dateFilter:b,quickTime:f&&f.quickChoice.indexOf("-")>-1?"":d.A$[k]}});case 21:e.next=28;break;case 23:return N=f?-1===f.quickChoice.indexOf("-")?d.A$.indexOf(f.quickChoice):-1:y?-1===y.quickChoice.indexOf("-")?d.A$.indexOf(y.quickChoice):-1:y,O=f?N>0?(0,d.B9)(N,m):[f.from,f.to]:y?N>0?(0,d.B9)(N,m):[y.from,y.to]:[h()().subtract(29,"days").format(m),h()().format(m)],b={from:O[0],to:O[1],quickChoice:f?f.quickChoice:y?y.quickChoice:d.A$[8],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,d.vv)(O),currSelector:N>0||!N||f&&!d.Sz.test(f.from.trim())||f&&!d.Sz.test(f.to.trim())?0:1},e.next=28,c({type:"save",payload:{selectedQuickTimeChoice:N,staredQuickTimeChoice:-1,selectedDateRange:O,dateFilter:b,quickTime:""}});case 28:return e.abrupt("return",{dateFilter:b});case 29:case"end":return e.stop()}}),e)})),setDefaultValue:i().mark((function e(t,n){var a,o,c,s,u,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[v]}));case 4:return s=e.sent,u=s.projectId,e.prev=6,p=a.key,d=a.value,e.next=10,o(l,{projectId:a.projectId||u,key:p,value:d});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:case"end":return e.stop()}}),e,null,[[6,12]])}))}}},72156:(e,t,n)=>{"use strict";n.d(t,{Dl:()=>i,Sz:()=>c,vv:()=>s,ld:()=>u,A$:()=>l,B9:()=>p,p6:()=>d});var r=n(30381),a=n.n(r),i=function(e,t){var n=o(e,t);return{from:n[0].format("YYYY/MM/DD"),to:n[1].format("YYYY/MM/DD")}},o=function(e,t){switch(e){case"\u4eca\u5929":return[a()().add(t,"days"),a()().add(t,"days")];case"\u6628\u5929":return[a()().add(t,"days").subtract(1,"days"),a()().add(t,"days").subtract(1,"days")];case"\u672c\u5468":return[a()().add(t,"days").startOf("week"),a()().add(t,"days")];case"\u4e0a\u5468":return[a()().add(t,"days").subtract(1,"weeks").startOf("week"),a()().add(t,"days").subtract(1,"weeks").endOf("week")];case"\u672c\u6708":return[a()().add(t,"days").startOf("month"),a()().add(t,"days")];case"\u4e0a\u6708":return[a()().add(t,"days").subtract(1,"months").startOf("month"),a()().add(t,"days").subtract(1,"months").endOf("month")];case"\u672c\u5b63":return[a()().add(t,"days").startOf("quarter"),a()().add(t,"days")];case"\u4e0a\u5b63":return[a()().add(t,"days").subtract(1,"quarters").startOf("quarter"),a()().add(t,"days").subtract(1,"quarters").endOf("quarter")];case"\u4eca\u5e74":return[a()().add(t,"days").startOf("year"),a()().add(t,"days")];case"\u53bb\u5e74":return[a()().add(t,"days").subtract(1,"years").startOf("year"),a()().add(t,"days").subtract(1,"years").endOf("year")];case"\u8fd13\u5929":return[a()().add(t,"days").subtract(2,"days"),a()().add(t,"days")];case"\u8fd17\u5929":return[a()().add(t,"days").subtract(6,"days"),a()().add(t,"days")];case"\u8fd130\u5929":return[a()().add(t,"days").subtract(29,"days"),a()().add(t,"days")];case"\u8fd190\u5929":return[a()().add(t,"days").subtract(89,"days"),a()().add(t,"days").startOf("day")];case"\u8fd1180\u5929":return[a()().add(t,"days").subtract(179,"days"),a()().add(t,"days")];case"\u8fd1365\u5929":return[a()().add(t,"days").subtract(364,"days"),a()().add(t,"days")]}},c=/([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,s=function(e,t){if(Array.isArray(e)){var n=e[0],r=e[1];return a()(r,t).diff(a()(n,t),"days")+1}return 0},u=["\u4eca\u5929","\u6628\u5929","\u672c\u5468","\u4e0a\u5468","\u672c\u6708","\u4e0a\u6708","\u672c\u5b63","\u4e0a\u5b63","\u4eca\u5e74","\u53bb\u5e74"],l=["\u4eca\u5929","\u6628\u5929","\u672c\u5468","\u4e0a\u5468","\u8fd13\u5929","\u672c\u6708","\u8fd17\u5929","\u4e0a\u6708","\u8fd130\u5929","\u672c\u5b63","\u8fd190\u5929","\u4e0a\u5b63","\u8fd1180\u5929","\u4eca\u5e74","\u8fd1365\u5929","\u53bb\u5e74"],p=function(e,t){var n=[];switch(e){case 0:n=[a()().startOf("day"),a()()];break;case 1:n=[a()().subtract(1,"days").startOf("day"),a()().subtract(1,"days").endOf("day")];break;case 2:n=[a()().startOf("week"),a()()];break;case 3:n=[a()().subtract(1,"weeks").startOf("week"),a()().subtract(1,"weeks").endOf("week")];break;case 5:n=[a()().startOf("month"),a()()];break;case 7:n=[a()().subtract(1,"months").startOf("month"),a()().subtract(1,"months").endOf("month")];break;case 9:n=[a()().startOf("quarter"),a()()];break;case 11:n=[a()().subtract(1,"quarters").startOf("quarter"),a()().subtract(1,"quarters").endOf("quarter")];break;case 13:n=[a()().startOf("year"),a()()];break;case 15:n=[a()().subtract(1,"years").startOf("year"),a()().subtract(1,"years").endOf("year")];break;case 4:n=[a()().subtract(2,"days"),a()()];break;case 6:n=[a()().subtract(6,"days"),a()()];break;case 8:n=[a()().subtract(29,"days"),a()()];break;case 10:n=[a()().subtract(89,"days"),a()().startOf("day")];break;case 12:n=[a()().subtract(179,"days"),a()()];break;case 14:n=[a()().subtract(364,"days"),a()()]}return n.map((function(e){return e.format(t)}))},d=function(e,t,n){for(var r="",a=0;a<t.length;a++){var i=void 0,o=void 0;if(n){var c=t[a].split(" ");i=c[0],o=c[1]}else i=t[a];for(var s=i.split("-"),u=0;u<s.length;u++)0===u&&(r+=s[u]+(1===e?"\u5e74":".")),1===u&&(r+=s[u]+(1===e?"\u6708":".")),2===u&&(r+=s[u]+(1===e?"\u65e5":""));o&&(r+=1===e?o.split(":")[0]+"\u65f6"+o.split(":")[1]+"\u5206":" "+o),0===a&&(r+=" - ")}return r}},59934:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var r={SELF:"\u5185\u5bb9\u7535\u5546",SERVICE:"\u5ba2\u670d\u4f1a\u8bdd",COMMENT:"\u7535\u5546\u8bc4\u8bba"}},48556:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.name,i=e.queryType,c=e.calculationFrequency,s=e.calculationType,u=e.content,l=e.filterType,p=e.resultType,d=e.id;return o.h.post("/opinion/add/new",{projectId:t,dateFilter:n,headerFilterParamsNew:r,name:a,queryType:i,calculationFrequency:c,calculationType:s,content:u,filterType:l,resultType:p,id:d})}function s(e){var t=e.id;return o.h.post("/opinion/find",{id:t})}function u(e){var t=e.key,n=e.projectId;return o.h.post("/default/value/find",{key:t,projectId:n})}function l(e){var t=e.key,n=e.projectId,r=e.value;return o.h.post("/default/value/update",{key:t,projectId:n,value:r})}var p=n(18073),d=n(35239),f=n(64396),h=f.Z.opinion.opinionScreen,m=f.Z.message.screening,v=f.Z.opinion.timeScreening;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var y={showKind:null,showAdvanced:!1,content:[{}]};const g={namespace:h,state:Object.assign(y,{}),effects:{init:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.select,n.call,o=n.take,r.screening,c=r.type,s=r.dateValue,r.contentValue,e.next=5,a({type:v+"/init",payload:{type:c,params:s}});case 5:return e.next=7,o(v+"/init/@@end");case 7:return e.abrupt("return");case 8:case"end":return e.stop()}}),e)})),clearAllValues:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,n.select,e.next=4,r({type:m+"/clearAllValues"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),freshFastFilter:i().mark((function e(t,n){var r,a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,r=n.put,a=n.select,e.next=4,a((function(e){return e[m]}));case 4:return o=e.sent,c=o.screeningValues,s=o.defaultConfig,o.screeningList,u=JSON.parse(JSON.stringify(s)),c.map((function(e){return e.values})).flat(1),l=JSON.parse(JSON.stringify(u)),p=l.defaultChecks,e.next=13,r({type:m+"/save",payload:{defaultConfig:Object.assign(s,{defaultChecked:s.defaultChecked,defaultChecks:p,ownerChecked:c})}});case 13:return e.next=15,r({type:m+"/updateDefaultValue"});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})),fetchOpinionTouchSpot:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=d.t.get(d.V.curProject).id,e.prev=2,e.next=5,r(p.VO,{projectId:a});case 5:if(o=e.sent,2e4!==(c=o.data).code){e.next=9;break}return e.abrupt("return",c.result.filter((function(e){return"OPINION_MSG_SERVICE"!==e})));case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})),addOpinionTask:i().mark((function e(t,n){var a,o,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=a.projectId||d.t.get(d.V.curProject).id,e.prev=3,e.next=6,o(c,(0,r.Z)({projectId:s},a));case 6:if(u=e.sent,2e4!==(l=u.data).code){e.next=10;break}return e.abrupt("return",l.result);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}}),e,null,[[3,12]])})),findOpinionTask:i().mark((function e(t,n){var a,o,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,e.prev=2,e.next=5,o(s,(0,r.Z)({},a));case 5:if(c=e.sent,2e4!==(u=c.data).code){e.next=9;break}return e.abrupt("return",u.result);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})),setDefault:i().mark((function e(t,n){var a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=a.projectId||d.t.get(d.V.curProject).id,e.prev=3,e.next=6,o(l,(0,r.Z)({projectId:c},a));case 6:if(s=e.sent,2e4!==(u=s.data).code){e.next=10;break}return e.abrupt("return",u.result);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}}),e,null,[[3,12]])})),getDefault:i().mark((function e(t,n){var a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=a.projectId||d.t.get(d.V.curProject).id,e.prev=3,e.next=6,o(u,(0,r.Z)({projectId:c},a));case 6:if(s=e.sent,2e4!==(l=s.data).code){e.next=10;break}return e.abrupt("return",l.result);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}}),e,null,[[3,12]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e){return Object.assign(y,{})},contentChange:function(e,t){var n=t.payload;return(0,r.Z)({},e,{content:n})},changeShow:function(e,t){var n=t.payload;return(0,r.Z)({},e,{showKind:void 0===n?null:n})},changeAdvancedShow:function(e,t){var n=t.payload;return(0,r.Z)({},e,{showAdvanced:void 0===n?!e.showAdvanced:n})}}}},60597:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(87462),a=n(64396).Z.opinionHome,i={};const o={namespace:a,state:Object.assign({},i),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},i)}},effects:{}}},44334:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){return o.h.post("/opinion/list",(0,r.Z)({},e))}function s(e){return o.h.post("/opinion/add",(0,r.Z)({},e))}var u=n(30381),l=n.n(u),p=n(5133),d="YYYY-MM-DD";const f={namespace:"opinion",state:{modalVisible:!1,step:1,analyseAspectShow:!1,filterModel:{filter:{},aspect:{aspect1:[],aspect2:[]}},dateRange:[l()().subtract(29,"days").format(d),l()().format(d)],pageIndex:1,pageSize:20,sortBy:"CREATED_AT",sortType:"DESC",list:[],total:0},effects:{createOpinionTask:i().mark((function e(t,n){var a,o,c,u,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.prev=1,e.next=4,c((function(e){return e.opinion}));case 4:return u=e.sent,f=u.filterModel,h=f.filter,m=f.aspect,v=u.dateRange,e.next=11,a(s,{projectId:localStorage.getItem("cem-projectId"),filterType:"OPINION_TASK",filterModel:(0,r.Z)({},h,{aspect:(0,r.Z)({},m,{emotion:["positive","negative"]})}),dateFilter:{from:v[0]||"",to:v[1]||""}});case 11:if(!(y=e.sent).data||2e4!==y.data.code){e.next=18;break}return p.Z.success("\u64cd\u4f5c\u6210\u529f"),e.next=16,o({type:"save",payload:{modalVisible:!1,step:1,filterModel:{filter:{},aspect:{aspect1:[],aspect2:[]}},dateRange:[l()().subtract(29,"days").format(d),l()().format(d)]}});case 16:return e.next=18,o({type:"fetchOpinionList"});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})),fetchOpinionList:i().mark((function e(t,n){var r,a,o,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,o=n.select,e.prev=1,e.next=4,o((function(e){return e.opinion}));case 4:return s=e.sent,u=s.pageIndex,l=s.pageSize,p=s.sortBy,d=s.sortType,e.next=11,r(c,{projectId:localStorage.getItem("cem-projectId"),pageNumber:u,pageSize:l,sortModel:{sortType:d,sortName:p}});case 11:if(f=e.sent,2e4!==f.data.code){e.next=17;break}return h=f.data.result,m=h.result,v=h.count,e.next=17,a({type:"save",payload:{total:v,list:m}});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})),saveState:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:r});case 4:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},18073:(e,t,n)=>{"use strict";n.d(t,{VO:()=>a});var r=n(49722);function a(e){e.projectId;return r.h.get("/opinion/findTouchSpot")}},99167:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(94578),a=n(67294),i=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){return a.createElement("div",{className:"not-find"},a.createElement("div",null,a.createElement("img",{src:n(15341)}),a.createElement("div",{className:"text"},"\u62b1\u6b49\uff0c\u9875\u9762\u4e22\u5931\u4e86"),a.createElement("div",{className:"btn",onClick:function(){return window.history.back()}},"\u8fd4\u56de")))},t}(a.Component)},39842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(){return o.h.post("/message/rule/private/condition")}function s(e){var t=e.projectIdList,n=void 0===t?[]:t,r=e.status,a=void 0===r?null:r,i=e.smartFolderIdList,c=void 0===i?[]:i;return o.h.post("/message/rule/private/list",{projectIdList:n,status:a,smartFolderIdList:c})}function u(e){var t=e.projectId,n=e.filterModel,r=e.smartFolderIdList,a=void 0===r?[]:r;return o.h.post("/message/rule/private/add",{projectId:t,filterModel:n,smartFolderIdList:a})}function l(e){var t=e.id,n=e.filterModel,r=e.smartFolderIdList;return o.h.post("/message/rule/private/update",{id:t,filterModel:n,smartFolderIdList:r})}function p(e){var t=e.id,n=e.history;return o.h.post("/message/rule/history/update",{id:t,history:n})}function d(e){var t=e.id;return o.h.post("/message/rule/delete",{id:t})}function f(e){var t=e.id,n=e.status,r=e.history;return o.h.post("/message/rule/status/update",{id:t,status:n,history:r})}var h=n(6233),m=n(5133),v=n(64396).Z.personalSet.messageRulePrivate;const y={namespace:v,state:{projectId:"",ruleList:[],conditionList:{projectList:[],userList:[],smartFolderList:[]},ruleDatas:[],folderOptions:[],projectOptions:[]},effects:{fetchCondition:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,h,m,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[v]}));case 4:return l=e.sent,p=l.projectId,d={projectList:[],userList:[],smartFolderList:[]},f=[],h=[],m=p,e.prev=7,e.next=10,o(c,a);case 10:if(y=e.sent,2e4!==(g=y.data).code){e.next=21;break}return d=g.result,h=d.projectList.map((function(e){return{title:e.name,value:e.id}})),m=m||d.projectList[0].id,f=d.smartFolderList.filter((function(e){return e.value===m})).map((function(e){return{title:e.name,value:e.id}})),x=a&&a.folderData?a.folderData.reduce((function(e,t){var n=d.smartFolderList.find((function(e){return e.name===t}));return n&&e.push(n.id),e}),[]):[],a&&a.callback&&a.callback({projectIdList:[m],smartFolderIdList:x,status:null}),e.next=21,s({type:"fetchRuleList",payload:{projectIdList:[m],smartFolderIdList:x}});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(7);case 25:return e.prev=25,e.next=28,s({type:"save",payload:{projectId:m,conditionList:d,folderOptions:f,projectOptions:h}});case 28:return e.finish(25);case 29:case"end":return e.stop()}}),e,null,[[7,23,25,29]])})),fetchRuleList:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,m,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[v]}));case 4:return l=e.sent,p=l.conditionList.smartFolderList,d=l.folderOptions,f=[],m=[],y=d,e.prev=8,e.next=11,o(s,a);case 11:g=e.sent,2e4===(x=g.data).code&&(f=x.result,m=(0,h.Ib)(f),y=p.filter((function(e){return e.value===a.projectIdList[0]})).map((function(e){return{title:e.name,value:e.id}}))),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,c({type:"save",payload:{folderOptions:y,ruleList:f,ruleDatas:m}});case 21:return e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[8,16,18,22]])})),addRule:i().mark((function e(t,n){var a,o,c,s,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,e.prev=2,e.next=5,c((function(e){return(0,r.Z)({},e)[v]}));case 5:return s=e.sent,l=s.conditionList.smartFolderList,e.next=9,o(u,a);case 9:p=e.sent,2e4===(d=p.data).code&&a.onDialogOpen&&a.onDialogOpen({id:d.result,type:"created",history:!0,folderName:(0,h.R_)(a.smartFolderIdList,l)}),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(2);case 16:case"end":return e.stop()}}),e,null,[[2,14]])})),updateRule:i().mark((function e(t,n){var a,o,c,s,u,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,o(l,a);case 5:return u=e.sent,p=u.data,e.next=9,s((function(e){return(0,r.Z)({},e)[v]}));case 9:if(d=e.sent,f=d.conditionList.smartFolderList,2e4!==p.code){e.next=15;break}return a.onDialogOpen&&a.onDialogOpen({id:a.id,type:"edited",history:!0,folderName:(0,h.R_)(a.smartFolderIdList,f)}),e.next=15,c({type:"fetchRuleList",payload:a.filterObj});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(2);case 19:case"end":return e.stop()}}),e,null,[[2,17]])})),updateHistoryRule:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(p,r);case 5:return c=e.sent,2e4===c.data.code&&m.Z.success("\u6d88\u606f\u89c4\u5219\u8bbe\u7f6e\u6210\u529f"),e.next=10,o({type:"fetchRuleList",payload:r.filterObj});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})),deleteRule:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(d,r);case 5:return c=e.sent,2e4===c.data.code&&m.Z.success("\u6d88\u606f\u89c4\u5219\u5220\u9664\u6210\u529f"),e.next=10,o({type:"fetchRuleList",payload:r.filterObj});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})),setRuleStatus:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,e.prev=2,e.next=5,a(f,r);case 5:if(c=e.sent,2e4!==c.data.code){e.next=11;break}return m.Z.success("\u6d88\u606f\u89c4\u5219\u66f4\u65b0\u6210\u529f"),e.next=11,o({type:"fetchRuleList",payload:r.filterObj});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},6233:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>i,Bd:()=>o,_l:()=>c,rV:()=>s,R_:()=>u});var r=n(87462),a=n(35239);function i(e){return e.reduce((function(e,t){var n={id:t.id,projectId:t.projectId,projectName:t.projectName,status:t.status,history:t.history,rule:{},projects:[t.projectName],users:t.filter.fromUserList,folders:t.smartFolderList.map((function(e){return e.name})),ruleLine:1};return t.filter.fromUserList&&t.filter.fromUserList.length>0&&(n.rule["\u8f6c\u53d1\u4eba"]=t.filter.fromUserList.map((function(e){return e.name})))&&(n.ruleLine+=1),t.filter.source&&t.filter.source.length>0&&(n.rule["\u6570\u636e\u6765\u6e90"]=t.filter.source)&&(n.ruleLine+=1),t.filter.escore&&t.filter.escore.length>0&&(n.rule["\u60c5\u611f"]=t.filter.escore)&&(n.ruleLine+=1),t.filter.star&&t.filter.star.length>0&&(n.rule["\u661f\u7ea7"]=t.filter.star)&&(n.ruleLine+=1),t.filter.connConfig&&t.filter.connConfig.length>0&&(n.rule=(0,r.Z)({},n.rule,t.filter.connConfig.reduce((function(e,t){var n;return(0,r.Z)({},e,((n={})[t.name]=t.values,n))}),{})))&&(n.ruleLine+=t.filter.connConfig.length),t.filter.content&&t.filter.content.length>0&&(n.rule["\u5185\u5bb9"]=t.filter.content.reduce((function(e,t,n){if((!t.contain||0===t.contain.length)&&(!t.notContain||0===t.notContain.length))return e;var r=["contain","notContain"].reduce((function(e,n){return t[n]&&t[n].length>0?[].concat(e,[("contain"===n?"\u5305\u542b":"\u4e0d\u5305\u542b")+t[n].map((function(e){return"\u201c"+e+"\u201d"})).join("\uff0c")]):e}),[]),a=(t.sentence?"\u4e00\u53e5\u8bdd\u4e2d":"\u5168\u6587\u4e2d")+"\uff1a"+r.join("\uff0c\u4e14");return[].concat(e,[a])}),[]))&&(n.ruleLine+=t.filter.content.length>5?5:t.filter.content.length),n.rule["\u5185\u5bb9"]&&0===n.rule["\u5185\u5bb9"].length&&(n.rule["\u5185\u5bb9"]=["\u65e0"]),[].concat(e,[n])}),[])}var o=function(e){var t=JSON.parse(a.t.get(a.V.specifyFilterList)).list;return Object.keys(e).reduce((function(n,a){var i=e[a],o=Object.prototype.toString.call(i);if("[object Array]"===o){var c=i[0],s=Object.prototype.toString.call(c);if("[object String]"===s){var u=t.find((function(e){return e.special===a}));return u?[].concat(n,[(0,r.Z)({},u,{values:i.map((function(e){var t=u.values.find((function(t){return t.name===e}));return t?t.id:""}))})]):n}if("[object Object]"===s)return[].concat(n,i.reduce((function(e,n){var a=t.find((function(e){return e.name===n.name}));return a?[].concat(e,[(0,r.Z)({},a,{values:n.values.map((function(e){return a.values.find((function(t){return t.name===e})).id}))})]):e}),[]))}else if("[object Object]"===o){var l=t.find((function(e){return e.name===i.name}));return l?[].concat(n,[(0,r.Z)({},l,{values:i.values.map((function(e){var t=l.values.find((function(t){return t.name===e}));return t?t.id:""}))})]):n}return n}),[])},c=function(e){return e?e.reduce((function(e,t){if("connConfig"===t.special||"tag"===t.special){var n={id:t.id,values:t.values};!e[t.special]&&(e[t.special]=[]),e[t.special].push(n)}else"content"===t.special?e[t.special]=[{contain:t.values}]:e[t.special]=t.values;return e}),{}):{}},s=function(e){var t=document.createElement("canvas").getContext("2d");return t.font="14px PingFangSC-Regular",t.measureText(e).width},u=function(e,t){return e.reduce((function(e,n){var r=t.find((function(e){return e.id===n}));return r&&e.push(r.name),e}),[]).join("\uff0c")}},27338:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(39432),c=n(49722);function s(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.bdType;return c.h.post("/price-insight/chart/find/ANALYSIS_COUNT",{projectId:t,filterModel:r,dateFilter:n,groupType:a})}function u(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.groupType;return c.h.post("/price-insight/chart/find/ANALYSIS_COUNT",{projectId:t,filterModel:n,dateFilter:r,groupType:a})}function l(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.groupType;return c.h.post("/price-insight/chart/find/ANALYSIS_DATE_TREND",{projectId:t,filterModel:n,dateFilter:r,groupType:a})}var p=n(95298),d=n(64396).Z.price.priceBranding,f={bdData:void 0,bdType:"BRAND_MODEL",pieChartData:[],barChartData:[],isInitial:!0,dateFilter:{},filterModel:{},projectId:void 0};const h={namespace:d,state:(0,r.Z)({},Object.assign({},f)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchDatas:i().mark((function e(t,n){var a,c,s,u,l,p,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:if(l=e.sent,p=l.filterModel,h=l.dateFilter,m=l.projectId,JSON.stringify(a.filterModel)===JSON.stringify(p)&&JSON.stringify(a.dateFilter)===JSON.stringify(h)&&m===a.projectId){e.next=24;break}return v=(0,r.Z)({},Object.assign({},f),a),e.next=12,s({type:"save",payload:v});case 12:return e.next=14,c(o.gw,200);case 14:return e.next=16,s({type:"fetchPieChartData",payload:v});case 16:return e.next=18,c(o.gw,200);case 18:return e.next=20,s({type:"fetchBarChartData",payload:v});case 20:return e.next=22,c(o.gw,200);case 22:return e.next=24,s({type:"fetchBrandDistributionData",payload:v});case 24:case"end":return e.stop()}}),e)})),fetchBrandDistributionData:i().mark((function e(t,n){var a,o,c,u,l,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,f=l.bdType,h=l.projectId,m=l.dateFilter,v=l.filterModel,y={bdType:a.bdType||f},g=null,e.prev=11,e.next=14,o(s,(0,r.Z)({projectId:h,dateFilter:m,filterModel:v},y));case 14:x=e.sent,2e4===(I=x.data).code&&(g=(0,p.f)(I.result)),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,c({type:"save",payload:(0,r.Z)({bdData:g},y)});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchPieChartData:i().mark((function e(t,n){var a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,e.prev=2,e.next=5,o(u,(0,r.Z)({},a,{groupType:"BRAND_MODEL"}));case 5:if(s=e.sent,2e4!==(l=s.data).code){e.next=10;break}return e.next=10,c({type:"save",payload:{pieChartData:l.result}});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})),fetchBarChartData:i().mark((function e(t,n){var a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,e.prev=2,e.next=5,o(l,(0,r.Z)({},a,{groupType:"BRAND_MODEL"}));case 5:if(s=e.sent,2e4!==(u=s.data).code){e.next=10;break}return e.next=10,c({type:"save",payload:{barChartData:u.result}});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:return e.prev=15,e.next=18,c({type:"save",payload:{isInitial:!1}});case 18:return e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[2,12,15,19]])}))}}},41195:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722);function s(e){var t=e.id;return c.h.post("/break_back_filter/find",{id:t})}function u(e){var t=e.filterDetail,n=e.pageIndex,r=e.pageSize,a=e.projectId;return c.h.post("/break_back_filter/list/uc",{filterDetail:t,pageIndex:n,pageSize:r,projectId:a})}function l(e){var t=e.projectId;return c.h.get("team/list?projectId="+t)}function p(e){var t=e.id,n=e.compareLine,r=e.compareType,a=e.filterDetail,i=e.name,o=e.projectId,s=e.remindType,u=e.teams;return c.h.post("/break_back_filter/save",{id:t,compareLine:n,compareType:r,filterDetail:a,name:i,projectId:o,remindType:s,teams:u})}var d=n(64814),f=o.Z.price.editRule,h=o.Z.screening,m={step:1,id:void 0,value:{filterValue:void 0,money:"",userList:[],warningName:""},tableList:[],tableListTotal:0,pageSize:10,teamList:[],hasChange:!1};const v={namespace:f,state:Object.assign({},m),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},changeStep:function(e,t){var n=t.payload;return(0,r.Z)({},e,{step:n.step})},changePageSize:function(e,t){var n=t.payload;return(0,r.Z)({},e,{pageSize:n.pageSize})}},effects:{fetchDefaultValue:i().mark((function e(t,n){var r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,o=n.select,e.next=3,o((function(e){return e[f]}));case 3:return c=e.sent,u=c.id,e.next=7,r(s,{id:u});case 7:return l=e.sent,p=l.data.result,e.next=11,a({type:"save",payload:{value:(0,d.j)(p)}});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})),fetchTable:i().mark((function e(t,n){var r,a,o,c,s,l,p,d,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[f]}));case 4:return s=e.sent,l=s.projectId,p=s.value,d=s.pageSize,h=(r||{}).currentPage,m=void 0===h?1:h,e.next=11,a(u,{projectId:l,filterDetail:p.filterValue,pageSize:d,pageIndex:m});case 11:return v=e.sent,y=v.data.result,(g=y.result||[]).forEach((function(e){e.configDetails&&e.configDetails.forEach((function(t){return e[t.topicTypeId]=t.topicValue}))})),e.next=17,o({type:"save",payload:{tableList:g,tableListTotal:y.count||0}});case 17:case"end":return e.stop()}}),e)})),fetchTeam:i().mark((function e(t,n){var r,a,o,c,s,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,o=n.select,e.next=3,o((function(e){return e[f]}));case 3:return c=e.sent,s=c.projectId,e.next=7,r(l,{projectId:s});case 7:return u=e.sent,p=u.data.result,e.next=11,a({type:"save",payload:{teamList:p.list}});case 11:case"end":return e.stop()}}),e)})),changeValue:i().mark((function e(t,n){var r,a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,c=r.id,s=r.value,e.next=5,o((function(e){return e[f]}));case 5:return u=e.sent,(l=u.value)[c]=s,e.next=10,a({type:"save",payload:{value:JSON.parse(JSON.stringify(l)),hasChange:!0}});case 10:if("filterValue"!==c){e.next=13;break}return e.next=13,a({type:"fetchTable"});case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e)})),submit:i().mark((function e(t,n){var a,o,c,s,u,l,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return e[f]}));case 3:return s=e.sent,u=s.value,l=s.id,h=s.projectId,e.next=9,a(p,(0,r.Z)({id:l,projectId:h},(0,d.y8)(u)));case 9:return e.next=11,o({type:"save",payload:{hasChange:!1}});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})),clearScreening:i().mark((function e(t,n){var a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,o=n.select,e.next=3,o((function(e){return e[f]}));case 3:return c=e.sent,s=c.value,e.next=7,a({type:h+"/clearAllValues"});case 7:return e.next=9,a({type:"save",payload:{value:(0,r.Z)({},s,{filterValue:[]})}});case 9:return e.next=11,a({type:"fetchTable"});case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)}))}}},64814:(e,t,n)=>{"use strict";n.d(t,{y8:()=>r,j:()=>a,X0:()=>i,BS:()=>o,kt:()=>c,uT:()=>s});var r=function(e){return{compareLine:e.money,compareType:"LT",filterDetail:e.filterValue,name:e.warningName,remindType:"WEIXIN",teams:e.userList}},a=function(e){return{filterValue:JSON.parse(e.filterDetail||"[]"),money:String(e.compareLine),userList:e.teams||[],warningName:String(e.name)}},i=function(e){return!e.trim()||Number(e)>0&&Number(e)<1e5&&/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/.test(e)},o=50,c=function(e){return e.length<o},s=function(e){var t=e.title;e.url;return[{title:"\u6e20\u9053\u4e71\u4ef7",url:"/priceChaos"},{title:t}]}},81538:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.pageIndex,n=e.pageSize,r=e.keyword,a=e.breakBackFilterId;return o.h.post("/break_price/log/list",{pageIndex:t,pageSize:n,keyword:r,breakBackFilterId:a})}var s=n(64396).Z.price.pushLog,u={breakBackFilterId:"",keyword:"",pageIndex:1,pageSize:10,count:0,pushList:void 0};const l={namespace:s,state:Object.assign({},u),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},u)}},effects:{fetchLogList:i().mark((function e(t,n){var a,o,u,l,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return e[s]}));case 4:return p=e.sent,d=p.breakBackFilterId,f=p.keyword,h=p.pageIndex,m=p.pageSize,v={breakBackFilterId:a.breakBackFilterId||d,keyword:a.keyword||f,pageIndex:a.pageIndex||h,pageSize:a.pageSize||m},y="error",g=0,e.prev=11,e.next=14,o(c,v);case 14:x=e.sent,2e4===(I=x.data).code&&I.result.count>0?(y=I.result.result,g=I.result.count):y="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,u({type:"save",payload:(0,r.Z)({},a,{pushList:y,count:g})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])}))}}},66697:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.pageIndex,r=e.pageSize,a=e.keyword,i=e.filterModel;return o.h.post("/break_back_filter/list",{projectId:t,pageIndex:n,pageSize:r,keyword:a,filterModel:i})}function s(e){var t=e.id;return o.h.post("/break_back_filter/delete",{id:t})}var u=n(64396).Z.price.ruleList,l={projectId:void 0,id:"",keyword:"",pageIndex:1,pageSize:10,total:0,ruleList:void 0,dateFilter:{}};const p={namespace:u,state:Object.assign({},l),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},l)}},effects:{fetchRuleList:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return e.priceRuleList}));case 4:return l=e.sent,p=l.projectId,l.keyword,d=l.pageIndex,f=l.pageSize,h={projectId:a.projectId||p,keyword:a.keyword,pageIndex:a.pageIndex||d,pageSize:a.pageSize||f},m="error",v=0,e.prev=11,e.next=14,o(c,h);case 14:y=e.sent,2e4===(g=y.data).code&&g.result.total>0?(m=g.result.list,v=g.result.total):m="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,s({type:"save",payload:(0,r.Z)({},a,{ruleList:m,total:v})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchDeleteRule:i().mark((function e(t,n){var r,a,o,c,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e.priceRuleList}));case 4:return u=e.sent,l=u.projectId,p=u.keyword,d=u.pageIndex,f=u.pageSize,e.prev=9,e.next=12,a(s,{id:r.id});case 12:return e.next=14,o({type:"fetchRuleList",payload:{projectId:l,keyword:p,pageIndex:d,pageSize:f}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(9);case 18:case"end":return e.stop()}}),e,null,[[9,16]])}))}}},93890:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.id;return o.h.post("/break_back_filter/log/handle",{id:t})}function s(e){var t=e.id;return o.h.post("/break_back_filter/log/find",{id:t})}var u=n(64396).Z.price.screenshot,l={logData:void 0};const p={namespace:u,state:Object.assign({},l),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},l)}},effects:{fetchDeal:i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,e.prev=2,e.next=5,a(c,{id:r.id});case 5:o=e.sent,o.data.result,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})),fetchGetData:i().mark((function e(t,n){var r,a,o,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(s,{id:r.id});case 5:if(c=e.sent,2e4!==(u=c.data).code||!u.result){e.next=10;break}return e.next=10,o({type:"save",payload:{logData:u.result}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])}))}}},85876:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return o.h.post("/break-price-chart/count",{projectId:t,filterModel:n,dateFilter:r})}function s(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return o.h.post("/break-price-chart/rate",{projectId:t,filterModel:n,dateFilter:r})}function u(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return o.h.post("/break-price-chart/break-rate",{projectId:t,filterModel:n,dateFilter:r})}function l(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter;return o.h.post("/break-price-chart/trend",{projectId:t,filterModel:n,dateFilter:r})}function p(e){var t=e.projectId,n=e.detailTitle,r=e.remindRepetition,a=e.tableTitle,i=e.unify,c=e.warningInterval,s=e.workType,u=e.id,l=e.module;return o.h.post("/price/warning/setting",{projectId:t,detailTitle:n,remindRepetition:r,tableTitle:a,unify:i,warningInterval:c,workType:s,id:u,module:l})}function d(e){var t=e.projectId;return o.h.post("/price/warning/setting/check",{projectId:t})}function f(e){var t=e.projectId,n=e.module;return o.h.post("/price/warning/setting/find",{projectId:t,module:n})}function h(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.pageIndex,i=e.pageSize,c=e.keyword,s=e.breakBackType;return o.h.post("/break_back_filter/log/list",{projectId:t,filterModel:n,dateFilter:r,pageIndex:a,pageSize:i,keyword:c,breakBackType:s})}var m=n(64396).Z.price.chaos,v={breakPriceData:void 0,replacePriceData:void 0,unReplacePriceData:void 0,breakPriceRatedData:void 0,breakPriceTrendData:void 0,priceChaosLogData:void 0,priceType:"ALL",keyword:"",pageIndex:1,pageSize:10,projectId:void 0,filterModel:void 0,dateFilter:void 0,preferList:[],preferValue:{},module:"BREAK_BACK_PRICE"};const y={namespace:m,state:Object.assign({},v),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,e.next=4,a({type:"fetchPriceChaos",payload:r});case 4:return e.next=6,a({type:"fetchPriceChaosRate",payload:r});case 6:return e.next=8,a({type:"fetchChaosTrend",payload:r});case 8:return e.next=10,a({type:"fetchChaosLogList",payload:r});case 10:return e.next=12,a({type:"fetchSettingList",payload:r});case 12:return e.next=14,a({type:"fetchPreferValue",payload:r});case 14:case"end":return e.stop()}}),e)})),fetchPriceChaos:i().mark((function e(t,n){var a,o,u,l,p,d,f,h,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[m]}));case 4:return p=e.sent,d=p.projectId,f=p.filterModel,h=p.dateFilter,e.prev=8,x={projectId:a.projectId||d,filterModel:a.filterModel||f,dateFilter:a.dateFilter||h},e.next=12,o(c,x);case 12:if(I=e.sent,2e4!==(b=I.data).code){e.next=29;break}if("{}"!==JSON.stringify(b.result)){e.next=21;break}v="empty",y="empty",g="empty",e.next=29;break;case 21:return v={total:b.result.breakCount,values:b.result.breakData},y={total:b.result.restoreCount,values:b.result.restoreData},g={total:b.result.unRecoveryCount,values:b.result.unRecoveryData},e.next=26,o(s,x);case 26:T=e.sent,2e4===(E=T.data).code&&E.result?(v.dayCompare=E.result.breakDaySameRate,v.weekCompare=E.result.breakWeekSameRate,y.dayCompare=E.result.restoreDaySameRate,y.weekCompare=E.result.restoreWeekSameRate,g.dayCompare=E.result.unRecoveryDaySameRate,g.weekCompare=E.result.unRecoveryWeekSameRate):(v.dayCompare=0,v.weekCompare=0,y.dayCompare=0,y.weekCompare=0,g.dayCompare=0,g.weekCompare=0);case 29:e.next=36;break;case 31:e.prev=31,e.t0=e.catch(8),v="error",y="error",g="error";case 36:return e.prev=36,e.next=39,u({type:"save",payload:(0,r.Z)({},a,{breakPriceData:v,replacePriceData:y,unReplacePriceData:g})});case 39:return e.finish(36);case 40:case"end":return e.stop()}}),e,null,[[8,31,36,40]])})),fetchPriceChaosRate:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[m]}));case 4:return l=e.sent,p=l.projectId,d=l.filterModel,f=l.dateFilter,h="error",e.prev=9,e.next=12,o(u,{projectId:a.projectId||p,dateFilter:a.dateFilter||f,filterModel:a.filterModel||d});case 12:v=e.sent,2e4===(y=v.data).code&&(h="{}"===JSON.stringify(y.result)?"empty":y.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,c({type:"save",payload:(0,r.Z)({},a,{breakPriceRatedData:h})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchChaosTrend:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[m]}));case 4:return u=e.sent,p=u.projectId,d=u.filterModel,f=u.dateFilter,h="error",e.prev=9,e.next=12,o(l,{projectId:a.projectId||p,dateFilter:a.dateFilter||f,filterModel:a.filterModel||d});case 12:v=e.sent,2e4===(y=v.data).code&&(h="{}"===JSON.stringify(y.result)?"empty":["unRecoveryData","breakRateData"].reduce((function(e,t){return e.forEach((function(e){var n=y.result[t].find((function(t){return t.date===e.date}));e["unRecoveryData"===t?"unReplaceCount":"breakRate"]=n?n.count:0})),e}),y.result.breakData.map((function(e){return{date:e.date,breakCount:e.count}})))),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,c({type:"save",payload:(0,r.Z)({},a,{breakPriceTrendData:h})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchChaosLogList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[m]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,d=u.dateFilter,f=u.pageIndex,v=u.pageSize,y=u.keyword,g=u.priceType,x="error",e.prev=13,I=a.priceType||g,b={projectId:a.projectId||l,dateFilter:a.dateFilter||d,filterModel:a.filterModel||p,pageSize:a.pageSize||v,keyword:a.hasOwnProperty("keyword")?a.keyword:y,pageIndex:a.pageIndex||f},"ALL"!==I&&(b.breakBackType=I),e.next=19,o(h,b);case 19:T=e.sent,E=T.data,x=2e4===E.code&&E.result?E.result:"empty",e.next=26;break;case 24:e.prev=24,e.t0=e.catch(13);case 26:return e.prev=26,e.next=29,c({type:"save",payload:(0,r.Z)({},a,{priceChaosLogData:x})});case 29:return e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[13,24,26,30]])})),fetchSettingList:i().mark((function e(t,n){var a,o,c,s,u,l,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[m]}));case 4:return u=e.sent,l=u.projectId,e.next=8,o(d,{projectId:a.projectId||l});case 8:return p=e.sent,f=p.data.result,e.next=12,c({type:"save",payload:(0,r.Z)({},a,{preferList:f})});case 12:case"end":return e.stop()}}),e)})),fetchPreferValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[m]}));case 4:return u=e.sent,l=u.projectId,p=u.module,e.next=9,o(f,{projectId:a.projectId||l,module:p});case 9:return d=e.sent,h=d.data.result,e.next=13,c({type:"save",payload:(0,r.Z)({},a,{preferValue:{detailTitle:(JSON.parse(h.detailTitle)||[]).map((function(e){return e.id})),remindRepetition:h.remindRepetition,tableTitle:(JSON.parse(h.tableTitle)||[]).map((function(e){return e.id})),unify:h.unify,warningInterval:h.warningInterval,workType:h.workType,id:h.id}})});case 13:case"end":return e.stop()}}),e)})),submitPreferValue:i().mark((function e(t,n){var a,o,c,s,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,n.put,o=n.select,e.next=4,o((function(e){return e[m]}));case 4:return c=e.sent,s=c.projectId,u=c.preferValue,l=c.preferList,d=c.module,e.next=11,a(p,(0,r.Z)({projectId:s},u,{detailTitle:JSON.stringify(l.find((function(e){return"detailTitle"===e.id})).config.filter((function(e){return u.detailTitle.includes(e.id)}))),tableTitle:JSON.stringify(l.find((function(e){return"tableTitle"===e.id})).config.filter((function(e){return u.tableTitle.includes(e.id)}))),module:d}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))}}},74681:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.filterModel,n=e.dateFilter,r=e.projectId;return o.h.post("/price-insight/comment/find",{projectId:r,filterModel:t,dateFilter:n})}function s(e){var t=e.filterModel,n=e.dateFilter,r=e.projectId;return o.h.post("/price-insight/data/source/find",{filterModel:t,dateFilter:n,projectId:r})}function u(e){var t=e.filterModel,n=e.dateFilter,r=e.projectId;return o.h.post("/price-insight/sku/find",{projectId:r,filterModel:t,dateFilter:n})}function l(e){var t=e.filterModel,n=e.dateFilter,r=e.projectId,a=e.queryType;return o.h.post("/price-insight/price/range/find",{projectId:r,filterModel:t,dateFilter:n,queryType:a})}function p(e){var t=e.filterModel,n=e.dateFilter,r=e.projectId,a=e.sortModel,i=e.pdDataType;return o.h.post("/price-insight/chart/find/PRICE_DISTRIBUTION_CHART",{filterModel:t,dateFilter:n,projectId:r,sortModel:a,showType:i})}var d=n(39432),f=n(95298),h=n(64396).Z.price.priceOverview,m={isInitial:!0,msgData:{total:0,today:0,list:[]},skuData:{total:0,today:0,list:[]},priceData:{maxPrice:0,minPrice:0,middlePrice:0,queryType:{id:"LISTPRICE",name:"\u6302\u724c\u4ef7"}},pdData:void 0,pdStatisticType:"TAKE_PRICE-ASC",pdDataType:"SKU",filterModel:void 0,dateFilter:void 0,projectId:void 0,headerFilter:{},dataDistribution:void 0};const v={namespace:h,state:(0,r.Z)({},Object.assign({},m)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[h]}));case 4:if(u=e.sent,l=u.filterModel,p=u.dateFilter,f=u.projectId,JSON.stringify(a.filterModel)===JSON.stringify(l)&&JSON.stringify(a.dateFilter)===JSON.stringify(p)&&f===a.projectId){e.next=30;break}return v=(0,r.Z)({},Object.assign({},m),a),e.next=12,c({type:"save",payload:v});case 12:return e.next=14,c({type:"fetchDataDistribution",payload:v});case 14:return e.next=16,o(d.gw,200);case 16:return e.next=18,c({type:"fetchMsgData",payload:v});case 18:return e.next=20,o(d.gw,200);case 20:return e.next=22,c({type:"fetchSkuData",payload:v});case 22:return e.next=24,o(d.gw,200);case 24:return e.next=26,c({type:"fetchPriceData",payload:v});case 26:return e.next=28,o(d.gw,200);case 28:return e.next=30,c({type:"fetchPriceDistributionData",payload:v});case 30:case"end":return e.stop()}}),e)})),fetchDataDistribution:i().mark((function e(t,n){var r,a,o,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.select,o=n.call,e.prev=2,e.next=5,o(s,r);case 5:return c=e.sent,u=c.data.result,e.next=9,a({type:"save",payload:{dataDistribution:u}});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})),fetchMsgData:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,s=n.select,e.prev=1,e.next=4,s((function(e){return(0,r.Z)({},e)[h]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,d=u.dateFilter,f=u.msgData,e.next=11,a(c,{projectId:l,filterModel:p,dateFilter:d});case 11:if(m=e.sent,2e4!==(v=m.data).code){e.next=23;break}if(y=v.result,g=y.todayCount,!((x=y.countList)&&x.length>0)){e.next=21;break}return I=x.reduce((function(e,t){return e+t.count}),0),e.next=19,o({type:"save",payload:{msgData:{total:I,today:g,list:x}}});case 19:e.next=23;break;case 21:return e.next=23,o({type:"save",payload:(0,r.Z)({},f,{today:g})});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.error(e.t0);case 28:return e.prev=28,e.next=31,o({type:"save",payload:{isInitial:!1}});case 31:return e.finish(28);case 32:case"end":return e.stop()}}),e,null,[[1,25,28,32]])})),fetchSkuData:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.prev=1,e.next=4,c((function(e){return(0,r.Z)({},e)[h]}));case 4:return s=e.sent,l=s.projectId,p=s.filterModel,d=s.dateFilter,f=s.skuData,e.next=11,a(u,{projectId:l,filterModel:p,dateFilter:d});case 11:if(m=e.sent,2e4!==(v=m.data).code){e.next=22;break}if(y=v.result,g=y.todayGrowthCount,!((x=y.countList)&&x.length>0)){e.next=20;break}return e.next=18,o({type:"save",payload:{skuData:{total:x.length>0?x[x.length-1].count:0,today:g||0,list:x}}});case 18:e.next=22;break;case 20:return e.next=22,o({type:"save",payload:{skuData:(0,r.Z)({},f,{today:g||0})}});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.error(e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})),fetchPriceData:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,m,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,s((function(e){return(0,r.Z)({},e)[h]}));case 5:return u=e.sent,p=u.projectId,d=u.filterModel,f=u.dateFilter,m=u.priceData,v=u.priceData.queryType,e.next=13,o(l,{projectId:p,filterModel:d,dateFilter:f,queryType:a.queryType&&a.queryType.id||v.id});case 13:if(y=e.sent,2e4!==(g=y.data).code){e.next=19;break}return x=g.result,I=x.minPrice,b=x.maxPrice,T=x.middlePrice,e.next=19,c({type:"save",payload:{priceData:(0,r.Z)({},m,{minPrice:Number.isInteger(I)?I:I.toFixed(2),maxPrice:Number.isInteger(b)?b:b.toFixed(2),middlePrice:Number.isInteger(T)?T:T.toFixed(2)})}});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(2);case 23:return e.prev=23,e.next=26,s((function(e){return(0,r.Z)({},e)[h]}));case 26:return E=e.sent,w=E.priceData,k=E.priceData.queryType,e.next=31,c({type:"save",payload:{priceData:(0,r.Z)({},w,{queryType:a.queryType||k})}});case 31:return e.finish(23);case 32:case"end":return e.stop()}}),e,null,[[2,21,23,32]])})),fetchPriceDistributionData:i().mark((function e(t,n){var a,o,c,s,u,l,d,m,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[h]}));case 4:return u=e.sent,l=u.filterModel,d=u.dateFilter,m=u.projectId,v=u.pdStatisticType,y=u.pdPriceType,g=u.pdDataType,x={pdStatisticType:a.pdStatisticType||v,pdPriceType:a.pdPriceType||y,pdDataType:a.pdDataType||g},I=null,e.prev=13,b=x.pdStatisticType.split("-"),T=b[0],E=b[1],e.next=17,o(p,{filterModel:l,dateFilter:d,projectId:m,sortModel:{sortName:T,sortType:E},showType:x.pdPriceType,pdDataType:x.pdDataType});case 17:w=e.sent,2e4===(k=w.data).code&&k.result.length>0&&(I=(0,f.i)(k.result,x.pdDataType)),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(13);case 24:return e.prev=24,e.next=27,c({type:"save",payload:(0,r.Z)({pdData:I},x)});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[13,22,24,28]])}))}}},26365:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(35239),c=n(49722);function s(e){var t=o.t.get(o.V.curProject);if(t)return c.h.post("/price/history/list",(0,r.Z)({id:t.id},e))}function u(e){var t=o.t.get(o.V.curProject);if(t)return c.h.post("/price/history/list/limit",{id:t.id})}n(97189),n(67294);function l(e){return e&&e.length?(e.forEach((function(e){e.connectionConfig&&Object.keys(e.connectionConfig).forEach((function(t){return e[t]=e.connectionConfig[t]}))})),e):(console.error("data\u65e0\u6570\u636e"),null)}var p=n(64396).Z.price.historyPrice,d={columns:[],data:[],total:0,priceTimeDisabled:!1};const f={namespace:p,state:Object.assign({},d),effects:{getHistoryList:i().mark((function e(t,n){var r,a,o,c,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=[],u=[],p=0,e.prev=3,e.next=6,a(s,r);case 6:d=e.sent,2e4===(f=d.data).code&&(h=f.result,p=h.count,u=l(h.result)||[],c=h.result[0]?h.result[0].configDetailVoList:[]),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,o({type:"save",payload:{data:u,columns:c,total:p}});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[3,11,13,17]])})),getProTimeRange:i().mark((function e(t,n){var r,a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.put,e.prev=2,e.next=5,r(u);case 5:if(o=e.sent,c=o.data,s=c.code,l=c.result,2e4!==s){e.next=12;break}return e.next=12,a({type:"save",payload:{priceTimeDisabled:l.dateRange||!1}});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(2);case 16:case"end":return e.stop()}}),e,null,[[2,14]])})),saveState:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:r});case 4:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clearState:function(e,t){t.payload;return(0,r.Z)({},e,Object.assign({},d))}}}},12455:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);Array.from({length:4}).map(((e,t)=>({id:t+1,name:`\u6d4b\u8bd5${t}`,lastRemindTime:"2020-10-18 12:00:00",createdAt:"2020-10-18 8:00:00",status:"ENABLE",updatedAt:"2020-10-18 8:10:00",owner:"aa",updater:"aa",money:1111,compareType:"PRODUCT",priceCompareType:"GT"})));var s="PRICE_WARNING_LIST";function u(e){var t=e.projectId;return c.h.post("/price/warning/setting/check",{projectId:t})}function l(e){var t=e.projectId,n=e.module;return c.h.post("/price/warning/setting/find",{projectId:t,module:n})}function p(e){var t=e.id,n=e.priceCompareType,r=e.warningPrice;return c.h.post("/price/warning/change/price",{id:t,priceCompareType:n,warningPrice:r})}function d(e){var t=e.pageIndex,n=e.pageSize,r=e.projectId,a=e.keyword,i=e.compareType,o=e.priceCompareType;return c.h.post("/price/warning/list",{pageIndex:t,pageSize:n,projectId:r,keyword:a,compareType:i,priceCompareType:o})}function f(e){var t=e.projectId,n=e.detailTitle,r=e.remindRepetition,a=e.tableTitle,i=e.unify,o=e.warningInterval,s=e.workType,u=e.id,l=e.module;return c.h.post("/price/warning/setting",{projectId:t,detailTitle:n,remindRepetition:r,tableTitle:a,unify:i,warningInterval:o,workType:s,id:u,module:l})}function h(e){var t=e.id;return c.h.post("/price/warning/delete",{id:t})}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:s,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=n(64396),I=n(5133),b=n(11912),T=x.Z.monitoring.warning,E={projectId:"",preferList:[],preferValue:{},data:[],form:0,to:0,count:0,pageSize:20,pageIndex:1,keyword:"",priceCompareType:"ALL",compareType:"ALL",activeColumnProps:[],module:"PRICE"};const w={namespace:T,state:Object.assign({},E),effects:{fetchParams:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,c=b.SE,e.prev=3,e.next=6,a(m,{projectId:r.projectId});case 6:s=e.sent,2e4===(u=s.data).code&&u.result&&(c=JSON.parse(u.result)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.next=15,o({type:"save",payload:{activeColumnProps:c,projectId:r.projectId}});case 15:return e.next=17,o({type:"fetchWarningList",payload:r});case 17:return e.next=19,o({type:"fetchSettingList"});case 19:return e.next=21,o({type:"fetchPreferValue"});case 21:case"end":return e.stop()}}),e,null,[[3,11]])})),fetchSettingList:i().mark((function e(t,n){var a,o,c,s,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[T]}));case 4:return l=e.sent,p=l.projectId,e.next=8,o(u,{projectId:p});case 8:return d=e.sent,f=d.data.result,e.next=12,c({type:"save",payload:(0,r.Z)({preferList:f},a)});case 12:case"end":return e.stop()}}),e)})),fetchPreferValue:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[T]}));case 4:return u=e.sent,p=u.projectId,d=u.module,e.next=9,o(l,{projectId:p,module:d});case 9:return f=e.sent,h=f.data.result,e.next=13,c({type:"save",payload:(0,r.Z)({preferValue:{detailTitle:(JSON.parse(h.detailTitle)||[]).map((function(e){return e.id})),remindRepetition:h.remindRepetition,tableTitle:(JSON.parse(h.tableTitle)||[]).map((function(e){return e.id})),unify:h.unify,warningInterval:h.warningInterval,workType:h.workType,id:h.id}},a)});case 13:case"end":return e.stop()}}),e)})),submitPreferValue:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,n.put,o=n.select,e.next=4,o((function(e){return e[T]}));case 4:return c=e.sent,s=c.projectId,u=c.preferValue,l=c.preferList,p=c.module,e.next=11,a(f,(0,r.Z)({projectId:s},u,{detailTitle:JSON.stringify(l.find((function(e){return"detailTitle"===e.id})).config.filter((function(e){return u.detailTitle.includes(e.id)}))),tableTitle:JSON.stringify(l.find((function(e){return"tableTitle"===e.id})).config.filter((function(e){return u.tableTitle.includes(e.id)}))),module:p}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})),fetchWarningList:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[T]}));case 4:return u=e.sent,l=u.projectId,p=u.pageIndex,f=u.pageSize,u.keyword,h=u.compareType,m=u.priceCompareType,v=a.compareType||h,y=a.priceCompareType||m,g={projectId:l,pageIndex:a.pageIndex||p,pageSize:a.pageSize||f,keyword:a.keyword},"ALL"!==v&&(g.compareType=v),"ALL"!==y&&(g.priceCompareType=y),e.next=18,o(d,g);case 18:if(x=e.sent,2e4!==(I=x.data).code){e.next=23;break}return e.next=23,c({type:"save",payload:(0,r.Z)({from:I.result.from,to:I.result.to,count:I.result.count,data:I.result.result},a)});case 23:case"end":return e.stop()}}),e)})),fetchWarningChange:i().mark((function e(t,n){var r,a,o,c,s,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[T]}));case 4:return s=e.sent,s.projectId,u=s.keyword,e.next=9,a(p,r);case 9:if(l=e.sent,2e4!==(d=l.data).code){e.next=17;break}return I.Z.success(d.msg),e.next=15,o({type:"fetchWarningList",payload:{keyword:u}});case 15:e.next=18;break;case 17:I.Z.error(d.msg);case 18:case"end":return e.stop()}}),e)})),deleteWarning:i().mark((function e(t,n){var r,a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[T]}));case 4:return s=e.sent,s.projectId,u=s.keyword,e.next=9,a(h,{id:r.id});case 9:if(l=e.sent,2e4!==(p=l.data).code){e.next=17;break}return I.Z.success(p.msg),e.next=15,o({type:"fetchWarningList",payload:{keyword:u}});case 15:e.next=18;break;case 17:I.Z.error(p.msg);case 18:case"end":return e.stop()}}),e)})),setDefaultValue:i().mark((function e(t,n){var r,a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[T]}));case 4:return s=e.sent,u=s.projectId,e.next=8,a(y,{projectId:r.projectId||u,value:JSON.stringify(r.activeColumnProps)});case 8:if(l=e.sent,2e4!==l.data.code){e.next=13;break}return e.next=13,o({type:"save",activeColumnProps:r.activeColumnProps});case 13:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},E)}}}},11912:(e,t,n)=>{"use strict";n.d(t,{OB:()=>r,C0:()=>a,Ij:()=>i,SE:()=>o});var r=[{title:"\u5168\u90e8",value:"ALL"},{title:"\u56fa\u5b9a\u91d1\u989d\u6bd4\u4ef7",value:"PRICE"},{title:"\u540c\u7c7b\u5546\u54c1\u6bd4\u4ef7",value:"PRODUCT"}],a=[{title:"\u9ad8\u4e8e",value:"GT"},{title:"\u4f4e\u4e8e",value:"LT"}],i=[{title:"\u5168\u90e8",value:"ALL"},{title:"\u9ad8\u4e8e",value:"GT"},{title:"\u4f4e\u4e8e",value:"LT"},{title:"\u5dee\u4ef7\u9ad8\u4e8e",value:"LT_OR_GT"}],o=[{label:"\u9884\u8b66\u540d\u79f0",value:"name",fixed:"left",width:200,checked:!0},{label:"\u6bd4\u4ef7\u6a21\u5f0f",value:"compareType",fixed:"",width:120,checked:!0},{label:"\u6bd4\u4ef7\u65b9\u5f0f",value:"priceCompareType",fixed:"",width:120,checked:!0},{label:"\u6bd4\u4ef7\u91d1\u989d",value:"money",fixed:"",width:160,checked:!0},{label:"\u4e0a\u4e00\u6b21\u63d0\u9192\u65f6\u95f4",value:"lastRemindTime",fixed:"",width:160,checked:!1},{label:"\u6700\u65b0\u4fee\u6539\u65f6\u95f4",value:"updatedAt",fixed:"",width:160,checked:!0},{label:"\u6700\u65b0\u4fee\u6539\u7528\u6237",value:"owner",fixed:"",width:120,checked:!1},{label:"\u521b\u5efa\u65f6\u95f4",value:"createdAt",fixed:"",width:160,checked:!1},{label:"\u64cd\u4f5c",value:"operator",fixed:"right",width:250,checked:!0}]},75335:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.type,n=e.projectId,r=e.filterModel,a=e.dateFilter,i=e.groupType;return o.h.post("/price-insight/chart/find/"+(t&&"SPU"===t?"ANALYSIS_SPU":"ANALYSIS_COUNT"),{projectId:n,filterModel:r,dateFilter:a,groupType:i})}function s(e){var t=e.type,n=e.projectId,r=e.filterModel,a=e.dateFilter,i=e.groupType;return o.h.post("/price-insight/chart/find/"+(t&&"SPU"===t?"SPU_SALES_DATE_TREND_CHART":"ANALYSIS_DATE_TREND"),{projectId:n,filterModel:r,dateFilter:a,groupType:i})}function u(e){var t=e.projectId,n=e.dateFilter,r=e.projectConfigIdSkus;return o.h.post("/sales/count",{projectId:t,dateFilter:n,projectConfigIdSkus:r})}var l=n(64396).Z.price.productShop,p={isInitial:!0,projectId:"",filterModel:{},dateFilter:{},pieChartData:[],lineChartData:[],saleData:{},filteredItems:[],firstTopValue:30,sndTopValue:30};const d={namespace:l,state:{MODEL:(0,r.Z)({},Object.assign.apply(Object,[{}].concat(p))),SHOP:(0,r.Z)({},Object.assign.apply(Object,[{}].concat(p))),SPU:(0,r.Z)({},Object.assign.apply(Object,[{}].concat(p))),type:""},reducers:{save:function(e,t){var n,a=t.payload;return(0,r.Z)({},e,((n={})[e.type]=(0,r.Z)({},e[e.type],a),n))},saveType:function(e,t){var n=t.payload;return(0,r.Z)({},e,{type:n.type})}},effects:{fetchData:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[l]}));case 4:if(s=e.sent,u=s[s.type],p=u.projectId,d=u.filterModel,f=u.dateFilter,h={projectId:a.projectId||p,filterModel:a.filterModel||d,dateFilter:a.dateFilter||f},s.type&&"SPU"!==s.type&&(h.groupType=s.type),e.prev=8,p===a.projectId&&JSON.stringify(d)===JSON.stringify(a.filterModel)&&JSON.stringify(f)===JSON.stringify(a.dateFilter)){e.next=16;break}return e.next=12,o({type:"save",payload:(0,r.Z)({},h)});case 12:return e.next=14,o({type:"fetchPieChartData",payload:h});case 14:return e.next=16,o({type:"fetchLineChartData",payload:h});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[8,18]])})),fetchPieChartData:i().mark((function e(t,n){var a,o,s,u,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.type,e.prev=6,e.next=9,o(c,(0,r.Z)({},a,{type:d}));case 9:if(f=e.sent,h=f.data,m="MODEL"!==d?h.result.slice(0,30).map((function(e){return e.spu})):[],2e4!==h.code){e.next=18;break}return e.next=15,s({type:"save",payload:{pieChartData:h.result,filteredItems:m}});case 15:if("SHOP"!==d){e.next=18;break}return e.next=18,s({type:"fetchShopSale",payload:{}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[6,20]])})),fetchLineChartData:i().mark((function e(t,n){var a,o,c,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.type,e.prev=6,e.next=9,o(s,(0,r.Z)({},a,{type:d}));case 9:if(f=e.sent,2e4!==(h=f.data).code){e.next=14;break}return e.next=14,c({type:"save",payload:{lineChartData:h.result}});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.error(e.t0);case 19:return e.prev=19,e.next=22,c({type:"save",payload:{isInitial:!1}});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[6,16,19,23]])})),fetchShopSale:i().mark((function e(t,n){var a,o,c,s,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[l]}));case 3:return s=e.sent,p=s[s.type],d=p.projectId,f=p.dateFilter,h=p.pieChartData,m={},v={projectId:d,dateFilter:f,projectConfigIdSkus:h.reduce((function(e,t){var n;return(0,r.Z)({},e,((n={})[t.name]=t.skuList,n))}),{})},e.prev=7,e.next=10,a(u,v);case 10:y=e.sent,2e4===(g=y.data).code&&(m=g.result),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,o({type:"save",payload:{saleData:m}});case 20:return e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[7,15,17,21]])})),init:i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.next=3,a({type:"save",payload:(0,r.Z)({},Object.assign.apply(Object,[{}].concat(p)))});case 3:case"end":return e.stop()}}),e)}))}}},95298:(e,t,n)=>{"use strict";n.d(t,{i:()=>a,f:()=>i});var r=n(87462);function a(e,t){var n="SKU"===t?"skuTotal":"msgTotal",a="SKU"===t?"skuNumber":"msgTotal",i=0,o=0,c=0,s=e.map((function(e){return(0,r.Z)({},e,{data:e.data.filter((function(e){return"\u5176\u4ed6"!==e.name}))})})).sort((function(e,t){return t[n]-e[n]})).slice(0,10);return{treemapData:s.map((function(e){return o+=e[n],i+=e.priceTotal,c+=e.priceRangeTotal,{name:e.name,value:e[n]>0?e[n]+Math.random():e[n],children:e.data.map((function(t){return{value:t[a],name:t.name,brand:e.name,count:t[a],price:t.price,priceRange:t.priceRange}}))}})),pieData:{source:s.reduce((function(e,t){return[].concat(e,[[t.name,t.priceTotal,""+(0===i?0:(t.priceTotal/i*100).toFixed(2)+"%"),t[n],""+(0===o?0:(t[n]/o*100).toFixed(2)+"%"),t.priceRangeTotal,""+(0===c?0:(t.priceRangeTotal/c*100).toFixed(2)+"%")]])}),[["\u54c1\u724c","\u4ef7\u683c\u6570\u91cf","\u4ef7\u683c\u6570\u91cf\u5360\u6bd4","SKU\u6570\u91cf","\u4ef7\u683c\u6570\u91cf\u5360\u6bd4","\u4ef7\u683c\u533a\u95f4\u6570\u91cf","\u4ef7\u683c\u533a\u95f4\u6570\u91cf\u5360\u6bd4"]]),dimensions:["\u54c1\u724c","\u4ef7\u683c\u6570\u91cf","SKU\u6570\u91cf","\u4ef7\u683c\u533a\u95f4\u6570\u91cf"]}}}function i(e,t){return e.map((function(e){return{dimensions:["\u54c1\u724c",e.name],source:[0,1,2].map((function(n){return 0===n?e.children.reduce((function(t,n){return[].concat(t,[e.name+"$_$"+n.name])}),["BRAND_MODEL"===t?"\u578b\u53f7":"\u5e97\u94fa"]):1===n?e.children.reduce((function(t,n){return[].concat(t,[n.count/e.count])}),["\u6bd4\u4f8b"]):e.children.reduce((function(e,t){return[].concat(e,[t.count])}),["\u6570\u91cf"])}))}}))}},89316:(e,t,n)=>{"use strict";n.r(t),n.d(t,{namespace:()=>l,default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(52238),c=n(92360),s=n(64396),u=n(64740),l=s.Z.productAnalysis.aspectAnalysis,p={projectId:void 0,dataAspect1:void 0,dataAspect2:void 0,metion:void 0,positiveRate:void 0,negativeRate:void 0,chartTypeValue:{meAspectType:u.Rx[0].value,emotionType:u.V2[0].value,allEmotionType:u.jg[0].value},flavor:{},headerFilterParamsNew:void 0,dateFilter:void 0,selectValue:void 0,categoryId:void 0,analysisModel:void 0,rangedBusinessPointNames:[],curShowAspect:"aspect1",rangeChecked:{chart1:!1,chart2:!1},treeId:void 0};const d={namespace:l,state:Object.assign({},p),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},p)},saveChartData:function(e,t){var n,a=t.payload,i=a.result.reduce((function(e,t){return t.businessPoint.forEach((function(n){var r=n.id,a=n.name,i=e.find((function(e){return e.view===a}));i||(i={id:r,view:a,aspects:[]},e.push(i));var o=t.positive+t.negative;i.aspects.push({total:o,aspect:t.aspect2,positive:t.positive,negative:t.negative,negRate:t.negative/o,posRate:t.positive/o,menRate:o/t.messageTotal})})),e}),[]);return i=i.length?e.rangedBusinessPointNames.reduce((function(e,t){var n=i.find((function(e){return e.view===t}));return n&&e.push(n),e}),[]):"empty",(0,r.Z)({},e,((n={})["chartData"+a.aspectLevel]=i,n))},saveRangeChecked:function(e,t){var n=t.payload.rangeChecked;return(0,r.Z)({},e,{rangeChecked:n})}},effects:{fetchParams:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.chartTypeValue,f={meAspectType:"",emotionType:"",allEmotionType:""},h=JSON.parse(JSON.stringify(d)),e.prev=8,e.next=11,c(o.oG,{projectId:a.projectId});case 11:m=e.sent,2e4===(v=m.data).code&&v.result&&(f=Object.assign(f,JSON.parse(v.result)),Object.keys(f).forEach((function(e){return h[e]=f[e]||h[e]}))),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.next=20,s({type:"save",payload:(0,r.Z)({},a,{chartTypeValue:h,flavor:f})});case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e,null,[[8,16]])})),fetchAspectTreeId:i().mark((function e(t,n){var r,a,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,s=n.call,n.select,u=n.put,e.next=4,s(o.nb,{projectId:c.projectId,filterTypes:["ASPECT"],type:"PRODUCT"});case 4:if(2e4===(null==(l=e.sent)||null==(r=l.data)?void 0:r.code)){e.next=7;break}return e.abrupt("return");case 7:if(!(p=null==(a=l.data.result.treeAspect)?void 0:a[0].treeId)){e.next=11;break}return e.next=11,u({type:"save",payload:{treeId:p}});case 11:case"end":return e.stop()}}),e)})),fetchBusinessPointList:i().mark((function e(t,n){var a,c,s,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.call,s=n.select,u=n.put,e.next=3,s((function(e){return(0,r.Z)({},e)[l]}));case 3:return p=e.sent,d=p.projectId,e.next=7,c(o.hM,{projectId:d});case 7:if(2e4===(null==(f=e.sent)||null==(a=f.data)?void 0:a.code)){e.next=10;break}return e.abrupt("return");case 10:return h=f.data.result.map((function(e){return e.name})),e.next=13,u({type:"save",payload:{rangedBusinessPointNames:h}});case 13:case"end":return e.stop()}}),e)})),fetchMentionRate:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.headerFilterParamsNew,f=p.dateFilter,h=p.projectId,m=p.categoryId,v=a.aspectType,y="error",g="error",x="aspect1"===v?1:2,e.prev=12,e.next=15,c(o.KM,{projectId:h,aspectLevel:x,dateFilter:f,headerFilterParamsNew:d,categoryId:m});case 15:b=e.sent,2e4===(T=b.data).code&&null!=(I=T.result)&&I.length?(g=T.result.map((function(e){var t=e.positive+e.negative;return(0,r.Z)({},e,{total:t,negRate:0===t?0:e.negative/t,posRate:0===t?0:e.positive/t,menRate:0===e.messageTotal?0:t/e.messageTotal})})),E=T.result.reduce((function(e,t){return e[t.aspect1]?(e[t.aspect1].positive+=t.positive,e[t.aspect1].negative+=t.negative):e[t.aspect1]=t,e}),{}),w=Object.entries(E).map((function(e){e[0];return e[1]})),y=w.map((function(e){var t=e.positive+e.negative;return(0,r.Z)({},e,{total:t,negRate:0===t?0:e.negative/t,posRate:0===t?0:e.positive/t,menRate:0===e.messageTotal?0:t/e.messageTotal})}))):(y="empty",g="empty"),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.next=24,s({type:"save",payload:{dataAspect1:y,dataAspect2:g}});case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e,null,[[12,20]])})),getMention:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,c=n.put,s=n.select,e.next=3,s((function(e){return(0,r.Z)({},e)[l]}));case 3:return u=e.sent,p=u.headerFilterParamsNew,d=u.dateFilter,f=u.projectId,h=u.categoryId,m="error",e.prev=9,e.next=12,a(o.U7,{projectId:f,headerFilterParamsNew:p,dateFilter:d,categoryId:h});case 12:v=e.sent,2e4===(y=v.data).code&&y.result&&(m=y.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,c({type:"save",payload:{metion:m}});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})),getPositiveRate:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,c=n.put,s=n.select,e.next=3,s((function(e){return(0,r.Z)({},e)[l]}));case 3:return u=e.sent,p=u.headerFilterParamsNew,d=u.dateFilter,f=u.projectId,h=u.categoryId,m="error",e.prev=9,e.next=12,a(o.u6,{projectId:f,headerFilterParamsNew:p,dateFilter:d,categoryId:h});case 12:v=e.sent,2e4===(y=v.data).code&&y.result&&(m=y.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,c({type:"save",payload:{positiveRate:m}});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})),getNegativeRate:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,c=n.put,s=n.select,e.next=3,s((function(e){return(0,r.Z)({},e)[l]}));case 3:return u=e.sent,p=u.headerFilterParamsNew,d=u.dateFilter,f=u.projectId,h=u.categoryId,m="error",e.prev=9,e.next=12,a(o.Wb,{projectId:f,headerFilterParamsNew:p,dateFilter:d,categoryId:h});case 12:v=e.sent,2e4===(y=v.data).code&&y.result&&(m=y.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,c({type:"save",payload:{negativeRate:m}});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})),setCompare:i().mark((function e(t,n){var a,s,u,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,p=n.select,e.next=5,p((function(e){return(0,r.Z)({},e)[l]}));case 5:return d=e.sent,f=d.projectId,h=a.cartType,m=a.sameRateType,e.prev=8,e.next=11,s(o.Lq,{projectId:f,cartType:h,sameRateType:m});case 11:if(v=e.sent,2e4!==v.data.code){e.next=27;break}e.t0=h,e.next="ASPECT_MENTION_RATE_CARD"===e.t0?17:"POSITIVE_ASPECT_RATE_CARD"===e.t0?19:"NEGATIVE_ASPECT_RATE_CARD"===e.t0?21:23;break;case 17:return y="getMention",e.abrupt("break",23);case 19:return y="getPositiveRate",e.abrupt("break",23);case 21:return y="getNegativeRate",e.abrupt("break",23);case 23:return c.Message.success("\u8bbe\u7f6e\u6210\u529f"),e.next=26,u({type:y});case 26:return e.abrupt("return",e.sent);case 27:e.next=31;break;case 29:e.prev=29,e.t1=e.catch(8);case 31:case"end":return e.stop()}}),e,null,[[8,29]])})),chartTypeChange:i().mark((function e(t,n){var a,o,c,s,u,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.t0=JSON,e.t1=JSON,e.next=6,c((function(e){return(0,r.Z)({},e)[l]}));case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),s=e.t0.parse.call(e.t0,e.t3),u=s.chartTypeValue,p=a.key,d=a.value,u[p]=d,e.next=14,o({type:"save",payload:{chartTypeValue:JSON.parse(JSON.stringify(u))}});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})),updateFlavors:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.flavor,h=a.key,m=a.value,f[h]=m,v={meAspectType:f.meAspectType,emotionType:f.emotionType,allEmotionType:f.allEmotionType},e.prev=10,e.next=13,c(o.sR,{projectId:d,value:JSON.stringify(v)});case 13:if(y=e.sent,2e4!==y.data.code){e.next=21;break}return e.next=18,u({type:"save",payload:f});case 18:if(!m){e.next=21;break}return e.next=21,u({type:"chartTypeChange",payload:a});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(10);case 25:case"end":return e.stop()}}),e,null,[[10,23]])}))}}},52238:(e,t,n)=>{"use strict";n.d(t,{Gy:()=>c,U7:()=>l,u6:()=>d,Wb:()=>h,Lq:()=>v,KM:()=>g,oG:()=>I,sR:()=>T,hM:()=>w,nb:()=>C});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722),c="PRODUCT_CUSTOMER",s="PRODUCT_CUSTOMER_CONCERN",u="ANALYZE_PRODUCT";function l(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function e(t){var n,r,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,s=t.categoryId,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT_MENTION_RATE_CARD",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,productOverviewModule:c,module:u,categoryId:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(t){var n,r,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,s=t.categoryId,e.abrupt("return",o.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,productOverviewModule:c,module:u,categoryId:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function e(t){var n,r,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,s=t.categoryId,e.abrupt("return",o.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,productOverviewModule:c,module:u,categoryId:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sameRateType,r=t.cartType,a=t.projectId,e.abrupt("return",o.h.post("/product/overview/set-same-rate",{sameRateType:n,cartType:r,projectId:a,productOverviewModule:c,module:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,c=t.aspectLevel,s=t.categoryId,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT2_EMOTION_QUERY",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,aspectLevel:c,module:u,categoryId:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:s,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/business_point/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.filterTypes,a=t.type,e.abrupt("return",o.h.post("/filter/find",{projectId:n,filterTypes:r,type:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},64740:(e,t,n)=>{"use strict";n.d(t,{ou:()=>o,Rx:()=>c,V2:()=>s,jg:()=>u,LK:()=>l,QS:()=>p,jr:()=>d,gF:()=>f,nW:()=>h,Oy:()=>m,X3:()=>v,Qe:()=>y,OM:()=>g});var r=n(8201),a=n(69058),i=n(67294),o=["ASPECT_ANALYSIS_COMMENT","ASPECT_ANALYSIS_QUESTIONAIRE","ASPECT_ANALYSIS_APP","ASPECT_ANALYSIS_TICKET","ASPECT_ANALYSIS_SELF"],c=[{title:"\u4e00\u7ea7\u6307\u6807",value:"aspect1"},{title:"\u4e8c\u7ea7\u6307\u6807",value:"aspect2"}],s=[{title:"\u6307\u6807\u597d\u8bc4\u7387",value:"positive"},{title:"\u6307\u6807\u5dee\u8bc4\u7387",value:"negative"}],u=[{title:"\u6307\u6807\u58f0\u91cf",value:"total"},{title:"\u6307\u6807\u6b63\u9762\u58f0\u91cf",value:"positive"},{title:"\u6307\u6807\u8d1f\u9762\u58f0\u91cf",value:"negative"}],l=function(e){return(0,r.P)(e)?[{name:"\u6307\u6807\u63d0\u53ca\u7387",count:e.aspectMentionRate,format:"percent"},{name:(0,a.kV)(e.sameRateType)+"\u540c\u6bd4",count:e.sameRate,rise:(0,a.hf)(e.sameRate),format:"percent"},{name:"\u73af\u6bd4",count:e.circleRate,rise:(0,a.hf)(e.circleRate),format:"percent"},{name:"\u6307\u6807\u58f0\u91cf",count:e.usefulAspectCount,format:"myriad"},{name:"\u6709\u6548\u6d88\u606f",count:e.usefulCommentCount,format:"myriad"}]:e},p=function(){return i.createElement("div",null,i.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u6765\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),i.createElement("p",null,"\u300c\u6709\u6548\u6d88\u606f\u300d\u83b7\u5f97\u7684\u6d88\u606f\u4e2d\uff0c\u9664\u53bb\u88ab\u6807\u8bb0\u4e3a\u201c\u65e0\u6548\u6d88\u606f\u201d\u7684\u6d88\u606f\u6570\uff0c\u5269\u4e0b\u7684\u5747\u88ab\u6807\u8bb0\u4e3a\u201c\u6709\u6548\u6d88\u606f\u201d\u3002"),i.createElement("p",null,"\u300c\u6307\u6807\u63d0\u53ca\u7387\u300d\u662f\u6307\u9009\u4e2d\u7684\u6d88\u606f\u4e2d\uff0c\u6307\u6807\u58f0\u91cf\xf7\u6709\u6548\u6d88\u606f\u6570\u91cf\u3002"))},d=function(e){return(0,r.P)(e)?[{name:"\u6307\u6807\u597d\u8bc4\u7387",count:e.positiveAspectRate,format:"percent"},{name:(0,a.kV)(e.sameRateType)+"\u540c\u6bd4",count:e.sameRate,rise:(0,a.hf)(e.sameRate),format:"percent"},{name:"\u73af\u6bd4",count:e.circleRate,rise:(0,a.hf)(e.circleRate),format:"percent"},{name:"\u6b63\u9762\u58f0\u91cf",count:e.usefulPositiveAspectCount,format:"myriad"},{name:"\u6307\u6807\u58f0\u91cf",count:e.usefulAspectCount,format:"myriad"}]:e},f=function(){return i.createElement("div",null,i.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),i.createElement("p",null,"\u300c\u6b63\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u6b63\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u6b63\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),i.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d = \u6307\u6807\u6b63\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},h=function(e){return(0,r.P)(e)?[{name:"\u6307\u6807\u5dee\u8bc4\u7387",count:e.negativeAspectRate,format:"percent"},{name:(0,a.kV)(e.sameRateType)+"\u540c\u6bd4",count:e.sameRate,rise:(0,a.hf)(e.sameRate),format:"percent"},{name:"\u73af\u6bd4",count:e.circleRate,rise:(0,a.hf)(e.circleRate),format:"percent"},{name:"\u8d1f\u9762\u58f0\u91cf",count:e.usefulNegativeAspectCount,format:"myriad"},{name:"\u6307\u6807\u58f0\u91cf",count:e.usefulAspectCount,format:"myriad"}]:e},m=function(){return i.createElement("div",null,i.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),i.createElement("p",null,"\u300c\u8d1f\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u8d1f\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),i.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d = \u6307\u6807\u8d1f\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},v={1:"COMMENT",17:"QUESTIONAIRE",21:"APP_COMMENT",22:"TICKET",12:"SELF"},y={1:"commont",17:"questionnaire",21:"app",22:"ticket",12:"self"},g=function(e,t,n){var r=e.find((function(e){return"ASPECT_MODEL"===e.id}));r?("aspect1"===t&&(r.values.find((function(e){return"ASPECT1"===e.id}))?r.values.find((function(e){return"ASPECT1"===e.id})).values=[n]:r.values.push({id:"ASPECT1",label:"\u4e00\u7ea7\u6307\u6807",values:[n]})),"aspect2"===t&&(r.values.find((function(e){return"ASPECT2"===e.id}))?r.values.find((function(e){return"ASPECT2"===e.id})).values=[n]:r.values.push({id:"ASPECT2",label:"\u4e8c\u7ea7\u6307\u6807",values:[n]}))):("aspect1"===t&&e.push({id:"ASPECT_MODEL",values:[{id:"ASPECT1",label:"\u4e00\u7ea7\u6307\u6807",values:[n]}]}),"aspect2"===t&&e.push({id:"ASPECT_MODEL",values:[{id:"ASPECT2",label:"\u4e8c\u7ea7\u6307\u6807",values:[n]}]}))}},35836:(e,t,n)=>{"use strict";n.r(t),n.d(t,{namespace:()=>l,default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(91063),c=n(64396),s=n(5133),u=n(970),l=c.Z.productAnalysis.compareProduct,p={countCard:void 0,countSameRateType:"",positiveRate:void 0,positiveSameRateType:"",negativeRate:void 0,negativeSameRateType:"",cmtData:void 0,cmtAspectType:"",cmtAspFlavor:"",cmtType:"",cmtFlavor:"",cmtRangeCheck:!1,volData:void 0,volAspectType:"",volAspFlavor:"",volType:"",volFlavor:"",volRangeCheck:!1,menData:void 0,menAspectType:"",menAspFlavor:"",menRangeCheck:!1,perData:void 0,perAspectType:"",perAspFlavor:"",perRangeCheck:!1,tarRangedNames:void 0,tarAspectType:void 0,total:0,pageIndex:1,pageSize:10,aspectListType:"",aspectListTypeFlavor:"",aspectData:void 0,fetchedAspectData:void 0,projectId:void 0,dateFilter:{},dateRange:0,headerFilterParamsNew:void 0,analysisModel:[],selectAnalySisModel:void 0};const d={namespace:l,state:Object.assign({},p),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},p)}},effects:{fetchParams:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:if(p=e.sent,d=p.projectId,f=p.headerFilterParamsNew,h=p.dateFilter,m=p.analysisModel,JSON.stringify(d)!==JSON.stringify(a.projectId)||JSON.stringify(f)!==JSON.stringify(a.headerFilterParamsNew)||JSON.stringify(h)!==JSON.stringify(a.dateFilter)||JSON.stringify(m)!==JSON.stringify(a.analysisModel)){e.next=11;break}return e.abrupt("return");case 11:return v={cmtAspectType:"aspect1",cmtType:"posRate",volAspectType:"aspect1",volType:"aspectTotal",menAspectType:"aspect1",perAspectType:"aspect1",aspectListType:"aspect1"},y={cmtAspFlavor:"",cmtFlavor:"",volAspFlavor:"",volFlavor:"",menAspFlavor:"",perAspFlavor:"",aspectListTypeFlavor:""},e.prev=13,e.next=16,c(o.oG,{projectId:a.projectId});case 16:g=e.sent,2e4===(x=g.data).code&&x.result&&(y=JSON.parse(x.result),I=Object.keys(v),Object.keys(y).forEach((function(e,t){y[e]&&(v[I[t]]=y[e])}))),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.next=25,s({type:"save",payload:(0,r.Z)({},a,{headerFilterParamsNew:a.headerFilterParamsNew},y,v)});case 25:return e.next=27,s({type:"fetchCountCard",payload:a});case 27:return e.next=29,s({type:"fetchPositiveCard",payload:a});case 29:return e.next=31,s({type:"fetchNegativeCard",payload:a});case 31:return e.next=33,s({type:"fetchAspectData",payload:a});case 33:case"end":return e.stop()}}),e,null,[[13,21]])})),setSameRate:i().mark((function e(t,n){var a,c,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,u=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=a.cartType,m=a.sameRateType,e.next=9,c(o.qZ,{projectId:f,cartType:h,sameRateType:m});case 9:if(v=e.sent,2e4!==v.data.code){e.next=29;break}e.t0=h,e.next="USEFUL_ASPECT_COUNT_CARD"===e.t0?15:"POSITIVE_ASPECT_RATE_CARD"===e.t0?18:"NEGATIVE_ASPECT_RATE_CARD"===e.t0?21:24;break;case 15:return g="fetchCountCard",x="countSameRateType",e.abrupt("break",24);case 18:return g="fetchPositiveCard",x="positiveSameRateType",e.abrupt("break",24);case 21:return g="fetchNegativeCard",x="negativeSameRateType",e.abrupt("break",24);case 24:return s.Z.success("\u8bbe\u7f6e\u6210\u529f"),e.next=27,u({type:"save",payload:(y={},y[x]=m,y)});case 27:return e.next=29,u({type:g,payload:a});case 29:case"end":return e.stop()}}),e)})),fetchPositiveCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v="error",e.prev=10,y={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},e.next=14,c(o.S2,y);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(v=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,s({type:"save",payload:{positiveRate:v,positiveSameRateType:v.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetchNegativeCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v="error",e.prev=10,y={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},e.next=14,c(o.Ew,y);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(v=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,s({type:"save",payload:{negativeRate:v,negativeSameRateType:v.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetchCountCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},y="error",e.prev=11,e.next=14,c(o.k,v);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(y=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,s({type:"save",payload:{count:y,countSameRateType:y.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[11,19]])})),fetchAspectData:i().mark((function e(t,n){var a,c,s,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O,_,j;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,p=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=d.dateFilter,m=d.headerFilterParamsNew,v=d.analysisModel,y={projectId:a.projectId||f,dateFilter:a.dateFilter||h,headerFilterParamsNew:a.headerFilterParamsNew||m,analysisModel:a.analysisModel||v},g="error",x="error",I="error",b="error",T="error",E="error",w=0,e.prev=11,e.next=14,c(o.nD,y);case 14:k=e.sent,2e4===(C=k.data).code&&C.result.length?(S=y.analysisModel[0].values,N=S[0],O=(0,u.kR)(C.result,N.label,N.values),O.data,_=O.aspect1,j=O.aspect2,g={aspect1:_,aspect2:j},x=C.result,I=C.result,b=C.result,T=C.result,E=C.result,w=C.result.length):(g="empty",x="empty",I="empty",b="empty",T="empty"),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,p({type:"save",payload:(0,r.Z)({},a,{headerFilterParamsNew:a.headerFilterParamsNew,aspectData:g,cmtData:x,volData:I,menData:b,perData:T,fetchedAspectData:E,total:w})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),updateFlavors:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.cmtAspFlavor,h=p.cmtFlavor,m=p.volAspFlavor,v=p.volFlavor,y=p.menAspFlavor,g=p.perAspFlavor,x=p.aspectListTypeFlavor,e.prev=13,I={cmtAspFlavor:void 0!==a.cmtAspectType?a.cmtAspectType:f,cmtFlavor:void 0!==a.cmtType?a.cmtType:h,volAspFlavor:void 0!==a.volAspectType?a.volAspectType:m,volFlavor:void 0!==a.volType?a.volType:v,menAspFlavor:void 0!==a.menAspectType?a.menAspectType:y,perAspFlavor:void 0!==a.perAspectType?a.perAspectType:g,aspectListTypeFlavor:void 0!==a.aspectListType?a.aspectListType:x},e.next=17,c(o.sR,{projectId:d,value:JSON.stringify(I)});case 17:if(b=e.sent,2e4!==b.data.code){e.next=22;break}return e.next=22,u({type:"save",payload:I});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(13);case 26:case"end":return e.stop()}}),e,null,[[13,24]])}))}}},91063:(e,t,n)=>{"use strict";n.d(t,{Gy:()=>c,nD:()=>l,S2:()=>d,Ew:()=>h,k:()=>v,qZ:()=>g,oG:()=>I,sR:()=>T});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722),c="PRODUCT_COMPARE",s="PRODUCT_COMPARE_ANALYSIS",u="ANALYZE_PRODUCT";function l(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function e(t){var n,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,t.filterModel,a=t.headerFilterParamsNew,c=t.analysisModel,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT2_EMOTION_ANALYSIS_QUERY",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,analysisModel:c,module:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c,module:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c,module:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/USEFUL_ASPECT_COUNT_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c,module:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.cartType,a=t.sameRateType,e.abrupt("return",o.h.post("/product/overview/set-same-rate",{projectId:n,cartType:r,sameRateType:a,productOverviewModule:c,module:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:s,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},970:(e,t,n)=>{"use strict";n.d(t,{aH:()=>i,qR:()=>o,k_:()=>c,ct:()=>s,$j:()=>u,Rx:()=>l,JM:()=>p,BI:()=>d,yE:()=>f,zV:()=>h,kR:()=>m});var r=n(87462),a=n(67294),i=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u6709\u6548\u6d88\u606f\u300d\u83b7\u5f97\u7684\u6d88\u606f\u4e2d\uff0c\u9664\u53bb\u88ab\u6807\u8bb0\u4e3a\u201c\u65e0\u6548\u6d88\u606f\u201d\u7684\u6d88\u606f\u6570\uff0c\u5269\u4e0b\u7684\u5747\u88ab\u6807\u8bb0\u4e3a\u201c\u6709\u6548\u6d88\u606f\u201d"),a.createElement("p",null,"\u300c\u6307\u6807\u63d0\u53ca\u7387\u300d\u662f\u6307\u9009\u4e2d\u7684\u6d88\u606f\u4e2d\uff0c\u6307\u6807\u58f0\u91cf\xf7\u6709\u6548\u6d88\u606f\u6570\u91cf"))},o=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u6b63\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u6b63\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u6b63\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d = \u6307\u6807\u6b63\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},c=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u8d1f\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u8d1f\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d = \u6307\u6807\u8d1f\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},s=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d\u6307\u6807\u6b63\u9762\u58f0\u91cf\xf7\uff08\u6307\u6807\u6b63\u9762\u58f0\u91cf + \u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff09\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d\u6307\u6807\u8d1f\u9762\u58f0\u91cf\xf7\uff08\u6307\u6807\u6b63\u9762\u58f0\u91cf + \u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff09\u3002"))},u=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u5360\u6bd4\u300d\u5177\u4f53\u6307\u6807\u7684\u58f0\u91cf\xf7\u5168\u90e8\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u5de6\u56fe\u5c55\u793a\u7684\u662f\u6307\u6807\u58f0\u91cf\uff0c\u53f3\u56fe\u5c55\u793a\u7684\u662f\u5404\u5206\u6790\u5bf9\u8c61\u7684\u6307\u6807\u5360\u6bd4\u3002"))},l=[{title:"\u4e00\u7ea7\u6307\u6807",value:"aspect1"},{title:"\u4e8c\u7ea7\u6307\u6807",value:"aspect2"}],p=[{title:"\u6307\u6807\u597d\u8bc4\u7387",value:"posRate"},{title:"\u6307\u6807\u5dee\u8bc4\u7387",value:"negRate"}],d=[{title:"\u6307\u6807\u58f0\u91cf",value:"aspectTotal"},{title:"\u6307\u6807\u6b63\u9762\u58f0\u91cf",value:"positive"},{title:"\u6307\u6807\u8d1f\u9762\u58f0\u91cf",value:"negative"}];function f(e){return e.reduce((function(e,t){var n=e.find((function(e){return e.name===t.name}));return n||(n={name:t.name,aspectTotal:0},e.push(n)),n.aspectTotal+=t.aspectPositive+t.aspectNegative,e}),[])}function h(e){var t=e.map((function(e){return e.aspect1})).reduce((function(e,t){return e.includes(t)?e:[].concat(e,[t])}),[]),n=e.map((function(e){return e.aspect2})).reduce((function(e,t){return e.includes(t)?e:[].concat(e,[t])}),[]),a={positive:0,negative:0,posRate:0,negRate:0,NES:0,aspectTotal:0,mentionRate:0};return e.reduce((function(i,o,c){var s=i.find((function(e){return e.name===o.name}));s||(s={name:o.name,messageTotal:o.messageTotal,positive:0,negative:0,posRate:0,negRate:0,NES:0,mentionRate:0,aspectTotal:0,aspect1:[],aspect2:[]},i.push(s)),s.positive+=o.aspectPositive,s.negative+=o.aspectNegative,s.aspectTotal+=o.aspectPositive+o.aspectNegative,s.posRate=0===s.aspectTotal?0:s.positive/s.aspectTotal,s.negRate=0===s.aspectTotal?0:s.negative/s.aspectTotal,s.NES=0===s.aspectTotal?0:(s.positive-s.negative)/s.aspectTotal,s.mentionRate=0===o.messageTotal?0:s.aspectTotal/o.messageTotal,s.aspect2.push({id:o.id,aspect:o.aspect2,positive:o.aspectPositive,negative:o.aspectNegative,posRate:o.aspectPositive+o.aspectNegative===0?0:o.aspectPositive/(o.aspectPositive+o.aspectNegative),negRate:o.aspectPositive+o.aspectNegative===0?0:o.aspectNegative/(o.aspectPositive+o.aspectNegative),NES:o.aspectPositive+o.aspectNegative===0?0:(o.aspectPositive-o.aspectNegative)/(o.aspectPositive+o.aspectNegative),aspectTotal:o.aspectPositive+o.aspectNegative,mentionRate:0===o.messageTotal?0:(o.aspectPositive+o.aspectNegative)/o.messageTotal});var u=s.aspect1.find((function(e){return e.aspect===o.aspect1}));return u||(u={id:o.id,aspect:o.aspect1,messageTotal:o.messageTotal,positive:0,negative:0,aspectTotal:0},s.aspect1.push(u)),u.aspect===o.aspect1&&(u.positive+=o.aspectPositive,u.negative+=o.aspectNegative,u.aspectTotal+=o.aspectPositive+o.aspectNegative),c===e.length-1&&i.forEach((function(e){e.aspect1=t.map((function(t){var n=e.aspect1.find((function(e){return e.aspect===t}));return n?(0,r.Z)({},n,{posRate:0===n.aspectTotal?0:n.positive/n.aspectTotal,negRate:0===n.aspectTotal?0:n.negative/n.aspectTotal,NES:n.positive+n.negative===0?0:(n.positive-n.negative)/(n.positive+n.negative),mentionRate:0===n.messageTotal?0:(n.positive+n.negative)/n.messageTotal}):(0,r.Z)({aspect:t},a)})).filter((function(e){return e.aspect})),e.aspect2=n.map((function(t){var n=e.aspect2.find((function(e){return e.aspect===t}));return n||(0,r.Z)({aspect:t},a)})).filter((function(e){return e.aspect}))})),i}),[])}function m(e,t,n){var r=e.reduce((function(e,t){var n=e.find((function(e){return e.name===t.name}));n||(n={name:t.name,id:t.id,messageTotal:t.messageTotal,totalCount:0,aspect1:[]},e.push(n));var r=n.aspect1.find((function(e){return e.name===t.aspect1}));return r||(r={name:t.aspect1,count:0,posCount:0,negCount:0,aspect2:[]},n.aspect1.push(r)),r.aspect2.push({name:t.aspect2,posCount:t.aspectPositive,negCount:t.aspectNegative,count:t.aspectPositive+t.aspectNegative}),r.count+=t.aspectPositive+t.aspectNegative,r.posCount+=t.aspectPositive,r.negCount+=t.aspectNegative,n.totalCount+=t.aspectPositive+t.aspectNegative,e}),[]);(r=n.map((function(e){return r.find((function(t){return t.id===e}))})).filter((function(e){return e}))).forEach((function(e,t){t?r[0].totalCount&&(e.aspect1=r[0].aspect1.map((function(t){var n=e.aspect1.find((function(e){return e.name===t.name}));return n?(n.aspect2=t.aspect2.map((function(e){var t=n.aspect2.find((function(t){return t.name===e.name}));return t||{name:e.name,count:0,negCount:0,posCount:0}})),n):{name:t.name,count:0,posCount:0,negCount:0,aspect2:t.aspect2.map((function(e){return{name:e.name,count:0,posCount:0,negCount:0}}))}}))):(e.aspect1=e.aspect1.sort((function(e,t){return t.count-e.count})),e.aspect1.forEach((function(e){e.aspect2=e.aspect2.sort((function(e,t){return t.count-e.count}))})))}));var a=r.reduce((function(e,t){return t.aspect1.forEach((function(n){e[0].push([t.name,n.name,n.count,0===t.totalCount?0:n.count/t.totalCount,n.posCount,n.negCount,0===n.count?0:n.posCount/n.count,0===n.count?0:n.negCount/n.count,0===t.messageTotal?0:n.count/t.messageTotal]),n.aspect2.forEach((function(r){e[1].push([t.name,n.name,r.name,r.count,0===t.totalCount?0:r.count/t.totalCount,r.posCount,r.negCount,0===r.count?0:r.posCount/r.count,0===r.count?0:r.negCount/r.count,0===t.messageTotal?0:r.count/t.messageTotal])}))})),e}),[[[t,"\u4e00\u7ea7\u6307\u6807","\u6307\u6807\u58f0\u91cf","\u6307\u6807\u5360\u6bd4","\u6307\u6807\u6b63\u9762\u58f0\u91cf","\u6307\u6807\u8d1f\u9762\u58f0\u91cf","\u6307\u6807\u597d\u8bc4\u7387","\u6307\u6807\u5dee\u8bc4\u7387","\u6307\u6807\u63d0\u53ca\u7387"]],[[t,"\u4e00\u7ea7\u6307\u6807","\u4e8c\u7ea7\u6307\u6807","\u6307\u6807\u58f0\u91cf","\u6307\u6807\u5360\u6bd4","\u6307\u6807\u6b63\u9762\u58f0\u91cf","\u6307\u6807\u8d1f\u9762\u58f0\u91cf","\u6307\u6807\u597d\u8bc4\u7387","\u6307\u6807\u5dee\u8bc4\u7387","\u6307\u6807\u63d0\u53ca\u7387"]]]),i=a[0],o=a[1];return{data:r,aspect1:i,aspect2:o}}},69058:(e,t,n)=>{"use strict";n.d(t,{hf:()=>r,kV:()=>a,bF:()=>i});n(39432);var r=function(e){return 0===e||null===e?void 0:e>0},a=function(e){switch(e){case"WEEK":return"\u5468";case"MONTH":return"\u6708";case"QUATER":return"\u5b63";case"YEAR":return"\u5e74";default:return""}},i=function(e){var t=e.some((function(e){return"DEFAULT"===e.id}))&&e.find((function(e){return"DEFAULT"===e.id})).values.some((function(e){return"SOURCE"===e.id})),n=e.some((function(e){return"TAG_RULE"===e.id}))&&e.find((function(e){return"TAG_RULE"===e.id})).values,r=e.some((function(e){return"CONFIG"===e.id}))&&e.find((function(e){return"CONFIG"===e.id})).values,a={};return r&&(a.connConfig=r.map((function(e){return{id:e.id,values:e.values}}))),t&&(a.source=e.find((function(e){return"DEFAULT"===e.id})).values.find((function(e){return"SOURCE"===e.id})).values),n&&(a.tag=n.map((function(e){return{id:e.id,special:"tag",values:e.values}}))),a}},46290:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(63366),a=(n(75314),n(11187)),i=n(87462),o=n(87757),c=n.n(o),s=n(64396),u=n(40845),l=n(87219),p=n(15861),d=n(49722);function f(e){return h.apply(this,arguments)}function h(){return(h=(0,p.Z)(c().mark((function e(t){var n,r,a,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.headerFilterParamsNew,a=t.dateFilter,i=t.filterModel,o=t.pageType,e.abrupt("return",d.h.post("/product/overview/chart/find/ASPECT2_TREND_QUERY",{projectId:n,headerFilterParamsNew:r,dateFilter:a,filterModel:i,pageType:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,p.Z)(c().mark((function e(t){var n,r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.headerFilterParamsNew,a=t.dateFilter,i=t.filterModel,e.abrupt("return",d.h.post("product/overview/chart/find/ASPECT_TREND_CARD",{projectId:n,headerFilterParamsNew:r,dateFilter:a,filterModel:i}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,p.Z)(c().mark((function e(t){var n,r,a,i,o,s,u,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.headerFilterParamsNew,a=t.dateFilter,i=t.filterModel,o=t.type,s=t.businessPoint,u=t.emotion,l=t.formula,e.abrupt("return",d.h.post("data/aspect/chart/export",{projectId:n,headerFilterParamsNew:r,dateFilter:a,filterModel:i,type:o,businessPoint:s,emotion:u,formula:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=["projectId","pageType"],I=s.Z.product.aspectTrend.overview,b={aspectTrendData:void 0,trendEmotion:"negative",aspectDateOptions:[],aspectDateType:"",aspectDateTypeFlavor:"",aspectTotalType:"",aspectPosType:"",aspectNegType:"",aspectBusType:"",aspectTotalTypeFlavor:"",aspectPosTypeFlavor:"",aspectNegTypeFlavor:"",aspectBusTypeFlavor:"",aspectCountData:void 0,aspectType:"",aspectTypeFlavor:"",aspectVolumeType:"",aspectVolumeTypeFlavor:"",selectAspectObj:{type:"",value:[],color:[]},rangedBusinessPointNames:[],projectId:void 0,analysisModel:void 0,filterModel:void 0,filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,pageType:"ASPECT_TREND"};const T={namespace:I,state:Object.assign({},b),reducers:{save:function(e,t){var n=t.payload;return(0,i.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},b)}},effects:{fetchParams:c().mark((function e(t,n){var r,a,o,s,l,p,d,f,h,m,v,y,g,x,b,T,E,w,k,C,S;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,s=n.select,e.next=4,s((function(e){return(0,i.Z)({},e)[I]}));case 4:return l=e.sent,l.projectId,l.filterModel,l.dateFilter,p=l.selectAspectObj,d=l.aspectTypeFlavor,f=l.aspectVolumeTypeFlavor,h=l.pageType,m=l.aspectDateTypeFlavor,v=l.aspectTotalTypeFlavor,y=l.aspectPosTypeFlavor,g=l.aspectNegTypeFlavor,x=l.aspectBusTypeFlavor,b={aspectTypeFlavor:d,aspectVolumeTypeFlavor:f,aspectDateTypeFlavor:m,aspectTotalTypeFlavor:v,aspectPosTypeFlavor:y,aspectNegTypeFlavor:g,aspectBusTypeFlavor:x},T={aspectType:d||"aspect1",aspectVolumeType:f||"total",aspectDateType:r.aspectDateTypeFlavor||m,aspectTotalType:v||"total",aspectPosType:y||"posRate",aspectNegType:g||"negRate",aspectBusType:x||"total"},e.next=21,a(u.o,{projectId:r.projectId,key:h});case 21:if(E=e.sent,2e4===(w=E.data).code&&w.result)try{k=JSON.parse(w.result),Object.keys(k).forEach((function(e){b[e]=k[e]})),C=Object.keys(T),Object.keys(b).forEach((function(e,t){b[e]&&(T[C[t]]=b[e])}))}catch(c){}return["aspectDateType"].forEach((function(e){!r.aspectDateOptions.find((function(t){return t.value===T[e]}))&&(T[e]=r.aspectDateTypeFlavor)})),S=(0,i.Z)({},r,T,b,{dateFilter:(0,i.Z)({},r.dateFilter,{dateGroupType:T.aspectDateType})}),e.next=28,o({type:"save",payload:(0,i.Z)({},S,{selectAspectObj:(0,i.Z)({},p,{type:S.aspectType})})});case 28:return e.next=30,o({type:"fetchDatas",payload:S});case 30:case"end":return e.stop()}}),e)})),fetchDatas:c().mark((function e(t,n){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchAspectCountData",payload:r});case 4:return e.next=6,a({type:"fetchAspectTrendData",payload:r});case 6:case"end":return e.stop()}}),e)})),fetchAspectCountData:c().mark((function e(t,n){var r,a,o,s,u,p,d,h,m,v,y,g;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,s=n.select,e.next=4,s((function(e){return(0,i.Z)({},e)[I]}));case 4:return u=e.sent,p=u.projectId,d=u.headerFilterParamsNew,h=u.dateFilter,u.rangedBusinessPointNames,u.aspectType,m=u.pageType,v="error",e.prev=12,e.next=15,a(f,{pageType:m,projectId:r.projectId||p,dateFilter:r.dateFilter||h,headerFilterParamsNew:(0,l.ZP)(r.headerFilterParamsNew||d,(function(e){var t=e.find((function(e){return"DEFAULT"===e.id}));t?t.values.find((function(e){return"MESSAGE_TYPE"===e.id}))||t.values.push({id:"MESSAGE_TYPE",values:["COMMENT_APPEND","MESSAGE_COMMENT"]}):e.push({id:"DEFAULT",values:[{id:"MESSAGE_TYPE",values:["COMMENT_APPEND","MESSAGE_COMMENT"]}]})})),filterModel:[]});case 15:y=e.sent,g=y.data,v=2e4===g.code&&g.result.length?g.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,o({type:"save",payload:(0,i.Z)({},r,{aspectCountData:v})});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])})),fetchAspectTrendData:c().mark((function e(t,n){var r,a,o,s,u,p,d,f,h,v,y,g,x,b,T;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,s=n.select,e.next=4,s((function(e){return(0,i.Z)({},e)[I]}));case 4:return u=e.sent,p=u.projectId,d=u.headerFilterParamsNew,f=u.dateFilter,h=u.aspectDateOptions,v=u.aspectDateTypeFlavor,y="error",g=(0,i.Z)({},r,{aspectDateType:r.dateFilter.dateGroupType}),x=h.find((function(e){return e.value===v})),g.filterModel&&v!==g.dateFilter.dateGroupType&&x&&(g=(0,i.Z)({},g,{dateFilter:(0,i.Z)({},g.dateFilter,{dateGroupType:v}),aspectDateType:v})),e.prev=14,e.next=17,a(m,{projectId:g.projectId||p,dateFilter:g.dateFilter||f,headerFilterParamsNew:(0,l.ZP)(r.headerFilterParamsNew||d,(function(e){var t=e.find((function(e){return"DEFAULT"===e.id}));t?t.values.find((function(e){return"MESSAGE_TYPE"===e.id}))||t.values.push({id:"MESSAGE_TYPE",values:["COMMENT_APPEND","MESSAGE_COMMENT"]}):e.push({id:"DEFAULT",values:[{id:"MESSAGE_TYPE",values:["COMMENT_APPEND","MESSAGE_COMMENT"]}]})})),filterModel:[]});case 17:b=e.sent,T=b.data,y=2e4===T.code&&T.result.length?T.result:"empty",e.next=24;break;case 22:e.prev=22,e.t0=e.catch(14);case 24:return e.prev=24,e.next=27,o({type:"save",payload:(0,i.Z)({},g,{aspectTrendData:y})});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[14,22,24,28]])})),fetchExportRateData:c().mark((function e(t,n){var r,o,s,u,l,p,d,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,o=n.call,s=n.select,e.next=4,s((function(e){return(0,i.Z)({},e)[I]}));case 4:return u=e.sent,l=u.projectId,p=u.headerFilterParamsNew,d=u.dateFilter,e.prev=8,e.next=11,o(y,(0,i.Z)({},r,{projectId:l,dateFilter:d,headerFilterParamsNew:p,filterModel:[]}));case 11:f=e.sent,2e4===f.data.code&&a.default.success('\u64cd\u4f5c\u6210\u529f\uff0c\u8bf7\u5230\u4e2a\u4eba\u4e2d\u5fc3\u7684\u4e0b\u8f7d\u5217\u8868\u6216\u8005\u70b9\u51fb\u53f3\u4e0a\u89d2"\u5c0f\u94c3\u94db"\u4e0b\u8f7d'),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:case"end":return e.stop()}}),e,null,[[8,16]])})),setDefaultValue:c().mark((function e(t,n){var a,o,s,l,p,d,f,h,m,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,l=n.select,e.next=4,l((function(e){return(0,i.Z)({},e)[I]}));case 4:return p=e.sent,d=p.projectId,f=p.pageType,h=(0,r.Z)(p,x),m=["aspectTypeFlavor","aspectVolumeTypeFlavor","aspectDateTypeFlavor","aspectTotalTypeFlavor","aspectPosTypeFlavor","aspectNegTypeFlavor","aspectBusTypeFlavor"].reduce((function(e,t){return e[t]=void 0!==a[t]?a[t]:h[t],e}),{}),e.prev=9,e.next=12,o(u.s,{projectId:a.projectId||d,key:f,value:JSON.stringify(m)});case 12:if(v=e.sent,2e4!==v.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:(0,i.Z)({},a)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))}}},58794:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(32807),s=n(40845),u=n(64396),l=["projectId","pageType"],p=u.Z.product.commentOverview,d={projectId:void 0,analysisModel:void 0,headerFilterParamsNew:void 0,dateFilter:void 0,dateOptions:[],defaultDateType:void 0,filterValues:[],pageType:"CONTACT_COMMENT_OVERVIEW",cardData:void 0,starTrendData:void 0,starTrendCountType:"count",fStarTrendCountType:"",starTrendTimeType:"DAY",fStarTrendTimeType:"",feedbackData:void 0,feedbackEnablePos:!1,hotwordData:void 0,hotwordEnablePos:!1,emotionsData:void 0,emotionsTrendCountType:"COUNT",emotionsTimeType:"DAY",countData:void 0};const f={namespace:p,state:Object.assign({},d),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},d)}},effects:{fetchParams:o().mark((function e(t,n){var r,i,c,u,l,d,f,h,m,v,y,g,x,I,b,T,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[p]}));case 4:if(l=e.sent,d=l.headerFilterParamsNew,f=l.dateFilter,h=l.pageType,m=l.fStarTrendCountType,v=l.fStarTrendTimeType,JSON.stringify(d)!==JSON.stringify(r.headerFilterParamsNew)||JSON.stringify(f)!==JSON.stringify(r.dateFilter)){e.next=12;break}return e.abrupt("return");case 12:return y={fStarTrendCountType:m,fStarTrendTimeType:v},g={starTrendTimeType:v||r.defaultDateType,starTrendCountType:m||"count"},e.next=16,i(s.o,{projectId:r.projectId,key:h});case 16:if(x=e.sent,2e4===(I=x.data).code&&I.result)try{b=JSON.parse(I.result),Object.keys(b).forEach((function(e){y[e]=b[e]})),T=Object.keys(g),Object.keys(y).forEach((function(e,t){y[e]&&(g[T[t]]=y[e])}))}catch(o){}return["starTrendTimeType"].forEach((function(e){!r.dateOptions.find((function(t){return t.value===g[e]}))&&(g[e]=r.defaultDateType)})),E=(0,a.Z)({},r,g,y,{emotionsTimeType:r.defaultDateType,starTrendTimeType:r.defaultDateType}),e.next=23,c({type:"save",payload:E});case 23:return e.next=25,c({type:"fetchDatas",payload:E});case 25:case"end":return e.stop()}}),e)})),fetchDatas:o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchCardData",payload:r});case 4:return e.next=6,a({type:"fetchStarTrendData",payload:r});case 6:return e.next=8,a({type:"fetchFeedbackData",payload:r});case 8:return e.next=10,a({type:"fetchHotwordData",payload:r});case 10:return e.next=12,a({type:"fetchEmotionsData",payload:r});case 12:case"end":return e.stop()}}),e)})),fetchCardData:o().mark((function e(t,n){var r,i,s,u,l,d,f,h,m,v,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,a.Z)({},e)[p]}));case 4:return l=e.sent,d=l.projectId,f=l.dateFilter,h=l.headerFilterParamsNew,m="error",e.prev=9,e.next=12,i(c.z5L,{projectId:r.projectId||d,dateFilter:r.dateFilter||f,headerFilterParamsNew:r.headerFilterParamsNew||h,categoryId:"1"});case 12:v=e.sent,y=v.data,m=2e4===y.code&&y.result?y.result:"empty",e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,u({type:"save",payload:(0,a.Z)({},r,{cardData:m})});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchFeedbackData:o().mark((function e(t,n){var r,i,s,u,l,d,f,h,m,v,y,g,x,I,b,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[p]}));case 4:return l=e.sent,d=l.projectId,f=l.dateFilter,h=l.headerFilterParamsNew,m=l.feedbackEnablePos,v="error",e.prev=10,e.next=13,i(c.aBi,{projectId:r.projectId||d,dateFilter:r.dateFilter||f,headerFilterParamsNew:r.headerFilterParamsNew||h,enablePos:void 0!==r.feedbackEnablePos?r.feedbackEnablePos:m,topSize:100,generalChartType:"HOT_WORD_CHART",category:"COMMENT"});case 13:x=e.sent,2e4===(I=x.data).code&&null!=(y=I.result)&&null!=(g=y.list)&&g.length?(b=I.result.list,T=b.reduce((function(e,t){return e+t.total}),0),v=b.sort((function(e,t){return t.total-e.total})).map((function(e){return(0,a.Z)({},e,{precent:e.total/T,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}))):v="empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,s({type:"save",payload:(0,a.Z)({feedbackData:v},r)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchStarTrendData:o().mark((function e(t,n){var r,i,s,u,l,d,f,h,m,v,y,g,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,a.Z)({},e)[p]}));case 4:return l=e.sent,d=l.projectId,f=l.dateFilter,h=l.headerFilterParamsNew,m=l.defaultDateType,v=l.starTrendTimeType,y="error",e.prev=11,e.next=14,i(c.aBi,{projectId:r.projectId||d,dateFilter:(0,a.Z)({},r.dateFilter||f,{dateGroupType:r.starTrendTimeType||m}),headerFilterParamsNew:r.headerFilterParamsNew||h,generalChartType:"SECOND_LAYER_DATE_AGGREGATION_CHART",category:"COMMENT",firstLayerAggregationType:"STAR"});case 14:g=e.sent,x=g.data,y=2e4===x.code&&x.result.list.length?x.result.list.filter((function(e){return e.key>0&&e.key<6})).sort((function(e,t){return e.key-t.key})):"empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,u({type:"save",payload:{starTrendData:y,starTrendTimeType:r.starTrendTimeType||v}});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchHotwordData:o().mark((function e(t,n){var r,i,s,u,l,d,f,h,m,v,y,g,x,I,b,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[p]}));case 4:return l=e.sent,d=l.projectId,f=l.dateFilter,h=l.headerFilterParamsNew,m=l.hotwordEnablePos,v="error",e.prev=10,e.next=13,i(c.aBi,{projectId:r.projectId||d,dateFilter:r.dateFilter||f,headerFilterParamsNew:r.headerFilterParamsNew||h,enablePos:void 0!==r.hotwordEnablePos?r.hotwordEnablePos:m,topSize:100,generalChartType:"HOT_WORD_CHART",category:"COMMENT"});case 13:x=e.sent,2e4===(I=x.data).code&&null!=(y=I.result)&&null!=(g=y.list)&&g.length?(b=I.result.list,T=b.reduce((function(e,t){return e+t.total}),0),v=b.sort((function(e,t){return t.total-e.total})).map((function(e){return(0,a.Z)({},e,{precent:e.total/T,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}))):v="empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,s({type:"save",payload:(0,a.Z)({hotwordData:v},r)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchEmotionsData:o().mark((function e(t,n){var r,i,s,u,l,d,f,h,m,v,y,g,x,I,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[p]}));case 4:return l=e.sent,d=l.projectId,f=l.dateFilter,h=l.headerFilterParamsNew,m=l.defaultDateType,v="error",e.prev=10,e.next=13,i(c.aBi,{projectId:r.projectId||d,dateFilter:(0,a.Z)({},r.dateFilter||f,{dateGroupType:r.emotionsTimeType||m}),headerFilterParamsNew:r.headerFilterParamsNew||h,generalChartType:"SECOND_LAYER_DATE_AGGREGATION_CHART",category:"COMMENT",firstLayerAggregationType:"EMOTION"});case 13:x=e.sent,2e4===(I=x.data).code&&null!=(y=I.result)&&null!=(g=y.list)&&g.length?(b=I.result.list,v=b.filter((function(e){return["0","1","-1"].includes(e.key)}))):v="empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,s({type:"save",payload:(0,a.Z)({emotionsData:v},r)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),setDefaultValue:o().mark((function e(t,n){var i,c,u,d,f,h,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,u=n.put,d=n.select,e.next=4,d((function(e){return(0,a.Z)({},e)[p]}));case 4:return f=e.sent,h=f.projectId,m=f.pageType,v=(0,r.Z)(f,l),y=["fStarTrendTimeType"].reduce((function(e,t){return e[t]=void 0!==i[t]?i[t]:v[t],e}),{}),e.prev=9,e.next=12,c(s.s,{projectId:i.projectId||h,key:m,value:JSON.stringify(y)});case 12:if(g=e.sent,2e4!==g.data.code){e.next=17;break}return e.next=17,u({type:"save",payload:(0,a.Z)({},i)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))}}},88820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{namespace:()=>l,default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(25500),c=n(64396),s=n(5133),u=n(9166),l=c.Z.product.compare,p={countCard:void 0,countSameRateType:"",positiveRate:void 0,positiveSameRateType:"",negativeRate:void 0,negativeSameRateType:"",cmtData:void 0,cmtAspectType:"",cmtAspFlavor:"",cmtType:"",cmtFlavor:"",cmtRangeCheck:!1,volData:void 0,volAspectType:"",volAspFlavor:"",volType:"",volFlavor:"",volRangeCheck:!1,menData:void 0,menAspectType:"",menAspFlavor:"",menRangeCheck:!1,perData:void 0,perAspectType:"",perAspFlavor:"",perRangeCheck:!1,tarRangedNames:void 0,tarAspectType:void 0,total:0,pageIndex:1,pageSize:10,aspectListType:"",aspectListTypeFlavor:"",aspectData:void 0,fetchedAspectData:void 0,projectId:void 0,dateFilter:{},dateRange:0,headerFilterParamsNew:void 0,analysisModel:[],selectAnalySisModel:void 0};const d={namespace:l,state:Object.assign({},p),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},p)}},effects:{fetchParams:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:if(p=e.sent,d=p.projectId,f=p.headerFilterParamsNew,h=p.dateFilter,m=p.analysisModel,JSON.stringify(d)!==JSON.stringify(a.projectId)||JSON.stringify(f)!==JSON.stringify(a.headerFilterParamsNew)||JSON.stringify(h)!==JSON.stringify(a.dateFilter)||JSON.stringify(m)!==JSON.stringify(a.analysisModel)){e.next=11;break}return e.abrupt("return");case 11:return v={cmtAspectType:"aspect1",cmtType:"posRate",volAspectType:"aspect1",volType:"aspectTotal",menAspectType:"aspect1",perAspectType:"aspect1",aspectListType:"aspect1"},y={cmtAspFlavor:"",cmtFlavor:"",volAspFlavor:"",volFlavor:"",menAspFlavor:"",perAspFlavor:"",aspectListTypeFlavor:""},e.prev=13,e.next=16,c(o.oG,{projectId:a.projectId});case 16:g=e.sent,2e4===(x=g.data).code&&x.result&&(y=JSON.parse(x.result),I=Object.keys(v),Object.keys(y).forEach((function(e,t){y[e]&&(v[I[t]]=y[e])}))),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.next=25,s({type:"save",payload:(0,r.Z)({},a,{headerFilterParamsNew:a.headerFilterParamsNew},y,v)});case 25:return e.next=27,s({type:"fetchCountCard",payload:a});case 27:return e.next=29,s({type:"fetchPositiveCard",payload:a});case 29:return e.next=31,s({type:"fetchNegativeCard",payload:a});case 31:return e.next=33,s({type:"fetchAspectData",payload:a});case 33:case"end":return e.stop()}}),e,null,[[13,21]])})),setSameRate:i().mark((function e(t,n){var a,c,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,u=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=a.cartType,m=a.sameRateType,e.next=9,c(o.qZ,{projectId:f,cartType:h,sameRateType:m});case 9:if(v=e.sent,2e4!==v.data.code){e.next=29;break}e.t0=h,e.next="USEFUL_ASPECT_COUNT_CARD"===e.t0?15:"POSITIVE_ASPECT_RATE_CARD"===e.t0?18:"NEGATIVE_ASPECT_RATE_CARD"===e.t0?21:24;break;case 15:return g="fetchCountCard",x="countSameRateType",e.abrupt("break",24);case 18:return g="fetchPositiveCard",x="positiveSameRateType",e.abrupt("break",24);case 21:return g="fetchNegativeCard",x="negativeSameRateType",e.abrupt("break",24);case 24:return s.Z.success("\u8bbe\u7f6e\u6210\u529f"),e.next=27,u({type:"save",payload:(y={},y[x]=m,y)});case 27:return e.next=29,u({type:g,payload:a});case 29:case"end":return e.stop()}}),e)})),fetchPositiveCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v="error",e.prev=10,y={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},e.next=14,c(o.S2,y);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(v=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,s({type:"save",payload:{positiveRate:v,positiveSameRateType:v.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetchNegativeCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v="error",e.prev=10,y={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},e.next=14,c(o.Ew,y);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(v=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,s({type:"save",payload:{negativeRate:v,negativeSameRateType:v.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetchCountCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},y="error",e.prev=11,e.next=14,c(o.k,v);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(y=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,s({type:"save",payload:{count:y,countSameRateType:y.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[11,19]])})),fetchAspectData:i().mark((function e(t,n){var a,c,s,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O,_,j;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,p=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=d.dateFilter,m=d.headerFilterParamsNew,v=d.analysisModel,y={projectId:a.projectId||f,dateFilter:a.dateFilter||h,headerFilterParamsNew:a.headerFilterParamsNew||m,analysisModel:a.analysisModel||v},g="error",x="error",I="error",b="error",T="error",E="error",w=0,e.prev=11,e.next=14,c(o.nD,y);case 14:k=e.sent,2e4===(C=k.data).code&&C.result.length?(S=y.analysisModel[0].values,N=S[0],O=(0,u.kR)(C.result,N.label,N.values),O.data,_=O.aspect1,j=O.aspect2,g={aspect1:_,aspect2:j},x=C.result,I=C.result,b=C.result,T=C.result,E=C.result,w=C.result.length):g="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,p({type:"save",payload:(0,r.Z)({},a,{headerFilterParamsNew:a.headerFilterParamsNew,aspectData:g,cmtData:x,volData:I,menData:b,perData:T,fetchedAspectData:E,total:w})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),updateFlavors:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.cmtAspFlavor,h=p.cmtFlavor,m=p.volAspFlavor,v=p.volFlavor,y=p.menAspFlavor,g=p.perAspFlavor,x=p.aspectListTypeFlavor,e.prev=13,I={cmtAspFlavor:void 0!==a.cmtAspectType?a.cmtAspectType:f,cmtFlavor:void 0!==a.cmtType?a.cmtType:h,volAspFlavor:void 0!==a.volAspectType?a.volAspectType:m,volFlavor:void 0!==a.volType?a.volType:v,menAspFlavor:void 0!==a.menAspectType?a.menAspectType:y,perAspFlavor:void 0!==a.perAspectType?a.perAspectType:g,aspectListTypeFlavor:void 0!==a.aspectListType?a.aspectListType:x},e.next=17,c(o.sR,{projectId:d,value:JSON.stringify(I)});case 17:if(b=e.sent,2e4!==b.data.code){e.next=22;break}return e.next=22,u({type:"save",payload:I});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(13);case 26:case"end":return e.stop()}}),e,null,[[13,24]])}))}}},25500:(e,t,n)=>{"use strict";n.d(t,{Gy:()=>c,nD:()=>s,S2:()=>l,Ew:()=>d,k:()=>h,qZ:()=>v,oG:()=>g,sR:()=>I});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722),c="CONTACT_COMPARE_ANALYZE";function s(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(i().mark((function e(t){var n,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,t.filterModel,a=t.headerFilterParamsNew,c=t.analysisModel,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT2_EMOTION_ANALYSIS_QUERY",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,analysisModel:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/USEFUL_ASPECT_COUNT_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.cartType,a=t.sameRateType,e.abrupt("return",o.h.post("/product/overview/set-same-rate",{projectId:n,cartType:r,sameRateType:a,productOverviewModule:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:c,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9166:(e,t,n)=>{"use strict";n.d(t,{aH:()=>i,qR:()=>o,k_:()=>c,ct:()=>s,$j:()=>u,Rx:()=>l,JM:()=>p,BI:()=>d,yE:()=>f,zV:()=>h,kR:()=>m});var r=n(87462),a=n(67294),i=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u6709\u6548\u6d88\u606f\u300d\u83b7\u5f97\u7684\u6d88\u606f\u4e2d\uff0c\u9664\u53bb\u88ab\u6807\u8bb0\u4e3a\u201c\u65e0\u6548\u6d88\u606f\u201d\u7684\u6d88\u606f\u6570\uff0c\u5269\u4e0b\u7684\u5747\u88ab\u6807\u8bb0\u4e3a\u201c\u6709\u6548\u6d88\u606f\u201d"),a.createElement("p",null,"\u300c\u6307\u6807\u63d0\u53ca\u7387\u300d\u662f\u6307\u9009\u4e2d\u7684\u6d88\u606f\u4e2d\uff0c\u6307\u6807\u58f0\u91cf\xf7\u6709\u6548\u6d88\u606f\u6570\u91cf"))},o=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u6b63\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u6b63\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u6b63\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d = \u6307\u6807\u6b63\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},c=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u8d1f\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u8d1f\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d = \u6307\u6807\u8d1f\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},s=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d\u6307\u6807\u6b63\u9762\u58f0\u91cf\xf7\uff08\u6307\u6807\u6b63\u9762\u58f0\u91cf + \u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff09\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d\u6307\u6807\u8d1f\u9762\u58f0\u91cf\xf7\uff08\u6307\u6807\u6b63\u9762\u58f0\u91cf + \u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff09\u3002"))},u=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u5360\u6bd4\u300d\u5177\u4f53\u6307\u6807\u7684\u58f0\u91cf\xf7\u5168\u90e8\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u5de6\u56fe\u5c55\u793a\u7684\u662f\u6307\u6807\u58f0\u91cf\uff0c\u53f3\u56fe\u5c55\u793a\u7684\u662f\u5404\u5206\u6790\u5bf9\u8c61\u7684\u6307\u6807\u5360\u6bd4\u3002"))},l=[{title:"\u4e00\u7ea7\u6307\u6807",value:"aspect1"},{title:"\u4e8c\u7ea7\u6307\u6807",value:"aspect2"}],p=[{title:"\u6307\u6807\u597d\u8bc4\u7387",value:"posRate"},{title:"\u6307\u6807\u5dee\u8bc4\u7387",value:"negRate"}],d=[{title:"\u6307\u6807\u58f0\u91cf",value:"aspectTotal"},{title:"\u6307\u6807\u6b63\u9762\u58f0\u91cf",value:"positive"},{title:"\u6307\u6807\u8d1f\u9762\u58f0\u91cf",value:"negative"}];function f(e){return e.reduce((function(e,t){var n=e.find((function(e){return e.name===t.name}));return n||(n={name:t.name,aspectTotal:0},e.push(n)),n.aspectTotal+=t.aspectPositive+t.aspectNegative,e}),[])}function h(e){var t=e.map((function(e){return e.aspect1})).reduce((function(e,t){return e.includes(t)?e:[].concat(e,[t])}),[]),n=e.map((function(e){return e.aspect2})).reduce((function(e,t){return e.includes(t)?e:[].concat(e,[t])}),[]),a={positive:0,negative:0,posRate:0,negRate:0,NES:0,aspectTotal:0,mentionRate:0};return e.reduce((function(i,o,c){var s=i.find((function(e){return e.name===o.name}));s||(s={name:o.name,messageTotal:o.messageTotal,positive:0,negative:0,posRate:0,negRate:0,NES:0,mentionRate:0,aspectTotal:0,aspect1:[],aspect2:[]},i.push(s)),s.positive+=o.aspectPositive,s.negative+=o.aspectNegative,s.aspectTotal+=o.aspectPositive+o.aspectNegative,s.posRate=0===s.aspectTotal?0:s.positive/s.aspectTotal,s.negRate=0===s.aspectTotal?0:s.negative/s.aspectTotal,s.NES=0===s.aspectTotal?0:(s.positive-s.negative)/s.aspectTotal,s.mentionRate=0===o.messageTotal?0:s.aspectTotal/o.messageTotal,s.aspect2.push({id:o.id,aspect:o.aspect2,positive:o.aspectPositive,negative:o.aspectNegative,posRate:o.aspectPositive+o.aspectNegative===0?0:o.aspectPositive/(o.aspectPositive+o.aspectNegative),negRate:o.aspectPositive+o.aspectNegative===0?0:o.aspectNegative/(o.aspectPositive+o.aspectNegative),NES:o.aspectPositive+o.aspectNegative===0?0:(o.aspectPositive-o.aspectNegative)/(o.aspectPositive+o.aspectNegative),aspectTotal:o.aspectPositive+o.aspectNegative,mentionRate:0===o.messageTotal?0:(o.aspectPositive+o.aspectNegative)/o.messageTotal});var u=s.aspect1.find((function(e){return e.aspect===o.aspect1}));return u||(u={id:o.id,aspect:o.aspect1,messageTotal:o.messageTotal,positive:0,negative:0,aspectTotal:0},s.aspect1.push(u)),u.aspect===o.aspect1&&(u.positive+=o.aspectPositive,u.negative+=o.aspectNegative,u.aspectTotal+=o.aspectPositive+o.aspectNegative),c===e.length-1&&i.forEach((function(e){e.aspect1=t.map((function(t){var n=e.aspect1.find((function(e){return e.aspect===t}));return n?(0,r.Z)({},n,{posRate:0===n.aspectTotal?0:n.positive/n.aspectTotal,negRate:0===n.aspectTotal?0:n.negative/n.aspectTotal,NES:n.positive+n.negative===0?0:(n.positive-n.negative)/(n.positive+n.negative),mentionRate:0===n.messageTotal?0:(n.positive+n.negative)/n.messageTotal}):(0,r.Z)({aspect:t},a)})).filter((function(e){return e.aspect})),e.aspect2=n.map((function(t){var n=e.aspect2.find((function(e){return e.aspect===t}));return n||(0,r.Z)({aspect:t},a)})).filter((function(e){return e.aspect}))})),i}),[])}function m(e,t,n){var r=e.reduce((function(e,t){var n=e.find((function(e){return e.name===t.name}));n||(n={name:t.name,id:t.id,messageTotal:t.messageTotal,totalCount:0,aspect1:[]},e.push(n));var r=n.aspect1.find((function(e){return e.name===t.aspect1}));return r||(r={name:t.aspect1,count:0,posCount:0,negCount:0,aspect2:[]},n.aspect1.push(r)),r.aspect2.push({name:t.aspect2,posCount:t.aspectPositive,negCount:t.aspectNegative,count:t.aspectPositive+t.aspectNegative}),r.count+=t.aspectPositive+t.aspectNegative,r.posCount+=t.aspectPositive,r.negCount+=t.aspectNegative,n.totalCount+=t.aspectPositive+t.aspectNegative,e}),[]);(r=n.map((function(e){return r.find((function(t){return t.id===e}))})).filter((function(e){return e}))).forEach((function(e,t){t?r[0].totalCount&&(e.aspect1=r[0].aspect1.map((function(t){var n=e.aspect1.find((function(e){return e.name===t.name}));return n?(n.aspect2=t.aspect2.map((function(e){var t=n.aspect2.find((function(t){return t.name===e.name}));return t||{name:e.name,count:0,negCount:0,posCount:0}})),n):{name:t.name,count:0,posCount:0,negCount:0,aspect2:t.aspect2.map((function(e){return{name:e.name,count:0,posCount:0,negCount:0}}))}}))):(e.aspect1=e.aspect1.sort((function(e,t){return t.count-e.count})),e.aspect1.forEach((function(e){e.aspect2=e.aspect2.sort((function(e,t){return t.count-e.count}))})))}));var a=r.reduce((function(e,t){return t.aspect1.forEach((function(n){e[0].push([t.name,n.name,n.count,0===t.totalCount?0:n.count/t.totalCount,n.posCount,n.negCount,0===n.count?0:n.posCount/n.count,0===n.count?0:n.negCount/n.count,0===t.messageTotal?0:n.count/t.messageTotal]),n.aspect2.forEach((function(r){e[1].push([t.name,n.name,r.name,r.count,0===t.totalCount?0:r.count/t.totalCount,r.posCount,r.negCount,0===r.count?0:r.posCount/r.count,0===r.count?0:r.negCount/r.count,0===t.messageTotal?0:r.count/t.messageTotal])}))})),e}),[[[t,"\u4e00\u7ea7\u6307\u6807","\u6307\u6807\u58f0\u91cf","\u6307\u6807\u5360\u6bd4","\u6307\u6807\u6b63\u9762\u58f0\u91cf","\u6307\u6807\u8d1f\u9762\u58f0\u91cf","\u6307\u6807\u597d\u8bc4\u7387","\u6307\u6807\u5dee\u8bc4\u7387","\u6307\u6807\u63d0\u53ca\u7387"]],[[t,"\u4e00\u7ea7\u6307\u6807","\u4e8c\u7ea7\u6307\u6807","\u6307\u6807\u58f0\u91cf","\u6307\u6807\u5360\u6bd4","\u6307\u6807\u6b63\u9762\u58f0\u91cf","\u6307\u6807\u8d1f\u9762\u58f0\u91cf","\u6307\u6807\u597d\u8bc4\u7387","\u6307\u6807\u5dee\u8bc4\u7387","\u6307\u6807\u63d0\u53ca\u7387"]]]),i=a[0],o=a[1];return{data:r,aspect1:i,aspect2:o}}},24974:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722),s="PRODUCT_CUSTOMER",u="PRODUCT_CUSTOMER_CONCERN";function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filterValue,r=t.dateFilter,a=t.projectId,e.abrupt("return",c.h.post("/product/overview/chart/find/ASPECT_MENTION_RATE_CARD",{filterModel:n,dateFilter:r,projectId:a,productOverviewModule:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filterValue,r=t.dateFilter,a=t.projectId,e.abrupt("return",c.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{filterModel:n,dateFilter:r,projectId:a,productOverviewModule:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filterValue,r=t.dateFilter,a=t.projectId,e.abrupt("return",c.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{filterModel:n,dateFilter:r,projectId:a,productOverviewModule:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sameRateType,r=t.cartType,a=t.projectId,e.abrupt("return",c.h.post("/product/overview/set-same-rate",{sameRateType:n,cartType:r,projectId:a,productOverviewModule:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filterValue,r=t.dateFilter,a=t.projectId,o=t.aspectLevel,e.abrupt("return",c.h.post("/product/overview/chart/find/ASPECT2_EMOTION_QUERY",{filterModel:n,dateFilter:r,projectId:a,aspectLevel:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:u,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=n(92360),k=n(64396),C=(n(8201),n(2329),n(67294),[{title:"\u4e00\u7ea7\u6307\u6807",value:"aspect1"},{title:"\u4e8c\u7ea7\u6307\u6807",value:"aspect2"}]),S=k.Z.product.customer,N={projectId:void 0,dataAspect1:void 0,dataAspect2:void 0,metion:void 0,positiveRate:void 0,negativeRate:void 0,filter:{},chartTypeValue:{meAspectType:C[0].value,couAspectType:C[0].value,countType:"count"},flavor:{}};const O={namespace:S,state:Object.assign({},N),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},N)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[S]}));case 3:return s=e.sent,u=s.chartTypeValue,l=s.projectId,p={meAspectType:"",couAspectType:"",countType:""},d=JSON.parse(JSON.stringify(u)),e.prev=8,e.next=11,a(I,{projectId:l});case 11:f=e.sent,2e4===(h=f.data).code&&h.result&&(p=Object.assign(p,JSON.parse(h.result)),Object.keys(p).forEach((function(e){return d[e]=p[e]||d[e]}))),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.next=20,o({type:"save",payload:{chartTypeValue:d,flavor:p}});case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e,null,[[8,16]])})),fetchMentionRate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[S]}));case 4:return l=e.sent,p=l.filter,d=l.projectId,f=o.aspectType,h="error",e.prev=9,e.next=12,c(g,(0,r.Z)({projectId:d,aspectLevel:"aspect1"===f?1:2},p));case 12:m=e.sent,2e4===(v=m.data).code&&v.result&&(h=v.result.length?v.result:"empty"),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,s({type:"save",payload:(a={},a["aspect1"===f?"dataAspect1":"dataAspect2"]=h,a)});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})),getMention:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[S]}));case 3:return s=e.sent,u=s.filter,p=s.projectId,d="error",e.prev=7,e.next=10,a(l,(0,r.Z)({projectId:p},u));case 10:f=e.sent,2e4===(h=f.data).code&&h.result&&(d=h.result),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.next=19,o({type:"save",payload:{metion:d}});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,null,[[7,15]])})),getPositiveRate:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[S]}));case 3:return s=e.sent,u=s.filter,l=s.projectId,p="error",e.prev=7,e.next=10,a(d,(0,r.Z)({projectId:l},u));case 10:f=e.sent,2e4===(h=f.data).code&&h.result&&(p=h.result),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.next=19,o({type:"save",payload:{positiveRate:p}});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,null,[[7,15]])})),getNegativeRate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[S]}));case 3:return s=e.sent,u=s.filter,l=s.projectId,p="error",e.prev=7,e.next=10,a(h,(0,r.Z)({projectId:l},u));case 10:d=e.sent,2e4===(f=d.data).code&&f.result&&(p=f.result),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.next=19,o({type:"save",payload:{negativeRate:p}});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,null,[[7,15]])})),setCompare:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[S]}));case 4:return u=e.sent,l=u.projectId,p=a.cartType,d=a.sameRateType,e.prev=7,e.next=10,o(v,{projectId:l,cartType:p,sameRateType:d});case 10:if(f=e.sent,2e4!==f.data.code){e.next=26;break}e.t0=p,e.next="ASPECT_MENTION_RATE_CARD"===e.t0?16:"POSITIVE_ASPECT_RATE_CARD"===e.t0?18:"NEGATIVE_ASPECT_RATE_CARD"===e.t0?20:22;break;case 16:return h="getMention",e.abrupt("break",22);case 18:return h="getPositiveRate",e.abrupt("break",22);case 20:return h="getNegativeRate",e.abrupt("break",22);case 22:return w.Message.success("\u8bbe\u7f6e\u6210\u529f"),e.next=25,c({type:h});case 25:return e.abrupt("return",e.sent);case 26:e.next=30;break;case 28:e.prev=28,e.t1=e.catch(7);case 30:case"end":return e.stop()}}),e,null,[[7,28]])})),chartTypeChange:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.t0=JSON,e.t1=JSON,e.next=6,c((function(e){return(0,r.Z)({},e)[S]}));case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),s=e.t0.parse.call(e.t0,e.t3),u=s.chartTypeValue,l=a.key,p=a.value,u[l]=p,e.next=14,o({type:"save",payload:{chartTypeValue:JSON.parse(JSON.stringify(u))}});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})),updateFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[S]}));case 4:return u=e.sent,l=u.projectId,p=u.flavor,d=a.key,f=a.value,p[d]=f,h={meAspectType:p.meAspectType,couAspectType:p.couAspectType,countType:p.countType},e.prev=10,e.next=13,o(T,{projectId:l,value:JSON.stringify(h)});case 13:if(m=e.sent,2e4!==m.data.code){e.next=21;break}return e.next=18,s({type:"save",payload:p});case 18:if(!f){e.next=21;break}return e.next=21,s({type:"chartTypeChange",payload:a});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(10);case 25:case"end":return e.stop()}}),e,null,[[10,23]])}))}}},13419:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.enablePos,a=t.posList,o=t.filterModel,s=t.dateFilter,e.abrupt("return",c.h.post("/widget/data/find/WORD_TIME_LINE",{filterModel:o,dateFilter:s,projectId:n,topSize:100,enablePos:r,posList:a,type:"WORD_TIME_LINE"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",c.h.post("/default/value/update",{key:"OVERVIEW_WORDCLOUD_STYLE",projectId:n,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.get("/team/list"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return m=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.model,r=t.projectId,a=t.chartName,e.abrupt("return",c.h.post("/warning/aspect/find",{name:n,otherInfo:a,projectId:r}));case 2:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/warning/aspect/config",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n(64396).Z.product.overview;const x={namespace:g,state:{doublebarDatas:void 0,wordCloudDatas:void 0,posList:[],propEnable:!1,filterModel:void 0,dateFilter:void 0,projectId:void 0,wcDefStyleState:{activeStyleId:"local1",customStyleUrl:void 0},alertSettingData:{},teamListData:[],setAlertResult:void 0},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchWordCloudDatas:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,h,m,v,y,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[g]}));case 4:return l=e.sent,p=l.filterModel,d=l.dateFilter,f=l.projectId,h=l.propEnable,m=l.posList,v="error",y="error",e.prev=11,e.next=14,o(s,{filterModel:a.filterModel||p,dateFilter:a.dateFilter||d,projectId:a.projectId||f,posList:a.posList||m,enablePos:void 0!==a.propEnable?a.propEnable:h});case 14:x=e.sent,2e4===(I=x.data).code&&I.result.list.length?(b=I.result.list,T=b.reduce((function(e,t){return e+t.total}),0),y=b.sort((function(e,t){return t.total-e.total})).map((function(e){return(0,r.Z)({},e,{precent:e.total/T,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})})),v=JSON.parse(JSON.stringify(y))):(v="empty",y="empty"),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,c({type:"save",payload:(0,r.Z)({},a,{wordCloudDatas:v,doublebarDatas:y})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),setDefWordcloudStyle:i().mark((function e(t,n){var a,o,c,s,u,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[g]}));case 4:return u=e.sent,p=u.wcDefStyleState,d=(0,r.Z)({},p),a.activeStyleId&&(d.activeStyleId=a.activeStyleId),a.customStyleUrl&&(d.customStyleUrl=a.customStyleUrl),e.next=11,o(l,{projectId:a.projectId,value:encodeURI(JSON.stringify(d))});case 11:if(f=e.sent,2e4!==f.data.code){e.next=16;break}return e.next=16,c({type:"save",payload:{wcDefStyleState:d}});case 16:case"end":return e.stop()}}),e)})),getAlertSettingData:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(d);case 4:return c=e.sent,s=c.data,u=[],2e4===s.code&&(u=s.result.list),e.next=10,a(h,r);case 10:return l=e.sent,2e4===(p=l.data).code&&(f=p.result),e.next=15,o({type:"save",payload:{alertSettingData:f,teamListData:u}});case 15:case"end":return e.stop()}}),e)})),setAlertSettingData:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(v,r);case 4:return c=e.sent,s=c.data,u=s&&2e4===s.code,e.next=9,o({type:"save",payload:{setAlertResult:u}});case 9:case"end":return e.stop()}}),e)}))}}},94134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>H});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(15861),u=n(49722);function l(e){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)(o().mark((function e(t){var n,r,a,i,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,r=t.dateFilter,a=t.filterModel,i=t.pageType,c=t.sameRateType,s=t.sameRateId,!c){e.next=4;break}return e.next=4,u.h.post("/scene/message/count/set",{projectId:n,sameRateType:c,sameRateId:s,pageType:i,chartType:"volume_count"});case 4:return e.abrupt("return",u.h.post("/scene/message/count",{projectId:n,dateFilter:r,filterModel:a,chartType:"volume_count",pageType:i}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.pageType;return u.h.post("/scene/message/count/time",{projectId:t,dateFilter:n,filterModel:r,chartType:"volume_count_time",pageType:a})}function f(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel;return u.h.post("/scene/relation",{projectId:t,dateFilter:n,filterModel:r})}function h(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.pageType;return u.h.post("/scene/message/count/type/time",{projectId:t,dateFilter:n,filterModel:r,chartType:"volume_count_type_time",pageType:a})}var m=n(40845),v=n(87219),y=n(94578),g=n(67294),x=n(70715),I=n(87300),b=n(39432),T=10,E={force:["\u6ce8\uff1a","\u6570\u503c\u8d8a\u5927\uff0c\u8282\u70b9\u8d8a\u5927\uff0c\u4e5f\u8d8a\u5c45\u4e8e\u4e2d\u5fc3\u4f4d\u7f6e","\u5173\u8054\u7684\u8282\u70b9\u8d8a\u591a\uff0c\u8d8a\u5c45\u4e8e\u4e2d\u5fc3\u4f4d\u7f6e","\u5173\u8054\u5173\u7cfb\u8d8a\u5927\uff0c\u8fde\u7ebf\u8d8a\u7c97\uff0c\u4e0e\u76f8\u5173\u8282\u70b9\u4e5f\u8d8a\u8fd1"],circular:["\u6ce8\uff1a","\u6570\u503c\u8d8a\u5927\uff0c\u8282\u70b9\u8d8a\u5927","\u5173\u8054\u5173\u7cfb\u8d8a\u5927\uff0c\u8fde\u7ebf\u8d8a\u7c97"]},w={positive:"\u6b63\u9762\u58f0\u91cf",total:"\u6807\u7b7e\u58f0\u91cf",negative:"\u8d1f\u9762\u58f0\u91cf"};const k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).chartRef=void 0,t.chartData={categories:[],links:[],data:[]},t.getChartRef=function(e){t.chartRef=e},t.setValue=function(e,n,r,i){var o=e.nodes,c=e.relations,s=c.map((function(e){return"posRate"===n?e.positive:"negRate"===n?e.negative:e[n]})),u=Math.max.apply(null,s),l=Math.min.apply(null,s),p=c.reduce((function(e,t,n){var r=s[n];if(r){var i=u===l?1:(r-l)/(u-l)*39+1;e.push((0,a.Z)({},t,{value:r,lineStyle:{width:1},emphasis:{lineStyle:{width:i}}}))}return e}),[]),d=o.map((function(e){return"posRate"===n?e.positive/e.total:"negRate"===n?e.negative/e.total:e[n]})),f=o.reduce((function(e,t){var n=t.sceneName;return e.includes(n)||e.push(n),e}),[]),h=Math.max.apply(null,d),m=Math.min.apply(null,d),v=o.reduce((function(e,t,n){var a=d[n],i=h===m?T:(a-m)/(h-m)*(Number(r)-T)+T;return e[f.indexOf(t.sceneName)].push({value:a,id:t.key,name:t.name,data:{total:t.total,positive:t.positive,negative:t.negative,posRate:t.positive/t.total,negRate:t.negative/t.total},category:t.sceneName,symbolSize:i,itemStyle:{color:x.Fq[f.indexOf(t.sceneName)]},label:{show:!0,fontSize:10,color:"#262626"}}),n===o.length-1?e.reduce((function(e,t){return t.sort((function(e,t){return t.value-e.value})).forEach((function(t){e.push(t)})),e}),[]):e}),f.map((function(){return[]})));t.chartData={links:p,data:i?v:v.filter((function(e){return e.value})),categories:f}},t.getOption=function(e,n,r,a){var i=t.chartData,o=i.data,c=i.links,s=i.categories;return{title:{text:n},tooltip:{showDelay:200,hideDelay:500,enterable:!0,padding:0,position:function(e,t,n,r,a){var i=a.contentSize,o=a.viewSize,c=e[0]<o[0]/2?0:-1,s=e[1]<o[1]/2?-.5:-1;return[e[0]+c*i[0]+(c?-10:10),e[1]+s*i[1]]},formatter:function(e,a,i){if(e)return setTimeout((function(){var c=e.dataType,s=e.data,u=e.marker;if("node"!==c){var l=s.source.split(":"),p=(l[0],l[1]),d=s.target.split(":"),f=(d[0],d[1]),h=o.find((function(e){return e.id===s.source})),m=o.find((function(e){return e.id===s.target})),v="posRate"===r?"positive":"negRate"===r?"negative":r,y=h?h.data[v]:0,g=m?m.data[v]:0,x=[w[v]+"\uff1a"+s[v],"\u5360\u300c"+p+"\u300d\u6bd4\u4f8b\uff1a"+(y&&s[v]?(s[v]/y*100).toFixed(2):"0.00")+"%","\u5360\u300c"+f+"\u300d\u6bd4\u4f8b\uff1a"+(g&&s[v]?(s[v]/g*100).toFixed(2):"0.00")+"%"].join("</br>");i(a,(0,I.r)(u+"\u8fde\u7ebf\uff1a"+p+" - "+f,[x],[{title:"\u6d88\u606f",icon:"icon-cem_jump-message",callback:function(){return t._handleOnJumpMsg(e,n,r)}}]))}else{var T=s.data,E=["<span>\n              \u6807\u7b7e\u58f0\u91cf\uff1a"+(0,b.hE)(T.total)+"\n            </span>","<span>\n              \u6d88\u606f\u597d\u8bc4\u7387\uff1a"+(100*T.posRate).toFixed(2)+"%\n              </span>","<span>\n              \u6d88\u606f\u5dee\u8bc4\u7387\uff1a"+(100*T.negRate).toFixed(2)+"%\n              </span>","<span>\n              \u6b63\u5411\u58f0\u91cf\uff1a"+(0,b.hE)(T.positive)+"\n              </span>","<span>\n              \u8d1f\u5411\u58f0\u91cf\uff1a"+(0,b.hE)(T.negative)+"\n              </span>"].join("</br>");i(a,(0,I.U)(u+"\u8282\u70b9\uff1a"+s.name,[E],{jumpMsg:function(){return t._handleOnJumpMsg(e,n,r)},jumpAnalyze:function(){return t._handleOnJumpAnalyze(e,n)}}))}}))}},legend:{data:s,left:20,top:40,icon:"circle",type:"scroll"},graphic:{type:"group",silent:!0,left:20,bottom:16,children:E[e].map((function(e,t){return{type:"text",style:{text:e,fill:"#8C8C8C",font:'12px "Microsoft YaHei", sans-serif',y:20*t}}}))},series:[{type:"graph",layout:e,roam:!0,draggable:!0,circular:{rotateLabel:!0},force:{initLayout:"circular",repulsion:Number(a.repulsion),gravity:Number(a.gravity),edgeLength:[50,100],friction:.1},data:o,links:c,categories:s.map((function(e){return{name:e}})),focusNodeAdjacency:!0,itemStyle:{borderColor:"#fff",borderWidth:0,shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.1)"},label:{position:"right",formatter:"{b}"},lineStyle:{curveness:"circular"===e?.3:0,opacity:.3},emphasis:{lineStyle:{width:10}}}]}},t}(0,y.Z)(t,e);var n=t.prototype;return n.renderChart=function(e,t,n,r,a,i){this.setValue(e,r,a.maxRadius,i),this.changeChartType(n,t,r,a)},n.changeChartType=function(e,t,n,r){var a=this.getOption(e,t,n,r);this.chartRef.clear(),this.chartRef.setOption(a)},t}(g.PureComponent);var C=n(8201),S=n(98191),N=n(50976),O=n(92360),_=n(60496),j=n(94644),A=n(45697),D=n.n(A),M=n(33798),R=n(43036),L=n(61409),P={maxRadius:0,repulsion:0,gravity:0,callback:void 0,visible:!1,maxRadiusTest:!0,repulsionTest:!0,gravityTest:!0};const F=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleOnConfirm=function(){var e=n.state,t=e.callback,r=e.maxRadius,a=e.repulsion,i=e.gravity,o=e.maxRadiusTest,c=e.repulsionTest,s=e.gravityTest;o&&c&&s&&(t&&t({maxRadius:r,repulsion:a,gravity:i}),n._handleOnCancel())},n._handleOnCancel=function(){n.setState(JSON.parse(JSON.stringify(P)))},n._handleOnChange=function(e,t){var r,a=!!Number(t);a&&("maxRadius"===e&&(t<10||t>100||!/^[1-9]\d*$/.test(t))&&(a=!1),"repulsion"===e&&(t<50||t>1e3||!/^[1-9]\d*$/.test(t))&&(a=!1),"gravity"===e&&(t<.01||t>1||String(t).length>4)&&(a=!1)),n.setState(((r={})[e+"Test"]=a,r[e]=t,r))},n.state=JSON.parse(JSON.stringify(P)),n}(0,y.Z)(t,e);var n=t.prototype;return n.show=function(e){this.setState((0,a.Z)({visible:!0},e))},n.render=function(){var e=this,t=this.state,n=t.visible,r=t.maxRadiusTest,a=t.repulsionTest,i=t.gravityTest,o=t.maxRadius,c=t.repulsion,s=t.gravity;return g.createElement(O.Dialog,{title:g.createElement("span",{style:{display:"inline-flex",alignItems:"center"}},"\u56fe\u8868\u914d\u7f6e",g.createElement(R.Z,{placement:"top",overlay:g.createElement(L.rU,{className:"yt-feedback-read-more",to:"https://www.yuque.com/docs/share/65dc5ff0-5e47-4687-a25f-d4bcbb36d97e?# \u300a\u5173\u8054\u5173\u7cfb\u5206\u6790\u7684\u56fe\u4f7f\u7528\u8bf4\u660e\u300b",target:"_blank"},"\u67e5\u770b\u56fe\u8868\u914d\u7f6e\u8bf4\u660e")},g.createElement("i",{className:"icon-cem_file1",style:{color:"#8C8C8C",marginLeft:4,fontSize:12}}))),className:"yt_graph_chart_config_wrapper",size:"tiny",visible:n,onCancel:this._handleOnCancel},g.createElement(O.Dialog.Body,null,g.createElement("div",{className:"item"},g.createElement("span",null,"\u534a\u5f84\u56e0\u5b50"),g.createElement("div",null,g.createElement(O.Input,{value:o,onChange:function(t){return e._handleOnChange("maxRadius",t)},type:""}),g.createElement("div",{className:"tips",style:{visibility:r?"hidden":"visible"}},"\u8bf7\u8f93\u516510~100\u4e4b\u95f4\u7684\u6574\u6570"))),g.createElement("div",{className:"item"},g.createElement("span",null,"\u65a5\u529b\u56e0\u5b50"),g.createElement("div",null,g.createElement(O.Input,{value:c,onChange:function(t){return e._handleOnChange("repulsion",t)}}),g.createElement("div",{className:"tips",style:{visibility:a?"hidden":"visible"}},"\u8bf7\u8f93\u516550~1000\u4e4b\u95f4\u7684\u6574\u6570"))),g.createElement("div",{className:"item"},g.createElement("span",null,"\u5f15\u529b\u56e0\u5b50"),g.createElement("div",null,g.createElement(O.Input,{value:s,onChange:function(t){return e._handleOnChange("gravity",t)}}),g.createElement("div",{className:"tips",style:{visibility:i?"hidden":"visible"}},"\u8bf7\u8f93\u51650.01~1.00\u4e4b\u95f4\u7684\u4e24\u4f4d\u5c0f\u6570")))),g.createElement(O.Dialog.Footer,null,g.createElement(O.Button,{type:"default",onClick:this._handleOnCancel},"\u53d6\u6d88"),g.createElement(O.Button,{type:"primary",onClick:this._handleOnConfirm},"\u786e\u5b9a")))},t}(g.PureComponent);var Z,V=[{title:"\u6807\u7b7e\u58f0\u91cf",value:"total"},{title:"\u6d88\u606f\u597d\u8bc4\u7387",value:"posRate"},{title:"\u6d88\u606f\u5dee\u8bc4\u7387",value:"negRate"},{title:"\u6b63\u5411\u58f0\u91cf",value:"positive"},{title:"\u8d1f\u5411\u58f0\u91cf",value:"negative"}],z=[{title:"\u5bfc\u51fa\u56fe\u7247",type:"image"},{title:"\u5bfc\u51fa\u6570\u636e",type:"data"},{title:"\u56fe\u8868\u914d\u7f6e",type:"config"}],U=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleOnJumpMsg=function(e,t,r){n.props.onClick(e,t,"msg",r)},n._handleOnJumpAnalyze=function(e,t){n.props.onClick(e,t,"analyze")},n.handleOnMoreClick=function(e){var t=n.props,r=t.title,i=t.data,o=t.onChange,c=t.dataType,s=t.chartConfig;if("image"===e&&n.chartRef)(0,j._v)(n.chartRef,r);else if("config"===e){var u=Object.values(c)[0],l=Object.values(s)[0],p=Object.keys(s)[0];n.configDialog.show((0,a.Z)({},l[u],{callback:function(e){var t,n;o&&o(((n={})[p]=(0,a.Z)({},l,((t={})[u]=e,t)),n))}}))}else"data"===e&&(0,C.P)(i)&&(0,j.aT)([i.nodes.reduce((function(e,t){return e.push([t.sceneName,t.name,t.positive,t.neutral,t.negative,t.total]),e}),[["\u573a\u666f","\u573a\u666f\u6807\u7b7e","\u6b63\u9762","\u4e2d\u6027","\u8d1f\u9762","\u603b\u58f0\u91cf"]]),i.relations.reduce((function(e,t){return e.push([t.sourceSceneName,t.source.split(":")[1],t.targetSceneName,t.target.split(":")[1],t.positive,t.neutral,t.negative,t.total]),e}),[["\u6e90-\u573a\u666f","\u6e90-\u573a\u666f\u6807\u7b7e","\u76ee\u6807-\u573a\u666f","\u76ee\u6807-\u573a\u666f\u6807\u7b7e","\u6b63\u9762","\u4e2d\u6027","\u8d1f\u9762","\u603b\u58f0\u91cf"]])],r,["\u8282\u70b9","\u8fb9"])},n.state={chartType:"circular",showZero:!0},n}(0,y.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.internalId=setInterval((function(){if(e.chartRef){clearInterval(e.internalId),e.renderChart();var t=e.chartRef._dom.children,n=t[0],r=t[1];n.addEventListener("mouseleave",(function(t){e.chartLeaveTimeout=setTimeout((function(){e.chartLeaveTimeout&&(r.style.display="none")}),2e3)})),r.addEventListener("mouseenter",(function(t){e.chartLeaveTimeout=void 0}))}}),200)},n.componentDidUpdate=function(t,n){var r=t.data,a=t.dataType,i=t.chartConfig,o=this.props,c=o.data,s=o.dataType,u=o.chartConfig;if(((0,C.P)(c)&&JSON.stringify(r)!==JSON.stringify(c)||JSON.stringify(a)!==JSON.stringify(s)||JSON.stringify(i)!==JSON.stringify(u)||n.showZero!==this.state.showZero)&&this.renderChart(),!(0,C.P)(c)&&this.chartRef&&(this.chartRef=void 0),(0,C.P)(c)&&n.chartType!==this.state.chartType){var l=Object.values(s)[0],p=Object.values(u)[0];e.prototype.changeChartType.call(this,this.state.chartType,this.props.title,l,p[l])}},n.renderChart=function(){var t=this.props,n=t.data,r=t.title,a=t.dataType,i=t.chartConfig,o=this.state,c=o.chartType,s=o.showZero;if((0,C.P)(n)&&this.chartRef){var u=Object.values(a)[0],l=Object.values(i)[0];e.prototype.renderChart.call(this,n,r,c,u,l[u],s)}},n.render=function(){var e=this,t=this.props,n=t.data,r=t.loading,a=t.title,i=t.titleOverlay,o=t.dataType,c=t.flavorDataType,s=t.onChange,u=this.state,l=u.chartType,p=u.showZero,d=Object.keys(o)[0],f=Object.keys(c)[0];return g.createElement(C.Z,{className:"yt_market_bm_analysis_bar_line_in_one_chart",data:n,loading:r,renderTitle:g.createElement(S.Z,{title:a,titleOverlay:i,data:n,onMoreClick:this.handleOnMoreClick,moreOptions:z},g.createElement(O.Checkbox,{checked:p,onChange:function(t){return e.setState({showZero:t})},className:"zero_switch"},"\u663e\u793a'0'"),g.createElement(R.Z,{placement:"top",overlay:"\u548c\u5f26\u56fe"},g.createElement("span",{onClick:function(){return e.setState({chartType:"circular"})}},g.createElement(M.Z,{isActive:"circular"===l,defaultIcon:"cem_harmony-map-gray",activeIcon:"cem_harmony-map"}))),g.createElement(R.Z,{placement:"top",overlay:"\u5173\u7cfb\u56fe"},g.createElement("span",{onClick:function(){return e.setState({chartType:"force"})}},g.createElement(M.Z,{isActive:"force"===l,defaultIcon:"cem_relation-diagram-gray",activeIcon:"cem_relation-diagram"}))),g.createElement(_.Z,{options:V,activeObj:o[d],flavor:c[f],divider:"both",onChange:function(e){var t;return s(((t={})[d]=e,t))},onFlavorChange:function(e){var t;return s(((t={})[f]=e,t))}}))},g.createElement(N.Z,{onChartReady:this.getChartRef,theme:"yunting_multi_color",option:{},style:{height:"100%"}}),g.createElement(F,{ref:function(t){return e.configDialog=t}}))},t}(k);U.propTypes={data:D().any,titleOverlay:D().oneOf([D().string,D().node]),title:D().string,loading:D().bool,dataType:D().string,flavorDataType:D().string,onChange:D().func,onClick:D().func,chartConfig:D().shape((Z={},Z[D().string]={maxRadius:D().number,repulsion:D().number,gravity:D().number},Z))};var B=["projectId","pageType"],q=c.Z.product.scene.overview,W={countData:void 0,sameRateId:void 0,countTrendData:void 0,timeType:"DAY",fTimeType:"",seneData:void 0,seneDateType:"DAY",flavorSeneDateType:"",relData:void 0,relDataType:"total",flavorRelDataType:"",relChartConfig:void 0,pageType:"SCENE_INDEX",filterModel:void 0,analysisModel:void 0,dateFilter:void 0,projectId:void 0,dateOptions:[],defaultDateType:void 0};const H={namespace:q,state:JSON.parse(JSON.stringify(W)),effects:{fetchParams:o().mark((function e(t,n){var r,i,c,s,u,l,p,d,f,h,v,y,g,x,I,b,T,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[q]}));case 4:if(u=e.sent,u.projectId,l=u.filterModel,p=u.dateFilter,d=u.pageType,f=u.fTimeType,h=u.flavorRelDataType,v=u.flavorSeneDateType,JSON.stringify(l)!==JSON.stringify(r.filterModel)||JSON.stringify(p)!==JSON.stringify(r.dateFilter)){e.next=14;break}return e.abrupt("return");case 14:return y={fTimeType:f,flavorSeneDateType:v,flavorRelDataType:h,relChartConfig:V.reduce((function(e,t){return e[t.value]={maxRadius:50,repulsion:100,gravity:.1},e}),{})},g={timeType:f||r.defaultDateType,seneDateType:v||r.defaultDateType,relDataType:"total"},e.next=18,i(m.o,{projectId:r.projectId,key:d});case 18:if(x=e.sent,2e4===(I=x.data).code&&I.result)try{b=JSON.parse(I.result),Object.keys(b).forEach((function(e){y[e]=b[e]})),T=Object.keys(g),Object.keys(y).forEach((function(e,t){y[e]&&(g[T[t]]=y[e])}))}catch(o){}return["timeType","seneDateType"].forEach((function(e){!r.dateOptions.find((function(t){return t.value===g[e]}))&&(g[e]=r.defaultDateType)})),E=(0,a.Z)({},r,g,y),e.next=25,c({type:"fetchCountData",payload:E});case 25:return e.next=27,c({type:"fetchCountTrendData",payload:E});case 27:return e.next=29,c({type:"fetchSeneData",payload:E});case 29:return e.next=31,c({type:"fetchRelativeData",payload:E});case 31:case"end":return e.stop()}}),e)})),fetchCountData:o().mark((function e(t,n){var r,i,c,s,u,p,d,f,h,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[q]}));case 4:return u=e.sent,p=u.projectId,d=u.filterModel,f=u.dateFilter,h=u.pageType,m=u.sameRateId,v="error",e.prev=11,e.next=14,i(l,{projectId:r.projectId||p,filterModel:r.filterModel||d,dateFilter:r.dateFilter||f,sameRateType:r.compareValue,sameRateId:m,pageType:h});case 14:y=e.sent,2e4===(g=y.data).code&&g.result&&(v=g.result),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),e.t0;case 22:return e.prev=22,e.next=25,c({type:"save",payload:(0,a.Z)({},r,{countData:v,sameRateId:v.sameRateId})});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])})),fetchCountTrendData:o().mark((function e(t,n){var r,i,c,s,u,l,p,f,h,m,y,g,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[q]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,f=u.dateFilter,h=u.pageType,m=u.timeType,y="error",e.prev=11,e.next=14,i(d,{projectId:r.projectId||l,filterModel:r.filterModel||p,dateFilter:(0,v.ZP)(r.dateFilter||f,(function(e){e.dateGroupType=r.timeType||m})),pageType:h});case 14:g=e.sent,x=g.data,y=2e4===x.code&&x.result.length?x.result:"empty",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),e.t0;case 22:return e.prev=22,e.next=25,c({type:"save",payload:(0,a.Z)({countTrendData:y},r)});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])})),fetchSeneData:o().mark((function e(t,n){var r,i,c,s,u,l,p,d,f,m,y,g,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[q]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,d=u.dateFilter,f=u.pageType,m=u.seneDateType,y="error",e.prev=11,e.next=14,i(h,{projectId:r.projectId||l,filterModel:r.filterModel||p,dateFilter:(0,v.ZP)(r.dateFilter||d,(function(e){e.dateGroupType=r.seneDateType||m})),pageType:f});case 14:g=e.sent,x=g.data,y=2e4===x.code&&x.result.length?x.result.reduce((function(e,t){return"\u7528\u6237\u7b80\u753b"===t.name||"buyer.age"===t.name||"buyer.gender"===t.name?e[0]&&"\u7528\u6237\u7b80\u753b"===e[0].name?(e[0].total+=t.total,e[0].data.forEach((function(e){var n=t.data.find((function(t){return t.name===e.name}));n&&(e.count+=n.count)}))):e.splice(0,0,(0,a.Z)({},t,{name:"\u7528\u6237\u7b80\u753b"})):e.push(t),e}),[]):"empty",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),e.t0;case 22:return e.prev=22,e.next=25,c({type:"save",payload:(0,a.Z)({seneData:y},r)});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])})),fetchRelativeData:o().mark((function e(t,n){var r,i,c,s,u,l,p,d,h,m,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[q]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,d=u.dateFilter,h="error",e.prev=9,e.next=12,i(f,{projectId:r.projectId||l,filterModel:r.filterModel||p,dateFilter:r.dateFilter||d});case 12:m=e.sent,v=m.data,h=2e4===v.code&&v.result.relations.length?v.result:"empty",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),e.t0;case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,a.Z)({relData:h},r)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[9,17,20,24]])})),setDefaultValue:o().mark((function e(t,n){var i,c,s,u,l,p,d,f,h,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[q]}));case 4:return l=e.sent,p=l.projectId,d=l.pageType,f=(0,r.Z)(l,B),h=["fTimeType","flavorSeneDateType","flavorRelDataType","relChartConfig"].reduce((function(e,t){return e[t]=void 0!==i[t]?i[t]:f[t],e}),{}),e.prev=9,e.next=12,c(m.s,{projectId:i.projectId||p,key:d,value:JSON.stringify(h)});case 12:if(v=e.sent,2e4!==v.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:(0,a.Z)({},i)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(W))}}}},79405:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(15861),s=n(49722);function u(e){return l.apply(this,arguments)}function l(){return(l=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.pageType,e.abrupt("return",s.h.post("/scene/message/count",{projectId:n,dateFilter:r,filterModel:a,chartType:"volume_count",pageType:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sameRateType,r=t.projectId,a=t.sameRateId,o=t.pageType,e.abrupt("return",s.h.post("/scene/message/count/set",{sameRateType:n,projectId:r,pageType:o,chartType:"volume_count",sameRateId:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.pageType,e.abrupt("return",s.h.post("/scene/message/count/time",{projectId:n,dateFilter:r,filterModel:a,pageType:o,chartType:"volume_count_time"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageType,e.abrupt("return",s.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.pageType,e.abrupt("return",s.h.post("/default/value/update",{projectId:n,key:a,value:JSON.stringify(r)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dateFilter,r=t.projectId,a=t.filterModel,o=t.pageType,e.abrupt("return",s.h.post("/scene/message/count/type/time",{projectId:r,dateFilter:n,pageType:o,chartType:"volume_count_type_time",filterModel:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(e,t,n){return n.some((function(t){return t.value===e}))?e:t},T=o.Z.product.scene.usage,E={projectId:void 0,pageType:void 0,filter:void 0,flavorObj:void 0,filterObj:void 0,cardData:void 0,voiceData:void 0,dateOptions:[],defaultDateType:void 0,trendData:void 0};const w={namespace:T,state:Object.assign(E,{}),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},E)}},effects:{fetchData:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d,f,h,v,y,g,x,I,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,s=r.filter,u=r.dateOptions,l=r.defaultDateType,e.next=5,c((function(e){return e[T]}));case 5:return p=e.sent,d=p.flavorObj,f=p.pageType,h=p.projectId,v=p.filterObj,e.next=12,o({type:"save",payload:{filter:s,dateOptions:u,defaultDateType:l}});case 12:if(d){e.next=31;break}return e.prev=13,e.next=16,a(m,{projectId:h,pageType:f});case 16:if(y=e.sent,2e4!==(g=y.data).code){e.next=25;break}return x={},I=JSON.parse(g.result||'{"trend":"","voice":""}'),x.trend=b(I.trend,l,u),x.voice=b(I.voice,l,u),e.next=25,o({type:"save",payload:{flavorObj:I,filterObj:x}});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(13);case 29:e.next=36;break;case 31:return E=d,v.trend=b(E.trend,l,u),v.voice=b(E.voice,l,u),e.next=36,o({type:"save",payload:{filterObj:v}});case 36:return e.next=38,o({type:"fetchCountCard"});case 38:return e.next=40,o({type:"fetchTrendData"});case 40:return e.next=42,o({type:"fetchVoiceData"});case 42:case"end":return e.stop()}}),e,null,[[13,27]])})),fetchCountCard:i().mark((function e(t,n){var r,a,o,c,s,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,o=n.select,e.next=3,o((function(e){return e[T]}));case 3:return c=e.sent,s=c.projectId,l=c.pageType,p=c.filter,d="error",e.next=10,r(u,{projectId:s,pageType:l,filterModel:p.filterValue,dateFilter:p.dateFilter});case 10:return f=e.sent,2e4===(h=f.data).code&&(d=h.result),e.next=15,a({type:"save",payload:{cardData:d}});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})),updateRateType:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[T]}));case 4:return u=e.sent,l=u.projectId,d=u.pageType,f=u.cardData,h=a.type,e.next=11,o(p,{projectId:l,pageType:d,sameRateType:h,sameRateId:f.sameRateId});case 11:if(m=e.sent,2e4!==(v=m.data).code){e.next=18;break}return e.next=16,c({type:"save",payload:{cardData:(0,r.Z)({},f,{sameRateType:h,sameRateId:v.result})}});case 16:return e.next=18,c({type:"fetchCountCard"});case 18:case"end":return e.stop()}}),e)})),fetchTrendData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return e[T]}));case 3:return s=e.sent,u=s.projectId,l=s.pageType,p=s.filter,d=s.filterObj,h="error",e.next=11,a(f,{projectId:u,pageType:l,filterModel:p.filterValue,dateFilter:(0,r.Z)({},p.dateFilter,{dateGroupType:d.trend})});case 11:return m=e.sent,2e4===(v=m.data).code&&(h=v.result&&v.result.length>0?v.result:"empty"),e.next=16,o({type:"save",payload:{trendData:h}});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})),fetchVoiceData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return e[T]}));case 3:return s=e.sent,u=s.projectId,l=s.pageType,p=s.filter,d=s.filterObj,f="error",e.next=11,a(x,{projectId:u,pageType:l,filterModel:p.filterValue,dateFilter:(0,r.Z)({},p.dateFilter,{dateGroupType:d.voice})});case 11:return h=e.sent,2e4===(m=h.data).code&&(f=m.result&&m.result.length>0?m.result:"empty"),e.next=16,o({type:"save",payload:{voiceData:f}});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})),changeFilterValue:i().mark((function e(t,n){var r,a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,o=n.select,e.next=4,o((function(e){return e[T]}));case 4:return c=e.sent,s=c.filterObj,u=r.key,l=r.value,s[u]=l,e.next=10,a({type:"save",payload:{filterObj:JSON.parse(JSON.stringify(s))}});case 10:if("trend"!==u){e.next=15;break}return e.next=13,a({type:"fetchTrendData"});case 13:e.next=18;break;case 15:if("voice"!==u){e.next=18;break}return e.next=18,a({type:"fetchVoiceData"});case 18:case"end":return e.stop()}}),e)})),setDefaultValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[T]}));case 4:return u=e.sent,l=u.projectId,p=u.flavorObj,d=u.pageType,f=a.key,h=a.value,p[f]=h,e.prev=10,e.next=13,o(y,{projectId:a.projectId||l,pageType:a.pageType||d,value:p});case 13:if(m=e.sent,2e4!==m.data.code){e.next=18;break}return e.next=18,c({type:"save",payload:{flavorObj:JSON.parse(JSON.stringify(p))}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),e.t0;case 23:case"end":return e.stop()}}),e,null,[[10,20]])}))}}},78155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(87219),s=n(15861),u=n(49722),l="SCENE_USER",p="PRODUCT_SCENE_USER";function d(e){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.chartType,c=void 0===o?"volume_count":o,e.abrupt("return",u.h.post("/scene/message/count",{projectId:n,dateFilter:r,filterModel:a,chartType:c,pageType:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,s.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.chartType,c=void 0===o?"volume_count_time":o,e.abrupt("return",u.h.post("/scene/message/count/time",{projectId:n,dateFilter:r,filterModel:a,chartType:c,pageType:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,s.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.chartType,c=void 0===o?"volume_count_type":o,e.abrupt("return",u.h.post("/scene/message/count/type",{projectId:n,dateFilter:r,filterModel:a,chartType:c,pageType:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.sameRateType,a=t.chartType,o=void 0===a?"volume_count":a,c=t.sameRateId,e.abrupt("return",u.h.post("/scene/message/count/set",{projectId:n,sameRateType:r,chartType:o,sameRateId:c,pageType:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",u.h.post("/default/value/find",{projectId:n,key:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",u.h.post("/default/value/update",{projectId:n,key:p,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=n(5133),k=o.Z.product.scene.user,C={countCard:void 0,sameRateId:void 0,trendData:void 0,timeType:"",fTimeType:"",gender:void 0,age:void 0,relation:void 0,pageType:"SCENE_USER",projectId:void 0,filterModel:void 0,analysisModel:void 0,dateFilter:void 0,dateOptions:[],defaultTimeType:"DAY"};const S={namespace:k,state:Object.assign({},C),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},C)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[k]}));case 4:if(u=e.sent,l=u.filterModel,p=u.dateFilter,d=u.projectId,f=u.fTimeType,JSON.stringify(l)!==JSON.stringify(a.filterModel)||JSON.stringify(p)!==JSON.stringify(a.dateFilter)||d!==a.projectId){e.next=11;break}return e.abrupt("return");case 11:return h={timeType:f||a.defaultTimeType},m={fTimeType:""},e.prev=13,e.next=16,o(I,{projectId:a.projectId});case 16:v=e.sent,2e4===(y=v.data).code&&y.result&&(m=JSON.parse(y.result),g=Object.keys(h),Object.keys(m).forEach((function(e,t){m[e]&&(h[g[t]]=m[e])}))),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return["timeType"].forEach((function(e){!a.dateOptions.find((function(t){return t.value===h[e]}))&&(h[e]=a.defaultTimeType)})),e.next=26,c({type:"save",payload:(0,r.Z)({},a,m,h)});case 26:return e.next=28,c({type:"fetchDatas",payload:a});case 28:case"end":return e.stop()}}),e,null,[[13,21]])})),fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchCountCard",payload:r});case 4:return e.next=6,a({type:"fetchTrendData",payload:r});case 6:return e.next=8,a({type:"fetchAgeData",payload:r});case 8:return e.next=10,a({type:"fetchGenderData",payload:r});case 10:return e.next=12,a({type:"fetchRelationData",payload:r});case 12:case"end":return e.stop()}}),e)})),setSameRate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.projectId,p=u.sameRateId,d=a.sameRateType,e.next=10,o(g,{projectId:l,sameRateType:d,sameRateId:p});case 10:if(f=e.sent,2e4!==f.data.code){e.next=16;break}return w.Z.success("\u8bbe\u7f6e\u6210\u529f"),e.next=16,c({type:"fetchCountCard",payload:a});case 16:case"end":return e.stop()}}),e)})),fetchCountCard:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,f=u.filterModel,h={projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||f},m="error",e.prev=10,e.next=13,o(d,h);case 13:v=e.sent,2e4===(y=v.data).code&&y.result&&(m=y.result),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.next=22,c({type:"save",payload:{countCard:m,sameRateId:m.sameRateId}});case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e,null,[[10,18]])})),fetchTrendData:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[k]}));case 4:return l=e.sent,p=l.projectId,d=l.dateFilter,f=l.filterModel,m=l.timeType,v="error",e.prev=10,y=a.timeType||m,g=(0,c.ZP)(a.dateFilter||d,(function(e){e.dateGroupType=y})),x={projectId:a.projectId||p,dateFilter:g,filterModel:a.filterModel||f},e.next=16,o(h,x);case 16:I=e.sent,b=I.data,v=2e4===b.code&&b.result.length>0?b.result:"empty",e.next=23;break;case 21:e.prev=21,e.t0=e.catch(10);case 23:return e.prev=23,e.next=26,s({type:"save",payload:(0,r.Z)({},a,{trendData:v})});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[10,21,23,27]])})),fetchGenderData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f={projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d},h="error",e.prev=10,e.next=13,o(v,f);case 13:m=e.sent,y=m.data,h=2e4===y.code&&y.result.gender.length>0?y.result.gender:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:{gender:h}});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchAgeData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f={projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d},h="error",e.prev=10,e.next=13,o(v,f);case 13:m=e.sent,y=m.data,h=2e4===y.code&&y.result.age.length>0?y.result.age:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:{age:h}});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchRelationData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.filterModel,f={projectId:a.projectId||l,dateFilter:a.dateFilter||p,filterModel:a.filterModel||d},h="error",e.prev=10,e.next=13,o(v,f);case 13:m=e.sent,y=m.data,h=2e4===y.code&&y.result.relation.length>0?y.result.relation:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,c({type:"save",payload:{relation:h}});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),updateFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.projectId,p=u.fTimeType,e.prev=7,d={fTimeType:void 0!==a.fTimeType?a.fTimeType:p},e.next=11,o(T,{projectId:l,value:JSON.stringify(d)});case 11:if(f=e.sent,2e4!==f.data.code){e.next=16;break}return e.next=16,s({type:"save",payload:d});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])}))}}},6861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>H});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(15861),s=n(49722),u="PRODUCT_SELF_ANALYSIS";function l(e){return p.apply(this,arguments)}function p(){return(p=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.filterModel,a=t.dateFilter,e.abrupt("return",s.h.post("product/overview/chart/find/ASPECT2_EMOTION_QUERY",{projectId:n,filterModel:r,dateFilter:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cartType,r=t.sameRateType,a=t.projectId,e.abrupt("return",s.h.post("/product/overview/set-same-rate",{productOverviewModule:"PRODUCT_SELF",cartType:n,sameRateType:r,projectId:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,r=t.filterModel,a=t.dateFilter,!(o=t.sameRateType)){e.next=4;break}return e.next=4,d({cartType:"USEFUL_ASPECT_COUNT_CARD",sameRateType:o,projectId:n});case 4:return e.abrupt("return",s.h.post("/product/overview/chart/find/USEFUL_ASPECT_COUNT_CARD",{projectId:n,filterModel:r,dateFilter:a,productOverviewModule:"PRODUCT_SELF"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,r=t.filterModel,a=t.dateFilter,!(o=t.sameRateType)){e.next=4;break}return e.next=4,d({cartType:"POSITIVE_ASPECT_RATE_CARD",sameRateType:o,projectId:n});case 4:return e.abrupt("return",s.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{projectId:n,filterModel:r,dateFilter:a,productOverviewModule:"PRODUCT_SELF"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,r=t.filterModel,a=t.dateFilter,!(o=t.sameRateType)){e.next=4;break}return e.next=4,d({cartType:"NEGATIVE_ASPECT_RATE_CARD",sameRateType:o,projectId:n});case 4:return e.abrupt("return",s.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{projectId:n,filterModel:r,dateFilter:a,productOverviewModule:"PRODUCT_SELF"}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,c.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",s.h.post("/business_point/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.id,e.abrupt("return",s.h.post("/business_point/delete",{projectId:n,id:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.projectId,e.abrupt("return",s.h.post("/business_point/save",{name:n,projectId:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.name,a=t.projectId,e.abrupt("return",s.h.post("/business_point/rename",{id:n,name:r,projectId:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.sortIds,e.abrupt("return",s.h.post("/business_point/sort",{projectId:n,sortIds:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return j.apply(this,arguments)}function j(){return(j=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.projectId,e.abrupt("return",s.h.post("/business_point/aspect/list",{id:n,projectId:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return(D=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.projectId,a=t.name,o=t.filterList,e.abrupt("return",s.h.post("/business_point/filter/set",{id:n,projectId:r,name:a,filterList:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return R.apply(this,arguments)}function R(){return(R=(0,c.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",s.h.post("/default/value/find",{projectId:n,key:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",s.h.post("/default/value/update",{projectId:n,key:u,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=n(5133),Z=o.Z.product.selfAnalysis,V={WEEK:"\u5468",MONTH:"\u6708",QUATER:"\u5b63",YEAR:"\u5e74"},z={"\u6307\u6807\u58f0\u91cf":"usefulAspectCount","\u540c\u6bd4":"sameRate","\u73af\u6bd4":"circleRate","\u6709\u6548\u8bc4\u8bba":"usefulCommentCount","\u6307\u6807\u63d0\u53ca\u7387":"aspectMentionRate"},U={"\u6307\u6807\u597d\u8bc4\u7387":"positiveAspectRate","\u540c\u6bd4":"sameRate","\u73af\u6bd4":"circleRate","\u6b63\u9762\u58f0\u91cf":"usefulPositiveAspectCount","\u6307\u6807\u58f0\u91cf":"usefulAspectCount"},B={"\u6307\u6807\u5dee\u8bc4\u7387":"negativeAspectRate","\u540c\u6bd4":"sameRate","\u73af\u6bd4":"circleRate","\u8d1f\u9762\u58f0\u91cf":"usefulNegativeAspectCount","\u6307\u6807\u58f0\u91cf":"usefulAspectCount"};function q(e,t){return Object.keys(e).map((function(n,r){var a=e[n],i=a.endsWith("Rate"),o=t[a],c=null===o?null:Math.abs(o);return{name:1===r&&t.sameRateType?""+V[t.sameRateType]+n:n,count:c,format:i?"percent":"myriad",rise:o?o>0:null,compare:t.sameRateType}}))}var W={chartData:void 0,isDataEmpty:!1,rateEmotionType:"",rateEmotionTypeFlavor:"",countEmotionType:"",countEmotionTypeFlavor:"",aspectCountData:void 0,posAspectRateData:void 0,negAspectRateData:void 0,businessPointList:void 0,rangedBusinessPointNames:[],configListData:void 0,projectId:void 0,analysisModel:void 0,filterModel:void 0,dateFilter:void 0};const H={namespace:Z,state:Object.assign({},W),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},W)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[Z]}));case 4:if(u=e.sent,l=u.filterModel,p=u.dateFilter,d=u.analysisModel,f=u.projectId,JSON.stringify(l)!==JSON.stringify(a.filterModel)||JSON.stringify(p)!==JSON.stringify(a.dateFilter)||JSON.stringify(d)!==JSON.stringify(a.analysisModel)||f!==a.projectId){e.next=11;break}return e.abrupt("return");case 11:return h={rateEmotionType:"positive",countEmotionType:"total"},m={rateEmotionTypeFlavor:"",countEmotionTypeFlavor:""},e.prev=13,e.next=16,o(M,{projectId:a.projectId});case 16:v=e.sent,2e4===(y=v.data).code&&y.result&&(m=JSON.parse(y.result)),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return m.rateEmotionTypeFlavor&&(h.rateEmotionType=m.rateEmotionTypeFlavor),m.countEmotionTypeFlavor&&(h.countEmotionType=m.countEmotionTypeFlavor),e.next=27,c({type:"save",payload:(0,r.Z)({},a,m,h)});case 27:return e.next=29,c({type:"fetchDatas",payload:a});case 29:case"end":return e.stop()}}),e,null,[[13,21]])})),fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchBusinessPointList",payload:r});case 4:return e.next=6,a({type:"fetchAspectCount",payload:r});case 6:return e.next=8,a({type:"fetchPositiveAspectRate",payload:r});case 8:return e.next=10,a({type:"fetchNegativeAspectRate",payload:r});case 10:case"end":return e.stop()}}),e)})),rangeOrFetchChartData:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[Z]}));case 4:if(s=e.sent,u=s.chartData,l=s.businessPointList,!u||a.shouldRefreshChart){e.next=12;break}return e.next=10,o({type:"save",payload:{businessPointList:a.businessPointList||l,chartData:a.rangedBusinessPointNames.reduce((function(e,t){var n=u.find((function(e){return e.view===t}));return n&&e.push(n),e}),[])}});case 10:e.next=14;break;case 12:return e.next=14,o({type:"fetchChartData",payload:(0,r.Z)({},a,{isDataEmpty:!!a.rangedBusinessPointNames.length})});case 14:case"end":return e.stop()}}),e)})),fetchBusinessPointList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,p="error",d=[],e.prev=7,e.next=10,o(I,{projectId:a.projectId||l});case 10:if(f=e.sent,2e4!==(h=f.data).code){e.next=19;break}return p=h.result.length?h.result:"empty",d=h.result.map((function(e){return e.name})),e.next=17,s({type:"rangeOrFetchChartData",payload:(0,r.Z)({},a,{rangedBusinessPointNames:d})});case 17:e.next=20;break;case 19:p="empty";case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(7);case 24:return e.prev=24,e.next=27,s({type:"save",payload:(0,r.Z)({},a,{businessPointList:p,rangedBusinessPointNames:d})});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[7,22,24,28]])})),fetchChartData:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,p=u.projectId,d=u.filterModel,f=u.dateFilter,h=u.rangedBusinessPointNames,m="error",v=!1,e.prev=10,y=a.rangedBusinessPointNames||h,e.next=14,o(l,{projectId:a.projectId||p,filterModel:a.filterModel||d,dateFilter:a.dateFilter||f});case 14:g=e.sent,2e4===(x=g.data).code&&x.result.length?(m=x.result.reduce((function(e,t){return t.businessPoint.forEach((function(n){var r=n.id,a=n.name,i=e.find((function(e){return e.view===a}));i||(i={id:r,view:a,aspects:[]},e.push(i));var o=t.positive+t.negative;i.aspects.push({total:o,aspect:t.aspect2,positive:t.positive,negative:t.negative,negRate:t.negative/o,posRate:t.positive/o,menRate:o/t.messageTotal})})),e}),[]),v=void 0!==a.isDataEmpty?a.isDataEmpty:!m.length,m=m.length?y.reduce((function(e,t){var n=m.find((function(e){return e.view===t}));return n&&e.push(n),e}),[]):"empty"):(m="empty",v=!0),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.prev=21,e.next=24,c({type:"save",payload:(0,r.Z)({},a,{chartData:m,isDataEmpty:v})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[10,19,21,25]])})),fetchAspectCount:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,c=n.call,s=n.put,e.next=4,o((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,d=u.dateFilter,f="error",e.prev=9,e.next=12,c(h,{projectId:a.projectId||l,filterModel:a.filterModel||p,dateFilter:a.dateFilter||d,sameRateType:a.compareValue});case 12:m=e.sent,2e4===(v=m.data).code&&(f=q(z,v.result)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),e.t0;case 20:return e.prev=20,e.next=23,s({type:"save",payload:(0,r.Z)({},a,{aspectCountData:f})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[9,17,20,24]])})),fetchPositiveAspectRate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,c=n.call,s=n.put,e.next=4,o((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,d=u.dateFilter,f="error",e.prev=9,e.next=12,c(v,{projectId:a.projectId||l,filterModel:a.filterModel||p,dateFilter:a.dateFilter||d,sameRateType:a.compareValue});case 12:h=e.sent,2e4===(m=h.data).code&&(f=q(U,m.result)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),e.t0;case 20:return e.prev=20,e.next=23,s({type:"save",payload:(0,r.Z)({},a,{posAspectRateData:f})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[9,17,20,24]])})),fetchNegativeAspectRate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,c=n.call,s=n.put,e.next=4,o((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,d=u.dateFilter,f="error",e.prev=9,e.next=12,c(g,{projectId:a.projectId||l,filterModel:a.filterModel||p,dateFilter:a.dateFilter||d,sameRateType:a.compareValue});case 12:h=e.sent,2e4===(m=h.data).code&&(f=q(B,m.result)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),e.t0;case 20:return e.prev=20,e.next=23,s({type:"save",payload:(0,r.Z)({},a,{negAspectRateData:f})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[9,17,20,24]])})),addBusinessPoint:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,e.next=9,o(w,{projectId:a.projectId||l,name:a.name});case 9:if(p=e.sent,2e4!==(d=p.data).code){e.next=15;break}return e.next=14,s({type:"fetchBusinessPointList",payload:{shouldRefreshChart:!0}});case 14:F.Z.success(d.msg);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])})),renameBusinessPoint:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,e.next=9,o(C,{projectId:a.projectId||l,id:a.id,name:a.name});case 9:if(p=e.sent,2e4!==(d=p.data).code){e.next=15;break}return e.next=14,s({type:"fetchBusinessPointList",payload:{shouldRefreshChart:!0}});case 14:F.Z.success(d.msg);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])})),deleteBusinessPoint:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,e.next=9,o(T,{projectId:a.projectId||l,id:a.id});case 9:if(p=e.sent,2e4!==(d=p.data).code){e.next=15;break}return e.next=14,s({type:"fetchBusinessPointList",payload:{shouldRefreshChart:!0}});case 14:F.Z.success(d.msg);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])})),rangeBusinessPoint:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,e.next=9,o(N,{projectId:a.projectId||l,sortIds:a.rangedIds});case 9:if(p=e.sent,2e4!==p.data.code){e.next=14;break}return e.next=14,s({type:"rangeOrFetchChartData",payload:{rangedBusinessPointNames:a.rangedNames,businessPointList:a.businessPointList}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),fetchAspectList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,p="error",e.prev=7,e.next=10,o(_,{projectId:a.projectId||l,id:a.id});case 10:d=e.sent,f=d.data,p=2e4===f.code&&f.result.length?f.result:"empty",e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,s({type:"save",payload:{configListData:p}});case 20:return e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[7,15,17,21]])})),setAspect:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,e.next=9,o(A,{projectId:a.projectId||l,id:a.id,name:a.name,filterList:a.filterList});case 9:if(p=e.sent,2e4!==(d=p.data).code){e.next=15;break}return F.Z.success(d.msg),e.next=15,s({type:"fetchBusinessPointList",payload:{shouldRefreshChart:!0}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])})),updateFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[Z]}));case 4:return u=e.sent,l=u.projectId,p=u.rateEmotionTypeFlavor,d=u.countEmotionTypeFlavor,e.prev=8,f={rateEmotionTypeFlavor:""===a.rateEmotionType||a.rateEmotionType?a.rateEmotionType:p,countEmotionTypeFlavor:""===a.countEmotionType||a.countEmotionType?a.countEmotionType:d},e.next=12,o(L,{projectId:l,value:JSON.stringify(f)});case 12:if(h=e.sent,2e4!==h.data.code){e.next=17;break}return e.next=17,s({type:"save",payload:f});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}}),e,null,[[8,19]])}))}}},2329:(e,t,n)=>{"use strict";n.d(t,{kV:()=>i,bF:()=>o,X_:()=>s});var r=n(87219),a=n(39432),i=function(e){switch(e){case"WEEK":return"\u5468";case"MONTH":return"\u6708";case"QUATER":return"\u5b63";case"YEAR":return"\u5e74";default:return""}},o=function(e){var t=e.some((function(e){return"DEFAULT"===e.id}))&&e.find((function(e){return"DEFAULT"===e.id})).values.some((function(e){return"SOURCE"===e.id})),n=e.some((function(e){return"TAG_RULE"===e.id}))&&e.find((function(e){return"TAG_RULE"===e.id})).values,r=e.some((function(e){return"CONFIG"===e.id}))&&e.find((function(e){return"CONFIG"===e.id})).values,a={};return r&&(a.connConfig=r.map((function(e){return{id:e.id,values:e.values}}))),t&&(a.source=e.find((function(e){return"DEFAULT"===e.id})).values.find((function(e){return"SOURCE"===e.id})).values),n&&(a.tag=n.map((function(e){return{id:e.id,special:"tag",values:e.values}}))),a};var c=/([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,s=function(e,t,n,i,o){return"line"===e&&i instanceof Array&&i.length>0?(0,r.ZP)(t,(function(e){var t=(0,a.LV)(n,o),r=t.from,s=t.to;"DAY"!==o&&"HOUR"!==o&&(JSON.stringify(n)===JSON.stringify(i[0])?(r=e.from,c.test(e.from.trim())&&(s+=" 23:59:59")):JSON.stringify(n)===JSON.stringify(i[i.length-1])&&(c.test(e.to.trim())&&(r+=" 00:00:00"),s=e.to)),e.from=r,e.to=s,e.numOfDays=function(e,t){var n=Date.parse(e),r=Date.parse(t),a=Math.abs(n-r);return Math.floor(a/864e5)+1}(s,r),e.quickChoice=r.replaceAll("-",".")+" - "+s.replaceAll("-",".")})):t}},31290:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722);function s(e){var t=e.projectId;return c.h.post("/overall-aspect/list",{projectId:t})}var u=o.Z.productExperience.aspectSystem.global,l={projectId:void 0,aspectList:void 0};const p={namespace:u,state:Object.assign({},l),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},l)}},effects:{fetchAspectData:i().mark((function e(t,n){var a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,n.select,u="error",e.prev=3,e.next=6,o(s,{projectId:a.projectId});case 6:l=e.sent,2e4===(p=l.data).code&&(u=p.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,c({type:"save",payload:(0,r.Z)({},a,{aspectList:u})});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[3,11,13,17]])}))}}},85027:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.id;return o.h.post("/overall/aspect/tree/node/list",{id:t})}function s(e){var t=e.level,n=e.module,r=e.name,a=e.projectId,i=e.tree,c=e.id;return o.h.post(c?"/overall/aspect/tree/update":"/overall/aspect/tree/add",{level:t,module:n,name:r,projectId:a,tree:i,id:c})}function u(e){var t=e.projectId;return o.h.post("/overall/aspect/node/list",{projectId:t})}function l(e){var t=e.projectId;return o.h.post("/overall-aspect/list",{projectId:t})}var p=n(36490),d=n(64396).Z.productExperience.aspectSystem.treeEdit,f={projectId:void 0,curSelectNode:{},maxLevel:0,data:{},showTree:!1,id:void 0,name:void 0,moduleName:void 0,module:void 0,msgList:[],indexList:void 0,msgTypeList:void 0};const h={namespace:d,state:JSON.parse(JSON.stringify(f)),effects:{fetchTree:i().mark((function e(t,n){var r,a,o,s,u,l,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,a=n.select,o=n.call,e.next=4,a((function(e){return e[d]}));case 4:return s=e.sent,u=s.id,e.next=8,o(c,{id:u});case 8:return l=e.sent,f=l.data.result,h=(0,p.j)(f.tree),m=h.data,v=h.maxLevel,e.next=13,r({type:"save",payload:{data:m,maxLevel:v,showTree:!0,module:f.module,name:f.name}});case 13:return e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})),fetchNodeList:i().mark((function e(t,n){var r,a,o,c,s,l,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,a=n.select,o=n.call,e.next=4,a((function(e){return e[d]}));case 4:return c=e.sent,s=c.projectId,l="error",e.prev=7,e.next=10,o(u,{projectId:s});case 10:h=e.sent,(m=h.data.result).length>0?(l=m.map((function(e){return{id:e.id,name:e.ytName,categoryRates:e.categoryRates}})),f=(0,p.K)(m)):l="empty",e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,r({type:"save",payload:{indexList:l,msgTypeList:f}});case 20:return e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[7,15,17,21]])})),fetchMsgType:i().mark((function e(t,n){var r,a,o,c,s,u,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,a=n.select,o=n.call,e.next=3,a((function(e){return e[d]}));case 3:return c=e.sent,s=c.projectId,u=[],e.prev=6,e.next=9,o(l,{projectId:s});case 9:p=e.sent,(f=p.data.result).length>0&&(u=f[0].categoryRates.map((function(e){return{id:e.category,name:e.categoryName}}))),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:return e.prev=16,e.next=19,r({type:"save",payload:{msgList:u}});case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[6,14,16,20]])})),saveTree:i().mark((function e(t,n){var r,a,o,c,u,l,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.put,r=n.select,a=n.call,e.next=3,r((function(e){return e[d]}));case 3:return o=e.sent,c=o.id,u=o.projectId,l=o.maxLevel,f=o.data,h=o.module,m=o.name,e.next=12,a(s,{id:c,projectId:u,level:l,tree:(0,p.y8)(f),module:h,name:m});case 12:return v=e.sent,y=v.data,e.abrupt("return",y);case 15:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return JSON.parse(JSON.stringify(f))},curSelectChange:function(e,t){var n=t.payload;return(0,r.Z)({},e,{curSelectNode:n.curSelect})},dataChange:function(e,t){var n=t.payload;return(0,r.Z)({},e,{data:n.data})}}}},36490:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>getIndexListType,iU:()=>getSelectMsgType,j:()=>formartServerToFrontData,WS:()=>leafNodeName,bc:()=>levelBgColor,$W:()=>levelTofont,$P:()=>setNodeStyle,h1:()=>levelName,kp:()=>createNewTree,XV:()=>getAllSelectedIndex,Dz:()=>testTree,y8:()=>formartFrontToServerData});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87462),leafNodeName="\u8bf7\u9009\u62e9",levelBgColor=["#61799B","#BEE1F9","#F6EBB9","#FFDAC5","#8DEBD5","#B6D1FE","#FED5DA","#ADF1F1"],levelHoverBorderColor=["#0C1B2F","#1574B3","#CDB446","#D07B49","#1EA082","#3D85FF","#D8727F","#0E97AD"],levelTofont=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03"],levelName=["\u6839\u8282\u70b9","\u4e00\u7ea7\u6307\u6807","\u4e8c\u7ea7\u6307\u6807","\u4e09\u7ea7\u6307\u6807","\u56db\u7ea7\u6307\u6807","\u4e94\u7ea7\u6307\u6807","\u516d\u7ea7\u6307\u6807","\u4e03\u7ea7\u6307\u6807"],setNodeStyle=function(e,t){return e.style=(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__.Z)({},e.style,{"background-color":levelBgColor[e.level!==t?e.level:levelBgColor.length-1],hover_border_color:levelHoverBorderColor[e.level!==t?e.level:levelBgColor.length-1]}),e};function createNewTree(e,t){var n={id:"root",isroot:!0,topic:e,level:0};!function e(n,r){n.children=[{id:r,level:r,isroot:!1,topic:Number(r)===Number(t)?leafNodeName:levelTofont[r]+"\u7ea7\u6307\u68071"}],r<t&&e(n.children[0],r+1)}(n,1);return function e(n){setNodeStyle(n,t),n.style["border-radius"]=n.level===t?"14px":"4px",n.children&&n.children.forEach((function(t){return e(t)}))}(n),n}function formartServerToFrontData(e){e.id="root";var t=0;return function e(n,r){n.level=r?r.level+1:0,n.level>t&&(t=n.level),n.children&&n.children.forEach((function(t){return e(t,n)}))}(e),function e(n){setNodeStyle(n,t),n.children&&n.children.forEach((function(t){return e(t)}))}(e),{data:e,maxLevel:t}}function formartFrontToServerData(e){return e}function getAllSelectedIndex(e){var t=new Set;return function e(n){n.children&&n.children.length?n.children.forEach((function(t){return e(t)})):n.topic!==leafNodeName&&t.add(n.topic)}(e),Array.from(t)}function getIndexListType(e){return e.reduce((function(e,t){return t.categoryRates.forEach((function(n){e[n.category]?e[n.category].push(t.ytName):e[n.category]=[t.ytName]})),e}),{})}function getSelectMsgType(e,t,n){if(e&&e.length>0){var r=[];return e.forEach((function(e){t[e]&&r.push.apply(r,t[e])})),Array.from(new Set(r))}return n.map((function(e){return e.name}))}var testTree=function testTree(tree){var r=!0,t=function t(a){a.children||!eval("/^"+leafNodeName+"$/").test(a.topic)?a.children&&a.children.forEach((function(e){t(e)})):r=!1};return t(tree),r}},23413:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.name,r=e.moduleList,a=e.pageIndex,i=e.pageSize;return o.h.post("/overall/aspect/tree/list",{projectId:t,name:n,moduleList:r,pageIndex:a,pageSize:i})}function s(e){var t=e.projectId;return o.h.post("/filter/module/find",{projectId:t})}function u(e){var t=e.id,n=e.name;return o.h.post("/overall/aspect/tree/rename",{id:t,name:n})}var l=n(5133),p=n(64396).Z.productExperience.aspectSystem.tree,d={name:"",pageSize:10,pageIndex:1,moduleList:void 0,typeNameList:[],data:void 0,projectId:void 0};const f={namespace:p,state:JSON.parse(JSON.stringify(d)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},d)}},effects:{fetchTreeList:i().mark((function e(t,n){var a,o,s,u,l,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[p]}));case 4:return l=e.sent,d=l.pageIndex,f=l.pageSize,h=l.moduleList,m=l.projectId,v="error",y=a.moduleList||h,e.prev=11,g={projectId:a.projectId||m,name:a.name,pageIndex:a.pageIndex||d,pageSize:a.pageSize||f},y&&y.length>0&&(g.moduleList=y),e.next=16,o(c,g);case 16:x=e.sent,I=x.data,v=2e4===I.code&&I.result.total>0?I.result:"empty",e.next=23;break;case 21:e.prev=21,e.t0=e.catch(11);case 23:return e.prev=23,e.next=26,s({type:"save",payload:(0,r.Z)({},a,{data:v})});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[11,21,23,27]])})),fetchModuleNameList:i().mark((function e(t,n){var a,o,c,u,l,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[p]}));case 4:return l=e.sent,d=l.projectId,e.prev=6,e.next=9,o(s,{projectId:a.projectId||d});case 9:if(f=e.sent,2e4!==(h=f.data).code){e.next=14;break}return e.next=14,u({type:"save",payload:{typeNameList:h.result}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),editTree:i().mark((function e(t,n){var a,o,c,s,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[p]}));case 4:return d=e.sent,f=d.name,e.prev=6,e.next=9,o(u,a);case 9:if(h=e.sent,2e4!==(m=h.data).code){e.next=15;break}return l.Z.success(m.msg),e.next=15,s({type:"fetchTreeList",payload:{pageIndex:1,name:f}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])}))}}},45039:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(15861),s=n(49722);function u(e){return l.apply(this,arguments)}function l(){return(l=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.valueFrom,e.abrupt("return",s.h.post("/subscribe-topic/find/topicValue",{type:n,valueFrom:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.id,a=t.valueFrom,e.abrupt("return",s.h.post("/subscribe-topic/find/group",{type:n,id:r,valueFrom:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.type,a=t.spuId,o=t.name,c=t.split,u=t.projectId,l=t.valueFrom,p=t.configList,e.abrupt("return",s.h.post("/subscribe-topic/add/group",{id:n,type:r,spuId:a,name:o,split:c,projectId:u,valueFrom:l,configList:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ytIndustryTopicId,r=t.value,a=t.projectId,e.abrupt("return",s.h.post("/subscribe-topic/add/topicValue",{ytIndustryTopicId:n,value:r,projectId:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(5133),g=o.Z.product.setting.base.entryDrawer,x={type:"",split:"",topicList:void 0,compose:void 0,spuId:void 0,valueFrom:void 0};const I={namespace:g,state:Object.assign({},x),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},x)}},effects:{fetchTopic:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[g]}));case 4:return l=e.sent,p=l.valueFrom,d=l.type,e.next=9,c(u,{valueFrom:a.valueFrom||p,type:a.type||d});case 9:if(f=e.sent,2e4!==(h=f.data).code){e.next=14;break}return e.next=14,o({type:"save",payload:(0,r.Z)({},a,{split:"plus"===h.result.split?"+":"comma"===h.result.split?"\u3001":"dash"===h.result.split?"-":" ",compose:h.result.compose,topicList:h.result.topicList})});case 14:return e.abrupt("return",h);case 15:case"end":return e.stop()}}),e)})),fetchTopicValue:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[g]}));case 4:return u=e.sent,l=u.type,d=u.topicList,f=u.valueFrom,e.next=10,c(p,{valueFrom:a.valueFrom||f,id:a.id,type:a.type||l});case 10:if(h=e.sent,2e4!==(m=h.data).code){e.next=17;break}return v={},d.forEach((function(e,t){v["value"+t]=m.result.configList.some((function(t){return t.topicId===e.id}))?m.result.configList.find((function(t){return t.topicId===e.id})).topicValueIds:[e.list.find((function(e){return e.name.includes("(\u7a7a\u767d)")})).id],v["oriValue"+t]=m.result.configList.some((function(t){return t.topicId===e.id}))?m.result.configList.find((function(t){return t.topicId===e.id})).topicValueIds:[e.list.find((function(e){return e.name.includes("(\u7a7a\u767d)")})).id],v["title"+t]=m.result.configList.some((function(t){return t.topicId===e.id}))?m.result.configList.find((function(t){return t.topicId===e.id})).topicValues:["(\u7a7a\u767d)"],v["oriTitle"+t]=m.result.configList.some((function(t){return t.topicId===e.id}))?m.result.configList.find((function(t){return t.topicId===e.id})).topicValues:["(\u7a7a\u767d)"]})),e.next=17,o({type:"save",payload:(0,r.Z)({},v,{formatType:"plus"===m.result.split?"+":" "})});case 17:return e.abrupt("return",m);case 18:case"end":return e.stop()}}),e)})),editTopic:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=a.index,e.next=5,o({type:"save",payload:(r={},r["value"+c]=a["value"+c],r["title"+c]=a["title"+c],r)});case 5:case"end":return e.stop()}}),e)})),fetchAdd:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.put,o=n.call,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[g]}));case 4:return s=e.sent,u=s.valueFrom,l=s.type,p=s.split,d={},e.prev=9,h=(0,r.Z)({valueFrom:u,type:l,split:" "===p?"space":"+"===p?"plus":"\u3001"===p?"comma":"-"===p?"dash":"space"},a),e.next=13,o(f,h);case 13:2e4===(d=e.sent).data.code&&(y.Z.success("\u64cd\u4f5c\u6210\u529f"),a.callback&&a.callback()),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.abrupt("return",d);case 20:case"end":return e.stop()}}),e,null,[[9,17]])})),fetchAddTopic:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[g]}));case 4:return u=e.sent,l=u.valueFrom,p=u.type,e.next=9,c(m,{projectId:l,ytIndustryTopicId:a.ytIndustryTopicId,value:a.value});case 9:if(d=e.sent,2e4!==(f=d.data).code){e.next=14;break}return e.next=14,o({type:"fetchTopic",payload:{valueFrom:l,type:p}});case 14:return e.abrupt("return",f);case 15:case"end":return e.stop()}}),e)}))}}},91903:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(5133),s=n(15861),u=n(49722);function l(e){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)(i().mark((function e(t){var n,r,a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectIds,r=t.pageIndex,a=t.pageSize,o=t.name,c=t.type,s=t.spuId,l=t.valueFrom,e.abrupt("return",u.h.post("/subscribe-topic/list/group",{projectIds:n,pageIndex:r,pageSize:a,name:o,type:c,spuId:s,valueFrom:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ids,e.abrupt("return",u.h.post("/subscribe-topic/delete/group",{ids:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=o.Z.product.setting.base.sku,m={name:"",total:0,pageIndex:1,pageSize:10,entryList:void 0,type:"SKU",spuId:void 0,drawerVisible:!1,projectId:void 0,projectIds:[]};const v={namespace:h,state:Object.assign({},m),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},m)}},effects:{fetchList:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[h]}));case 4:return u=e.sent,p=u.pageIndex,d=u.pageSize,f=u.projectId,m=u.spuId,v=u.type,y=u.projectIds,g="error",x=0,e.prev=12,I={name:a.name,pageIndex:a.pageIndex||p,pageSize:a.pageSize||d,valueFrom:a.projectId||f,spuId:a.spuId||m,type:a.type||v,projectIds:a.projectIds||y},e.next=16,c(l,I);case 16:b=e.sent,2e4===(T=b.data).code&&T.result.count>0?(g=T.result.result,x=T.result.count):g=[],e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),e.t0;case 24:return e.prev=24,e.next=27,o({type:"save",payload:(0,r.Z)({},a,{entryList:g,total:x})});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[12,21,24,28]])})),fetchDelete:i().mark((function e(t,n){var a,o,s,u,l,p,f,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,s=n.call,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[h]}));case 4:return l=e.sent,p=l.name,f=l.type,e.prev=7,e.next=10,s(d,a);case 10:if(m=e.sent,2e4!==m.data.code){e.next=16;break}return c.Z.success("\u64cd\u4f5c\u6210\u529f"),e.next=16,o({type:"fetchList",payload:{name:p,type:f}});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])}))}}},47911:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(5133),s=n(15861),u=n(49722);function l(e){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)(i().mark((function e(t){var n,r,a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectIds,r=t.pageIndex,a=t.pageSize,o=t.name,c=t.type,s=t.spuId,l=t.valueFrom,e.abrupt("return",u.h.post("/subscribe-topic/list/group",{projectIds:n,pageIndex:r,pageSize:a,name:o,type:c,spuId:s,valueFrom:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ids,e.abrupt("return",u.h.post("/subscribe-topic/delete/group",{ids:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=o.Z.product.setting.base.spu,m={name:"",total:0,pageIndex:1,pageSize:10,entryList:void 0,type:"SPU",drawerVisible:!1,projectId:void 0,projectIds:[]};const v={namespace:h,state:Object.assign({},m),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},m)}},effects:{fetchList:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[h]}));case 4:return u=e.sent,p=u.pageIndex,d=u.pageSize,f=u.projectId,m=u.type,v=u.projectIds,y="error",g=0,e.prev=11,x={name:a.name,pageIndex:a.pageIndex||p,pageSize:a.pageSize||d,valueFrom:a.projectId||f,type:a.type||m,projectIds:a.projectIds||v},e.next=15,c(l,x);case 15:I=e.sent,2e4===(b=I.data).code&&b.result.count>0?(y=b.result.result,g=b.result.count):y=[],e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),e.t0;case 23:return e.prev=23,e.next=26,o({type:"save",payload:(0,r.Z)({},a,{entryList:y,total:g})});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[11,20,23,27]])})),fetchDelete:i().mark((function e(t,n){var a,o,s,u,l,p,f,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,s=n.call,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[h]}));case 4:return l=e.sent,p=l.name,f=l.type,e.prev=7,e.next=10,s(d,a);case 10:if(m=e.sent,2e4!==m.data.code){e.next=16;break}return c.Z.success("\u64cd\u4f5c\u6210\u529f"),e.next=16,o({type:"fetchList",payload:{name:p,type:f}});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])}))}}},55988:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.batchNo,e.abrupt("return",c.h.post("/maintainedConnection/list",{projectId:n,batchNo:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",c.h.post("/maintainedConnection/remove",{id:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.spuGroupId,a=t.spuGroupName,o=t.skuGroupId,s=t.skuGroupName,u=t.customizeConfig,e.abrupt("return",c.h.post("/maintainedConnection/addConnection",{id:n,spuGroupId:r,spuGroupName:a,skuGroupId:o,skuGroupName:s,customizeConfig:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageSize,a=void 0===r?100:r,o=t.pageIndex,s=void 0===o?1:o,u=t.name,l=void 0===u?"":u,p=t.valueFrom,e.abrupt("return",c.h.post("/subscribe-topic/list",{projectId:n,pageIndex:s,pageSize:a,name:l,valueFrom:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,o=t.valueFrom,s=t.pageSize,u=void 0===s?1e3:s,l=t.pageIndex,p=void 0===l?1:l,e.abrupt("return",c.h.post("/subscribe-topic-value/list",{projectId:n,topicId:r,value:a,valueFrom:o,pageSize:u,pageIndex:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,e.abrupt("return",c.h.post("/subscribe-topic-value/add",{projectId:n,topicId:r,value:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=n(35239),E=n(64396),w=n(5133),k=E.Z.project.connection.maintainList,C={isEdit:!1,dataList:void 0,spuList:void 0,skuList:void 0,projectId:void 0,batchNo:""};const S={namespace:k,state:Object.assign({},C),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},C)}},effects:{fetchLinkList:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[k]}));case 4:if(l=e.sent,p=l.projectId,d=l.batchNo,f=l.isEdit,h=[],a.batchNo||d||!T.t.getWidthProject(T.V.connectionLinkMaintainList,"session")||!T.t.getWidthProject(T.V.connectionLinkMaintainList,"session").length){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,e.next=14,c(s,{projectId:a&&a.projectId?a.projectId:p,batchNo:a&&a.batchNo?a.batchNo:d});case 14:m=e.sent,2e4===(v=m.data).code&&v.result&&(T.t.setWidthProject(T.V.connectionLinkMaintainList,v.result,"session"),h=v.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,o({type:"save",payload:{isEdit:!f,batchNo:a&&a.batchNo?a.batchNo:d,dataList:h}});case 24:return e.finish(21);case 25:return e.abrupt("return",h);case 26:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchAdd:i().mark((function e(t,n){var a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.put,o=n.call,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return s=e.sent,s.projectId,e.next=8,o(d,(0,r.Z)({},a));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})),fetchEntryOpts:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.projectId,p=u.batchNo,e.prev=7,e.next=10,o(h,{projectId:a.projectId||l});case 10:if(d=e.sent,2e4!==(f=d.data).code){e.next=19;break}if(T.t.remove(T.V.newEntry),a.id||void 0===a.batchNo){e.next=17;break}return e.next=17,s({type:"fetchLinkList",payload:{projectId:a.projectId||l,batchNo:a.batchNo||p}});case 17:return e.next=19,s({type:"save",payload:(0,r.Z)({},a,{spuList:f.result.spuList,skuList:f.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}}),e,null,[[7,21]])})),fetchDelete:i().mark((function e(t,n){var a,o,c,s,u,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,p=u.isEdit,e.prev=6,e.next=9,o(l,{id:a.id});case 9:if(d=e.sent,2e4!==(f=d.data).code||!f.result){e.next=16;break}return w.Z.success("\u64cd\u4f5c\u6210\u529f"),T.t.setWidthProject(T.V.connectionLinkMaintainList,f.result,"session"),e.next=16,s({type:"save",payload:{isEdit:!p,dataList:f.result}});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(6);case 20:case"end":return e.stop()}}),e,null,[[6,18]])})),fetchTopicOpts:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.select,c=n.put,e.next=3,o((function(e){return(0,r.Z)({},e)[k]}));case 3:return s=e.sent,u=s.projectId,l=[],e.prev=6,e.next=9,a(v,{projectId:u,valueFrom:[u]});case 9:p=e.sent,2e4===(d=p.data).code&&(l=d.result.result.filter((function(e){return"USER_CUSTOMIZE"===e.topicType}))),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:return e.prev=16,e.next=19,c({type:"save",payload:{topicOpts:l}});case 19:return e.finish(16);case 20:return e.abrupt("return",l);case 21:case"end":return e.stop()}}),e,null,[[6,14,16,20]])})),fetchTopicValue:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.select,n.put,e.next=4,a(g,{projectId:r.projectId,valueFrom:[r.projectId],topicId:r.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),fetchAddTopicValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.projectId,e.next=8,o(I,{projectId:l,topicId:a.topicId,value:a.value});case 8:if(p=e.sent,2e4!==(d=p.data).code){e.next=13;break}return e.next=13,s({type:"fetchTopicValue",payload:{projectId:l,topicId:a.topicId}});case 13:return e.abrupt("return",d);case 14:case"end":return e.stop()}}),e)}))}}},55041:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(49722),u=function(e){return s.h.post("/contact/schema/list",e)},l=function(e){return s.h.post("/contact/schema/delete",e)},p=function(e){return s.h.post("/contact/schema/update",e)},d=function(e){return s.h.post("/contact/schema/add",e)},f=function(e){return s.h.post("/contact/schema/visible",e)},h=function(e){return s.h.post("/contact/schema/findKey",e)},m=n(35239),v=c.Z.project.customerManage;const y={namespace:v,state:{list:[],fetchParams:{name:"",pageIndex:1,pageSize:20},pagination:{current:1,pageSize:20,total:0}},effects:{fetchList:o().mark((function e(t,n){var r,i,c,s,l,p,d,f,h,y,g,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[v]}));case 4:return l=e.sent,p=l.fetchParams,d=l.pagination,f=null==(r=m.t.get(m.V.backProjectConfig))?void 0:r.id,e.next=10,i(u,(0,a.Z)({},p,{projectId:f}));case 10:if(h=e.sent,y=h.data,g=y.code,x=y.result,2e4!==g){e.next=18;break}return e.next=18,c({type:"save",payload:{list:x.list,pagination:(0,a.Z)({},d,{total:x.total})}});case 18:case"end":return e.stop()}}),e)})),addField:o().mark((function e(t,n){var i,c,s,u,l,p,f,h,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,s=n.call,u=n.put,l=null==(i=m.t.get(m.V.backProjectConfig))?void 0:i.id,e.next=5,s(d,(0,a.Z)({},c,{projectId:l}));case 5:if(p=e.sent,f=p.data,h=f.code,v=f.msg,2e4!==h){e.next=14;break}return r.default.success(v),e.next=13,u({type:"fetchList"});case 13:return e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})),delField:o().mark((function e(t,n){var i,c,s,u,p,d,f,h,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,s=n.call,u=n.put,p=null==(i=m.t.get(m.V.backProjectConfig))?void 0:i.id,e.next=5,s(l,(0,a.Z)({},c,{projectId:p}));case 5:if(d=e.sent,f=d.data,h=f.code,v=f.msg,2e4!==h){e.next=14;break}return e.next=12,u({type:"fetchList"});case 12:return r.default.success(v),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})),editField:o().mark((function e(t,n){var i,c,s,u,l,d,f,h,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,s=n.call,u=n.put,l=null==(i=m.t.get(m.V.backProjectConfig))?void 0:i.id,e.next=5,s(p,(0,a.Z)({},c,{projectId:l}));case 5:if(d=e.sent,f=d.data,h=f.code,v=f.msg,2e4!==h){e.next=14;break}return e.next=12,u({type:"fetchList"});case 12:return r.default.success(v),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})),switchField:o().mark((function e(t,n){var i,c,s,u,l,p,d,h,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,s=n.call,u=n.put,l=null==(i=m.t.get(m.V.backProjectConfig))?void 0:i.id,e.next=5,s(f,(0,a.Z)({},c,{projectId:l}));case 5:if(p=e.sent,d=p.data,h=d.code,v=d.msg,2e4!==h){e.next=14;break}return e.next=12,u({type:"fetchList"});case 12:return r.default.success(v),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})),getSecretKey:o().mark((function e(t,n){var r,a,i,c,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,i=null==(r=m.t.get(m.V.backProjectConfig))?void 0:r.id,e.next=5,a(h,{projectId:i});case 5:if(c=e.sent,s=c.data,u=s.code,l=s.result,2e4!==u){e.next=11;break}return e.abrupt("return",l.secretKey);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)}}}},51196:(e,t,n)=>{"use strict";n.d(t,{zM:()=>r,hm:()=>a,Qs:()=>i});var r=[{id:"ASPECT_TOO_MANY",name:"\u591a\u4e86\u6307\u6807"},{id:"EMOTION_WRONG",name:"\u60c5\u611f\u6709\u8bef"},{id:"ASPECT_NOT_ENOUGH",name:"\u5c11\u4e86\u6307\u6807"},{id:"FOCUS_TOO_MANY",name:"\u591a\u4e86\u5173\u6ce8\u70b9"},{id:"FOCUS_NOT_ENOUGH",name:"\u5c11\u4e86\u5173\u6ce8\u70b9"}],a=[{label:"\u5168\u90e8",value:""},{label:"\u5f85\u5904\u7406",value:"PENDING"},{label:"\u5df2\u5904\u7406",value:"FINISH"}],i={"\u591a\u4e86\u6307\u6807":1,"\u60c5\u611f\u6709\u8bef":2,"\u5c11\u4e86\u6307\u6807":3,"\u591a\u4e86\u5173\u6ce8\u70b9":4,"\u5c11\u4e86\u5173\u6ce8\u70b9":5}},78813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.keyword,n=e.status,r=e.personList,a=e.issueList,i=e.pageIndex,c=e.pageSize,s=e.projectIds;return o.h.post("/data_feedback/find",{keyword:t,status:n,creators:r,feedbackTypes:a,pageIndex:i,pageSize:c,projectIds:s})}function s(e){return o.h.post("/data_feedback/filter/find",e)}var u=n(51196),l=n(35239),p=n(64396).Z.project.dataFeedback,d={status:"",name:"",issueList:void 0,personList:void 0,pagination:{current:1,pageSize:10,total:0},personListOpt:void 0,data:[]};const f={namespace:p,state:JSON.parse(JSON.stringify(d)),effects:{fetchFeedbackPersonList:i().mark((function e(t,n){var a,o,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,n.select,e.prev=2,e.next=5,o(s,{type:"USER"});case 5:if(2e4!==(u=e.sent).data.code){e.next=9;break}return e.next=9,c({type:"save",payload:(0,r.Z)({},a,{personListOpt:u.data.result})});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})),fetchDataFeedbackList:i().mark((function e(t,n){var a,o,s,d,f,h,m,v,y,g,x,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,d=n.select,e.next=4,d((function(e){return(0,r.Z)({},e)[p]}));case 4:return f=e.sent,h=f.pagination,m=f.issueList,v=f.personList,y=[],g=a.issueList||m,x=a.personList||v,b=(I=a||{}).pageIndex,T=I.page,E=I.pageSize,e.prev=12,w={keyword:a.name,status:a.status,pageIndex:T&&T.pageSize===h.pageSize?b:1,pageSize:E||h.pageSize,projectIds:[l.t.get(l.V.backProjectConfig).id]},g&&g.length>0&&(w.issueList=g),x&&x.length>0&&(w.personList=x),e.next=18,o(c,w);case 18:return k=e.sent,2e4===(C=k.data).code&&C.result.count>0?(C.result.result.map((function(e){e.feedbackTypeNames.sort((function(e,t){return u.Qs[e]-u.Qs[t]}))})),y=C.result.result,h.total=C.result.count):h.total=0,e.next=23,s({type:"save",payload:{pagination:{current:T&&T.pageSize===h.pageSize?b:1,pageSize:T.pageSize||10,total:T.total||0}}});case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(12);case 27:return e.prev=27,e.next=30,s({type:"save",payload:(0,r.Z)({},a,{data:y})});case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[12,25,27,31]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},6019:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.messageCategory;return o.h.post("source/category/list",{projectId:t,messageCategory:n})}function s(e){var t=e.projectId,n=e.categoryId,r=e.name,a=e.sourceId,i=e.rules,c=void 0===i?[]:i,s=e.id,u=void 0===s?"":s,l=e.key,p=e.content,d=void 0===p?[]:p,f=e.topics,h=void 0===f?[]:f;return o.h.post("/projects/connection/add",{projectId:t,categoryId:n,key:l,content:d,topics:h,name:r,sourceId:a,rules:c,id:u})}function u(e){var t=e.sourceId,n=e.category;return o.h.post("/projects/connection-rule/find",{sourceId:t,category:n})}var l=n(64396).Z.project.dataUrlEdit,p={COMMENT:1,QUE_ANS:2,BBS:9,SOCIAL:11,SELF:12,NEWS:4,COMPLAINT:13,VIDEO:19},d={messageCategory:void 0,urlId:"",projectId:void 0,conditionList:void 0,platformList:void 0,platValue:void 0,ruleValue:void 0};const f={namespace:l,state:Object.assign({},d),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},d)}},effects:{fetchPlatformList:i().mark((function e(t,n){var r,a,o,s,u,l,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,s=r.messageCategory,u=r.urlId,l=r.projectId,p=r.syncKey,d=r.sourceId,f=r.name,h=null,m="NEWS"===s?30:d,e.prev=5,e.next=8,a(c,{messageCategory:s,projectId:l});case 8:if(v=e.sent,2e4!==(y=v.data).code){e.next=16;break}return h=y.result,g=y.result,x=g[0],m=m||x.id,e.next=16,o({type:"fetchPlatformConditionList",payload:{id:m,messageCategory:s}});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(5);case 20:return e.prev=20,e.next=23,o({type:"save",payload:{platformList:h,messageCategory:s,urlId:u,projectId:l,platValue:{name:f,sourceId:m},ruleValue:p}});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[5,18,20,24]])})),commitDataScrabble:i().mark((function e(t,n){var a,o,c,u,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=d.messageCategory,m=d.urlId,v=a.name,y=a.sourceId,g=a.rules,x=a.content,I=a.contentStr,b={projectId:f,categoryId:p[h],name:v,sourceId:y,id:m,key:I},x&&(b.key=JSON.stringify(x),b.content=x),g&&(b.key=JSON.stringify(g),b.rules=g),e.next=14,o(s,b);case 14:return T=e.sent,2e4===(E=T.data).code&&a.callback&&a.callback(),e.next=19,u({type:"save",payload:{urlId:E.result,platValue:{name:v,sourceId:y}}});case 19:case"end":return e.stop()}}),e)})),fetchPlatformConditionList:i().mark((function e(t,n){var a,o,c,s,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.messageCategory,f=void 0,h={category:a.messageCategory||d,sourceId:a.id},e.prev=8,e.next=11,o(u,h);case 11:m=e.sent,2e4===(v=m.data).code&&(f=v.result),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,s({type:"save",payload:{conditionList:{list:f,sourceId:a.id}}});case 21:return e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[8,16,18,22]])}))}}},52727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),a=n(50976);const i=function(e){var t=e.loading,n=e.chartData,i=r.useState(void 0),o=i[0],c=i[1];return r.useEffect((function(){if(o&&!t&&n&&n.length>0){var e=function(e){return{grid:{show:!1,left:0,right:0,bottom:0},backgroundColor:"transparent",xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},data:e.length>0?e.map((function(e){return e.date})):[]},yAxis:{type:"value",axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},series:[{type:"line",showSymbol:!1,smooth:!0,lineStyle:{width:0},areaStyle:{opacity:1},data:e.length>0?e.map((function(e){return e.count})):[],animation:!1}]}}(n);o.clear(),o.setOption(e)}}),[o,t,n]),r.createElement(a.Z,{theme:"yunting_multi_color",style:{width:"80px",height:"20px"},showLoading:t,loadingOption:{text:"",color:"#1574B3"},option:{},onChartReady:function(e){return c(e)}})}},54754:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.messageCategory;return o.h.post("/connection/category/list",{projectId:t,messageCategory:n})}function s(e){var t=e.messageCategory;return o.h.post("/source/category/list",{messageCategory:t})}function u(e){var t=e.projectId,n=e.pageIndex,r=e.pageSize,a=e.sortModel,i=e.name,c=e.keyword,s=e.filterModel,u=e.messageCategory;return o.h.post("/connection/list",{projectId:t,pageIndex:n,pageSize:r,sortModel:a,name:i,keyword:c,filterModel:s,messageCategory:u})}function l(e){var t=e.projectId,n=e.ids;return o.h.post("/connection/data/list",{projectId:t,ids:n})}function p(e){var t=e.ids;return o.h.post("/connection/delete",{ids:t})}var d=n(64396),f=n(87219),h=d.Z.project.dataUrlList,m={projectId:"",messageCategory:"",targetUrl:null,searchText:"",avaUrls:[],selectedUrls:[],avaPlatforms:[],selectedPlatforms:[],pageIndex:1,pageSize:20,data:[],total:0,modalShow:!1,sortName:"CREATED_AT",sortType:"DESC"};const v={namespace:h,state:Object.assign({},m),effects:{fetchUrlNameList:i().mark((function e(t,n){var a,o,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,s=n.select,e.next=3,s((function(e){return(0,r.Z)({},e)[h]}));case 3:return u=e.sent,l=u.projectId,p=u.messageCategory,e.next=8,a(c,{projectId:l,messageCategory:p});case 8:return d=e.sent,f=d.data,e.next=12,o({type:"save",payload:{avaUrls:f.result}});case 12:case"end":return e.stop()}}),e)})),fetchPlatformList:i().mark((function e(t,n){var a,o,c,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[h]}));case 3:return u=e.sent,l=u.messageCategory,e.next=7,a(s,{messageCategory:l});case 7:return p=e.sent,d=p.data,e.next=11,o({type:"save",payload:{avaPlatforms:d.result}});case 11:case"end":return e.stop()}}),e)})),fetchUrlList:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,m,v,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[h]}));case 3:return s=e.sent,l=s.projectId,p=s.messageCategory,d=s.searchText,f=s.selectedUrls,m=s.selectedPlatforms,v=s.pageIndex,y=s.pageSize,g=s.sortName,x=s.sortType,e.next=15,a(u,{projectId:l,messageCategory:p,keyword:d,name:f.length>0?f.map((function(e){return e.name})):[],sortModel:{sortName:g,sortType:x},pageIndex:v,pageSize:y,filterModel:{projectId:l,source:m}});case 15:if(I=e.sent,2e4!==(b=I.data).code){e.next=24;break}return T=b.result,E=T.list,w=T.count,e.next=21,o({type:"save",payload:{data:E,total:w}});case 21:if(!(w>0)){e.next=24;break}return e.next=24,o({type:"fetchTrendChartData"});case 24:case"end":return e.stop()}}),e)})),fetchTrendChartData:i().mark((function e(t,n){var a,o,c,s,u,p,d,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[h]}));case 3:return s=e.sent,u=s.projectId,p=s.data,d=p.map((function(e){return e.id})),e.next=9,a(l,{projectId:u,ids:d});case 9:return m=e.sent,v=m.data,y=v.code,g=v.result,x=(0,f.ZP)(p,(function(e){if(2e4===y)for(var t=0;t<e.length;t++)for(var n=0;n<g.length;n++)e[t].id===g[n].id&&(e[t].total=g[n].total,e[t].dateList=g[n].list)})),e.next=16,o({type:"save",payload:{data:x}});case 16:case"end":return e.stop()}}),e)})),deleteUrl:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[h]}));case 3:return s=e.sent,u=s.targetUrl.id,e.next=7,a(p,{ids:[u]});case 7:if(l=e.sent,2e4!==l.data.code){e.next=14;break}return e.next=12,o({type:"save",payload:{modalShow:!1}});case 12:return e.next=14,o({type:"fetchUrlList"});case 14:case"end":return e.stop()}}),e)})),resetState:i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.call,a=n.put,n.select,e.next=3,a({type:"save",payload:(0,r.Z)({},m)});case 3:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},40748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(15861),s=n(49722);function u(e){return l.apply(this,arguments)}function l(){return(l=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.name,a=t.valueFrom,o=t.pageSize,c=t.pageIndex,e.abrupt("return",s.h.post("/subscribe-topic/list",{projectId:n,name:r,valueFrom:a,pageSize:o,pageIndex:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.name,a=t.originTopicId,o=t.synthesisTopics,c=t.synthesisSplit,e.abrupt("return",s.h.post("/subscribe-topic/add",{projectId:n,name:r,originTopicId:a,synthesisTopics:o,synthesisSplit:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.id,e.abrupt("return",s.h.post("/subscribe-topic/delete",{projectId:n,id:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.id,a=t.name,o=t.synthesisTopics,c=t.synthesisSplit,e.abrupt("return",s.h.post("/subscribe-topic/update",{projectId:n,id:r,name:a,synthesisTopics:o,synthesisSplit:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.id,a=t.frontName,e.abrupt("return",s.h.post("/subscribe-topic/rename",{projectId:n,id:r,frontName:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=o.Z.product.setting.topic.overview,I={projectId:"",list:[],name:"",valueFrom:"all",page:{pageIndex:1,pageSize:20,count:0}};const b={namespace:x,state:I,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},I)}},effects:{fetchList:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return e[x]}));case 3:return s=e.sent,l=s.name,p=s.projectId,d=s.valueFrom,f=s.page,h=f.pageSize,m=f.pageIndex,e.next=11,a(u,{name:l,projectId:p,valueFrom:"all"===d?[p]:"yt"===d?["yt"]:[p],pageSize:h,pageIndex:m});case 11:return v=e.sent,y=v.data.result,e.next=15,o({type:"save",payload:{list:y.result,page:(0,r.Z)({},f,{count:y.count})}});case 15:case"end":return e.stop()}}),e)})),pageChange:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,s=a.pageIndex,u=a.pageSize,e.next=5,c((function(e){return e[x]}));case 5:return l=e.sent,p=l.page,e.next=9,o({type:"save",payload:{page:(0,r.Z)({},p,{pageIndex:u!==p.pageSize?1:s,pageSize:u})}});case 9:return e.next=11,o({type:"fetchList"});case 11:case"end":return e.stop()}}),e)})),valueFromChange:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[x]}));case 4:return s=e.sent,u=s.page,l=a.valueFrom,e.next=9,o({type:"save",payload:{valueFrom:l,page:(0,r.Z)({},u,{pageIndex:1})}});case 9:return e.next=11,o({type:"fetchList"});case 11:case"end":return e.stop()}}),e)})),nameChange:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[x]}));case 4:return s=e.sent,u=s.page,l=a.name,e.next=9,o({type:"save",payload:{name:l,page:(0,r.Z)({},u,{pageIndex:1})}});case 9:return e.next=11,o({type:"fetchList"});case 11:case"end":return e.stop()}}),e)})),addTopic:i().mark((function e(t,n){var r,a,o,c,s,u,l,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[x]}));case 4:return s=e.sent,u=s.projectId,l=r.name,e.next=9,a(p,{name:l,projectId:u});case 9:return d=e.sent,f=d.result,e.next=13,o({type:"fetchList"});case 13:return e.abrupt("return",f);case 14:case"end":return e.stop()}}),e)})),editTopic:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[x]}));case 4:return s=e.sent,u=s.projectId,l=r.name,p=r.id,e.next=9,a(m,{name:l,projectId:u,id:p});case 9:return d=e.sent,d.result,e.next=13,o({type:"fetchList"});case 13:case"end":return e.stop()}}),e)})),delTopic:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[x]}));case 4:return u=e.sent,l=u.projectId,p=u.list,d=u.page,h=a.id,e.next=11,o(f,{projectId:l,id:h});case 11:if(m=e.sent,m.result,1!==p.length){e.next=16;break}return e.next=16,c({type:"save",payload:{page:(0,r.Z)({},d,{pageIndex:1})}});case 16:return e.next=18,c({type:"fetchList"});case 18:case"end":return e.stop()}}),e)})),addAlias:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[x]}));case 4:return s=e.sent,u=s.projectId,l=r.frontName,p=r.id,e.next=9,a(y,{frontName:l,projectId:u,id:p});case 9:return d=e.sent,f=d.result,e.next=13,o({type:"fetchList"});case 13:return e.abrupt("return",f);case 14:case"end":return e.stop()}}),e)}))}}},70019:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(15861),s=n(49722);function u(e){return l.apply(this,arguments)}function l(){return(l=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,o=t.valueFrom,c=t.pageSize,u=t.pageIndex,l=t.sortModel,e.abrupt("return",s.h.post("/subscribe-topic-value/list",{projectId:n,topicId:r,value:a,valueFrom:o,pageSize:c,pageIndex:u,sortModel:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.topicId,e.abrupt("return",s.h.post("/subscribe-topic-value/add",{projectId:n,value:r,topicId:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.id,a=t.topicId,e.abrupt("return",s.h.post("/subscribe-topic-value/delete",{projectId:n,id:r,topicId:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.id,a=t.value,o=t.topicId,e.abrupt("return",s.h.post("/subscribe-topic-value/update",{projectId:n,id:r,value:a,topicId:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=o.Z.product.setting.topic.topicValue,g={projectId:"",topicId:"",topicName:"",list:[],name:"",valueFrom:"all",page:{pageIndex:1,pageSize:20,count:0},sortModel:{sortName:"UPDATED_AT",sortType:"DESC"}};const x={namespace:y,state:g,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},g)}},effects:{fetchList:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return e[y]}));case 3:return s=e.sent,l=s.name,p=s.projectId,d=s.valueFrom,f=s.page,h=s.topicId,m=s.sortModel,v=f.pageSize,g=f.pageIndex,e.next=13,a(u,{value:l,projectId:p,topicId:h,valueFrom:"all"===d?[]:"yt"===d?["yt"]:[p],pageSize:v,pageIndex:g,sortModel:m});case 13:return x=e.sent,I=x.data.result,e.next=17,o({type:"save",payload:{list:I.result,page:(0,r.Z)({},f,{count:I.count})}});case 17:case"end":return e.stop()}}),e)})),pageChange:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,s=a.pageIndex,u=a.pageSize,e.next=5,c((function(e){return e[y]}));case 5:return l=e.sent,p=l.page,e.next=9,o({type:"save",payload:{page:(0,r.Z)({},p,{pageIndex:u!==p.pageSize?1:s,pageSize:u})}});case 9:return e.next=11,o({type:"fetchList"});case 11:case"end":return e.stop()}}),e)})),valueFromChange:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[y]}));case 4:return s=e.sent,u=s.page,l=a.valueFrom,e.next=9,o({type:"save",payload:{valueFrom:l,page:(0,r.Z)({},u,{pageIndex:1})}});case 9:return e.next=11,o({type:"fetchList"});case 11:case"end":return e.stop()}}),e)})),nameChange:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[y]}));case 4:return s=e.sent,u=s.page,l=a.name,e.next=9,o({type:"save",payload:{name:l,page:(0,r.Z)({},u,{pageIndex:1})}});case 9:return e.next=11,o({type:"fetchList"});case 11:case"end":return e.stop()}}),e)})),sortChange:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[y]}));case 4:return s=e.sent,u=s.page,l=a.sortModel,e.next=9,o({type:"save",payload:{sortModel:l,page:(0,r.Z)({},u,{pageIndex:1})}});case 9:return e.next=11,o({type:"fetchList"});case 11:case"end":return e.stop()}}),e)})),addTopic:i().mark((function e(t,n){var r,a,o,c,s,u,l,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[y]}));case 4:return s=e.sent,u=s.projectId,l=s.topicId,d=r.name,e.next=10,a(p,{value:d,projectId:u,topicId:l});case 10:return f=e.sent,h=f.result,e.next=14,o({type:"fetchList"});case 14:return e.abrupt("return",h);case 15:case"end":return e.stop()}}),e)})),editTopic:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[y]}));case 4:return s=e.sent,u=s.projectId,l=s.topicId,p=r.name,d=r.id,e.next=10,a(m,{value:p,projectId:u,id:d,topicId:l});case 10:return f=e.sent,f.result,e.next=14,o({type:"fetchList"});case 14:case"end":return e.stop()}}),e)})),delTopic:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[y]}));case 4:return u=e.sent,l=u.projectId,p=u.list,d=u.page,h=u.topicId,m=a.id,e.next=12,o(f,{projectId:l,id:m,topicId:h});case 12:if(v=e.sent,v.result,1!==p.length){e.next=17;break}return e.next=17,c({type:"save",payload:{page:(0,r.Z)({},d,{pageIndex:1})}});case 17:return localStorage.setItem("delTopic",!0),e.next=20,c({type:"fetchList"});case 20:case"end":return e.stop()}}),e)}))}}},51417:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId;return o.h.post("/message/rule/public/condition",{projectId:t})}function s(e){var t=e.projectId,n=e.status,r=void 0===n?null:n,a=e.tagIdList,i=void 0===a?[]:a,c=e.teamIdList,s=void 0===c?[]:c,u=e.userIdList,l=void 0===u?[]:u;return o.h.post("/message/rule/public/list",{projectId:t,status:r,tagIdList:i,teamIdList:s,userIdList:l})}function u(e){var t=e.projectId,n=e.filterModel,r=e.tagIdList,a=e.teamIdList,i=e.userIdList;return o.h.post("/message/rule/public/add",{projectId:t,filterModel:n,tagIdList:r,teamIdList:a,userIdList:i})}function l(e){var t=e.id,n=e.filterModel,r=e.tagIdList,a=e.teamIdList,i=e.userIdList;return o.h.post("/message/rule/public/update",{id:t,filterModel:n,tagIdList:r,teamIdList:a,userIdList:i})}function p(e){var t=e.id,n=e.history;return o.h.post("/message/rule/history/update",{id:t,history:n})}function d(e){var t=e.id;return o.h.post("/message/rule/delete",{id:t})}function f(e){var t=e.id,n=e.status,r=e.history;return o.h.post("/message/rule/status/update",{id:t,status:n,history:r})}var h=n(17945),m=n(5133);const v={namespace:n(64396).Z.project.messageRule,state:{ruleList:[],conditionList:[],ruleDatas:[],tagData:{dictionary:{},options:{}},recipientData:{dictionary:{},options:{}}},effects:{fetchCondition:i().mark((function e(t,n){var r,a,o,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,s=[],u={dictionary:{},options:{}},l={dictionary:{},options:{}},e.prev=3,e.next=6,a(c,r);case 6:p=e.sent,2e4===(d=p.data).code&&(s=d.result,u=(0,h.v5)([s]),l=(0,h.cC)([s])),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,o({type:"save",payload:{conditionList:s,tagData:u,recipientData:l}});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[3,11,13,17]])})),fetchRuleList:i().mark((function e(t,n){var r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=[],u=[],e.prev=3,e.next=6,a(s,r);case 6:l=e.sent,2e4===(p=l.data).code&&(c=p.result,u=(0,h.Ib)(c)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,o({type:"save",payload:{ruleList:c,ruleDatas:u}});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[3,11,13,17]])})),addRule:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,e.prev=2,e.next=5,a(u,r);case 5:o=e.sent,2e4===(c=o.data).code&&r.onDialogOpen&&r.onDialogOpen({id:c.result,type:"created",history:!0}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})),updateRule:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(l,r);case 5:if(c=e.sent,2e4!==c.data.code){e.next=11;break}return r.onDialogOpen&&r.onDialogOpen({id:r.id,type:"edited",history:!0}),e.next=11,o({type:"fetchRuleList",payload:r.filterObj});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})),updateHistoryRule:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(p,r);case 5:return c=e.sent,2e4===c.data.code&&m.Z.success("\u6d88\u606f\u89c4\u5219\u8bbe\u7f6e\u6210\u529f"),e.next=10,o({type:"fetchRuleList",payload:r.filterObj});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})),deleteRule:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(d,r);case 5:return c=e.sent,2e4===c.data.code&&m.Z.success("\u6d88\u606f\u89c4\u5219\u5220\u9664\u6210\u529f"),e.next=10,o({type:"fetchRuleList",payload:r.filterObj});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})),setRuleStatus:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(f,r);case 5:if(c=e.sent,2e4!==c.data.code){e.next=11;break}return m.Z.success("\u6d88\u606f\u89c4\u5219\u66f4\u65b0\u6210\u529f"),e.next=11,o({type:"fetchRuleList",payload:r.filterObj});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},17945:(e,t,n)=>{"use strict";n.d(t,{v5:()=>i,cC:()=>o,Ib:()=>c,Bd:()=>s,_l:()=>u,rV:()=>l});var r=n(87462),a=n(35239);function i(e){var t={},n=e.reduce((function(e,n){return n.tagList.forEach((function(n){!t[n.name]&&(t[n.name]=n.id);var r=e[n.value];r?!r.find((function(e){return e===n.name}))&&(e[n.value]=e[n.value].concat(n.name)):e[n.value]=[n.name]})),e}),{});return{dictionary:t,options:n}}function o(e){var t={},n=e.reduce((function(e,n){var r=n.teamList,a=n.userList;return r.length>0&&(e["\u56e2\u961f"]=[],r.forEach((function(n){!t[n.name]&&(t[n.name]=n.id),!e["\u56e2\u961f"].find((function(e){return e.id===n.id}))&&(e["\u56e2\u961f"]=e["\u56e2\u961f"].concat(n.name))}))),a.length>0&&(e["\u6210\u5458"]=[],a.forEach((function(n){!t[n.name]&&(t[n.name]=n.id),!e["\u6210\u5458"].find((function(e){return e.id===n.id}))&&(e["\u6210\u5458"]=e["\u6210\u5458"].concat(n.name))}))),e}),{});return{dictionary:t,options:n}}function c(e){return e.reduce((function(e,t){var n={id:t.id,status:t.status,history:t.history,recipient:{},tag:{},rule:{},ruleLine:1};return t.teamList&&t.teamList.length>0&&(n.recipient["\u56e2\u961f"]=t.teamList.map((function(e){return e.name}))),t.userList&&t.userList.length>0&&(n.recipient["\u6210\u5458"]=t.userList.map((function(e){return e.name}))),t.tagList&&(n.tag=t.tagList.reduce((function(e,t){var n=e[t.value];return e[t.value]=n?e[t.value].concat(t.name):[t.name],(0,r.Z)({},e)}),{})),t.filter.source&&t.filter.source.length>0&&(n.rule["\u6570\u636e\u6765\u6e90"]=t.filter.source)&&(n.ruleLine+=1),t.filter.escore&&t.filter.escore.length>0&&(n.rule["\u60c5\u611f"]=t.filter.escore)&&(n.ruleLine+=1),t.filter.star&&t.filter.star.length>0&&(n.rule["\u661f\u7ea7"]=t.filter.star)&&(n.ruleLine+=1),t.filter.connConfig&&t.filter.connConfig.length>0&&(n.rule=(0,r.Z)({},n.rule,t.filter.connConfig.reduce((function(e,t){var n;return(0,r.Z)({},e,((n={})[t.name]=t.values,n))}),{})))&&(n.ruleLine+=t.filter.connConfig.length),n.ruleLine=n.ruleLine>2?3:n.ruleLine,t.filter.content&&t.filter.content.length>0&&(n.rule["\u5185\u5bb9"]=t.filter.content.reduce((function(e,t,n){if((!t.contain||0===t.contain.length)&&(!t.notContain||0===t.notContain.length))return e;var r=["contain","notContain"].reduce((function(e,n){return t[n]&&t[n].length>0?[].concat(e,[("contain"===n?"\u5305\u542b":"\u4e0d\u5305\u542b")+t[n].map((function(e){return"\u201c"+e+"\u201d"})).join("\uff0c")]):e}),[]),a=(t.sentence?"\u4e00\u53e5\u8bdd\u4e2d":"\u5168\u6587\u4e2d")+"\uff1a"+r.join("\uff0c\u4e14");return[].concat(e,[a])}),[]))&&(n.ruleLine+=t.filter.content.length>5?5:t.filter.content.length),n.rule["\u5185\u5bb9"]&&0===n.rule["\u5185\u5bb9"].length&&(n.rule["\u5185\u5bb9"]=["\u65e0"]),[].concat(e,[n])}),[])}var s=function(e){var t=JSON.parse(a.t.get(a.V.filterList)).list;return Object.keys(e).reduce((function(n,a){var i=e[a],o=Object.prototype.toString.call(i);if("[object Array]"===o){var c=i[0],s=Object.prototype.toString.call(c);if("[object String]"===s){var u=t.find((function(e){return e.special===a}));return u?[].concat(n,[(0,r.Z)({},u,{values:i.map((function(e){var t=u.values.find((function(t){return t.name===e}));return t?t.id:""}))})]):n}if("[object Object]"===s)return[].concat(n,i.reduce((function(e,n){var a=t.find((function(e){return e.name===n.name}));return a?[].concat(e,[(0,r.Z)({},a,{values:n.values.map((function(e){return a.values.find((function(t){return t.name===e})).id}))})]):e}),[]))}else if("[object Object]"===o){var l=t.find((function(e){return e.name===i.name}));return l?[].concat(n,[(0,r.Z)({},l,{values:i.values.map((function(e){var t=l.values.find((function(t){return t.name===e}));return t?t.id:""}))})]):n}return n}),[])},u=function(e){return e.reduce((function(e,t){if("connConfig"===t.special||"tag"===t.special){var n={id:t.id,values:t.values};!e[t.special]&&(e[t.special]=[]),e[t.special].push(n)}else e[t.special]=t.values;return e}),{})},l=function(e){var t=document.createElement("canvas").getContext("2d");return t.font="14px PingFangSC-Regular",t.measureText(e).width}},67431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(){return o.h.post("/projects/list",{})}const s={namespace:n(64396).Z.projectAll,state:{title:["\u6240\u6709\u9879\u76ee"],data:[]},effects:{getProjectList:i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,e.next=3,r(c);case 3:if(2e4!==(o=e.sent).data.code){e.next=8;break}return s=o.data.result.list,e.next=8,a({type:"saveState",payload:{data:s}});case 8:case"end":return e.stop()}}),e)})),saveState:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:r});case 4:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},28383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(26582),u=n(99433),l=n(74644),p=n(35239),d=n(5133),f=c.Z.product.comment.linkMaintenance,h={projectId:p.t.get(p.V.backProjectConfig)&&p.t.get(p.V.backProjectConfig).id,linkTopicList:null,linkTopicListCurrentItem:null,batchlinkTopicListCurrentItem:null,linkTopicNameList:null,linkAddedTopicValueList:null,firstLoadAddedTopic:null,topicSuggestValue:void 0,totalListCount:void 0,currentIndex:0,handleCount:0,entryType:void 0,dataList:null,statusList:[],nextSpu:void 0,maintainParams:null,proInitStatus:void 0,connectionType:void 0,defaultEnterTopic:{}};const m={namespace:f,state:Object.assign({},h),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},resetData:function(e){return(0,a.Z)({},e,Object.assign({},h))},onDefualtTopicChange:function(e,t){var n=t.payload,r=n.id,i=n.value,o=e.linkAddedTopicValueList,c=e.linkTopicNameList,s=o&&o.length>0?o:c;if(s){var u=s.findIndex((function(e){return String(e.topicId||e.id)===String(r)}));if(u>=0)s[u].value=i;else s=[].concat(s,[{topicId:r,value:i,id:r}]);e.linkAddedTopicValueList=s}return(0,a.Z)({},e)}},effects:{getTopicSuggestValue:o().mark((function e(t,n){var r,i,c,u,l,d,h,m,v,y,g,x,I,b,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.select,u=n.call,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:if(l=e.sent,d=l.linkAddedTopicValueList,h=l.topicSuggestValue,m=r.projectId||p.t.get(p.V.backProjectConfig).id,v=r.topicId,y=r.init,g=r.values,x=r.value,!(g&&g.length>0)){e.next=26;break}return e.prev=10,e.next=13,u(s.j2,{values:g,projectId:m});case 13:if(I=e.sent,2e4!==(b=I.data).code){e.next=20;break}return T=y?b.result:h,e.next=19,i({type:"save",payload:{topicSuggestValue:T,linkAddedTopicValueList:d?d.map((function(e){return e.id===v&&(e.topicId=v,e.topicValueId=b.result.topicId,e.topicValueName=b.result.value||x),e})):d}});case 19:return e.abrupt("return",b.result);case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(10);case 24:e.next=28;break;case 26:return e.next=28,i({type:"save",payload:{topicSuggestValue:[],linkAddedTopicValueList:d}});case 28:case"end":return e.stop()}}),e,null,[[10,22]])})),addSingleLinkTopic:o().mark((function e(t,n){var i,c,u,l,h,m,v,y,g,x,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,u=n.select,l=n.put,e.next=4,u((function(e){return(0,a.Z)({},e)[f]}));case 4:return h=e.sent,m=h.entryType,v=h.currentIndex,y=h.statusList,g=i.projectId||p.t.get(p.V.backProjectConfig).id,x=/isS|isP|isB/.exec(m)?{addFrom:/isS/.exec(m)?"SINGLE":/isP/.exec(m)?"RULE":"BATCH"}:{},e.prev=10,e.next=13,c(s.po,(0,a.Z)({},i,x,{projectId:g}));case 13:if(I=e.sent,2e4!==I.data.code){e.next=20;break}return r.default.destroy(),e.next=19,l({type:"setCurrentTopicList",payload:{success:"ADD"}});case 19:return e.abrupt("return",{status:y[v]});case 20:d.Z.error("\u6dfb\u52a0\u5931\u8d25"),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(10);case 25:case"end":return e.stop()}}),e,null,[[10,23]])})),getSingleLinkList:o().mark((function e(t,n){var r,i,c,u,l,d,h,m,v,y,g,x,I,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:if(l=e.sent,d=l.connectionType,h=l.linkTopicList,m=l.linkTopicListCurrentItem,v=r.projectId||p.t.get(p.V.backProjectConfig).id,e.prev=9,h&&!(h.length<=0)){e.next=28;break}return e.next=13,i(s.gD,(0,a.Z)({},r,{projectId:v}));case 13:if(y=e.sent,2e4!==(g=y.data).code){e.next=28;break}if(!(g.result&&g.result.list&&g.result.list.length>0)||m){e.next=27;break}return x=g.result.list.map((function(e){"PRICE"===d?"REMOVE"===e.priceStatus&&(e.priceStatus="")&&(e.removed=!0):"REMOVE"===e.commentStatus&&(e.commentStatus="")&&(e.removed=!0),"PRICE"===d?(/null/.exec(e.priceStatus)||!e.priceStatus)&&(e.priceStatus="INIT"):(/null/.exec(e.commentStatus)||!e.commentStatus)&&(e.commentStatus="INIT"),e.skuId=e.skuId.indexOf(";")>0?e.skuId.split(";")[1]:e.skuId,e.skuId=e.skuId.indexOf("/")>0?e.skuId.split("/")[1]:e.skuId;var t=Array.isArray(e.configDetails)&&e.configDetails.find((function(e){return"\u5e97\u94fa"===e.topicTypeValue}));return t&&Array.isArray(e.urlTopics)&&e.urlTopics.unshift({id:t.topicTypeValue,name:t.topicValue}),e})).sort((function(e,t){return"PRICE"===d?e.priceStatus.localeCompare(t.priceStatus):e.commentStatus.localeCompare(t.commentStatus)})),I=x.findIndex((function(e){return"PRICE"===d?"INIT"===e.priceStatus:"INIT"===e.commentStatus})),b=x.filter((function(e){return"PRICE"===d?"ADD"===e.priceStatus:"ADD"===e.commentStatus})).length,e.next=22,u.resolve({type:"save",payload:{totalListCount:x.length,linkTopicList:x,linkTopicListCurrentItem:x[I>=0?I:0],currentIndex:I>=0?I:0,handleCount:b,statusList:x.map((function(e){return"PRICE"===d?"INIT"!==e.priceStatus?e.priceStatus:"":"INIT"!==e.commentStatus?e.commentStatus:""})),entryType:"isSingle"}});case 22:if(!(b>0)){e.next=25;break}return e.next=25,u.resolve({type:"getAddedTopics",payload:{esId:x[0].esId}});case 25:return e.next=27,u({type:"getTopicsList",payload:{projectId:v,pageSize:100,pageIndex:1,name:"",valueFrom:[v]}});case 27:return e.abrupt("return",g.result);case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(9),e.next=34,u({type:"resetData"});case 34:case"end":return e.stop()}}),e,null,[[9,30]])})),getLinkSalesTopics:o().mark((function e(t,n){var r,i,c,u,l,d,h,m,v,y,g,x,I,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,d=l.linkTopicList,h=l.currentIndex,m=r.projectId||p.t.get(p.V.backProjectConfig).id,e.prev=8,e.next=11,i(s.HE,(0,a.Z)({},r,{projectId:m}));case 11:if(v=e.sent,2e4!==(y=v.data).code){e.next=20;break}return(g=Object.keys(y.result).length>0?y.result:null)&&(x=g.prop,I=g.urlTopics,b=Array.isArray(x)&&x.find((function(e){return"\u5e97\u94fa"===e.id})),g.urlTopics=[].concat(b?[b]:[],Array.isArray(I)?I.filter((function(e){return"\u5e97\u94fa"!==e.id})):[]),b&&(g.prop=x.filter((function(e){return"\u5e97\u94fa"!==e.id}))),g.imgUrl=g.imgUrl?g.imgUrl[0]:d[h].imgUrl),e.next=18,u.resolve({type:"save",payload:{linkTopicListCurrentItem:g}});case 18:return e.next=20,u({type:"getTopicsList",payload:{projectId:m,pageSize:100,pageIndex:1,name:"",valueFrom:[m]}});case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(8),e.next=26,u({type:"resetData"});case 26:case"end":return e.stop()}}),e,null,[[8,22]])})),getTopicsList:o().mark((function e(t,n){var r,i,c,u,l,d,h,m,v,y,g,x,I,b,T,E,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,d=l.linkTopicList,h=l.currentIndex,m=l.linkTopicListCurrentItem,v=l.linkAddedTopicValueList,y=l.firstLoadAddedTopic,g=l.entryType,x=l.statusList,I=r.projectId||p.t.get(p.V.backProjectConfig).id,e.prev=13,e.next=16,i(s.ZS,(0,a.Z)({},r,{projectId:I}));case 16:if(b=e.sent,T=b.data,E="ADD"!==x[h]&&!/isE/.exec(g),(w="isBatch"!==g?v&&v.length>0?E&&y&&y.length>0?y:v:m:d[h].config)&&T.result.result.length>0&&T.result.result.map((function(e){var t=[e.name,e.naturalName].concat(e.keyword),n=Array.isArray(w)&&w.filter((function(t){return Number(e.id)===Number(t.topicId||t.id)}));if(m&&m.prop){var r=m.prop,a=m.urlTopics,i=[].concat(Array.isArray(r)?r.map((function(e){return a.find((function(t){return e.id===t.id}))?{id:""}:e})):[],Array.isArray(a)?a:[]),o=i.length>0&&i.filter((function(e){return t.includes(e.id.trim())})),c=i.findIndex((function(e){return t.includes(e.id.trim())}));o&&o.length>0&&(e.connectionTopicName={id:o[0].id,topicId:e.id,name:o[0].name,index:Math.floor(c>=r.length?c-r.length-a.length:c/2)})}return e.topicValueName="isBatch"!==g?n&&n.length>0&&(E?t.some((function(e){return/\u5e97\u94fa|\u54c1\u724c|\u578b\u53f7/.exec(e)}))?n[0].value:"":n[0].value)||"":n&&n.length>0&&n[0].topicValueName||"",t.indexOf("\u5e97\u94fa")>-1&&!e.topicValueName&&(e.topicValueName=e.connectionTopicName&&e.connectionTopicName.name||""),e})),2e4!==T.code){e.next=31;break}if("isBatch"!==g){e.next=27;break}return e.next=25,u({type:"getTopicSuggestValue",payload:{init:!0,values:T.result.result.filter((function(e){return e.topicValueName})).map((function(e){return{topicId:e.id,value:e.topicValueName,referenceId:e.referenceId}}))}});case 25:e.next=29;break;case 27:return e.next=29,u({type:"save",payload:{topicSuggestValue:void 0}});case 29:return e.next=31,u({type:"save",payload:{linkTopicNameList:T.result.result,batchlinkTopicListCurrentItem:!m&&d[h]}});case 31:e.next=35;break;case 33:e.prev=33,e.t0=e.catch(13);case 35:case"end":return e.stop()}}),e,null,[[13,33]])})),getAddedTopics:o().mark((function e(t,n){var r,i,c,u,l,d,h,m,v,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,d=l.linkAddedTopicValueList,h=r.projectId||p.t.get(p.V.backProjectConfig).id,e.prev=7,e.next=10,i(s.Vk,(0,a.Z)({},r,{projectId:h}));case 10:if(m=e.sent,2e4!==(v=m.data).code){e.next=16;break}return y=d?{}:{firstLoadAddedTopic:v.result},e.next=16,u({type:"save",payload:(0,a.Z)({},y,{linkAddedTopicValueList:v.result})});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])})),getBatchTopics:o().mark((function e(t,n){var r,i,c,u,l,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=r.projectId||p.t.get(p.V.backProjectConfig).id,e.prev=3,e.next=6,i(s.Nz,(0,a.Z)({},r,{projectId:u}));case 6:if(l=e.sent,2e4!==(d=l.data).code){e.next=14;break}return f=d.result.map((function(e){return{esId:e.esId,config:e.config,name:e.name,url:e.url}})),e.next=12,c({type:"save",payload:{linkTopicList:f,totalListCount:d.result.length,handleCount:0,statusList:Array.from({length:f.length},(function(){return""}))}});case 12:return e.next=14,c({type:"getLinkSalesTopics",payload:{esId:f[0].esId,projectId:u}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(3);case 18:case"end":return e.stop()}}),e,null,[[3,16]])})),getListTopics:o().mark((function e(t,n){var r,i,c,s,u,l,d,h,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.select,s=r.projectId||p.t.get(p.V.backProjectConfig).id,e.next=5,c((function(e){return(0,a.Z)({},e)[f]}));case 5:return u=e.sent,l=u.dataList,d=u.currentIndex,h=u.handleCount,m=r.listIds,v=r.unprocessed,y=r.isEdit,g=l&&l.map((function(e){return{id:e.id,title:e.name,skuId:e.sku,imgUrl:e.imgUrl.length>0?e.imgUrl[0]:""}}))||[],e.next=13,i({type:"save",payload:{handleCount:y?1:h,totalListCount:v?g.length:m.length,linkTopicList:v?g:m}});case 13:return e.next=15,i({type:"getLinkSalesTopics",payload:{connectionId:v?g[d].id:m[0],projectId:s}});case 15:case"end":return e.stop()}}),e)})),setCurrentTopicList:o().mark((function e(t,n){var r,i,c,s,u,l,d,h,m,v,y,g,x,I,b,T,E,w,k,C,S;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:if(s=e.sent,u=s.connectionType,l=s.linkTopicList,d=s.statusList,h=s.currentIndex,m=s.handleCount,v=s.entryType,y=s.totalListCount,g=s.maintainParams,x=p.t.get(p.V.backProjectConfig).id,I=r.currentIndex,!(b=r.success)){e.next=30;break}return d[h]=b,e.next=19,i.resolve({type:"save",payload:{statusList:[].concat(d)}});case 19:if(T=d.filter((function(e){return e})).length,!(/isP/.exec(v)&&T>=y-1)){e.next=30;break}return e.next=23,i.resolve({type:"fetchProLinkList",payload:(0,a.Z)({},g)});case 23:if(E=e.sent,T!==y||!E){e.next=30;break}return e.next=27,i.resolve({type:"fetchLinkList",payload:{connectionType:u}});case 27:return e.next=29,i.resolve({type:"getListTopics",payload:{unprocessed:!0}});case 29:return e.abrupt("return");case 30:if(w=d.findIndex((function(e){return!e})),k=I>=0?I:h+1===y?w<0&&/isS/.exec(v)?0:w:h+1,e.prev=32,!(C=l[k])){e.next=54;break}if("object"!==typeof C){e.next=50;break}return S=C.esId?{esId:C.esId}:{connectionId:C.id},e.next=39,i.resolve({type:"save",payload:{linkTopicListCurrentItem:C}});case 39:if("ADD"!==d[k]){e.next=42;break}return e.next=42,i.resolve({type:"getAddedTopics",payload:(0,a.Z)({},S)});case 42:if(!/isS/.exec(v)){e.next=45;break}return e.next=45,i({type:"getTopicsList",payload:{projectId:x,pageSize:100,pageIndex:1,name:"",valueFrom:[x]}});case 45:if(!/isB|isP/.exec(v)){e.next=48;break}return e.next=48,i({type:"getLinkSalesTopics",payload:(0,a.Z)({},S,{projectId:x})});case 48:e.next=52;break;case 50:return e.next=52,i({type:"getLinkSalesTopics",payload:{connectionId:C,projectId:x}});case 52:return e.next=54,i({type:"save",payload:{handleCount:I>=0?m:d.filter((function(e){return"ADD"===e})).length,currentIndex:k,statusList:[].concat(d)}});case 54:e.next=58;break;case 56:e.prev=56,e.t0=e.catch(32);case 58:case"end":return e.stop()}}),e,null,[[32,56]])})),fetchLinkList:o().mark((function e(t,n){var r,i,c,u,l,d,h,m,v,y,g,x,I,b,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.select,u=n.call,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,d=l.maintainParams,h=l.nextSpu,m=l.proInitStatus,v=[],y=p.t.get(p.V.backProjectConfig).id,g=r.spuId,r.spuId||(r.spuId=h),e.prev=12,e.next=15,u(s.IC,(0,a.Z)({},r,{projectId:y}));case 15:x=e.sent,2e4===(I=x.data).code&&I.result.length>0&&(v=I.result),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:if(e.prev=22,b=m&&g?v.findIndex((function(e){return e.esId===m})):v.findIndex((function(e){return"INIT"===e.status})),T=v.filter((function(e){return"ADD"===e.status})).length,!(1===v.length||b===v.length-1||b<0)){e.next=28;break}return e.next=28,i.resolve({type:"fetchProLinkList",payload:(0,a.Z)({},d)});case 28:return e.next=30,i({type:"save",payload:(0,a.Z)({},r,{dataList:v,statusList:v.map((function(e){return"INIT"===e.status?"":e.status})),handleCount:T,currentIndex:b>=0?b:0,linkAddedTopicValueList:null,nextSpu:r.spuId})});case 30:if(0===b){e.next=33;break}return e.next=33,i.resolve({type:"getAddedTopics",payload:{connectionId:v[0]&&v[0].id}});case 33:return e.finish(22);case 34:return e.abrupt("return",v);case 35:case"end":return e.stop()}}),e,null,[[12,20,22,34]])})),fetchProLinkList:o().mark((function e(t,n){var r,i,c,s,l,d,h,m,v,y,g,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.select,s=n.call,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,d=l.nextSpu,h=p.t.get(p.V.backProjectConfig).id,e.prev=7,e.next=10,s(u.IC,(0,a.Z)({projectId:h||r.projectId},r));case 10:if(m=e.sent,2e4!==(v=m.data).code){e.next=19;break}return y=v.result.list,g=Array.isArray(y)&&y[0]?y[0].spu:void 0,x=g&&d&&d===g?y[1]?y[1].spu:void 0:g,e.next=18,i.resolve({type:"save",payload:{nextSpu:x}});case 18:return e.abrupt("return",x);case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}}),e,null,[[7,21]])})),fetchIgnore:o().mark((function e(t,n){var r,i,c,u,l,d,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:return u=e.sent,l=u.searchTitleWord,d=p.t.get(p.V.backProjectConfig).id,e.prev=7,e.next=10,i(s.Vu,{projectId:d||r.projectId,batchIgnoreId:r.batchIgnoreId,searchTitleWord:l,connectionType:r.connectionType,isAll:r.isAll});case 10:if(h=e.sent,2e4!==(m=h.data).code){e.next=14;break}return e.abrupt("return",m);case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(7);case 18:case"end":return e.stop()}}),e,null,[[7,16]])})),setDefaultValue:o().mark((function e(t,n){var r,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=p.t.get(p.V.backProjectConfig).id,e.prev=3,e.next=6,i(l.sR,(0,a.Z)({projectId:c||r.projectId},r));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}}),e,null,[[3,8]])})),getDefaultValue:o().mark((function e(t,n){var r,i,c,s,u,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=p.t.get(p.V.backProjectConfig).id,e.prev=3,e.next=6,i(l.oG,(0,a.Z)({projectId:s||r.projectId},r));case 6:if(u=e.sent,2e4!==(d=u.data).code){e.next=11;break}return e.next=11,c({type:"save",payload:{defaultEnterTopic:d.result?JSON.parse(d.result):""}});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(3);case 15:case"end":return e.stop()}}),e,null,[[3,13]])})),resetDataDispatch:o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,e.next=3,r({type:"resetData"});case 3:case"end":return e.stop()}}),e)}))}}},26582:(e,t,n)=>{"use strict";n.d(t,{j2:()=>c,po:()=>u,gD:()=>p,HE:()=>f,ZS:()=>m,Vk:()=>y,Nz:()=>x,IC:()=>b,Vu:()=>E});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722);function c(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.values,e.abrupt("return",o.h.post("/subscribe-topic-value/suggest",{projectId:n,values:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.connectionId,a=t.connectionType,c=t.packageType,s=t.topicList,u=t.name,l=t.url,p=t.esId,d=t.prop,f=t.urlTopics,h=t.addFrom,m=t.userConnectionId,e.abrupt("return",o.h.post("/subproject-connection/add",{projectId:n,connectionId:r,connectionType:a,packageType:c,topicList:s,name:u,url:l,esId:p,prop:d,urlTopics:f,addFrom:h,userConnectionId:m}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hideExistsTasks,r=t.pageIndex,a=t.pageSize,c=t.sortModel,s=t.projectId,u=t.url,l=t.cookie,e.abrupt("return",o.h.post("/connection/smart/find",{hideExistsTasks:n,pageIndex:r,pageSize:a,sortModel:c,projectId:s,url:u,cookie:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connectionId,r=t.projectId,a=t.esId,e.abrupt("return",o.h.post("/subproject-connection/prop/find",{connectionId:n,projectId:r,esId:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageSize,a=t.pageIndex,c=t.name,s=t.valueFrom,e.abrupt("return",o.h.post("/subscribe-topic/list",{projectId:n,pageSize:r,pageIndex:a,name:c,valueFrom:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function e(t){var n,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connectionId,r=t.esId,a=t.projectId,c=t.userConnectionId,e.abrupt("return",o.h.post("/subproject-connection/topic/values",{connectionId:n,esId:r,projectId:a,userConnectionId:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.batchNo,r=t.projectId,e.abrupt("return",o.h.post("/maintainedConnection/list",{batchNo:n,projectId:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.spuId,a=t.connectionType,e.abrupt("return",o.h.post("/subproject-connection/handle/list",{projectId:n,spuId:r,connectionType:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.batchIgnoreId,a=t.connectionType,c=void 0===a?"DEFAULT":a,s=t.searchTitleWord,u=t.isAll,l=void 0!==u&&u,e.abrupt("return",o.h.post("/subproject-connection/ignore/batch",{projectId:n,batchIgnoreId:r,connectionType:c,searchTitleWord:s,isAll:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},47501:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(74644),u=n(26582),l=n(35239),p=n(5133),d=n(33973),f=n(87219),h=c.Z.product.comment.linkManagement;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var m={searchTitleWord:"",dataList:[],ucConnectionIdList:[],list:void 0,listChart:{},listStatus:[],total:0,pageIndex:1,pageSize:10,spuGroupList:void 0,skuGroupList:void 0,sourceList:void 0,packageType:void 0,spuList:void 0,skuList:void 0,settingOpts:void 0,type:"all",details:[],topicOpts:void 0,projectId:void 0,connectionType:void 0,selTypes:null,isSelectAll:!1,isRecycleBin:!1},v=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const y={namespace:h,state:m,reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},m)},onSelectAll:function(e,t){t.payload;var n=e.list,r=e.dataList.length===n.length,i=n.map((function(e){return e.select=!r,e}));return(0,a.Z)({},e,{list:i,dataList:r?[]:i,isSelectAll:!r})},onSelectDataList:function(e,t){var n=t.payload.spuId,r=e.list,i=e.dataList;n&&(i.find((function(e){return e.id===n}))?(r.find((function(e){return e.id===n})).select=!1,i=i.filter((function(e){return e.id!==n}))):(r.find((function(e){return e.id===n})).select=!0,i.push(r.find((function(e){return e.id===n})))));return(0,a.Z)({},e,{dataList:[].concat(i),list:r})}},effects:{fetchCountMsg:o().mark((function e(t,n){var r,i,c,u,p,d,f,m,v,y,g,x,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.call,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[h]}));case 4:return p=e.sent,d=p.connectionType,f=p.list,m=l.t.get(l.V.backProjectConfig).id,v=[],e.prev=9,y={projectId:m,skuSyncs:r.skuSyncs,connectionType:d},e.next=13,c(s.eM,y);case 13:if(g=e.sent,2e4!==(x=g.data).code){e.next=20;break}return v=(f||[]).map((function(e){return(0,a.Z)({},e,{infoCount:x.result[e.sync_key].count1,three:x.result[e.sync_key].count2})})),e.next=20,i({type:"save",payload:(0,a.Z)({},r,{list:v})});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(9);case 24:return e.prev=24,I=[],f.map((function(e){return I.push(e.sync_key)})),e.next=29,i({type:"fetchRecentTrend",payload:{skuSyncs:I}});case 29:return e.finish(24);case 30:case"end":return e.stop()}}),e,null,[[9,22,24,30]])})),fetchRecentTrend:o().mark((function e(t,n){var r,i,c,u,p,d,f,m,v,y,g,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.call,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[h]}));case 4:return p=e.sent,d=p.connectionType,f=p.list,m=l.t.get(l.V.backProjectConfig).id,v=[],e.prev=9,y={projectId:m,skuSyncs:r.skuSyncs,connectionType:d},e.next=13,c(s.U2,y);case 13:if(g=e.sent,2e4!==(x=g.data).code){e.next=19;break}return v=(f||[]).map((function(e){return(0,a.Z)({},e,{trend:x.result[e.sync_key]})})),e.next=19,i({type:"save",payload:(0,a.Z)({},r,{list:v})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(9);case 23:case"end":return e.stop()}}),e,null,[[9,21]])})),fetchAllTopics:o().mark((function e(t,n){var r,i,c,u,p,d,f,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.call,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[h]}));case 4:return p=e.sent,d=p.selTypes,f=l.t.get(l.V.backProjectConfig).id,m={},v=[],e.prev=9,e.next=12,c(s.oY,{projectId:r.projectId||f});case 12:y=e.sent,2e4===(g=y.data).code&&g.result.total>0&&(v=[].concat(g.result.list.map((function(e){return{value:e.name,label:e.name,id:e.id}}))),m.settingOpts=v,d||(m.selTypes=[v[0].value])),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.prev=19,e.next=22,i({type:"save",payload:(0,a.Z)({},r,m)});case 22:return e.finish(19);case 23:return e.abrupt("return",v);case 24:case"end":return e.stop()}}),e,null,[[9,17,19,23]])})),fetchAllTopicsValue:o().mark((function e(t,n){var r,a,i,c,u,p,f,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,i=n.call,c=l.t.get(l.V.backProjectConfig).id,e.prev=3,u=r.topicId,p={topicId:u,projectId:c},e.next=8,i(s.NA,p);case 8:if(f=e.sent,2e4!==(h=f.data).code){e.next=13;break}return e.next=13,a({type:"save",payload:(m={},m["topic_"+u]=-1111!==u?h.result.list.map((function(e){return{id:e.id,name:e.value}})):d.$R,m)});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(3);case 17:case"end":return e.stop()}}),e,null,[[3,15]])})),fetchLinkList:o().mark((function e(t,n){var r,i,c,u,p,d,f,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O,_,j,A,D,M,R,L,P;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.call,u=n.select,e.next=5,u((function(e){return(0,a.Z)({},e)[h]}));case 5:if(p=e.sent,d=p.pageIndex,f=p.pageSize,m=p.projectId,p.dataList,v=p.spuGroupList,y=p.sourceList,g=p.packageType,x=p.skuGroupList,I=p.type,b=p.listStatus,T=p.connectionType,E=p.isRecycleBin,w=p.searchTitleWord,k=[],C=0,S={},N={},O=[],_=b,j=sessionStorage.getItem(l.V.linkManagementFilter),S=(0,a.Z)({},JSON.parse(j),r.searchTopics),e.prev=25,A={salesStatus:r.salesStatus,searchTopics:S,searchTitleWord:r.searchTitleWord||w,pageIndex:r.pageIndex||d,pageSize:r.pageSize||f,projectId:m||l.t.get(l.V.backProjectConfig).id,spuGroupList:r.spuGroupList||v,skuGroupList:r.skuGroupList||x,sourceList:r.sourceList||y,packageType:r.packageType||g,type:r.type||I,connectionType:r.connectionType||T},E){e.next=33;break}return e.next=30,c(s.IC,A);case 30:e.t0=e.sent,e.next=36;break;case 33:return e.next=35,c(s.Kx,A);case 35:e.t0=e.sent;case 36:if(D=e.t0,2e4===(M=D.data).code&&M.result.total>0&&(k=M.result.list,C=M.result.total,O.push.apply(O,M.result.list.map((function(e){return{id:e.id,select:!1}}))),_=[]),M){for(R in S)S[R].length<=0&&delete S[R];if(sessionStorage.setItem(l.V.linkManagementFilter,JSON.stringify((0,a.Z)({},S))),S&&"{}"!==JSON.stringify(S))for(L in S)N["values_"+L]=S[L]}e.next=44;break;case 42:e.prev=42,e.t1=e.catch(25);case 44:if(e.prev=44,!r.id){e.next=51;break}return e.next=49,i({type:"save",payload:{listStatus:_}});case 49:e.next=53;break;case 51:return e.next=53,i({type:"save",payload:(0,a.Z)({},r,{dataList:[],total:C,list:k,listStatus:_},N)});case 53:if(!(k&&k.length>0)){e.next=58;break}return P=[],k.map((function(e){return P.push(e.sync_key)})),e.next=58,i({type:"fetchCountMsg",payload:{skuSyncs:P}});case 58:return e.finish(44);case 59:return e.abrupt("return",k);case 60:case"end":return e.stop()}}),e,null,[[25,42,44,59]])})),fetchHotData:o().mark((function e(t,n){var r,i,c,u,l,p,d,f,m,v,y,g,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,p=l.projectId,d=l.listChart,f=l.connectionType,m=r.trendId,v=r.spuId,e.next=11,i(s.dP,{projectId:r.projectId||p,trendId:m,connectionType:f});case 11:return y=e.sent,(g=d[v])?(x=g.find((function(e){return e.id===m})))?x.chart=y.data.result.list.map((function(e){return e.doc_count})):g.push({id:m,chart:y.data.result.list.map((function(e){return e.doc_count}))}):d[v]=[{id:m,chart:y.data.result.list.map((function(e){return e.doc_count}))}],e.next=16,u({type:"save",payload:{listChart:d}});case 16:return e.abrupt("return",y);case 17:case"end":return e.stop()}}),e)})),fetchDetail:o().mark((function e(t,n){var r,i,c,u,l,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,p=l.projectId,e.next=8,i(s.RR,{connectionId:r.connectionId,projectId:p});case 8:if(2e4!==(d=e.sent).data.code){e.next=12;break}return e.next=12,u({type:"save",payload:{details:d.data.result}});case 12:return e.abrupt("return",d);case 13:case"end":return e.stop()}}),e)})),fetchEntryOpts:o().mark((function e(t,n){var r,i,c,u,p,d,f,m,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return p=e.sent,d=p.searchTitleWord,f=p.projectId,e.prev=7,e.next=10,i(s.AI,{projectId:r.projectId||f});case 10:if(m=e.sent,2e4!==(v=m.data).code){e.next=19;break}if(l.t.remove(l.V.newEntry),r.id){e.next=17;break}return e.next=17,u({type:"fetchLinkList",payload:{projectId:r.projectId||f,searchTitleWord:d}});case 17:return e.next=19,u({type:"save",payload:(0,a.Z)({},r,{spuList:v.result.spuList,skuList:v.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}}),e,null,[[7,21]])})),fetchAdd:o().mark((function e(t,n){var r,i,c,u,l,d,f,m,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,d=l.projectId,f=l.connectionType,m=l.searchTitleWord,e.prev=8,e.next=11,i(s.xZ,(0,a.Z)({projectId:d},r,{connectionType:f}));case 11:if(y=e.sent,2e4!==y.data.code){e.next=20;break}return p.Z.success("\u6dfb\u52a0\u6210\u529f"),g=r.id,e.next=18,i(v,200);case 18:return e.next=20,u({type:"fetchLinkList",payload:{projectId:d,searchTitleWord:m,id:g}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(8);case 24:case"end":return e.stop()}}),e,null,[[8,22]])})),fetchRemoveAll:o().mark((function e(t,n){var r,i,c,u,l,d,f,m,v,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,d=l.projectId,f=l.searchTitleWord,m=l.connectionType,e.prev=8,e.next=11,i(s.Fs,{projectId:d,notRemoveId:r.notRemoveId,searchTitleWord:f,connectionType:m});case 11:if(v=e.sent,!(2e4===(y=v.data).code&&y.result.total>0)){e.next=18;break}if(p.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u5df2\u79fb\u51fa\u201d"),!r.isList){e.next=18;break}return e.next=18,u({type:"fetchLinkList",payload:{projectId:d,searchTitleWord:f}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}}),e,null,[[8,20]])})),fetchRemove:o().mark((function e(t,n){var r,i,c,u,l,d,f,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,d=l.projectId,f=l.searchTitleWord,m=l.connectionType,e.prev=8,v=r.batchRemoveId,y=r.searchTopics,e.next=12,i(s.VI,{projectId:d,batchRemoveId:v,searchTitleWord:f,connectionType:m,searchTopics:y});case 12:if(g=e.sent,2e4!==g.data.code){e.next=19;break}if(p.Z.success("\u5220\u9664\u6570\u636e\u6210\u529f"),!r.isList){e.next=19;break}return e.next=19,u({type:"fetchLinkList",payload:{projectId:d,searchTitleWord:f}});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(8);case 23:case"end":return e.stop()}}),e,null,[[8,21]])})),fetchReduction:o().mark((function e(t,n){var r,i,c,u,l,d,f,m,v,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,d=l.projectId,f=l.searchTitleWord,m=l.connectionType,e.prev=8,v=r.bathReductionId,y=r.searchTopics,e.next=12,i(s._w,{projectId:d,bathReductionId:v,searchTitleWord:f,connectionType:m,searchTopics:y});case 12:if(g=e.sent,2e4!==g.data.code){e.next=18;break}return p.Z.success("\u8fd8\u539f\u6570\u636e\u6210\u529f"),e.next=18,u({type:"fetchLinkList",payload:{projectId:d,searchTitleWord:f}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}}),e,null,[[8,20]])})),fetchIgnoreSingle:o().mark((function e(t,n){var r,i,c,u,l,d,m,v,y,g,x,I,b,T,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,d=l.projectId,m=l.listStatus,v=l.connectionType,e.prev=8,y=r.ignoreId,g=r.id,x=r.connectionType,I=r.projectId,e.next=12,i(s.hj,{projectId:I||d,ignoreId:y,connectionType:x||v});case 12:if(b=e.sent,2e4!==(T=b.data).code){e.next=21;break}if(p.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u5df2\u5ffd\u7565\u201d"),!(E=m.find((function(e){return e.id===g})))||!E.skus.find((function(e){return e.id===g}))){e.next=20;break}return e.next=20,u({type:"save",payload:{listStatus:(0,f.ZP)(m,(function(e){e.find((function(e){return e.id===g})).skus.find((function(e){return e.id===y})).subscribeStatus="IGNORE"}))}});case 20:return e.abrupt("return",T.result);case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(8);case 25:case"end":return e.stop()}}),e,null,[[8,23]])})),fetchIgnoreAll:o().mark((function e(t,n){var r,i,c,u,l,d,f,m,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,d=l.projectId,f=l.searchTitleWord,m=l.connectionType,e.prev=8,e.next=11,i(s.vH,{projectId:d,notIgnoreId:r.notIgnoreId,searchTitleWord:f,connectionType:m});case 11:if(v=e.sent,2e4!==v.data.code){e.next=17;break}return p.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u5df2\u5ffd\u7565\u201d"),e.next=17,u({type:"fetchLinkList",payload:{projectId:d,searchTitleWord:f}});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}}),e,null,[[8,19]])})),fetchTopicOpts:o().mark((function e(t,n){var r,i,c,u,l,p,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,i=n.select,c=n.put,e.next=4,i((function(e){return(0,a.Z)({},e)[h]}));case 4:return u=e.sent,l=u.projectId,p=[],e.prev=7,e.next=10,r(s.hl,{projectId:l,valueFrom:[l]});case 10:d=e.sent,2e4===(f=d.data).code&&(p=f.result.result.filter((function(e){return"USER_CUSTOMIZE"===e.topicType}))),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,c({type:"save",payload:{topicOpts:p}});case 20:return e.finish(17);case 21:return e.abrupt("return",p);case 22:case"end":return e.stop()}}),e,null,[[7,15,17,21]])})),fetchTopicValue:o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.select,n.put,e.next=4,a(s._c,{projectId:r.projectId,valueFrom:[r.projectId],topicId:r.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),fetchAddTopicValue:o().mark((function e(t,n){var r,i,c,u,l,p,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,p=l.projectId,e.next=8,i(s.IU,{projectId:p,topicId:r.topicId,value:r.value});case 8:if(d=e.sent,2e4!==(f=d.data).code){e.next=13;break}return e.next=13,u({type:"fetchTopicValue",payload:{projectId:p,topicId:r.topicId}});case 13:return e.abrupt("return",f);case 14:case"end":return e.stop()}}),e)})),getFlavors:o().mark((function e(t,n){var r,i,c,u,l,p,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,p=l.projectId,e.prev=6,e.next=9,i(s.oG,{projectId:r.projectId||p});case 9:if(d=e.sent,2e4!==(f=d.data).code){e.next=14;break}return e.next=14,u({type:"save",payload:{selTypes:f.result?JSON.parse(f.result):f.result}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),updateFlavors:o().mark((function e(t,n){var r,i,c,u,l,p,d,f,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return l=e.sent,p=l.projectId,d=l.selTypes,e.prev=7,f=r.selTypes||d,e.next=11,i(s.sR,{projectId:p,value:JSON.stringify(f)});case 11:if(m=e.sent,2e4!==m.data.code){e.next=16;break}return e.next=16,u({type:"save",payload:{selTypes:f}});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])})),updateDefaultTopic:o().mark((function e(t,n){var r,i,c,u,p,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,n.put,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return u=e.sent,p=u.selTypes,d=r.projectId||l.t.get(l.V.backProjectConfig).id,e.prev=7,f=r.selTypes||p,e.next=11,i(s.sR,{projectId:d,value:JSON.stringify(f)});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:case"end":return e.stop()}}),e,null,[[7,13]])})),getSingleLinkList:o().mark((function e(t,n){var i,c,s,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=i.projectId||l.t.get(l.V.backProjectConfig).id,e.prev=3,e.next=6,c(u.gD,(0,a.Z)({},i,{projectId:s}));case 6:if(p=e.sent,2e4!==(d=p.data).code){e.next=11;break}if(!d.result){e.next=11;break}return e.abrupt("return",d.result);case 11:return r.default.destroy(),e.abrupt("return",{type:"error",data:d});case 15:return e.prev=15,e.t0=e.catch(3),r.default.destroy(),e.abrupt("return",{type:"error",data:null==e.t0?void 0:e.t0.data});case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))}}},74644:(e,t,n)=>{"use strict";n.d(t,{Kx:()=>s,IC:()=>l,oY:()=>d,NA:()=>h,dP:()=>v,hj:()=>g,_w:()=>I,VI:()=>T,Fs:()=>w,vH:()=>C,xZ:()=>N,AI:()=>_,RR:()=>A,hl:()=>M,_c:()=>L,IU:()=>F,oG:()=>V,sR:()=>U,eM:()=>q,U2:()=>H});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722),c="PRODUCT_CONFIG_LINK_FILTER";function s(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageIndex,a=t.pageSize,c=t.searchTitleWord,s=t.searchTopics,u=t.spuGroupList,l=t.skuGroupList,p=t.sourceList,d=t.packageType,f=t.type,h=t.connectionType,m=void 0===h?"DEFAULT":h,v=t.salesStatus,e.abrupt("return",o.h.post("/subproject-connection/recycleList",{projectId:n,pageIndex:r,pageSize:a,searchTitleWord:c,searchTopics:s,spuGroupList:u,skuGroupList:l,sourceList:p,packageType:d,type:f,connectionType:m,salesStatus:v}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageIndex,a=t.pageSize,c=t.searchTitleWord,s=t.searchTopics,u=t.spuGroupList,l=t.skuGroupList,p=t.sourceList,d=t.packageType,f=t.type,h=t.connectionType,m=void 0===h?"DEFAULT":h,v=t.salesStatus,e.abrupt("return",o.h.post("/subproject-connection/smartList",{projectId:n,pageIndex:r,pageSize:a,searchTitleWord:c,searchTopics:s,spuGroupList:u,skuGroupList:l,sourceList:p,packageType:d,type:f,connectionType:m,salesStatus:v}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/subproject-connection/topic/allName",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topicId,r=t.projectId,e.abrupt("return",o.h.post("/subproject-connection/topic/allValue",{topicId:n,projectId:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.trendId,r=t.projectId,a=t.connectionType,e.abrupt("return",o.h.post("/subproject-connection/trend",{trendId:n,projectId:r,connectionType:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.ignoreId,a=t.connectionType,e.abrupt("return",o.h.post("/subproject-connection/ignore/single",{projectId:n,ignoreId:r,connectionType:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.bathReductionId,a=t.searchTitleWord,c=t.connectionType,s=t.searchTopics,e.abrupt("return",o.h.post("/subproject-connection/reduction/batch",{projectId:n,bathReductionId:r,searchTitleWord:a,connectionType:c,searchTopics:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.batchRemoveId,a=t.searchTitleWord,c=t.connectionType,s=t.searchTopics,e.abrupt("return",o.h.post("/subproject-connection/remove/batch",{projectId:n,batchRemoveId:r,searchTitleWord:a,connectionType:c,searchTopics:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.notRemoveId,a=t.searchTitleWord,c=t.connectionType,s=void 0===c?"DEFAULT":c,e.abrupt("return",o.h.post("/subproject-connection/remove/all",{projectId:n,notRemoveId:r,searchTitleWord:a,connectionType:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.notIgnoreId,a=t.searchTitleWord,c=t.connectionType,s=void 0===c?"DEFAULT":c,e.abrupt("return",o.h.post("/subproject-connection/ignore/all",{projectId:n,notIgnoreId:r,searchTitleWord:a,connectionType:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return O.apply(this,arguments)}function O(){return(O=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.esId,a=t.spuId,c=t.spuName,s=t.skuId,u=t.skuName,l=t.name,p=t.url,d=t.sourceId,f=t.connectionId,h=t.customizeConfig,m=t.connectionType,v=t.packageType,e.abrupt("return",o.h.post("/subproject-connection/add",{projectId:n,esId:r,spuId:a,spuName:c,skuId:s,skuName:u,name:l,url:p,sourceId:d,connectionId:f,customizeConfig:h,connectionType:m,packageType:v}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return(D=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.connectionId,e.abrupt("return",o.h.post("/subproject-connection/find",{projectId:n,connectionId:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return R.apply(this,arguments)}function R(){return(R=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageSize,a=void 0===r?100:r,c=t.pageIndex,s=void 0===c?1:c,u=t.name,l=void 0===u?"":u,p=t.valueFrom,e.abrupt("return",o.h.post("/subscribe-topic/list",{projectId:n,pageIndex:s,pageSize:a,name:l,valueFrom:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,c=t.valueFrom,s=t.pageSize,u=void 0===s?1e3:s,l=t.pageIndex,p=void 0===l?1:l,e.abrupt("return",o.h.post("/subscribe-topic-value/list",{projectId:n,topicId:r,value:a,valueFrom:c,pageSize:u,pageIndex:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,e.abrupt("return",o.h.post("/subscribe-topic-value/add",{projectId:n,topicId:r,value:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.key,a=void 0===r?c:r,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(i().mark((function e(t){var n,r,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.key,s=void 0===a?c:a,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:s,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return W.apply(this,arguments)}function W(){return(W=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connectionType,r=t.skuSyncs,a=t.projectId,e.abrupt("return",o.h.post("/subproject-connection/smartList/countMsg/count",{projectId:a,skuSyncs:r,connectionType:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connectionType,r=t.skuSyncs,a=t.projectId,e.abrupt("return",o.h.post("/subproject-connection/smartList/trend/find",{projectId:a,skuSyncs:r,connectionType:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},33973:(e,t,n)=>{"use strict";n.d(t,{D2:()=>r,Zj:()=>a,$9:()=>i,$R:()=>o}),Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var r={"SPU\u8bcd\u6761":"spuGroupList","SKU\u8bcd\u6761":"skuGroupList","\u5e73\u53f0":"sourceList","\u9500\u552e\u7248\u672c":"packageType"},a=function(e){var t={};return e&&e.length?e.reduce((function(e,n){return!t[n.name]&&(t[n.name]=e.push(n)),e}),[]):[]},i=function(e,t){var n=[];return t&&t.length&&t.forEach((function(t){var r=e.find((function(e){return e.id===t})).name;e.forEach((function(e){e.name===r&&n.push(e.id)}))})),n},o=[{id:"\u672a\u77e5",name:"\u672a\u77e5"},{id:"\u5957\u88c5",name:"\u5957\u88c5"},{id:"\u975e\u5957\u88c5",name:"\u975e\u5957\u88c5"},{id:"\u672a\u5904\u7406",name:"\u672a\u5904\u7406"}]},4083:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(87462),a=n(64396),i=n(78144),o=a.Z.product.setting.public,c={titles:(0,i.Y)()};const s={namespace:o,state:c,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},c)},titleChange:function(e,t){var n=t.payload;return(0,r.Z)({},e,{titles:(0,i.Y)(n)})}},effects:{}}},3680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>X});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(15861),s=n(49722),u="PRODUCT_CONFIG_LINK_FILTER";function l(e){return p.apply(this,arguments)}function p(){return(p=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageIndex,a=t.pageSize,o=t.searchTitleWord,c=t.searchTopics,u=t.spuGroupList,l=t.skuGroupList,p=t.sourceList,d=t.packageType,f=t.type,h=t.connectionType,m=void 0===h?"DEFAULT":h,e.abrupt("return",s.h.post("/subproject-connection/smartList",{projectId:n,pageIndex:r,pageSize:a,searchTitleWord:o,searchTopics:c,spuGroupList:u,skuGroupList:l,sourceList:p,packageType:d,type:f,connectionType:m}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,c.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",s.h.post("/subproject-connection/topic/allName",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topicId,r=t.projectId,e.abrupt("return",s.h.post("/subproject-connection/topic/allValue",{topicId:n,projectId:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.trendId,r=t.projectId,a=t.connectionType,e.abrupt("return",s.h.post("/subproject-connection/trend",{trendId:n,projectId:r,connectionType:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.ignoreId,a=t.connectionType,e.abrupt("return",s.h.post("/subproject-connection/ignore/single",{projectId:n,ignoreId:r,connectionType:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return b.apply(this,arguments)}function b(){return(b=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.batchRemoveId,a=t.searchTitleWord,o=t.connectionType,e.abrupt("return",s.h.post("/subproject-connection/remove/batch",{projectId:n,batchRemoveId:r,searchTitleWord:a,connectionType:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.notRemoveId,a=t.searchTitleWord,o=t.connectionType,c=void 0===o?"DEFAULT":o,e.abrupt("return",s.h.post("/subproject-connection/remove/all",{projectId:n,notRemoveId:r,searchTitleWord:a,connectionType:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.batchIgnoreId,a=t.searchTitleWord,e.abrupt("return",s.h.post("/subproject-connection/ignore/batch",{projectId:n,batchIgnoreId:r,searchTitleWord:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.notIgnoreId,a=t.searchTitleWord,o=t.connectionType,c=void 0===o?"DEFAULT":o,e.abrupt("return",s.h.post("/subproject-connection/ignore/all",{projectId:n,notIgnoreId:r,searchTitleWord:a,connectionType:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.esId,a=t.spuId,o=t.spuName,c=t.skuId,u=t.skuName,l=t.name,p=t.url,d=t.sourceId,f=t.connectionId,h=t.customizeConfig,m=t.connectionType,v=t.packageType,e.abrupt("return",s.h.post("/subproject-connection/add",{projectId:n,esId:r,spuId:a,spuName:o,skuId:c,skuName:u,name:l,url:p,sourceId:d,connectionId:f,customizeConfig:h,connectionType:m,packageType:v}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return j.apply(this,arguments)}function j(){return(j=(0,c.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",s.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return(D=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.connectionId,e.abrupt("return",s.h.post("/subproject-connection/find",{projectId:n,connectionId:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return R.apply(this,arguments)}function R(){return(R=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageSize,a=void 0===r?100:r,o=t.pageIndex,c=void 0===o?1:o,u=t.name,l=void 0===u?"":u,p=t.valueFrom,e.abrupt("return",s.h.post("/subscribe-topic/list",{projectId:n,pageIndex:c,pageSize:a,name:l,valueFrom:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,o=t.valueFrom,c=t.pageSize,u=void 0===c?1e3:c,l=t.pageIndex,p=void 0===l?1:l,e.abrupt("return",s.h.post("/subscribe-topic-value/list",{projectId:n,topicId:r,value:a,valueFrom:o,pageSize:u,pageIndex:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,e.abrupt("return",s.h.post("/subscribe-topic-value/add",{projectId:n,topicId:r,value:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return z.apply(this,arguments)}function z(){return(z=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.key,a=void 0===r?u:r,e.abrupt("return",s.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.key,o=void 0===a?u:a,e.abrupt("return",s.h.post("/default/value/update",{projectId:n,key:o,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=n(35239),W=n(5133);Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var H=function(e){return e.deepcopy().map((function(e){return e.skus&&(e.skus=e.skus.map((function(e){return e.select=!1,e}))),e.select=!1,e}))},G=[{id:"\u672a\u77e5",name:"\u672a\u77e5"},{id:"\u5957\u88c5",name:"\u5957\u88c5"},{id:"\u975e\u5957\u88c5",name:"\u975e\u5957\u88c5"},{id:"\u672a\u5904\u7406",name:"\u672a\u5904\u7406"}],Y=n(87219),J=o.Z.product.setting.link;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var K={searchTitleWord:"",dataList:[],list:void 0,listChart:{},listStatus:[],total:0,pageIndex:1,pageSize:10,searchTopics:void 0,spuGroupList:void 0,skuGroupList:void 0,sourceList:void 0,packageType:void 0,spuList:void 0,skuList:void 0,settingOpts:void 0,type:"all",details:[],topicOpts:void 0,projectId:void 0,connectionType:void 0,selTypes:["\u54c1\u724c"],isSelectAll:!1},Q=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const X={namespace:J,state:Object.assign({},K),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},K)},onSelectAll:function(e,t){var n=t.payload,a=e.dataList,i=n.value;return(0,r.Z)({},e,{dataList:H(a),isSelectAll:void 0===i?!e.isSelectAll:i})},onSelectDataList:function(e,t){var n=t.payload,a=n.spuId,i=n.skuId,o=n.value,c=e.dataList;return a&&i?c.find((function(e){return e.id===a})).skus.find((function(e){return e.id===i})).select=o:i||c.find((function(e){return e.id===a})).skus.forEach((function(e){return e.select=o})),(0,r.Z)({},e,{dataList:c.deepcopy()})}},effects:{fetchAllTopics:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,u=q.t.get(q.V.curProject),l=u.notShowTopicList,e.next=5,s((function(e){return(0,r.Z)({},e)[J]}));case 5:return p=e.sent,f=p.projectId,h=[],e.prev=8,e.next=11,c(d,{projectId:a.projectId||f});case 11:m=e.sent,2e4===(v=m.data).code&&v.result.total>0&&(h=[].concat(v.result.list.map((function(e){return{value:e.name,label:e.name,id:e.id}})),[{value:"SPU\u8bcd\u6761",label:"SPU\u8bcd\u6761",id:-1},{value:"SKU\u8bcd\u6761",label:"SKU\u8bcd\u6761",id:-11},{value:"\u5e73\u53f0",label:"\u5e73\u53f0",id:-111},{value:"\u9500\u552e\u7248\u672c",label:"\u9500\u552e\u7248\u672c",id:-1111}]),h=l&&l.includes("PACKAGE_TYPE")?h.filter((function(e){return-1111!==e.id})):h),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,o({type:"save",payload:(0,r.Z)({},a,{settingOpts:h})});case 21:return e.finish(18);case 22:return e.abrupt("return",h);case 23:case"end":return e.stop()}}),e,null,[[8,16,18,22]])})),fetchAllTopicsValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,p=a.topicId,d={topicId:p},-11!==p&&-1!==p||(d.projectId=a.projectId||l),e.next=12,c(h,d);case 12:if(f=e.sent,2e4!==(m=f.data).code){e.next=17;break}return e.next=17,o({type:"save",payload:(v={},v["topic_"+p]=-1111!==p?m.result.list.map((function(e){return{id:e.id,name:e.value}})):G,v)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(6);case 21:case"end":return e.stop()}}),e,null,[[6,19]])})),fetchLinkList:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,p=u.pageIndex,d=u.pageSize,f=u.projectId,u.dataList,h=u.searchTopics,m=u.spuGroupList,v=u.sourceList,y=u.packageType,g=u.skuGroupList,x=u.type,I=u.listStatus,b=u.connectionType,T="error",E=0,w=[],k=I,e.prev=20,C={searchTopics:(0,r.Z)({},h,a.searchTopics),searchTitleWord:a.searchTitleWord,pageIndex:a.pageIndex||p,pageSize:a.pageSize||d,projectId:a.projectId||f,spuGroupList:a.spuGroupList||m,skuGroupList:a.skuGroupList||g,sourceList:a.sourceList||v,packageType:a.packageType||y,type:a.type||x,connectionType:b},e.next=24,c(l,C);case 24:S=e.sent,2e4===(N=S.data).code&&N.result.total>0?(w.push.apply(w,N.result.list.map((function(e){return{id:e.id,select:!1,skus:e.skus.map((function(e){return{id:e.id,select:!1}}))}}))),k=[].concat(N.result.list.map((function(e){return{id:e.id,spuName:e.spuName,skuName:e.skuName,spuId:e.spuId,skuId:e.skuId,skus:e.skus.map((function(e){return(0,r.Z)({},e,{id:e.id,subscribeStatus:e.subscribeStatus})}))}}))),T=N.result.list,E=N.result.total):T=[],e.next=31;break;case 29:e.prev=29,e.t0=e.catch(20);case 31:if(e.prev=31,!a.id){e.next=38;break}return e.next=36,o({type:"save",payload:{listStatus:k}});case 36:e.next=40;break;case 38:return e.next=40,o({type:"save",payload:(0,r.Z)({},a,{searchTopics:(0,r.Z)({},h,a.searchTopics),dataList:w,total:E,list:T,listStatus:k})});case 40:return e.finish(31);case 41:return e.abrupt("return",T);case 42:case"end":return e.stop()}}),e,null,[[20,29,31,41]])})),fetchHotData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,p=u.listChart,d=u.connectionType,f=a.trendId,h=a.spuId,e.next=11,o(v,{projectId:a.projectId||l,trendId:f,connectionType:d});case 11:return m=e.sent,(y=p[h])?(g=y.find((function(e){return e.id===f})))?g.chart=m.data.result.list.map((function(e){return e.doc_count})):y.push({id:f,chart:m.data.result.list.map((function(e){return e.doc_count}))}):p[h]=[{id:f,chart:m.data.result.list.map((function(e){return e.doc_count}))}],e.next=16,s({type:"save",payload:{listChart:p}});case 16:return e.abrupt("return",m);case 17:case"end":return e.stop()}}),e)})),fetchDetail:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,e.next=8,o(A,{connectionId:a.connectionId,projectId:l});case 8:if(2e4!==(p=e.sent).data.code){e.next=12;break}return e.next=12,s({type:"save",payload:{details:p.data.result}});case 12:return e.abrupt("return",p);case 13:case"end":return e.stop()}}),e)})),fetchEntryOpts:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.searchTitleWord,p=u.projectId,e.prev=7,e.next=10,o(_,{projectId:a.projectId||p});case 10:if(d=e.sent,2e4!==(f=d.data).code){e.next=19;break}if(q.t.remove(q.V.newEntry),a.id){e.next=17;break}return e.next=17,s({type:"fetchLinkList",payload:{projectId:a.projectId||p,searchTitleWord:l}});case 17:return e.next=19,s({type:"save",payload:(0,r.Z)({},a,{spuList:f.result.spuList,skuList:f.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}}),e,null,[[7,21]])})),fetchAdd:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,p=u.connectionType,d=u.searchTitleWord,e.prev=8,e.next=11,o(N,(0,r.Z)({projectId:l},a,{connectionType:p}));case 11:if(f=e.sent,2e4!==f.data.code){e.next=20;break}return W.Z.success("\u6dfb\u52a0\u6210\u529f"),h=a.id,e.next=18,o(Q,200);case 18:return e.next=20,s({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:d,id:h}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(8);case 24:case"end":return e.stop()}}),e,null,[[8,22]])})),fetchRemoveAll:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,p=u.searchTitleWord,d=u.connectionType,e.prev=8,e.next=11,o(T,{projectId:l,notRemoveId:a.notRemoveId,searchTitleWord:p,connectionType:d});case 11:if(f=e.sent,!(2e4===(h=f.data).code&&h.result.total>0)){e.next=18;break}if(W.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u5df2\u79fb\u51fa\u201d"),!a.isList){e.next=18;break}return e.next=18,s({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:p}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}}),e,null,[[8,20]])})),fetchRemove:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,p=u.listStatus,d=u.searchTitleWord,f=u.connectionType,e.prev=9,h=a.id,m=a.batchRemoveId,e.next=13,o(I,{projectId:l,batchRemoveId:m,searchTitleWord:d,connectionType:f});case 13:if(v=e.sent,!(2e4===(y=v.data).code&&y.result.total>0)){e.next=24;break}if(W.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u5df2\u79fb\u51fa\u201d"),g=p.find((function(e){return e.id===h})),1!==m.length||!g||!g.skus.find((function(e){return e.id===h}))){e.next=21;break}return e.next=21,s({type:"save",payload:{listStatus:(0,Y.ZP)(p,(function(e){e.find((function(e){return e.id===h})).skus.find((function(e){return e.id===m[0]})).subscribeStatus="REMOVE"}))}});case 21:if(!a.isList){e.next=24;break}return e.next=24,s({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:d}});case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(9);case 28:case"end":return e.stop()}}),e,null,[[9,26]])})),fetchIgnoreSingle:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,p=u.listStatus,e.prev=7,d=a.ignoreId,f=a.id,e.next=11,o(g,{projectId:l,ignoreId:d});case 11:if(h=e.sent,2e4!==h.data.code){e.next=19;break}if(W.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u6682\u5ffd\u7565\u201d"),!(m=p.find((function(e){return e.id===f})))||!m.skus.find((function(e){return e.id===f}))){e.next=19;break}return e.next=19,s({type:"save",payload:{listStatus:(0,Y.ZP)(p,(function(e){e.find((function(e){return e.id===f})).skus.find((function(e){return e.id===d})).subscribeStatus="IGNORE"}))}});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}}),e,null,[[7,21]])})),fetchIgnore:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,p=u.searchTitleWord,e.prev=7,e.next=10,o(w,{projectId:l,batchIgnoreId:a.batchIgnoreId,searchTitleWord:p});case 10:if(d=e.sent,2e4!==d.data.code){e.next=16;break}return W.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u6682\u5ffd\u7565\u201d"),e.next=16,s({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:p}});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])})),fetchIgnoreAll:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,p=u.searchTitleWord,d=u.connectionType,e.prev=8,e.next=11,o(C,{projectId:l,notIgnoreId:a.notIgnoreId,searchTitleWord:p,connectionType:d});case 11:if(f=e.sent,2e4!==f.data.code){e.next=17;break}return W.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u6682\u5ffd\u7565\u201d"),e.next=17,s({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:p}});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}}),e,null,[[8,19]])})),fetchTopicOpts:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,o=n.select,c=n.put,e.next=4,o((function(e){return(0,r.Z)({},e)[J]}));case 4:return s=e.sent,u=s.projectId,l=[],e.prev=7,e.next=10,a(M,{projectId:u,valueFrom:[u]});case 10:p=e.sent,2e4===(d=p.data).code&&(l=d.result.result.filter((function(e){return"USER_CUSTOMIZE"===e.topicType}))),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,c({type:"save",payload:{topicOpts:l}});case 20:return e.finish(17);case 21:return e.abrupt("return",l);case 22:case"end":return e.stop()}}),e,null,[[7,15,17,21]])})),fetchTopicValue:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.select,n.put,e.next=4,a(L,{projectId:r.projectId,valueFrom:[r.projectId],topicId:r.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),fetchAddTopicValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,e.next=8,o(F,{projectId:l,topicId:a.topicId,value:a.value});case 8:if(p=e.sent,2e4!==(d=p.data).code){e.next=13;break}return e.next=13,s({type:"fetchTopicValue",payload:{projectId:l,topicId:a.topicId}});case 13:return e.abrupt("return",d);case 14:case"end":return e.stop()}}),e)})),getFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,p=u.selTypes,e.prev=7,e.next=10,o(V,{projectId:a.projectId||l});case 10:if(d=e.sent,2e4!==(f=d.data).code||!f.result){e.next=15;break}return e.next=15,s({type:"save",payload:{selTypes:JSON.parse(f.result)||p}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:case"end":return e.stop()}}),e,null,[[7,17]])})),updateFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[J]}));case 4:return u=e.sent,l=u.projectId,p=u.selTypes,e.prev=7,d=a.selTypes||p,e.next=11,o(U,{projectId:l,value:JSON.stringify(d)});case 11:if(f=e.sent,2e4!==f.data.code){e.next=16;break}return e.next=16,s({type:"save",payload:{selTypes:d}});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])}))}}},10952:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(15861),s=n(49722);function u(e){return l.apply(this,arguments)}function l(){return(l=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageIndex,a=t.pageSize,o=t.searchTitleWord,c=t.ruleNumbers,u=t.connectionType,e.abrupt("return",s.h.post("/subproject-connection/list",{projectId:n,pageIndex:r,pageSize:a,searchTitleWord:o,ruleNumbers:c,connectionType:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,c.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.h.post("/subproject-connection/addBatch",[].concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.ignoreId,a=t.connectionType,e.abrupt("return",s.h.post("/subproject-connection/ignore/single",{projectId:n,ignoreId:r,connectionType:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.batchIgnoreId,a=t.searchTitleWord,e.abrupt("return",s.h.post("/subproject-connection/ignore/batch",{projectId:n,batchIgnoreId:r,searchTitleWord:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.notIgnoreId,a=t.searchTitleWord,e.abrupt("return",s.h.post("/subproject-connection/ignore/all",{projectId:n,notIgnoreId:r,searchTitleWord:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.esId,a=t.spuId,o=t.spuName,c=t.skuId,u=t.skuName,l=t.name,p=t.url,d=t.sourceId,f=t.connectionId,h=t.customizeConfig,m=t.connectionType,v=t.packageType,e.abrupt("return",s.h.post("/subproject-connection/add",{projectId:n,esId:r,spuId:a,spuName:o,skuId:c,skuName:u,name:l,url:p,sourceId:d,connectionId:f,customizeConfig:h,connectionType:m,packageType:v}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,c.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",s.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return w.apply(this,arguments)}function w(){return(w=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.connectionId,e.abrupt("return",s.h.post("/subproject-connection/find",{projectId:n,connectionId:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageSize,a=void 0===r?100:r,o=t.pageIndex,c=void 0===o?1:o,u=t.name,l=void 0===u?"":u,p=t.valueFrom,e.abrupt("return",s.h.post("/subscribe-topic/list",{projectId:n,pageIndex:c,pageSize:a,name:l,valueFrom:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return(N=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,o=t.valueFrom,c=t.pageSize,u=void 0===c?1e3:c,l=t.pageIndex,p=void 0===l?1:l,e.abrupt("return",s.h.post("/subscribe-topic-value/list",{projectId:n,topicId:r,value:a,valueFrom:o,pageSize:u,pageIndex:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return _.apply(this,arguments)}function _(){return(_=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,e.abrupt("return",s.h.post("/subscribe-topic-value/add",{projectId:n,topicId:r,value:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return A.apply(this,arguments)}function A(){return(A=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.type,e.abrupt("return",s.h.post("/subscribe/rules",{projectId:n,type:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=n(35239),M=n(5133),R=o.Z.product.setting.subscribe.overview,L={searchTitleWord:"",firstId:"",dataList:void 0,total:0,pageIndex:1,pageSize:10,spuList:void 0,skuList:void 0,topicOpts:void 0,ruleOpts:[],ruleNumbers:[],projectId:void 0,connectionType:void 0};const P={namespace:R,state:Object.assign({},L),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},L)}},effects:{fetchLinkList:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[R]}));case 4:return l=e.sent,p=l.pageIndex,d=l.pageSize,f=l.projectId,h=l.ruleNumbers,m=l.connectionType,v="error",y=0,g="",e.prev=11,x={searchTitleWord:a.searchTitleWord,ruleNumbers:a.ruleNumbers||h,pageIndex:a.pageIndex||p,pageSize:a.pageSize||d,projectId:a.projectId||f,connectionType:a.connectionType||m},e.next=15,c(u,x);case 15:I=e.sent,2e4===(b=I.data).code&&b.result.total>0?(v=b.result.list,y=b.result.total,g=v[0].id):v=[],e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:return e.prev=22,e.next=25,o({type:"save",payload:(0,r.Z)({},a,{dataList:v,total:y,firstId:g})});case 25:return e.finish(22);case 26:return e.abrupt("return",v);case 27:case"end":return e.stop()}}),e,null,[[11,20,22,26]])})),fetchDetail:i().mark((function e(t,n){var a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[R]}));case 4:return s=e.sent,u=s.projectId,e.next=8,o(E,{connectionId:a.connectionId,projectId:u});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})),fetchEntryOpts:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[R]}));case 4:return u=e.sent,l=u.searchTitleWord,p=u.projectId,e.prev=7,e.next=10,o(b,{projectId:a.projectId||p});case 10:if(d=e.sent,2e4!==(f=d.data).code){e.next=19;break}if(D.t.remove(D.V.newEntry),a.id){e.next=17;break}return e.next=17,s({type:"fetchLinkList",payload:{projectId:a.projectId||p,connectionType:a.connectionType,searchTitleWord:l}});case 17:return e.next=19,s({type:"save",payload:(0,r.Z)({},a,{spuList:f.result.spuList,skuList:f.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}}),e,null,[[7,21]])})),fetchTopicOpts:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,o=n.select,c=n.put,e.next=4,o((function(e){return(0,r.Z)({},e)[R]}));case 4:return s=e.sent,u=s.projectId,l=[],e.prev=7,e.next=10,a(k,{projectId:u,valueFrom:[u]});case 10:p=e.sent,2e4===(d=p.data).code&&(l=d.result.result.filter((function(e){return"USER_CUSTOMIZE"===e.topicType}))),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,c({type:"save",payload:{topicOpts:l}});case 20:return e.finish(17);case 21:return e.abrupt("return",l);case 22:case"end":return e.stop()}}),e,null,[[7,15,17,21]])})),fetchTopicValue:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.select,n.put,e.next=4,a(S,{projectId:r.projectId,valueFrom:[r.projectId],topicId:r.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),fetchAddTopicValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[R]}));case 4:return u=e.sent,l=u.projectId,e.next=8,o(O,{projectId:l,topicId:a.topicId,value:a.value});case 8:if(p=e.sent,2e4!==(d=p.data).code){e.next=13;break}return e.next=13,s({type:"fetchTopicValue",payload:{projectId:l,topicId:a.topicId}});case 13:return e.abrupt("return",d);case 14:case"end":return e.stop()}}),e)})),fetchAdd:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[R]}));case 4:return u=e.sent,l=u.projectId,p=u.searchTitleWord,e.prev=7,e.next=10,o(x,(0,r.Z)({projectId:l},a,{connectionType:a.connectionType}));case 10:if(d=e.sent,2e4!==d.data.code){e.next=17;break}if(M.Z.success("\u6dfb\u52a0\u6210\u529f"),!a.isList){e.next=17;break}return e.next=17,s({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:p}});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(7);case 21:case"end":return e.stop()}}),e,null,[[7,19]])})),fetchAddAll:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[R]}));case 4:return u=e.sent,l=u.projectId,d=u.searchTitleWord,e.prev=7,e.next=10,o(p,a);case 10:if(f=e.sent,!(2e4===(h=f.data).code&&h.result["\u63d2\u5165\u6210\u529f"]>=1)){e.next=18;break}return M.Z.success("\u6dfb\u52a0\u6210\u529f"),e.next=16,c({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:d}});case 16:e.next=19;break;case 18:(4500014===h.code||h.result["\u63d2\u5165\u6210\u529f"]<1)&&M.Z.error("\u53ea\u6709\u88ab\u7ef4\u62a4\u597d\u4e86SPU\u8bcd\u6761\u548cSKU\u8bcd\u6761\u7684\u5546\u54c1\u94fe\u63a5\u624d\u652f\u6301\u6279\u91cf\u6dfb\u52a0\u64cd\u4f5c");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),4500014===e.t0.data.code&&M.Z.error("\u53ea\u6709\u88ab\u7ef4\u62a4\u597d\u4e86SPU\u8bcd\u6761\u548cSKU\u8bcd\u6761\u7684\u5546\u54c1\u94fe\u63a5\u624d\u652f\u6301\u6279\u91cf\u6dfb\u52a0\u64cd\u4f5c");case 24:case"end":return e.stop()}}),e,null,[[7,21]])})),fetchIgnoreSingle:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[R]}));case 4:return u=e.sent,l=u.projectId,p=u.searchTitleWord,d=u.connectionType,e.prev=8,e.next=11,o(f,{projectId:l,ignoreId:a.ignoreId,connectionType:d});case 11:if(h=e.sent,2e4!==h.data.code){e.next=18;break}if(M.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u6682\u5ffd\u7565\u201d"),!a.isList){e.next=18;break}return e.next=18,s({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:p}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}}),e,null,[[8,20]])})),fetchIgnore:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[R]}));case 4:return u=e.sent,l=u.projectId,p=u.searchTitleWord,e.prev=7,e.next=10,o(m,{projectId:l,batchIgnoreId:a.batchIgnoreId,searchTitleWord:p});case 10:if(d=e.sent,2e4!==d.data.code){e.next=16;break}return M.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u6682\u5ffd\u7565\u201d"),e.next=16,s({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:p}});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])})),fetchIgnoreAll:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[R]}));case 4:return u=e.sent,l=u.projectId,p=u.searchTitleWord,e.prev=7,e.next=10,o(y,{projectId:l,notIgnoreId:a.notIgnoreId,searchTitleWord:p});case 10:if(d=e.sent,2e4!==d.data.code){e.next=16;break}return M.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u6682\u5ffd\u7565\u201d"),e.next=16,s({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:p}});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])})),fetchRuleList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[R]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,e.next=9,o(j,{projectId:a.projectId||l,type:a.type});case 9:if(p=e.sent,2e4!==(d=p.data).code||!d.result.length){e.next=14;break}return e.next=14,s({type:"save",payload:{ruleOpts:d.result.map((function(e){return{id:e,name:e}}))}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])}))}}},18460:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(15861),s=n(49722);function u(e){return l.apply(this,arguments)}function l(){return(l=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageIndex,a=t.pageSize,o=t.searchTitleWord,c=t.connectionType,e.abrupt("return",s.h.post("/subproject-connection/recycle/list",{projectId:n,pageIndex:r,pageSize:a,searchTitleWord:o,connectionType:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,c.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",s.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.esId,a=t.spuId,o=t.spuName,c=t.skuId,u=t.skuName,l=t.name,p=t.url,d=t.sourceId,f=t.connectionId,h=t.connectionType,m=t.packageType,e.abrupt("return",s.h.post("/subproject-connection/add",{projectId:n,esId:r,spuId:a,spuName:o,skuId:c,skuName:u,name:l,url:p,sourceId:d,connectionId:f,connectionType:h,packageType:m}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.connectionId,e.abrupt("return",s.h.post("/subproject-connection/find",{projectId:n,connectionId:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageSize,a=void 0===r?100:r,o=t.pageIndex,c=void 0===o?1:o,u=t.name,l=void 0===u?"":u,p=t.valueFrom,e.abrupt("return",s.h.post("/subscribe-topic/list",{projectId:n,pageIndex:c,pageSize:a,name:l,valueFrom:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,c.Z)(i().mark((function e(t){var n,r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,o=t.valueFrom,c=t.pageSize,u=void 0===c?1e3:c,l=t.pageIndex,p=void 0===l?1:l,e.abrupt("return",s.h.post("/subscribe-topic-value/list",{projectId:n,topicId:r,value:a,valueFrom:o,pageSize:u,pageIndex:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,c.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,e.abrupt("return",s.h.post("/subscribe-topic-value/add",{projectId:n,topicId:r,value:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=n(35239),w=n(5133),k=o.Z.product.setting.subscribe.recycling,C={searchTitleWord:"",firstId:"",dataList:void 0,total:0,pageIndex:1,pageSize:10,spuList:[],skuList:[],projectId:void 0,connectionType:void 0};const S={namespace:k,state:Object.assign({},C),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},C)}},effects:{fetchLinkList:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[k]}));case 4:return l=e.sent,p=l.pageIndex,d=l.pageSize,f=l.projectId,h=l.connectionType,m="error",v=0,y="",e.prev=10,g={searchTitleWord:a.searchTitleWord,pageIndex:a.pageIndex||p,pageSize:a.pageSize||d,projectId:a.projectId||f,connectionType:h},e.next=14,c(u,g);case 14:x=e.sent,2e4===(I=x.data).code&&I.result.total>0?(m=I.result.list,v=I.result.total,y=m[0].id):m=[],e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.prev=21,e.next=24,o({type:"save",payload:(0,r.Z)({},a,{dataList:m,total:v,firstId:y})});case 24:return e.finish(21);case 25:return e.abrupt("return",m);case 26:case"end":return e.stop()}}),e,null,[[10,19,21,25]])})),fetchDetail:i().mark((function e(t,n){var a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return s=e.sent,u=s.projectId,e.next=8,o(m,{connectionId:a.connectionId,projectId:u});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})),fetchEntryOpts:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.searchTitleWord,d=u.projectId,e.prev=7,e.next=10,o(p,{projectId:a.projectId||d});case 10:if(f=e.sent,2e4!==(h=f.data).code){e.next=19;break}if(E.t.remove(E.V.newEntry),a.id){e.next=17;break}return e.next=17,s({type:"fetchLinkList",payload:{projectId:a.projectId||d,searchTitleWord:l}});case 17:return e.next=19,s({type:"save",payload:(0,r.Z)({},a,{spuList:h.result.spuList,skuList:h.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}}),e,null,[[7,21]])})),fetchEdit:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.projectId,p=u.searchTitleWord,d=u.connectionType,e.prev=8,e.next=11,o(f,(0,r.Z)({projectId:l},a,{connectionType:d}));case 11:if(h=e.sent,2e4!==h.data.code){e.next=18;break}if(w.Z.success("\u6dfb\u52a0\u6210\u529f"),!a.isList){e.next=18;break}return e.next=18,s({type:"fetchLinkList",payload:{projectId:l,searchTitleWord:p}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}}),e,null,[[8,20]])})),fetchTopicOpts:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,o=n.select,c=n.put,e.next=4,o((function(e){return(0,r.Z)({},e)[k]}));case 4:return s=e.sent,u=s.projectId,l=[],e.prev=7,e.next=10,a(y,{projectId:u,valueFrom:[u]});case 10:p=e.sent,2e4===(d=p.data).code&&(l=d.result.result.filter((function(e){return"USER_CUSTOMIZE"===e.topicType}))),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,c({type:"save",payload:{topicOpts:l}});case 20:return e.finish(17);case 21:return e.abrupt("return",l);case 22:case"end":return e.stop()}}),e,null,[[7,15,17,21]])})),fetchTopicValue:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.select,n.put,e.next=4,a(x,{projectId:r.projectId,valueFrom:[r.projectId],topicId:r.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),fetchAddTopicValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return u=e.sent,l=u.projectId,e.next=8,o(b,{projectId:l,topicId:a.topicId,value:a.value});case 8:if(p=e.sent,2e4!==(d=p.data).code){e.next=13;break}return e.next=13,s({type:"fetchTopicValue",payload:{projectId:l,topicId:a.topicId}});case 13:return e.abrupt("return",d);case 14:case"end":return e.stop()}}),e)}))}}},24773:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(87462),a=n(87757),i=n.n(a),o=n(5133),c=n(64396),s=n(49722);function u(e){var t=e.projectId,n=e.number,r=e.pageIndex,a=e.pageSize,i=e.type;return s.h.post("/subscribe/rule/list",{projectId:t,number:n,pageIndex:r,pageSize:a,type:i})}function l(){return s.h.get("account/basic_info/list")}function p(e){var t=e.id;return s.h.post("/subscribe/rule/delete",{id:t})}function d(e){var t=e.projectId,n=e.sourceIds,r=e.shopTypes,a=e.shopIds,i=e.brandIds,o=e.ytCategoryIds,c=e.minPrice,u=e.maxPrice,l=e.autoAdd,p=e.packageType,d=e.id;return s.h.post("/subscribe/rule/update",{projectId:t,sourceIds:n,shopTypes:r,shopIds:a,brandIds:i,ytCategoryIds:o,minPrice:c,maxPrice:u,autoAdd:l,packageType:p,id:d})}function f(e){var t=e.projectId,n=e.sourceIds,r=e.shopTypes,a=e.shopIds,i=e.brandIds,o=e.ytCategoryIds,c=e.minPrice,u=e.maxPrice,l=e.autoAdd,p=e.packageType,d=e.type;return s.h.post("/subscribe/rule/add",{projectId:t,sourceIds:n,shopTypes:r,shopIds:a,brandIds:i,ytCategoryIds:o,minPrice:c,maxPrice:u,autoAdd:l,packageType:p,type:d})}function h(e){var t=e.projectId,n=(e.pageIndex,e.pageSize,e.type);return s.h.post("/subscribe/rule/filter/list",{projectId:t,pageIndex:1,pageSize:100,type:n})}var m=c.Z.product.setting.subscribe.rule,v={ruleList:void 0,total:0,pageIndex:1,pageSize:10,keyword:"",projectId:void 0,type:void 0,settingOpts:[],sourceIdOpts:[],shopIdOpts:[],brandIdOpts:[],shopTypeOpts:[],catIdOpts:[],packageTypeOpts:[{id:1,name:"\u672a\u77e5"},{id:2,name:"\u5957\u88c5"},{id:3,name:"\u975e\u5957\u88c5"}],connectCount:[0,1]};const y={namespace:m,state:JSON.parse(JSON.stringify(v)),effects:{fetchRuleList:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,c=n.put,s=n.call,e.next=4,o((function(e){return e[m]}));case 4:return l=e.sent,p=l.projectId,d=l.keyword,f=l.pageIndex,h=l.pageSize,v=l.type,y="error",g=0,e.prev=11,e.next=14,s(u,{projectId:a.projectId||p,pageIndex:a.pageIndex||f,pageSize:a.pageSize||h,number:void 0!==a.keyword?a.keyword:d,type:a.type||v});case 14:x=e.sent,2e4===(I=x.data).code&&I.result.list.length?(y=I.result.list,g=I.result.total):y="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,c({type:"save",payload:(0,r.Z)({},a,{total:g,ruleList:y})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchConnectCount:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.select,r=n.put,a=n.call,e.next=3,a(l);case 3:if(o=e.sent,2e4!==(c=o.data).code){e.next=10;break}return s=c.result.resource,u=s.find((function(e){return"CONNECTION"===e.content})),e.next=10,r({type:"save",payload:{connectCount:[u.used,u.topLimit]}});case 10:case"end":return e.stop()}}),e)})),deleteRule:i().mark((function e(t,n){var r,a,c,s,u,l,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.select,c=n.put,s=n.call,e.next=4,a((function(e){return e[m]}));case 4:return u=e.sent,l=u.projectId,e.next=8,s(p,{projectId:r.projectId||l,id:r.id});case 8:if(d=e.sent,2e4!==(f=d.data).code){e.next=14;break}return o.Z.success(f.msg),e.next=14,c({type:"fetchRuleList",payload:{}});case 14:case"end":return e.stop()}}),e)})),updateRule:i().mark((function e(t,n){var r,a,c,s,u,l,p,f,h,v,y,g,x,I,b,T,E,w,k,C,S,N,O,_,j,A,D;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.select,n.put,c=n.call,e.next=4,a((function(e){return e[m]}));case 4:return s=e.sent,u=s.projectId,l=r.sourceId,p=void 0===l?[]:l,f=r.shopType,h=void 0===f?[]:f,v=r.shopId,y=void 0===v?[]:v,g=r.brandId,x=void 0===g?[]:g,I=r.catId,b=void 0===I?[]:I,T=r.price,E=void 0===T?[]:T,w=r.autoAdd,k=void 0===w||w,C=r.packageType,S=void 0===C?[]:C,N=r.id,O=r.callback,e.prev=7,_=E[0],j=E[1],e.next=11,c(d,{projectId:u,sourceIds:p.map((function(e){return e.id})),shopTypes:h.map((function(e){return e.id})),shopIds:y.map((function(e){return e.id})),brandIds:x.map((function(e){return e.id})),ytCategoryIds:b.map((function(e){return e.id})),minPrice:_,maxPrice:j,autoAdd:k,packageType:S.map((function(e){return e.name})),id:N});case 11:A=e.sent,2e4===(D=A.data).code?(o.Z.success(D.msg),O&&O(N)):o.Z.success(D.msg),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(7);case 18:case"end":return e.stop()}}),e,null,[[7,16]])})),addRule:i().mark((function e(t,n){var r,a,c,s,u,l,p,d,h,v,y,g,x,I,b,T,E,w,k,C,S,N,O,_,j,A,D;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.select,n.put,c=n.call,e.next=4,a((function(e){return e[m]}));case 4:return s=e.sent,u=s.projectId,l=r.sourceId,p=void 0===l?[]:l,d=r.shopType,h=void 0===d?[]:d,v=r.shopId,y=void 0===v?[]:v,g=r.brandId,x=void 0===g?[]:g,I=r.catId,b=void 0===I?[]:I,T=r.price,E=void 0===T?[]:T,w=r.autoAdd,k=void 0===w||w,C=r.packageType,S=void 0===C?[]:C,N=r.callback,O=r.type,e.prev=7,_=E[0],j=E[1],e.next=11,c(f,{projectId:u,sourceIds:p.map((function(e){return e.id})),shopTypes:h.map((function(e){return e.id})),shopIds:y.map((function(e){return e.id})),brandIds:x.map((function(e){return e.id})),ytCategoryIds:b.map((function(e){return e.id})),minPrice:_,maxPrice:j,autoAdd:k,packageType:S.map((function(e){return e.name})),type:O});case 11:A=e.sent,2e4===(D=A.data).code?(o.Z.success(D.msg),N&&N(D.result)):o.Z.success(D.msg),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(7);case 18:case"end":return e.stop()}}),e,null,[[7,16]])})),fetchRuleParams:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,v,y,g,x,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,c=n.put,s=n.call,e.next=4,o((function(e){return e[m]}));case 4:return u=e.sent,l=u.projectId,p=u.type,e.prev=7,e.next=10,s(h,{projectId:a.projectId||l,type:a.type||p});case 10:if(d=e.sent,2e4!==(f=d.data).code){e.next=16;break}return v=f.result,y=v.shops,g=void 0===y?[]:y,x=v.brands,I=void 0===x?[]:x,b=v.sources,T=void 0===b?[]:b,E=v.shopTypes,w=void 0===E?[]:E,k=v.ytCategories,C=void 0===k?[]:k,e.next=16,c({type:"save",payload:(0,r.Z)({},a,{sourceIdOpts:T,shopIdOpts:g,brandIdOpts:I,shopTypeOpts:w,catIdOpts:C})});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},v)}}}},59134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(99433),s=n(5133),u=n(35239),l=(n(30381),o.Z.product.comment.subscribeLink),p=o.Z.IDBHeaderScreening.timeScreening,d={searchTitleWord:"",firstId:"",dataList:void 0,total:0,pageIndex:1,pageSize:10,spuList:void 0,skuList:void 0,topicOpts:void 0,ruleOpts:[],ruleNumbers:void 0,projectId:void 0,connectionType:void 0,state:void 0,status:void 0,dateFilter:{activeValueTime:"noTimeLimit"},ruleNameObj:void 0,showKind:null,selectedRowKeys:[],isAll:!1,salesStatus:"",maintainParams:{},countData:{totalHis:0,countUpcoming:0,totalAdd:0,totalIgnore:0},activeKeys:{totalHis:{status:[]},countUpcoming:{status:["INIT"]},totalAdd:{status:["ADD"]},totalIgnore:{status:["IGNORE"]}},downloadNumber:0,batchLoading:!1,panelShow:!1};const f={namespace:l,state:Object.assign({},d),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},d)},changeShow:function(e,t){var n=t.payload;return(0,r.Z)({},e,{showKind:void 0===n?null:n})}},effects:{timerInit:i().mark((function e(t,n){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,n.call,n.select,e.next=4,o({type:p+"/init",payload:(0,r.Z)({},a)});case 4:case"end":return e.stop()}}),e)})),fetchSubscribeCount:i().mark((function e(t,n){var a,o,s,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,s=n.call,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=d.connectionType,m=d.ruleNumbers,e.next=10,s(c.H2,{connectionType:h||a.connectionType,projectId:f||u.t.get(u.V.backProjectConfig).id,ruleNumbers:m||a&&a.ruleNumbers});case 10:if(v=e.sent,2e4!==(y=v.data).code){e.next=15;break}return e.next=15,o({type:"save",payload:{countData:y.result.resultMap}});case 15:case"end":return e.stop()}}),e)})),fetchLinkList:i().mark((function e(t,n){var a,o,s,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,s=n.call,p=n.select,e.next=4,o({type:"save",payload:(0,r.Z)({},a)});case 4:return e.next=6,p((function(e){return(0,r.Z)({},e)[l]}));case 6:return d=e.sent,f=d.pageIndex,h=d.pageSize,m=d.projectId,v=d.connectionType,y=d.state,g=d.ruleNumbers,x=d.dateFilter,I=d.status,b=d.salesStatus,T=d.maintainParams,E=d.searchTitleWord,w=[],k=0,e.prev=19,C=(0,r.Z)({pageIndex:f,pageSize:a&&a.pageSize||h,projectId:m||u.t.get(u.V.backProjectConfig).id,ruleNumbers:g||a&&a.ruleNumbers,connectionType:v||a.connectionType,searchTitleWord:E||a&&a.searchTitleWord,status:I||a&&a.status,dateFilter:x||a&&a.dateFilter,cardSearch:a&&a.cardSearch,salesStatus:b?[b]||0:[]},y),e.next=23,s(c.IC,C);case 23:if(S=e.sent,!(2e4===(N=S.data).code&&N.result.total>0)){e.next=33;break}return w=N.result.list,k=N.result.total,T.params=C,e.next=31,o({type:"fetchSubscribeCount",payload:{projectId:m,connectionType:v,ruleNumbers:g}});case 31:e.next=34;break;case 33:w=[];case 34:e.next=38;break;case 36:e.prev=36,e.t0=e.catch(19);case 38:return e.prev=38,e.next=41,o({type:"save",payload:(0,r.Z)({},a,{dataList:w,total:k,maintainParams:T})});case 41:return e.finish(38);case 42:return e.abrupt("return",w);case 43:case"end":return e.stop()}}),e,null,[[19,36,38,42]])})),fetchDetail:i().mark((function e(t,n){var a,o,s,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,e.next=8,o(c.RR,{connectionId:a.connectionId,projectId:d||u.t.get(u.V.backProjectConfig).id});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})),fetchEntryOpts:i().mark((function e(t,n){var a,o,s,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.select,p=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.searchTitleWord,h=d.projectId,e.prev=7,e.next=10,o(c.AI,{projectId:a.projectId||h});case 10:if(m=e.sent,2e4!==(v=m.data).code){e.next=19;break}if(u.t.remove(u.V.newEntry),a.id){e.next=17;break}return e.next=17,p({type:"fetchLinkList",payload:{projectId:a.projectId||h,connectionType:a.connectionType,searchTitleWord:f}});case 17:return e.next=19,p({type:"save",payload:(0,r.Z)({},a,{spuList:v.result.spuList,skuList:v.result.skuList})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(7);case 23:case"end":return e.stop()}}),e,null,[[7,21]])})),fetchTopicOpts:i().mark((function e(t,n){var a,o,s,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,o=n.select,s=n.put,e.next=4,o((function(e){return(0,r.Z)({},e)[l]}));case 4:return u=e.sent,p=u.projectId,d=[],e.prev=7,e.next=10,a(c.hl,{projectId:p,valueFrom:[p]});case 10:f=e.sent,2e4===(h=f.data).code&&(d=h.result.result.filter((function(e){return"USER_CUSTOMIZE"===e.topicType}))),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.prev=17,e.next=20,s({type:"save",payload:{topicOpts:d}});case 20:return e.finish(17);case 21:return e.abrupt("return",d);case 22:case"end":return e.stop()}}),e,null,[[7,15,17,21]])})),fetchTopicValue:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.select,n.put,e.next=4,a(c._c,{projectId:r.projectId,valueFrom:[r.projectId],topicId:r.topicId});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),fetchAddTopicValue:i().mark((function e(t,n){var a,o,s,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,e.next=8,o(c.IU,{projectId:d,topicId:a.topicId,value:a.value});case 8:if(f=e.sent,2e4!==(h=f.data).code){e.next=13;break}return e.next=13,u({type:"fetchTopicValue",payload:{projectId:d,topicId:a.topicId}});case 13:return e.abrupt("return",h);case 14:case"end":return e.stop()}}),e)})),fetchAdd:i().mark((function e(t,n){var a,o,u,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.select,p=n.put,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=d.searchTitleWord,e.prev=7,e.next=10,o(c.xZ,(0,r.Z)({projectId:f},a,{connectionType:a.connectionType}));case 10:if(m=e.sent,2e4!==m.data.code){e.next=17;break}if(s.Z.success("\u6dfb\u52a0\u6210\u529f"),!a.isList){e.next=17;break}return e.next=17,p({type:"fetchLinkList",payload:{projectId:f,searchTitleWord:h}});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(7);case 21:case"end":return e.stop()}}),e,null,[[7,19]])})),fetchAddAll:i().mark((function e(t,n){var a,o,u,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=d.searchTitleWord,e.prev=7,e.next=10,o(c.D7,a);case 10:if(m=e.sent,!(2e4===(v=m.data).code&&v.result["\u63d2\u5165\u6210\u529f"]>=1)){e.next=18;break}return s.Z.success("\u6dfb\u52a0\u6210\u529f"),e.next=16,u({type:"fetchLinkList",payload:{projectId:f,searchTitleWord:h}});case 16:e.next=19;break;case 18:(4500014===v.code||v.result["\u63d2\u5165\u6210\u529f"]<1)&&s.Z.error("\u53ea\u6709\u88ab\u7ef4\u62a4\u597d\u4e86SPU\u8bcd\u6761\u548cSKU\u8bcd\u6761\u7684\u5546\u54c1\u94fe\u63a5\u624d\u652f\u6301\u6279\u91cf\u6dfb\u52a0\u64cd\u4f5c");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),4500014===e.t0.data.code&&s.Z.error("\u53ea\u6709\u88ab\u7ef4\u62a4\u597d\u4e86SPU\u8bcd\u6761\u548cSKU\u8bcd\u6761\u7684\u5546\u54c1\u94fe\u63a5\u624d\u652f\u6301\u6279\u91cf\u6dfb\u52a0\u64cd\u4f5c");case 24:case"end":return e.stop()}}),e,null,[[7,21]])})),fetchIgnoreSingle:i().mark((function e(t,n){var a,o,u,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.select,p=n.put,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=d.searchTitleWord,m=d.connectionType,e.prev=8,e.next=11,o(c.hj,{projectId:f,ignoreId:a.ignoreId,connectionType:m});case 11:if(v=e.sent,2e4!==v.data.code){e.next=17;break}return s.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u5df2\u5ffd\u7565\u201d"),e.next=17,p({type:"fetchLinkList",payload:{projectId:f,searchTitleWord:h}});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),s.Z.error("\u64cd\u4f5c\u5931\u8d25");case 22:case"end":return e.stop()}}),e,null,[[8,19]])})),fetchIgnore:i().mark((function e(t,n){var a,o,p,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,p=n.select,d=n.put,e.next=4,d({type:"save",payload:(0,r.Z)({},a)});case 4:return e.next=6,p((function(e){return(0,r.Z)({},e)[l]}));case 6:return f=e.sent,h=f.projectId,m=f.connectionType,v=f.ruleNumbers,y=f.dateFilter,g=f.status,x=f.searchTitleWord,I=f.selectedRowKeys,b=f.isAll,T=f.salesStatus,e.prev=16,e.next=19,o(c.Vu,{projectId:h||u.t.get(u.V.backProjectConfig).id,batchIgnoreId:a.selectedRowKeys||I,isAll:b||a.isAll,connectionType:m,searchTitleWord:x,ruleNumbers:v,dateFilter:y,salesStatus:T?[T]||0:[]});case 19:if(E=e.sent,2e4!==E.data.code){e.next=29;break}return s.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u9009\u4e2d\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u5df2\u5ffd\u7565\u201d"),e.next=25,d({type:"fetchLinkList",payload:{projectId:h,connectionType:m,ruleNumbers:v,dateFilter:y,status:g,searchTitleWord:x}});case 25:return e.next=27,d({type:"fetchSubscribeCount",payload:{projectId:h,connectionType:m,ruleNumbers:v}});case 27:return e.next=29,d({type:"save",payload:{selectedRowKeys:[]}});case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(16),s.Z.error("\u64cd\u4f5c\u5931\u8d25");case 34:return e.abrupt("return",!0);case 35:case"end":return e.stop()}}),e,null,[[16,31]])})),fetchLinkExport:i().mark((function e(t,n){var a,o,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,p=n.select,d=n.put,e.next=4,d({type:"save",payload:(0,r.Z)({},a)});case 4:return e.next=6,p((function(e){return(0,r.Z)({},e)[l]}));case 6:return f=e.sent,h=f.projectId,m=f.connectionType,v=f.ruleNumbers,y=f.dateFilter,g=f.status,x=f.searchTitleWord,I=f.selectedRowKeys,b=f.salesStatus,T=f.downloadNumber,e.prev=16,e.next=19,o(c.u$,{projectId:h||u.t.get(u.V.backProjectConfig).id,downloadIds:a.selectedRowKeys||I,connectionType:m,searchTitleWord:x,ruleNumbers:v,dateFilter:y,status:g,downloadNumber:T,salesStatus:b?[b]||0:[]});case 19:E=e.sent,2e4===(w=E.data).code&&w.result&&((k=document.createElement("a")).href=w.result,k.click(),s.Z.success("\u94fe\u63a5\u5bfc\u51fa\u6210\u529f")),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),s.Z.error("\u64cd\u4f5c\u5931\u8d25");case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e,null,[[16,24]])})),fetchIgnoreAll:i().mark((function e(t,n){var a,o,u,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.select,p=n.put,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=d.searchTitleWord,e.prev=7,e.next=10,o(c.vH,{projectId:f,notIgnoreId:a.notIgnoreId,searchTitleWord:h});case 10:if(m=e.sent,2e4!==m.data.code){e.next=16;break}return s.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u5df2\u5ffd\u7565\u201d"),e.next=16,p({type:"fetchLinkList",payload:{projectId:f,searchTitleWord:h}});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),s.Z.error("\u64cd\u4f5c\u5931\u8d25");case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,null,[[7,18]])})),fetchRuleList:i().mark((function e(t,n){var a,o,s,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,o=n.select,s=n.put,e.next=4,o((function(e){return(0,r.Z)({},e)[l]}));case 4:return u=e.sent,p=u.projectId,d=u.connectionType,e.prev=7,e.next=10,a(c.sg,{projectId:p,type:d,pageSize:100});case 10:if(f=e.sent,2e4!==(h=f.data).code||!h.result.list.length){e.next=15;break}return e.next=15,s({type:"save",payload:{ruleOpts:h.result.list.map((function(e){return{id:e.number,name:e.ruleName||e.number}}))}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:case"end":return e.stop()}}),e,null,[[7,17]])}))}}},99433:(e,t,n)=>{"use strict";n.d(t,{IC:()=>s,u$:()=>l,H2:()=>d,D7:()=>f,hj:()=>m,Vu:()=>y,vH:()=>x,xZ:()=>b,AI:()=>E,RR:()=>k,hl:()=>S,_c:()=>O,IU:()=>j,sg:()=>D});var r=n(87462),a=n(15861),i=n(87757),o=n.n(i),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)(o().mark((function e(t){var n,r,a,i,s,u,l,p,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageIndex,a=t.pageSize,i=t.searchTitleWord,s=t.ruleNumbers,u=t.connectionType,l=t.dateFilter,p=t.status,d=t.salesStatus,f=t.cardSearch,e.abrupt("return",c.h.post("/subproject-connection/list",{projectId:n,pageIndex:r,pageSize:a,searchTitleWord:i,ruleNumbers:s,connectionType:u,dateFilter:l,status:p,salesStatus:d,cardSearch:f}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/excel/product/download",(0,r.Z)({},t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){var t=e.projectId,n=e.connectionType,r=e.ruleNumbers;return c.h.post("/subscribe/connection/count",{projectId:t,connectionType:n,ruleNumbers:r})}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/subproject-connection/addBatch",[].concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.ignoreId,a=t.connectionType,e.abrupt("return",c.h.post("/subproject-connection/ignore/single",{projectId:n,ignoreId:r,connectionType:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/subproject-connection/ignore/batch",(0,r.Z)({},t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,a.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.notIgnoreId,a=t.searchTitleWord,e.abrupt("return",c.h.post("/subproject-connection/ignore/all",{projectId:n,notIgnoreId:r,searchTitleWord:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,a.Z)(o().mark((function e(t){var n,r,a,i,s,u,l,p,d,f,h,m,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.esId,a=t.spuId,i=t.spuName,s=t.skuId,u=t.skuName,l=t.name,p=t.url,d=t.sourceId,f=t.connectionId,h=t.customizeConfig,m=t.connectionType,v=t.packageType,e.abrupt("return",c.h.post("/subproject-connection/add",{projectId:n,esId:r,spuId:a,spuName:i,skuId:s,skuName:u,name:l,url:p,sourceId:d,connectionId:f,customizeConfig:h,connectionType:m,packageType:v}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/subproject-connection/group/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.connectionId,e.abrupt("return",c.h.post("/subproject-connection/find",{projectId:n,connectionId:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)(o().mark((function e(t){var n,r,a,i,s,u,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageSize,a=void 0===r?100:r,i=t.pageIndex,s=void 0===i?1:i,u=t.name,l=void 0===u?"":u,p=t.valueFrom,e.abrupt("return",c.h.post("/subscribe-topic/list",{projectId:n,pageIndex:s,pageSize:a,name:l,valueFrom:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(o().mark((function e(t){var n,r,a,i,s,u,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,i=t.valueFrom,s=t.pageSize,u=void 0===s?1e3:s,l=t.pageIndex,p=void 0===l?1:l,e.abrupt("return",c.h.post("/subscribe-topic-value/list",{projectId:n,topicId:r,value:a,valueFrom:i,pageSize:u,pageIndex:p}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return A.apply(this,arguments)}function A(){return(A=(0,a.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.topicId,a=t.value,e.abrupt("return",c.h.post("/subscribe-topic-value/add",{projectId:n,topicId:r,value:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return M.apply(this,arguments)}function M(){return(M=(0,a.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.type,a=t.pageSize,e.abrupt("return",c.h.post("/subscribe/rule/list",{projectId:n,type:r,pageSize:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},90430:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(35239),u=n(49722);function l(e){var t=e.projectId,n=e.number,r=e.pageIndex,a=e.pageSize,i=e.type,o=e.ruleName;return u.h.post("/subscribe/rule/list",{projectId:t,number:n,pageIndex:r,pageSize:a,type:i,ruleName:o})}function p(){return u.h.get("account/basic_info/list")}function d(e){var t=e.id;return u.h.post("/subscribe/rule/delete",{id:t})}function f(e){var t=e.projectId,n=e.sourceIds,r=e.shopTypes,a=e.shopIds,i=e.brandIds,o=e.ytCategoryIds,c=e.minPrice,s=e.maxPrice,l=e.autoAdd,p=e.packageType,d=e.ruleName,f=e.type;return u.h.post("/subscribe/rule/add",{projectId:t,sourceIds:n,shopTypes:r,shopIds:a,brandIds:i,ytCategoryIds:o,minPrice:c,maxPrice:s,autoAdd:l,ruleName:d,packageType:p,type:f})}function h(e){var t=e.projectId,n=(e.pageIndex,e.pageSize,e.type);return u.h.post("/subscribe/rule/filter/list",{projectId:t,pageIndex:1,pageSize:100,type:n})}function m(e){var t=e.queryType,n=e.words,r=e.pageIndex,a=e.pageSize,i=e.projectId,o=e.platform,c=e.shopType;return u.h.post("/subscribe/rule/filter/find",{queryType:t,words:n,pageIndex:r,pageSize:a,projectId:i,platform:o,shopType:c})}function v(e){var t=e.projectId,n=e.connectionType;return u.h.post("/subscribe/connection/count",{projectId:t,connectionType:n})}function y(e){var t=e.ruleName,n=e.projectId,r=e.type;return u.h.post("/subscribe/rule/name/check",{ruleName:t,projectId:n,type:r})}function g(e){var t=e.ruleName,n=e.id,r=e.projectId,a=e.type;return u.h.post("/subscribe/rule/rename",{ruleName:t,id:n,projectId:r,type:a})}var x=c.Z.product.comment.smartSubscribe,I={ruleList:void 0,total:0,pageIndex:1,pageSize:10,keyword:"",projectId:void 0,type:void 0,settingOpts:[],sourceIdOpts:[],shopIdOpts:[],brandIdOpts:[],shopTypeOpts:[],catIdOpts:[],packageTypeOpts:[{id:1,name:"\u672a\u77e5"},{id:2,name:"\u5957\u88c5"},{id:3,name:"\u975e\u5957\u88c5"}],connectCount:[0,1],countData:void 0,numberList:void 0,filterOptions:void 0,ruleName:""};const b={namespace:x,state:JSON.parse(JSON.stringify(I)),effects:{fetchSubscribeCount:o().mark((function e(t,n){var r,a,i,c,u,l,p,d,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.select,i=n.put,c=n.call,e.next=4,a((function(e){return e[x]}));case 4:return u=e.sent,l=u.projectId,p=u.type,e.next=9,c(v,{projectId:l||s.t.get(s.V.backProjectConfig).id,connectionType:p||r.type});case 9:if(d=e.sent,2e4!==(f=d.data).code){e.next=15;break}return h=f.result.resultMap,e.next=15,i({type:"save",payload:{countData:h}});case 15:case"end":return e.stop()}}),e)})),fetchRuleList:o().mark((function e(t,n){var r,i,c,u,p,d,f,h,m,v,y,g,I,b,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.select,c=n.put,u=n.call,e.next=4,i((function(e){return e[x]}));case 4:return p=e.sent,d=p.projectId,f=p.keyword,h=p.pageIndex,m=p.pageSize,v=p.type,y=p.ruleName,g=[],I=0,e.prev=12,e.next=15,u(l,{projectId:d||s.t.get(s.V.backProjectConfig).id,pageIndex:r&&r.pageIndex||h,pageSize:r&&r.pageSize||m,number:f,type:v||r.type,ruleName:r&&r.ruleName||y});case 15:b=e.sent,2e4===(T=b.data).code&&T.result.list.length&&(g=T.result.list,I=T.result.total),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,c({type:"save",payload:(0,a.Z)({},r,{total:I,ruleList:g})});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])})),fetchConnectCount:o().mark((function e(t,n){var r,a,i,c,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.select,r=n.put,a=n.call,e.next=3,a(p);case 3:if(i=e.sent,2e4!==(c=i.data).code){e.next=10;break}return s=c.result.resource,u=s.find((function(e){return"CONNECTION"===e.content})),e.next=10,r({type:"save",payload:{connectCount:[u.used,u.topLimit]}});case 10:case"end":return e.stop()}}),e)})),deleteRule:o().mark((function e(t,n){var a,i,c,u,l,p,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.select,c=n.put,u=n.call,e.next=4,i((function(e){return e[x]}));case 4:return l=e.sent,p=l.projectId,e.next=8,u(d,{projectId:p||s.t.get(s.V.backProjectConfig).id,id:a});case 8:if(f=e.sent,2e4!==(h=f.data).code){e.next=16;break}return r.default.success(h.msg),e.next=14,c({type:"fetchRuleList",payload:{}});case 14:return e.next=16,c({type:"fetchSubscribeCount",payload:{}});case 16:case"end":return e.stop()}}),e)})),fetchRuleRename:o().mark((function e(t,n){var a,i,c,u,l,p,d,f,h,m,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.select,n.put,c=n.call,e.next=4,i((function(e){return e[x]}));case 4:return u=e.sent,l=u.projectId,p=a.id,d=a.ruleName,f=a.callback,h=a.type,e.prev=7,e.next=10,c(g,{projectId:l||s.t.get(s.V.backProjectConfig).id,ruleName:d,id:p,type:h});case 10:m=e.sent,2e4===(v=m.data).code?(r.default.success(v.msg),f&&f(p)):r.default.success(v.msg),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:case"end":return e.stop()}}),e,null,[[7,15]])})),addRule:o().mark((function e(t,n){var a,i,c,u,l,p,d,h,m,v,y,g,I,b,T,E,w,k,C,S,N,O;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.select,n.put,c=n.call,e.next=4,i((function(e){return e[x]}));case 4:return u=e.sent,l=u.projectId,p=a.sourceId,d=void 0===p?[]:p,h=a.shopType,m=void 0===h?[]:h,v=a.shopId,y=void 0===v?[]:v,g=a.brandId,I=void 0===g?[]:g,b=a.catId,T=void 0===b?[]:b,E=a.ruleName,w=a.callback,k=a.type,C=a.minPrice,S=a.maxPrice,e.prev=7,e.next=10,c(f,{projectId:l||s.t.get(s.V.backProjectConfig).id,sourceIds:d,shopTypes:m,shopIds:y,brandIds:I,ytCategoryIds:T,minPrice:C,maxPrice:S,ruleName:E,type:k});case 10:N=e.sent,2e4===(O=N.data).code?(r.default.success("\u6210\u529f\u4fdd\u5b58\u8ba2\u9605\u89c4\u5219"),w&&w(O.result)):r.default.success(O.msg),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:case"end":return e.stop()}}),e,null,[[7,15]])})),fetchRuleParams:o().mark((function e(t,n){var r,i,c,u,l,p,d,f,m,v,y,g,I,b,T,E,w,k,C,S;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.select,c=n.put,u=n.call,e.next=4,i((function(e){return e[x]}));case 4:return l=e.sent,p=l.projectId,d=l.type,e.prev=7,e.next=10,u(h,{projectId:p||s.t.get(s.V.backProjectConfig).id,type:r.type||d});case 10:if(f=e.sent,2e4!==(m=f.data).code){e.next=16;break}return v=m.result,y=v.shops,g=void 0===y?[]:y,I=v.brands,b=void 0===I?[]:I,T=v.sources,E=void 0===T?[]:T,w=v.shopTypes,k=void 0===w?[]:w,C=v.ytCategories,S=void 0===C?[]:C,e.next=16,c({type:"save",payload:(0,a.Z)({},r,{sourceIdOpts:E,shopIdOpts:g,brandIdOpts:b,shopTypeOpts:k,catIdOpts:S})});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])})),searchRuleParams:o().mark((function e(t,n){var r,i,c,u,l,p,d,f,h,v,y,g,I,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.select,c=n.put,u=n.call,e.next=4,i((function(e){return e[x]}));case 4:return l=e.sent,p=l.projectId,d=r.queryType,f=r.words,h=r.platform,v=r.shopType,y=r.judge,(g={})[d+"Loading"]=!0,e.next=11,c({type:"save",payload:(0,a.Z)({},g)});case 11:return e.prev=11,e.next=14,u(m,{projectId:p||s.t.get(s.V.backProjectConfig).id,queryType:d.replace("Id","Name"),words:f,platform:h,shopType:v});case 14:I=e.sent,2e4===(b=I.data).code&&(y&&(g[d+"Opts"]=b.result),g[d+"Opt"]=b.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,g[d+"Loading"]=!1,e.next=25,c({type:"save",payload:(0,a.Z)({},r,g)});case 25:return e.finish(21);case 26:case"end":return e.stop()}}),e,null,[[11,19,21,26]])})),ruleNameCheck:o().mark((function e(t,n){var a,i,c,u,l,p,d,f,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.select,n.put,c=n.call,e.next=4,i((function(e){return e[x]}));case 4:return u=e.sent,l=u.projectId,p=a.ruleName,d=a.type,f=!0,e.prev=8,e.next=11,c(y,{ruleName:p,projectId:l||s.t.get(s.V.backProjectConfig).id,type:d});case 11:h=e.sent,2e4===h.data.code&&(f=TextTrackCue),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(8),r.default.destroy(),m=e.t0.data,f="\u89c4\u5219\u540d\u79f0\u4e0d\u80fd\u91cd\u590d"!==m.msg;case 21:return e.abrupt("return",f);case 22:case"end":return e.stop()}}),e,null,[[8,16]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},I)}}}},78144:(e,t,n)=>{"use strict";function r(e){return void 0===e&&(e=[]),[{title:"\u914d\u7f6e"}].concat(e)}function a(e){var t=e.location,n=t.pathname,r=t.state,a=e.fatherTitle,i=[];n.includes("comment")&&i.push({title:"\u7535\u5546\u8bc4\u8bba",url:""}),n.includes("price")&&i.push({title:"\u7535\u5546\u76d1\u63a7",url:""});var o=n&&n.split("/")[3];return n.includes("subscribe")?i.push({title:"\u667a\u80fd\u8ba2\u9605",url:"/account/project/"+o+"/subscribe"}):i.push({title:"\u94fe\u63a5\u7ba1\u7406",url:"/account/project/"+o+"/link"}),r&&r.ruleNameObj&&r.ruleNameObj.ruleName&&i.push({title:r.ruleNameObj.ruleName,url:r.ruleNameObj.url||void 0,state:r.ruleNameObj.state||void 0}),r&&r.title&&i.push({title:r.title}),a&&a[0].url.includes("/account/project")?[{title:"\u6570\u636e\u94fe\u63a5",url:"/account/project/preview"}].concat(i):a&&a[0].url.includes("/product/overview")?[{title:"\u9879\u76ee\u6982\u51b5",url:"/account/project/preview"},{title:"\u6570\u636e\u94fe\u63a5",url:"/account/project/preview"}].concat(i):[{title:"\u6570\u636e\u94fe\u63a5",url:"/account/project/preview"}].concat(i)}n.d(t,{Y:()=>r,u:()=>a})},4167:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){return o.h.post("/tag/type/list",(0,r.Z)({},e))}function s(e){return o.h.post("/tag/update",(0,r.Z)({},e))}function u(e){return o.h.post("/tag/type/update",(0,r.Z)({},e))}function l(e){return o.h.post("/tag/delete",(0,r.Z)({},e))}function p(e){return o.h.post("/tag/type/delete",(0,r.Z)({},e))}function d(e){return o.h.post("/tag/add",(0,r.Z)({},e))}function f(e){return o.h.post("/tag/used",(0,r.Z)({},e))}function h(e){return o.h.post("/tag/type/used",(0,r.Z)({},e))}var m=n(5133),v=n(64396).Z.project.tag;const y={namespace:v,state:{tabActiveKey:"RULE",modalShow:!1,modalMode:"addTag",targetTag:{id:"",name:"",tagTypeId:"",tagTypeName:""},tagTypeList:[],tempTagTypeList:[],step:1,projectId:"",nameExists:!1,referenceNum:0,systemList:[],customList:[],systemPagtion:{total:0,pageIndex:1,pageSize:20},customPagtion:{total:0,pageIndex:1,pageSize:20},customSourceList:[]},effects:{fetchTagList:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,h,m,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.select,s=n.put,e.prev=1,e.next=4,o((function(e){return(0,r.Z)({},e)[v]}));case 4:return u=e.sent,l=u.projectId,p=u.tabActiveKey,d=u.systemPagtion,f=u.customPagtion,h={projectId:l,pageIndex:"RULE"===p?d.pageIndex:f.pageIndex,pageSize:"RULE"===p?d.pageSize:f.pageSize,queryType:p},e.next=13,a(c,h);case 13:if(!(m=e.sent).data.result){e.next=27;break}if(y=m.data.result,g=y.count,x=y.result,I=x,"RULE"!==p){e.next=22;break}return e.next=20,s({type:"save",payload:{tagTypeList:I,tempTagTypeList:I,systemList:x||[],systemPagtion:(0,r.Z)({},d,{total:g||0})}});case 20:e.next=27;break;case 22:return b=f.pageIndex,T=f.pageSize,E=g>0?x[0].tagList:[],w=Math.ceil(E.length/T)>=b?b:b-1>0?b-1:1,e.next=27,s({type:"save",payload:{tagTypeList:I,tempTagTypeList:I,customList:E.slice((w-1)*T,w*T),customSourceList:E,customPagtion:(0,r.Z)({},f,{pageIndex:w,total:E.length})}});case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(1),console.error(e.t0);case 32:case"end":return e.stop()}}),e,null,[[1,29]])})),renameTag:i().mark((function e(t,n){var a,o,c,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.prev=1,e.next=4,c((function(e){return(0,r.Z)({},e)[v]}));case 4:return u=e.sent,l=u.targetTag,p=l.id,d=l.name,f=l.tagTypeId,e.next=11,a(s,{tagId:p,tagName:d,tagTypeId:f});case 11:if(2e4!==e.sent.data.code){e.next=18;break}return m.Z.success("\u64cd\u4f5c\u6210\u529f"),e.next=16,o({type:"reset"});case 16:return e.next=18,o({type:"fetchTagList"});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})),renameTagType:i().mark((function e(t,n){var a,o,c,s,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,o=n.put,c=n.select,e.prev=2,e.next=5,c((function(e){return(0,r.Z)({},e)[v]}));case 5:return s=e.sent,l=s.targetTag,p=l.tagTypeId,d=l.tagTypeName,e.next=11,a(u,{tagTypeId:p,tagTypeName:d});case 11:if(2e4!==e.sent.data.code){e.next=18;break}return m.Z.success("\u64cd\u4f5c\u6210\u529f"),e.next=16,o({type:"reset"});case 16:return e.next=18,o({type:"fetchTagList"});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[2,20]])})),deleteTag:i().mark((function e(t,n){var a,o,c,s,u,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.prev=1,e.next=4,c((function(e){return(0,r.Z)({},e)[v]}));case 4:return s=e.sent,u=s.targetTag,p=u.id,d=u.name,e.next=10,a(l,{tagId:p,tagName:d});case 10:if(2e4!==e.sent.data.code){e.next=19;break}return m.Z.success("\u64cd\u4f5c\u6210\u529f"),e.next=15,o({type:"save",payload:{tipModalShow:!1}});case 15:return e.next=17,o({type:"reset"});case 17:return e.next=19,o({type:"fetchTagList"});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})),deleteTagType:i().mark((function e(t,n){var a,o,c,s,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.prev=1,e.next=4,c((function(e){return(0,r.Z)({},e)[v]}));case 4:return s=e.sent,u=s.targetTag,l=u.tagTypeId,d=u.tagTypeName,e.next=10,a(p,{tagTypeId:l,tagTypeName:d});case 10:if(2e4!==e.sent.data.code){e.next=19;break}return m.Z.success("\u64cd\u4f5c\u6210\u529f"),e.next=15,o({type:"save",payload:{tipModalShow:!1}});case 15:return e.next=17,o({type:"reset"});case 17:return e.next=19,o({type:"fetchTagList"});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})),addTag:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,u=a.targetTag,l=u.name,p=u.tagTypeId,f=u.tagTypeName,e.next=6,s((function(e){return(0,r.Z)({},e)[v]}));case 6:return h=e.sent,m=h.projectId,y=h.tabActiveKey,e.next=11,o(d,{projectId:m,tagName:l,tagTypeId:p,tagTypeName:f,addType:y});case 11:if(2e4!==e.sent.data.code){e.next=17;break}return e.next=15,c({type:"save",payload:{step:2,targetTag:{id:"",name:"",tagTypeId:"",tagTypeName:""}}});case 15:return e.next=17,c({type:"fetchTagList"});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[2,19]])})),fetchTagReferenceNum:i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.put,n.select,e.prev=2,o=r.tagId,e.next=6,a(f,{tagId:o});case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})),fetchTagTypeReferenceNum:i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.put,n.select,e.prev=2,o=r.tagTypeId,e.next=6,a(h,{tagTypeId:o});case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})),reset:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,e.next=3,r({type:"saveState",payload:{modalShow:!1,tipModalShow:!1,step:1,targetTag:{id:"",name:"",tagTypeId:"",tagTypeName:""},nameExists:!1}});case 3:case"end":return e.stop()}}),e)})),saveState:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:r});case 4:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},18077:(e,t,n)=>{"use strict";n.d(t,{v:()=>h,Z:()=>m});var r=n(87462),a=n(15861),i=n(87757),o=n.n(i),c=n(67294),s=n(15109),u=n(96477),l=n(35239),p=n(73935),d=n(61409),f=function(e){var t=c.useState("\u6dfb\u52a0\u65e0\u6548\u8bcd"),n=t[0],i=t[1],p=c.useState(),f=p[0],h=p[1],m=(0,c.useCallback)((0,a.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(void 0),t.next=3,(0,u.k0)({projectId:l.t.get(l.V.curProject).id,word:e.word}).catch((function(){return null}));case 3:return null!=(n=t.sent)&&n.data.result?(i("\u7f16\u8f91\u65e0\u6548\u8bcd"),h((0,r.Z)({},n.data.result,{status:"ENABLE"}))):(i("\u6dfb\u52a0\u65e0\u6548\u8bcd"),h({word:e.word,modules:[""]})),t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)}))),[e.word]),v=(0,c.useCallback)((0,a.Z)(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.K3)({modules:[""],pageIndex:1,pageSize:20,projectId:l.t.get(l.V.curProject).id,sortModel:{sortName:"CREATED_AT",sortType:"ASC"},status:void 0,word:""}).catch((function(){return null}));case 2:return r=e.sent,e.abrupt("return",(null==r||null==(t=r.data)||null==(n=t.result)?void 0:n.count)||0);case 4:case"end":return e.stop()}}),e)}))),[]);return(0,c.useEffect)((function(){}),[v]),(0,c.useEffect)((function(){e.visible&&m()}),[m]),c.createElement(s.Z,{onClose:e.onClose,onOk:e.onOk,visible:e.visible,title:c.createElement("div",{className:"modal-title"},c.createElement("span",null,n),c.createElement("span",{className:"cursor-pointer",onClick:function(){return d.mW.push({pathname:"/account/project/uselessWord"})}},"\u7ba1\u7406")),initialValue:f,onBeforeVisible:m})},h=function(e){var t=document.createElement("div");t.id="text"+Date.now(),t.style.cssText="\n    display: inline-block;\n    position: relative;\n    float: right;\n    cursor: pointer;\n    margin-left: 5px;\n  ",t.title="\u8bbe\u7f6e\u65e0\u6548\u8bcd",p.render(c.createElement("svg",{className:"icon cursor-pointer w-12 h-12",width:12,height:12,"aria-hidden":"true"},c.createElement("use",{xlinkHref:"#icon-wuxiao"})),t);var n=function(){null==e.onOk||e.onOk();var t=document.getElementsByClassName("yt_tooltip_wrapper");Array.from(t).forEach((function(e){e.parentElement&&(e.parentElement.style.display="none"),e.remove()}))};return setTimeout((function(){var e=document.getElementById(t.id);null==e||e.addEventListener("click",n)}),200),t.outerHTML};const m=c.memo(f)},15109:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});n(53294);var r=n(56697),a=(n(89858),n(51024)),i=n(87462),o=(n(75314),n(11187)),c=n(15861),s=(n(29809),n(97538)),u=n(87757),l=n.n(u),p=n(67294),d=n(63024),f=(n(43378),n(62443)),h=(n(7940),n(31059)),m=n(30381),v=n.n(m),y=function(e){var t=e.options,n=e.allValue,r=p.useState(!1),a=r[0],i=r[1],o=(0,p.useMemo)((function(){var e=[],r=[];return t.forEach((function(t){t.value===n?e.push(t):r.push(t)})),{allItem:e,optionsItem:r}}),[]),c=(0,p.useMemo)((function(){var t,n;return(null==(t=e.value)?void 0:t.some((function(t){return t===e.allValue})))||(null==(n=e.value)?void 0:n.length)===o.optionsItem.length}),[e.value,o.optionsItem]),s=(0,p.useMemo)((function(){var t;return(null==(t=e.value)?void 0:t.some((function(t){return t===e.allValue})))?o.optionsItem.map((function(e){return e.value})):e.value||[]}),[e.value,o.optionsItem]),u=(0,p.useMemo)((function(){return!!s.length&&s.length<o.optionsItem.length}),[s,o.optionsItem]);return p.createElement("div",null,p.createElement(h.default,{className:"mr-8",indeterminate:u,onChange:function(t){null==e.onChange||e.onChange(t.target.checked?[n]:[])},checked:c},o.allItem[0].label),p.createElement(f.default,{visible:a,onVisibleChange:function(t){return!!e.updatedAt&&i(t)},content:p.createElement(p.Fragment,null,p.createElement("p",null,"\u64cd\u4f5c\u4eba\uff1a",e.username),p.createElement("p",null,"\u64cd\u4f5c\u65f6\u95f4\uff1a",v()(e.updatedAt).format("YYYY/MM/DD HH:mm:ss")))},p.createElement(h.default.Group,{className:"inline",options:o.optionsItem,value:s,onChange:function(t){null==e.onChange||e.onChange(t.length===o.optionsItem.length?[n]:t)}})))};const g=p.memo(y);var x=n(96477),I=n(35239),b=n(90768),T={name:"basic",initialValues:{word:"",modules:[""]},labelCol:{span:3},labelAlign:"right"},E=function(e){var t,n,u=(0,b.Z)(e,{defaultValue:!1,valuePropName:"visible",trigger:"onClose"}),f=u[0],h=u[1],m=s.Z.useForm()[0],v=function(){var t=(0,c.Z)(l().mark((function t(){var n,r,a,c,s,u,p,d;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.validateFields().catch((function(){return null}));case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return");case 5:if(a=I.t.get(I.V.curProject).id,null==(n=e.initialValue)||!n.id){t.next=15;break}return t.next=9,(0,x.W2)({id:e.initialValue.id,modules:r.modules,word:r.word,projectId:a,status:null==(c=e.initialValue)?void 0:c.status}).catch((function(e){return e}));case 9:if(u=t.sent,2e4===(null==(s=u.data)?void 0:s.code)){t.next=12;break}return t.abrupt("return",o.default.error(u.data.msg));case 12:o.default.success("\u65e0\u6548\u8bcd\u89c4\u5219\u5df2\u751f\u6548"),t.next=21;break;case 15:return t.next=17,(0,x.G1)((0,i.Z)({},r,{projectId:a,status:"ENABLE"})).catch((function(e){return e}));case 17:if(d=t.sent,2e4===(null==(p=d.data)?void 0:p.code)){t.next=20;break}return t.abrupt("return",o.default.error(d.data.msg));case 20:o.default.success("\u65e0\u6548\u8bcd\u89c4\u5219\u5df2\u751f\u6548");case 21:null==e.onOk||e.onOk(r),y();case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,p.useEffect)((function(){m.setFieldsValue(e.initialValue)}),[e.initialValue]);var y=function(){m.resetFields(),h(!1)},E=null;return e.children&&(E=p.cloneElement(e.children,{key:(new Date).getTime(),onClick:function(){var t=(0,c.Z)(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null==e.onBeforeVisible?void 0:e.onBeforeVisible();case 2:n=t.sent,h(!0),m.setFieldsValue(n||e.initialValue);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})),p.createElement(p.Fragment,null,E,f&&p.createElement(r.Z,{className:"invalid_word_modal",title:e.title,visible:f,onOk:v,onCancel:y,width:720},p.createElement(s.Z,(0,i.Z)({},T,{form:m}),p.createElement(s.Z.Item,{label:"\u65e0\u6548\u8bcd",name:"word",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65e0\u6548\u8bcd"},{max:50,message:"\u65e0\u6548\u8bcd\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc750\u4e2a\u5b57"}]},p.createElement(a.default,{disabled:!!e.initialValue,type:"text"})),p.createElement(s.Z.Item,{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}],name:"modules",label:"\u6570\u636e\u7c7b\u578b"},p.createElement(g,{allValue:"",options:d.P,updatedAt:null==(t=e.initialValue)?void 0:t.updatedAt,username:null==(n=e.initialValue)?void 0:n.username})))))};const w=p.memo(E)},63024:(e,t,n)=>{"use strict";n.d(t,{c:()=>r,P:()=>a});var r=[{id:"COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"SERVICE",name:"\u5ba2\u670d\u4f1a\u8bdd"},{id:"QUESTIONAIRE",name:"\u95ee\u5377\u8c03\u7814"},{id:"APP_COMMENT",name:"\u5e94\u7528\u8bc4\u8bba"},{id:"TICKET",name:"\u5de5\u5355"},{id:"SELF",name:"\u5185\u5bb9\u7535\u5546"}],a=[{label:"\u5168\u90e8",value:""}].concat(r.map((function(e){return{label:e.name,value:e.id}})))},96477:(e,t,n)=>{"use strict";n.d(t,{G1:()=>a,W2:()=>i,k0:()=>o,K3:()=>c});var r=n(49722),a=function(e){return r.h.post("/word/filter/add",e)},i=function(e){return r.h.post("/word/filter/update",e)},o=function(e){return r.h.post("/word/filter/find",e)},c=function(e){return r.h.post("/word/filter/list",e)}},67497:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var antd_lib_message_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(75314),antd_lib_message_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_message_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_message__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11187),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(87462),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_services__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4289),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(53326),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(50361),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_4__),public_dva_names__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(64396),namespace=public_dva_names__WEBPACK_IMPORTED_MODULE_5__.Z.project.warning.edit,screeningName=public_dva_names__WEBPACK_IMPORTED_MODULE_5__.Z.IDBHeaderScreening.screening,originState={isEdit:!1,changed:!1,title:"",description:"",categoryId:1,formRule:{type:"",level:"HIGH",headerFilterParamsNew:[],rules:[],condition:{},ruleDetail:[],ruleDetailCopy:[]},formPush:{receiverTeamIdList:[],receiverUserIdList:[],interval:18e5},teamList:[],userList:[],webhookList:[],questionnaireList:[],test:!0},delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const __WEBPACK_DEFAULT_EXPORT__={namespace:namespace,state:Object.assign({},originState),effects:{formRuleChange:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function formRuleChange(_ref,_ref2){var payload,put,select,_yield$select,formRule,newFormRule,copy,competeVal,value;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function formRuleChange$(_context){for(;;)switch(_context.prev=_context.next){case 0:return payload=_ref.payload,put=_ref2.put,select=_ref2.select,_context.next=4,select((function(e){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e)[namespace]}));case 4:if(_yield$select=_context.sent,formRule=_yield$select.formRule,log("payload",payload),newFormRule=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_4___default()(formRule),1!==payload.key.length){_context.next=12;break}eval("newFormRule."+payload.key.join(".")+" = payload.value"),_context.next=38;break;case 12:if(!payload.key[1]||"calType"!==payload.key[1]){_context.next=19;break}newFormRule.condition.calType=payload.value.calType,copy=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_4___default()(formRule.ruleDetailCopy),newFormRule.ruleDetailCopy=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_4___default()(formRule.ruleDetail),newFormRule.ruleDetail=copy,_context.next=38;break;case 19:if(!payload.key[1]||"aspect"!==payload.key[1]){_context.next=26;break}newFormRule.headerFilterParamsNew=payload.value,competeVal=function(e,t){return(payload.value&&payload.value.find((function(e){return"ASPECT_MODEL"===e.id}))?payload.value.find((function(e){return"ASPECT_MODEL"===e.id})).values.find((function(e){return"ASPECT1"===e.id})).values.length?payload.value.find((function(e){return"ASPECT_MODEL"===e.id})).values.find((function(e){return"ASPECT1"===e.id})).values:payload.value.find((function(e){return"ASPECT_MODEL"===e.id})).values.find((function(e){return"ASPECT2"===e.id})).values:[]).map((function(t){var n=formRule[e].filter((function(e){return e.name===t}))[0];return{name:t,value:n?n.value:"20"}}))},newFormRule.ruleDetail=competeVal("ruleDetail","PERCENT"===newFormRule.condition.calType),newFormRule.ruleDetailCopy=competeVal("ruleDetailCopy","PERCENT"!==newFormRule.condition.calType),_context.next=38;break;case 26:if(!payload.key[1]||"dateRangeType"!==payload.key[1]){_context.next=38;break}newFormRule.condition.dateRangeType=payload.value.dateRangeType,_context.t0=payload.value.dateRangeType,_context.next="CURRENT_DAY"===_context.t0?31:"LAST_THREE_DAYS"===_context.t0?33:35;break;case 31:return value=30,_context.abrupt("break",37);case 33:return value=50,_context.abrupt("break",37);case 35:return value=100,_context.abrupt("break",37);case 37:newFormRule.condition.min=value;case 38:return _context.next=40,put({type:"save",payload:{formRule:lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_4___default()(newFormRule),changed:!payload.noChange}});case 40:case"end":return _context.stop()}}),formRuleChange)})),formPushChange:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a,i,o,c,s;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,i=n.select,e.next=4,i((function(e){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e)[namespace]}));case 4:return o=e.sent,c=o.formPush,(s=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_4___default()(c))[r.key]=r.value,e.next=10,a({type:"save",payload:{formPush:s,changed:!0}});case 10:case"end":return e.stop()}}),e)})),fetchUserList:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a,i,o,c,s,u;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,i=n.call,o=n.select,e.next=4,o((function(e){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e)[namespace]}));case 4:return c=e.sent,s=c.projectId,e.next=8,i(_services__WEBPACK_IMPORTED_MODULE_2__.JZ,{projectId:r.projectId||s});case 8:return u=e.sent,e.next=11,a({type:"save",payload:(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},r,{teamList:u.data.result.team,userList:u.data.result.user})});case 11:case"end":return e.stop()}}),e)})),fetchWebhookList:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a,i,o,c,s,u,l;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,i=n.call,o=n.select,e.next=4,o((function(e){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e)[namespace]}));case 4:return c=e.sent,s=c.projectId,e.next=8,i(_services__WEBPACK_IMPORTED_MODULE_2__.xY,{projectId:(null==r?void 0:r.projectId)||s});case 8:if(u=e.sent,!(2e4===(l=u.data).code&&l.result.count>0)){e.next=13;break}return e.next=13,a({type:"save",payload:{webhookList:l.result.result}});case 13:case"end":return e.stop()}}),e)})),fetchQuestionnaireList:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a,i,o,c,s,u,l,p;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,i=n.select,o=n.call,e.next=4,i((function(e){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e)[namespace]}));case 4:return c=e.sent,s=c.projectId,e.next=8,o(_services__WEBPACK_IMPORTED_MODULE_2__.jO,{projectId:r.projectId||s,pageIndex:r.pageIndex||1,pageSize:100,name:r.name});case 8:if(u=e.sent,l=u.data,p=[],e.prev=11,!(2e4===l.code&&l.result.count>0)){e.next=19;break}if(void 0!==r.name){e.next=18;break}return e.next=16,a({type:"save",payload:{questionnaireList:l.result.result}});case 16:e.next=19;break;case 18:p=l.result.result;case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(11);case 23:return e.prev=23,e.next=26,a({type:"save",payload:(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},r)});case 26:return e.finish(23);case 27:return e.abrupt("return",p);case 28:case"end":return e.stop()}}),e,null,[[11,21,23,27]])})),ruleNameCheck:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a,i,o,c,s;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.select,i=n.call,o=!0,e.prev=3,e.next=6,i(_services__WEBPACK_IMPORTED_MODULE_2__.S7,{title:r.title});case 6:c=e.sent,2e4===(s=c.data).code||5000006!==s.code&&"\u9884\u8b66\u540d\u79f0\u91cd\u590d"!==s.msg||(o=!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),5000006!==e.t0.data.code&&"\u9884\u8b66\u540d\u79f0\u91cd\u590d"!==e.t0.data.msg||(antd_lib_message__WEBPACK_IMPORTED_MODULE_7__.default.destroy(),o=!1);case 14:return e.prev=14,e.next=17,a({type:"save",payload:{test:o}});case 17:return e.finish(14);case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,null,[[3,11,14,18]])})),getWarning:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a,i,o,c,s,u,l,p,d,f,h,m;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,i=n.call,o=n.select,e.next=4,i(delay,300);case 4:return e.next=6,o((function(e){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e)[namespace]}));case 6:return c=e.sent,s=c.webhookList,e.next=10,i(_services__WEBPACK_IMPORTED_MODULE_2__.SE,{id:r.id});case 10:if(!(u=e.sent)||2e4!==u.data.code||!u.data.result){e.next=15;break}return l=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.EH)(u.data.result,s),p=l.formRule,d=l.formPush,f=l.categoryId,h=l.title,m=l.description,e.next=15,a({type:"save",payload:{formRule:p,formPush:d,categoryId:f,title:h,description:m}});case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)})),submit:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a,i,o,c,s,u,l,p,d,f,h,m,v,y;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,i=n.select,o=n.call,e.next=4,i((function(e){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e)[namespace]}));case 4:return c=e.sent,s=c.title,u=c.description,l=c.formRule,p=c.formPush,d=c.categoryId,f=c.projectId,h=c.questionnaireList,e.next=14,i((function(e){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e)[screeningName]}));case 14:return m=e.sent,v=m.screeningValues,e.next=18,o(_services__WEBPACK_IMPORTED_MODULE_2__.xP,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},(0,_utils__WEBPACK_IMPORTED_MODULE_3__.Hr)(l,p,d,v,h,r.warningTypes),{title:s.substring(0,20).trim(),description:u.substring(0,50).trim(),type:r.warningTypes.find((function(e){return e.value===d})).hasAspect?l.type||"PROJECT_ASPECT":"KEYWORDS",projectId:f,categoryId:String(d)}));case 18:if(2e4!==(y=e.sent).data.code){e.next=22;break}return e.next=22,a({type:"save",payload:{changed:!1}});case 22:return e.abrupt("return",y);case 23:case"end":return e.stop()}}),e)})),update:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a,i,o,c,s,u,l,p,d,f,h,m,v,y;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,i=n.select,o=n.call,e.next=4,i((function(e){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e)[namespace]}));case 4:return c=e.sent,s=c.title,u=c.description,l=c.formRule,p=c.formPush,d=c.categoryId,f=c.projectId,h=c.questionnaireList,e.next=14,i((function(e){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e)[screeningName]}));case 14:return m=e.sent,v=m.screeningValues,e.next=18,o(_services__WEBPACK_IMPORTED_MODULE_2__.ik,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},(0,_utils__WEBPACK_IMPORTED_MODULE_3__.Hr)(l,p,d,v,h,r.warningTypes),{title:s.substring(0,20).trim(),description:u.substring(0,50).trim(),type:r.warningTypes.find((function(e){return e.value===d})).hasAspect?l.type||"PROJECT_ASPECT":"KEYWORDS",projectId:f,categoryId:String(d),id:r.id}));case 18:if(2e4!==(y=e.sent).data.code){e.next=22;break}return e.next=22,a({type:"save",payload:{changed:!1}});case 22:return e.abrupt("return",y);case 23:case"end":return e.stop()}}),e)})),saveInfo:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark((function e(t,n){var r,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:r});case 4:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},originState)}}}},4289:(e,t,n)=>{"use strict";n.d(t,{JZ:()=>i,xY:()=>o,jO:()=>c,S7:()=>s,xP:()=>u,SE:()=>l,ik:()=>p});var r=n(87462),a=n(49722),i=function(e){return a.h.post("/filter/find",{type:"INBOX",filterTypes:["USER","TEAM"],projectId:e.projectId})},o=function(e){return a.h.post("/webhook/list",(0,r.Z)({},e,{pageIndex:1,pageSize:500}))},c=function(e){return a.h.post("/questionnaire/list",(0,r.Z)({},e,{sortName:"updatedAt",sortType:"DESC",status:["DISPATCHED"]}))},s=function(e){return a.h.post("/warning/manage/rule/checkWarning",e)},u=function(e){return a.h.post("/warning/manage/rule/add",e)},l=function(e){return a.h.post("/warning/manage/rule/detail",e)},p=function(e){return a.h.post("/warning/manage/rule/updateWarning",e)}},53326:(e,t,n)=>{"use strict";n.d(t,{rO:()=>s,KZ:()=>l,xn:()=>d,AT:()=>f,m3:()=>h,SR:()=>m,Hr:()=>y,EH:()=>g,uT:()=>u});var r=n(87462),a=n(35239),i=n(61193),o=n(87219),c=[{label:"\u7535\u5546\u8bc4\u8bba",value:1,authority:"MESSAGE_COMMENT",screening:["WARNING_COMMENT_ASPECT","WARNING_COMMENT_KEYWORDS"]},{label:"\u5ba2\u670d\u4f1a\u8bdd",value:8,authority:"MESSAGE_SERVICE",screening:[null,"WARNING_SERVICE"]},{label:"\u95ee\u5377\u8c03\u7814",value:17,authority:"MESSAGE_QUESTIONAIRE",screening:["WARNING_NPS_ASPECT","WARNING_NPS"]},{label:"\u5e94\u7528\u8bc4\u8bba",value:21,authority:"MESSAGE_APP",screening:["WARNING_APP_COMMENT_ASPECT","WARNING_APP_COMMENT_KEYWORD"]},{label:"\u5de5\u5355",value:22,authority:"MESSAGE_TICKET",screening:["WARNING_ZENDESK_ASPECT","WARNING_ZENDESK_KEYWORD"]},{label:"\u5185\u5bb9\u7535\u5546",value:12,authority:"MESSAGE_SELF",screening:["WARNING_SELF_ASPECT","WARNING_SELF_KEYWORD"]}],s=function(){return c.filter((function(e){return i.Z.hasAuthority(e.authority)}))},u=function(e){return[{title:a.t.get(a.V.backProjectConfig).name,url:"/account/project/preview"},{title:"\u9884\u8b66\u89c4\u5219",url:"/account/project/warning/overview"},{title:e.title,url:e.url}]},l=function(e,t,n){var r=null==n?void 0:n.find((function(t){return t.value===e}));return null!=r&&r.hasAspect?17===e&&"KEYWORDS"===t.type?t.condition.satisfyType&&"ANY"===t.condition.satisfyType&&t.rules.filter((function(e){return e.type})).length>1:t.ruleDetail.length>1&&"KEYWORDS"!==t.type:17===e&&t.condition.satisfyType&&"ANY"===t.condition.satisfyType&&t.rules.filter((function(e){return e.type})).length>1},p={weekday:{start:"08:00:00",end:"22:00:00",weekDayList:["MON","TUES","WED","THUR","FRI"]},all:{start:"00:00:00",end:"23:59:00",weekDayList:["MON","TUES","WED","THUR","FRI","SAT","SUN"]}},d=function(e,t){var n,r;return!(null!=(n=e.headerFilterParamsNew)&&n.find((function(e){return e.id===t})))||!(e.headerFilterParamsNew.find((function(e){return e.id===t}))&&null!=(r=e.headerFilterParamsNew.find((function(e){return e.id===t})).values)&&r.some((function(e){return e.value})))},f=function(e,t,n,r){return void 0===n&&(n="TOPIC"),null!=t&&t.some((function(e){return e.id===n}))&&null!=e&&e.some((function(e){return e.id===n}))?t.find((function(e){return e.id===n})).values.length<e.find((function(e){return e.id===n})).values.length||t.find((function(e){return e.id===n})).values.some((function(e){return 1===e.value}))&&e.find((function(e){return e.id===n})).values.some((function(e){return 1===e.value}))&&t.find((function(e){return e.id===n})).values.find((function(e){return 1===e.value})).id===e.find((function(e){return e.id===n})).values.find((function(e){return 1===e.value})).id?t.find((function(e){return e.id===n})):e.find((function(e){return e.id===n})):(null==t||!t.length)&&r||null!=t&&t.some((function(e){return e.id===n}))&&(null==e||!e.some((function(e){return e.id===n})))?t.find((function(e){return e.id===n})):e.find((function(e){return e.id===n}))},h=function(e,t,n,r){if(void 0===n&&(n="TOPIC"),e&&t&&(e.find((function(e){return e.id===n}))||e.find((function(e){return"ASPECT_MODEL"===e.id})))){var a,i=null==(a=e.find((function(e){return e.id===n})))?void 0:a.values;return(0,o.ZP)(t,(function(t){var a;(i&&(t.find((function(e){return e.id===n}))?t.find((function(e){return e.id===n})).values=t.find((function(e){return e.id===n})).values.length<i.length?t.find((function(e){return e.id===n})).values:[].concat(t.find((function(e){return e.id===n})).values.filter((function(e){return e.id!==i.find((function(e){return 1===e.value})).id})),[i.find((function(e){return 1===e.value}))]):t.push({id:n,values:i})),e.find((function(e){return"ASPECT_MODEL"===e.id})))&&(t.find((function(e){return"ASPECT_MODEL"===e.id}))?t.find((function(e){return"ASPECT_MODEL"===e.id})).values=22===r?Array.from(new Set([].concat((null==(a=e.find((function(e){return"ASPECT_MODEL"===e.id})))?void 0:a.values.filter((function(e){return"ASPECT1"===e.id||"ASPECT2"===e.id})))||[],t.find((function(e){return"ASPECT_MODEL"===e.id})).values.filter((function(e){return"ASPECT1"!==e.id&&"ASPECT2"!==e.id}))))):e.find((function(e){return"ASPECT_MODEL"===e.id})).values:t.push({id:"ASPECT_MODEL",values:e.find((function(e){return"ASPECT_MODEL"===e.id})).values}))}))}return[]},m=function(e,t){var n=e;if(null!=e&&e.length&&null!=t&&t.length){var a=e.filter((function(e){return t.map((function(e){return e.id})).indexOf(e.id)>-1}));a.length&&(n=(a=a.map((function(e){return(0,r.Z)({},e,{values:e.values.filter((function(n){return"CUSTOMER_NAME"===n.id?n:t.find((function(t){return t.id===e.id})).data.map((function(e){return e.id})).indexOf(n.id)>-1}))})}))).filter((function(e){return e.values.length})).map((function(e){var n=[];return e.values.forEach((function(a){var i="COMMENT_LENGTH"===a.id||"CUSTOMER_NAME"===a.id?a.values:a.values.filter((function(n){return t.find((function(t){return t.id===e.id})).data.find((function(e){return e.id===a.id})).options.map((function(e){return e.id})).indexOf(n.id?n.id:n)>-1}));i.length&&n.push((0,r.Z)({},a,{values:i}))})),(0,r.Z)({},e,{values:n})})))}return n},v=function(e,t,n){var r=n&&n.find((function(e){return"ASPECT_MODEL"===e.id}))&&n.find((function(e){return"ASPECT_MODEL"===e.id})).values&&n.find((function(e){return"ASPECT_MODEL"===e.id})).values.find((function(e){return"ASPECT2"===e.id})).values.length?"ASPECT2":"ASPECT1";if(t&&t.length){var a=t.map((function(e){return{aspectName:e.name,aspectType:r,threshold:e.value}})),i=a.filter((function(e){return"ASPECT1"===e.aspectType})).length?[{type:"ASPECT1",aspectWarningThreshold:a.filter((function(e){return"ASPECT1"===e.aspectType}))}]:[],o=a.filter((function(e){return"ASPECT2"===e.aspectType})).length?[{type:"ASPECT2",aspectWarningThreshold:a.filter((function(e){return"ASPECT2"===e.aspectType}))}]:[];return[].concat(i,o,e.filter((function(e){return"ASPECT1"!==e.type&&"ASPECT2"!==e.type&&"SIMPLE_KEYWORD"!==e.type&&"SENIOR_KEYWORD"!==e.type&&"NPS"!==e.type&&"SATISFACTION"!==e.type})))}return e};function y(e,t,n,a,i,o){var c,s,u,d,f,h,m,y,g=e.questionnaireList,x=g&&g.length?!(null!=g&&g.some((function(e){return e.questionnaireType.includes("NPS")}))):!i.some((function(e){return e.questionnaireType.includes("NPS")})),I=g&&g.length?!(null!=g&&g.some((function(e){return e.questionnaireType.includes("SATISFACTION")}))):!i.some((function(e){return e.questionnaireType.includes("SATISFACTION")})),b=null==o?void 0:o.find((function(e){return e.value===n})),T=b.hasAspect,E="KEYWORDS"===e.type&&(null==o||null==(c=o.find((function(e){return e.value===b.value})))?void 0:c.hasKeyword)||(null==o||null==(s=o.find((function(e){return e.value===b.value})))?void 0:s.hasKeyword)&&!(null!=o&&null!=(u=o.find((function(e){return e.value===b.value})))&&u.hasAspect),w=null!=(d=e.headerFilterParamsNew)&&null!=(f=d.find((function(e){return"ASPECT_MODEL"===e.id})))&&null!=(h=f.values)&&null!=(m=h.filter((function(e){return"ASPECT1"!==e.id&&"ASPECT2"!==e.id})))&&m.length?[{id:"ASPECT_MODEL",values:null==(y=e.headerFilterParamsNew.find((function(e){return"ASPECT_MODEL"===e.id})))?void 0:y.values.filter((function(e){return"ASPECT1"!==e.id&&"ASPECT2"!==e.id}))}]:[];return(0,r.Z)({},JSON.parse(JSON.stringify(e)),JSON.parse(JSON.stringify(t)),{condition:(0,r.Z)({},JSON.parse(JSON.stringify(e)).condition,{workType:void 0!==e.condition.workType?p[e.condition.workType]:p.weekday,combined:!(17!==n||!E||"ANY"===e.condition.satisfyType)||(l(n,e,o)?void 0===e.condition.combined||e.condition.combined:void 0),satisfyType:17===n&&E?e.condition.satisfyType||"ALL":void 0,repeatType:T&&"KEYWORDS"!==e.type?e.condition.repeatType||"ENABLE":void 0,min:T&&"KEYWORDS"!==e.type?e.condition.min||100:void 0,calType:T&&"KEYWORDS"!==e.type?e.condition.calType||"PERCENT":void 0,dateRangeType:T&&"KEYWORDS"!==e.type?e.condition.dateRangeType||"LAST_SENVEN_DAYS":void 0}),questionnaireList:17===n&&E?g:void 0,headerFilterParamsNew:T&&"KEYWORDS"!==e.type?e.headerFilterParamsNew:22===n?[].concat(e.headerFilterParamsNew.filter((function(e){return"ASPECT_MODEL"!==e.id})),w):e.headerFilterParamsNew.filter((function(e){return"ASPECT_MODEL"!==e.id})),ruleDetail:T&&"KEYWORDS"!==e.type?e.ruleDetail:void 0,ruleDetailCopy:T&&"KEYWORDS"!==e.type?e.ruleDetailCopy:void 0,rules:T&&"KEYWORDS"!==e.type?v(e.rules,e.ruleDetail,e.headerFilterParamsNew):17===n&&"KEYWORDS"===e.type?e.rules.filter((function(e){return"NPS"===e.type&&!x&&e.type||"SATISFACTION"===e.type&&!I&&e.type||"SENIOR_KEYWORD"===e.type&&e.type||"SIMPLE_KEYWORD"===e.type&&e.type})).map((function(e){return(0,r.Z)({},e,{seniorKeyword:e.seniorKeyword?e.seniorKeyword.map((function(e){return e.filter((function(e){return e.tags.length}))})).filter((function(e){return e.length>1})):void 0})})):e.rules.filter((function(e){return e.type&&"ASPECT1"!==e.type&&"ASPECT2"!==e.type&&"NPS"!==e.type&&"SATISFACTION"!==e.type})).map((function(e){return(0,r.Z)({},e,{seniorKeyword:e.seniorKeyword?e.seniorKeyword.map((function(e){return e.filter((function(e){return e.tags.length}))})).filter((function(e){return e.length>1})):void 0})}))})}function g(e,t){var n=e.rules&&e.rules.some((function(e){return"ASPECT1"===e.type}))?e.rules.find((function(e){return"ASPECT1"===e.type})).aspectWarningThreshold.map((function(e){return{name:e.aspectName,value:String(e.threshold)}})):[],a=e.rules&&e.rules.some((function(e){return"ASPECT2"===e.type}))?e.rules.find((function(e){return"ASPECT2"===e.type})).aspectWarningThreshold.map((function(e){return{name:e.aspectName,value:String(e.threshold)}})):[];return{formRule:{type:e.type,level:e.level,headerFilterParamsNew:e.headerFilterParamsNew,rules:e.rules,condition:(0,r.Z)({},e.condition,{workType:e.condition&&e.condition.workType?"08:00:00"===e.condition.workType.start?"weekday":"00:00:00"===e.condition.workType.start?"all":"weekday":"weekday",webHookModels:e.condition&&e.condition.webHookModels&&e.condition.webHookModels.length&&t&&t.length?e.condition.webHookModels.filter((function(e){return t.filter((function(e){return"ENABLE"===e.status})).map((function(e){return e.id})).indexOf(e.webhookId)>-1})):e.condition.webHookModels}),ruleDetail:[].concat(n,a),ruleDetailCopy:[].concat(n,a),questionnaireList:e.questionnaireList?e.questionnaireList.map((function(e){return{id:e.id,label:e.name,questionnaireType:e.questionnaireType}})):void 0},formPush:{receiverTeamIdList:e.receiverTeamIdList,receiverUserIdList:e.receiverUserIdList,interval:e.interval},categoryId:Number(e.categoryId),title:e.title,description:e.description}}},57831:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722),c=function(e){return o.h.post("/warning/manage/push/log/list",e)},s=function(e){return o.h.post("/warning/manage/push/log/count",e)},u=n(30381),l=n.n(u),p=n(64396).Z.workspace.log,d="YYYY-MM-DD",f={pageSize:10,current:1,warningLogList:[],dateFilter:{dateGroupType:"DAY",from:l()().subtract(6,"days").format(d),quickChoice:l()().subtract(6,"days").format(d).replace(/-/g,".")+" - "+l()().format(d).replace(/-/g,"."),remoteName:"cTime",to:l()().format(d)},logStatus:"ALL",unSubscribeCount:0,totalPushCount:0,readCount:0,pushUserCount:0,pushTeamCount:0};const h={namespace:p,state:JSON.parse(JSON.stringify(f)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},f)}},effects:{fetchParams:i().mark((function e(t,n){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,n.select,e.next=4,o({type:"save",payload:(0,r.Z)({current:1,pageSize:10},a)});case 4:return e.next=6,o({type:"fetchWarningtLogList"});case 6:case"end":return e.stop()}}),e)})),fetchWarningtLogList:i().mark((function e(t,n){var a,o,s,u,l,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[p]}));case 4:return l=e.sent,d=l.current,f=l.pageSize,h=l.id,m=l.dateFilter,v=l.logStatus,y=[],g=0,e.prev=12,x={warningId:h,dateFilter:m,pageSize:f,logStatus:"ALL"===v?"":v,pageIndex:d},e.next=16,o(c,x);case 16:I=e.sent,b=I.data,T=b.code,E=b.result,2e4===T&&E.count>0&&(y=E.result,g=E.count),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(12);case 24:return e.prev=24,e.next=27,s({type:"save",payload:(0,r.Z)({},a,{warningLogList:y,warningLogTotal:g})});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[12,22,24,28]])})),fetchWarningtLogCard:i().mark((function e(t,n){var a,o,c,u,l,d,f,h,m,v,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[p]}));case 4:return l=e.sent,d=l.dateFilter,f=l.id,h=0,m=0,v=0,y=0,g=0,x=0,e.prev=13,I={warningId:f,dateFilter:d},e.next=17,o(s,I);case 17:b=e.sent,T=b.data,E=T.code,w=T.result,2e4===E&&(h=w.unSubscribeCount,m=w.totalPushCount,v=w.readCount,y=w.pushUserCount,g=w.pushTeamCount,x=w),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(13);case 25:return e.prev=25,e.next=28,c({type:"save",payload:(0,r.Z)({},a,{unSubscribeCount:h,totalPushCount:m,readCount:v,pushUserCount:y,pushTeamCount:g,cardData:x})});case 28:return e.finish(25);case 29:case"end":return e.stop()}}),e,null,[[13,23,25,29]])}))}}},70683:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722),c=function(e){return o.h.post("/warning/manage/rule/list",e)},s=function(e){return o.h.post("/warning/manage/rule/updateStatus",e)},u=function(e){return o.h.post("/warning/manage/rule/updateStatus",e)},l=function(e){return o.h.post("/warning/manage/rule/rename",e)},p=function(e){return o.h.post("filter/find",e)},d=n(64396).Z.project.warning.overview,f={searchKey:"",warningStatusList:"ENABLE",level:"ALL",categoryId:"ALL",type:"ALL",receiverTeamIdList:[],receiverUserIdList:[],warningtList:[],warningtTotal:0,toggleTarget:{id:"",status:""},toggleStatusHint:!1,projectId:void 0,current:1,pageSize:10};const h={namespace:d,state:JSON.parse(JSON.stringify(f)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},f)}},effects:{fetchParams:i().mark((function e(t,n){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,n.select,e.next=4,o({type:"save",payload:(0,r.Z)({current:1,pageSize:10},a)});case 4:return e.next=6,o({type:"fetchWarningtList"});case 6:case"end":return e.stop()}}),e)})),fetchWarningtList:i().mark((function e(t,n){var a,o,s,u,l,p,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,a=a||{},e.next=5,u((function(e){return(0,r.Z)({},e)[d]}));case 5:return l=e.sent,p=l.projectId,f=l.searchKey,h=l.warningStatusList,m=l.level,v=l.categoryId,y=l.type,g=l.receiverTeamIdList,x=l.receiverUserIdList,I=l.current,b=l.pageSize,T=[],E=0,e.prev=18,w={projectId:a.projectId||p,title:f,warningStatus:"ALL"===h?null:h,level:"ALL"===m?null:m,categoryId:"ALL"===v?null:v,type:"ALL"===y?null:y,receiverTeamIdList:g,receiverUserIdList:x,pageIndex:I,pageSize:b},e.next=22,o(c,w);case 22:k=e.sent,C=k.data,S=C.code,N=C.result,2e4===S&&N.total>0&&(T=N.list,E=N.total);case 26:return e.prev=26,e.next=29,s({type:"save",payload:(0,r.Z)({},a,{warningtList:T,warningtTotal:E})});case 29:return e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[18,,26,30]])})),fetchToggleStatus:i().mark((function e(t,n){var r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,c=r.id,u=r.status,l=!1,e.prev=4,e.next=7,a(s,{id:c,status:"ENABLE"===u?"DISABLE":"ENABLE"});case 7:if(!((p=e.sent).status>=200&&p.status<300||304===p.status)){e.next=12;break}return l=!0,e.next=12,o({type:"fetchWarningtList"});case 12:return e.prev=12,e.next=15,o({type:"save",payload:{toggleStatusHint:l}});case 15:return e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[4,,12,16]])})),deleteWarning:i().mark((function e(t,n){var r,a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,c=r.id,s=!1,e.prev=4,e.next=7,a(u,{id:c,status:"DELETED"});case 7:if(!((l=e.sent).status>=200&&l.status<300||304===l.status)){e.next=12;break}return s=!0,e.next=12,o({type:"fetchWarningtList"});case 12:return e.prev=12,e.next=15,o({type:"save",payload:{deleteWarningHint:s}});case 15:return e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[4,,12,16]])})),renameWarning:i().mark((function e(t,n){var r,a,o,c,s,u,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,c=r.id,s=r.title,u=r.description,p=!1,e.prev=4,d={id:c,title:s,description:u},e.next=8,a(l,d);case 8:if(!((f=e.sent).status>=200&&f.status<300||304===f.status)){e.next=13;break}return p=!0,e.next=13,o({type:"fetchWarningtList"});case 13:return e.prev=13,e.next=16,o({type:"save",payload:{renameWarningHint:p}});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[4,,13,17]])})),fetchTeamAndUserOptions:i().mark((function e(t,n){var a,o,c,s,u,l,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,u=[],l=[],e.next=6,s((function(e){return(0,r.Z)({},e)[d]}));case 6:return f=e.sent,h=f.projectId,e.prev=8,m={projectId:a.projectId||h,filterTypes:["TEAM","USER"],type:"OVERVIEW"},e.next=12,o(p,m);case 12:v=e.sent,y=v.data,g=y.code,x=y.result,2e4===g&&x&&(I=x.team,b=x.user,u=I.map((function(e){return{id:e.id,name:e.name}})),l=b.map((function(e){return{id:e.id,name:e.username}})));case 17:return e.prev=17,e.next=20,c({type:"save",payload:{teamOptions:u,userOptions:l}});case 20:return e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[8,,17,21]])}))}}},44091:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722),c=function(e){return o.h.post("/warning/manage/unsubscribeWarning/list",e)},s=n(64396),u=n(35239),l=s.Z.project.unsubscribe,p={pageSize:10,current:1};const d={namespace:l,state:JSON.parse(JSON.stringify(p)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},p)}},effects:{fetchParams:i().mark((function e(t,n){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,n.select,e.next=4,o({type:"save",payload:(0,r.Z)({current:1,pageSize:10},a)});case 4:return e.next=6,o({type:"fetchUnsubscribeList"});case 6:case"end":return e.stop()}}),e)})),fetchUnsubscribeList:i().mark((function e(t,n){var a,o,s,p,d,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.current,h=d.pageSize,m=[],v=0,e.prev=9,y={pageIndex:f,pageSize:h,projectId:u.t.get(u.V.backProjectConfig).id},e.next=13,o(c,y);case 13:g=e.sent,x=g.data,I=x.code,b=x.result,2e4===I&&b.count>0&&(m=b.result,v=b.count),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:return e.prev=21,e.next=24,s({type:"save",payload:(0,r.Z)({},a,{unsubscribeList:m,unsubscribeTotal:v})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[9,19,21,25]])}))}}},92222:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(51218),s=n(64396).Z.project.weebhook,u={pageIndex:1,pageSize:10,total:0,webhookList:[],type:"ALL",name:"",projectId:void 0};const l={namespace:s,state:JSON.parse(JSON.stringify(u)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},u)}},effects:{fetchWeebhookList:o().mark((function e(t,n){var r,i,u,l,p,d,f,h,m,v,y,g,x,I,b,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,a.Z)({},e)[s]}));case 4:return p=e.sent,d=p.pageIndex,f=p.pageSize,h=p.type,m=p.projectId,v=[],y=0,e.prev=11,g=r.type||h,e.next=15,i(c.xY,{pageIndex:r.pageIndex||d,pageSize:r.pageSize||f,name:r.name,type:"ALL"===g?void 0:g,projectId:r.projectId||m});case 15:x=e.sent,I=x.data,b=I.code,T=I.result,2e4===b&&T.count>0&&(v=T.result,y=T.count),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(11);case 23:return e.prev=23,e.next=26,u({type:"save",payload:(0,a.Z)({},r,{weebhookList:v,total:y})});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[11,21,23,27]])})),fetchStatusChange:o().mark((function e(t,n){var i,u,l,p,d,f,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,u=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,a.Z)({},e)[s]}));case 4:return d=e.sent,f=d.name,e.prev=6,(h=new FormData).append("id",i.id),h.append("status",i.status),e.next=12,u(c.PF,h);case 12:if(m=e.sent,2e4!==m.data.code){e.next=21;break}if(r.default.success("\u64cd\u4f5c\u6210\u529f"),"DELETED"!==i.status){e.next=19;break}return e.next=19,l({type:"checkWeebhookStatus"});case 19:return e.next=21,l({type:"fetchWeebhookList",payload:{name:f,pageIndex:1}});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(6);case 25:case"end":return e.stop()}}),e,null,[[6,23]])})),fetchOperateChange:o().mark((function e(t,n){var i,u,l,p,d,f,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,u=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,a.Z)({},e)[s]}));case 4:return d=e.sent,f=d.name,e.prev=6,e.next=9,u(c.wC,(0,a.Z)({},i));case 9:if(h=e.sent,2e4!==h.data.code){e.next=15;break}return r.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=15,l({type:"fetchWeebhookList",payload:{name:f,pageIndex:1}});case 15:return e.abrupt("return",Promise.resolve(!0));case 18:return e.prev=18,e.t0=e.catch(6),r.default.error((null==(m=e.t0.data)?void 0:m.msg)||"\u64cd\u4f5c\u5931\u8d25"),e.abrupt("return",Promise.resolve(!1));case 22:case"end":return e.stop()}}),e,null,[[6,18]])})),webhookUrlCheck:o().mark((function e(t,n){var r,i,u,l,p,d,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[s]}));case 4:return l=e.sent,p=l.projectId,d=!0,e.prev=7,e.next=10,i(c.yA,{url:r.url,projectId:r.projectId||p});case 10:f=e.sent,2e4===(h=f.data).code&&(h.result||(d=!1)),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:return e.abrupt("return",d);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})),checkWeebhookStatus:o().mark((function e(t,n){var r,i,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,i=n.select,e.next=3,i((function(e){return(0,a.Z)({},e)[s]}));case 3:return u=e.sent,l=u.projectId,e.next=7,r(c.m5,{projectId:l});case 7:case"end":return e.stop()}}),e)}))}}},51218:(e,t,n)=>{"use strict";n.d(t,{xY:()=>a,PF:()=>i,wC:()=>o,yA:()=>c,m5:()=>s});var r=n(49722),a=function(e){return r.h.post("/webhook/list",e)},i=function(e){return r.h.post("/webhook/status/update",e)},o=function(e){return r.h.post("/webhook/operate",e)},c=function(e){return r.h.post("/webhook/check?url="+e.url+"&&projectId="+e.projectId)},s=function(e){return r.h.post("/warning/manage/rule/checkAndSetStatus",e)}},24504:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722);function s(e){var t=e.projectId,n=e.id,r=e.isBoardVisible,a=e.isDetailVisible;return c.h.put("/workorder/work-order/schema/"+n+"/visible",{projectId:t,id:n,isBoardVisible:r,isDetailVisible:a})}function u(e){return c.h.get("/workorder/work-order/schema?projectId="+e)}var l=n(35239),p=o.Z.workOrder.board,d={projectId:void 0,fieldList:void 0};const f={namespace:p,state:JSON.parse(JSON.stringify(d)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},d)}},effects:{fetchShow:i().mark((function e(t,n){var a,o,c,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,c=n.call,n.put,e.next=4,o((function(e){return e[p]}));case 4:return u=e.sent,d=u.projectId,e.prev=6,e.next=9,c(s,(0,r.Z)({},a,{projectId:d||l.t.get(l.V.backProjectConfig).id}));case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(6);case 13:case"end":return e.stop()}}),e,null,[[6,11]])})),fetchList:i().mark((function e(t,n){var r,a,o,c,s,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.select,a=n.call,o=n.put,e.next=4,r((function(e){return e[p]}));case 4:return c=e.sent,s=c.projectId,e.prev=6,e.next=9,a(u,s||l.t.get(l.V.backProjectConfig).id);case 9:if(d=e.sent,2e4!==(f=d.data).code){e.next=14;break}return e.next=14,o({type:"save",payload:{fieldList:f.result}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])}))}}},71883:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722);function s(e){var t=e.projectId,n=e.currentId,r=e.nextId,a=e.prevId;return c.h.put("/workorder/work-order/schema/"+n+"/rank",{projectId:t,currentId:n,nextId:r,prevId:a,sort:"ASC"})}function u(e){return c.h.get("/workorder/work-order/schema/rank?projectId="+e)}var l=n(35239),p=o.Z.workOrder.detail,d={projectId:void 0,fieldList:void 0};const f={namespace:p,state:JSON.parse(JSON.stringify(d)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},d)}},effects:{fetchSort:i().mark((function e(t,n){var a,o,c,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,c=n.call,n.put,e.next=4,o((function(e){return e[p]}));case 4:return u=e.sent,d=u.projectId,e.prev=6,e.next=9,c(s,(0,r.Z)({},a,{projectId:d||l.t.get(l.V.backProjectConfig).id}));case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(6);case 13:case"end":return e.stop()}}),e,null,[[6,11]])})),fetchList:i().mark((function e(t,n){var r,a,o,c,s,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.select,a=n.call,o=n.put,e.next=4,r((function(e){return e[p]}));case 4:return c=e.sent,s=c.projectId,e.prev=6,e.next=9,a(u,s||l.t.get(l.V.backProjectConfig).id);case 9:if(d=e.sent,2e4!==(f=d.data).code){e.next=14;break}return e.next=14,o({type:"save",payload:{fieldList:f.result}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])}))}}},78258:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(49722);function s(e){var t=e.projectId,n=e.id,r=e.isRequired,a=e.kind,i=e.name,o=e.itemNode;return c.h.post("/workorder/work-order/schema",{projectId:t,id:n,isRequired:r,kind:a,name:i,itemNode:o})}function u(e){return c.h.get("/workorder/work-order/schema/config?projectId="+e)}function l(e){var t=e.id,n=e.projectId;return c.h.delete("/workorder/work-order/schema/"+t+"?projectId="+n)}function p(e){var t=e.id,n=e.projectId;return c.h.put("/workorder/work-order/schema/"+t+"/enable?projectId="+n)}function d(e){var t=e.id,n=e.projectId;return c.h.put("/workorder/work-order/schema/"+t+"/disable?projectId="+n)}function f(e){var t=e.projectId,n=e.id,r=e.isRequired,a=e.kind,i=e.name,o=e.itemNode,s=e.isForceUpdate;return c.h.put("/workorder/work-order/schema/"+n,{projectId:t,id:n,isRequired:r,kind:a,name:i,itemNode:o,isForceUpdate:s})}var h=n(64396),m=n(35239),v=h.Z.workOrder.field,y={fieldList:void 0,name:"",projectId:void 0};const g={namespace:v,state:JSON.parse(JSON.stringify(y)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},y)},nameSearch:function(e,t){var n=t.payload;return(0,a.Z)({},e,{name:n})}},effects:{fetchAdd:o().mark((function e(t,n){var i,c,u,l,p,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.select,u=n.call,l=n.put,e.next=4,c((function(e){return e[v]}));case 4:return p=e.sent,d=p.projectId,e.prev=6,e.next=9,u(s,(0,a.Z)({},i,{projectId:d}));case 9:f=e.sent,2e4===f.data.code&&r.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:return e.prev=16,e.next=19,l({type:"fetchList",payload:{}});case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[6,14,16,20]])})),fetchList:o().mark((function e(t,n){var r,a,i,c,s,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.select,a=n.call,i=n.put,e.next=4,r((function(e){return e[v]}));case 4:return c=e.sent,s=c.projectId,e.prev=6,e.next=9,a(u,s||m.t.get(m.V.backProjectConfig).id);case 9:if(l=e.sent,2e4!==(p=l.data).code){e.next=14;break}return e.next=14,i({type:"save",payload:{fieldList:p.result}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),fetchDelete:o().mark((function e(t,n){var a,i,c,s,u,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.select,c=n.call,s=n.put,e.next=4,i((function(e){return e[v]}));case 4:return u=e.sent,p=u.projectId,e.prev=6,e.next=9,c(l,{id:a,projectId:p});case 9:d=e.sent,2e4===d.data.code&&r.default.success("\u5220\u9664\u6210\u529f"),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:return e.prev=16,e.next=19,s({type:"fetchList",payload:{}});case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[6,14,16,20]])})),fetchEnable:o().mark((function e(t,n){var a,i,c,s,u,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.select,c=n.call,s=n.put,e.next=4,i((function(e){return e[v]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,e.next=9,c(p,{id:a,projectId:l});case 9:d=e.sent,2e4===d.data.code&&r.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:return e.prev=16,e.next=19,s({type:"fetchList",payload:{}});case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[6,14,16,20]])})),fetchDisable:o().mark((function e(t,n){var a,i,c,s,u,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.select,c=n.call,s=n.put,e.next=4,i((function(e){return e[v]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,e.next=9,c(d,{id:a,projectId:l});case 9:p=e.sent,2e4===p.data.code&&r.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:return e.prev=16,e.next=19,s({type:"fetchList",payload:{}});case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[6,14,16,20]])})),fetchEdit:o().mark((function e(t,n){var i,c,s,u,l,p,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.select,s=n.call,u=n.put,e.next=4,c((function(e){return e[v]}));case 4:return l=e.sent,p=l.projectId,e.prev=6,e.next=9,s(f,(0,a.Z)({},i,{projectId:p}));case 9:d=e.sent,2e4===d.data.code&&r.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(6),h=e.t0.data,r.default.destroy(),e.abrupt("return",h);case 19:return e.prev=19,e.next=22,u({type:"fetchList",payload:{}});case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[6,14,19,23]])}))}}},2075:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(64396),s=n(49722);function u(e){return s.h.get("/workorder/push-message/setting/list?projectId="+e)}function l(e){return s.h.post("/workorder/push-message/send/setting",e)}var p=n(35239),d=n(51218),f=c.Z.workOrder.notice,h={noticeList:void 0,dingdingList:void 0,feishuList:void 0};const m={namespace:f,state:JSON.parse(JSON.stringify(h)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},h)}},effects:{fetchList:o().mark((function e(t,n){var r,a,i,c,s,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.select,a=n.call,i=n.put,e.next=4,r((function(e){return e[f]}));case 4:return c=e.sent,s=c.projectId,e.prev=6,e.next=9,a(u,s||p.t.get(p.V.backProjectConfig).id);case 9:if(l=e.sent,2e4!==(d=l.data).code){e.next=14;break}return e.next=14,i({type:"save",payload:{noticeList:d.result}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),fetchSend:o().mark((function e(t,n){var a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.select,i=n.call,n.put,e.prev=2,e.next=5,i(l,a);case 5:c=e.sent,2e4===c.data.code&&r.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})),fetchWeebhookList:o().mark((function e(t,n){var r,a,i,c,s,u,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,i=n.put,n.select,c=[],e.prev=3,e.next=6,a(d.xY,{pageIndex:1,pageSize:500,type:r,projectId:p.t.get(p.V.backProjectConfig).id});case 6:s=e.sent,u=s.data,l=u.code,f=u.result,2e4===l&&f.count>0&&(c=f.result),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:return e.prev=14,e.next=17,i({type:"save",payload:(h={},h["DINGDING"===r?"dingdingList":"feishuList"]=c,h)});case 17:return e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[3,12,14,18]])}))}}},97448:(e,t,n)=>{"use strict";n.d(t,{jY:()=>r,d3:()=>a,n0:()=>i,Uh:()=>o});var r={5:["zuigao","gao","zhong","di","zuidi"],4:["zuigao","gao","di","zuidi"],3:["zuigao","di","zuidi"]},a={5:["#F34D3D","#FF8A1A","#FFBB00","#488EFF","#BFBFBF"],4:["#F34D3D","#FF8A1A","#488EFF","#BFBFBF"],3:["#F34D3D","#488EFF","#BFBFBF"]},i={startStateColor:"rgb(255,138,26,0.1)",ingStateColor:"rgb(0,144,255,0.1)",endStateColor:"rgb(0,225,165,0.1)"},o=["#FF8A1A","#1890FF","#60DDA9"]},75016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.resource;return o.h.post("/filter/list/cache",{projectId:t,resource:n})}var s=n(64396),u=n(90549),l=n(35239),p=s.Z.global,d=(s.Z.userLogin,function(e,t){return e&&e[t]?e[t].md5:t});const f={namespace:p,state:{ruleSettingList:[],publicResource:{}},effects:{init:i().mark((function e(t,n){var a,o,c,s,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,n.take,s=(a||{}).projectId,d=void 0===s?l.t.get(l.V.curProject).id:s,e.next=5,c((function(e){return e[p]}));case 5:if(f=e.sent,(h=f.publicResource).projectId!==d){e.next=9;break}return e.abrupt("return",h);case 9:return e.next=11,u.Z.get(u.Z.store.projectData,""+d);case 11:if(m=e.sent,!(v=m[0])){e.next=17;break}return e.next=16,o({type:"save",payload:{publicResource:(0,r.Z)({projectId:d},v||{})}});case 16:return e.abrupt("return");case 17:return e.abrupt("return",h);case 18:case"end":return e.stop()}}),e)})),fetchPublicData:i().mark((function e(t,n){var a,o,s,p,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,n.select,n.take,p=a.projectId,f=void 0===p?l.t.get(l.V.curProject).id:p,h=(a||{}).types,e.next=6,u.Z.get(u.Z.store.projectData,""+f);case 6:if(m=e.sent,v=m[0],!(h&&h.length<1)){e.next=12;break}return e.next=11,s({type:"save",payload:{publicResource:(0,r.Z)({projectId:f},v||{})}});case 11:case 28:return e.abrupt("return");case 12:return y=h?h.reduce((function(e,t){return e[t]=d(v,t),e}),{}):{CHECK_ENUM:d(v,"CHECK_ENUM"),ACCOUNT_SOURCE:d(v,"ACCOUNT_SOURCE"),BRAND_SERIES:d(v,"BRAND_SERIES"),VOC_ASPECT:d(v,"VOC_ASPECT"),TAG_TYPE:d(v,"TAG_TYPE"),TAG_DETAIL:d(v,"TAG_DETAIL"),ASPECT_MODEL:d(v,"ASPECT_MODEL"),USER_TEMPLATE_MODEL:d(v,"USER_TEMPLATE_MODEL"),BUSINESS_POINT:d(v,"BUSINESS_POINT"),MARKET_SPU_BRAND:d(v,"MARKET_SPU_BRAND"),MARKET_PLATFORM_SHOP:d(v,"MARKET_PLATFORM_SHOP"),PRICE_RANGE:d(v,"PRICE_RANGE"),CUSTOMER_TAG:d(v,"CUSTOMER_TAG"),QUESTION_NAME:d(v,"QUESTION_NAME"),MOBILE_DICT:d(v,"MOBILE_DICT"),WAITER_RELATION:d(v,"WAITER_RELATION"),WAITER_ASPECT_TREE:d(v,"WAITER_ASPECT_TREE"),WAITER_SESSION_ASPECT:d(v,"WAITER_SESSION_ASPECT"),TOPIC_CONFIG:d(v,"TOPIC_CONFIG"),SCENE_CONFIG:d(v,"SCENE_CONFIG"),CONN_CONFIG:d(v,"CONN_CONFIG"),ASPECT_TREE:d(v,"ASPECT_TREE"),CHECK_OWNER:d(v,"CHECK_OWNER"),USER_FILTER:d(v,"USER_FILTER"),DEFAULT_VALUE:d(v,"DEFAULT_VALUE"),PRODUCT_INFO:d(v,"PRODUCT_INFO")},e.next=15,o(c,{resource:y,projectId:f});case 15:if(g=e.sent,x=g.data.result,I={},x.forEach((function(e){return I[e.id]=e})),!v){e.next=24;break}return e.next=22,o(u.Z.update,u.Z.store.projectData,(0,r.Z)({},v,I));case 22:e.next=26;break;case 24:return e.next=26,o(u.Z.add,u.Z.store.projectData,(0,r.Z)({projectId:f},I));case 26:return e.next=28,s({type:"save",payload:{publicResource:(0,r.Z)({projectId:f},v||{},I)}});case 29:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},3896:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(47218),s={isInitial:!0,projectId:"",searchText:"",status:"",topicOptions:[],topicValue:[],calTypes:[],dateRangeTypes:[],pageIndex:1,pageSize:20,total:0,readCount:0,unReadCount:0,list:[]},u=o.Z.sentiment.alert;const l={namespace:u,state:s,effects:{fetchTopic:i().mark((function e(t,n){var r,a,o,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,e.prev=2,s=r.projectId,e.next=6,a(c.W,{projectId:s});case 6:if(u=e.sent,2e4!==(l=u.data).code){e.next=12;break}return p=l.result.publicOpinionSpecialTopicList,e.next=12,o({type:"save",payload:{topicOptions:p}});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})),fetchAlertList:i().mark((function e(t,n){var r,a,o,s,l,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,s=n.select,e.prev=2,e.next=5,s((function(e){return e[u]}));case 5:return l=e.sent,p=l.projectId,d=l.searchText,f=l.status,h=l.topicValue,m=l.calTypes,v=l.dateRangeTypes,y=l.pageIndex,g=l.pageSize,e.next=16,a(c.K,{projectId:r.projectId?r.projectId:p,title:d,statusList:Object.prototype.hasOwnProperty.call(r,"status")?r.status:f,specialTopicIds:r.topicValue?r.topicValue:h,calTypes:r.calTypes?r.calTypes:m,dateRangeTypes:r.dateRangeTypes?r.dateRangeTypes:v,pageIndex:r.pageIndex?r.pageIndex:y,pageSize:r.pageSize?r.pageSize:g});case 16:if(x=e.sent,2e4!==(I=x.data).code){e.next=22;break}return b=I.result,T=b.total,E=b.list,w=b.readCount,k=b.unReadCount,e.next=22,o({type:"save",payload:{list:E,total:T,readCount:w,unReadCount:k}});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),console.error(e.t0);case 27:return e.prev=27,e.next=30,o({type:"save",payload:r});case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[2,24,27,31]])})),resetState:i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.next=3,a({type:"save",payload:(0,r.Z)({},s)});case 3:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},47218:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,W:()=>i});var r=n(49722);Array.from({length:20}).map(((e,t)=>({id:"3484480b2f8f467e9f08e5383a953adb",warningLogId:"3484480b2f8f467e9f08e5383a953adb",title:`\u5fae\u535a\u7535\u6c60\u53d1\u70ed\u9884\u8b66\u9884\u8b66${t+1}`,remindMsg:"\u4efb\u4e00\u4e8b\u4ef6\u7684\u8fd130\u5206\u949f\u3010\u8d1f\u9762\u58f0\u91cf\u3011\u4e3a234",createdAt:"2019-1-01 10:00",status:"READ"}))),Array.from({length:5}).map(((e,t)=>({name:`\u9884\u8b66\u4e13\u9898${t+1}`,id:`${t}`}))),Array.from({length:10}).map((e=>({dateRangeType:"LAST_THREE_DAYS",threshold:`${Math.round(100*Math.random())}`,warningValue:`${Math.round(1e3*Math.random())}`})));function a(e){var t=e.projectId,n=e.title,a=e.statusList,i=e.specialTopicIds,o=e.calTypes,c=e.dateRangeTypes,s=e.pageIndex,u=e.pageSize;return r.h.post("/warning/log/public/opinion/list",{projectId:t,title:n,statusList:a?[a]:["READ","UNREAD"],specialTopicIds:i,calTypes:o,dateRangeTypes:c,pageIndex:s,pageSize:u})}function i(e){var t=e.projectId;return r.h.post("/public-opinion-warning/search/list",{projectId:t})}},41263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t,n=e.projectId,r=e.dateFilter,a=e.specialTopicId,i=e.eventName;return o.h.post("/public-opinion/chart/find/CHANNEL_DISTRIBUTION",((t={projectId:n,dateFilter:r})[a?"specialTopicId":"eventName"]=[a||i],t))}function s(e){var t,n=e.projectId,r=e.dateFilter,a=e.specialTopicId,i=e.eventName;return o.h.post("/public-opinion-overview/chart/find/CHANNEL_ANALYSIS_POINT_CHART",((t={projectId:n,dateFilter:r})[a?"topicId":"eventName"]=a||[i],t))}function u(e){var t,n=e.projectId,r=e.dateFilter,a=e.channel,i=e.specialTopicId,c=e.eventName;return o.h.post("/public-opinion-overview/chart/find/CHANNEL_ANALYSIS_TREND_CHART",((t={projectId:n,dateFilter:r,channel:a})[i?"topicId":"eventName"]=i||[c],t))}var l=n(64396).Z.sentiment.analysis.channel,p={specialTopicId:void 0,eventName:void 0,filterName:"",projectId:void 0,channelList:void 0,analyzePointList:void 0,channelTrendList:void 0,selectChannel:{}};const d={namespace:l,state:p,dateFilter:void 0,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},p)}},effects:{init:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,r=n.put,n.select,e.next=4,r({type:"fetchChannelList"});case 4:return e.next=6,r({type:"fetchAnalyzePointList"});case 6:case"end":return e.stop()}}),e)})),fetchChannelList:i().mark((function e(t,n){var r,a,o,s,u,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[l]}));case 4:return s=e.sent,u=s.dateFilter,p=s.projectId,d=s.specialTopicId,f=s.eventName,e.prev=9,e.next=12,r(c,{dateFilter:u,projectId:p,specialTopicId:d,eventName:f});case 12:m=e.sent,v=m.data,h=2e4===v.code?v.result?0===v.result.length?"empty":v.result:null:"error",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),h="error";case 20:return e.prev=20,e.next=23,a({type:"save",payload:{channelList:h}});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[9,17,20,24]])})),fetchAnalyzePointList:i().mark((function e(t,n){var r,a,o,c,u,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[l]}));case 4:return c=e.sent,u=c.dateFilter,p=c.projectId,d=c.specialTopicId,f=c.eventName,e.prev=9,e.next=12,r(s,{dateFilter:u,projectId:p,specialTopicId:d,eventName:f});case 12:m=e.sent,v=m.data,h=2e4===v.code?v.result?0===v.result.length?"empty":v.result:null:"error",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),h="error";case 20:return e.prev=20,e.next=23,a({type:"save",payload:{analyzePointList:h}});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[9,17,20,24]])})),channelChange:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"save",payload:{channelTrendList:void 0,selectChannel:r}});case 4:return e.next=6,a({type:"fetchChannelTrendList"});case 6:case"end":return e.stop()}}),e)})),fetchChannelTrendList:i().mark((function e(t,n){var a,o,c,s,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[l]}));case 4:return p=e.sent,d=p.dateFilter,f=p.projectId,h=p.specialTopicId,m=p.eventName,v=p.selectChannel,g=(0,r.Z)({},d,{dateGroupType:a||"DAY"}),e.prev=11,e.next=14,o(u,{dateFilter:g,projectId:f,specialTopicId:h,eventName:m,channel:v.id});case 14:x=e.sent,I=x.data,y=2e4===I.code?I.result||null:"error",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),y="error";case 22:return e.prev=22,e.next=25,c({type:"save",payload:{channelTrendList:y}});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])}))}}},57847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.eventName,n=e.projectId,r=e.dateFilter,a=e.pageIndex,i=e.pageSize;return o.h.post("/public-opinion-overview/event/context/list",{projectId:n,eventName:t,dateFilter:r,pageIndex:a,pageSize:i})}var s=n(64396).Z.sentiment.analysis.eventContext,u={projectId:void 0,dateFilter:null,pageIndex:1,pageSize:20,eventContext:[],total:0,title:"",hasMore:!0},l=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const p={namespace:s,state:u,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},u)}},effects:{fetchEventContextDatas:i().mark((function e(t,n){var a,o,c,u,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return e[s]}));case 4:if(p=e.sent,d=p.dateFilter,f=p.projectId,JSON.stringify(d)===JSON.stringify(a.dateFilter)&&f===a.projectId){e.next=14;break}return e.next=10,c({type:"save",payload:(0,r.Z)({},a,{hasMore:!0,pageIndex:1})});case 10:return e.next=12,o(l,a.timeOut);case 12:return e.next=14,c({type:"fetchEventData",payload:a});case 14:case"end":return e.stop()}}),e)})),fetchEventData:i().mark((function e(t,n){var r,a,o,u,l,p,d,f,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,u=n.select,e.next=4,u((function(e){return e[s]}));case 4:if(l=e.sent,p=l.pageIndex,d=l.pageSize,f=l.eventContext,h=l.title,m=l.dateFilter,v=l.projectId,y=l.hasMore,g=r.pageIndex||p,x={dateFilter:r.dateFilter||m,projectId:r.projectId||v,eventName:[h],pageIndex:20*(g-1)+1,pageSize:d},!y){e.next=28;break}return e.prev=15,e.next=18,a(c,x);case 18:if(I=e.sent,2e4!==(b=I.data).code){e.next=24;break}return T=b.result.eventContext,e.next=24,o({type:"save",payload:{pageIndex:g,eventContext:1===g?T:f.concat(T),hasMore:20===T.length}});case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(15);case 28:case"end":return e.stop()}}),e,null,[[15,26]])}))}}},38303:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.dateFilter,r=e.specialTopicId,a=e.eventName,i=e.volumeType;return o.h.post("/public-opinion/chart/find/SPREAD_ANALYSIS_VOLUME",{projectId:t,dateFilter:n,specialTopicId:r,eventName:a,volumeType:i})}function s(e){var t=e.projectId,n=e.dateFilter,r=e.topicId,a=e.eventName;return o.h.post("/public-opinion-overview/chart/find/SPREAD_ANALYSIS_POINT_CHART",{projectId:t,dateFilter:n,topicId:r,eventName:a})}var u=n(64396),l=n(87219),p=n(30381),d=n.n(p),f=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function h(e,t,n){var r=d()(e),a=d()(t),i="DAY",o="YYYY-MM-DD";"DAY"===n?(i="days",o="YYYY-MM-DD"):"WEEK"===n?(i="week",o="YYYY-ww"):"MONTH"===n&&(i="month",o="YYYY-MM");var c=a.diff(r,i)+1;return Array.from({length:c}).map((function(e,t){return r.add(t?1:0,i).format(o)}))}var m={isInitial:!0,projectId:"",dateFilter:null,specialTopicId:void 0,originVolume:{positive:0,negative:0,neutral:0,influence:0,heat:0},unoriginVolume:{positive:0,negative:0,neutral:0,influence:0,heat:0},dateDimension:"DAY",dateRange:0,scatterChartData:void 0},v=u.Z.sentiment.analysis.path;const y={namespace:v,state:m,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchDatas:i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,e.next=4,o({type:"save",payload:r});case 4:return e.next=6,a(f,100);case 6:return e.next=8,o({type:"fetchOriginalVolume",payload:r});case 8:return e.next=10,o({type:"fetchUnOriginalVolume",payload:r});case 10:case"end":return e.stop()}}),e)})),fetchOriginalVolume:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,h,m,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.prev=2,e.next=5,u((function(e){return e[v]}));case 5:return l=e.sent,p=l.projectId,d=l.dateFilter,f=l.specialTopicId,h=l.eventName,e.next=12,o(c,{projectId:a.projectId||p,dateFilter:a.dateFilter||d,specialTopicId:a.specialTopicId||f,eventName:a.eventName||h,volumeType:"ORIGINAL"});case 12:if(m=e.sent,2e4!==(y=m.data).code){e.next=18;break}return g=y.result,x=g.positive,I=g.negative,b=g.neutral,T=g.influence,E=g.attentionDegree,e.next=18,s({type:"save",payload:{originVolume:{positive:x,negative:I,neutral:b,influence:T,heat:E}}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.error(e.t0);case 23:return e.prev=23,e.next=26,s({type:"save",payload:(0,r.Z)({},a,{isInitial:!1})});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[2,20,23,27]])})),fetchUnOriginalVolume:i().mark((function e(t,n){var r,a,o,s,u,l,p,d,f,h,m,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,s=n.select,e.prev=2,e.next=5,s((function(e){return e[v]}));case 5:return u=e.sent,l=u.projectId,p=u.dateFilter,d=u.specialTopicId,f=u.eventName,e.next=12,a(c,{projectId:r.projectId||l,dateFilter:r.dateFilter||p,specialTopicId:r.specialTopicId||d,eventName:r.eventName||f,volumeType:"FORWARD"});case 12:if(h=e.sent,2e4!==(m=h.data).code){e.next=18;break}return y=m.result,g=y.positive,x=y.negative,I=y.neutral,b=y.influence,T=y.attentionDegree,e.next=18,o({type:"save",payload:{unoriginVolume:{positive:g,negative:x,neutral:I,influence:b,heat:T}}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.error(e.t0);case 23:return e.prev=23,e.next=26,o({type:"save",payload:r});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[2,20,23,27]])})),fetchScatterChartData:i().mark((function e(t,n){var a,o,c,u,p,d,f,m,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return e[v]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,m=p.specialTopicId,y=p.eventName,g=p.dateDimension,x=a.specialTopicId||m,I=a.dateDimension||g,b=(0,l.ZP)(a.dateFilter||f,(function(e){e.dateGroupType=I})),T="empty",e.prev=14,e.next=17,o(s,{projectId:a.projectId||d,dateFilter:b,topicId:x[0],eventName:a.eventName||y});case 17:E=e.sent,2e4===(w=E.data).code&&w.result.length>0&&(k=[0,1,2].map((function(){return h(b.from,b.to,b.dateGroupType).map((function(e){return[e,-1,0,0,0,0]}))})),T=w.result.reduce((function(e,t){var n=e[1===t.emotionType?0:0===t.emotionType?1:2],r=n.findIndex((function(e){return e[0]===t.dateTime}));return r>-1&&(n[r]=[t.dateTime,t.forwardCount,t.effectCount,t.dayFeverCount,t.contentGroup,1]),e}),k)),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(14);case 24:return e.prev=24,e.next=27,c({type:"save",payload:(0,r.Z)({},a,{scatterChartData:T})});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[14,22,24,28]])})),resetState:i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,e.prev=1,e.next=4,a({type:"save",payload:(0,r.Z)({},m)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])}))}}},40267:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t,n=e.projectId,r=e.dateFilter,a=(e.topSize,e.type,e.specialTopicId),i=e.eventName;return o.h.post("/widget/data/find/WORD_TIME_LINE",((t={projectId:n,dateFilter:r,topSize:50,type:"WORD_TIME_LINE"})[i?"eventName":"specialTopicId"]=[i||a],t))}function s(e){var t,n=e.projectId,r=e.dateFilter,a=e.specialTopicId,i=e.eventName;return o.h.post("/public-opinion/chart/find/MEDIA_VIEW",((t={projectId:n,dateFilter:r})[i?"eventName":"specialTopicId"]=[i||a],t))}function u(e){var t,n=e.projectId,r=e.dateFilter,a=e.messageFilterType,i=e.messageFilterSort,c=e.eventName,s=e.specialTopicId;return o.h.post("/public-opinion/chart/find/OPINION_LEADER",((t={projectId:n,dateFilter:r})[c?"eventName":"specialTopicId"]=[c||s],t.filterModel={sortName:i,messageCategory:[a]},t.pageSIze=100,t.pageIndex=1,t))}n(70715),n(39432),n(94644);var l=function(e){var t=e.slice(0,10),n=Math.sqrt(t[0].total);return t.map((function(e){return(0,r.Z)({},e,{rate:Math.sqrt(e.total)/n})}))},p=n(64396).Z.sentiment.analysis.point,d={id:void 0,projectId:void 0,dateFilter:null,title:void 0,filterTitle:"",hotWordBubbleData:void 0,hotWordDoubleData:void 0,hotWordLoading:!1,mediaListData:void 0,mediaListLoading:!1,messageList:void 0,messageFilterType:"QUE_ANS",messageFilterSort:"INFLUENCE"},f=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const h={namespace:p,state:d,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},d)}},effects:{fetchPointDatas:i().mark((function e(t,n){var r,a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[p]}));case 4:if(s=e.sent,u=s.dateFilter,l=s.projectId,JSON.stringify(u)===JSON.stringify(r.dateFilter)&&l===r.projectId){e.next=18;break}return e.next=10,o({type:"save",payload:r});case 10:return e.next=12,a(f,r.timeOut);case 12:return e.next=14,o({type:"fetchHotWordData",payload:r});case 14:return e.next=16,o({type:"fetchMediaListData",payload:r});case 16:return e.next=18,o({type:"fetchMessageList"});case 18:case"end":return e.stop()}}),e)})),fetchHotWordData:i().mark((function e(t,n){var a,o,s,u,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return e[p]}));case 4:return d=e.sent,f=d.projectId,h=d.dateFilter,m=d.id,v=d.title,y={dateFilter:a.dateFilter||h,projectId:a.projectId||f,specialTopicId:m,eventName:v},g=null,x=null,e.prev=11,e.next=14,o(c,y);case 14:I=e.sent,2e4===(b=I.data).code&&b.result.list.length>0&&(T=b.result.list,E=T.reduce((function(e,t){return e+t.total}),0),x=T.map((function(e){return(0,r.Z)({},e,{precent:e.total/E,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})})),g=0===x.length?[]:l(x.slice().sort((function(e,t){return t.total-e.total})))),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,s({type:"save",payload:(0,r.Z)({},a,{hotWordBubbleData:g,hotWordDoubleData:x})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchMediaListData:i().mark((function e(t,n){var r,a,o,c,u,l,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[p]}));case 4:return u=e.sent,l=u.projectId,d=u.dateFilter,f=u.id,h=u.title,m={dateFilter:r.dateFilter||d,projectId:r.projectId||l,specialTopicId:f,eventName:h},v=null,e.prev=11,e.next=14,a(s,m);case 14:y=e.sent,2e4===(g=y.data).code&&g.result.length>0&&(v=g.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,o({type:"save",payload:{mediaListData:v}});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchMessageList:i().mark((function e(t,n){var r,a,o,c,s,l,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,o=n.select,e.next=3,o((function(e){return e[p]}));case 3:return c=e.sent,s=c.projectId,l=c.dateFilter,d=c.messageFilterType,f=c.messageFilterSort,h=c.id,m=c.title,v={dateFilter:l,projectId:s,messageFilterType:d,messageFilterSort:f,eventName:m,specialTopicId:h},y=null,e.prev=12,e.next=15,r(u,v);case 15:g=e.sent,x=g.data,y=2e4===x.code?x.result.messages||null:"error",e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),y="error";case 23:return e.next=25,a({type:"save",payload:{messageList:y}});case 25:case"end":return e.stop()}}),e,null,[[12,20]])})),messageListFilterChange:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:r});case 4:return e.next=6,a({type:"fetchMessageList"});case 6:case"end":return e.stop()}}),e)}))}}},79599:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(87219),s=n(49722);function u(e){var t=e.topicId,n=e.projectId,r=e.dateFilter;return s.h.post("/public-opinion-special-topic/volume/type",{topicId:t,projectId:n,dateFilter:r})}function l(e){var t=e.topicId,n=e.projectId,r=e.dateFilter;return s.h.post("/public-opinion-special-topic/volume/category",{topicId:t,projectId:n,dateFilter:r})}function p(e){var t=e.topicId,n=e.projectId,r=e.dateFilter;return s.h.post("/public-opinion-overview/attention/trend",{topicId:t,projectId:n,dateFilter:r})}function d(e){var t=e.topicId,n=e.projectId,r=e.dateFilter;return s.h.post("/public-opinion-overview/chart/find/SPECIAL_TOPIC_ANALYSIS_POINT_CHART",{topicId:t,dateFilter:r,projectId:n})}function f(e){var t=e.dateFilter,n=e.projectId,r=e.topicId,a=e.eventName;return s.h.post("/public-opinion-overview/chart/find/EVENT_ANALYSIS_TREND_CHART",{dateFilter:t,projectId:n,topicId:r,eventName:a?[a]:[]})}n(70715);var h=n(39432);function m(e){return{dataset:{sourceHeader:!0,source:[["\u60c5\u611f","\u6b63\u9762","\u4e2d\u6027","\u8d1f\u9762"],["\u58f0\u91cf",e.positive,e.neutral,e.negative]]}}}var v=n(67294),y=function(e){if("--"!==e){var t=e.startsWith("-");return v.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"right"}},v.createElement("span",{className:"ellipsis_value"},e),"%","0"!==e&&v.createElement("i",{className:t?"icon-cem_three-states-down":"icon-cem_three-states-up",style:{color:t?"#15B374":"#D96969",fontSize:16}}))}return v.createElement("div",{style:{paddingRight:16}},e)};function g(e,t,n){var a=e.sort((function(e,t){return!(!t.data||!e.data)&&t.data[t.data.length-1].count-e.data[e.data.length-1].count}));"DAY"!==t&&(a=e.map((function(e){return(0,r.Z)({},e,{data:e.data.map((function(e){return(0,r.Z)({},e,{name:(0,h.yV)(t,e.name)})}))})})));var i=0,o=a.map((function(e){var t="--";if(n){var r=n.find((function(t){return t.name===e.name}));if(r&&0!==r.count){var a=e.total-r.count;t=0===a?"0":""+(a/r.count*100).toFixed(2)}}return i+=e.total,[e.name,e.total,t]})),c=a.map((function(e){return e.name})),s=["\u65e5\u671f"].concat(c),u=a[0].data.map((function(e){return[e.name]})),l=a.reduce((function(e,t){return t.data.forEach((function(t){return e.find((function(e){return e[0]===t.name})).push(t.count)})),e}),[].concat(u));return{allTotal:i,length:a.length,tableDatas:n?o.slice().sort((function(e,t){return t[1]-e[1]})).map((function(e){var t=0===e[1]?0:e[1]<1?(100*e[1]).toFixed(2)+"%":e[1];return[e[0],t,y(e[2])]})):void 0,datasets:[{dimensions:["\u6e20\u9053","\u6570\u91cf","\u73af\u6bd4"],source:o},{dimensions:s,source:l},{dimensions:["\u65e5\u671f","\u603b\u91cf"],source:l.map((function(e){return[e[0],e.reduce((function(e,t,n){return 0===n?e:e+t}),0)]}))}]}}var x=n(27470),I=n(53557),b=n(51366),T=o.Z.sentiment.analysis.subject,E={emotionData:void 0,channelEmotionData:void 0,channelEmotionDateType:"WEEK",eventTrendData:void 0,eventOverviewData:void 0,eventOverviewTimeType:"WEEK",eventData:void 0,filterParams:void 0,projectId:void 0,topicId:void 0};const w={namespace:T,state:Object.assign({},E),effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[T]}));case 4:if(s=e.sent,u=s.filterParams,l=s.projectId,p=s.topicId,JSON.stringify(u)===JSON.stringify(a.filterParams)&&l===a.projectId&&p===a.topicId){e.next=13;break}return e.next=11,o({type:"fetchEmotionData",payload:a});case 11:return e.next=13,o({type:"fetchEventTrendData",payload:a});case 13:case"end":return e.stop()}}),e)})),fetchEmotionData:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,s=n.call,e.next=4,c((function(e){return(0,r.Z)({},e)[T]}));case 4:return l=e.sent,p=l.filterParams,d=l.projectId,f=l.topicId,h=(0,r.Z)({},a.filterParams||p,{projectId:a.projectId||d,topicId:a.topicId||f}),v="empty",e.prev=10,e.next=13,s(u,h);case 13:y=e.sent,2e4===(g=y.data).code&&g.result.hasOwnProperty("positive")&&(v=m(g.result)),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,o({type:"save",payload:(0,r.Z)({},a,{emotionData:v})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchChannelEmotionData:i().mark((function e(t,n){var a,o,s,u,p,d,f,h,m,v,y,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,s=n.select,u=n.call,e.next=4,s((function(e){return(0,r.Z)({},e)[T]}));case 4:return p=e.sent,d=p.filterParams,f=p.projectId,h=p.channelEmotionDateType,m=p.topicId,v=a.channelEmotionDateType||h,y=(0,r.Z)({},(0,c.ZP)(a.filterParams||d,(function(e){e.dateFilter.dateGroupType=v})),{topicId:a.topicId||m,projectId:a.projectId||f}),x="empty",e.prev=12,e.next=15,u(l,y);case 15:I=e.sent,2e4===(b=I.data).code&&b.result.length>0&&(x=g(b.result,v)),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,o({type:"save",payload:(0,r.Z)({},a,{channelEmotionData:x})});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])})),fetchEventTrendData:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,s=n.call,e.next=4,c((function(e){return(0,r.Z)({},e)[T]}));case 4:return u=e.sent,l=u.projectId,d=u.topicId,f=u.filterParams,h=(0,r.Z)({},a.filterParams||f,{projectId:a.projectId||l,topicId:a.topicId||d}),m="empty",e.prev=10,e.next=13,s(p,h);case 13:v=e.sent,2e4===(y=v.data).code&&y.result.length>0&&(m=(0,x.Q)(y.result)),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,o({type:"save",payload:(0,r.Z)({},a,{eventTrendData:m})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchEventOverviewData:i().mark((function e(t,n){var a,o,s,u,l,p,f,h,m,v,y,g,x,b,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,s=n.select,u=n.call,e.next=4,s((function(e){return(0,r.Z)({},e)[T]}));case 4:return l=e.sent,p=l.projectId,f=l.filterParams,h=l.eventOverviewTimeType,m=l.topicId,v=a.eventOverviewTimeType||h,y=a.projectId||p,g=a.topicId||m,x=a.filterParams||f,b=(0,r.Z)({topicId:g,projectId:y},(0,c.ZP)(x,(function(e){e.dateFilter.dateGroupType=v}))),E="empty",e.prev=15,e.next=18,u(d,b);case 18:if(w=e.sent,!(2e4===(k=w.data).code&&k.result.length>0)){e.next=24;break}return E=(0,I.Qj)(k.result,v),e.next=24,o({type:"fetchEventData",payload:{eventName:"",projectId:y,topicId:g,filterParams:x}});case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(15);case 28:return e.prev=28,e.next=31,o({type:"save",payload:(0,r.Z)({},a,{eventOverviewData:E})});case 31:return e.finish(28);case 32:case"end":return e.stop()}}),e,null,[[15,26,28,32]])})),fetchEventData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,s=n.call,e.next=4,c((function(e){return(0,r.Z)({},e)[T]}));case 4:return u=e.sent,l=u.projectId,p=u.filterParams,d=u.topicId,h=(0,r.Z)({projectId:a.projectId||l,eventName:a.eventName,topicId:a.topicId||d},a.filterParams||p),m="empty",e.prev=10,e.next=13,s(f,h);case 13:v=e.sent,2e4===(y=v.data).code&&y.result.analysisBaseVOList.length>0&&(m=(0,b.Q)(y.result)),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,o({type:"save",payload:(0,r.Z)({},a,{eventData:m})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clearState:function(){return(0,r.Z)({},Object.assign(E))}}}},80721:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722);function s(e){var t=e.projectId,n=e.dateFilter,r=e.specialTopicId,a=e.eventName;return c.h.post("/public-opinion/chart/find/TREND_ANALYSIS_TREND",{projectId:t,dateFilter:n,specialTopicId:r,eventName:a})}function u(e){var t=e.projectId,n=e.dateFilter,r=e.specialTopicId,a=e.eventName,i=e.escore;return c.h.post("/public-opinion/chart/find/HOT_PUBLIC_OPINION",{projectId:t,dateFilter:n,specialTopicId:r,eventName:a,escore:i})}var l=n(87219),p=n(39432);n(70715);function d(e,t){var n=e.map((function(e){return[e.date,e.total,e.positive,e.neutral,e.negative,e.attentionDegree,e.interaction]})),r=[0,1,2,3].map((function(e){return function(e,t){for(var n=[],r=[{title:"\u5168\u90e8\u8206\u60c5",value:"all"}],a=-1,i=0;i<e.length-2;i++)if(e[i][t]<e[i+1][t]){if(e[i+1][t]>e[i+2][t]&&n.length<26){var o=i+1;r.push({title:String.fromCharCode(65+n.length),value:e[o][0]}),n.push(o);continue}if(e[i+1][t]===e[i+2][t]){a=i+1;continue}}else if(-1!==a&&n.length<26){if(e[i][t]===e[i+1][t])continue;e[i][t]>e[i+1][t]?(r.push({title:String.fromCharCode(65+n.length),value:e[a][0]}),n.push(a),a=-1):e[i][t]<e[i+1][t]&&(a=-1)}return{pointIdxs:n,peakOption:r}}(n,e+1)}));return{peaks:r.map((function(e){return e.pointIdxs})),peakOptionArr:r.map((function(e){return e.peakOption})),dimensions:["\u65e5\u671f","\u5168\u90e8\u58f0\u91cf","\u6b63\u9762\u58f0\u91cf","\u4e2d\u6027\u58f0\u91cf","\u8d1f\u9762\u58f0\u91cf","\u70ed\u5ea6","\u4e92\u52a8\u91cf"],source:n}}var f=o.Z.sentiment.analysis.trend,h=function(e){return new Promise((function(t){return setTimeout(t,e)}))},m={trendData:void 0,trendTimeType:"DAY",eventListData:void 0,emotionType:0,filterParams:void 0,projectId:void 0,specialTopicId:void 0,eventName:void 0,peakOptionArr:[],peakOptions:[],peakType:"all"};function v(e){switch(e){case 1:return 1;case 2:return 0;case 3:return-1}}const y={namespace:f,state:Object.assign({},m),effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[f]}));case 4:if(u=e.sent,l=u.filterParams,p=u.projectId,d=u.topicId,JSON.stringify(l)===JSON.stringify(a.filterParams)&&p===a.projectId&&a.topicId===d){e.next=13;break}return e.next=11,s({type:"save",payload:a});case 11:return e.next=13,o(h,100);case 13:case"end":return e.stop()}}),e)})),fetchPeakLineData:i().mark((function e(t,n){var a,o,c,u,p,h,m,v,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,u=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[f]}));case 4:return p=e.sent,h=p.filterParams,m=p.projectId,v=p.trendTimeType,y=p.specialTopicId,g=p.eventName,x=a.trendTimeType||v,I=(0,r.Z)({projectId:a.projectId||m,specialTopicId:a.specialTopicId||y,eventName:a.eventName||g},(0,l.ZP)(a.filterParams||h,(function(e){e.dateFilter.dateGroupType=x}))),b="empty",T=[],e.prev=13,e.next=16,o(s,I);case 16:if(E=e.sent,!(2e4===(w=E.data).code&&w.result.length>0)){e.next=23;break}return b=d(w.result),T=b.peakOptionArr,e.next=23,u({type:"fetchEventListData",payload:(0,r.Z)({},a,{peakOptionArr:T})});case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(13);case 27:return e.prev=27,e.next=30,u({type:"save",payload:(0,r.Z)({},a,{trendData:b,peakOptionArr:T})});case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[13,25,27,31]])})),fetchEventListData:i().mark((function e(t,n){var a,o,c,s,d,h,m,y,g,x,I,b,T,E,w,k,C,S,N,O,_;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[f]}));case 4:return d=e.sent,h=d.filterParams,m=d.projectId,y=d.peakType,g=d.specialTopicId,x=d.eventName,I=d.emotionType,b=d.peakOptionArr,T=d.trendTimeType,E=a.peakType||y,w=a.trendTimeType||T,k=(0,r.Z)({projectId:a.projectId||m,specialTopicId:a.specialTopicId||g,eventName:a.eventName||x},(0,l.ZP)(a.filterParams||h,(function(e){if(e.dateFilter.dateGroupType=w,"all"!==E){var t=(0,p.LV)(E,w),n=t.from,r=t.to;e.dateFilter.from=n,e.dateFilter.to=r}}))),(C=void 0!==a.emotionType?a.emotionType:I)&&(k.escore=v(C)),S=a.peakOptionArr||b,N="empty",e.prev=20,e.next=23,o(u,k);case 23:O=e.sent,2e4===(_=O.data).code&&(N=_.result),e.next=30;break;case 28:e.prev=28,e.t0=e.catch(20);case 30:return e.prev=30,e.next=33,s({type:"save",payload:(0,r.Z)({},a,{peakOptions:S[C],eventListData:N})});case 33:return e.finish(30);case 34:case"end":return e.stop()}}),e,null,[[20,28,30,34]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clearState:function(){return(0,r.Z)({},Object.assign(m))}}}},51366:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});n(70715),n(39432);function r(e){var t=0,n=e.analysisBaseVOList.reduce((function(e,n){return t=Math.max.apply(null,[t,n.feverCount,n.negativeVoiceCount]),[].concat(e,[[n.dateTime,n.feverCount,n.negativeVoiceCount]])}),[]);return{max:t,negRatio:e.negativePercent,name:e.name,source:n,dimensions:["\u65e5\u671f","\u70ed\u5ea6","\u8d1f\u9762\u58f0\u91cf"]}}},27470:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});n(70715),n(39432);function r(e){var t=e.sort((function(e,t){return!(!t.dateCountVOList||!e.dateCountVOList)&&t.dateCountVOList[t.dateCountVOList.length-1].count-e.dateCountVOList[e.dateCountVOList.length-1].count})),n=t.map((function(e){return e.eventName})),r=["\u65e5\u671f"].concat(n),a=t[0].dateCountVOList.map((function(e){return[e.date]})),i=t.reduce((function(e,t){return t.dateCountVOList.forEach((function(t){return e.find((function(e){return e[0]===t.date})).push(t.count)})),e}),[].concat(a));return{length:t.length,tableDatas:t.slice().map((function(e){return[e.eventName,e.effectTotal,e.countTotal]})),datasets:[{dimensions:r,source:i},{dimensions:["\u65e5\u671f","\u603b\u91cf"],source:i.map((function(e){return[e[0],e.reduce((function(e,t,n){return 0===n?e:e+t}),0)]}))}]}}},53557:(e,t,n)=>{"use strict";n.d(t,{Qj:()=>a});var r=n(39432);function a(e,t){var n=0,a=0,i=0,o=e.map((function(e,o){return n=Math.max(n,e.dayFeverCount),a<e.effectCount&&(a=e.effectCount,i=o),[(0,r.yV)(t,e.dateTime),e.eventName,e.dayFeverCount,e.effectCount,e.negativeCount||0]}));return{heatMax:n||10,effectMax:a||10,effectMaxIdx:i,dimensions:["\u65e5\u671f","\u4e8b\u4ef6","\u70ed\u5ea6","\u5f71\u54cd\u529b","\u8d1f\u9762\u58f0\u91cf"],source:o}}},44098:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.dateFilter;return o.h.post("/public-opinion-overview/attention/trend",{projectId:t,dateFilter:n})}function s(e){var t=e.projectId,n=e.keyWord,r=e.pageIndex,a=e.pageSize,i=e.dateFilter;return o.h.post("/public-opinion-overview/search",{projectId:t,keyWord:n,pageIndex:r,pageSize:a,dateFilter:i})}function u(e){var t=e.projectId,n=e.dateFilter,r=e.eventName;return o.h.post("/public-opinion-overview/chart/find/EVENT_ANALYSIS_TREND_CHART",{projectId:t,dateFilter:n,eventName:r?[r]:[]})}function l(e){var t=e.projectId,n=e.dateFilter;return o.h.post("/public-opinion-overview/chart/find/OVER_VIEW_POINT_CHART",{dateFilter:n,projectId:t})}function p(e){var t=e.dateFilter,n=e.projectId,r=e.eventName;return o.h.post("/public-opinion-overview/chart/find/EVENT_ANALYSIS_TREND_CHART",{dateFilter:t,projectId:n,eventName:r?[r]:[]})}var d=n(64396),f=n(30381),h=n.n(f),m=n(27470),v=n(53557),y=n(51366),g=d.Z.sentiment.overview,x=function(e){var t="YYYY-MM-DD",n=h()().format(t),r=Number(e);return{from:h()().subtract(r-1,"days").format(t),to:n,dateGroupType:"DAY",numOfDays:r,remoteName:"cTime"}};const I={namespace:g,state:{isInitial:!0,projectId:"",keyWord:"",keyWords:[],orderType:{id:7,name:"7\u5929\u70ed\u5ea6"},pageIndex:1,pageSize:20,total:0,list:[],activeIndex:0,negativePercent:0,trendData:[],eventTrendData:void 0,eventOveriewData:void 0},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[g]}));case 4:if(s=e.sent,u=s.projectId,a.projectId===u){e.next=11;break}return e.next=9,o({type:"fetchEventTrendData",payload:a});case 9:return e.next=11,o({type:"fetchEventOverviewData",payload:a});case 11:case"end":return e.stop()}}),e)})),fetchEventTrendData:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,h,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,s=n.select,u=n.call,e.next=4,s((function(e){return(0,r.Z)({},e)[g]}));case 4:return l=e.sent,p=l.projectId,d={projectId:a.projectId||p,dateFilter:x(7)},f="empty",h={},e.prev=8,e.next=11,u(c,d);case 11:v=e.sent,2e4===(y=v.data).code&&y.result.length>0&&(f=(0,m.Q)(y.result),h=y.result.reduce((function(e,t){var n;return(0,r.Z)({},e,((n={})[t.name]=t.id,n))}),{})),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,o({type:"save",payload:(0,r.Z)({},a,{eventTrendData:f,eventDict:h})});case 21:return e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[8,16,18,22]])})),fetchEventOverviewData:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,s=n.call,e.next=4,c((function(e){return(0,r.Z)({},e)[g]}));case 4:return u=e.sent,p=u.projectId,d=a.projectId||p,f={projectId:d,dateFilter:x(30)},h="empty",e.prev=9,e.next=12,s(l,f);case 12:if(m=e.sent,!(2e4===(y=m.data).code&&y.result.length>0)){e.next=18;break}return h=(0,v.Qj)(y.result,"DAY"),e.next=18,o({type:"fetchEventData",payload:{eventName:y.result[h.effectMaxIdx].eventName,projectId:d}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(9);case 22:return e.prev=22,e.next=25,o({type:"save",payload:(0,r.Z)({},a,{eventOverviewData:h})});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[9,20,22,26]])})),fetchEventData:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,s=n.call,e.next=4,c((function(e){return(0,r.Z)({},e)[g]}));case 4:return u=e.sent,l=u.projectId,d={eventName:a.eventName,projectId:a.projectId||l,dateFilter:x(30)},f="empty",e.prev=8,e.next=11,s(p,d);case 11:h=e.sent,2e4===(m=h.data).code&&(f=(0,y.Q)(m.result)),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,o({type:"save",payload:(0,r.Z)({},a,{eventData:f})});case 21:return e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[8,16,18,22]])})),fetchEvents:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,h,m,v,y,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return e[g]}));case 4:return l=e.sent,p=l.projectId,d=l.keyWord,f=l.pageIndex,h=l.pageSize,m=l.list,v=l.orderType,e.prev=11,e.next=14,c({type:"save",payload:{isInitial:!1}});case 14:return e.next=16,o(s,{projectId:a.projectId||p,keyWord:a.keyWord||d,pageIndex:a.pageIndex||f,pageSize:h,dateFilter:x(a.orderType?a.orderType.id:v.id)});case 16:if(y=e.sent,2e4!==(I=y.data).code){e.next=22;break}return b=I.result,T=b.total,E=b.list,w=b.keyWords,e.next=22,c({type:"save",payload:{keyWords:w,total:T,list:m.concat(E)}});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(11);case 26:return e.prev=26,e.next=29,c({type:"save",payload:(0,r.Z)({},a)});case 29:if(1!==f){e.next=32;break}return e.next=32,c({type:"fetchEventTrend",payload:{activeIndex:0}});case 32:return e.finish(26);case 33:case"end":return e.stop()}}),e,null,[[11,24,26,33]])})),fetchEventTrend:i().mark((function e(t,n){var r,a,o,c,s,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.prev=2,e.next=5,o({type:"save",payload:{isInitial:!1}});case 5:return e.next=7,c((function(e){return e[g]}));case 7:return s=e.sent,l=s.projectId,p=s.list,d=s.activeIndex,e.next=13,a(u,{projectId:l,dateFilter:x(7),eventName:p[r.activeIndex||d]&&p[r.activeIndex||d].title});case 13:if(f=e.sent,2e4!==(h=f.data).code){e.next=19;break}return m=h.result,v=m.negativePercent,y=m.analysisBaseVOList,e.next=19,o({type:"save",payload:{negativePercent:v,trendData:y}});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[2,21]])}))}}},74660:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.id,n=e.projectId;return o.h.post("/public-opinion-special-topic/sync-history",{id:t,projectId:n})}function s(e){var t=e.id,n=void 0===t?"":t,r=e.projectId,a=e.name,i=e.rules,c=void 0===i?[]:i;return o.h.post("/public-opinion-special-topic/add",{id:n,projectId:r,name:a,rules:c})}var u=n(64396).Z.sentiment.subject.edit,l={editId:"",modalShow:!1,ruleValue:void 0,specialTopic:void 0};const p={namespace:u,state:l,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},l)}},effects:{commitDataScrabble:i().mark((function e(t,n){var r,a,o,c,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[u]}));case 4:return l=e.sent,p=l.editId,e.prev=6,e.next=9,a(s,{id:p||r.id,projectId:r.projectId,name:r.name,rules:r.rules});case 9:if(d=e.sent,2e4!==(f=d.data).code||!f.result){e.next=15;break}return e.next=14,o({type:"save",payload:{editId:f.result.id}});case 14:return e.abrupt("return",f.result);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])})),fetchHistorytData:i().mark((function e(t,n){var r,a,o,s,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.select,n.put,e.next=4,o((function(e){return e[u]}));case 4:return s=e.sent,l=s.editId,e.prev=6,e.next=9,a(c,{id:l||r.id,projectId:r.projectId});case 9:p=e.sent,p.data.code,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:case"end":return e.stop()}}),e,null,[[6,14]])}))}}},59615:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.username,n=void 0===t?"":t;return o.h.post("/public-opinion-special-topic/creator/list",{username:n})}function s(e){var t=e.projectId,n=e.pageIndex,r=e.pageSize,a=e.name,i=e.creatorIdList;return o.h.post("/public-opinion-special-topic/list",{projectId:t,pageIndex:n,pageSize:r,name:a,creatorIdList:i})}function u(e){var t=e.id,n=e.projectId;return o.h.post("/public-opinion-special-topic/sync-history",{id:t,projectId:n})}function l(e){var t=e.id;return o.h.post("/public-opinion-special-topic/delete",{id:t})}function p(e){var t=e.id;return o.h.post("/public-opinion-special-topic/first",{id:t})}function d(e){var t=e.id;return o.h.post("/public-opinion-special-topic/last",{id:t})}function f(e){var t=e.id;return o.h.post("/public-opinion-special-topic/stop",{id:t})}var h=n(64396);var m=function(e){return e.map((function(e){switch(e){case"BUSINESS":return"\u4e1a\u52a1";case"MARKETING":return"\u8425\u9500";case"NOISE":return"\u566a\u97f3";default:return""}}))},v=h.Z.sentiment.subject.list,y={id:"",projectId:"",modalShow:!1,avaCreator:[],selectedCreators:[],name:"",pageIndex:1,pageSize:10,subjectList:{total:0,data:[]},idRulesVOS:{},ruleValue:void 0};const g={namespace:v,state:Object.assign({},y),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},y)}},effects:{fetchSubjectList:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,h,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return e.sentimentSubjectList}));case 4:return l=e.sent,p=l.projectId,d=l.name,f=l.selectedCreators,h=l.pageIndex,v=l.pageSize,y={projectId:p,pageIndex:a.pageIndex||h,pageSize:a.pageSize||v,name:a.name||d,creatorIdList:a.selectedCreators||f},e.prev=11,e.next=14,o(s,y);case 14:if(g=e.sent,2e4!==(x=g.data).code){e.next=19;break}return e.next=19,c({type:"save",payload:(0,r.Z)({},a,{subjectList:{data:(i=x.result.list,i.reduce((function(e,t){var n={id:t.id,projectId:t.projectId,name:t.name,heatNumber:t.heatNumber,negativeVolumeNumber:t.negativeVolumeNumber,influenceNumber:t.influenceNumber,updatedAt:t.updatedAt,createdAt:t.createdAt,status:t.status,filter:JSON.parse(t.rule),rules:{},ruleLine:1,runStartTime:t.runStartTime,runTime:t.runTime};return t.rules.fromUserList&&t.rules.fromUserList.length>0&&(n.rules["\u8f6c\u53d1\u4eba"]=t.rules.fromUserList.map((function(e){return e.name})))&&(n.ruleLine+=1),t.rules.source&&t.rules.source.length>0&&(n.rules["\u6570\u636e\u6765\u6e90"]=t.rules.source)&&(n.ruleLine+=1),t.rules.escore&&t.rules.escore.length>0&&(n.rules["\u60c5\u611f"]=t.rules.escore)&&(n.ruleLine+=1),t.rules.star&&t.rules.star.length>0&&(n.rules["\u661f\u7ea7"]=t.rules.star)&&(n.ruleLine+=1),t.rules.messageType&&t.rules.messageType.length>0&&(n.rules["\u6d88\u606f\u7c7b\u578b"]=t.rules.messageType)&&(n.ruleLine+=1),t.rules.messageCategory&&t.rules.messageCategory.length>0&&(n.rules["\u6e20\u9053\u7c7b\u578b"]=t.rules.messageCategory)&&(n.ruleLine+=1),t.rules.businessType&&t.rules.businessType.length>0&&(n.rules["\u6d88\u606f\u7c7b\u522b"]=m(t.rules.businessType))&&(n.ruleLine+=1),t.rules.connConfig&&t.rules.connConfig.length>0&&(n.rules=(0,r.Z)({},n.rules,t.rules.connConfig.reduce((function(e,t){var n;return(0,r.Z)({},e,((n={})[t.name]=t.values,n))}),{})))&&(n.ruleLine+=t.rules.connConfig.length),t.rules.brandsSeries&&t.rules.brandsSeries.length>0&&(n.rules=(0,r.Z)({},n.rules,t.rules.brandsSeries.reduce((function(e,t){var n;return(0,r.Z)({},e,((n={})[t.name]=t.values,n))}),{})))&&(n.ruleLine+=t.rules.brandsSeries.length),t.rules.tag&&t.rules.tag.length>0&&(n.rules=(0,r.Z)({},n.rules,t.rules.tag.reduce((function(e,t){var n;return(0,r.Z)({},e,((n={})[t.name]=t.values,n))}),{})))&&(n.ruleLine+=t.rules.tag.length),t.rules.content&&t.rules.content.length>0&&(n.rules["\u5185\u5bb9"]=t.rules.content.reduce((function(e,t,n){if((!t.contain||0===t.contain.length)&&(!t.notContain||0===t.notContain.length))return e;var r=["contain","notContain"].reduce((function(e,n){return t[n]&&t[n].length>0?[].concat(e,[("contain"===n?"\u5305\u542b":"\u4e0d\u5305\u542b")+t[n].map((function(e){return"\u201c"+e+"\u201d"})).join("\uff0c")]):e}),[]),a=(t.sentence?"\u4e00\u53e5\u8bdd\u4e2d":"\u5168\u6587\u4e2d")+"\uff1a"+r.join("\uff0c\u4e14");return[].concat(e,[a])}),[]))&&(n.ruleLine+=t.rules.content.length>5?5:t.rules.content.length),n.rules["\u5185\u5bb9"]&&0===n.rules["\u5185\u5bb9"].length&&(n.rules["\u5185\u5bb9"]=["\u65e0"]),[].concat(e,[n])}),[])),total:x.result.total},ruleValue:x.result.list.rules})});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(11);case 23:case"end":return e.stop()}var i}),e,null,[[11,21]])})),fetchCreatorList:i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,e.next=3,r(c,{username:""});case 3:if(o=e.sent,2e4!==(s=o.data).code){e.next=8;break}return e.next=8,a({type:"save",payload:{avaCreator:s.result}});case 8:case"end":return e.stop()}}),e)})),fetchHistorytData:i().mark((function e(t,n){var r,a,o,c,s,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.select,c=n.put,e.next=4,o((function(e){return e.sentimentSubjectList}));case 4:return s=e.sent,l=s.id,p=s.projectId,e.prev=7,e.next=10,a(u,{id:r||l,projectId:p});case 10:if(d=e.sent,2e4!==d.data.code){e.next=15;break}return e.next=15,c({type:"fetchSubjectList",payload:{pageIndex:1}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:case"end":return e.stop()}}),e,null,[[7,17]])})),deleteSubject:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.select,o=n.put,e.next=4,a((function(e){return e.sentimentSubjectList}));case 4:return c=e.sent,s=c.id,e.prev=6,e.next=9,r(l,{id:s});case 9:if(u=e.sent,2e4!==u.data.code){e.next=14;break}return e.next=14,o({type:"fetchSubjectList",payload:{pageIndex:1}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),setFirst:i().mark((function e(t,n){var r,a,o,c,s,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.select,c=n.put,s=r.id,e.next=5,o((function(e){return e.sentimentSubjectList}));case 5:return u=e.sent,l=u.pageIndex,e.next=9,a(p,{id:s});case 9:if(d=e.sent,2e4!==d.data.code){e.next=14;break}return e.next=14,c({type:"fetchSubjectList",payload:{pageIndex:l}});case 14:case"end":return e.stop()}}),e)})),setLast:i().mark((function e(t,n){var r,a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.select,c=n.put,s=r.id,e.next=5,o((function(e){return e.sentimentSubjectList}));case 5:return u=e.sent,l=u.pageIndex,e.next=9,a(d,{id:s});case 9:if(p=e.sent,2e4!==p.data.code){e.next=14;break}return e.next=14,c({type:"fetchSubjectList",payload:{pageIndex:l}});case 14:case"end":return e.stop()}}),e)})),setStop:i().mark((function e(t,n){var r,a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.select,c=n.put,s=r.id,e.next=5,o((function(e){return e.sentimentSubjectList}));case 5:return u=e.sent,l=u.pageIndex,e.next=9,a(f,{id:s});case 9:if(p=e.sent,2e4!==p.data.code){e.next=14;break}return e.next=14,c({type:"fetchSubjectList",payload:{pageIndex:l}});case 14:case"end":return e.stop()}}),e)}))}}},92609:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(87219),s=n(15861),u=n(49722),l="SENTIMENT_TAG_ANALYSIS_DEFAULT";function p(e){return d.apply(this,arguments)}function d(){return(d=(0,s.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.calType,c=t.tag,e.abrupt("return",u.h.post("/brand-insight/chart/find/TAG_ANALYSIS_TREND",{projectId:n,dateFilter:r,filterModel:a,calType:o,tag:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,s.Z)(i().mark((function e(t){var n,r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.aspectLevel,c=t.tag,s=t.calType,e.abrupt("return",u.h.post("/brand-insight/chart/find/TAG_ASPECT_ANALYSIS",{projectId:n,dateFilter:r,filterModel:a,aspectLevel:o,tag:c,calType:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",u.h.post("/default/value/find",{projectId:n,key:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",u.h.post("/default/value/update",{projectId:n,key:l,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=o.Z.sentiment.tagAnalysis,I={tagChartData:void 0,tagDataType:"",tagDateType:"",tagType:"",fTagDataType:"",fTagDateType:"",fTagType:"",aspectChartData:void 0,aspectDataType:"",aspectLevel:1,aspectTagType:"",fAspectDataType:"",fAspectLevel:"",fAspectTagType:"",dateRange:0,filterModel:{},dateFilter:{},projectId:"",tagList:[],tagOptions:[],asyncTime:0},b=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const T={namespace:x,state:Object.assign({},I),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:if(u=e.sent,!u.projectId){e.next=10;break}return e.next=9,o({type:"fetchAspectChartData",payload:{}});case 9:return e.abrupt("return");case 10:return l={tagType:a.tagOptions.length>0?a.tagOptions[0].value:"",tagDataType:"ASPECT_NUMBER",tagDateType:"WEEK",aspectTagType:a.tagOptions.length>0?a.tagOptions[0].value:"",aspectLevel:1,aspectDataType:"ASPECT_NUMBER"},p={fTagDataType:"",fTagDateType:"",fTagType:"",fAspectDataType:"",fAspectLevel:"",fAspectTagType:""},e.prev=12,e.next=15,c(m,{projectId:a.projectId});case 15:if(d=e.sent,2e4===(f=d.data).code&&f.result){try{p=JSON.parse(f.result)}catch(i){}a.tagOptions.find((function(e){return e.value===p.fTagType}))&&(l.tagType=p.fTagType),p.fTagDataType&&(l.tagDataType=p.fTagDataType),p.fTagDateType&&(l.tagDateType=p.fTagDateType),a.tagOptions.find((function(e){return e.value===p.fAspectTagType}))&&(l.aspectTagType=p.fAspectTagType),p.fAspectLevel&&(l.aspectLevel=p.fAspectLevel),p.fAspectDataType&&(l.aspectDataType=p.fAspectDataType)}return h=(new Date).getTime(),e.next=21,o({type:"save",payload:{asyncTime:h}});case 21:return e.next=23,c(b,100);case 23:return e.next=25,o({type:"fetchAspectChartData",payload:(0,r.Z)({},l,{time:h})});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(12);case 29:return e.next=31,o({type:"save",payload:(0,r.Z)({},a,p,l)});case 31:case"end":return e.stop()}}),e,null,[[12,27]])})),updateFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,g,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,l=u.projectId,p=u.fTagDataType,d=u.fTagDateType,f=u.fTagType,h=u.fAspectDataType,m=u.fAspectLevel,v=u.fAspectTagType,e.prev=12,g={fTagDataType:a.tagDataType||p,fTagDateType:a.tagDateType||d,fTagType:a.tagType||f,fAspectDataType:a.aspectDataType||h,fAspectLevel:a.aspectLevel||m,fAspectTagType:a.aspectTagType||v},e.next=16,o(y,{projectId:l,value:JSON.stringify(g)});case 16:if(I=e.sent,2e4!==I.data.code){e.next=21;break}return e.next=21,c({type:"save",payload:g});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:case"end":return e.stop()}}),e,null,[[12,23]])})),fetchTagTrendData:i().mark((function e(t,n){var a,o,s,u,l,d,f,h,m,v,y,g,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,s=n.call,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[x]}));case 4:return l=e.sent,d=l.projectId,f=l.tagList,h=l.tagDateType,m=l.dateFilter,v=l.filterModel,y=l.tagDataType,g=l.tagType,I="error",e.prev=13,b=f.find((function(e){return e.id===(a.tagType||g)})),T=(0,c.ZP)(a.dateFilter||m,(function(e){e.dateGroupType=a.tagDateType||h})),e.next=18,s(p,{projectId:a.projectId||d,tag:[{id:b.id,values:b.values.map((function(e){return e.id}))}],calType:a.tagDataType||y,filterModel:a.filterModel||v,dateFilter:T});case 18:E=e.sent,w=E.data,I=2e4===w.code&&Object.keys(w.result).length>0?w.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(13);case 25:return e.prev=25,e.next=28,o({type:"save",payload:(0,r.Z)({},a,{tagChartData:I})});case 28:return e.finish(25);case 29:case"end":return e.stop()}}),e,null,[[13,23,25,29]])})),fetchAspectChartData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m,v,y,g,I,b,T,E,w,k,C,S,N,O,_;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:u=e.sent,l=u.projectId,p=u.tagList,d=u.aspectDataType,h=u.aspectLevel,m=u.aspectTagType,v=u.dateFilter,y=u.filterModel,e.prev=12,g=p.find((function(e){return e.id===(a.aspectTagType||m)})),I=0,b=g.values.length,T=0;case 17:if(!(T<b)){e.next=46;break}return e.next=20,s((function(e){return(0,r.Z)({},e)[x]}));case 20:if(E=e.sent,E.asyncTime===a.time){e.next=24;break}return e.abrupt("return");case 24:return w=g.values[T],k={id:g.id,values:[w.id]},e.next=28,c(f,{projectId:a.projectId||l,dateFilter:a.dateFilter||v,filterModel:a.filterModel||y,aspectLevel:a.aspectLevel||h,calType:a.aspectDataType||d,tag:[k]});case 28:return C=e.sent,S=C.data,e.next=32,s((function(e){return(0,r.Z)({},e)[x]}));case 32:if(N=e.sent,N.asyncTime===a.time){e.next=36;break}return e.abrupt("return");case 36:if(2e4!==S.code){e.next=43;break}return O=(0,r.Z)({},a),!(_=!S.result)&&(I+=1),O.aspectChartData=T===b-1&&0===I?"empty":{refresh:0===T,data:{tagName:w.name,aspectList:_?[]:S.result[0].aspectList}},e.next=43,o({type:"save",payload:O});case 43:T++,e.next=17;break;case 46:e.next=52;break;case 48:return e.prev=48,e.t0=e.catch(12),e.next=52,o({type:"save",payload:(0,r.Z)({},a,{aspectChartData:"error"})});case 52:case"end":return e.stop()}}),e,null,[[12,48]])}))}}},52315:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(87462),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40839),public_storage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35239),_utils_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(50389),public_dva_names__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(64396),name=public_dva_names__WEBPACK_IMPORTED_MODULE_3__.Z.sentiment.warning.edit,initState={warningId:null,formRule:{title:"",specialTopicIds:"",description:"",ruleModeType:"PATTERNONE",calType:"NUMBER",dateRangeType:["CURRENTHARFHOURS"],ruleDetail:[]},formPush:{pushTeams:[],pushUsers:[],pushMethod:["WECHAT"],warningInterval:18e5,disturbType:"WORKTIME",repeatType:!0,combined:!0},topicList:[],teamList:[],userList:[],hasChange:!1};const __WEBPACK_DEFAULT_EXPORT__={namespace:name,state:JSON.parse(JSON.stringify(initState)),reducers:{save:function(e,t){var n=t.payload;return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4__.Z)({},e,n)}},effects:{fetchUserList:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t,n){var r,a,i;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,a=n.call,e.next=3,a(_services__WEBPACK_IMPORTED_MODULE_1__.mE,{projectId:public_storage__WEBPACK_IMPORTED_MODULE_2__.t.get(public_storage__WEBPACK_IMPORTED_MODULE_2__.V.curProject).id});case 3:return i=e.sent,e.next=6,r({type:"save",payload:{teamList:i.data.result.team,userList:i.data.result.user}});case 6:case"end":return e.stop()}}),e)})),getTopicList:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t,n){var r,a,i,o;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,a=n.call,e.next=3,a(_services__WEBPACK_IMPORTED_MODULE_1__.C,{projectId:public_storage__WEBPACK_IMPORTED_MODULE_2__.t.get(public_storage__WEBPACK_IMPORTED_MODULE_2__.V.curProject).id});case 3:return i=e.sent,o=i.data.result,e.next=7,r({type:"save",payload:{topicList:o.list}});case 7:case"end":return e.stop()}}),e)})),getDetail:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t,n){var r,a,i,o,c,s,u;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,a=n.call,i=n.select,e.next=3,i((function(e){return e[name]}));case 3:return o=e.sent,c=o.warningId,e.next=7,a(_services__WEBPACK_IMPORTED_MODULE_1__.Nm,{warningId:c});case 7:return s=e.sent,u=s.data.result,e.next=11,r({type:"save",payload:(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4__.Z)({},(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.Q)(u))});case 11:case"end":return e.stop()}}),e)})),formRuleChange:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function formRuleChange(_ref5,_ref6){var payload,put,call,select,_yield$select2,formRule,value;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function formRuleChange$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return payload=_ref5.payload,put=_ref6.put,call=_ref6.call,select=_ref6.select,_context4.next=4,select((function(e){return e[name]}));case 4:return _yield$select2=_context4.sent,formRule=_yield$select2.formRule,"ruleDetail"===payload.key[0]?"ALL"===payload.id?formRule.dateRangeType.forEach((function(e){if(!formRule.ruleDetail.some((function(t){return t.id===e&&(t.value[payload.index]=payload.value,!0)}))){var t=[];t[payload.index]=payload.value,formRule.ruleDetail.push({id:e,value:t})}})):formRule.ruleDetail.some((function(e){return e.id===payload.id}))?formRule.ruleDetail.forEach((function(e){e.id===payload.id&&(e.value[payload.index]=payload.value)})):(value=[],value[payload.index]=payload.value,formRule.ruleDetail.push({id:payload.id,value:value})):(eval("formRule."+payload.key.join(".")+" = payload.value"),"ruleModeType"===payload.key[0]&&("PATTERNONE"===payload.value?(formRule.calType="NUMBER",formRule.dateRangeType=["CURRENTHARFHOURS"]):"PATTERNTWO"===payload.value&&(formRule.calType=["NUMBER"],formRule.dateRangeType="CURRENTHARFHOURS"),formRule.ruleDetail=[]),"calType"===payload.key[0]&&"PATTERNONE"===formRule.ruleModeType&&formRule.ruleDetail.forEach((function(e){return e.value=[]})),("calType"===payload.key[0]&&"PATTERNONE"!==formRule.ruleModeType||"dateRangeType"===payload.key[0]&&"PATTERNONE"===formRule.ruleModeType)&&-1!==formRule.ruleDetail.findIndex((function(e){return!payload.value.includes(e.id)}))&&formRule.ruleDetail.splice(formRule.ruleDetail.findIndex((function(e){return!payload.value.includes(e.id)})),1),["dateRangeType","calType"].includes(payload.key[0])&&("PATTERNONE"===formRule.ruleModeType&&["PERCENT","GROWTHRATE"].includes(formRule.calType)?formRule.dateRangeType.forEach((function(e){formRule.ruleDetail.some((function(t){return t.id===e&&(t.value[1]=t.value[1]||"10",!0)}))||formRule.ruleDetail.push({id:e,value:[null,"10"]})})):["PERCENT","GROWTHRATE"].some((function(e){return formRule.calType.includes(e)}))&&formRule.calType.forEach((function(e){formRule.ruleDetail.some((function(t){return t.id===e&&(t.value[1]=["PERCENT","GROWTHRATE"].includes(e)?t.value[1]||"10":null,!0)}))||formRule.ruleDetail.push({id:e,value:[null,["PERCENT","GROWTHRATE"].includes(e)?"10":null]})})))),_context4.next=9,put({type:"save",payload:{formRule:JSON.parse(JSON.stringify(formRule)),hasChange:!0}});case 9:case"end":return _context4.stop()}}),formRuleChange)})),formPushChange:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t,n){var r,a,i,o,c;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.call,i=n.select,e.next=4,i((function(e){return e[name]}));case 4:return o=e.sent,(c=o.formPush)[r.key]=r.value,e.next=9,a({type:"save",payload:{formPush:JSON.parse(JSON.stringify(c)),hasChange:!0}});case 9:case"end":return e.stop()}}),e)})),comfirm:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t,n){var r,a,i,o,c,s;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.put,r=n.call,a=n.select,e.next=4,a((function(e){return e[name]}));case 4:return i=e.sent,o=i.formPush,c=i.formRule,s=i.warningId,e.next=10,r(s?_services__WEBPACK_IMPORTED_MODULE_1__.kU:_services__WEBPACK_IMPORTED_MODULE_1__.GX,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4__.Z)({projectId:public_storage__WEBPACK_IMPORTED_MODULE_2__.t.get(public_storage__WEBPACK_IMPORTED_MODULE_2__.V.curProject).id,warningId:s},(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.a)(c,o)));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})),clear:_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t,n){var r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,n.call,n.select,e.next=4,r({type:"save",payload:(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4__.Z)({},JSON.parse(JSON.stringify(initState)))});case 4:case"end":return e.stop()}}),e)}))}}},40839:(e,t,n)=>{"use strict";n.d(t,{mE:()=>c,GX:()=>u,kU:()=>p,Nm:()=>f,C:()=>m});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722);function c(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/filter/find",{type:"INBOX",filterTypes:["USER","TEAM"],projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.title,a=t.specialTopicIds,c=t.description,s=t.pushTeams,u=t.pushUsers,l=t.pushMethod,p=t.warningInterval,d=t.warningPublicOpinionModels,f=t.warningPublicOpinionConditionModel,e.abrupt("return",o.h.post("/public-opinion-warning/add",{projectId:n,title:r,specialTopicIds:a,description:c,pushTeams:s,pushUsers:u,pushMethod:l,warningInterval:p,warningPublicOpinionModels:d,warningPublicOpinionConditionModel:f}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t){var n,r,a,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.title,a=t.specialTopicIds,c=t.description,s=t.pushTeams,u=t.pushUsers,l=t.pushMethod,p=t.warningInterval,d=t.warningPublicOpinionModels,f=t.warningPublicOpinionConditionModel,h=t.warningId,t.warningStatus,t.warningType,e.abrupt("return",o.h.post("/public-opinion-warning/update",{projectId:n,title:r,specialTopicIds:a,description:c,pushTeams:s,pushUsers:u,pushMethod:l,warningInterval:p,warningPublicOpinionModels:d,warningPublicOpinionConditionModel:f,warningId:h}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.warningId,e.abrupt("return",o.h.get("/public-opinion-warning/detail/find",{params:{warningId:n}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/public-opinion-special-topic/list",{projectId:n,pageSize:99999,pageIndex:1}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},50389:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,a:()=>a});var r=function(e){var t=e.title,n=e.specialTopicIds,r=e.description,a=e.pushTeams,i=e.pushUsers,o=e.pushMethod,c=e.warningInterval,s=e.warningPublicOpinionModels,u=e.warningPublicOpinionConditionModel,l=u.repeatType,p=(u.warningGranularityType,u.ruleModeType),d=u.disturbType,f=u.combined,h=e.calType,m=e.dateRangeType;return{formRule:{title:t,specialTopicIds:n[0],description:r,ruleModeType:p,calType:"PATTERNONE"===p?h&&h[0]:h,dateRangeType:"PATTERNONE"===p?m:m&&m[0],ruleDetail:s.map((function(e){return{id:"PATTERNONE"===p?e.dateRangeType:e.calType,value:[e.threshold,e.supportThreshold]}}))},formPush:{pushTeams:a,pushUsers:i,pushMethod:o,warningInterval:c,disturbType:d,repeatType:"ENABLE"===l,combined:f}}},a=function(e,t){var n=e.title,r=e.specialTopicIds,a=e.description,i=e.ruleModeType,o=(e.warningGranularityType,e.calType),c=e.dateRangeType,s=e.ruleDetail,u=t.pushTeams,l=t.pushUsers,p=t.pushMethod,d=t.warningInterval,f=t.disturbType,h=t.repeatType,m=t.combined;return{title:n,specialTopicIds:[r],description:a,pushTeams:u,pushUsers:l,pushMethod:p,warningInterval:d,warningPublicOpinionModels:s.map((function(e){return{dateRangeType:"PATTERNONE"===i?e.id:c,calType:"PATTERNONE"===i?o:e.id,threshold:e.value[0],supportThreshold:e.value[1]?e.value[1]:""}})),warningPublicOpinionConditionModel:{ruleModeType:i,repeatType:h?"ENABLE":"DISABLE",disturbType:f,combined:m}}}},54465:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/public-opinion-warning/search/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageIndex,a=t.pageSize,o=t.title,s=t.receiverTeamIdList,u=t.receiverUserIdList,l=t.calType,p=t.dateRangeType,d=t.publicOpinionTopicId,f=t.status,e.abrupt("return",c.h.post("/public-opinion-warning/list",{projectId:n,pageIndex:r,pageSize:a,title:o,receiverTeamIdList:s,receiverUserIdList:u,calType:l,dateRangeType:p,publicOpinionTopicId:d,status:f}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.warningId,r=t.warningStatus,e.abrupt("return",c.h.post("/public-opinion-warning/status/update",{warningId:n,warningStatus:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.warningId,e.abrupt("return",c.h.post("/public-opinion-warning/delete",{warningId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(35239),y=n(92360),g=n(64396).Z.sentiment.warning.list,x={pageIndex:1,pageSize:10,filterList:[{title:"\u8ba1\u7b97\u516c\u5f0f",list:[{id:"NUMBER",name:"\u8d1f\u9762\u58f0\u91cf"},{id:"PERCENT",name:"\u8d1f\u9762\u58f0\u91cf\u5360\u6bd4"},{id:"INCREMENT",name:"\u8d1f\u9762\u58f0\u91cf\u73af\u6bd4\u589e\u91cf"},{id:"GROWTHRATE",name:"\u8d1f\u9762\u58f0\u91cf\u73af\u6bd4\u589e\u957f\u7387"}],id:"calType"},{title:"\u65f6\u95f4\u8303\u56f4",list:[{id:"CURRENTHARFHOURS",name:"\u5f53\u524d\u534a\u5c0f\u65f6"},{id:"CURRENTONEHOURS",name:"\u5f53\u524d1\u5c0f\u65f6"},{id:"CURRENTSIXHOURS",name:"\u5f53\u524d6\u5c0f\u65f6"},{id:"CURRENTHALFDAY",name:"\u5f53\u524d\u534a\u5929"},{id:"CURRENT_DAY",name:"\u5f53\u5929"},{id:"LAST_THREE_DAYS",name:"\u8fd13\u5929"},{id:"LAST_SENVEN_DAYS",name:"\u8fd17\u5929"},{id:"CURRENT_WEEK",name:"\u5f53\u5468"},{id:"CURRENT_MONTH",name:"\u5f53\u6708"}],id:"dateRangeType"}],filterValue:{title:"",receiverTeamIdList:[],receiverUserIdList:[],calType:[],dateRangeType:[],publicOpinionTopicId:[],status:""},warningList:null,total:0};const I={namespace:g,state:JSON.parse(JSON.stringify(x)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchList:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,o=n.call,c=n.select,e.next=3,c((function(e){return e[g]}));case 3:return s=e.sent,u=s.pageIndex,p=s.pageSize,d=s.filterValue,e.prev=7,e.next=10,o(l,(0,r.Z)({projectId:v.t.get(v.V.curProject).id,pageIndex:u,pageSize:p},d));case 10:return f=e.sent,h=f.data.result,e.next=14,a({type:"save",payload:{warningList:h.list,total:h.total}});case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(7),y.Message.error("\u8bf7\u6c42\u9519\u8bef"),e.next=21,a({type:"save",payload:{warningList:[],total:0}});case 21:case"end":return e.stop()}}),e,null,[[7,16]])})),fetchFilterList:i().mark((function e(t,n){var r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,a=n.call,o=n.select,e.next=3,o((function(e){return e[g]}));case 3:return c=e.sent,u=c.filterList,e.next=7,a(s,{projectId:v.t.get(v.V.curProject).id});case 7:return l=e.sent,p=l.data.result,2===u.length&&p&&(u.unshift({title:"\u4e13\u9898",list:p.publicOpinionSpecialTopicList,id:"publicOpinionTopicId"}),u.push.apply(u,[{title:"\u63a8\u9001\u7528\u6237\u7ec4",list:p.teamList,id:"receiverTeamIdList"},{title:"\u63a8\u9001\u6210\u5458",list:p.userList.map((function(e){return{id:e.userId,name:e.userName}})),id:"receiverUserIdList"}])),e.next=12,r({type:"save",payload:{filterList:u}});case 12:case"end":return e.stop()}}),e)})),filterChange:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.call,o=n.select,e.next=4,o((function(e){return e[g]}));case 4:return c=e.sent,c.filterList,(s=c.filterValue)[r.key]=r.value,e.next=10,a({type:"save",payload:{pageIndex:1,filterValue:JSON.parse(JSON.stringify(s))}});case 10:if("title"===r.key){e.next=13;break}return e.next=13,a({type:"fetchList"});case 13:case"end":return e.stop()}}),e)})),pageSizeChange:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.call,n.select,e.next=4,a({type:"save",payload:{pageSize:r,pageIndex:1}});case 4:return e.next=6,a({type:"fetchList"});case 6:case"end":return e.stop()}}),e)})),pageChange:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.call,n.select,e.next=4,a({type:"save",payload:{pageIndex:r}});case 4:return e.next=6,a({type:"fetchList"});case 6:case"end":return e.stop()}}),e)})),changeState:i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,o=n.call,n.select,e.next=4,o(d,{warningId:r.id,warningStatus:r.status});case 4:return e.next=6,a({type:"fetchList"});case 6:case"end":return e.stop()}}),e)})),deleteWarning:i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,o=n.call,n.select,e.next=4,o(h,{warningId:r.id});case 4:return e.next=6,a({type:"fetchList"});case 6:case"end":return e.stop()}}),e)})),clear:i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.call,n.select,e.next=4,a({type:"save",payload:(0,r.Z)({},JSON.parse(JSON.stringify(x)))});case 4:case"end":return e.stop()}}),e)}))}}},86556:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.keyword,n=void 0===t?"":t,r=e.tags,a=void 0===r?[]:r,i=e.pageSize,c=void 0===i?20:i,s=e.pageIndex,u=void 0===s?1:s,l=e.appId,p=void 0===l?"":l,d=e.appUserId,f=void 0===d?"":d;return o.h.post("/contact/list",{keyword:n,tags:a,pageIndex:u,pageSize:c,appUserId:f,appId:p})}function s(e){var t=e.name,n=e.phoneNumber,r=e.email,a=e.tags;return o.h.post("/contact/add",{name:t,phoneNumber:n,email:r,tags:a})}function u(e){var t=e.id,n=e.name,r=e.phoneNumber,a=e.email,i=e.tags;return o.h.post("/contact/update",{id:t,name:n,phoneNumber:r,email:a,tags:i})}function l(e){var t=e.id;return o.h.post("/contact/delete",{id:t})}function p(e){var t=e.keyword,n=e.tags,r=e.allDelete,a=e.excludes;return o.h.post("/contact/batch/delete",{keyword:t,tags:n,allDelete:r,excludes:a})}function d(e){return o.h.post("/contact/set-tag",e)}function f(){return o.h.post("/contact/tag/list")}function h(e){var t=e.name;return o.h.post("/contact/tag/add",{name:t})}function m(e){var t=e.id;return o.h.post("/contact/tag/delete",{id:t})}function v(e){var t=e.id,n=e.name;return o.h.post("/contact/tag/update",{id:t,name:n})}var y=n(77579),g=n(5133),x=n(63968),I=n(61193),b=n(64396),T=n(35239),E=b.Z.research.npsContacts,w={initLoading:!0,contactsData:{data:void 0,fetchParams:{tags:[],keyword:"",pageIndex:1,pageSize:20}},delExcArr:[],delAllChecked:!1,tagList:void 0,appList:[],defAppValue:"ALL",addedTags:[]};const k={namespace:E,state:Object.assign({},w),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},w)}},effects:{fetchContactsList:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[E]}));case 4:return l=e.sent,p=l.contactsData,d=(0,r.Z)({},p.fetchParams,a,{tagList:void 0}),f=void 0,e.prev=8,e.next=11,o(c,d);case 11:h=e.sent,2e4===(m=h.data).code&&(v=I.Z.getUser().userId.substring(16),f=JSON.parse((0,x.p)(m.result.data,v))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),e.t0;case 19:return e.prev=19,y={initLoading:!1,contactsData:{data:f,fetchParams:(0,r.Z)({},d,{tagList:void 0})}},a&&a.tagList&&(y.tagList=a.tagList),e.next=24,u({type:"save",payload:y});case 24:return e.finish(19);case 25:case"end":return e.stop()}}),e,null,[[8,16,19,25]])})),fetchAppList:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,e.prev=2,s={pageIndex:1,pageSize:500},e.next=6,o(y.$n,(0,r.Z)({projectId:T.t.get(T.V.curProject).id},s));case 6:if(u=e.sent,2e4!==(l=u.data).code){e.next=11;break}return e.next=11,c({type:"save",payload:(0,r.Z)({},a,{appList:l.result.list})});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})),addContact:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(s,r);case 5:if(c=e.sent,2e4!==c.data.code){e.next=11;break}return e.next=10,o({type:"fetchTagList",payload:{pageIndex:1}});case 10:return e.abrupt("return",e.sent);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}}),e,null,[[2,13,15,17]])})),deleteContact:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(l,r);case 5:if(c=e.sent,2e4!==c.data.code){e.next=10;break}return e.next=10,o({type:"fetchContactsList"});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}}),e,null,[[2,12,14,16]])})),deleteAllContact:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[E]}));case 4:return s=e.sent,u=s.delAllChecked,l=s.delExcArr,d=s.contactsData,f=d.fetchParams,h=f.tags,m=f.keyword,e.prev=9,v={tags:h,keyword:m,allDelete:u,excludes:l},e.next=13,a(p,v);case 13:if(y=e.sent,2e4!==y.data.code){e.next=18;break}return e.next=18,o({type:"fetchContactsList",payload:{pageIndex:1}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(9);case 22:case"end":return e.stop()}}),e,null,[[9,20]])})),updateContact:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(u,r);case 5:if(c=e.sent,2e4!==c.data.code){e.next=11;break}return e.next=10,o({type:"fetchTagList"});case 10:return e.abrupt("return",e.sent);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}}),e,null,[[2,13,15,17]])})),fetchTagList:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,e.prev=2,e.next=5,o(f,a);case 5:if(s=e.sent,2e4!==(u=s.data).code){e.next=11;break}return l=u.result,e.next=11,c({type:"fetchContactsList",payload:(0,r.Z)({},a,{pageIndex:1,tagList:l})});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}}),e,null,[[2,13,15,17]])})),addTag:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(h,r);case 5:if(c=e.sent,2e4!==c.data.code){e.next=10;break}return e.next=10,o({type:"fetchTagList"});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}}),e,null,[[2,12,14,16]])})),updateTag:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(v,r);case 5:if(c=e.sent,2e4!==c.data.code){e.next=10;break}return e.next=10,o({type:"fetchTagList"});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}}),e,null,[[2,12,14,16]])})),deleteTag:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[E]}));case 4:return u=e.sent,l=u.contactsData,e.prev=6,e.next=9,o(m,a);case 9:if(p=e.sent,2e4!==p.data.code){e.next=14;break}return e.next=14,c({type:"fetchTagList",payload:{tags:l.fetchParams.tags.filter((function(e){return e!==a.id}))}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}}),e,null,[[6,16,18,20]])})),tagContacts:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.select,c=n.put,e.prev=1,e.next=4,o((function(e){return(0,r.Z)({},e)[E]}));case 4:return s=e.sent,u=s.delAllChecked,l=s.delExcArr,p=s.addedTags,f=s.contactsData,h=f.fetchParams,m=h.tags,v=h.keyword,e.next=12,a(d,{tags:m,keyword:v,allDelete:u,excludes:l,tagsToSet:p});case 12:if(y=e.sent,2e4!==y.data.code){e.next=22;break}return g.Z.success("\u64cd\u4f5c\u6210\u529f"),e.next=18,c({type:"save",payload:{addedTags:[]}});case 18:return e.next=20,c({type:"fetchContactsList"});case 20:return e.next=22,c({type:"fetchTagList"});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(1);case 26:case"end":return e.stop()}}),e,null,[[1,24]])}))}}},69750:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function a(e){return function(t){return r.createElement(e,t)}}},63736:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});n(1025);var r=n(65400),a=n(87462),i=n(67294),o=n(69750);function c(e){var t=e.title,n=e.logo,r=e.desc;return i.createElement("div",null,(n.descVisible||n.titleVisible||n.visible)&&i.createElement("div",{className:"yt_preview_header",style:{textAlign:"center"}},n.visible&&i.createElement("img",{src:n.url,alt:"",className:"yt_preview_header_img",style:{textAlign:"center",borderRadius:Number(n.radius)+"px"}}),(n.descVisible||n.titleVisible)&&i.createElement("div",{className:"yt_preview_header_title"},n.titleVisible&&i.createElement("div",{className:"yt_preview_header_title_name"},t),n.descVisible&&i.createElement("div",{className:"yt_preview_header_title_desc"},r))))}var s=n(10279),u=n(48888),l=n(14915),p=n(14189),d={NPS:p.cQ,CSAT:p.tM,MULTI_SELECTION:p.zw,SINGLE_SELECTION:p.Hi,SINGLE_PULL_DOWN:p.tx,SCALE:p.T6};const f=(0,o.Z)((function(e){var t=e.pageConfig,n=e.handSubmit,o=e.submiting,p=(0,i.useState)(0),f=p[0],h=p[1],m=(0,i.useState)(!1),v=m[0],y=m[1],g=(0,i.useState)(t.questionslist.length-1),x=g[0],I=g[1],b=(0,i.useState)([0]),T=b[0],E=b[1],w=[];function k(e){var n=e.id,r=e.value;t.singlePage?function(){t.questionslist[f].value=r;for(var e=[],n=f+1;n<t.questionslist.length;n++)if("[object Object]"===Object.prototype.toString.call(t.questionslist[n].visible)){var i=t.questionslist[n],o=i.visible.serial,c=i.visible.conditions.map((function(e){return e.value&&delete e.value,(0,a.Z)({},e,t.questionslist.find((function(t){return t.id===e.source})))})).map((function(t){var n=d[t.type].conditions[t.when].value,r=d[t.type][n](t.value,t.values,t)===d[t.type].conditions[t.when].expects;return r&&t.extra&&e.push(t.extra),r})),s=o?c.every((function(e){return!!e})):c.some((function(e){return!!e}));i.isShow=s?i.visible.value:!i.visible.value,e.length?i.showTags=e[0]:i.showTags=null}var u=t.questionslist.map((function(e){return""+e.isShow})).lastIndexOf("true");I(u)}():t.questionslist.forEach((function(e){n===e.id&&(e.value=r),e.children&&e.children.forEach((function(e){n===e.id&&(e.value=r)}))}))}function C(e){e.id,e.key,e.value,e.event;l.Y.INCORRECT}var S={};function N(e,t){S[e]=t}function O(){var e=Object.keys(S);return Promise.all(e.map((function(e){return(S[e].doValidate?S[e].doValidate():Promise.resolve([])).then((function(t){return{id:e,result:t}}))}))).then((function(e){return!e.some((function(e){return e.result.some((function(e){return!e.value}))}))})).catch((function(e){}))}function _(){O().then((function(e){if(e)if(n)n();else{y(!0);for(var r=document.getElementsByClassName("preview_pc"),a=0;a<r.length;a++)r[a].style.backgroundColor="#FFF";t.footer.redirectionURL&&(window.location.href=t.footer.redirectionURL)}}))}function j(e){e<x&&O().then((function(n){if(n){var r=t.questionslist[e],a=t.questionslist[e].value;if(r.jumpable){d[r.type].conditions;var i=[],o=r.jumpable.conditions.filter((function(e){var t=d[r.type].conditions[e.when].value,n=d[r.type][t](a,e.values,r)===d[r.type].conditions[e.when].expects;return n&&e.extra&&i.push(e.extra),n})),c=t.questionslist.map((function(e){return e.id})),s=t.questionslist.slice(e+1).find((function(e){return e.isShow})),u=o.length>0?o[0].source:s.id,l=c.indexOf(""+u);return t.questionslist[l].isShow=!0,i.length?t.questionslist[l].showTags=i[0]:t.questionslist[l].showTags=null,h(l),w=[].concat(T,[l]),void E(w)}var p=t.questionslist.map((function(e){return""+e.isShow})).indexOf("true",e+1);h(p),w=[].concat(T,[p]),E(w)}}))}return i.createElement("div",null,!v&&i.createElement("div",null,i.createElement(c,t.header),!t.singlePage&&i.createElement(i.Fragment,null,i.createElement("div",{className:"yt_preview"},t.questionslist.map((function(e,n){return(s.Z[e.type]||function(t){return i.createElement("p",null,i.createElement("b",null,e.type)," \u9898\u578b\u89c6\u56fe\u7f3a\u5931")})({key:e.id,containerType:u.l.RUNTIME,configuration:e,onValueChange:k,onStateChange:C,registerAsRef:N,serialNumber:n+1,deviceType:t.deviceType})}))),i.createElement("div",{className:"footer"},i.createElement(r.default,{type:"primary",onClick:_,className:"footer_button",loading:o},t.buttons.submitText))),t.singlePage&&i.createElement(i.Fragment,null,i.createElement("div",{className:"yt_preview_singlePage"},s.Z[t.questionslist[f].type]({key:t.questionslist[f].id,configuration:t.questionslist[f],onValueChange:k,onStateChange:C,registerAsRef:N,value:t.questionslist[f].value,serialNumber:f+1,deviceType:t.deviceType})),i.createElement("div",{className:"footer_singlePage"},0!==f&&i.createElement(r.default,{type:"primary",className:"footer_button",onClick:function(){return function(e){if(e>0){var t=T[T.length-2];h(t),(w=[].concat(T)).pop(),E(w)}}(f)},key:f},t.buttons.prevText),f!==x&&i.createElement(r.default,{type:"primary",className:"footer_button",onClick:function(){return j(f)},key:f+100},t.buttons.nextText),f===x&&i.createElement(r.default,{type:"primary",className:"footer_button",onClick:_},t.buttons.submitText)))),v&&t&&i.createElement("div",{className:"footer_page"},i.createElement("div",{className:"footer_page_image"},i.createElement("img",{src:t.footer.image?t.footer.image.url:t.footer.logo.url})),i.createElement("div",{className:"footer_page_desc"},t.footer.title)))}))},48888:(e,t,n)=>{"use strict";var r;n.d(t,{l:()=>r}),function(e){e.RUNTIME="RUNTIME",e.DESIGNER="DESIGNER",e.MESSAGE="MESSAGE"}(r||(r={}))},76234:(e,t,n)=>{"use strict";var r;n.d(t,{g:()=>r}),function(e){e.CONTAINS="CONTAINS",e.NOT_CONTAINS="NOT_CONTAINS",e.VISIBLE="VISIBLE",e.IN="IN",e.NOT_IN="NOT_IN"}(r||(r={}))},91212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r,a=n(3820);const i=((r={})["page.header.title"]="\u5ba2\u6237\u4f53\u9a8c\u8c03\u67e5\u95ee\u5377",r["page.header.desc"]="\u6211\u7528\u767e\u5206\u52aa\u529b\uff0c\u671f\u5f85\u4f60\u768410\u5206\u63a8\u8350\uff0c\u611f\u8c22\u4f60\u7684\u5b9d\u8d35\u610f\u89c1",r["page.footer.title"]="",r["page.greeting.title"]="",r["page.thankful.title"]="",r[a.C2.NPS+".title"]="\u60a8\u5411\u670b\u53cb\u6216\u540c\u4e8b\u63a8\u8350\u6211\u4eec\u7684\u53ef\u80fd\u6027\u6709\u591a\u5927\uff1f",r[a.C2.NPS+".minScoreTips"]="\u4e0d\u592a\u53ef\u80fd",r[a.C2.NPS+".maxScoreTips"]="\u6781\u6709\u53ef\u80fd",r[a.C2.NPSReason+".title"]="\u4f60\u7ed9\u51fa\u4e0a\u8ff0\u5206\u6570\u7684\u4e3b\u8981\u539f\u56e0\u662f\u4ec0\u4e48\uff1f",r[a.C2.NPSReason+".placeholder"]="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u591a\u8f93\u5165{limit}\u5b57\uff09",r[a.C2.CSAT+".title"]="\u8bf7\u5bf9\u672c\u6b21\u8d2d\u4e70\u4f53\u9a8c\u6253\u5206",r[a.C2.CSAT+".minScoreTips"]="\u5f88\u4e0d\u6ee1\u610f",r[a.C2.CSAT+".midScoreTips"]="\u4e00\u822c",r[a.C2.CSAT+".maxScoreTips"]="\u5f88\u6ee1\u610f",r[a.C2.CSATReason+".title"]="\u8ba9\u4f60\u4ea7\u751f\u8fd9\u6837\u8bc4\u4ef7\u7684\u4e3b\u8981\u539f\u56e0\u662f\u4ec0\u4e48\uff1f",r[a.C2.CSATReason+".placeholder"]="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u591a\u8f93\u5165{limit}\u5b57\uff09",r[a.C2.SingleSelection+".title"]="\u8bf7\u9009\u62e9\u4e00\u4e2a\u9009\u9879\uff08\u5355\u9009\uff09",r[a.C2.SingleSelection+".labelPrefix"]="\u9009\u9879",r[a.C2.SingleSelection+".btnAppend"]="\u65b0\u589e",r[a.C2.MultiSelection+".title"]="\u8bf7\u9009\u62e9\u4e00\u4e2a\u6216\u591a\u4e2a\u9009\u9879\uff08\u591a\u9009\uff09",r[a.C2.MultiSelection+".labelPrefix"]="\u9009\u9879",r[a.C2.MultiSelection+".btnAppend"]="\u65b0\u589e",r[a.C2.SinglelineText+".title"]="\u8bf7\u7f16\u8f91\u6587\u672c",r[a.C2.SinglelineText+".placeholder"]="\u8bf7\u8f93\u5165",r[a.C2.MultilineText+".title"]="\u8bf7\u7f16\u8f91\u6587\u672c",r[a.C2.MultilineText+".placeholder"]="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u591a\u8f93\u5165{limit}\u5b57\uff09",r[a.C2.Name+".title"]="\u59d3\u540d",r[a.C2.Name+".placeholder"]="\u59d3\u540d",r[a.C2.Gender+".title"]="\u6027\u522b",r[a.C2.Gender+".placeholder"]="\u6027\u522b",r[a.C2.Gender+".male"]="\u7537",r[a.C2.Gender+".female"]="\u5973",r[a.C2.Gender+".btnAppend"]="\u65b0\u589e",r[a.C2.PhoneNumber+".title"]="\u624b\u673a",r[a.C2.PhoneNumber+".placeholder"]="\u624b\u673a",r[a.C2.Email+".title"]="\u90ae\u7bb1",r[a.C2.Email+".placeholder"]="\u90ae\u7bb1",r[a.C2.CUSTOMER_INFO+".title"]="\u8bf7\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f",r[a.C2.DECORATION_TEXT+".title"]="\u60a8\u5df2\u5b8c\u6210\u672c\u6b21\u95ee\u5377\uff0c\u611f\u8c22\u60a8\u7684\u5e2e\u52a9\u4e0e\u652f\u6301",r)},20467:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r,a=n(3820);const i=((r={}).Valid="\u586b\u5165\u7684\u503c\u6709\u8bef",r.Required="\u8be5\u9898\u76ee\u5fc5\u586b",r.Limit="\u8f93\u5165\u503c\u8d85\u51fa\u9650\u5236",r.MinLimit="\u6700\u5c11\u9009\u62e9{MinLimit}\u9879",r.MaxLimit="\u6700\u591a\u9009\u62e9{MaxLimit}\u9879",r.MatrxRequired="\u6b64\u9898\u4e3a\u5fc5\u7b54\u9898\uff0c\u8bf7\u56de\u7b54\u5c0f\u9898{MatrxRequired}!",r["page.header.title"]="\u5ba2\u6237\u4f53\u9a8c\u8c03\u67e5\u95ee\u5377",r["page.header.desc"]="\u6211\u7528\u767e\u5206\u52aa\u529b\uff0c\u671f\u5f85\u4f60\u768410\u5206\u63a8\u8350\uff0c\u611f\u8c22\u4f60\u7684\u5b9d\u8d35\u610f\u89c1",r["page.footer.title"]="",r["page.greeting.title"]="",r["page.thankful.title"]="",r[a.C2.NPS+".title"]="\u60a8\u5411\u670b\u53cb\u6216\u540c\u4e8b\u63a8\u8350\u6211\u4eec\u7684\u53ef\u80fd\u6027\u6709\u591a\u5927\uff1f",r[a.C2.NPS+".lowScoreText"]="\u4e0d\u592a\u53ef\u80fd",r[a.C2.NPS+".maxScoreTips"]="\u6781\u6709\u53ef\u80fd",r[a.C2.NPSReason+".title"]="\u4f60\u7ed9\u51fa\u4e0a\u8ff0\u5206\u6570\u7684\u4e3b\u8981\u539f\u56e0\u662f\u4ec0\u4e48\uff1f",r[a.C2.NPSReason+".placeholder"]="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u591a\u8f93\u5165{limit}\u5b57\uff09",r[a.C2.CSAT+".title"]="\u8bf7\u5bf9\u672c\u6b21\u8d2d\u4e70\u4f53\u9a8c\u6253\u5206",r[a.C2.CSAT+".lowScoreText"]="\u5f88\u4e0d\u6ee1\u610f",r[a.C2.CSAT+".midScoreText"]="\u4e00\u822c",r[a.C2.CSAT+".highScoreText"]="\u5f88\u6ee1\u610f",r[a.C2.CSATReason+".title"]="\u8ba9\u4f60\u4ea7\u751f\u8fd9\u6837\u8bc4\u4ef7\u7684\u4e3b\u8981\u539f\u56e0\u662f\u4ec0\u4e48\uff1f",r[a.C2.CSATReason+".placeholder"]="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u591a\u8f93\u5165{limit}\u5b57\uff09",r[a.C2.SingleSelection+".title"]="\u8bf7\u9009\u62e9\u4e00\u4e2a\u9009\u9879\uff08\u5355\u9009\uff09",r[a.C2.SingleSelection+".labelPrefix"]="\u9009\u9879",r[a.C2.SingleSelection+".btnAppend"]="\u65b0\u589e",r[a.C2.MultiSelection+".title"]="\u8bf7\u9009\u62e9\u4e00\u4e2a\u6216\u591a\u4e2a\u9009\u9879\uff08\u591a\u9009\uff09",r[a.C2.MultiSelection+".labelPrefix"]="\u9009\u9879",r[a.C2.MultiSelection+".btnAppend"]="\u65b0\u589e",r[a.C2.SinglelineText+".title"]="\u8bf7\u7f16\u8f91\u6587\u672c",r[a.C2.SinglelineText+".placeholder"]="\u8bf7\u8f93\u5165",r[a.C2.MultilineText+".title"]="\u8bf7\u7f16\u8f91\u6587\u672c",r[a.C2.MultilineText+".placeholder"]="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u591a\u8f93\u5165{limit}\u5b57\uff09",r[a.C2.Name+".title"]="\u59d3\u540d",r[a.C2.Name+".placeholder"]="\u59d3\u540d",r[a.C2.Gender+".title"]="\u6027\u522b",r[a.C2.Gender+".placeholder"]="\u6027\u522b",r[a.C2.Gender+".male"]="\u7537",r[a.C2.Gender+".female"]="\u5973",r[a.C2.Gender+".btnAppend"]="\u65b0\u589e",r[a.C2.PhoneNumber+".title"]="\u624b\u673a",r[a.C2.PhoneNumber+".placeholder"]="\u624b\u673a",r[a.C2.Email+".title"]="\u90ae\u7bb1",r[a.C2.Email+".placeholder"]="\u90ae\u7bb1",r[a.C2.CUSTOMER_INFO+".title"]="\u8bf7\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f",r[a.C2.DECORATION_TEXT+".defauleValue"]="\u60a8\u5df2\u5b8c\u6210\u672c\u6b21\u95ee\u5377\uff0c\u611f\u8c22\u60a8\u7684\u5e2e\u52a9\u4e0e\u652f\u6301",r)},79041:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.questionnaireId,r=e.reasonKeyword,a=e.keyword,i=e.pageSize,c=e.pageIndex,s=e.dateFilter,u=e.filterModel,l=e.thirdParty;return o.h.post("/questionnaire/answer/list",{projectId:t,questionnaireId:n,reasonKeyword:r,keyword:a,pageSize:i,pageIndex:c,dateFilter:s,filterModel:u,thirdParty:l})}function s(e){var t=e.id,n=e.projectId,r=e.thirdParty;return o.h.post("/questionnaire/questions/list",{id:t,projectId:n,thirdParty:r})}function u(e){var t=e.projectId,n=e.questionnaireId,r=e.reasonKeyword,a=e.keyword,i=e.pageSize,c=e.pageIndex,s=e.dateFilter,u=e.filterModel;return o.h.post("/questionnaire/export/save",{projectId:t,questionnaireId:n,reasonKeyword:r,keyword:a,pageSize:i,pageIndex:c,dateFilter:s,filterModel:u})}var l=n(64396),p=n(61193),d=n(63968),f=(n(5133),l.Z.research.analyze.answerDetail),h={questions:void 0,visible:!1,reasonKeyword:"",keyword:"",pageIndex:1,pageSize:10,data:void 0,questionnaireId:"",projectId:void 0,dateFilter:void 0,filterModel:[]};const m={namespace:f,state:Object.assign({},h),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(h))}},effects:{fetchQuestions:i().mark((function e(t,n){var a,o,c,u,l,p,d,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,l=void 0,e.next=5,u((function(e){return(0,r.Z)({},e)[f]}));case 5:if(p=e.sent,d=p.projectId,h=p.filterModel,m=p.dateFilter,v=p.questionnaireId,JSON.stringify(h)!==JSON.stringify(a.filterModel)||JSON.stringify(m)!==JSON.stringify(a.dateFilter)||JSON.stringify(v)!==JSON.stringify(a.questionnaireId)){e.next=12;break}return e.abrupt("return");case 12:return e.prev=12,e.next=15,o(s,{id:a.questionnaireId,projectId:a.projectId||d,thirdParty:a.thirdParty});case 15:if(y=e.sent,2e4!==(g=y.data).code||!g.result){e.next=21;break}return l=g.result.sort((function(e,t){return e.number-t.number})),e.next=21,c({type:"fetchDetailList",payload:a});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:return e.prev=25,e.next=28,c({type:"save",payload:(0,r.Z)({},a,{questions:l})});case 28:return e.finish(25);case 29:return e.abrupt("return",l);case 30:case"end":return e.stop()}}),e,null,[[12,23,25,29]])})),fetchDetailList:i().mark((function e(t,n){var a,o,s,u,l,h,m,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[f]}));case 4:return l=e.sent,h=l.projectId,m=l.filterModel,v=l.dateFilter,y=l.pageIndex,g=l.pageSize,x=l.questionnaireId,I=l.thirdParty,b={questionnaireId:a.questionnaireId||x,projectId:a.projectId||h,filterModel:a.filterModel||m,dateFilter:a.dateFilter||v,reasonKeyword:a.reasonKeyword,keyword:a.keyword,pageSize:a.pageSize||g,pageIndex:a.pageIndex||y,thirdParty:a.thirdParty||I},T="error",e.prev=14,e.next=17,o(c,b);case 17:E=e.sent,2e4===(w=E.data).code&&w.result.count>0?(k=p.Z.getUser().userId.substring(16),T={total:w.result.count,list:w.result.result.map((function(e){return(0,r.Z)({},e,{contactName:e.contactName?(0,d.p)(e.contactName,k):"",email:e.email?(0,d.p)(e.email,k):"",phoneNumber:e.phoneNumber?(0,d.p)(e.phoneNumber,k):""})}))}):T="empty",e.next=24;break;case 22:e.prev=22,e.t0=e.catch(14);case 24:return e.prev=24,e.next=27,u({type:"save",payload:(0,r.Z)({},a,{data:T})});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[14,22,24,28]])})),exportQuestionnaire:i().mark((function e(t,n){var a,o,c,s,l,p,d,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[f]}));case 4:return l=e.sent,p=l.questionnaireId,d=l.projectId,h=l.filterModel,m=l.dateFilter,v=l.pageIndex,y=l.pageSize,e.next=13,o(u,{questionnaireId:a.questionnaireId||p,reasonKeyword:a.reasonKeyword,keyword:a.keyword,projectId:a.projectId||d,filterModel:a.filterModel||h,dateFilter:a.dateFilter||m,pageIndex:a.pageIndex||v,pageSize:a.pageIndex||y});case 13:if(g=e.sent,2e4!==(x=g.data).code||!x.result){e.next=18;break}return e.next=18,s({type:"save",payload:{visible:!0}});case 18:case"end":return e.stop()}}),e)}))}}},70733:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(87462),a=n(87757),i=n.n(a),o=n(58954),c=n(64396).Z.research.analyze.answer,s={questions:void 0,userInfoData:void 0,pageIndex:1,questionnaireId:"",dataFilter:void 0,filterModel:[],projectId:void 0};const u={namespace:c,state:Object.assign({},s),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(s))}},effects:{fetchQuestions:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,l=n.select,p=void 0,e.next=5,l((function(e){return(0,r.Z)({},e)[c]}));case 5:if(d=e.sent,f=d.projectId,h=d.filterModel,m=d.dateFilter,v=d.questionnaireId,JSON.stringify(h)!==JSON.stringify(a.filterModel)||JSON.stringify(m)!==JSON.stringify(a.dateFilter)||JSON.stringify(v)!==JSON.stringify(a.questionnaireId)){e.next=12;break}return e.abrupt("return");case 12:return e.prev=12,e.next=15,s(o.Oz,{id:a.questionnaireId,projectId:a.projectId||f,thirdParty:a.thirdParty});case 15:y=e.sent,2e4===(g=y.data).code&&g.result&&(x=g.result.filter((function(e){return!["DECORATION","DATE","UPLOAD_FILE"].includes(e.type)})),p=x.sort((function(e,t){return e.number-t.number}))),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,u({type:"save",payload:(0,r.Z)({},a,{questions:p})});case 25:return e.finish(22);case 26:return e.abrupt("return",p);case 27:case"end":return e.stop()}}),e,null,[[12,20,22,26]])})),fetchScoreChart:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[c]}));case 4:return p=e.sent,d=p.projectId,f=p.questionnaireId,h=p.dateFilter,m=p.filterModel,v=a.number,y=a.questionType,e.prev=10,x={dateFilter:a.dateFilter||h,filterModel:a.filterModel||m,questionId:a.questionId,questionType:y,questionnaireId:a.questionnaireId||f,projectId:a.projectId||d},e.next=14,u({type:"save",payload:(g={},g["optionLoading"+v]=!0,g)});case 14:return e.next=16,s(o.QP,x);case 16:if(I=e.sent,2e4!==(b=I.data).code||!b.result){e.next=23;break}return e.next=21,u({type:"save",payload:(T={},T["optionsData"+v]=(0,r.Z)({number:v},b.result,{optionList:b.result.optionList.length>0?b.result.optionList.map((function(e){return(0,r.Z)({},e,{optionName:e.optionName.replace("<p>","").replace("</p>","")})})):"empty"}),T)});case 21:e.next=25;break;case 23:return e.next=25,u({type:"save",payload:(E={},E["optionsData"+v]=(0,r.Z)({number:v},b.result,{optionList:"error"}),E)});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(10);case 29:return e.prev=29,e.next=32,u({type:"save",payload:(w={},w["optionLoading"+v]=!1,w)});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[10,27,29,33]])})),fetchOptionChart:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,u=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[c]}));case 4:return d=e.sent,f=d.projectId,h=d.questionnaireId,m=d.dateFilter,v=d.filterModel,y=s.number,e.next=12,l({type:"save",payload:(a={},a["optionLoading"+y]=!0,a)});case 12:return e.prev=12,g={dateFilter:s.dateFilter||m,filterModel:s.filterModel||v,questionId:s.questionId,questionType:s.questionType,questionnaireId:s.questionnaireId||h,projectId:s.projectId||f},e.next=16,u(o.LZ,g);case 16:if(x=e.sent,2e4!==(I=x.data).code||!I.result){e.next=23;break}return e.next=21,l({type:"save",payload:(b={},b["optionsData"+y]=(0,r.Z)({number:y},I.result,{optionList:I.result.optionList.length>0?I.result.optionList.map((function(e){return(0,r.Z)({},e,{optionName:e.optionName.replace("<p>","").replace("</p>","")})})):"empty"}),b)});case 21:e.next=25;break;case 23:return e.next=25,l({type:"save",payload:(T={},T["optionsData"+y]=(0,r.Z)({number:y},I.result,{optionList:"error"}),T)});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(12);case 29:return e.prev=29,e.next=32,l({type:"save",payload:(E={},E["optionLoading"+y]=!1,E)});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[12,27,29,33]])})),fetchMultipleOptionChart:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,u=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[c]}));case 4:return d=e.sent,f=d.projectId,h=d.questionnaireId,m=d.dateFilter,v=d.filterModel,y=s.number,e.next=12,l({type:"save",payload:(a={},a["optionLoading"+y]=!0,a)});case 12:return e.prev=12,g={dateFilter:s.dateFilter||m,filterModel:s.filterModel||v,questionId:s.questionId,questionType:s.questionType,questionnaireId:s.questionnaireId||h,projectId:s.projectId||f},e.next=16,u(o.EY,g);case 16:if(x=e.sent,2e4!==(I=x.data).code||!I.result){e.next=23;break}return e.next=21,l({type:"save",payload:(b={},b["optionsData"+y]=(0,r.Z)({number:y},I.result,{optionList:I.result.optionList.length>0?I.result.optionList.map((function(e){return(0,r.Z)({},e,{optionName:e.optionName.replace("<p>","").replace("</p>","")})})):"empty"}),b)});case 21:e.next=25;break;case 23:return e.next=25,l({type:"save",payload:(T={},T["optionsData"+y]=(0,r.Z)({number:y},I.result,{optionList:"error"}),T)});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(12);case 29:return e.prev=29,e.next=32,l({type:"save",payload:(E={},E["optionLoading"+y]=!1,E)});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[12,27,29,33]])})),fetchSortChart:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,u=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[c]}));case 4:return d=e.sent,f=d.projectId,h=d.questionnaireId,m=d.dateFilter,v=d.filterModel,y=s.number,e.next=12,l({type:"save",payload:(a={},a["optionLoading"+y]=!0,a)});case 12:return e.prev=12,g={dateFilter:s.dateFilter||m,filterModel:s.filterModel||v,questionId:s.questionId,questionnaireId:s.questionnaireId||h,projectId:s.projectId||f},e.next=16,u(o.BV,g);case 16:if(x=e.sent,2e4!==(I=x.data).code||!I.result){e.next=24;break}return e.next=22,l({type:"save",payload:(b={},b["optionsData"+y]=(0,r.Z)({number:y},I.result,{optionList:I.result.optionList.length>0?I.result.optionList:"empty"}),b)});case 22:e.next=27;break;case 24:return e.next=27,l({type:"save",payload:(T={},T["optionsData"+y]=(0,r.Z)({number:y},I.result,{optionList:"error"}),T)});case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(12);case 31:return e.prev=31,e.next=35,l({type:"save",payload:(E={},E["optionLoading"+y]=!1,E)});case 35:return e.finish(31);case 36:case"end":return e.stop()}}),e,null,[[12,29,31,36]])})),fetchReasonChart:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,u=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[c]}));case 4:return d=e.sent,f=d.projectId,h=d.questionnaireId,m=d.dateFilter,v=d.filterModel,y=s.number,g=s.pageIndex,x=s.pageSize,I=s.option,e.next=12,l({type:"save",payload:(a={},a["reasonLoading"+y]=!0,a)});case 12:return b={dateFilter:s.dateFilter||m,filterModel:s.filterModel||v,questionId:s.questionId,pageIndex:g,pageSize:x,option:I,questionnaireId:s.questionnaireId||h,projectId:s.projectId||f},e.prev=13,e.next=16,u(o.d5,b);case 16:if(T=e.sent,2e4!==(E=T.data).code||!E.result){e.next=23;break}return e.next=21,l({type:"save",payload:(w={},w["reasonData"+y]=(0,r.Z)({number:y},E.result,{reasonList:E.result.reasonList.length>0?E.result.reasonList.reduce((function(e,t){return e.push([t]),e}),[]):"empty"}),w)});case 21:e.next=25;break;case 23:return e.next=25,l({type:"save",payload:(k={},k["reasonData"+y]=(0,r.Z)({number:y},E.result,{reasonList:"error"}),k)});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(13);case 29:return e.prev=29,e.next=32,l({type:"save",payload:(C={},C["reasonLoading"+y]=!1,C)});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[13,27,29,33]])})),fetchUserInfoChart:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[c]}));case 4:return p=e.sent,d=p.projectId,f=p.questionnaireId,h=p.dateFilter,m=p.filterModel,p.pageIndex,e.prev=10,e.next=13,s(o.NO,{dateFilter:a.dateFilter||h,filterModel:a.filterModel||m,pageIndex:a.pageIndex,pageSize:a.pageSize,questionId:a.questionId,questionnaireId:a.questionnaireId||f,projectId:a.projectId||d});case 13:if(v=e.sent,2e4!==(y=v.data).code||!y.result){e.next=20;break}return e.next=18,u({type:"save",payload:(0,r.Z)({},a,{userInfoData:(0,r.Z)({},y.result,{infoList:y.result.infoList.length>0?y.result.infoList.reduce((function(e,t){return e.push([t.name,t.phoneNumber,t.email]),e}),[]):"empty"})})});case 18:e.next=22;break;case 20:return e.next=22,u({type:"save",payload:{userInfoData:(0,r.Z)({},y.result,{infoList:"error"})}});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(10);case 26:case"end":return e.stop()}}),e,null,[[10,24]])})),fetchMatrixChart:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.payload,u=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[c]}));case 4:return d=e.sent,f=d.projectId,h=d.questionnaireId,m=d.dateFilter,v=d.filterModel,y=s.number,e.next=12,l({type:"save",payload:(a={},a["optionLoading"+y]=!0,a)});case 12:return e.prev=12,g={dateFilter:s.dateFilter||m,filterModel:s.filterModel||v,questionId:s.questionId,questionType:s.questionType,questionnaireId:s.questionnaireId||h,projectId:s.projectId||f},e.next=16,u(o.mY,g);case 16:if(x=e.sent,2e4!==(I=x.data).code||!I.result){e.next=23;break}return e.next=21,l({type:"save",payload:(b={},b["optionsData"+y]=(0,r.Z)({number:y},I.result,{optionList:I.result.subQuestionAnalysisVOS.length?I.result.subQuestionAnalysisVOS:"empty"}),b)});case 21:e.next=25;break;case 23:return e.next=25,l({type:"save",payload:(T={},T["optionsData"+y]=(0,r.Z)({number:y},I.result,{optionList:"error"}),T)});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(12);case 29:return e.prev=29,e.next=32,l({type:"save",payload:(E={},E["optionLoading"+y]=!1,E)});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[12,27,29,33]])}))}}},58954:(e,t,n)=>{"use strict";n.d(t,{Oz:()=>i,NO:()=>o,QP:()=>c,LZ:()=>s,EY:()=>u,BV:()=>l,d5:()=>p,VP:()=>d,mY:()=>f});var r=n(49722),a=n(39432);function i(e){var t=e.id,n=e.projectId,a=e.thirdParty;return r.h.post("/questionnaire/questions/list",{id:t,projectId:n,thirdParty:a})}function o(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,i=e.questionId,o=e.questionnaireId,c=e.pageIndex,s=e.pageSize;return r.h.post("/questionnaire/chart/find/COMBINATION_INFO_CHART",{projectId:t,dateFilter:n,filterModel:a,questionId:i,questionnaireId:o,pageIndex:c,pageSize:s})}function c(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,i=e.questionId,o=e.questionnaireId,c=e.questionType;return r.h.post("/questionnaire/chart/find/QUESTION_SCORE_CHART",{projectId:t,dateFilter:n,filterModel:a,questionId:i,questionnaireId:o,questionType:c})}function s(e){var t=e.projectId,n=e.dateFilter,i=e.filterModel,o=e.questionId,c=e.questionnaireId,s=e.questionType;return r.h.post("/questionnaire/chart/find/QUESTION_OPTION_CHART",{projectId:t,dateFilter:n,filterModel:i,questionId:o,questionnaireId:c,questionType:s}).then((function(e){var t=2e4===e.data.code?e.data.result.optionList:[];return Array.isArray(t)&&t.length&&t.forEach((function(e){e.optionName=(0,a.Wk)(e.optionName)})),e}))}function u(e){var t=e.projectId,n=e.dateFilter,i=e.filterModel,o=e.questionId,c=e.questionnaireId,s=e.questionType;return r.h.post("/questionnaire/chart/find/QUESTION_MULTIPLE_CHOICE_CHART",{projectId:t,dateFilter:n,filterModel:i,questionId:o,questionnaireId:c,questionType:s}).then((function(e){var t=2e4===e.data.code?e.data.result.optionList:[];return Array.isArray(t)&&t.length&&t.forEach((function(e){e.optionName=(0,a.Wk)(e.optionName)})),e}))}function l(e){var t=e.projectId,n=e.dateFilter,i=e.filterModel,o=e.questionId,c=e.questionnaireId,s=e.pageIndex,u=e.pageSize;return r.h.post("/questionnaire/chart/find/QUESTION_SORT_CHART",{projectId:t,dateFilter:n,filterModel:i,questionId:o,questionnaireId:c,pageIndex:s,pageSize:u}).then((function(e){var t=2e4===e.data.code?e.data.result.optionList:[];return Array.isArray(t)&&t.length&&t.forEach((function(e){e.optionName=(0,a.Wk)(e.optionName)})),e}))}function p(e,t){var n=e.projectId,i=e.dateFilter,o=e.filterModel,c=e.questionId,s=e.questionnaireId,u=e.pageIndex,l=e.pageSize,p=e.optionName;return r.h.post("/questionnaire/chart/find/QUESTION_ANSWER_CHART",{projectId:n,dateFilter:i,filterModel:o,questionId:c,questionnaireId:s,pageIndex:u,pageSize:l,optionName:p}).then((function(e){var n=2e4===e.data.code?e.data.result.optionList:[];return Array.isArray(n)&&n.length&&n.forEach((function(e){e.optionName=(0,a.Wk)(e.optionName)})),t&&t(e),e}))}function d(e){var t=e.projectId,n=e.dateFilter,a=e.filterModel,i=e.questionId,o=e.questionnaireId,c=e.pageIndex,s=e.pageSize,u=e.optionId;return r.h.post("/questionnaire/chart/find/QUESTION_MULTIPLE_CHOICE_TEXT_CHART",{projectId:t,dateFilter:n,filterModel:a,questionId:i,questionnaireId:o,pageIndex:c,pageSize:s,optionId:u})}function f(e){var t=e.projectId,n=e.dateFilter,i=e.filterModel,o=e.questionId,c=e.questionnaireId,s=e.questionType;return r.h.post("/questionnaire/chart/find/QUESTION_MATRIX_OPTION_CHART",{projectId:t,dateFilter:n,filterModel:i,questionId:o,questionnaireId:c,questionType:s}).then((function(e){var t=2e4===e.data.code?e.data.result.subQuestionAnalysisVOS:[];return Array.isArray(t)&&t.length&&t.forEach((function(e){e.optionName=(0,a.Wk)(e.subQuestionName)})),e}))}},96237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(87462),a=n(87757),i=n.n(a),o=n(39432),c=n(64396),s=n(15861),u=n(49722);function l(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.questionnaireId,i=e.questionnaireBoardId;return u.h.post("/questionnaire/chart/find/NPS_CONCERNS_CHART",{projectId:t,filterModel:n,dateFilter:r,questionnaireId:a,questionnaireBoardId:i})}function p(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.questionnaireId,i=e.questionnaireBoardId;return u.h.post("/questionnaire/chart/find/NPS_ANALYSE_CHART",{projectId:t,filterModel:n,dateFilter:r,questionnaireId:a,questionnaireBoardId:i})}function d(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.questionnaireId,i=e.questionnaireBoardId,o=e.type;return u.h.post("/questionnaire/chart/find/"+("WORLD"===o?"NPS_WORLD_MAP_CHART":"NPS_PROVINCE_CHART"),{projectId:t,filterModel:n,dateFilter:r,questionnaireId:a,questionnaireBoardId:i})}function f(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.textType,i=e.questionnaireId,o=e.questionnaireBoardId;return u.h.post("/questionnaire/createTextTask",{projectId:t,dateFilter:n,filterModel:r,textType:a,questionnaireId:i,questionnaireBoardId:o})}function h(e){var t=e.questionnaireId,n=e.textType,r=e.questionnaireBoardId;return u.h.post("/questionnaire/findTextResult",{textType:n,questionnaireId:t,questionnaireBoardId:r})}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageType,e.abrupt("return",u.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.pageType,e.abrupt("return",u.h.post("/default/value/update",{projectId:n,key:a,value:JSON.stringify(r)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=c.Z.research.analyze.nps,I={dateOptions:[],defaultDateType:"",flavorObj:void 0,npsAnalyzeData:void 0,npsCustomerData:void 0,custTimeType:"WEEK",custDataType:"rato",graphicData:void 0,mapData:void 0,mapArea:"CHINA",relativeData:void 0,relativeRefreshTime:void 0,relativeDataLoading:!1,doubleBarChartData:void 0,graphPieChartData:void 0,wordChartData:void 0,projectId:void 0,filterModel:void 0,dateFilter:void 0,questionnaireId:void 0,questionnaireBoardId:void 0};const b={namespace:x,state:JSON.parse(JSON.stringify(I)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e,t){t.payload;return JSON.parse(JSON.stringify(I))}},effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:if(u=e.sent,u.projectId,l=u.filterModel,p=u.dateFilter,d=u.questionnaireId,f=u.questionnaireBoardId,h=u.flavorObj,JSON.stringify(l)!==JSON.stringify(a.filterModel)||JSON.stringify(p)!==JSON.stringify(a.dateFilter)||JSON.stringify(d)!==JSON.stringify(a.questionnaireId)&&JSON.stringify(f)!==JSON.stringify(a.questionnaireBoardId)){e.next=13;break}return e.abrupt("return");case 13:if(h){e.next=27;break}return e.prev=14,e.next=17,o(m,{projectId:a.projectId,pageType:a.pageType});case 17:if(v=e.sent,2e4!==(y=v.data).code){e.next=23;break}return g=JSON.parse(y.result||'{"npsAnalyze":"","npsCustomer":"","fCustDataType":"", "fCustTimeType":"", "mapAnalyze":"", "mapArea":"", "fBarCompareType":""}'),e.next=23,c({type:"save",payload:(0,r.Z)({},a,{flavorObj:g})});case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(14);case 27:return e.next=29,c({type:"save",payload:(0,r.Z)({},a)});case 29:return e.next=31,c({type:"fetchNpsConcerns",payload:a});case 31:return e.next=33,c({type:"fetchNpsData",payload:a});case 33:return e.next=35,c({type:"fetchNpsCustomerData",payload:a});case 35:return e.next=37,c({type:"fetchMapData",payload:a});case 37:case"end":return e.stop()}}),e,null,[[14,25]])})),fetchNpsConcerns:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,p=u.projectId,d=u.filterModel,f=u.dateFilter,h=u.questionnaireId,m=u.questionnaireBoardId,v="error",y="error",g="error",e.prev=11,e.next=14,o(l,{projectId:a.projectId||p,filterModel:a.filterModel||d,dateFilter:a.dateFilter||f,questionnaireId:a.questionnaireId||h,questionnaireBoardId:a.questionnaireBoardId||m});case 14:I=e.sent,2e4===(b=I.data).code&&b.result.list.length>0?(v=b.result.list.map((function(e){return{name:e.word,total:e.questionnaireTotal,positiveCount:e.promoterCount,negativeCount:e.detractorCount,neutralCount:e.passiveCount,posRate:e.promoterCount/e.questionnaireTotal,negRate:e.detractorCount/e.questionnaireTotal,neuRate:e.passiveCount/e.questionnaireTotal}})).sort((function(e,t){return t.total-e.total})),y=v.slice(0,10),T=Math.sqrt(y[0].total),y=y.map((function(e){return(0,r.Z)({},e,{rate:Math.sqrt(e.total)/T})})),g=v.slice()):(v="empty",y="empty",g="empty"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),e.t0;case 22:return e.prev=22,e.next=25,c({type:"save",payload:{doubleBarChartData:v,graphPieChartData:y,wordChartData:g}});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])})),fetchNpsData:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,v,y,g,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,l=u.projectId,d=u.filterModel,f=u.dateFilter,h=u.questionnaireId,m=u.dateOptions,v=u.flavorObj,y=u.defaultDateType,g=u.questionnaireBoardId,I="error",b=a.dateGroupType,T=b||(m.some((function(e){return e.value===v.npsAnalyze}))?v.npsAnalyze:y),e.prev=16,e.next=19,o(p,{projectId:a.projectId||l,filterModel:a.filterModel||d,dateFilter:(0,r.Z)({},a.dateFilter||f,{dateGroupType:T}),questionnaireId:a.questionnaireId||h,questionnaireBoardId:a.questionnaireBoardId||g});case 19:E=e.sent,2e4===(w=E.data).code&&(I=w.result),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),e.t0;case 27:return e.prev=27,e.next=30,c({type:"save",payload:{npsAnalyzeData:I}});case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[16,24,27,31]])})),fetchNpsCustomerData:i().mark((function e(t,n){var a,c,s,u,l,d,f,h,m,v,y,g,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[x]}));case 4:return l=e.sent,d=l.projectId,f=l.filterModel,h=l.dateFilter,m=l.questionnaireId,v=l.questionnaireBoardId,l.custTimeType,y=l.dateOptions,g=l.flavorObj,I=l.defaultDateType,b=a.dateGroupType,T=b||(y.some((function(e){return e.value===g.fCustTimeType}))?g.fCustTimeType:I),E="error",w="error",e.prev=17,e.next=20,c(p,{projectId:a.projectId||d,filterModel:a.filterModel||f,dateFilter:(0,r.Z)({},a.dateFilter||h,{dateGroupType:T}),questionnaireId:a.questionnaireId||m,questionnaireBoardId:a.questionnaireBoardId||v});case 20:k=e.sent,2e4===(C=k.data).code&&C.result.total>0?(E=C.result.list.map((function(e){return(0,r.Z)({},e,{time:(0,o.yV)(T,e.time)})})),w={questionnaireTotal:C.result.total,passiveCount:C.result.list.reduce((function(e,t){return e+t.passiveCount}),0),promoterCount:C.result.list.reduce((function(e,t){return e+t.promoterCount}),0),detractorCount:C.result.list.reduce((function(e,t){return e+t.detractorCount}),0)}):E="empty",e.next=28;break;case 25:e.prev=25,e.t0=e.catch(17),e.t0;case 28:return e.prev=28,e.next=31,s({type:"save",payload:(0,r.Z)({},a,{npsCustomerData:E,graphicData:w})});case 31:return e.finish(28);case 32:case"end":return e.stop()}}),e,null,[[17,25,28,32]])})),fetchMapData:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y,g,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,f=u.dateFilter,h=u.flavorObj,m=u.questionnaireId,v=u.questionnaireBoardId,y=u.mapArea,g="error",e.prev=13,e.next=16,o(d,{projectId:a.projectId||l,filterModel:a.filterModel||p,dateFilter:a.dateFilter||f,questionnaireId:a.questionnaireId||m,questionnaireBoardId:a.questionnaireBoardId||v,type:a.mapArea||h.mapArea||y});case 16:I=e.sent,2e4===(b=I.data).code&&(g=b.result.list),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),e.t0;case 24:return e.prev=24,e.next=27,c({type:"save",payload:{mapData:g,mapArea:a.mapArea||h.mapArea||y}});case 27:return e.finish(24);case 28:case"end":return e.stop()}}),e,null,[[13,21,24,28]])})),setDefaultValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,l=u.projectId,p=u.flavorObj,d=u.pageType,f=a.key,h=a.value,p[f]=h,e.prev=10,e.next=13,o(y,{projectId:a.projectId||l,pageType:a.pageType||d,value:p});case 13:if(m=e.sent,2e4!==m.data.code){e.next=18;break}return e.next=18,c({type:"save",payload:{flavorObj:JSON.parse(JSON.stringify(p))}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),e.t0;case 23:case"end":return e.stop()}}),e,null,[[10,20]])})),fetchWordRelativeData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,l=u.questionnaireId,p=u.questionnaireBoardId,e.prev=7,e.next=10,o(h,{questionnaireId:a.questionnaireId||l,questionnaireBoardId:a.questionnaireBoardId||p,textType:"NPS_REASON"});case 10:if(d=e.sent,2e4!==(f=d.data).code||!f.result){e.next=15;break}return e.next=15,c({type:"save",payload:{relativeData:f.result.data.length?f.result.data:"empty",relativeRefreshTime:f.result.createdAt,relativeDataLoading:!f.result.data.length}});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),e.t0;case 20:case"end":return e.stop()}}),e,null,[[7,17]])})),createWordRelativeData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[x]}));case 4:return s=e.sent,u=s.projectId,l=s.filterModel,p=s.dateFilter,d=s.questionnaireId,h=s.questionnaireBoardId,e.prev=10,e.next=13,o(f,{questionnaireId:a.questionnaireId||d,questionnaireBoardId:a.questionnaireBoardId||h,textType:"NPS_REASON",filterModel:a.filterModel||l,dateFilter:a.dateFilter||p,projectId:a.projectId||u});case 13:m=e.sent,m.data.code,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),e.t0;case 21:case"end":return e.stop()}}),e,null,[[10,18]])}))}}},75778:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722);function s(e){var t=e.projectId,n=e.pageIndex,r=e.pageSize,a=e.questionnaireId;return c.h.post("/questionnaire/dispatch/record/list",{projectId:t,pageIndex:n,pageSize:r,questionnaireId:a})}var u=o.Z.research.analyze.record,l={data:void 0,total:0,pageIndex:1,pageSize:20,questionnaireId:"",projectId:""};const p={namespace:u,state:Object.assign({},l),effects:{fetchRecordList:i().mark((function e(t,n){var a,o,c,l,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,l=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[u]}));case 4:if(p=e.sent,d=p.questionnaireId,f=p.projectId,h=p.pageIndex,m=p.pageSize,a.questionnaireId!==d){e.next=11;break}return e.abrupt("return");case 11:return v="error",y=0,e.prev=12,e.next=15,o(s,{projectId:a.projectId||f,questionnaireId:a.questionnaireId||d,pageIndex:a.pageIndex||h,pageSize:a.pageSize||m});case 15:g=e.sent,2e4===(x=g.data).code&&(v=x.result.result,y=x.result.count),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),e.t0;case 23:return e.prev=23,e.next=26,l({type:"save",payload:(0,r.Z)({},a,{data:v,total:y})});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[12,20,23,27]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e,t){t.payload;return JSON.parse(JSON.stringify(l))}}}},69253:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(87462),a=n(87757),i=n.n(a),o=n(39432),c=n(64396),s=n(15861),u=n(49722);function l(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.questionnaireId,i=e.questionnaireBoardId;return u.h.post("/questionnaire/chart/find/SATISFACTION_CONCERNS_CHART",{projectId:t,filterModel:n,dateFilter:r,questionnaireId:a,questionnaireBoardId:i})}function p(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.questionnaireId,i=e.questionnaireBoardId;return u.h.post("/questionnaire/chart/find/SATISFACTION_ANALYSE_CHART",{projectId:t,filterModel:n,dateFilter:r,questionnaireId:a,questionnaireBoardId:i})}function d(e){var t=e.projectId,n=e.filterModel,r=e.dateFilter,a=e.questionnaireId,i=e.questionnaireBoardId;return u.h.post("questionnaire/chart/find/SATISFACTION_PROVINCE_CHART",{projectId:t,filterModel:n,dateFilter:r,questionnaireId:a,questionnaireBoardId:i})}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,s.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageType,e.abrupt("return",u.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.pageType,e.abrupt("return",u.h.post("/default/value/update",{projectId:n,key:a,value:JSON.stringify(r)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.textType,i=e.questionnaireId,o=e.questionnaireBoardId;return u.h.post("/questionnaire/createTextTask",{projectId:t,dateFilter:n,filterModel:r,textType:a,questionnaireId:i,questionnaireBoardId:o})}function g(e){var t=e.questionnaireId,n=e.textType,r=e.questionnaireBoardId;return u.h.post("/questionnaire/findTextResult",{textType:n,questionnaireId:t,questionnaireBoardId:r})}var x=c.Z.research.analyze.satisfaction,I={dateOptions:[],defaultDateType:"",flavorObj:void 0,satisAnalyzeData:void 0,satisCustomerData:void 0,graphicData:void 0,custDataType:"rato",custTimeType:"WEEK",mapData:void 0,relativeData:void 0,relativeRefreshTime:void 0,relativeDataLoading:!1,doubleBarChartData:void 0,graphPieChartData:void 0,wordChartData:void 0,projectId:void 0,filterModel:void 0,dateFilter:void 0,questionnaireId:void 0,questionnaireBoardId:void 0};const b={namespace:x,state:JSON.parse(JSON.stringify(I)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e,t){t.payload;return JSON.parse(JSON.stringify(I))}},effects:{fetchDatas:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:if(u=e.sent,u.projectId,l=u.filterModel,p=u.dateFilter,d=u.flavorObj,h=u.questionnaireId,m=u.questionnaireBoardId,JSON.stringify(l)!==JSON.stringify(a.filterModel)||JSON.stringify(p)!==JSON.stringify(a.dateFilter)||JSON.stringify(h)!==JSON.stringify(a.questionnaireId)&&JSON.stringify(m)!==JSON.stringify(a.questionnaireBoardId)){e.next=13;break}return e.abrupt("return");case 13:if(d){e.next=27;break}return e.prev=14,e.next=17,o(f,{projectId:a.projectId,pageType:a.pageType});case 17:if(v=e.sent,2e4!==(y=v.data).code){e.next=23;break}return g=JSON.parse(y.result||'{"satisAnalyze":"","npsCustomer":"","mapAnalyze":"","fCustDataType":"", "fCustTimeType":"", "fBarCompareType":""}'),e.next=23,c({type:"save",payload:(0,r.Z)({},a,{flavorObj:g})});case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(14);case 27:return e.next=29,c({type:"save",payload:(0,r.Z)({},a)});case 29:return e.next=31,c({type:"fetchSatConcerns",payload:a});case 31:return e.next=33,c({type:"fetchSatisAnalyzeData",payload:a});case 33:return e.next=35,c({type:"fetchSatisCustomerData",payload:a});case 35:return e.next=37,c({type:"fetchMapData",payload:a});case 37:case"end":return e.stop()}}),e,null,[[14,25]])})),fetchSatConcerns:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,p=u.projectId,d=u.filterModel,f=u.dateFilter,h=u.questionnaireId,m=u.questionnaireBoardId,v="error",y="error",g="error",e.prev=11,e.next=14,o(l,{projectId:a.projectId||p,filterModel:a.filterModel||d,dateFilter:a.dateFilter||f,questionnaireId:a.questionnaireId||h,questionnaireBoardId:a.questionnaireBoardId||m});case 14:I=e.sent,2e4===(b=I.data).code&&b.result.list.length?(v=b.result.list.map((function(e){return{name:e.word,total:e.questionnaireTotal,positiveCount:e.positiveCount,negativeCount:e.negativeCount,neutralCount:e.neutralCount,posRate:e.positiveCount/e.questionnaireTotal,negRate:e.negativeCount/e.questionnaireTotal,neuRate:e.neutralCount/e.questionnaireTotal}})).sort((function(e,t){return t.total-e.total})),y=v.slice(0,10),T=Math.sqrt(y[0].total),y=y.map((function(e){return(0,r.Z)({},e,{rate:Math.sqrt(e.total)/T})})),g=v.slice()):(v="empty",y="empty",g="empty"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),e.t0;case 22:return e.prev=22,e.next=25,c({type:"save",payload:{doubleBarChartData:v,graphPieChartData:y,wordChartData:g}});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])})),fetchSatisAnalyzeData:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,v,y,g,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,l=u.projectId,d=u.filterModel,f=u.dateFilter,h=u.questionnaireId,m=u.dateOptions,v=u.flavorObj,y=u.defaultDateType,g=u.questionnaireBoardId,I="error",b=a.dateGroupType,T=b||(m.some((function(e){return e.value===v.satisAnalyze}))?v.satisAnalyze:y),e.prev=16,e.next=19,o(p,{projectId:a.projectId||l,filterModel:a.filterModel||d,dateFilter:(0,r.Z)({},a.dateFilter||f,{dateGroupType:T}),questionnaireId:a.questionnaireId||h,questionnaireBoardId:a.questionnaireBoardId||g});case 19:E=e.sent,2e4===(w=E.data).code&&(I=w.result),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),e.t0;case 27:return e.prev=27,e.next=30,c({type:"save",payload:{satisAnalyzeData:I}});case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[16,24,27,31]])})),fetchSatisCustomerData:i().mark((function e(t,n){var a,c,s,u,l,d,f,h,m,v,y,g,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[x]}));case 4:return l=e.sent,d=l.projectId,f=l.filterModel,h=l.dateFilter,m=l.questionnaireId,l.custTimeType,v=l.dateOptions,y=l.flavorObj,g=l.defaultDateType,I=l.questionnaireBoardId,b=a.dateGroupType,T=b||(v.some((function(e){return e.value===y.fCustTimeType}))?y.fCustTimeType:g),E="error",w="error",e.prev=17,e.next=20,c(p,{projectId:a.projectId||d,filterModel:a.filterModel||f,dateFilter:(0,r.Z)({},a.dateFilter||h,{dateGroupType:T}),questionnaireId:a.questionnaireId||m,questionnaireBoardId:a.questionnaireBoardId||I});case 20:k=e.sent,2e4===(C=k.data).code&&C.result.total>0?(E=C.result.list.map((function(e){return(0,r.Z)({},e,{time:(0,o.yV)(T,e.time)})})),w={questionnaireTotal:C.result.total,passiveCount:C.result.list.reduce((function(e,t){return e+t.neutralCount}),0),promoterCount:C.result.list.reduce((function(e,t){return e+t.positiveCount}),0),detractorCount:C.result.list.reduce((function(e,t){return e+t.negativeCount}),0)}):E="empty",e.next=28;break;case 25:e.prev=25,e.t0=e.catch(17),e.t0;case 28:return e.prev=28,e.next=31,s({type:"save",payload:(0,r.Z)({},a,{satisCustomerData:E,graphicData:w})});case 31:return e.finish(28);case 32:case"end":return e.stop()}}),e,null,[[17,25,28,32]])})),fetchMapData:i().mark((function e(t,n){var a,o,c,s,u,l,p,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,l=u.projectId,p=u.filterModel,f=u.dateFilter,h=u.questionnaireId,m=u.questionnaireBoardId,v="error",e.prev=11,e.next=14,o(d,{projectId:a.projectId||l,filterModel:a.filterModel||p,dateFilter:a.dateFilter||f,questionnaireId:a.questionnaireId||h,questionnaireBoardId:a.questionnaireBoardId||m});case 14:y=e.sent,2e4===(g=y.data).code&&(v=g.result.list),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),e.t0;case 22:return e.prev=22,e.next=25,c({type:"save",payload:{mapData:v}});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,19,22,26]])})),setDefaultValue:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,l=u.projectId,p=u.flavorObj,d=u.pageType,f=a.key,h=a.value,p[f]=h,e.prev=10,e.next=13,o(m,{projectId:a.projectId||l,pageType:a.pageType||d,value:p});case 13:if(v=e.sent,2e4!==v.data.code){e.next=18;break}return e.next=18,c({type:"save",payload:{flavorObj:JSON.parse(JSON.stringify(p))}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(10);case 22:case"end":return e.stop()}}),e,null,[[10,20]])})),fetchWordRelativeData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,l=u.questionnaireId,p=u.questionnaireBoardId,e.prev=7,e.next=10,o(g,{questionnaireId:a.questionnaireId||l,questionnaireBoardId:a.questionnaireBoardId||p,textType:"SATISFACTION_REASON"});case 10:if(d=e.sent,2e4!==(f=d.data).code||!f.result){e.next=15;break}return e.next=15,c({type:"save",payload:{relativeData:f.result.data.length?f.result.data:"empty",relativeRefreshTime:f.result.createdAt,relativeDataLoading:!f.result.data.length}});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),e.t0;case 20:case"end":return e.stop()}}),e,null,[[7,17]])})),createWordRelativeData:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[x]}));case 4:return s=e.sent,u=s.projectId,l=s.filterModel,p=s.dateFilter,d=s.questionnaireId,f=s.questionnaireBoardId,e.prev=10,e.next=13,o(y,{questionnaireId:a.questionnaireId||d,questionnaireBoardId:a.questionnaireBoardId||f,textType:"SATISFACTION_REASON",filterModel:a.filterModel||l,dateFilter:a.dateFilter||p,projectId:a.projectId||u});case 13:h=e.sent,h.data.code,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),e.t0;case 21:case"end":return e.stop()}}),e,null,[[10,18]])}))}}},66321:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(87462),a=n(87757),i=n.n(a),o=n(32807),c=n(64396).Z.research.analyze.text,s={projectId:void 0,dateFilter:void 0,filterModel:void 0,dateOptions:[],questionnaireId:void 0,questionnaireBoardId:void 0,feedbackData:void 0,feedbackEnablePos:!1,hotwordData:void 0,hotwordEnablePos:!1,emotionsData:void 0,emotionsTrendCountType:"COUNT",emotionsTimeType:"DAY",relativeData:void 0,relativeRefreshTime:void 0,relativeDataLoading:!1};const u={namespace:c,state:Object.assign({},s),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},s)}},effects:{fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:r});case 4:return e.next=6,a({type:"fetchFeedbackData",payload:r});case 6:return e.next=8,a({type:"fetchHotwordData",payload:r});case 8:return e.next=10,a({type:"fetchEmotionsData",payload:r});case 10:return e.next=12,a({type:"createWordRelativeData",payload:r});case 12:return e.next=14,a({type:"fetchWordRelativeData",payload:r});case 14:case"end":return e.stop()}}),e)})),fetchFeedbackData:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[c]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.filterModel,m=p.questionnaireId,v=p.feedbackEnablePos,y="error",e.prev=11,e.next=14,s(o.aBi,{projectId:a.projectId||d,dateFilter:a.dateFilter||f,filterModel:a.filterModel||h,headerFilterParamsNew:[],questionnaireId:a.questionnaireId||m,enablePos:void 0!==a.feedbackEnablePos?a.feedbackEnablePos:v,topSize:100,generalChartType:"HOT_WORD_CHART",category:"QUESTIONAIRE"});case 14:I=e.sent,2e4===(b=I.data).code&&null!=(g=b.result)&&null!=(x=g.list)&&x.length?(T=b.result.list,E=T.reduce((function(e,t){return e+t.total}),0),y=T.sort((function(e,t){return t.total-e.total})).map((function(e){return(0,r.Z)({},e,{precent:e.total/E,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}))):y="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,u({type:"save",payload:(0,r.Z)({feedbackData:y},a)});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchHotwordData:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[c]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.questionnaireId,m=p.filterModel,v=p.hotwordEnablePos,y="error",e.prev=11,e.next=14,s(o.aBi,{projectId:a.projectId||d,dateFilter:a.dateFilter||f,filterModel:a.filterModel||m,headerFilterParamsNew:[],questionnaireId:a.questionnaireId||h,enablePos:void 0!==a.hotwordEnablePos?a.hotwordEnablePos:v,topSize:100,generalChartType:"HOT_WORD_CHART",category:"QUESTIONAIRE"});case 14:I=e.sent,2e4===(b=I.data).code&&null!=(g=b.result)&&null!=(x=g.list)&&x.length?(T=b.result.list,E=T.reduce((function(e,t){return e+t.total}),0),y=T.sort((function(e,t){return t.total-e.total})).map((function(e){return(0,r.Z)({},e,{precent:e.total/E,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}))):y="empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,u({type:"save",payload:(0,r.Z)({hotwordData:y},a)});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchEmotionsData:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[c]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.filterModel,m=p.questionnaireId,v=p.emotionsTimeType,y="error",(g=a.dateFilter||f).dateGroupType=v,e.prev=13,e.next=16,s(o.aBi,{projectId:a.projectId||d,dateFilter:g,filterModel:a.filterModel||h,headerFilterParamsNew:[],questionnaireId:a.questionnaireId||m,generalChartType:"ZENDESK_EMOTION_CHART",category:"QUESTIONAIRE"});case 16:b=e.sent,2e4===(T=b.data).code&&null!=(x=T.result)&&null!=(I=x.list)&&I.length?(E=T.result.list,y=E.filter((function(e){return["0","1","-1"].includes(e.key)}))):y="empty",e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.prev=23,e.next=26,u({type:"save",payload:(0,r.Z)({emotionsData:y},a)});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[13,21,23,27]])})),fetchWordRelativeData:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[c]}));case 4:return p=e.sent,d=p.questionnaireId,f=p.questionnaireBoardId,e.prev=7,e.next=10,s(o.Dn8,{questionnaireId:a.questionnaireId||d,questionnaireBoardId:a.questionnaireBoardId||f,textType:"TEXT,TEXTAREA,SATISFACTION_REASON,NPS_REASON"});case 10:if(h=e.sent,2e4!==(m=h.data).code||!m.result){e.next=15;break}return e.next=15,u({type:"save",payload:{relativeData:m.result.data.length?m.result.data:"empty",relativeRefreshTime:m.result.createdAt,relativeDataLoading:!m.result.data.length}});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),e.t0;case 20:case"end":return e.stop()}}),e,null,[[7,17]])})),createWordRelativeData:i().mark((function e(t,n){var a,s,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[c]}));case 4:return l=e.sent,p=l.projectId,d=l.filterModel,f=l.dateFilter,h=l.questionnaireId,m=l.questionnaireBoardId,e.prev=10,e.next=13,s(o.Hy2,{questionnaireId:a.questionnaireId||h,questionnaireBoardId:a.questionnaireBoardId||m,textType:"TEXT,TEXTAREA,SATISFACTION_REASON,NPS_REASON",filterModel:a.filterModel||d,dateFilter:a.dateFilter||f,projectId:a.projectId||p});case 13:v=e.sent,v.data.code,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),e.t0;case 21:case"end":return e.stop()}}),e,null,[[10,18]])}))}}},50337:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(1103),c=n(64396),s=n(54684),u=c.Z.research.answer,l={pageConfig:{footer:{image:{url:""},title:"",questionslist:[]}}},p=function(e,t){var n=e.map((function(e){return e.id})),r=t.map((function(e){return{start:n.indexOf(e.from),end:n.indexOf(e.to)}})).sort((function(e,t){return e.start-t.start})),a=[];if(1===r.length)if(0===r[0].start&&r[0].end+1<=e.length-1)for(var i=r[0].end+1;i<=e.length-1;i++)a.push(i);else if(0!==r[0].start&&r[0].end!==e.length-1){for(var o=0;o<r[0].start;o++)a.push(o);for(var c=r[0].end+1;c<=e.length-1;c++)a.push(c)}else for(var s=0;s<r[0].start;s++)a.push(s);else for(var u=0;u<=r.length-1;u++)if(0===u){if(0!==r[u].start)for(var l=0;l<r[u].start;l++)a.push(l)}else if(u===r.length-1){if(r[u].end!==e.length-1)for(var p=r[u].end+1;p<=e.length-1;p++)a.push(p)}else for(var d=r[u].end+1;d<r[u+1].start;d++)a.push(d);return t.map((function(e){return{start:n.indexOf(e.from),end:n.indexOf(e.to),count:e.count}})).map((function(e){return function(e,t,n){for(var r=[],a=e;a<=t;a++)r.push(a);return r.sort((function(){return.5-Math.random()})),r.length=n,r.sort((function(e,t){return e-t}))}(e.start,e.end,e.count)})).reduce((function(e,t){return e.concat(t)})).concat(a).sort((function(e,t){return e-t})).map((function(t){return e[t].visible=!0,e[t].jumpable=!1,e[t]}))};const d={namespace:u,state:JSON.parse(JSON.stringify(l)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e,t){t.payload;return(0,r.Z)({},e,Object.assign({},JSON.parse(JSON.stringify(l))))}},effects:{findAnswerQuestionsList:i().mark((function e(t,n){var a,c,u,l,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.put,n.select,u=n.call,l=a.id,d=a.detailId,f=a.channel,e.prev=3,e.next=6,u(o.oU,{id:l,detailId:d,channel:f});case 6:if(h=e.sent,2e4!==(m=h.data).code){e.next=13;break}return(g=m.result.newConfiguration?JSON.parse(m.result.newConfiguration):(0,s.sC)(m.result)).questions.forEach((function(e){"[object Object]"===Object.prototype.toString.call(e.visible)?e.isShow=!1:e.isShow=!0})),e.next=13,c({type:"save",payload:{pageConfig:(0,r.Z)({},g,{questionslist:g.drawing&&g.drawing.length>0?p(g.questions,g.drawing):g.questions}),status:"CLOSED"===m.result.status||!1,detailId:d||m.result.detailId,channel:f||m.result.channel,skinId:m.result.skinId,qsId:null==(v=m.result)||null==(y=v.questionnaireWarningVO)?void 0:y.questionnaireId}});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(3);case 17:case"end":return e.stop()}}),e,null,[[3,15]])})),submit:i().mark((function e(t,n){var r,a,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,c=r.detailId,s=r.channel,u=r.answerList,e.next=5,a(o.Ps,{detailId:c,channel:s,answerList:u});case 5:return l=e.sent,p=l.data,e.abrupt("return",2e4===p.code);case 8:case"end":return e.stop()}}),e)}))}}},1103:(e,t,n)=>{"use strict";n.d(t,{Ps:()=>c,oU:()=>u,qq:()=>p});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722);function c(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.detailId,r=t.channel,a=t.answerList,e.abrupt("return",o.h.post("/questionnaire/submit",{detailId:n,channel:r,answerList:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.detailId,r=t.channel,a=t.id,e.abrupt("return",o.h.post("/questionnaire/find-for-answer-page",{detailId:n,channel:r,id:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",o.h.post("/questionnaire/skin/list",{id:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},98960:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(49722);function s(){return c.h.post("/contact/tag/list")}function u(e){return c.h.post("/contact/v2/schemaList",e)}function l(e){return c.h.post("/contact/v2/add",e)}var p=n(64396),d=n(35239);const f={namespace:p.Z.research.addContact,state:{tagList:[],schemaFields:[]},effects:{getTagList:o().mark((function e(t,n){var r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,e.next=3,r(s);case 3:if(2e4!==(i=e.sent).data.code){e.next=8;break}return i.data.result.list,e.next=8,a({type:"saveState",payload:{tagList:i.data.result}});case 8:case"end":return e.stop()}}),e)})),fetchSchemaList:o().mark((function e(t,n){var r,a,i,c,s,l,p,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._,r=n.call,a=n.put,i={projectId:d.t.get(d.V.curProject).id},e.prev=3,e.next=6,r(u,i);case 6:if(c=e.sent,s=c.data,l=s.code,p=s.result,2e4!==l){e.next=15;break}return f=p.map((function(e){return delete e.value,e})),e.next=14,a({type:"save",payload:{schemaFields:f}});case 14:return e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 18:e.prev=18,e.t0=e.catch(3);case 20:case"end":return e.stop()}}),e,null,[[3,18]])})),addContact:o().mark((function e(t,n){var i,c,s,u,p,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,u=(0,a.Z)({},i,{projectId:d.t.get(d.V.curProject).id}),e.next=5,c(l,u);case 5:if(p=e.sent,2e4!==(f=p.data).code){e.next=12;break}return r.default.success(f.msg),e.next=11,s({type:"getTagList"});case 11:return e.abrupt("return",f.result);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})),saveState:o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:r});case 4:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)}}}},15679:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(53920),c=n(64396),s=n(92360),u=c.Z.research.distribute,l={projectId:void 0,questionnaireId:"",title:"",questionnaireType:[],missionList:void 0,tableConfig:{pageSize:10,total:0,pageIndex:1},isOpen:!1,reSendDays:1};const p={namespace:u,state:JSON.parse(JSON.stringify(l)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e,t){t.payload;return(0,r.Z)({},e,Object.assign({},JSON.parse(JSON.stringify(l))))}},effects:{fetchMissionList:i().mark((function e(t,n){var a,c,s,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,c=n.select,s=n.call,e.next=3,c((function(e){return(0,r.Z)({},e)[u]}));case 3:return l=e.sent,p=l.tableConfig,d=l.projectId,f=l.questionnaireId,e.next=9,s(o.FF,(0,r.Z)({},p,{projectId:d,questionnaireId:f}));case 9:return h=e.sent,m=h.data.result,e.next=13,a({type:"save",payload:{missionList:m.result,tableConfig:(0,r.Z)({},p,{total:m.count})}});case 13:case"end":return e.stop()}}),e)})),deleteMission:i().mark((function e(t,n){var a,c,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.put,l=n.select,p=n.call,e.next=4,l((function(e){return(0,r.Z)({},e)[u]}));case 4:return d=e.sent,f=d.missionList,h=d.tableConfig,m=a.id,e.next=10,p(o.Sy,{dispatchId:m});case 10:if(v=e.sent,2e4===v.data.code&&s.Message.success("\u64cd\u4f5c\u6210\u529f"),1!==f.length){e.next=16;break}return e.next=16,c({type:"save",payload:{tableConfig:(0,r.Z)({},h,{pageIndex:1})}});case 16:return e.next=18,c({type:"fetchMissionList"});case 18:case"end":return e.stop()}}),e)})),fetchDefaultConfig:i().mark((function e(t,n){var a,c,s,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,c=n.select,s=n.call,e.next=3,c((function(e){return(0,r.Z)({},e)[u]}));case 3:return l=e.sent,p=l.questionnaireId,e.next=7,s(o.sW,{questionnaireId:p});case 7:return d=e.sent,f=d.data.result,e.next=11,a({type:"save",payload:{reSendDays:0===f?1:f,isOpen:!(0===f)}});case 11:case"end":return e.stop()}}),e)})),pageChange:i().mark((function e(t,n){var a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[u]}));case 4:return s=e.sent,l=s.tableConfig,e.next=8,o({type:"save",payload:{tableConfig:(0,r.Z)({},l,{pageIndex:a})}});case 8:return e.next=10,o({type:"fetchMissionList"});case 10:case"end":return e.stop()}}),e)})),pageSizeChange:i().mark((function e(t,n){var a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[u]}));case 4:return s=e.sent,l=s.tableConfig,e.next=8,o({type:"save",payload:{tableConfig:(0,r.Z)({},l,{pageSize:a,pageIndex:1})}});case 8:return e.next=10,o({type:"fetchMissionList"});case 10:case"end":return e.stop()}}),e)})),configChange:i().mark((function e(t,n){var a,c,s,l,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,s=n.put,l=n.select,p=n.call,e.next=4,l((function(e){return(0,r.Z)({},e)[u]}));case 4:if(d=e.sent,f=d.reSendDays,h=d.questionnaireId,m=d.resetReSendDays,v=c.key,y=c.value,g=f,"isOpen"!==v){e.next=18;break}if(!y||!m){e.next=17;break}return g=1,e.next=15,s({type:"save",payload:{reSendDays:g}});case 15:e.next=18;break;case 17:y||(g=1);case 18:return e.next=20,s({type:"save",payload:(a={},a[v]=y,a)});case 20:return e.next=22,p(o.mn,{questionnaireId:h,reSendDays:"isOpen"===v?y?g:0:y});case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e)}))}}},53920:(e,t,n)=>{"use strict";n.d(t,{FF:()=>c,Sy:()=>u,sW:()=>p,mn:()=>f,Rs:()=>m});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722);function c(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(i().mark((function e(t){var n,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageIndex,a=t.pageSize,c=t.questionnaireId,e.abrupt("return",o.h.post("/questionnaire/dispatch/list",{projectId:n,pageIndex:r,pageSize:a,questionnaireId:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatchId,e.abrupt("return",o.h.post("/questionnaire/dispatch/delete",{dispatchId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.questionnaireId,e.abrupt("return",o.h.post("/questionnaire/resend/find",{id:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.questionnaireId,r=t.reSendDays,e.abrupt("return",o.h.post("/questionnaire/resend/update",{id:n,resendDays:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.h.get("/questionnaire/dispatch/url/get",{params:{questionnaireId:t}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},27591:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatchId,e.abrupt("return",c.h.post("/questionnaire/dispatch/find",{dispatchId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/contact/list",(0,r.Z)({},t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/contact/tag/list",(0,r.Z)({},t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/questionnaire/dispatch/add",(0,r.Z)({},t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/questionnaire/dispatch/edit",(0,r.Z)({},t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/template/list",(0,r.Z)({},t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=n(5133),b=n(63968),T=n(61193),E=n(64396),w=n(87219),k=E.Z.research.distributeStep,C={projectId:"",dispatchId:"",step:1,channel:"SMS",sentBySms:!0,sentByEmail:!1,sendType:"WHOLE",channelList:[{channel:"SMS",channelName:"\u77ed\u4fe1",templateId:"",templateName:"",checked:!1},{channel:"EMAIL",channelName:"\u90ae\u4ef6",templateId:"",templateName:"",checked:!1}],selectedContact:{list:[],validPhoneNum:0,validEmailNum:0,currpageList:[],pageIndex:1,pageSize:10},tags:[],tagChecked:!1,selectedTags:[],modalShow:!1,actionType:"",contact:{modalShow:!1,loading:!1,name:"",email:"",phoneNumber:"",rules:[{type:"CONTAIN",values:[]}],pageIndex:1,pageSize:10,data:[],dataExist:!1,completeData:[],dataAllFetched:!1,total:0,selectedList:[],checkAllStatus:{manualChecked:!1,autoChecked:!1,indeterminate:!1},sendRuleStatus:"NORMAL",sendRuleConfig:""},template:{pageIndex:1,list:[],total:0,hasMore:!0,detail:{}},timeType:1,sendTime:"",isNextEnabled:!0};const S={namespace:k,state:JSON.parse(JSON.stringify(C)),effects:{fetchParams:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.payload,a=n.put,n.call,n.select,!r.dispatchId){e.next=7;break}return e.next=5,a({type:"fetchDispatchDetail",payload:r});case 5:e.next=9;break;case 7:return e.next=9,a({type:"save",payload:r});case 9:return e.next=11,a({type:"fetchTags"});case 11:return e.next=13,a({type:"fetchDefaultTemplate"});case 13:case"end":return e.stop()}}),e)})),fetchDefaultTemplate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return s=e.sent,u=s.channelList,e.prev=6,l=void 0,p=void 0,e.next=10,a(g,{pageIndex:1,pageSize:1,channel:"SMS",sortEnum:"UPDATED_AT___DESC",auditPassStatus:!0,status:"AUDIT_PASS"});case 10:return d=e.sent,2e4===(f=d.data).code&&f.result.result.length&&(l=f.result.result[0]),e.next=15,a(g,{pageIndex:1,pageSize:1,channel:"EMAIL",auditPassStatus:!0,sortEnum:"UPDATED_AT___DESC",status:"AUDIT_PASS"});case 15:return h=e.sent,2e4===(m=h.data).code&&m.result.result.length&&(p=m.result.result[0]),e.next=20,o({type:"save",payload:{channelList:(0,w.ZP)(u,(function(e){if(l){var t=e.find((function(e){return"SMS"===e.channel}));t.templateId=l.id,t.templateName=l.name,t.checked=!0}if(p){var n=e.find((function(e){return"EMAIL"===e.channel}));n.templateId=p.id,n.templateName=p.name,n.checked=!0}}))}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(6);case 24:case"end":return e.stop()}}),e,null,[[6,22]])})),fetchDispatchDetail:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.prev=2,e.next=5,u((function(e){return(0,r.Z)({},e)[k]}));case 5:return l=e.sent,p=l.selectedContact,d=l.channelList,f=l.contact,e.next=11,o(s,{dispatchId:a.dispatchId});case 11:if(h=e.sent,2e4!==(m=h.data).code){e.next=17;break}return v=(0,r.Z)({},a,{sendType:m.result.sendType,timeType:m.result.sendType?2:1,sendTime:m.result.sendTime,contact:(0,r.Z)({},f,{selectedList:m.result.contactList.map((function(e){return e.id}))}),selectedContact:(0,r.Z)({},p,{list:m.result.contactList},m.result.contactList.reduce((function(e,t){return t.phoneNumber&&(e.validPhoneNum+=1),t.email&&(e.validEmailNum+=1),e}),{validEmailNum:0,validPhoneNum:0}),{currpageList:m.result.contactList.slice((p.pageIndex-1)*p.pageSize,p.pageIndex*p.pageSize)}),channelList:d.map((function(e){var t=m.result.channelList.find((function(t){return t.channel===e.channel}));return t?(0,r.Z)({},e,{templateId:t.templateId,templateName:t.templateName,checked:!0}):e}))}),e.next=17,c({type:"save",payload:v});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),e.t0;case 22:case"end":return e.stop()}}),e,null,[[2,19]])})),sendNps:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,m,y,g,x,b,T,E,w,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.next=3,c((function(e){return(0,r.Z)({},e)[k]}));case 3:return s=e.sent,u=s.projectId,l=s.dispatchId,p=s.selectedContact.list,d=s.selectedTags,f=s.channelList,m=s.sendTime,y=s.timeType,g=s.sendType,x=s.questionnaireId,b=s.sendRuleStatus,T=s.sendRuleConfig,E={sendRuleStatus:b,sendRuleConfig:T,projectId:u,questionnaireId:x,sendType:g,contactList:p.map((function(e){return{contactId:e.id}})),channelList:f.reduce((function(e,t){return t.checked&&e.push({channel:t.channel,templateId:t.templateId}),e}),[])},2===y&&(E.sendTime=m+":00"),d.length&&(E.tagIdList=d.filter((function(e){return e.id})).map((function(e){return e.id})),E.tagNameList=d.filter((function(e){return!e.id})).map((function(e){return e.name}))),e.next=20,o({type:"save",payload:{isNextEnabled:!1}});case 20:if(!l){e.next=27;break}return E.dispatchId=l,e.next=24,a(v,E);case 24:w=e.sent,e.next=30;break;case 27:return e.next=29,a(h,E);case 29:w=e.sent;case 30:if(2e4!==(C=w.data).code){e.next=35;break}return I.Z.success(C.msg),e.next=35,o({type:"save",payload:{step:4,isNextEnabled:!0}});case 35:case"end":return e.stop()}}),e)})),init:i().mark((function e(t,n){var a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.call,a=n.put,o=n.select,e.prev=1,e.next=4,o((function(e){return(0,r.Z)({},e)[k]}));case 4:return c=e.sent,s=c.survey,e.next=8,a({type:"save",payload:(0,r.Z)({},JSON.parse(JSON.stringify(C)),{survey:s})});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})),clear:i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.call,a=n.put,n.select,e.prev=1,e.next=4,a({type:"save",payload:(0,r.Z)({},JSON.parse(JSON.stringify(C)))});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,6]])})),fetchContacts:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g,x,I,E,w,C,S,N,O,_,j,A,D,M,R,L;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.prev=2,e.next=5,s((function(e){return(0,r.Z)({},e)[k]}));case 5:if(u=e.sent,p=u.contact,d=u.tags,f=u.contact,h=f.pageIndex,m=f.pageSize,v=f.selectedList,y=f.checkAllStatus.manualChecked,g=f.rules,x=f.name,I=f.email,E=f.phoneNumber,w=p.completeData,C=g.map((function(e){return(0,r.Z)({},e,{values:e.values.reduce((function(e,t){var n=d.find((function(e){return e.name===t}));return n&&e.push(n.id),e}),[])})})),!a){e.next=23;break}return e.next=22,o(l,{name:x,email:I,phoneNumber:E,tagNames:C,pageIndex:a.pageIndex,pageSize:a.pageSize});case 22:return e.abrupt("return",e.sent);case 23:return S=!1,e.next=26,c({type:"save",payload:{contact:(0,r.Z)({},p,{data:[],loading:!0})}});case 26:return e.next=28,o(l,{name:x,email:I,phoneNumber:E,tagNames:C,pageIndex:h,pageSize:m});case 28:if(N=e.sent,2e4!==(O=N.data).code){e.next=59;break}if(_=JSON.parse((0,b.p)(O.result.data,T.Z.getUser().userId.substring(16))),j=_.list,A=_.total,!(w.length>0)){e.next=52;break}D=j.length-1;case 35:if(!(D>=0)){e.next=50;break}M=!1,R=w.length-1;case 38:if(!(R>=0)){e.next=46;break}if(j[D].id!==w[R].id){e.next=43;break}return M=!0,S=!0,e.abrupt("break",46);case 43:R--,e.next=38;break;case 46:M||w.push(j[D]);case 47:D--,e.next=35;break;case 50:e.next=53;break;case 52:w=j;case 53:if(y&&!S)for(L=0;L<j.length;L++)v.includes(j[L].id)||v.push(j[L].id);return e.next=56,c({type:"save",payload:{contact:(0,r.Z)({},p,{loading:!1,data:j,total:A,completeData:w,dataExist:S,selectedList:v,checkAllStatus:{manualChecked:!1,autoChecked:!1,indeterminate:!1}})}});case 56:return e.next=58,c({type:"handleCheckboxStyle"});case 58:return e.abrupt("return",e.sent);case 59:return e.abrupt("return",!1);case 62:return e.prev=62,e.t0=e.catch(2),e.t0,e.abrupt("return",!1);case 66:case"end":return e.stop()}}),e,null,[[2,62]])})),fetchTags:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.put,c=n.select,e.prev=1,e.next=4,c((function(e){return(0,r.Z)({},e)[k]}));case 4:return s=e.sent,u=s.projectId,e.next=8,a(d,{projectId:u});case 8:if(2e4!==(l=e.sent).data.code){e.next=13;break}return p=l.data.result,e.next=13,o({type:"save",payload:{tags:p}});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,15]])})),handleCheckAll:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g,x,I,E,w,C,S,N,O,_,j,A;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,o=n.select,c=n.put,e.prev=1,e.next=4,o((function(e){return(0,r.Z)({},e)[k]}));case 4:if(s=e.sent,u=s.contact,p=s.tags,d=s.contact,f=d.name,h=d.email,m=d.phoneNumber,v=d.rules,y=d.data,g=d.total,x=d.completeData,I=d.dataAllFetched,E=d.checkAllStatus,w=E.manualChecked,C=E.autoChecked,S=s.contact.selectedList,!w&&!C){e.next=12;break}S=[],y.forEach((function(e){return e.checked=!1})),e.next=29;break;case 12:if(y.forEach((function(e){return e.checked=!0})),I){e.next=28;break}return e.next=16,c({type:"save",payload:{contact:(0,r.Z)({},u,{loading:!0})}});case 16:return N=v.map((function(e){return(0,r.Z)({},e,{values:e.values.reduce((function(e,t){var n=p.find((function(e){return e.name===t}));return n&&e.push(n.id),e}),[])})})),e.next=19,a(l,{name:f,email:h,phoneNumber:m,tagNames:N,pageIndex:1,pageSize:g});case 19:if(O=e.sent,2e4!==(_=O.data).code){e.next=26;break}return j=JSON.parse((0,b.p)(_.result.data,T.Z.getUser().userId.substring(16))),A=j.list,j.total,e.next=26,c({type:"save",payload:(0,r.Z)({},s,{contact:(0,r.Z)({},u,{selectedList:A.map((function(e){return e.id})),data:y,dataExist:!1,completeData:A,dataAllFetched:!0,checkAllStatus:{manualChecked:!w,autoChecked:!w,indeterminate:!1}})})});case 26:e.next=29;break;case 28:S=x.map((function(e){return e.id}));case 29:if(!I&&!C){e.next=32;break}return e.next=32,c({type:"save",payload:(0,r.Z)({},s,{contact:(0,r.Z)({},u,{selectedList:S,data:y,dataExist:!1,dataAllFetched:I,checkAllStatus:{manualChecked:!C&&!w,autoChecked:!C&&!w,indeterminate:!1}})})});case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(1),e.t0;case 37:case"end":return e.stop()}}),e,null,[[1,34]])})),handleCheck:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.prev=2,s=a,e.next=6,c((function(e){return(0,r.Z)({},e)[k]}));case 6:return u=e.sent,l=u.contact,e.next=10,o({type:"save",payload:{contact:(0,r.Z)({},l,{selectedList:s,dataExist:!0})}});case 10:return e.next=12,o({type:"handleCheckboxStyle"});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,14]])})),handleCheckboxStyle:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,o=n.select,e.prev=2,e.next=5,o((function(e){return(0,r.Z)({},e)[k]}));case 5:if(c=e.sent,s=c.contact,u=c.contact,l=u.data,p=u.checkAllStatus.manualChecked,d=u.selectedList,f=u.total,h=u.dataExist,m=s.checkAllStatus,p&&!h||d.length===f&&f>0)m={manualChecked:!1,autoChecked:!0,indeterminate:!1},l.forEach((function(e){return e.checked=!0}));else if(d.length>0){for(v=!0,y=l.length-1;y>=0;y--)d.includes(l[y].id)?l[y].checked=!0:(l[y].checked=!1,v=!1);m=(0,r.Z)({},m,{manualChecked:!!v&&m.manualChecked,autoChecked:!!v&&m.autoChecked,indeterminate:!v||m.indeterminate})}else m=(0,r.Z)({},m,{manualChecked:!1,autoChecked:!1,indeterminate:!1}),l.forEach((function(e){return e.checked=!1}));return e.next=17,a({type:"save",payload:{contact:(0,r.Z)({},s,{data:l,checkAllStatus:m})}});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),e.t0;case 22:case"end":return e.stop()}}),e,null,[[2,19]])})),fetchTemplateList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.prev=2,e.next=5,c((function(e){return(0,r.Z)({},e)[k]}));case 5:return u=e.sent,l=u.template,p=u.template.list,d=a.pageIndex,f=a.channel,h={pageIndex:d,pageSize:9,channel:f,status:"AUDIT_PASS",auditPassStatus:!0,sortEnum:"UPDATED_AT___DESC"},e.next=12,o(g,h);case 12:if(m=e.sent,2e4!==(v=m.data).code){e.next=23;break}if(y=v.result,x=y.result,I=y.count,1!==d){e.next=21;break}return e.next=19,s({type:"save",payload:{template:(0,r.Z)({},l,{pageIndex:d,list:x,total:I,detail:x.length>0&&x[0],hasMore:x.length>=9})}});case 19:e.next=23;break;case 21:return e.next=23,s({type:"save",payload:{template:(0,r.Z)({},l,{pageIndex:d,list:p.concat(x),total:I,hasMore:x.length>=9})}});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(2),e.t0;case 28:case"end":return e.stop()}}),e,null,[[2,25]])}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},28092:(e,t,n)=>{"use strict";n.d(t,{h:()=>r,Z:()=>h});n(1025);var r,a=n(65400),i=n(87462),o=(n(73431),n(16373)),c=n(67294),s=n(61409),u=[{value:"edit",title:"\u7f16\u8f91",icon:"icon-bianji"},{value:"skin",title:"\u5916\u89c2",icon:"icon-xingzhuangjiehe"},{value:"setting",title:"\u8bbe\u7f6e",icon:"icon-cem_more-two"}],l={edit:"\u7f16\u8f91\u95ee\u5377",distribute:"\u6295\u653e\u95ee\u5377",setting:"\u95ee\u5377\u8bbe\u7f6e",skin:"\u95ee\u5377\u5916\u89c2"},p=o.Z.Header,d=o.Z.Sider,f=o.Z.Content;!function(e){e[e.distribute=1]="distribute",e[e.questionnaireDistribute=2]="questionnaireDistribute",e[e.questionnaireSettings=3]="questionnaireSettings"}(r||(r={}));const h=function(e){var t=(0,i.Z)({},e),n=t.leftNavState,h=t.navTitle,m=t.navMode,v=t.qsId,y=t.qsStatus,g=t.qsTitle,x=t.pageQuery,I=void 0===x?{}:x,b=t.saveLoading,T=t.onPreview,E=t.onSave,w=t.onRelease,k="distribute"===n;return c.createElement(o.Z,{className:"questionnaire_edit"},c.createElement(p,null,c.createElement("div",{className:"left-op"},c.createElement("i",{className:"icon-cem_arrow-thick",onClick:function(){return s.mW.push({pathname:"/research/manage"})}}),c.createElement(s.rU,{to:{pathname:"/research/manage"}},"\u95ee\u5377\u7ba1\u7406")," / ",h?h+" / ":"",c.createElement("span",null,l[n])),m===r.distribute?c.createElement("div",{className:"editor-progress"},c.createElement(s.rU,{activeClassName:"active",to:{pathname:"/research/manage"}},"\u95ee\u5377\u7ba1\u7406"),c.createElement("i",{className:"icon-cem_arrow-thick"}),c.createElement(s.rU,{to:{pathname:"/research/manage/distribute",state:{id:v,title:g,questionnaireType:[I.type||"NORMAL"]}},activeClassName:"active",className:"disabled"},"\u6295\u653e\u95ee\u5377")):c.createElement("div",{className:"editor-progress"},c.createElement(s.rU,{to:{pathname:"/research/questionnaireEdit/"+(k?"edit":n),query:I},activeClassName:"active"},"\u7f16\u8f91\u95ee\u5377"),c.createElement("i",{className:"icon-cem_arrow-thick"}),c.createElement(s.rU,{to:{pathname:"/research/questionnaireEdit/distribute",query:I,state:{id:v,title:g,questionnaireType:[I.type||"NORMAL"]}},activeClassName:"active",className:y?"":"disabled",onClick:function(e){return!y&&e.preventDefault()}},"\u6295\u653e\u95ee\u5377")),c.createElement("div",{className:"right-op "+(k?"hideBtn":"")},k?"":c.createElement(c.Fragment,null,c.createElement(a.default,{onClick:function(){return setTimeout(T,600)}},"\u9884\u89c8"),("edit"===n||"skin"===n)&&c.createElement(a.default,{disabled:b,onClick:function(){return setTimeout(E,600)}},"\u4fdd\u5b58"),c.createElement(a.default,{type:"primary",disabled:"setting"===n&&!v||b,onClick:function(){return setTimeout(w,600)}},"\u53d1\u5e03")))),c.createElement(o.Z,null,k?"":c.createElement(d,{width:"80"},c.createElement("ul",null,u.map((function(e){return c.createElement("li",{key:e.value},c.createElement(s.rU,{to:{pathname:"/research/questionnaireEdit/"+e.value,query:I},activeClassName:"active"},c.createElement("i",{className:e.icon}),e.title))})))),c.createElement(f,null,t.children)))}},16983:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(46342),c=n(33722),s=n(5133),u=n(64396),l=n(35239),p=u.Z.research.npsManage,d={name:"",pageSize:10,pageIndex:1,questionnaireType:"ALL",status:"ALL",timeType:"updatedAt_DESC",sortName:"updatedAt",sortType:"DESC",data:void 0,nps:{id:"",expireTime:"",expireTimeType:2,valid:!1},projectId:void 0,activeColumnProps:[],thirdParty:!1,productName:[],productVersion:[],productLine:[],intervalType:"ALL",teamList:[],userList:[],webhookList:[]};const f={namespace:p,state:d,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},d)}},effects:{fetchParams:i().mark((function e(t,n){var a,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,l=c.SE,e.prev=3,e.next=6,s(o.oG,{projectId:a.projectId});case 6:p=e.sent,2e4===(d=p.data).code&&d.result&&(l=JSON.parse(d.result)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.next=15,u({type:"save",payload:(0,r.Z)({},a,{activeColumnProps:l})});case 15:return e.next=17,u({type:"fetchNpsList",payload:a});case 17:case"end":return e.stop()}}),e,null,[[3,11]])})),fetchNpsList:i().mark((function e(t,n){var a,c,s,u,d,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[p]}));case 4:return d=e.sent,d.projectId,f=d.name,d.questionnaireType,d.status,h=d.sortName,m=d.sortType,v=d.pageSize,y=d.pageIndex,g=d.thirdParty,x=d.productName,I=d.productVersion,b=d.productLine,T={projectId:l.t.get(l.V.curProject).id,name:void 0!==a.name?a.name:f,sortName:h,sortType:m,pageSize:a.pageSize||v,pageIndex:a.pageIndex||y,thirdParty:a.thirdParty||g,productName:a.productName||x,productVersion:a.productVersion||I,productLine:a.productLine||b},E="",0!==location.search.length&&(w=JSON.parse(decodeURIComponent(location.search.slice(1))),E=w.questionnaireId,T.questionnaireId=E),T.thirdParty&&(delete T.sortName,delete T.sortType),a.status&&"ALL"!==a.status&&(T.status=[a.status]),a.intervalType&&(T.intervalType=a.intervalType),a.questionnaireType&&"ALL"!==a.questionnaireType&&(T.questionnaireType=[a.questionnaireType]),k="error",e.prev=25,e.next=28,c(o.mw,T);case 28:C=e.sent,S=C.data,k=2e4===S.code&&S.result.count>0?{total:S.result.count,list:S.result.result}:"empty",e.next=35;break;case 33:e.prev=33,e.t0=e.catch(25);case 35:return e.prev=35,e.next=38,u({type:"save",payload:(0,r.Z)({},a,{data:k})});case 38:return e.finish(35);case 39:case"end":return e.stop()}}),e,null,[[25,33,35,39]])})),deleteNps:i().mark((function e(t,n){var a,c,u,l,d,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[p]}));case 4:return d=e.sent,f=d.projectId,h=d.name,m=d.questionnaireType,v=d.status,y=d.sortName,g=d.sortType,x=d.pageSize,I=d.pageIndex,e.prev=13,e.next=16,c(o.xT,a);case 16:if(b=e.sent,2e4!==b.data.code){e.next=22;break}return s.Z.success("\u5220\u9664\u6210\u529f"),e.next=22,u({type:"fetchNpsList",payload:{projectId:f,name:h,questionnaireType:m,status:v,sortName:y,sortType:g,pageSize:x,pageIndex:I}});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(13);case 26:case"end":return e.stop()}}),e,null,[[13,24]])})),updateNpsStatus:i().mark((function e(t,n){var a,c,u,l,d,f,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.put,u=n.call,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[p]}));case 4:return d=e.sent,f=d.projectId,h=d.keyword,m=d.pageSize,v=d.pageIndex,y=d.status,g=d.questionnaireType,x=d.sortName,I=d.sortType,b=a.type,e.prev=14,e.next=17,u(o.K8,a);case 17:if(T=e.sent,2e4!==T.data.code){e.next=23;break}return b||s.Z.success("\u64cd\u4f5c\u6210\u529f"),e.next=23,c({type:"fetchNpsList",payload:{projectId:f,keyword:h,pageSize:m,pageIndex:v,questionnaireType:g,status:y,sortName:x,sortType:I}});case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(14);case 27:case"end":return e.stop()}}),e,null,[[14,25]])})),setDefaultValue:i().mark((function e(t,n){var a,c,s,u,l,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[p]}));case 4:return l=e.sent,d=l.projectId,e.next=8,c(o.sR,{projectId:a.projectId||d,value:JSON.stringify(a.activeColumnProps)});case 8:if(f=e.sent,2e4!==f.data.code){e.next=13;break}return e.next=13,s({type:"save",activeColumnProps:a.activeColumnProps});case 13:case"end":return e.stop()}}),e)})),updateNpsExpireTime:i().mark((function e(t,n){var a,c,u,l,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,u=n.put,l=n.select,e.prev=2,d=a.projectId,e.next=6,l((function(e){return(0,r.Z)({},e)[p]}));case 6:return f=e.sent,h=f.nps,m=h.id,v=h.expireTime,e.next=12,c(o.QN,{projectId:d,id:m,expireTime:v,toDispatched:!0});case 12:if(2e4!==e.sent.data.code){e.next=17;break}return e.next=16,u({type:"fetchNpsList"});case 16:s.Z.success("\u64cd\u4f5c\u6210\u529f");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[2,19]])})),getUserAndTeamList:i().mark((function e(t,n){var a,c,s,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[p]}));case 4:return u=e.sent,l=u.projectId,e.next=8,a(o.m8,{projectId:l});case 8:if(2e4!==(d=e.sent).data.code){e.next=12;break}return e.next=12,c({type:"save",payload:{teamList:d.data.result.team,userList:d.data.result.user}});case 12:case"end":return e.stop()}}),e)})),getWebhookList:i().mark((function e(t,n){var a,c,s,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[p]}));case 4:return u=e.sent,l=u.projectId,e.next=8,a(o._v,{projectId:l});case 8:if(2e4!==(d=e.sent).data.code){e.next=12;break}return e.next=12,c({type:"save",payload:{webhookList:d.data.result.result}});case 12:case"end":return e.stop()}}),e)}))}}},46342:(e,t,n)=>{"use strict";n.d(t,{mw:()=>u,xT:()=>l,K8:()=>p,QN:()=>d,oG:()=>f,sR:()=>m,Q2:()=>y,Is:()=>x,lO:()=>b,m8:()=>E,_v:()=>k});var r=n(15861),a=n(87462),i=n(87757),o=n.n(i),c=n(49722),s="RESEARCH_MANAGE_LIST";function u(e){var t=e.projectId,n=e.questionnaireId,r=e.name,a=e.status,i=e.sortName,o=e.sortType,s=e.questionnaireType,u=e.pageSize,l=e.pageIndex,p=e.thirdParty,d=e.productName,f=e.productVersion,h=e.productLine,m=e.intervalType;return c.h.post("/questionnaire/list",{projectId:t,questionnaireId:n,name:r,status:a,sortName:i,sortType:o,questionnaireType:s,pageSize:u,pageIndex:l,thirdParty:p,productName:d,productVersion:f,productLine:h,intervalType:m})}function l(e){var t=e.id;return c.h.post("/questionnaire/delete",{id:t})}function p(e){var t=e.id,n=e.status;return c.h.post("/questionnaire/status/change",{id:t,status:n})}function d(e){return c.h.post("/nps/expire-time/update",(0,a.Z)({},e))}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:s,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",c.h.post("/questionnaire/detail",{id:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(o().mark((function e(t){var n,r,a,i,s,u,l,p,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.questionnaireId,a=t.warningId,i=t.noticeCount,s=t.singleNotice,u=t.rules,l=t.condition,p=t.receiverTeamIdList,d=t.receiverUserIdList,f=t.status,e.abrupt("return",c.h.post("/questionnaire/recycle-notice",{projectId:n,questionnaireId:r,warningId:a,noticeCount:i,singleNotice:s,rules:u,condition:l,receiverTeamIdList:p,receiverUserIdList:d,status:f}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.questionnaireId,e.abrupt("return",c.h.post("/questionnaire/warning/detail",{questionnaireId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/filter/find",{type:"INBOX",filterTypes:["USER","TEAM"],projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.post("/webhook/list",(0,a.Z)({},t,{pageIndex:1,pageSize:500})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},33722:(e,t,n)=>{"use strict";n.d(t,{SE:()=>r,CQ:()=>a,_d:()=>i,pX:()=>o,nx:()=>c,hm:()=>s,eF:()=>u,Go:()=>l});var r=[{label:"\u95ee\u5377\u540d\u79f0",value:"title",fixed:"left",width:200,checked:!0},{label:"\u4f53\u9a8c\u9898\u578b",value:"questionnaireType",fixed:"",width:120,checked:!0},{label:"\u95ee\u5377\u72b6\u6001",value:"status",fixed:"",width:110,checked:!0},{label:"\u7b54\u5377\u6570",value:"submitted",fixed:"",width:110,checked:!0},{label:"NPS\u5206\u503c",value:"npsScore",fixed:"",width:110,checked:!1},{label:"\u6700\u540e\u56de\u6536\u65f6\u95f4",value:"lastSubmittedAt",fixed:"",width:110,checked:!0},{label:"\u6ee1\u610f\u5ea6\u5206\u503c",value:"satisfactionScore",fixed:"",width:110,checked:!1},{label:"\u521b\u5efa\u65f6\u95f4",value:"createdAt",fixed:"",width:150,checked:!0},{label:"\u4fee\u6539\u65f6\u95f4",value:"updatedAt",fixed:"",width:110,checked:!0},{label:"\u64cd\u4f5c",value:"operator",fixed:"right",width:200,checked:!0}],a=[{title:"\u56de\u6536\u901a\u77e5",value:"recycle",PermissionCode:""},{title:"\u505c\u6b62\u6536\u96c6",value:"switch",PermissionCode:"QUESTIONNAIRE_COLLECT_ENABLE"},{title:"\u590d\u5236",value:"copy",PermissionCode:"QUESTIONNAIRE_COPY"},{title:"\u5220\u9664",value:"delete",PermissionCode:"QUESTIONNAIRE_DELETE"}],i=[{title:"\u56de\u6536\u901a\u77e5",value:"recycle",PermissionCode:""},{title:"\u91cd\u65b0\u6253\u5f00",value:"switch",PermissionCode:""},{title:"\u590d\u5236",value:"copy",PermissionCode:"QUESTIONNAIRE_COPY"},{title:"\u5220\u9664",value:"delete",PermissionCode:"QUESTIONNAIRE_DELETE"}],o=[{title:"\u56de\u6536\u901a\u77e5",value:"recycle",PermissionCode:""},{title:"\u590d\u5236",value:"copy",PermissionCode:"QUESTIONNAIRE_COPY"},{title:"\u5220\u9664",value:"delete",PermissionCode:"QUESTIONNAIRE_DELETE"}],c=[{title:"\u5168\u90e8",value:"ALL"},{title:"NPS",value:"NPS"},{title:"\u6ee1\u610f\u5ea6",value:"SATISFACTION"},{title:"\u666e\u901a\u9898\u578b",value:"NORMAL"}],s=[{title:"\u5168\u90e8",value:"ALL"},{title:"\u672a\u53d1\u5e03",value:"UN_DISPATCH"},{title:"\u5df2\u53d1\u5e03",value:"DISPATCHED"},{title:"\u5df2\u7ed3\u675f",value:"CLOSED"}],u=[{title:"\u5168\u90e8",value:"ALL"},{title:"\u4eca\u5929",value:"TODAY"},{title:"\u672c\u5468",value:"WEEK"},{title:"\u672c\u6708",value:"MONTH"}],l=function(e){if(!e)return"";var t=new Date,n=new Date(e.substring(0,19).replace(/-/g,"/").replace(/T/," ")),r=t.getTime()-n.getTime(),a=36e5,i=864e5,o=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();new Date(o-864e5).getTime();switch(!0){case r<a:var c=Math.abs(Math.floor(r/6e4));return c?c+"\u5206\u949f\u524d":"\u521a\u521a";case r<i:return Math.floor(r/a)+"\u5c0f\u65f6\u524d";default:return Math.floor(r/i)+"\u5929\u524d"}}},48131:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(87462),a=n(64396).Z.research.questionnaireAnswer,i={pageConfig:{footer:{image:{url:""},title:""}}};const o={namespace:a,state:JSON.parse(JSON.stringify(i)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},i)}}}},33663:(e,t,n)=>{"use strict";n.d(t,{C:()=>se,Z:()=>ue});n(53294);var r=n(56697),a=(n(75314),n(11187)),i=n(15861),o=n(87462),c=n(50361),s=n.n(c),u=n(87757),l=n.n(u),p=n(67294),d=n(61409),f=n(5133),h=n(28092),m=n(34286),v=(n(1131),n(28465)),y=(n(29809),n(97538)),g=(n(89858),n(51024)),x=(n(1025),n(65400)),I=n(94578),b=n(84391),T=n(35239),E=n(39077),w=n(69750),k=n(51474),C=n(10279),S=n(48888),N=n(3820),O=g.default.TextArea;const _=function(e){var t=e.logo,n=e.desc,r=e.title,a=e.onTitleChange,i=e.onDescChange,o=t.visible,c=t.url,s=t.align,u=t.radius,l=t.titleVisible,d=t.descVisible;return p.createElement("div",{className:"qs-designer-header"},o&&p.createElement("img",{src:c,style:{borderRadius:Number(u)+"px",marginBottom:"16px",float:s}}),l&&p.createElement(O,{value:r,style:{width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"bold",marginBottom:"8px"},onChange:a,autoSize:!0,tabIndex:-1,maxLength:200}),d&&p.createElement(O,{value:n,style:{width:"100%",textAlign:"center",color:"#8c8c8c"},onChange:i,autoSize:!0,tabIndex:-1,maxLength:200}))};n(48145);var j=n(40987),A=(n(48980),n(20838)),D=A.default.TabPane,M=g.default.TextArea;function R(e){var t=(0,p.useState)("1"),n=t[0],r=t[1],a=e.selectedQS,i=e.footer,c=e.footer,s=c.logo,u=c.title,l=e.finish,d=e.singlePage,f=e.onSelect,h=e.onParamsUpdate;return p.createElement("div",{className:"yt-qs-footer"},p.createElement("div",{className:"btn-setting  "+("buttons"===a?"selected":""),onClick:function(){return f("buttons")}},p.createElement("i",{className:"icon-cem_more-two"}),"\u6309\u94ae\u914d\u7f6e"),p.createElement(A.default,{className:"footer"===a||"finish"===a?"selected":"",defaultActiveKey:"1",onClick:function(){return f("1"===n?"footer":"finish")},onTabClick:function(e){r(e),f("1"===e?"footer":"finish")}},p.createElement(D,{tab:"\u7ed3\u675f\u9875\uff08\u6210\u529f\u5b8c\u6210\uff09",key:"1"},p.createElement(M,{onChange:function(e){return h("footer",(0,o.Z)({},i,{title:e.target.value}))},value:u,style:{fontSize:"12px",textAlign:"center"},autoSize:!0,tabIndex:-1,maxLength:200}),p.createElement("div",{className:"img-wrapper"},p.createElement("img",{src:s.url,style:{borderRadius:Number(s.radius)+"px",transform:"scale("+(s.width&&s.width.indexOf("%")>-1?.01*Number(s.width.split("%")[0]):1)+")"}}))),p.createElement(D,{tab:"\u7ed3\u675f\u9875\uff08\u95ee\u5377\u505c\u6b62\u6536\u96c6\uff09",key:"2"},p.createElement(M,{onChange:function(e){return h("finish",(0,o.Z)({},l,{title:e.target.value}))},defaultValue:l.title,style:{fontSize:"12px",fontWeight:"bold",textAlign:"center"},autoSize:!0,tabIndex:-1,maxLength:200}),p.createElement("div",{className:"img-wrapper"},p.createElement("img",{src:l.logo.url,style:{borderRadius:Number(l.logo.radius)+"px",transform:"scale("+(l.logo.width&&l.logo.width.indexOf("%")>-1?.01*Number(l.logo.width.split("%")[0]):1)+")"}})))),p.createElement("div",{className:"btn-setting",onClick:function(){return f("one")}},"\u542f\u7528\u4e00\u9898\u4e00\u9875",p.createElement(j.Z,{size:"small",checked:d,onChange:function(e){return h("singlePage",e)}})))}const L=(0,w.Z)((function(e){var t=e.questions,n=e.sorting,r=e.selectedItemId,a=e.isDispatched,i=e.onDelete,c=e.onConfigUpdate,s=e.header,u=e.buttons,l=e.footer,d=e.finish,f=e.singlePage,h=e.onParamsUpdate,m=e.onTitleChange,v=e.onDescChange,y=e.skin,g=e.editMode,x=Array.isArray(n)&&n.length===t.length?n:t.map((function(e,t){return t})),I=1,b=x.map((function(e){return(0,o.Z)({},t[e],{idx:t[e].type===N.C2.DECORATION_TEXT?"":I++})})),T=(0,p.useState)(""),E=T[0],w=T[1];function O(t){w(t),e.onSelect({type:t})}(0,p.useEffect)((function(){k.default.create(document.querySelector("#yt-qs-designer"),{animation:150,handle:".dragging-handle",delay:5,onEnd:function(e){var t=e.newIndex,n=e.oldIndex;t!==n&&c({key:"SORTING",value:{newIndex:t,oldIndex:n}})}})})),(0,p.useEffect)((function(){var e=document.getElementById("yt-qs-designer");null==e||e.addEventListener("click",(function(e){return"textarea"===e.target.localName&&e.target.select()}))}),[]),(0,p.useEffect)((function(){return r&&w(r)}),[r]);var j=s.logo,A=j.visible,D=j.titleVisible,M=j.descVisible;return p.createElement("div",{className:"yt-qs-container "+("skin"===g?"has-skin":""),style:y?{backgroundImage:"url("+y+")"}:null},(A||D||M)&&p.createElement("div",{className:"qs-designer-wrapper "+("header"===E?"selected":""),onClick:function(){return O("header")}},p.createElement(_,(0,o.Z)({},s,{onTitleChange:m,onDescChange:v}))),p.createElement("div",{id:"yt-qs-designer"},b.length>0?b.map((function(n,r){return p.createElement("div",{className:"qs-designer-wrapper "+(n.id===E?"selected":""),key:n.id,onClick:function(n){return function(n){var r=t[n];w(r.id),e.onSelect({value:n})}(r)}},(C.Z[n.type]||function(e){return p.createElement("p",null,p.createElement("b",null,n.type)," \u9898\u578b\u89c6\u56fe\u7f3a\u5931, \u8bf7\u8865\u5168")})({containerType:S.l.DESIGNER,configuration:n,serialNumber:n.idx,isDispatched:a,onValueChange:function(e){},registerAsRef:function(e){},onStateChange:function(){},onConfigUpdate:c}),!a&&p.createElement("div",{className:"handle_css"},p.createElement("i",{className:"icon-cem_trash i_css",onClick:function(e){return i(e,r)}}),p.createElement("i",{className:"icon-cem_displacement dragging-handle i_css"})))})):p.createElement("div",{className:"qs-empty"},p.createElement("div",{className:"qs-empty-tip"},p.createElement("span",null,"T"),"\u70b9\u51fb\u5de6\u4fa7\u9898\u578b\u5230\u6b64\u533a\u57df"))),p.createElement(R,{selectedQS:E,buttons:u,footer:l,finish:d,singlePage:f,onSelect:function(e){return O(e)},onParamsUpdate:h}))}));var P=n(71184);const F=function(e){function t(t){var n;return(n=e.call(this,t)||this).skinFormRef=p.createRef(),n.userDefinedPic=void 0,n.changeModalSkin=function(e){n.setState({modalSkin:e})},n.onSubmit=function(){var e,t=n.props,r=t.questionnaireId,i=t.handleUpdateSkin,o=(t.definedSkinName,n.state),c=o.modalSkin,s=o.fileName,u=T.t.get(T.V.curProject).id,l=null==(e=n.skinFormRef.current)?void 0:e.getFieldValue("skinName"),p="\u81ea\u5b9a\u4e49\u76ae\u80a4";l&&(p=l),p.length>20||(u?(n.setState({loading:!0}),(0,P.bB)({projectId:u,base64Code:c,skinName:p,questionnaireId:r,fileName:""===s?"no-name":s}).then((function(e){if(200!==e.status)return a.default.error("\u76ae\u80a4\u4e0a\u4f20\u5931\u8d25"),void n.setState({loading:!1});var t=e.data.result.id;i({skinSelId:t,definedSkinId:t,definedSkinName:p,definedSkinBase64:c}),n.setState({modelVisible:!1,modalSkin:"",loading:!1})})).catch((function(e){a.default.error("\u76ae\u80a4\u4e0a\u4f20\u5931\u8d25"),n.setState({loading:!1})}))):a.default.error("\u76ae\u80a4\u4e0a\u4f20\u5931\u8d25"))},n.onCancelSubmit=function(){n.setState({modelVisible:!1,modalSkin:""}),setTimeout((function(){var e,t;null==(e=n.skinFormRef)||null==(t=e.current)||t.setFieldsValue({skinName:""})}),100)},n.getBase64=function(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)},n.beforeUpload=function(e){return"image/jpeg"===e.type||"image/png"===e.type?e.size/1024/1024<5?(n.getBase64(e,(function(t){n.setState({modalSkin:t,fileName:e.name})})),!1):(a.default.error("\u56fe\u7247\u4e0d\u80fd\u5927\u4e8e5M"),!1):(a.default.error("\u56fe\u7247\u4ec5\u80fd\u591f\u6dfb\u52a0jpg\u3001jpeg\u3001png\u683c\u5f0f"),!1)},n.getSkin=function(){var e=n.props,t=e.skinSelId,r=e.definedSkinId,a=e.definedSkinBase64;if(t===r)return a;for(var i=0;i<E.O.length;i++)if(E.O[i].skinId===t)return E.O[i].skinUrl;return""},n.state={modelVisible:!1,loading:!1,modalSkin:"",fileName:"",inputLengthMore20:!1},n}(0,I.Z)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props.definedSkinBase64,n=this.state.modalSkin;e.definedSkinBase64!==t&&E.y.test(n)&&this.changeModalSkin(t)},n.render=function(){var e=this,t=this.state,n=t.modelVisible,a=t.loading,i=t.modalSkin,c=t.inputLengthMore20,s=this.props,u=s.skinSelId,l=s.definedSkinId,d=s.definedSkinBase64,f=s.definedSkinName,h=s.handleUpdateSkin,m=this.getSkin();return p.createElement("div",{className:"yt_questionaire_edit_skin_page"},p.createElement("nav",{className:"skin-list"},p.createElement("ul",null,p.createElement("li",{className:(u&&"default"!==u?"":"sel")+" default-skin",onClick:function(){h({skinSelId:"default"})}},p.createElement("p",{className:"skin-name"},"\u9ed8\u8ba4\u76ae\u80a4")),E.O.map((function(e){return p.createElement("li",{key:e.skinId,className:u===e.skinId?"sel":"",onClick:function(){h({skinSelId:e.skinId})}},p.createElement("div",{className:"img-container"},p.createElement("img",{src:e.smallUrl,alt:""})),p.createElement("p",{className:"skin-name"},e.skinName))})),d?p.createElement("li",{className:(u===l?"sel":"")+" user-defined",onClick:function(){l&&h({skinSelId:l})}},p.createElement(p.Fragment,null,p.createElement("div",{className:"img-and-btn"},p.createElement("div",{className:"img-container"},p.createElement("img",{src:d,alt:""})),p.createElement("div",{className:"opt"},p.createElement("div",{onClick:function(){var t,n;e.setState({modelVisible:!0,modalSkin:d}),null==(t=e.skinFormRef)||null==(n=t.current)||n.setFieldsValue({skinName:"\u81ea\u5b9a\u4e49\u76ae\u80a4"===f?"":f})}},p.createElement("i",{className:"iconfont icon-bianji"}),"\u7f16\u8f91"))),p.createElement("p",{className:"skin-name"},f))):p.createElement("li",{className:"defined-btn"},p.createElement("div",{onClick:function(){e.setState({modelVisible:!0})}},"+\u81ea\u5b9a\u4e49\u76ae\u80a4")))),p.createElement("div",{className:"content"},p.createElement(L,(0,o.Z)({},this.props,{skin:m,editMode:"skin"}))),p.createElement(r.Z,{title:"\u76ae\u80a4\u8bbe\u7f6e",visible:n,onCancel:this.onCancelSubmit,width:431,wrapClassName:"yt_question_edit_skin_page_modal",footer:[p.createElement(x.default,{key:"back",onClick:this.onCancelSubmit},"\u53d6\u6d88"),p.createElement(x.default,{key:"submit",type:"primary",disabled:!i||E.y.test(i)||c,loading:a,onClick:this.onSubmit},"\u786e\u8ba4")]},p.createElement(y.Z,{name:"skin",ref:this.skinFormRef,labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!1},autoComplete:"off"},p.createElement(y.Z.Item,{label:"\u76ae\u80a4\u540d\u79f0",name:"skinName",labelAlign:"left",rules:[{max:20,message:"\u76ae\u80a4\u540d\u79f0\u4e0d\u80fd\u8d85\u8fc720"}]},p.createElement(g.default,{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0",style:{width:"208px"},disabled:a,defaultValue:"\u81ea\u5b9a\u4e49\u76ae\u80a4"===f?"":f,onChange:function(t){var n;(null==(n=e.skinFormRef.current)?void 0:n.getFieldValue("skinName")).length>20?e.setState({inputLengthMore20:!0}):e.setState({inputLengthMore20:!1})}})),p.createElement(y.Z.Item,{label:"\u76ae\u80a4\u80cc\u666f",name:"skinBg",labelAlign:"left"},p.createElement(v.Z,{name:"skinBg",listType:"picture-card",showUploadList:!1,maxCount:1,beforeUpload:this.beforeUpload,disabled:a,className:"yt_questionaire_edit_skin_page_upload"},i?p.createElement("img",{src:i,className:"upload-img",alt:""}):p.createElement("div",null,p.createElement(b.Z,null),p.createElement("div",{className:"upload-msg"},"\u4e0a\u4f20\u56fe\u7247")))))))},t}(p.Component);var Z=n(50531),V=n(54684),z=(n(54038),n(36671));const U=function(e){var t=e.selectedType,n=e.logo,a=e.imgList,i=e.handleUpload,c=e.handleOnDeleteClick,s=e.onSetOk,u=e.defaulValue,l=e.defaultUrl,d=e.onSwitch,f=e.onTitleSwitch,h=e.onDescSwitch,m=e.onRedirectionURL,v=(0,p.useRef)(null),I=y.Z.useForm()[0],T=y.Z.useForm()[0],E=(0,p.useState)(!1),w=E[0],k=E[1],C=(0,p.useState)(0),S=C[0],N=C[1],O=(0,p.useState)(n),_=O[0],A=O[1],D=function(){k(!0)},M=function(e){A(e||{name:l})},R=n.url;return(0,p.useEffect)((function(){T.setFieldsValue({radius:n.radius}),A(n)}),[n]),(0,p.useEffect)((function(){I.setFieldsValue((0,o.Z)({},u))}),[t]),p.createElement(p.Fragment,null,p.createElement(y.Z,{form:I,colon:!1,labelAlign:"left",labelCol:{span:9},wrapperCol:{span:15}},p.createElement("h3",null,"header"===t?"\u95ee\u5377\u5934\u90e8\u8bbe\u7f6e":"footer"===t?"\u5b8c\u6574\u7b54\u9898\u9875\u914d\u7f6e":"\u95ee\u5377\u5173\u95ed\u65f6\u7684\u63d0\u793a\u9875"),"header"===t&&p.createElement(y.Z.Item,{label:"\u663e\u793a\u56fe\u7247",name:"visible",style:{marginBottom:0}},p.createElement(j.Z,{defaultChecked:n.visible,size:"small",onChange:d})),p.createElement("div",{className:"edit_logo"},p.createElement("div",null,"\u56fe\u7247\u8bbe\u7f6e"),p.createElement("div",{className:"upload_logo"},p.createElement("a",{onClick:D},"\u4fee\u6539"),p.createElement("img",{src:_.url,onClick:D}))),"header"===t&&p.createElement(y.Z.Item,{label:"\u663e\u793a\u6807\u9898",name:"titleVisible",style:{marginBottom:0}},p.createElement(j.Z,{defaultChecked:n.titleVisible,size:"small",onChange:f})),"header"===t&&p.createElement(y.Z.Item,{label:"\u663e\u793a\u63cf\u8ff0",name:"descVisible",style:{marginBottom:0}},p.createElement(j.Z,{defaultChecked:n.descVisible,size:"small",onChange:h})),("footer"===t||"finish"===t)&&p.createElement(y.Z.Item,{label:"\u8df3\u8f6c\u94fe\u63a5",name:"redirectionURL",rules:[{validator:function(e,t,n){return(0,V.rP)(t)?n():n("\u8bf7\u586b\u5199\u6b63\u786e\u7684\u94fe\u63a5")}}]},p.createElement(g.default,{placeholder:"\u8bbe\u7f6e\u62bd\u5956\u548c\u4f18\u60e0\u5238\u94fe\u63a5",onChange:function(e){m(e.target.value)}}))),p.createElement(r.Z,{title:"\u56fe\u7247\u8bbe\u7f6e",visible:w,onOk:function(){s((0,o.Z)({id:_.id,url:_.name||n.url},T.getFieldsValue())),k(!1)},onCancel:function(){A((0,o.Z)({},n)),k(!1)},wrapClassName:"logo_upload",destroyOnClose:!0,width:882},p.createElement(y.Z,{form:T,colon:!1,labelAlign:"left",labelCol:{span:5},initialValues:{radius:S}},p.createElement("div",{className:"left"},p.createElement("div",{className:"title"},"\u9884\u89c8"),p.createElement("div",{className:"logo_wrap"},p.createElement("div",{style:{width:"100%"}},p.createElement("img",{src:_.name||R,style:{borderRadius:Number(S)+"px",width:"158px",height:"158px"}}))),p.createElement(y.Z.Item,{label:"\u5706\u89d2",name:"radius"},p.createElement(g.default,{size:"small",onChange:function(e){var t=e.target.value;N(t)},value:S}))),p.createElement("div",{className:"right"},p.createElement("div",{className:"upload"},p.createElement("input",{ref:v,type:"file",hidden:!0,accept:"images/png",onChange:i}),p.createElement(x.default,{icon:p.createElement(b.Z,null),onClick:function(){var e;return null==(e=v.current)?void 0:e.click()}},"\u4e0a\u4f20\u56fe\u7247"),p.createElement("span",{className:"tip"},"\u4ec5\u652f\u6301png\u683c\u5f0f\uff0c\u6587\u4ef6\u5c0f\u4e8e1M\uff0c\u5efa\u8bae\u4e3a\u6b63\u65b9\u5f62")),p.createElement("div",{className:"logo_uploaded "+(a&&a.length?"":"logo_unuploaded")},a&&a.length?p.createElement(p.Fragment,null,a.map((function(e){return p.createElement("span",{key:e.id,className:"uploaded_list "+(e.id===_.id?"uploaded_list_focus":""),onClick:function(t){t.stopPropagation(),M(e)}},p.createElement("img",{src:e.name}),p.createElement("i",{className:"icon-cem_trash",onClick:function(t){t.stopPropagation(),c(e.id)}}))})),p.createElement("span",{className:"uploaded_list "+(_.id?"":"uploaded_list_focus"),onClick:function(e){e.stopPropagation(),M()}},p.createElement("img",{src:l}))):p.createElement(z.default,{description:"\u8bf7\u5148\u4e0a\u4f20\u56fe\u7247"}))))))};n(7940);var B=n(31059),q=(n(43378),n(62443)),W=(n(59567),n(8799)),H=(n(35797),n(64749)),G=(n(89626),n(70302)),Y=(n(65245),n(91075)),J=(n(54277),n(74048)),K=n(63366),Q=n(59465),X=n(1977),$=n(49101),ee=["key","name","fieldKey"],te=H.default.Option;const ne=function(e){var t=e.visible,n=e.subjects,a=e.onOk,i=e.onCancel,c=e.drawing,s=y.Z.useForm()[0],u=(0,p.useState)(""),l=u[0],d=u[1];(0,p.useEffect)((function(){d(JSON.stringify(c.map((function(e){return{top:n.findIndex((function(t){return t.id===(null==e?void 0:e.from)})),bottom:n.findIndex((function(t){return t.id===(null==e?void 0:e.to)}))}}))))}),[c]);var f=function(e,t,r){var a=l?JSON.parse(l):[],i=n.findIndex((function(t){return t.id===e}));switch(r){case"top":a[t]=(0,o.Z)({},a[t],{top:i});break;case"bottom":a[t]=(0,o.Z)({},a[t],{bottom:i})}d(JSON.stringify(a))},h=function(e,t){var r=n.findIndex((function(t){return t.id===e}));return Object.keys(t).map((function(e){var n=t[e];return!!n&&(r>=n.top&&r<=n.bottom)})).includes(!0)};return p.createElement(r.Z,{title:"\u62bd\u9898\u89c4\u5219",visible:t,wrapClassName:"yt_extract_rule_modal",width:906,onOk:function(){a(s.getFieldsValue())},onCancel:function(){i()}},p.createElement("div",{className:"yt_questions_set_rule"},p.createElement("div",{className:"yt_questions_set_rule_content"},p.createElement(y.Z,{name:"dynamic_form_nest_item",autoComplete:"off",form:s},p.createElement(y.Z.List,{name:"drawing",initialValue:c},(function(e,t){var r=t.add,a=t.remove;return p.createElement(p.Fragment,null,e.map((function(t){var i,c,s=t.key,u=t.name,m=t.fieldKey,v=(0,K.Z)(t,ee),g=l?JSON.parse(l):[],x=l?JSON.parse(l):[];x&&delete x[m];var I=g[m]||{},b=I.top,T=function(e){var t=n;if(void 0!==e){var r=l&&JSON.parse(l),a=(null==r?void 0:r.map((function(e){return null==e?void 0:e.bottom})).filter((function(t){return t<e}))).pop();t=void 0!==e?n.slice(a+1,e+1):n}return t}(I.bottom),E=function(e){var t=n;if(void 0!==e){var r=l&&JSON.parse(l),a=null==r?void 0:r.map((function(e){return null==e?void 0:e.top})).filter((function(t){return t>e}));t=void 0!==e?n.slice(e,a[0]):n}return t}(b);return p.createElement(J.default,{key:s,style:{display:"flex"},align:"baseline"},"\u4ece\u9898\u76ee",p.createElement(y.Z.Item,(0,o.Z)({},v,{name:[u,"from"],fieldKey:[m,"from"],style:{width:"160px"}}),p.createElement(H.default,{placeholder:"\u8bf7\u9009\u62e9",onChange:function(e){return f(e,m,"top")}},null==T?void 0:T.map((function(e){var t=n.findIndex((function(t){return t.id===e.id}));return p.createElement(te,{value:e.id,key:e.id,disabled:h(e.id,x)},t+1+"."+e.title)})))),"\u5230\u9898\u76ee",p.createElement(y.Z.Item,(0,o.Z)({},v,{name:[u,"to"],fieldKey:[m,"to"],style:{width:"160px"}}),p.createElement(H.default,{placeholder:"\u8bf7\u9009\u62e9",onChange:function(e){return f(e,m,"bottom")}},null==E?void 0:E.map((function(e){var t=n.findIndex((function(t){return t.id===e.id}));return p.createElement(te,{value:e.id,key:e.id,disabled:h(e.id,x)},t+1+"."+e.title)})))),"\u4e2d\u968f\u673a\u62bd\u53d6",p.createElement(y.Z.Item,(0,o.Z)({},v,{name:[u,"count"],fieldKey:[m,"count"]}),p.createElement(W.Z,{style:{width:"160px"},min:1,max:(null==(i=g[m])?void 0:i.bottom)-(null==(c=g[m])?void 0:c.top)+1||n.length})),"\u9053\u9898\u76ee",p.createElement(Q.Z,{onClick:function(){var e=l&&JSON.parse(l);delete e[s],d(JSON.stringify(e)),a(u)},style:{marginLeft:"40px"}}),p.createElement(X.Z,{onClick:function(){return e.length<5&&r()}}))})),!e.length&&p.createElement(y.Z.Item,{style:{marginTop:"32px"}},p.createElement(z.default,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:120},description:p.createElement("span",null,"\u6682\u65e0\u6570\u636e\uff0c\u70b9\u51fb\u6309\u94ae\u6dfb\u52a0")},p.createElement(x.default,{type:"primary",onClick:function(){return r()},icon:p.createElement($.Z,null)},"\u6dfb\u52a0"))))})))),p.createElement("div",{className:"yt_questions_set_rule_tip"},"\u63d0\u793a\uff1a\u5982\u679c\u95ee\u5377\u4e2d\u5305\u542b\u8df3\u8f6c\u903b\u8f91\u3001\u663e\u793a\u903b\u8f91\u7b49\u9898\u76ee\u5173\u8054\u903b\u8f91\uff0c\u8bbe\u7f6e\u968f\u673a\u62bd\u9898\u540e\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8fd9\u4e9b\u903b\u8f91\u5931\u6548\uff0c\u8bf7\u4ed4\u7ec6\u68c0\u67e5\uff01")))};var re=Y.Z.Link,ae=[{label:"\u5fae\u4fe1\u901a\u77e5",value:"WEIXIN"},{label:"\u9489\u9489\u7fa4\u901a\u77e5",value:"DINGDING_CHAT"},{label:"\u98de\u4e66\u7fa4\u901a\u77e5",value:"FEISHU_CHAT"},{label:"\u90ae\u4ef6\u901a\u77e5",value:"EMAIL"}];const ie=function(e){var t=e.location,n=e.subjects,r=e.onSavaQS,i=e.boardOptions,c=e.type,u=e.params,l=e.saveLoading,d=e.onExtractOk,f=e.userList,h=e.teamList,m=e.webhookList,v=e.fetchWebhookList,I=e.fetchUserList,b=e.updateParams,T=y.Z.useForm()[0],E=(0,p.useState)("ENABLE"),w=E[0],k=E[1],C=(0,p.useState)(!1),S=C[0],O=C[1],_=(0,p.useState)({WEIXIN:!1,DINGDING_CHAT:!1,FEISHU_CHAT:!1,EMAIL:!1}),A=_[0],D=_[1],M=A.DINGDING_CHAT||A.FEISHU_CHAT;function R(e,t){var n=[];return"FEISHU"===e?n=t.filter((function(e){return"FEISHU"===e.type})).map((function(e){return e.webhookId})):"DINGDING"===e&&(n=t.filter((function(e){return"DINGDING"===e.type})).map((function(e){return e.webhookId}))),n}function L(e,t){var n=t.map((function(e){return e.id}));return e.filter((function(e){return n.includes(e)}))}function P(e){var t=e.DingdingWebhook,n=e.FeishuWebhook,r=isNaN(e.noticeCount)?100:e.noticeCount,a=isNaN(e.singleNotice)?100:e.singleNotice,i=[],o=[];return 0!==t.length&&t.forEach((function(e){i.push({type:"DINGDING",webhookId:e,key:null})})),0!==n.length&&n.forEach((function(e){i.push({type:"FEISHU",webhookId:e,key:null})})),o.push({type:"RECALL_COUNT",threshold:r}),o.push({type:"RECALL",threshold:a}),{noticeCount:r,singleNotice:a,rules:o,condition:{pushWay:e.pushWay,webHookModels:i},receiverTeamIdList:e.receiverTeamIdList,receiverUserIdList:e.receiverUserIdList,status:e.status}}function F(e){var t=Object.keys(A).filter((function(e){return!0===A[e]})),n={noticeCount:(e=(0,o.Z)({},e,{pushWay:t,status:w})).noticeCount,singleNotice:e.singleNotice,receiverTeamIdList:e.receiverTeamIdList||[],receiverUserIdList:e.receiverUserIdList||[],DingdingWebhook:e.DingdingWebhook||[],FeishuWebhook:e.FeishuWebhook||[],status:w,pushWay:t},r=Object.keys(n);for(var a in e)r.includes(a)&&delete e[a];return{values:e,forNotice:n}}(0,p.useEffect)((function(){if(!u.questionnaireWarningVO||null===u.questionnaireWarningVO.warningId)return k("DISABLE"),void T.setFieldsValue({title:u.title,description:u.description,board:u.board});var e=u.questionnaireWarningVO,t=e.receiverTeamIdList,n=e.receiverUserIdList,r=e.rules,a=e.condition;k(e.status);var i=100,c=100;r.forEach((function(e){"RECALL_COUNT"===e.type&&(i=e.threshold),"RECALL"===e.type&&(c=e.threshold)}));var s={title:u.title,description:u.description,board:u.board,singleNotice:c,noticeCount:i,receiverTeamIdList:L(t,h),receiverUserIdList:L(n,f),DingdingWebhook:[],FeishuWebhook:[]};if(a){var l=a.pushWay,p=a.webHookModels;!function(e){var t=(0,o.Z)({},A);e.forEach((function(e){t[e]=!0})),D(t)}(l),s.DingdingWebhook=R("DINGDING",p),s.FeishuWebhook=R("FEISHU",p)}T.setFieldsValue(s)}),[u]),(0,p.useEffect)((function(){"/research/questionnaireEdit/setting"!==t.pathname&&T.validateFields().then((function(e){var t=F(e),n=t.values,r=t.forNotice,a=s()(u),i=P(r);for(var o in n)a[o]=n[o];if(a.questionnaireWarningVO)for(var c in i)a.questionnaireWarningVO[c]=i[c];else a.questionnaireWarningVO=i;b({params:a})})).catch((function(e){}))}),[t]);var V=u.title,z=u.description,U=u.board;return p.createElement("div",{className:"survey_setting"},p.createElement("div",{className:"survey_setting_menu"},p.createElement(Y.Z,null,p.createElement(re,{href:"#survey_name",title:"\u95ee\u5377\u540d\u79f0"}),p.createElement(re,{href:"#survey_describe",title:"\u95ee\u5377\u63cf\u8ff0"}),p.createElement(re,{href:"#survey_questionType",title:"\u4f53\u9a8c\u9898\u578b"}),p.createElement(re,{href:"#survey_board",title:"\u5173\u8054\u770b\u677f"}),p.createElement(re,{href:"#survey_extract",title:"\u968f\u673a\u62bd\u9898"}),p.createElement(re,{href:"#survey_recycelRemind",title:"\u7b54\u5377\u56de\u6536\u91cf\u63d0\u9192"}))),p.createElement("div",{className:"survey_setting_content"},p.createElement("div",{className:"survey_setting_content_title"},p.createElement("span",null,"\u95ee\u5377\u8bbe\u7f6e"),p.createElement(x.default,{type:"primary",disabled:l,onClick:function(){T.validateFields().then((function(e){var t=F(e),n=t.values,i=t.forNotice,o=P(i);"ENABLE"===w?function(e){var t=e.pushWay,n=e.receiverTeamIdList,r=e.receiverUserIdList,i=e.FeishuWebhook,o=e.DingdingWebhook,c=e.noticeCount,s=e.singleNotice,u="";null===c?u="\u8bf7\u586b\u5199\u7b54\u5377\u8fbe\u5230\u4efd\u6570":null===s?u="\u8bf7\u586b\u5199\u6536\u5230\u7684\u7b54\u5377\u6570\u91cf":0===n.length&&0===r.length?u="\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u63a8\u9001\u56e2\u961f\u6216\u7528\u6237":0===e.pushWay.length?u="\u81f3\u5c11\u4e00\u4e2a\u63a8\u9001\u65b9\u5f0f":t.includes("DINGDING_CHAT")&&0===o.length?u="\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u9489\u9489\u7fa4Webhook":t.includes("FEISHU_CHAT")&&0===i.length&&(u="\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u98de\u4e66\u7fa4Webhook");if(""!==u)return a.default.error(u),!1;return!0}(i)&&r(n,o):r(n,o)})).catch((function(e){}))}},"\u4fdd\u5b58")),p.createElement(y.Z,{form:T},p.createElement(G.Z,{title:"\u95ee\u5377\u540d\u79f0",bordered:!1,id:"survey_name",className:"require"},p.createElement(y.Z.Item,{name:"title",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u95ee\u5377\u540d\u79f0"}],initialValue:V},p.createElement(g.default,null))),p.createElement(G.Z,{title:"\u95ee\u5377\u63cf\u8ff0",bordered:!1,id:"survey_describe"},p.createElement(y.Z.Item,{name:"description",initialValue:z},p.createElement(g.default.TextArea,null))),p.createElement(G.Z,{title:"\u4f53\u9a8c\u9898\u578b",bordered:!1,id:"survey_questionType"},c.map((function(e){return Z.gA[e]})).join(",")),p.createElement(G.Z,{title:"\u5173\u8054\u770b\u677f",bordered:!1,id:"survey_board"},c?p.createElement(y.Z.Item,{name:"board",initialValue:U},p.createElement(H.default,{mode:"multiple",style:{width:"100%"},options:i.filter((function(e){return c.includes(e.type)}))})):"\u6682\u65e0\u6570\u636e"),p.createElement(G.Z,{title:"\u968f\u673a\u62bd\u9898",bordered:!1,id:"survey_extract"},p.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},p.createElement("span",null,"\u62bd\u9898\u89c4\u5219"),p.createElement("a",{onClick:function(){O(!0)}},"\u8bbe\u7f6e"))),p.createElement(G.Z,{id:"survey_recycelRemind",title:"\u7b54\u5377\u56de\u6536\u91cf\u63d0\u9192",bordered:!1,extra:p.createElement(j.Z,{defaultChecked:!0,checked:"ENABLE"===w,onChange:function(e){k(e?"ENABLE":"DISABLE")}})},p.createElement("div",null,p.createElement("div",{className:"title"},"\u56de\u6536\u6570\u91cf\u63d0\u9192"),p.createElement("div",{className:"submit_notice "},p.createElement("span",{className:"left"},"\u63d0\u4ea4\u7b54\u5377\u6570\u8fbe\u5230"),p.createElement(y.Z.Item,{name:"noticeCount",initialValue:U},p.createElement(W.Z,{min:1,max:9999999999,defaultValue:100,precision:0})),p.createElement("span",{className:"right"},"\u4efd\u65f6\u901a\u77e5\u6211"))),p.createElement("div",{className:"recycle_notice"},p.createElement("span",null,"\u6bcf\u6536\u5230"),p.createElement(y.Z.Item,{name:"singleNotice"},p.createElement(W.Z,{min:1,max:9999999999,defaultValue:100,precision:0})),p.createElement("span",null,"\u4efd\u65f6\u95ee\u5377\u901a\u77e5\u6211")),p.createElement("div",{className:"push_select"},p.createElement("div",{className:"push_member"},p.createElement("div",null,p.createElement("span",null,"\u63a8\u9001\u7528\u6237\u7ec4"),p.createElement(y.Z.Item,{name:"receiverTeamIdList"},p.createElement(H.default,{mode:"multiple",optionFilterProp:"label",options:h.map((function(e){return{label:e.name,value:e.id}})),placeholder:"\u8bf7\u9009\u62e9",allowClear:!1,showArrow:!0,suffixIcon:p.createElement("i",{className:"icon-cem_pull-down-or-take-up",style:{fontSize:"16px",color:"#8c8c8c",cursor:"pointer"}}),onFocus:function(){I()}}))),p.createElement("div",null,p.createElement("span",null,"\u63a8\u9001\u6210\u5458"),p.createElement(y.Z.Item,{name:"receiverUserIdList"},p.createElement(H.default,{mode:"multiple",optionFilterProp:"label",options:f.map((function(e){return{label:e.username,value:e.id}})),placeholder:"\u8bf7\u9009\u62e9",allowClear:!1,showArrow:!0,suffixIcon:p.createElement("i",{className:"icon-cem_pull-down-or-take-up",style:{fontSize:"16px",color:"#8c8c8c"}}),onFocus:function(){I()}})))),p.createElement("div",{className:"push_way"},p.createElement("span",{className:"way"},"\u63a8\u9001\u65b9\u5f0f"),ae.map((function(e){return p.createElement(B.default,{key:e.value,onChange:function(t){return function(e,t){var n=(0,o.Z)({},A);n[t]=!n[t],D(n)}(0,e.value)},value:e.value,checked:A[e.value]},e.label,"WEIXIN"===e.value&&p.createElement(q.default,{content:p.createElement("div",{style:{maxWidth:200,fontSize:12}},"\u7cfb\u7edf\u9ed8\u8ba4\u7ed9\u7ed1\u5b9a\u4e86\u5fae\u4fe1\u7684\u7528\u6237\u63a8\u9001\u5fae\u4fe1\u901a\u77e5\u3002\u5982\u672a\u7ed1\u5b9a\uff0c\u53ef\u524d\u5f80\u201c\u4e2a\u4eba\u4e2d\u5fc3/\u4e2a\u4eba\u8d44\u6599\u201d\u9875\u9762\u626b\u7801\u7ed1\u5b9a\u5fae\u4fe1\u3002",p.createElement("br",null),p.createElement("a",{href:"/personalSettings/overview",target:"_black",style:{color:"#1890FF"}},"\u7acb\u5373\u524d\u5f80"))},p.createElement("i",{className:"icon-cem_file1",style:{fontSize:14,color:"#979797",marginLeft:4}})))})))),p.createElement(p.Fragment,null,M&&p.createElement("div",{className:"notice"},p.createElement("span",null,"\u7fa4\u901a\u77e5"),p.createElement("a",{href:"/account/project/webhookList",target:"_blank"},"\u914d\u7f6eWebhook\u540e\uff0c\u624d\u80fd\u4f7f\u7528\u7fa4\u901a\u77e5>")),A.DINGDING_CHAT&&p.createElement("div",{className:"push_way_chats"},p.createElement("span",null,"\u9489\u9489\u7fa4Webhook"),p.createElement(y.Z.Item,{name:"DingdingWebhook"},p.createElement(H.default,{style:{width:400},mode:"multiple",showArrow:!0,options:m.filter((function(e){return"DINGDING"===e.type&&"ENABLE"===e.status})).map((function(e){return{label:e.name,value:e.id}})),placeholder:"\u8bf7\u9009\u62e9Webhook\u5730\u5740",suffixIcon:p.createElement("i",{className:"icon-cem_pull-down-or-take-up",style:{fontSize:"16px",color:"#8c8c8c"}}),onFocus:function(){v()}}))),A.FEISHU_CHAT&&p.createElement("div",{className:"push_way_chats"},p.createElement("span",null,"\u98de\u4e66\u7fa4Webhook"),p.createElement(y.Z.Item,{name:"FeishuWebhook"},p.createElement(H.default,{style:{width:400},mode:"multiple",showArrow:!0,options:m.filter((function(e){return"FEISHU"===e.type&&"ENABLE"===e.status})).map((function(e){return{label:e.name,value:e.id}})),placeholder:"\u8bf7\u9009\u62e9Webhook\u5730\u5740",suffixIcon:p.createElement("i",{className:"icon-cem_pull-down-or-take-up",style:{fontSize:"16px",color:"#8c8c8c"}}),onFocus:function(){v()}}))))))),p.createElement(ne,{visible:S,subjects:n.filter((function(e){return e.type!==N.C2.DECORATION_TEXT})),onOk:function(e){d(e),O(!1)},onCancel:function(){O(!1)},drawing:u.drawing}))};var oe=["onOK","className"];const ce=function(e){var t=e.onOK,n=e.className,a=void 0===n?"":n,i=(0,K.Z)(e,oe);return p.createElement(r.Z,(0,o.Z)({className:"yt-customer-dialog-wrapper "+a},i,{onOk:function(){return t()}}),i.content||i.children)};var se=(0,p.createContext)({});const ue=function(e){var t=(0,o.Z)({},e),n=t.router,c=t.route,u=t.location,v=t.qsId,y=t.qsStatus,g=t.questionslist,x=t.params,I=t.saveLoading,b=t.publicLoading,E=t.handleSaveQS,w=t.addListItem,k=t.deleteListItem,C=t.replaceListItem,S=t.updateListItem,O=t.updateListItemOptions,_=t.addSelectOption,j=t.delSelectOption,A=t.dashboardOptions,D=t.reorderSelectOption,M=t.imgList,R=t.handleUpload,z=t.handleOnDeleteClick,B=t.imgSetting,q=t.updateParams,W=t.defaultUrl,H=t.imgSwitch,G=t.changeTitle,Y=t.changeDesc,J=t.handleSaveExtract,K=t.titleSwitch,Q=t.descSwitch,X=t.updateQuestionKey,$=t.updateMatrxItemOptions,ee=t.teamList,te=t.userList,ne=t.webhookList,re=t.fetchWebhookList,ae=t.fetchUserList,oe=t.skinSelId,ue=t.definedSkinId,le=t.definedSkinName,pe=t.definedSkinBase64,de=t.handleUpdateSkin,fe=(0,p.useState)(""),he=fe[0],me=fe[1],ve=(0,p.useState)(-1),ye=ve[0],ge=ve[1],xe=(0,p.useState)(void 0),Ie=xe[0],be=xe[1],Te=(0,p.useState)(""),Ee=Te[0],we=Te[1],ke=(0,p.useState)(""),Ce=ke[0],Se=ke[1],Ne=(0,p.useState)([]),Oe=Ne[0],_e=Ne[1],je=(0,p.useState)({}),Ae=je[0],De=je[1],Me=(0,p.useState)([]),Re=Me[0],Le=Me[1],Pe=(0,p.useState)(!1),Fe=Pe[0],Ze=Pe[1],Ve=(0,p.useState)(!1),ze=Ve[0],Ue=Ve[1],Be=(0,p.useState)([]),qe=Be[0],We=Be[1],He=(0,p.useState)(!1),Ge=He[0],Ye=He[1],Je=(0,p.useState)([]),Ke=Je[0],Qe=Je[1],Xe=(0,p.useState)(void 0),$e=Xe[0],et=Xe[1],tt=function(){var e=(0,i.Z)(l().mark((function e(){var t,n,r,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.Hi)();case 2:t=e.sent,n=t.data,r=n.code,a=n.result,2e4===r&&(a.unshift({name:"\u9ed8\u8ba4",optionType:"DEFAULT",options:null==(i=(0,V.UX)(N.C2.SINGLE_PULL_DOWN))?void 0:i.options}),We(a));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(e,t){var n;if(!(t&&null!=(n=Ae[e])&&n.style||y)){var r=s()((0,V.UX)(e)),a=(0,V.Mc)(g);(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({question:(0,o.Z)({},r,{id:a})});case 2:return e.next=4,rt({value:g.length-1});case 4:case"end":return e.stop()}}),e)})))(),t&&ot("add",e)}},rt=function(e){var t=e.value,n=e.type;t>-1&&(ge(t),be(g[t])),we(n),n&&be(x[n])},at=function(e,t){var n=g[t].id,r=[];g.map((function(e){"object"===typeof e.visible&&e.visible.conditions.map((function(t){return t.source===n&&r.push({number:e.number||0,title:e.title||"",type:"\u663e\u793a\u903b\u8f91",id:e.id||""}),t}));"object"===typeof e.jumpable&&e.jumpable.conditions.map((function(t){return t.source===n&&r.push({number:e.number||0,title:e.title||"",type:"\u8df3\u8f6c\u903b\u8f91",id:e.id||""}),t}));return e})),Qe(r),r.length?(et({e:e,index:t}),Ye(!0)):it(e,t)},it=function(e,t){a.default.warning("\u5220\u9664\u9898\u76ee\u540e\uff0c\u8bbe\u7f6e\u7684\u62bd\u9898\u89c4\u5219\u5c06\u4f1a\u5931\u6548"),e.stopPropagation(),ot("delete",g[t].type),k({index:t}),ge(-1),be(void 0),Ge&&Ye(!1)},ot=function(e,t){var n=/_REASON/.test(t),r=null==t?void 0:t.split("_")[0];if(Ae[t]={style:"add"===e||n&&!Ae[r].isSelected?"disabled":"",isSelected:"add"===e},Ae[t+"_REASON"]&&!Ae[t+"_REASON"].isSelected&&(Ae[t+"_REASON"].style="add"===e?"":"disabled"),/NPS|CSAT/.test(r)){var a,i,o=(null==r?void 0:r.indexOf("CSAT"))>-1?"SATISFACTION":r,c=Oe.findIndex((function(e){return e===o})),s=!(null!=(a=Ae[r])&&a.isSelected)&&!(null!=(i=Ae[r+"_REASON"])&&i.isSelected);"add"===e?c<0&&_e([].concat(Oe.filter((function(e){return"NORMAL"!==e})),[o])):s&&Oe.splice(c,1)&&_e([].concat(Oe.length>0?Oe:["NORMAL"]))}},ct=function(e){var t=e.pathname;return!(!Fe&&!/questionnaireEdit/.test(t))||"\u4fe1\u606f\u8fd8\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u8981\u79bb\u5f00\uff1f"};(0,p.useEffect)((function(){tt();var e=(null==u?void 0:u.query.type)||"";me((null==u?void 0:u.pathname.split("/")[3])||""),(null==Oe?void 0:Oe.length)<1&&(Se(e),_e([e||"NORMAL"]),De(Z.Vx[e||"default"])),n&&n.setRouteLeaveHook(c,ct)}),[u,Fe,Oe]),(0,p.useEffect)((function(){if(x.types){var e;_e([].concat(x.types));var t=null==(e=x.questions)?void 0:e.filter((function(e){return Z.T0.test(e.type)}));t.length>0&&De((0,o.Z)({},(0,V.DT)(t)))}}),[x]),(0,p.useEffect)((function(){Ae&&Object.keys(Ae).filter((function(e){return Ae[e].isSelected})).forEach((function(e){!g.find((function(t){return t.type===e}))&&nt(e,null)}))}),[Ae]),(0,p.useEffect)((function(){var e=Re.length;q({options:"singlePage",value:e>0})}),[Re]),(0,p.useEffect)((function(){var e=g.filter((function(e){var t,n,r,a;return(null==(t=e.jumpable)||null==(n=t.conditions)?void 0:n.length)>0||(null==(r=e.visible)||null==(a=r.conditions)?void 0:a.length)>0}));e.length!==Re.length&&Le([].concat(e.length>0?e.map((function(e){return e.id})):[]))}),[g,Re]);var st=function(e,t){d.mW.push({pathname:"/research/questionnaireEdit/"+e,search:Ce?"?type="+Ce+"&id="+t.id:"?id="+t.id,state:t})},ut=function(e,t){var n=t||x.questionnaireWarningVO;E({values:e,questionnaireNotifyModel:n,questionnaireTypes:Oe,skinId:oe,customId:ue},(function(){return Ze(!0)}))},lt=function(e){J(e)},pt=function(e){x.title||"setting"===he?x.title&&("next"===e?y?st("distribute",{id:v,title:x.title,questionnaireTypes:[Ce||"NORMAL"]}):Ue(!0):ut()):st("setting",{isSave:!0})},dt=function(e){return"head"===e?p.createElement("span",null,p.createElement("i",{className:"icon-cem_ordinary"}),"\u786e\u5b9a\u4ecd\u8981\u5206\u53d1\u6b64\u95ee\u5377\uff1f"):"\u6b64\u95ee\u5377\u5f53\u524d\u5904\u4e8e\u300c\u672a\u53d1\u5e03\u300d\u72b6\u6001\uff0c\u4f60\u53ef\u4ee5\u81ea\u7531\u7f16\u8f91\u95ee\u5377\u91cc\u9762\u7684\u5185\u5bb9\u3002\u5f53\u95ee\u5377\u5904\u4e8e\u300c\u5df2\u5206\u53d1\u300d\u6216\u300c\u5df2\u5173\u95ed\u300d\u72b6\u6001\u65f6\uff0c\u4e0d\u652f\u6301\u589e\u5220\u9898\u76ee\uff0c\u4ee5\u53ca\u589e\u5220\u9009\u9879\u3002"},ft=function(e){var t=e.id,n=e.key,r=e.idx,a=e.option,i=e.value,o=(e.event,e.chart);switch(n){case"TITLE":O({options:[ye,"title"],value:i});break;case"SORTING":var c=i.newIndex,s=i.oldIndex;C({newIndex:c,oldIndex:s}),ge(c);break;case"SLT_OP_SORTING":var u=i.newIndex,l=i.oldIndex;D({qid:t,newIndex:u,oldIndex:l});break;case"SLT_OP_APPEND":_({id:t});break;case"SLT_OP_REMOVE":j({id:t,idx:i});break;case"LABEL":r>-1&&O({options:[ye,"options",r,"label"],value:i});break;case"SCORETEXT":O({options:[ye,a],value:i});break;case"SINGLE_PULL_DOWN":X({id:t,key:"defaultOption",value:i});break;case"MATRIX_SINGLE_CHOICE":case"MATRIX_MULTIPLE_CHOICE":case"MATRIX_SCALE":$({id:t,key:"title",value:i,chart:o});break;case"PHRASE":X({id:t,key:"phrase",value:i})}},ht=function(e){var t=e.target.value;G({value:t})},mt=function(e){var t=e.target.value;Y({value:t})};return p.createElement(se.Provider,{value:{selectedItem:Ie,libraryMap:qe,onSettingChange:function(e,t){be((0,o.Z)({},e)),e.type?(S({listItem:e}),t&&function(e){var t,n,r,a,i=Re.indexOf(e.id),o=(null==(t=e.jumpable)||null==(n=t.conditions)?void 0:n.length)>0;(null==(r=e.visible)||null==(a=r.conditions)?void 0:a.length)>0||o?i<0&&(Re.push(e.id),1===Re.length&&f.Z.warning("\u8bbe\u7f6e"+(o?"\u8df3\u8f6c":"\u663e\u793a")+"\u89c4\u5219\u540e\uff0c\u9ed8\u8ba4\u5f00\u542f\u4e00\u9898\u4e00\u9875\uff0c\u4e0d\u53ef\u5173\u95ed\u3002",7)):i>-1&&Re.splice(i,1),Le([].concat(Re))}(e)):q({options:"buttons",value:e})}}},p.createElement(h.Z,{leftNavState:he,pageQuery:null==u?void 0:u.query,qsId:v,qsStatus:y,qsTitle:x.title,saveLoading:I,onPreview:function(){var e=(0,o.Z)({questionslist:g},x);T.t.set("pageConfig",JSON.stringify(e)),setTimeout((function(){window.open("/research/questionnaireAnswer/answer?type=1")}),200)},onSave:function(){return pt("save")},onRelease:function(){return pt("next")}},p.createElement("div",{className:"questionnaire_edit_content"},p.createElement("div",{className:"left_container "+he},Z.Oe.map((function(e){var t;return e.title?p.createElement("h5",null,e.title):p.createElement("span",{className:"disabled"===(null==(t=Ae[e.instanceName||""])?void 0:t.style)||y?"disabled":"",onClick:function(){return nt(e.instanceName,e.category)}},p.createElement("i",{className:e.icon}),e.label)}))),p.createElement("div",{className:"editor-content "+he},"setting"===he?p.createElement(ie,{params:x,location:u,subjects:g,type:Oe,saveLoading:I,onSavaQS:ut,boardOptions:A,onExtractOk:lt,userList:te,teamList:ee,fetchUserList:ae,webhookList:ne,fetchWebhookList:re,updateParams:q}):"skin"===he?p.createElement(F,(0,o.Z)({},x,{skinSelId:oe,definedSkinId:ue,definedSkinName:le,definedSkinBase64:pe,handleUpdateSkin:de,questionnaireId:t.qsId,questions:g,selectedItemId:null==Ie?void 0:Ie.id,isDispatched:y,onConfigUpdate:ft,onSelect:rt,onDelete:at,onParamsUpdate:function(e,t){"singlePage"===e&&Re.length>0||q({options:e,value:t})},onDescChange:mt,onTitleChange:ht})):p.createElement(L,(0,o.Z)({},x,{questions:g,selectedItem:Ie,selectedItemId:null==Ie?void 0:Ie.id,isDispatched:y,onConfigUpdate:ft,onSelect:rt,onDelete:at,onParamsUpdate:function(e,t){"singlePage"===e&&Re.length>0||q({options:e,value:t})},onDescChange:mt,onTitleChange:ht}))),p.createElement("div",{className:"right_container "+he},/header|footer|finish/.test(Ee)?p.createElement(U,{selectedType:Ee,logo:x[Ee].logo,imgList:M[Ee],handleUpload:function(e){return R({e:e,selectedType:Ee})},handleOnDeleteClick:z,onSetOk:function(e){B({img:e,selectedType:Ee})},defaulValue:x[Ee],onSwitch:function(e){H({visible:e,selectedType:Ee})},defaultUrl:W[Ee],onTitleSwitch:function(e){K({visible:e,selectedType:Ee})},onDescSwitch:function(e){Q({visible:e,selectedType:Ee})},onRedirectionURL:function(e){x[Ee],x[Ee].redirectionURL=e}}):Ie&&p.createElement(m.default,{selectedType:Ee,questionslist:g,selectedItemIdx:ye+1}))),p.createElement(r.Z,{title:dt("head"),visible:ze,wrapClassName:"qs_edit_modal",width:424,confirmLoading:b,onOk:function(){E({status:"DISPATCHED",questionnaireTypes:Oe},(function(e){return st("distribute",{id:e||v,title:x.title,questionnaireTypes:[Ce||"NORMAL"]})}))},onCancel:function(){return Ue(!1)},destroyOnClose:!0},dt("content")),p.createElement(ce,{title:"\u5220\u9664\u9898\u76ee",visible:Ge,onOK:function(){return it(null==$e?void 0:$e.e,null==$e?void 0:$e.index)},className:"qs_del_confirm",onCancel:function(){return Ye(!1)},closable:!1,width:480,destroyOnClose:!0},p.createElement("div",{className:"content"},p.createElement("p",null,"\u8be5\u9898\u76ee \u4e0e\u4e0b\u5217\u9898\u76ee\u7684\u663e\u793a/\u8df3\u8f6c\u903b\u8f91\u76f8\u5173\uff0c\u5982\u679c\u5220\u9664\u8be5\u9898\u76ee\uff0c\u4f1a\u540c\u65f6\u6e05\u7a7a\u76f8\u5173\u89c4\u5219\uff0c\u8bf7\u77e5\u6653\u3002"),Ke.length&&p.createElement("ul",{className:"relation_list"},Ke.map((function(e){var t=e.number,n=e.id,r=e.title,a=e.type;return p.createElement("li",{key:n},"Q"+t+"\u3001"+r+"\uff1a"+a)})))))))}},34286:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SettingContext:()=>V,default:()=>z});n(59567);var r=n(8799),a=(n(48145),n(40987)),i=(n(7940),n(31059)),o=(n(89858),n(51024)),c=n(87462),s=(n(29809),n(97538)),u=(n(35797),n(64749)),l=n(67294),p=n(50531),d=n(3820),f=(n(53294),n(56697)),h=(n(54038),n(36671)),m=(n(1025),n(65400)),v=n(63366),y=(n(56120),n(74253)),g=(n(75314),n(11187)),x=(n(77785),n(59361)),I=(n(54277),n(74048)),b=n(59465),T=n(1977),E=n(49101),w=n(76234),k=[{label:"0\u5206",value:0},{label:"1\u5206",value:1},{label:"2\u5206",value:2},{label:"3\u5206",value:3},{label:"4\u5206",value:4},{label:"5\u5206",value:5},{label:"6\u5206",value:6},{label:"7\u5206",value:7},{label:"8\u5206",value:8},{label:"9\u5206",value:9},{label:"10\u5206",value:10}],C=[{label:"1\u5206",value:0},{label:"2\u5206",value:1},{label:"3\u5206",value:2},{label:"4\u5206",value:3},{label:"5\u5206",value:4}],S=["key","name","fieldKey"],N=u.default.Option,O=function(e){var t=e.params,n=t.fields,r=t.restField,a=t.fieldKey,i=t.onChange,o=t.key,f=t.name,h=t.subjects,m=t.current,v=t.JudgeType,y=t.handleChange,g=t.JudgeFormula,E=t.handleValueChange,w=t.remove,k=t.add,C=t.conditions,S=t.setConditions,O=(0,l.useState)({}),_=O[0],j=O[1];return(0,l.useEffect)((function(){var e=C&&JSON.parse(C);e&&e[o]&&e[o].extra&&j(e[o].extra)}),[]),l.createElement("div",{className:"yt_questions_set_rule_item "+((0,p.PU)(m.type)===d.Ge.PHRASE?"phrase":"")},l.createElement(I.default,{style:{display:"flex"},align:"baseline"},l.createElement(u.default,{defaultValue:1,style:{width:"160px"}},l.createElement(N,{value:1},"\u9898\u76ee")),l.createElement(s.Z.Item,(0,c.Z)({},r,{name:[f,"source"],fieldKey:[a,"source"],style:{width:"160px"}}),l.createElement(u.default,{placeholder:"\u8bf7\u9009\u62e9\u9898\u76ee",onChange:function(e){return i(e,o)}},h.map((function(e,t){return l.createElement(N,{value:e.id,key:e.id},e.number+"\uff1a"+e.title)})))),l.createElement(s.Z.Item,(0,c.Z)({},r,{name:[f,"when"],fieldKey:[a,"when"],style:{width:"160px"}}),l.createElement(v,{filterKey:o,onChange:function(e){return y(e,o)}})),l.createElement(s.Z.Item,(0,c.Z)({},r,{name:[f,"value"],fieldKey:[a,"value"],style:{marginBottom:0,width:"180px"}}),l.createElement(g,{filterKey:o,onChange:E,name:f})),l.createElement(b.Z,{onClick:function(){return w(f)},style:{marginLeft:"96px"}}),l.createElement(T.Z,{onClick:function(){return n.length<5&&k()}})),(0,p.PU)(m.type)===d.Ge.PHRASE&&l.createElement("div",{className:"phrase-style"},l.createElement("div",{className:"title"},"\u9009\u62e9\u5e38\u7528\u8bed"),l.createElement("div",{className:"tag"},m.phrase&&Object.entries(m.phrase).map((function(e){return l.createElement(x.default,{key:e[0],color:_&&_[e[0]]?"#f1f3f4":"",onClick:function(){_[e[0]]=e[1];var t=C?JSON.parse(C):[{}];t&&t[o]&&(t[o].extra=(0,c.Z)({},_)),j(_),S(JSON.stringify(t))}},e[1])}))),l.createElement("div",{className:"choice-tag"},_&&"{}"!==JSON.stringify(_)&&Object.entries(_).map((function(e){return l.createElement(x.default,{key:e[0],closable:!0,onClose:function(){delete _[e[0]];var t=C&&JSON.parse(C);t[o].extra=(0,c.Z)({},_),j(_),S(JSON.stringify(t))}},e[1])})))))};const _=function(e){var t,n,r=e.visible,a=e.current,i=e.selectedItemIdx,o=e.subjects,p=e.onOk,x=e.onCancel,b=s.Z.useForm()[0],T=(0,l.useState)(""),_=T[0],j=T[1],A=(0,l.useState)([]),D=A[0],M=A[1];(0,l.useEffect)((function(){R()}),[r]);var R=function(){var e,t,n=null==(e=a.visible)||null==(t=e.conditions)?void 0:t.map((function(e){var t=o.filter((function(t){return t.id===e.source}))[0],n={};if(t)switch(t.type){case d.C2.SINGLE_SELECTION:case d.C2.SINGLE_PULL_DOWN:n={value:e.values[0]};break;case d.C2.MULTI_SELECTION:n={value:e.values};break;case d.C2.NPS:case d.C2.SCALE:n={top:e.values[0]<t.limit[0]?t.limit[0]:e.values[0],bottom:e.values[1]>t.limit[1]?t.limit[1]:e.values[1]};break;case d.C2.CSAT:n={top:e.values[0]-1,bottom:e.values[1]-1}}return(0,c.Z)({},e,n)}));M(n),j(n?JSON.stringify(n):"")},L=function(e,t){var n=_?JSON.parse(_):[];n[t]={source:e},b.setFields([{name:"conditions",value:n}]),j(JSON.stringify(n))},P=function(e,t){var n=_?JSON.parse(_):[];n[t].when=e,j(JSON.stringify(n))},F=function(e,t,n){var r=_?JSON.parse(_):[];if(n)switch(n){case"top":return r[t].top=e,void j(JSON.stringify(r));case"bottom":return r[t].bottom=e,void j(JSON.stringify(r));default:return}r[t].value=e,j(JSON.stringify(r))},Z=function(e){var t=e.filterKey,n=e.onChange,r=e.name,a=_&&JSON.parse(_);if(!a[t]||!a[t].when)return null;var i=a[t],c=i.source,p=i.value,f=i.top,h=i.bottom,m=o.filter((function(e){return e.id===c}))[0];switch(null==m?void 0:m.type){case d.C2.SINGLE_SELECTION:case d.C2.SINGLE_PULL_DOWN:return l.createElement(u.default,{placeholder:"\u8bf7\u9009\u62e9\u9009\u9879",options:null==m?void 0:m.options,onChange:function(e){return n(e,t)},value:p});case d.C2.MULTI_SELECTION:return l.createElement(u.default,{placeholder:"\u8bf7\u9009\u62e9\u9009\u9879",options:null==m?void 0:m.options,onChange:function(e){return n(e,t)},value:p,mode:"multiple"});case d.C2.NPS:return l.createElement(l.Fragment,null,l.createElement(s.Z.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"},name:[r,"top"],initialValue:0},l.createElement(u.default,{options:void 0!==h?k.slice(0,h+1):k,onChange:function(e){return n(e,t,"top")}})),l.createElement("span",{style:{display:"inline-block",width:"24px",lineHeight:"32px",textAlign:"center"}},"-"),l.createElement(s.Z.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"},name:[r,"bottom"],initialValue:10},l.createElement(u.default,{options:void 0!==f?k.slice(f):k,onChange:function(e){return n(e,t,"bottom")}})));case d.C2.CSAT:return l.createElement(l.Fragment,null,l.createElement(s.Z.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"},name:[r,"top"],initialValue:0},l.createElement(u.default,{options:void 0!==h?C.slice(0,h+1):C,onChange:function(e){return n(e,t,"top")}})),l.createElement("span",{style:{display:"inline-block",width:"24px",lineHeight:"32px",textAlign:"center"}},"-"),l.createElement(s.Z.Item,{initialValue:4,style:{display:"inline-block",width:"calc(50% - 12px)"},name:[r,"bottom"]},l.createElement(u.default,{options:void 0!==f?C.slice(f):C,onChange:function(e){return n(e,t,"bottom")}})));case d.C2.SCALE:var v=m.limit,y=(m.selectedStyle,Array.from({length:v[1]-v[0]+1},(function(e,t){return{label:v[0]+t+"\u5206",value:v[0]+t}}))),g=y.slice(0,y.findIndex((function(e){return e.value===v[1]}))),x=y.slice(y.findIndex((function(e){return e.value===v[0]}))+1,y.findIndex((function(e){return e.value===v[1]}))+1);return l.createElement(l.Fragment,null,l.createElement(s.Z.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"},name:[r,"top"],initialValue:v[0]},l.createElement(u.default,{options:g,onChange:function(e){return n(e,t,"top")}})),l.createElement("span",{style:{display:"inline-block",width:"24px",lineHeight:"32px",textAlign:"center"}},"-"),l.createElement(s.Z.Item,{initialValue:v[1],style:{display:"inline-block",width:"calc(50% - 12px)"},name:[r,"bottom"]},l.createElement(u.default,{options:x,onChange:function(e){return n(e,t,"bottom")}})));default:return null}},V=function(e){var t=e.filterKey,n=e.onChange,r=_&&JSON.parse(_);if(r[t]){var a=r[t],i=a.source,c=a.when,s=o.filter((function(e){return e.id===i}))[0];if((null==s?void 0:s.type)===d.C2.SINGLE_SELECTION||(null==s?void 0:s.type)===d.C2.MULTI_SELECTION||(null==s?void 0:s.type)===d.C2.SINGLE_PULL_DOWN)return l.createElement(u.default,{placeholder:"\u8bf7\u9009\u62e9\u6761\u4ef6",onChange:n,value:c},l.createElement(N,{value:w.g.CONTAINS},"\u9009\u4e2d"),l.createElement(N,{value:w.g.NOT_CONTAINS},"\u672a\u9009\u4e2d"));if((null==s?void 0:s.type)===d.C2.NPS||(null==s?void 0:s.type)===d.C2.CSAT||(null==s?void 0:s.type)===d.C2.SCALE)return l.createElement(u.default,{placeholder:"\u8bf7\u9009\u62e9\u6761\u4ef6",onChange:n,value:c},l.createElement(N,{value:w.g.IN},"\u9009\u4e2d"),l.createElement(N,{value:w.g.NOT_IN},"\u672a\u9009\u4e2d"))}return null};return l.createElement(f.Z,{title:"\u663e\u793a\u903b\u8f91\uff08"+(a.type!==d.C2.DECORATION_TEXT?i+"\uff1a":"")+a.title+"\uff09",visible:r,wrapClassName:"yt_show_rule_modal",width:906,onOk:function(){var e;if(b.getFieldsValue().conditions)if(b.getFieldsValue().conditions.some((function(e){return!e.when})))g.default.error("\u8bf7\u9009\u62e9\u6761\u4ef6");else if(b.getFieldsValue().conditions.some((function(e){return e.top>e.bottom})))g.default.error("\u5206\u503c\u53d6\u503c\u8303\u56f4\u6709\u8bef");else{var t=null==(e=b.getFieldsValue().conditions)?void 0:e.map((function(e,t){var n=o.filter((function(t){return t.id===e.source}))[0],r=[];switch(null==n?void 0:n.type){case d.C2.SINGLE_SELECTION:case d.C2.SINGLE_PULL_DOWN:r.push(e.value);break;case d.C2.MULTI_SELECTION:r=e.value;break;case d.C2.NPS:case d.C2.SCALE:r=[null==e?void 0:e.top,null==e?void 0:e.bottom];break;case d.C2.CSAT:r=[(null==e?void 0:e.top)+1,(null==e?void 0:e.bottom)+1]}if([r].flat().includes(void 0))throw g.default.error("\u8bf7\u9009\u62e9\u9009\u9879"),"\u8bf7\u9009\u62e9\u5b8c\u6574\u6761\u4ef6";return(0,c.Z)({},e,{values:r,extra:JSON.parse(_)[t].extra})})),n={conditions:t,serial:!!b.getFieldsValue().serial,value:!!b.getFieldsValue().visible};p(n,(function(){b.setFieldsValue({conditions:void 0})}))}},onCancel:function(){b.setFieldsValue({conditions:void 0}),x()},destroyOnClose:!0},l.createElement("div",{className:"yt_questions_set_rule"},l.createElement("div",{className:"yt_questions_set_rule_content"},l.createElement(s.Z,{name:"dynamic_form_nest_item",autoComplete:"off",form:b},l.createElement(I.default,{style:{display:"flex"},align:"baseline",className:"yt_questions_set_rule_content_up"},"\u7b26\u5408\u4ee5\u4e0b",l.createElement(s.Z.Item,{name:"serial",style:{width:"160px",marginBottom:"12px"},initialValue:Number(null==(t=a.visible)?void 0:t.serial)||1},l.createElement(u.default,null,l.createElement(N,{value:1},"\u5168\u90e8"),l.createElement(N,{value:0},"\u4efb\u4e00"))),"\u6761\u4ef6\u65f6",l.createElement(s.Z.Item,{name:"visible",style:{width:"160px",marginBottom:"12px"},initialValue:Number(null==(n=a.visible)?void 0:n.value)||1},l.createElement(u.default,null,l.createElement(N,{value:1},"\u663e\u793a"),l.createElement(N,{value:0},"\u9690\u85cf"))),"\u8be5\u9898\u76ee"),l.createElement(y.Z,null),l.createElement("div",{className:"yt_questions_set_rule_content_down"},l.createElement(s.Z.List,{name:"conditions",initialValue:D},(function(e,t){var n=t.add,r=t.remove;return l.createElement(l.Fragment,null,e.map((function(t){var i=t.key,c=t.name,s=t.fieldKey,u=(0,v.Z)(t,S);return l.createElement(O,{key:i,params:{fields:e,restField:u,fieldKey:s,onChange:L,key:i,name:c,subjects:o,current:a,JudgeType:V,handleChange:P,JudgeFormula:Z,handleValueChange:F,remove:r,add:n,conditions:_,setConditions:j}})})),!e.length&&l.createElement(s.Z.Item,null,l.createElement(h.default,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:120},description:l.createElement("span",null,"\u6682\u65e0\u6570\u636e\uff0c\u70b9\u51fb\u6309\u94ae\u6dfb\u52a0")},l.createElement(m.default,{type:"primary",onClick:function(){return n()},icon:l.createElement(E.Z,null)},"\u6dfb\u52a0"))))})))))))};var j=["key","name","fieldKey"],A=u.default.Option,D=function(e){var t=e.params,n=t.key,r=t.name,a=t.fieldKey,i=t.restField,o=t.fields,f=t.remove,h=t.add,m=t.current,v=t.JudgeFormula,y=t.handleValueChange,g=t.subjects,E=t.conditions,k=t.setConditions,C=t.selectedItemIdx,S=(0,l.useState)({}),N=S[0],O=S[1],_=(0,l.useState)({}),j=_[0],D=_[1];return(0,l.useEffect)((function(){var e=E&&JSON.parse(E);e&&e[n]&&e[n].source&&(e[n].extra&&D(e[n].extra),O(g.find((function(t){return t.id===e[n].source}))||{}))}),[]),l.createElement("div",{className:"jump-form-warp "+((0,p.PU)(N.type)===d.Ge.PHRASE?"phrase":"")},l.createElement(I.default,{key:n,style:{display:"flex",flexWrap:"wrap"},align:"baseline"},l.createElement(s.Z.Item,(0,c.Z)({},i,{name:[r,"when"],fieldKey:[a,"when"],style:{width:"160px"}}),l.createElement(u.default,{placeholder:"\u8bf7\u9009\u62e9\u6761\u4ef6"},l.createElement(A,{value:m.type===d.C2.SINGLE_SELECTION||m.type===d.C2.MULTI_SELECTION||m.type===d.C2.SINGLE_PULL_DOWN?w.g.CONTAINS:w.g.IN},"\u9009\u4e2d"),l.createElement(A,{value:m.type===d.C2.SINGLE_SELECTION||m.type===d.C2.MULTI_SELECTION||m.type===d.C2.SINGLE_PULL_DOWN?w.g.NOT_CONTAINS:w.g.NOT_IN},"\u672a\u9009\u4e2d"))),l.createElement(s.Z.Item,(0,c.Z)({},i,{name:[r,"value"],fieldKey:[a,"value"],style:{width:"168px"}}),l.createElement(v,{filterKey:n,onChange:y,name:r})),"\u5219\u8df3\u8f6c\u5230",l.createElement(s.Z.Item,(0,c.Z)({},i,{name:[r,"source"],fieldKey:[a,"source"],style:{width:"160px"}}),l.createElement(u.default,{placeholder:"\u8bf7\u9009\u62e9\u9898\u76ee",onChange:function(e,t){O(t.subject)}},g.map((function(e,t){return l.createElement(A,{value:e.id,subject:e,key:e.id},C+t+1+"\uff1a"+e.title)})))),"\u8be5\u9898\u76ee",l.createElement(b.Z,{onClick:function(){var e=E&&JSON.parse(E);delete e[n],k(JSON.stringify(e)),f(r)},style:{marginLeft:"160px"}}),l.createElement(T.Z,{onClick:function(){return o.length<5&&h()}})),(0,p.PU)(N.type)===d.Ge.PHRASE&&l.createElement("div",{className:"phrase-style"},l.createElement("div",{className:"title"},"\u9009\u62e9\u5e38\u7528\u8bed"),l.createElement("div",{className:"tag"},N.phrase&&Object.entries(N.phrase).map((function(e){return l.createElement(x.default,{key:e[0],color:j&&j[e[0]]?"#f1f3f4":"",onClick:function(){j[e[0]]=e[1];var t=E&&JSON.parse(E);t&&t[n]&&(t[n].extra=(0,c.Z)({},j)),D(j),k(JSON.stringify(t))}},e[1])}))),l.createElement("div",{className:"choice-tag"},j&&"{}"!==JSON.stringify(j)&&Object.entries(j).map((function(e){return l.createElement(x.default,{key:e[0],closable:!0,onClose:function(){delete j[e[0]];var t=E&&JSON.parse(E);t[n].extra=(0,c.Z)({},j),D(j),k(JSON.stringify(t))}},e[1])})))))};const M=function(e){var t=e.visible,n=e.current,r=e.selectedItemIdx,a=e.subjects,i=e.onOk,o=e.onCancel,p=s.Z.useForm()[0],y=(0,l.useState)(""),x=y[0],I=y[1],b=(0,l.useState)([]),T=b[0],w=b[1],S=n.type===d.C2.NPS?k:C;(0,l.useEffect)((function(){N()}),[t]);var N=function(){var e,t,r=null==(e=n.jumpable)||null==(t=e.conditions)?void 0:t.map((function(e){var t={};switch(n.type){case d.C2.SINGLE_SELECTION:case d.C2.SINGLE_PULL_DOWN:t={values:e.values[0]};break;case d.C2.MULTI_SELECTION:t={values:e.values};break;case d.C2.NPS:t={top:e.values[0],bottom:e.values[1],extra:e.extra};break;case d.C2.CSAT:t={top:e.values[0]-1,bottom:e.values[1]-1};break;case d.C2.SCALE:t={top:e.values[0],bottom:e.values[1]}}return(0,c.Z)({},e,t)}));w(r),I(r?JSON.stringify(r):"")},O=function(e,t,n){var r=x?JSON.parse(x):[];if(n)switch(n){case"top":r[t]=(0,c.Z)({},r[t],{top:e});break;case"bottom":r[t]=(0,c.Z)({},r[t],{bottom:e})}else r[t]=(0,c.Z)({},r[t],{value:e});I(JSON.stringify(r))},_=function(e,t){for(var n=!1,r=0;r<t.length;r++){var a=t[r];if(!a)return!1;if(e>=(null==a?void 0:a.top)&&e<=(null==a?void 0:a.bottom)){n=!0;break}}return n},M=function(e){var t=e.filterKey,r=e.onChange,a=e.name,i=x&&JSON.parse(x),o=x&&JSON.parse(x);o&&delete o[t];var c=i[t]||{},p=c.value,f=c.top,h=c.bottom,m=function(e){var t=S;if(void 0!==e){var n=x&&JSON.parse(x),r=(null==n?void 0:n.map((function(e){return null==e?void 0:e.bottom})).filter((function(t){return t<e}))).pop();t=void 0!==e?S.slice(r+1,e+1):S}return t}(h),v=function(e){var t=S;if(void 0!==e){var n=x&&JSON.parse(x),r=null==n?void 0:n.map((function(e){return null==e?void 0:e.top})).filter((function(t){return t>e}));t=void 0!==e?S.slice(e,r[0]):S}return t}(f);switch(n.type){case d.C2.SINGLE_SELECTION:case d.C2.SINGLE_PULL_DOWN:return l.createElement(u.default,{placeholder:"\u8bf7\u9009\u62e9\u9009\u9879",options:n.options,onChange:function(e){return r(e,t)},value:p});case d.C2.MULTI_SELECTION:return l.createElement(u.default,{placeholder:"\u8bf7\u9009\u62e9\u9009\u9879",options:n.options,onChange:function(e){return r(e,t)},mode:"multiple",value:p});case d.C2.NPS:case d.C2.CSAT:return l.createElement(l.Fragment,null,l.createElement(s.Z.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"},name:[a,"top"]},l.createElement(u.default,{onChange:function(e){return r(e,t,"top")},placeholder:"\u9009\u62e9"},m.map((function(e){return l.createElement(A,{value:e.value,key:e.value,disabled:_(e.value,o)},e.label)})))),l.createElement("span",{style:{display:"inline-block",width:"24px",lineHeight:"32px",textAlign:"center"}},"-"),l.createElement(s.Z.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"},name:[a,"bottom"]},l.createElement(u.default,{onChange:function(e){return r(e,t,"bottom")},placeholder:"\u9009\u62e9"},v.map((function(e){return l.createElement(A,{value:e.value,key:e.value,disabled:_(e.value,o)},e.label)})))));case d.C2.SCALE:var y=n.limit,g=Array.from({length:y[1]-y[0]+1},(function(e,t){return{label:y[0]+t+"\u5206",value:y[0]+t}}));return l.createElement(l.Fragment,null,l.createElement(s.Z.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"},name:[a,"top"]},l.createElement(u.default,{options:void 0!==h?g.slice(0,h+1):g,onChange:function(e){return r(e,t,"top")}})),l.createElement("span",{style:{display:"inline-block",width:"24px",lineHeight:"32px",textAlign:"center"}},"-"),l.createElement(s.Z.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"},name:[a,"bottom"]},l.createElement(u.default,{options:void 0!==f?g.slice(f):g,onChange:function(e){return r(e,t,"bottom")}})));default:return null}};return l.createElement(f.Z,{title:"\u8df3\u8f6c\u903b\u8f91\uff08"+r+"\uff1a"+n.title+"\uff09",visible:t,wrapClassName:"yt_jump_rule_modal",width:906,onOk:function(){if(p.getFieldsValue().conditions)if(p.getFieldsValue().conditions.some((function(e){return!e.source})))g.default.error("\u8bf7\u9009\u62e9\u9898\u76ee");else{var e=p.getFieldsValue().conditions.map((function(e,t){var r=[];switch(n.type){case d.C2.SINGLE_SELECTION:case d.C2.SINGLE_PULL_DOWN:r.push(e.value);break;case d.C2.MULTI_SELECTION:r=e.value;break;case d.C2.NPS:case d.C2.SCALE:r=[null==e?void 0:e.top,null==e?void 0:e.bottom];break;case d.C2.CSAT:r=[(null==e?void 0:e.top)+1,(null==e?void 0:e.bottom)+1]}if([r].flat().includes(void 0))throw g.default.error("\u8bf7\u9009\u62e9\u9009\u9879"),"\u8bf7\u9009\u62e9\u5b8c\u6574\u6761\u4ef6";return(0,c.Z)({},e,{values:r,extra:JSON.parse(x)[t].extra})})),t={conditions:e};I(""),p.setFieldsValue({conditions:void 0}),i(t,(function(){p.setFieldsValue({conditions:void 0})}))}},onCancel:function(){I(""),p.setFieldsValue({conditions:void 0}),o()},destroyOnClose:!0},l.createElement("div",{className:"yt_questions_set_rule"},l.createElement("div",{className:"yt_questions_set_rule_content"},l.createElement(s.Z,{name:"dynamic_form_nest_item",autoComplete:"off",form:p,initialValues:{conditions:T}},l.createElement(s.Z.List,{name:"conditions",initialValue:T},(function(e,t){var i=t.add,o=t.remove;return l.createElement(l.Fragment,null,e.map((function(t){var c=t.key,s=t.name,u=t.fieldKey,p=(0,v.Z)(t,j);return l.createElement(D,{key:c,params:{key:c,name:s,fieldKey:u,restField:p,fields:e,remove:o,add:i,current:n,JudgeFormula:M,handleValueChange:O,subjects:a,conditions:x,setConditions:I,selectedItemIdx:r}})})),!e.length&&l.createElement(s.Z.Item,{style:{marginTop:"32px"}},l.createElement(h.default,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:120},description:l.createElement("span",null,"\u6682\u65e0\u6570\u636e\uff0c\u70b9\u51fb\u6309\u94ae\u6dfb\u52a0")},l.createElement(m.default,{type:"primary",onClick:function(){return i()},icon:l.createElement(E.Z,null)},"\u6dfb\u52a0"))))}))))))};var R=n(33663),L=n(7085),P=u.default.Option,F=["SCALE","MATRIX_SCALE","SINGLE_PULL_DOWN","MATRIX_MULTIPLE_CHOICE","MATRIX_SINGLE_CHOICE","SINGLE_SELECTION","MULTI_SELECTION"],Z={};F.forEach((function(e){Z[e]=(0,l.lazy)((function(){return n(97126)("./"+e)}))}));var V=(0,l.createContext)({});const z=function(e){var t,n,f,h,m=s.Z.useForm()[0],v=e.questionslist,y=e.selectedType,g=e.selectedItemIdx,x=(0,l.useContext)(R.C),I=x.selectedItem,b=x.onSettingChange,T=(x.libraryMap,(0,l.useRef)({})),E=Z[I.type],w=(0,l.useState)(""),k=w[0],C=w[1],S=(0,l.useState)({}),N=S[0],O=S[1],j=(0,l.useState)(""),A=j[0],D=j[1],z=(0,l.useState)(!0),U=z[0],B=z[1],q=function(e,t){var n=JSON.parse(JSON.stringify(I)),r=JSON.parse(JSON.stringify(I));if(/limit/.test(e)){var a,i=null==(a=e.split("limit"))?void 0:a[1];if(k===d.Ge.TEXT&&(!/^[0-9]*$/.test(t)||"0"===t))return void m.setFieldsValue((0,c.Z)({},N));n.children?n.children[0].limit[i]=t:n.limit[i]=t}else if(/formatRequired|placeholder|required/.test(e)&&n.children){var o=e.split("_"),s=o[0],u=o[1];n.children[u][s]="required"===s?!0!==n.children[u][s]:t,"required"===s&&(n.required=n.children.some((function(e){return e.required})))}else/required/.test(e)&&!n.children?n.required=!t:n[e]=t;var l={};T.current.innerFn&&(l=T.current.innerFn(e,t,n,r)),b((0,c.Z)({},n,l),/jumpable|visible/.test(e))},W=function(e){var t=(0,p.PU)(I.type);if(t===d.Ge.SELECTION){if(I.type===d.C2.MATRIX_MULTIPLE_CHOICE){var n=I.limit,r=n[0],a=n[1];return Array.from({length:0===e?isFinite(a)&&a?a+1:I.column.length+1:I.column.length-r+1+(r>0?1:0)},(function(t,n){return 0===e?n:r+n-(r>0?1:0)}))}var i=I.limit,o=i[0],c=i[1];return Array.from({length:0===e?isFinite(c)&&c?c+1:I.options.length+1:I.options.length-o+1+(o>0?1:0)},(function(t,n){return 0===e?n:o+n-(o>0?1:0)}))}if(t===d.Ge.SCALE||t===d.Ge.MATRIX){var s=I.limit,u=s[0],l=s[1],f=Array.from({length:20},(function(e,t){return t+1}));return Array.from({length:0===e?isFinite(l)&&l?l+1:f.length+1:f.length-u},(function(t,n){return 0===e?n:u+n+1}))}return[]},H=function(e,t){q("jump"===A?"jumpable":"visible",e),D(""),setTimeout((function(){t()}),600)},G=function(){D("")},Y=function(e){return l.createElement(o.default,{suffix:"\u5b57",onBlur:function(){if(k===d.Ge.TEXT||k===d.Ge.PHRASE){var t=N.limit0,n=N.limit1;(I.children?I.children[0]:I).limit=0===e?[Number(t)>Number(n)?""!==t.slice(0,String(n).length-1)?t.slice(0,String(n).length-1):"1":t,n]:[t,n>200||""===n||Number(n)<Number(t)?"200":n],b(I)}}})},J=function(e,t){var n=t||p.HD[k];return n&&n.map((function(t,n){return l.createElement(s.Z.Item,{key:t,label:t,name:"limit"+n,rules:[{validator:function(e,t,r){return k===d.Ge.TEXT&&(Number(t)>200||0===n&&Number(t)>Number(N.limit1)||1===n&&Number(t)<Number(N.limit0))?0===n&&Number(t)>Number(N.limit1)?r("\u4e0d\u80fd\u5927\u4e8e\u6700\u591a\u586b\u5199"):1===n&&Number(t)<Number(N.limit0)?r("\u4e0d\u80fd\u5c0f\u4e8e\u6700\u5c11\u586b\u5199"):r("\u8bf7\u8f93\u51651~200\u7684\u6b63\u6574\u6570\u503c"):r()}}]},e(n))}))};return(0,l.useEffect)((function(){var e,t,n={},r=I.children?I.children[0].limit:I.limit;I.children&&I.children.forEach((function(e,t){!function(e,t,n,r){e.forEach((function(e){t[e]&&(n[e+"_"+r]=t[e])}))}(["required","formatRequired","placeholder"],e,n,t)})),r&&(r.forEach((function(e,t){return N["limit"+t]=/^[0-9]*$/.test(""+e)?e:1/0})),O(N)),B(!I.jumpable||!(null!=(e=I.jumpable)&&null!=(t=e.conditions)&&t.length)||"object"===typeof I.visible),C((0,p.PU)(I.type)),m.setFieldsValue((0,c.Z)({},I,N,n))}),[I]),l.createElement(V.Provider,{value:{renderLimit:J,renderSelect:function(e){return l.createElement(u.default,null,"{}"!==JSON.stringify(N)&&W(e).map((function(t,n){return I.type===d.C2.SCALE?l.createElement(P,{key:n,value:t},t):l.createElement(P,{key:n,value:0===n?0===e?n:1/0:t},0===n?"\u4e0d\u9650":"\u9009"+t+"\u9879")})))},handleSelect:W,renderInput:Y,settingLabel:p.HD,ValueType:d.Ge}},l.createElement(s.Z,{form:m,colon:!1,labelAlign:"left",labelCol:{span:9},wrapperCol:{span:15},onFieldsChange:function(e){q(e[0].name[0],e[0].value)}},k!==d.WD.DECORATION&&l.createElement("h3",null,"buttons"===y?"\u6309\u94ae\u914d\u7f6e":"\u57fa\u672c\u8bbe\u7f6e"),k!==d.WD.DECORATION&&!I.children&&!y&&l.createElement(s.Z.Item,{label:"\u7b54\u9898\u9a8c\u8bc1",name:"required",className:"checkbox_style"},l.createElement(i.default,{checked:I.required},"\u6b64\u9898\u5fc5\u7b54")),(k===d.Ge.TEXT||k===d.Ge.PHRASE)&&[].concat(I.children?I.children:[I]).map((function(e,t){return l.createElement(l.Fragment,{key:e.type},I.children&&l.createElement("h4",null,I.children[t].title),I.children&&l.createElement(s.Z.Item,{label:"\u7b54\u9898\u9a8c\u8bc1",name:"required"+(I.children?"_"+t:""),className:"checkbox_style"},l.createElement(i.default,{checked:e.required},"\u6b64\u9898\u5fc5\u7b54")),p.wG[e.type]?l.createElement(s.Z.Item,{label:p.wG[e.type],name:"formatRequired"+(I.children?"_"+t:""),className:"switch_style"},l.createElement(a.Z,{size:"small",checked:e.formatRequired})):l.createElement(l.Fragment,null,J(Y)),l.createElement(s.Z.Item,{label:"\u8f93\u5165\u6846\u63d0\u793a",name:"placeholder"+(I.children?"_"+t:""),className:"dec_line"},l.createElement(o.default.TextArea,{rows:4,maxLength:200,value:e.placeholder})))})),E&&-1!==F.indexOf(I.type)&&l.createElement(l.Suspense,{fallback:l.createElement(L.Z,null)},l.createElement(E,{innerRef:T})),k===d.Ge.PHRASE&&l.createElement(l.Fragment,null,l.createElement(s.Z.Item,{noStyle:!0},l.createElement(s.Z.Item,{name:"phraseVisible",valuePropName:"checked",noStyle:!0},l.createElement(i.default,{className:"show-choice first-child"},"\u5e38\u7528\u8bed\u8bbe\u7f6e")),l.createElement(s.Z.Item,{name:"phraseRandom",valuePropName:"checked",noStyle:!0},l.createElement(i.default,{className:"show-choice"},"\u5168\u90e8\u968f\u673a"))),l.createElement(s.Z.Item,{label:"\u663e\u793a\u4e2a\u6570",name:"phraseShowNum"},l.createElement(r.Z,{min:1,placeholder:"\u8bf7\u8f93\u5165\u6570\u5b57"}))),"buttons"===y&&Object.keys(I).map((function(e,t){var n=Object.keys(I).length-1;return l.createElement(l.Fragment,{key:e},0===t?l.createElement("h4",null,"\u6309\u94ae"):t===n?l.createElement("h4",null,"\u5c3e\u9875"):"",l.createElement(s.Z.Item,{label:"\u6309\u94ae"+(t<n?t+1:""),name:e},l.createElement(o.default,{value:I[e]})))}))),v.length>1&&I.type&&(v[0].id!==I.id||v[0].id===I.id&&(""+d.C2.CSAT+d.C2.NPS+d.C2.SINGLE_SELECTION+d.C2.MULTI_SELECTION+d.C2.SINGLE_PULL_DOWN+d.C2.SCALE).indexOf(I.type)>-1)&&l.createElement("div",{className:"setting-wrapper "+(k===d.WD.DECORATION?"no-border":"")},l.createElement("h3",null,"\u903b\u8f91\u8bbe\u7f6e"),v[0].id!==I.id&&l.createElement("div",{className:U?"":"disabled",onClick:function(){return U&&D("show")}},l.createElement("i",{className:"icon-cem_side-setting-spot"}),(null==(t=I.visible)||null==(n=t.conditions)?void 0:n.length)>0&&l.createElement("i",{className:"icon-cem_complete1"}),"\u663e\u793a\u903b\u8f91"),(""+d.C2.CSAT+d.C2.NPS+d.C2.SINGLE_SELECTION+d.C2.MULTI_SELECTION+d.C2.SINGLE_PULL_DOWN+d.C2.SCALE).indexOf(I.type)>-1&&v[v.length-1].id!==I.id&&l.createElement("div",{onClick:function(){return D("jump")}},l.createElement("i",{className:"icon-cem_side-setting-spot"}),(null==(f=I.jumpable)||null==(h=f.conditions)?void 0:h.length)>0&&l.createElement("i",{className:"icon-cem_complete1"}),"\u8df3\u8f6c\u903b\u8f91")),l.createElement(_,{visible:"show"===A,current:I,subjects:v.slice(0,g-1).filter((function(e){return e.type===d.C2.NPS||e.type===d.C2.CSAT||e.type===d.C2.SINGLE_SELECTION||e.type===d.C2.MULTI_SELECTION||e.type===d.C2.SCALE||e.type===d.C2.SINGLE_PULL_DOWN})),selectedItemIdx:g,onOk:H,onCancel:G}),l.createElement(M,{visible:"jump"===A,current:I,subjects:v.slice(g).filter((function(e){return e.type!==d.C2.DECORATION_TEXT})),selectedItemIdx:g,onOk:H,onCancel:G}))}},39077:(e,t,n)=>{"use strict";n.d(t,{O:()=>r,y:()=>a});var r=[{skinId:"skyblue",skinUrl:n(27246),smallUrl:n(98422),skinName:"\u5929\u7a7a\u84dd\u76ae\u80a4"},{skinId:"bubble",skinUrl:n(68286),smallUrl:n(76237),skinName:"\u6c14\u6ce1\u76ae\u80a4"},{skinId:"fresh",skinUrl:n(41289),smallUrl:n(82770),skinName:"\u6e05\u65b0\u76ae\u80a4"}],a=/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/},50531:(e,t,n)=>{"use strict";n.d(t,{Oe:()=>l,PU:()=>d,wG:()=>f,HD:()=>h,Vx:()=>m,gA:()=>v,T0:()=>y});var r,a,i,o,c,s,u=n(3820),l=[{title:"\u4f53\u9a8c\u9898\u578b"},{icon:"icon-cem_score",label:"NPS\u5206\u503c\u9898",instanceName:u.C2.NPS,category:u.WD.EXPERIENCE},{icon:"icon-cem_score",label:"NPS\u539f\u56e0\u9898",instanceName:u.C2.NPS_REASON,category:u.WD.EXPERIENCE},{icon:"icon-cem_satisfaction-score",label:"\u6ee1\u610f\u9898\u5206\u503c",instanceName:u.C2.CSAT,category:u.WD.EXPERIENCE},{icon:"icon-cem_reasons-for-satisfaction",label:"\u6ee1\u610f\u9898\u539f\u56e0",instanceName:u.C2.CSAT_REASON,category:u.WD.EXPERIENCE},{title:"\u666e\u901a\u9898\u578b"},{icon:"icon-cem_single-choice",label:"\u5355\u9009\u9898\u578b",instanceName:u.C2.SINGLE_SELECTION},{icon:"icon-duoxuan",label:"\u591a\u9009\u9898\u578b",instanceName:u.C2.MULTI_SELECTION},{icon:"icon-cem_single-line-text",label:"\u5355\u884c\u6587\u672c",instanceName:u.C2.SINGLELINE_TEXT},{icon:"icon-cem_multiline-text",label:"\u591a\u884c\u6587\u672c",instanceName:u.C2.MULTILINE_TEXT},{icon:"icon-liangbiaoti",label:"\u91cf\u8868\u9898",instanceName:u.C2.SCALE},{icon:"icon-xialadanxuan",label:"\u4e0b\u62c9\u5355\u9009",instanceName:u.C2.SINGLE_PULL_DOWN},{title:"\u77e9\u9635\u9898"},{icon:"icon-juxingdanxuan",label:"\u77e9\u9635\u5355\u9009",instanceName:u.C2.MATRIX_SINGLE_CHOICE},{icon:"icon-juxingduoxuan",label:"\u77e9\u9635\u591a\u9009",instanceName:u.C2.MATRIX_MULTIPLE_CHOICE},{icon:"icon-juxingliangbiao",label:"\u77e9\u9635\u91cf\u8868",instanceName:u.C2.MATRIX_SCALE},{title:"\u9ad8\u7ea7\u9898\u578b"},{icon:"icon-paixuti",label:"\u6392\u5e8f\u9898",instanceName:u.C2.SORT},{icon:"icon-shangchuan",label:"\u4e0a\u4f20\u6587\u4ef6",instanceName:u.C2.UPLOAD_FILE},{title:"\u5ba2\u6237\u4fe1\u606f"},{icon:"icon-cem_name",label:"\u59d3\u540d",instanceName:u.C2.NAME,category:u.WD.CUSTOMER},{icon:"icon-cem_gender",label:"\u6027\u522b",instanceName:u.C2.GENDER,category:u.WD.CUSTOMER},{icon:"icon-cem_mobile-phone",label:"\u624b\u673a",instanceName:u.C2.PHONE_NUMBER,category:u.WD.CUSTOMER},{icon:"icon-cem_email-title",label:"\u90ae\u7bb1",instanceName:u.C2.EMAIL,category:u.WD.CUSTOMER},{icon:"icon-cem_combination-information",label:"\u7ec4\u5408\u4fe1\u606f",instanceName:u.C2.CUSTOMER_INFO,category:u.WD.CUSTOMER},{icon:"icon-riqi",label:"\u65e5\u671f",instanceName:u.C2.DATE,category:u.WD.CUSTOMER},{title:"\u88c5\u9970\u4fe1\u606f"},{icon:"icon-cem_text",label:"\u6587\u672c",instanceName:u.C2.DECORATION_TEXT}],p=((r={})[u.Ge.TEXT]=[u.C2.NPS_REASON,u.C2.CSAT_REASON,u.C2.SINGLELINE_TEXT,u.C2.MULTILINE_TEXT,u.C2.NAME,u.C2.PHONE_NUMBER,u.C2.EMAIL,u.C2.CUSTOMER_INFO],r[u.C2.SINGLE_SELECTION]=[u.C2.SINGLE_SELECTION],r[u.Ge.SELECTION]=[u.C2.MULTI_SELECTION,u.C2.MATRIX_MULTIPLE_CHOICE],r[u.Ge.SCALE]=[u.C2.SCALE],r[u.WD.DECORATION]=[u.C2.DECORATION_TEXT],r[u.Ge.MATRIX]=[u.C2.MATRIX_SCALE],r[u.Ge.PHRASE]=[u.C2.NPS_REASON,u.C2.CSAT_REASON,u.C2.SINGLELINE_TEXT,u.C2.MULTILINE_TEXT],r[u.Ge.OTHER]=[u.C2.UPLOAD_FILE],r),d=function(e){var t="";return Object.keys(p).forEach((function(n){return p[n].indexOf(e)>-1&&(t=n)})),t},f=((a={})[u.C2.PHONE_NUMBER]="\u6821\u9a8c\u624b\u673a\u683c\u5f0f",a[u.C2.EMAIL]="\u6821\u9a8c\u90ae\u7bb1\u683c\u5f0f",a),h=((i={})[u.Ge.TEXT]=["\u6700\u5c11\u586b\u5199","\u6700\u591a\u586b\u5199"],i[u.Ge.PHRASE]=["\u6700\u5c11\u586b\u5199","\u6700\u591a\u586b\u5199"],i[u.C2.SINGLE_SELECTION]=["\u6700\u5c11\u586b\u5199","\u6700\u591a\u586b\u5199"],i[u.Ge.SELECTION]=["\u6700\u5c11\u9009\u62e9","\u6700\u591a\u9009\u62e9"],i[u.Ge.SCALE]=["\u6700\u4f4e\u5206","\u6700\u9ad8\u5206"],i[u.Ge.MATRIX]=["\u5ea6\u91cf\u8d77\u70b9","\u5ea6\u91cf\u7ec8\u70b9"],i),m={NPS:(o={},o[u.C2.NPS]={style:"disabled",isSelected:!0},o[u.C2.NPS_REASON]={style:"disabled",isSelected:!0},o[u.C2.CSAT_REASON]={style:"disabled",isSelected:!1},o),SATISFACTION:(c={},c[u.C2.CSAT]={style:"disabled",isSelected:!0},c[u.C2.NPS_REASON]={style:"disabled",isSelected:!1},c[u.C2.CSAT_REASON]={style:"disabled",isSelected:!0},c),default:(s={},s[u.C2.NPS_REASON]={style:"disabled",isSelected:!1},s[u.C2.CSAT_REASON]={style:"disabled",isSelected:!1},s)},v={NPS:"NPS",SATISFACTION:"\u6ee1\u610f\u5ea6",NORMAL:"\u666e\u901a\u9898\u578b"},y=new RegExp(u.C2.NPS+"|"+u.C2.CSAT+"|"+u.C2.NAME+"|"+u.C2.EMAIL+"|"+u.C2.GENDER+"|"+u.C2.CUSTOMER_INFO+"|"+u.C2.PHONE_NUMBER)},42370:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});n(75314);var r=n(11187),a=n(87462),i=n(66678),o=n.n(i),c=n(87757),s=n.n(c),u=n(64396),l=n(71184),p=n(54684),d=n(35239),f=n(3820),h=u.Z.research.questionnaireEdit,m={qsId:"",qsStatus:"",qsCopy:!1,questionslist:[],dashboardOptions:[],skinId:"",defaultUrl:{header:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/c529a30196174ad98009adc6ba063c3d.png",footer:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a224a96f71b44a1f9ac21493c02135df.png",finish:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a224a96f71b44a1f9ac21493c02135df.png"},params:{id:"",title:"",description:"",singlePage:!1,header:{title:"\u5ba2\u6237\u4f53\u9a8c\u8c03\u67e5\u95ee\u5377",desc:"\u6211\u7528\u767e\u5206\u52aa\u529b\uff0c\u671f\u5f85\u4f60\u768410\u5206\u63a8\u8350\uff0c\u611f\u8c22\u4f60\u7684\u5b9d\u8d35\u610f\u89c1",logo:{visible:!0,titleVisible:!0,descVisible:!0,url:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/c529a30196174ad98009adc6ba063c3d.png",align:"center",radius:"0",width:"10%"}},footer:{title:"\u60a8\u5df2\u5b8c\u6210\u672c\u6b21\u95ee\u5377\uff0c\u611f\u8c22\u60a8\u7684\u5e2e\u52a9\u4e0e\u652f\u6301",redirectionURL:"",logo:{url:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a224a96f71b44a1f9ac21493c02135df.png",align:"center",radius:0,width:"100%"}},finish:{title:"\u8c03\u67e5\u5df2\u7ed3\u675f",redirectionURL:"",logo:{url:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a224a96f71b44a1f9ac21493c02135df.png",align:"center",radius:0,width:"100%"}},buttons:{prevText:"\u4e0a\u4e00\u9875",nextText:"\u4e0b\u4e00\u9875",submitText:"\u63d0\u4ea4"},sorting:[],questions:[],drawing:[]},imgList:{},img:"",projectId:"",userList:[],teamList:[],webhookList:[]};const v={namespace:h,state:JSON.parse(JSON.stringify(m)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},m)},addListItem:function(e,t){var n=t.payload.question,r=e.questionslist,i=n.type===f.C2.DECORATION_TEXT?{}:{number:r.filter((function(e){return e.type!==f.C2.DECORATION_TEXT})).length+1};return r.push((0,a.Z)({},n,i)),(0,a.Z)({},e,{questionslist:[].concat(r)})},deleteListItem:function(e,t){var n=t.payload.index,r=e.questionslist,i=r[n],o=i.type,c=i.id;if(r.forEach((function(e){if("object"===typeof e.visible){var t=e.visible.conditions;e.visible.conditions=t.filter((function(e){return e.source!==c}))}if("object"===typeof e.jumpable){var n=e.jumpable.conditions;e.jumpable.conditions=n.filter((function(e){return e.source!==c}))}})),r.splice(n,1),o!==f.C2.DECORATION_TEXT)for(var s=n;s<r.length;s++)r[s].number--;return(0,a.Z)({},e,{questionslist:[].concat(r),params:e.params.drawing.length?(0,a.Z)({},e.params,{drawing:[]}):e.params})},replaceListItem:function(e,t){var n=t.payload,r=n.newIndex,i=n.oldIndex,o=e.questionslist;return o[r].type!==f.C2.DECORATION_TEXT&&o[i].type!==f.C2.DECORATION_TEXT&&(o[r].number=i+1,o[i].number=r+1),o.splice(r,0,o.splice(i,1)[0]),(0,a.Z)({},e,{questionslist:[].concat(o)})},updateListItem:function(e,t){var n=t.payload.listItem,r=e.questionslist,i=r.findIndex((function(e){return e.id===n.id}));return r[i]=n,(0,a.Z)({},e,{questionslist:[].concat(r)})},updateListItemOptions:function(e,t){var n=t.payload,r=n.options,i=n.value,o=e.questionslist;return r.reduce((function(e,t){return e[t]&&"object"===typeof e[t]?e[t]:e[t]=i}),o),(0,a.Z)({},e,{questionslist:[].concat(o)})},updateSelectOption:function(e,t){var n=t.payload,r=n.options,i=n.value,o=e.questionslist;return r.reduce((function(e,t){return e[t]&&"object"===typeof e[t]?e[t]:e[t]=i}),o),(0,a.Z)({},e,{questionslist:[].concat(o)})},reorderSelectOption:function(e,t){var n=t.payload,r=n.qid,i=n.newIndex,o=n.oldIndex,c=e.questionslist,s=c.find((function(e){return e.id===r}));return s.options.splice(i,0,s.options.splice(o,1)[0]),(0,a.Z)({},e,{questionslist:[].concat(c)})},addSelectOption:function(e,t){var n=t.payload.id,r=e.questionslist,i=r.find((function(e){return e.id===n}));return i.options.push((0,p.OZ)(i.options)),(0,a.Z)({},e,{questionslist:[].concat(r)})},delSelectOption:function(e,t){var n=t.payload,r=n.id,i=n.idx,o=e.questionslist;return o.find((function(e){return e.id===r})).options.splice(i,1),(0,a.Z)({},e,{questionslist:[].concat(o)})},imgSetting:function(e,t){var n,r=t.payload,i=r.img,o=i.url,c=i.align,s=i.radius,u=i.id,l=r.selectedType,p=(0,a.Z)({},e.params,((n={})[l]=(0,a.Z)({},e.params[l],{logo:(0,a.Z)({},e.params[l].logo,{url:o,align:c,radius:s,id:u})}),n));return(0,a.Z)({},e,{params:p})},imgSwitch:function(e,t){var n,r=t.payload,i=r.visible,o=r.selectedType,c=(0,a.Z)({},e.params,((n={})[o]=(0,a.Z)({},e.params[o],{logo:(0,a.Z)({},e.params[o].logo,{visible:i})}),n));return(0,a.Z)({},e,{params:c})},titleSwitch:function(e,t){var n,r=t.payload,i=r.visible,o=r.selectedType,c=(0,a.Z)({},e.params,((n={})[o]=(0,a.Z)({},e.params[o],{logo:(0,a.Z)({},e.params[o].logo,{titleVisible:i})}),n));return(0,a.Z)({},e,{params:c})},descSwitch:function(e,t){var n,r=t.payload,i=r.visible,o=r.selectedType,c=(0,a.Z)({},e.params,((n={})[o]=(0,a.Z)({},e.params[o],{logo:(0,a.Z)({},e.params[o].logo,{descVisible:i})}),n));return(0,a.Z)({},e,{params:c})},updateParams:function(e,t){var n=t.payload,r=n.options,i=n.value,o=n.params;return o||((o=e.params)[r]=i),(0,a.Z)({},e,{params:(0,a.Z)({},o)})},changeTitle:function(e,t){var n=t.payload.value,r=(0,a.Z)({},e.params,{header:(0,a.Z)({},e.params.header,{title:n})});return(0,a.Z)({},e,{params:r})},changeDesc:function(e,t){var n=t.payload.value,r=(0,a.Z)({},e.params,{header:(0,a.Z)({},e.params.header,{desc:n})});return(0,a.Z)({},e,{params:r})},handleSaveExtract:function(e,t){var n=t.payload.drawing,r=(0,a.Z)({},e.params,{drawing:n});return(0,a.Z)({},e,{params:r})},updateQuestionKey:function(e,t){var n=t.payload,r=n.value,i=n.id,o=n.key,c=e.questionslist,s=c.findIndex((function(e){return e.id===i}));return c[s][o]=r,(0,a.Z)({},e,{questionslist:[].concat(c)})},updateMatrxItemOptions:function(e,t){var n=t.payload,r=n.value,i=n.id,o=(n.key,n.chart),c=e.questionslist,s=c.findIndex((function(e){return e.id===i}));if("options"===o)c[s].options=r;else{var u=r.type,l=r.row,p=r.inputValue;c[s][u].find((function(e){return e.id===l.id})).title=p}return(0,a.Z)({},e,{questionslist:[].concat(c)})}},effects:{fetchDashboardList:s().mark((function e(t,n){var r,a,i,o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.select,a=n.call,i=n.put,e.prev=2,e.next=5,a(l.XV,r);case 5:if(o=e.sent,2e4!==(c=o.data).code){e.next=10;break}return e.next=10,i({type:"save",payload:{dashboardOptions:c.result.result.map((function(e){var t=e.id;return{label:e.name,value:t,type:e.type}}))}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})),fetchUserList:s().mark((function e(t,n){var r,i,o,c,u,p,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,o=n.call,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return u=e.sent,p=u.projectId,e.next=8,o(l.JZ,{projectId:(null==r?void 0:r.projectId)||p});case 8:return d=e.sent,e.next=11,i({type:"save",payload:(0,a.Z)({},r,{teamList:d.data.result.team,userList:d.data.result.user})});case 11:case"end":return e.stop()}}),e)})),fetchWebhookList:s().mark((function e(t,n){var r,i,o,c,u,p,d,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,o=n.call,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return u=e.sent,p=u.projectId,e.next=8,o(l.xY,{projectId:(null==r?void 0:r.projectId)||p});case 8:if(d=e.sent,!(2e4===(f=d.data).code&&f.result.count>0)){e.next=13;break}return e.next=13,i({type:"save",payload:{webhookList:f.result.result}});case 13:case"end":return e.stop()}}),e)})),fetchPicList:s().mark((function e(t,n){var r,i,o,c,u,p,d,f,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,o=n.select,c=n.call,e.next=4,o((function(e){return(0,a.Z)({},e)[h]}));case 4:return u=e.sent,p=u.projectId,d={},e.prev=7,e.next=10,c(l.LF,{projectId:p||r.projectId});case 10:if(f=e.sent,2e4!==(m=f.data).code||!m.result.length){e.next=18;break}return d.header=m.result.filter((function(e){return"LOGO"===e.type})),d.footer=m.result.filter((function(e){return"TAIL"===e.type})),d.finish=m.result.filter((function(e){return"CLOSE_PAGE"===e.type})),e.next=18,i({type:"save",payload:{imgList:d}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(7);case 22:case"end":return e.stop()}}),e,null,[[7,20]])})),uploadPic:s().mark((function e(t,n){var r,i,o,c,u,p,d,f,m,v,y;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,o=n.select,c=n.call,e.next=4,o((function(e){return(0,a.Z)({},e)[h]}));case 4:return u=e.sent,p=u.projectId,d=r.base64Code,f=r.fileName,m=r.type,e.prev=7,e.next=10,c(l.GL,{projectId:p||r.projectId,base64Code:d,fileName:f,type:m});case 10:if(v=e.sent,2e4!==(y=v.data).code||!y.result){e.next=17;break}return e.next=15,i({type:"save",payload:{img:y.result}});case 15:return e.next=17,i({type:"fetchPicList",payload:{projectId:p||r.projectId,type:m}});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(7);case 21:case"end":return e.stop()}}),e,null,[[7,19]])})),deletePic:s().mark((function e(t,n){var i,o,c,u,p,d,f,m,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,o=n.put,c=n.select,u=n.call,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return p=e.sent,d=p.projectId,f=i.id,m=i.type,e.prev=7,e.next=10,u(l.Is,{projectId:d||i.projectId,id:f});case 10:if(v=e.sent,2e4!==v.data.code){e.next=16;break}return e.next=15,o({type:"fetchPicList",payload:{projectId:d||i.projectId,type:m}});case 15:r.default.success("\u5220\u9664\u6210\u529f");case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(7);case 20:case"end":return e.stop()}}),e,null,[[7,18]])})),addOrUpdateQuestionnaire:s().mark((function e(t,n){var r,i,o,c,u,p,m,v,y,g,x,I,b,T,E,w;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.select,o=n.call,c=n.put,e.next=4,i((function(e){return(0,a.Z)({},e)[h]}));case 4:return u=e.sent,p=u.qsId,m=u.params,v=u.qsCopy,y=r.newConfiguration,g=r.others,x=r.skinId,I=r.customId,b=r.questionnaireNotifyModel,T=1,y.questions.forEach((function(e){e.type!==f.C2.DECORATION_TEXT&&(e.number=T++)})),e.prev=11,e.next=14,o(l.dN,(0,a.Z)({projectId:d.t.get(d.V.curProject).id},m,g,{newConfiguration:JSON.stringify(y),skinId:x,customId:I,id:v&&!p?"":p,questionnaireNotifyModel:b}));case 14:if(E=e.sent,2e4!==(w=E.data).code){e.next=21;break}return sessionStorage.setItem("qsId",w.result.id||p),e.next=20,c({type:"save",payload:{qsId:w.result.id||p,params:(0,a.Z)({},m,y,g,{questionnaireWarningVO:b})}});case 20:return e.abrupt("return",w.result.id||w.result);case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(11);case 25:case"end":return e.stop()}}),e,null,[[11,23]])})),updateQuestionnaireStatus:s().mark((function e(t,n){var r,i,o,c,u,p,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.select,o=n.call,c=n.put,e.next=4,i((function(e){return(0,a.Z)({},e)[h]}));case 4:return u=e.sent,p=u.qsId,e.prev=6,e.next=9,o(l.nh,(0,a.Z)({},r,{id:p}));case 9:if(d=e.sent,2e4!==d.data.code){e.next=15;break}return e.next=14,c({type:"save",payload:{qsStatus:r.status}});case 14:return e.abrupt("return",!0);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])})),fetchConfig:s().mark((function e(t,n){var r,i,c,u,d,m,v,y,g,x,I,b,T,E,w,k,C,S;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.select,u=n.call,d=r.id,m=r.isCopy,e.next=5,c((function(e){return(0,a.Z)({},e)[h]}));case 5:return v=e.sent,y=v.params,v.questionslist,e.prev=8,e.next=11,u(l.Q2,{id:d});case 11:if(g=e.sent,2e4!==(x=g.data).code){e.next=23;break}return E=x.result.newConfiguration?JSON.parse(x.result.newConfiguration):(0,p.sC)(x.result),w=1,k=m?{name:x.result.name+"-\u526f\u672c",title:E.title+"-\u526f\u672c",drawing:[]}:{},(C=o()(x.result.questionnaireWarningVO)).condition={pushWay:(null==C||null==(I=C.condition)?void 0:I.pushWay)||[],webHookModels:(null==C||null==(b=C.condition)?void 0:b.webHookModels)||[]},S=[f.C2.MATRIX_SINGLE_CHOICE,f.C2.MATRIX_MULTIPLE_CHOICE,f.C2.MATRIX_SCALE],e.next=22,i({type:"save",payload:{params:(0,a.Z)({},y,E,k,{types:x.result.types,questionnaireWarningVO:C}),questionslist:x.result.newConfiguration?E.questions.map((function(e){var t;(e=(0,a.Z)({},(0,p.UX)(e.type),e),m&&(e.id=(0,p.Mc)(E.questions),e.visible=!0,e.jumpable=!1),e.type!==f.C2.DECORATION_TEXT&&(e.number=w++),S.includes(e.type))||(e.options=null==(t=e.options)?void 0:t.map((function(e){return e.value?e:e.label?(0,a.Z)({value:(0,p.aG)(8)},e):{label:e,value:(0,p.aG)(8)}})));return e})):E.questions,qsId:m?"":x.result.id,skinId:x.result.skinId,qsStatus:m?"":"UN_DISPATCH"!==x.result.status,qsCopy:m}});case 22:return e.abrupt("return",null==(T=x.result)?void 0:T.skinId);case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(8);case 27:case"end":return e.stop()}}),e,null,[[8,25]])}))}}},71184:(e,t,n)=>{"use strict";n.d(t,{XV:()=>s,LF:()=>u,GL:()=>p,Is:()=>f,dN:()=>m,nh:()=>v,Q2:()=>y,bB:()=>x,qq:()=>b,Hi:()=>E,JZ:()=>k,xY:()=>C});var r=n(87462),a=n(15861),i=n(87757),o=n.n(i),c=n(49722);function s(e){return c.h.post("/questionnaire/board/list",{projectId:e,more:!1})}function u(e){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/questionnaire/picture/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.base64Code,a=t.fileName,i=t.type,e.abrupt("return",c.h.post("/questionnaire/picture/upload",{projectId:n,base64Code:r,fileName:a,type:i}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.id,e.abrupt("return",c.h.post("/questionnaire/picture/delete",{projectId:n,id:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){var t=e.projectId,n=e.id,r=e.name,a=e.desc,i=e.types,o=e.boardList,s=e.newConfiguration,u=e.skinId,l=e.customId,p=e.questionnaireNotifyModel;return c.h.post("/questionnaire/"+(n?"update":"add"),{projectId:t,id:n,name:r,desc:a,types:i,boardList:o,newConfiguration:s,skinId:u,customId:l,questionnaireNotifyModel:p})}function v(e){var t=e.id,n=e.status;return c.h.post("/questionnaire/status/change",{id:t,status:n})}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",c.h.post("/questionnaire/detail",{id:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,a.Z)(o().mark((function e(t){var n,r,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.base64Code,a=t.skinName,i=t.questionnaireId,s=t.fileName,e.abrupt("return",c.h.post("/questionnaire/skin/pictureUpload",{projectId:n,base64Code:r,skinName:a,questionnaireId:i,fileName:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",c.h.post("/questionnaire/skin/list",{id:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.h.get("questionnaireLibrary/find/all"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){return c.h.post("/filter/find",{type:"INBOX",filterTypes:["USER","TEAM"],projectId:e.projectId})},C=function(e){return c.h.post("/webhook/list",(0,r.Z)({},e,{pageIndex:1,pageSize:500}))}},54684:(e,t,n)=>{"use strict";n.d(t,{aG:()=>o,OZ:()=>c,rP:()=>s,Mc:()=>u,UX:()=>l,sC:()=>p,DT:()=>d});var r=n(87462),a=n(14189),i=n(3820);function o(e,t){var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(t=t||n.length,e)for(var a=0;a<e;a++)r[a]=n[0|Math.random()*t];else{var i;r[8]=r[13]=r[18]=r[23]="-",r[14]="4";for(var o=0;o<36;o++)r[o]||(i=0|16*Math.random(),r[o]=n[19===o?3&i|8:i])}return r.join("")}function c(e){void 0===e&&(e=[]);var t=o(8);return e.some((function(e){return e.value===t}))?c(e):{value:t,label:"\u9009\u9879"+(e.length+1)}}var s=function(e){return/^(?:(http|https|ftp):\/\/)?((?:[\w-]+\.)+[a-z0-9]+)((?:\/[^/?#]*)+)?(\?[^#]+)?(#.+)?$/i.test(e)||""===e},u=function(e){var t;do{t=o(32)}while(e.some((function(e){return e.id===t}))&&(t=o(32)));return t},l=function(e){switch(e){case a.cQ.type:return{type:a.cQ.type,title:a.cQ.title,description:"",required:!0,visible:!0,jumpable:!1,limit:a.cQ.limit,lowScoreText:"\u4e0d\u592a\u53ef\u80fd",highScoreText:"\u6781\u6709\u53ef\u80fd"};case a.YQ.type:return{type:a.YQ.type,title:a.YQ.title,description:"",required:!0,visible:!0,jumpable:!1,limit:a.YQ.limit,placeholder:a.YQ.placeholder,phrase:a.YQ.phrase,phraseVisible:a.YQ.phraseVisible,phraseRandom:a.YQ.phraseRandom,phraseShowNum:a.YQ.phraseShowNum};case a.tM.type:return{type:a.tM.type,title:a.tM.title,description:"",required:!0,visible:!0,jumpable:!1,limit:a.tM.limit,lowScoreText:"\u5f88\u4e0d\u6ee1\u610f",midScoreText:"\u4e00\u822c",highScoreText:"\u5f88\u6ee1\u610f"};case a.h1.type:return{type:a.h1.type,title:a.h1.title,description:"",required:!0,visible:!0,jumpable:!1,limit:a.h1.limit,placeholder:a.h1.placeholder,phrase:a.h1.phrase,phraseVisible:a.h1.phraseVisible,phraseRandom:a.h1.phraseRandom,phraseShowNum:a.h1.phraseShowNum};case a.Hi.type:return{type:a.Hi.type,title:a.Hi.title,required:!0,visible:!0,jumpable:!1,limit:a.Hi.limit,placeholder:a.Hi.placeholder,explainVisible:a.Hi.explainVisible,explainAnalyse:a.Hi.explainAnalyse,options:a.Hi.options,hasTextList:a.Hi.hasTextList};case a.zw.type:return{type:a.zw.type,title:a.zw.title,required:!0,visible:!0,jumpable:!1,limit:a.zw.limit,textMinLimit:a.zw.textMinLimit,textMaxLimit:a.zw.textMaxLimit,placeholder:a.Hi.placeholder,explainVisible:a.Hi.explainVisible,explainAnalyse:a.Hi.explainAnalyse,hasTextList:a.Hi.hasTextList,options:[{label:"\u9009\u98791",value:o(8)},{label:"\u9009\u98792",value:o(8)},{label:"\u9009\u98793",value:o(8)}]};case a.Io.type:return{type:a.Io.type,title:a.Io.title,required:!0,visible:!0,jumpable:!1,limit:a.Io.limit,placeholder:a.Io.placeholder,phrase:a.Io.phrase,phraseVisible:a.Io.phraseVisible,phraseRandom:a.Io.phraseRandom,phraseShowNum:a.Io.phraseShowNum};case a.ht.type:return{type:a.ht.type,title:a.ht.title,required:!0,visible:!0,jumpable:!1,limit:a.ht.limit,placeholder:a.ht.placeholder,phrase:a.ht.phrase,phraseVisible:a.ht.phraseVisible,phraseRandom:a.ht.phraseRandom,phraseShowNum:a.ht.phraseShowNum};case a.T6.type:return{type:a.T6.type,title:a.T6.title,description:"",required:!0,visible:!0,jumpable:!1,limit:a.T6.limit,lowScoreText:a.T6.lowScoreText,midScoreText:a.T6.midScoreText,highScoreText:a.T6.highScoreText,selectedStyle:a.T6.selectedStyle};case a.AA.type:return{type:a.AA.type,title:a.AA.title,required:!0,visible:!0,jumpable:!1,options:[{label:"\u9009\u98791",value:o(8)},{label:"\u9009\u98792",value:o(8)},{label:"\u9009\u98793",value:o(8)}]};case a.up.type:return{type:a.up.type,title:a.up.title,required:!0,visible:!0,jumpable:!1,options:[{label:"\u9009\u98791",value:o(8)},{label:"\u9009\u98792",value:o(8)},{label:"\u9009\u98793",value:o(8)}]};case a.tx.type:return{type:a.tx.type,title:a.tx.title,required:!0,visible:!0,jumpable:!1,limit:a.tx.limit,defaultOption:a.tx.defaultOption,optionType:a.tx.optionType,options:a.tx.options};case a.A1.type:return{type:a.A1.type,title:a.A1.title,required:!0,visible:!0,jumpable:!1,limit:a.A1.limit,placeholder:a.A1.placeholder};case a.y7.type:return{type:a.y7.type,title:a.y7.title,required:!0,visible:!0,jumpable:!1,limit:a.y7.limit,options:a.y7.options};case a.UE.type:return{type:a.UE.type,title:a.UE.title,required:!0,visible:!0,jumpable:!1,limit:a.UE.limit,formatRequired:a.xK.formatRequired,placeholder:a.UE.placeholder};case a.xK.type:return{type:a.xK.type,title:a.xK.title,required:!0,visible:!0,jumpable:!1,limit:a.xK.limit,formatRequired:a.xK.formatRequired,placeholder:a.xK.placeholder};case a.CX.type:return{type:a.CX.type,title:a.CX.title,required:!0,visible:!0,jumpable:!1,children:[{id:o(8),type:a.A1.type,title:a.A1.title,required:!0,visible:!0,jumpable:!1,limit:a.A1.limit,placeholder:a.A1.placeholder},{id:o(8),type:a.UE.type,title:a.UE.title,required:!0,visible:!0,jumpable:!1,limit:a.UE.limit,formatRequired:a.xK.formatRequired,placeholder:a.UE.placeholder},{id:o(8),type:a.xK.type,title:a.xK.title,required:!0,visible:!0,jumpable:!1,limit:a.xK.limit,formatRequired:a.xK.formatRequired,placeholder:a.xK.placeholder}]};case a.Hu.type:return{type:a.Hu.type,title:a.Hu.title,required:!0,visible:!1,jumpable:!1,formatRequired:a.Hu.formatRequired,placeholder:a.Hu.placeholder};case a.wY.type:return{type:a.wY.type,title:a.wY.title,required:!1,redirectionURL:a.wY.redirectionURL,visible:!0,jumpable:!1};case a.f4.type:return{type:a.f4.type,title:a.f4.title,required:!0,visible:!0,jumpable:!1,rowNumber:a.f4.rowNumber,colNumber:a.f4.colNumber,row:a.f4.row,column:a.f4.column,limit:a.f4.limit,options:a.f4.options};case a.hH.type:return{type:a.hH.type,title:a.hH.title,required:!0,visible:!0,jumpable:!1,rowNumber:a.hH.rowNumber,colNumber:a.hH.colNumber,row:a.hH.row,column:a.hH.column,rangeChoose:a.hH.rangeChoose,limit:a.hH.limit,options:a.hH.options};case a.Ux.type:return{type:a.Ux.type,title:a.Ux.title,required:!0,visible:!0,jumpable:!1,rowNumber:a.Ux.rowNumber,limit:a.Ux.limit,columnEdit:a.Ux.columnEdit,selectedStyle:a.Ux.selectedStyle,options:a.Ux.options,row:a.Ux.row,column:a.Ux.column};default:return}},p=function(e){var t=e.oldConfiguration,n=JSON.parse(t.config),a=t.questionTypes.map((function(e){var t=JSON.parse(e.config);return(0,r.Z)({},function(e,t,n){var a,c,s={required:t.required,placeholder:t.tips,number:n.number};switch(e){case"NPS_SCORE":s.type=i.C2.NPS,s.lowScoreText=t.text_0||t.lowScoreText,s.highScoreText=t.text_10||t.highScoreText;break;case"NPS_REASON":s.type=i.C2.NPS_REASON;break;case"SATISFACTION":s.type=i.C2.CSAT,s.lowScoreText=t.star_1||t.lowScoreText,s.midScoreText=t.star_3||t.midScoreText,s.highScoreText=t.star_5||t.highScoreText;break;case"SATISFACTION_REASON":s.type=i.C2.CSAT_REASON;break;case"SINGLE_CHOICE":s.type=i.C2.SINGLE_SELECTION,s.options=null==(a=t.options)?void 0:a.map((function(e){return e.value?e:e.label?(0,r.Z)({value:o(8)},e):{label:e,value:o(8)}}));break;case"MULTIPLE_CHOICE":s.type=i.C2.MULTI_SELECTION,s.options=null==(c=t.options)?void 0:c.map((function(e){return e.value?e:e.label?(0,r.Z)({value:o(8)},e):{label:e,value:o(8)}}));break;case"USER_INFO":s.type=i.C2.CUSTOMER_INFO;break;case"TEXT":s.type=i.C2.SINGLELINE_TEXT;break;case"TEXTAREA":s.type=i.C2.MULTILINE_TEXT;break;case"NAME":s.type=i.C2.NAME;break;case"PHONE":s.type=i.C2.PHONE_NUMBER;break;case"EMAIL":s.type=i.C2.EMAIL;break;case"SEX":s.type=i.C2.GENDER;break;case"DECORATION":s.type=i.C2.DECORATION_TEXT,s.title=n.text}return(0,r.Z)({},l(s.type),s)}(e.type,t,e),{id:e.id,title:e.title})})),c={id:e.id,title:e.name,description:e.desc,singlePage:!1,header:{title:t.headTitle,desc:t.headText,logo:{visible:t.showLogo,url:t.logo,align:n.logoAlignmentType,radius:n.logoFillet,width:n.logoWidth}},footer:{title:t.tailPage.text,redirectionURL:t.tailPage.link,logo:{url:t.tailPage.img,align:n.tailAlignmentType,radius:n.tailFillet,width:n.tailWidth}},buttons:{prevText:t.prevText,nextText:t.nextText,submitText:t.submitText},sorting:[],questions:a,extractions:[]};return JSON.parse(JSON.stringify(c).replaceAll(/<[^>]+>/g,""))},d=function(e){var t,n=e.map((function(e){return e.type})),r={};return!n.some((function(e){return/CSAT/.test(e)}))&&(r.CSAT_REASON={style:"disabled",isSelected:!1}),!n.some((function(e){return/NPS/.test(e)}))&&(r.NPS_REASON={style:"disabled",isSelected:!1}),null==(t=e.map((function(e){return{key:e.type,values:{style:"disabled",isSelected:!0}}})))?void 0:t.reduce((function(e,t){return e[t.key]=t.values,e}),r)}},14189:(e,t,n)=>{"use strict";n.d(t,{cQ:()=>x,YQ:()=>I,tM:()=>b,h1:()=>T,Hi:()=>E,tx:()=>w,zw:()=>k,Io:()=>C,ht:()=>S,T6:()=>N,AA:()=>O,up:()=>_,A1:()=>j,y7:()=>A,UE:()=>D,xK:()=>M,CX:()=>R,Hu:()=>L,wY:()=>P,f4:()=>F,hH:()=>Z,Ux:()=>V});var r,a,i,o=n(87462),c=n(94578),s=n(3820),u=n(76234),l=n(54684);function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){function e(){}return e.validate=function(e,t){var n=this,r=t.validations,a=void 0===r?this.validations:r;return Promise.all(a.map((function(r){return new Promise((function(a,i){var o,c=null!=(o=t[r.value])?o:n[r.value];a({key:r.key,value:c.call(n,e,t)===r.expects,i18nVars:r.i18nVars})}))}))).then((function(e){return e.filter((function(e){return!1===e.value}))}))},e.checkValueValid=function(e,t){return console.warn("\u8bf7\u5728 "+this.type+" \u63a7\u4ef6\u4e0a\u5b9e\u73b0\u81ea\u5df1\u7684 checkValueValid \u6821\u9a8c\u65b9\u6cd5!"),!0},e.checkValueMissing=function(e,t){return console.warn("\u8bf7\u5728 "+this.type+" \u63a7\u4ef6\u4e0a\u5b9e\u73b0\u81ea\u5df1\u7684 checkValueMissing \u6821\u9a8c\u65b9\u6cd5!"),!1},e.checkValueOutOfLimit=function(e,t){return console.warn("\u8bf7\u5728 "+this.type+" \u63a7\u4ef6\u4e0a\u5b9e\u73b0\u81ea\u5df1\u7684 checkValueOutOfLimit \u6821\u9a8c\u65b9\u6cd5!"),!1},e}();f.id=void 0,f.type=void 0,f.category=void 0,f.valueType=void 0,f.defaultValue=void 0,f.title="",f.description="",f.limit=[-1/0,1/0],f.required=!0,f.visible=!0,f.editable=!0,f.jumpable=!1,f.unique=!1,f.validations=[{key:s.MZ.Valid,value:"checkValueValid",expects:!0},{key:s.MZ.Required,value:"checkValueMissing",expects:!1},{key:s.MZ.Limit,value:"checkValueOutOfLimit",expects:!1}];var h=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkValueValid=function(e,t){var n=t.formatRequired,r=void 0===n?this.formatRequired:n,a=t.regexp,i=void 0===a?this.regexp:a,o=t.required,c=void 0===o?this.required:o,s=e||t.value||"";return"string"===typeof s&&(!c||!r||i instanceof RegExp&&i.test(s))},t.checkValueMissing=function(e,t){var n=t.required,r=void 0===n?this.required:n,a=e||t.value||"";return r&&"string"===typeof a&&this.checkValueEmpty(a)},t.checkValueOutOfLimit=function(e,t){var n=t.required,r=void 0===n?this.required:n,a=t.limit,i=void 0===a?this.limit:a,o=e||t.value||"";return r&&o.length<i[0]||o.length>(i[i.length-1]||1/0)},t.checkValueEqual=function(e,t){return e===t},t.checkValueEmpty=function(e){return"string"===typeof e&&!e},t}(f);h.valueType=s.Ge.TEXT,h.limit=[0,1/0],h.regexp=void 0,h.formatRequired=!1,h.phrase={},h.phraseVisible=!0,h.phraseRandom=!1,h.phraseShowNum=8,h.conditions=[{key:u.g.VISIBLE,value:"checkControlVisible",expects:!0}];var m=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkValueIn=function(e,t){return e>=t[0]&&e<=t[1]},t.checkValueEmpty=function(e,t){return"NPS"===t.type?!e&&0!==e:!e},t.checkValueValid=function(e,t){return(e||"")>-1},t.checkValueMissing=function(e,t){var n=t.required;return(void 0===n?this.required:n)&&this.checkValueEmpty(e,t)},t.checkValueOutOfLimit=function(e,t){var n=t.limit;void 0===n&&this.limit;return!1},t}(f);m.valueType=s.Ge.NUMBER,m.conditions=((r={})[u.g.IN]={value:"checkValueIn",expects:!0},r[u.g.NOT_IN]={value:"checkValueIn",expects:!1},r);var v=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkValueEmpty=function(e){return!Array.isArray(e)||!e.length},t.checkValueValid=function(e,t){var n=t.options,r=void 0===n?this.options:n;return e.every((function(e){return r.some((function(t){return t.value===e}))}))},t.checkValueMissing=function(e,t){var n=t.required;return(void 0===n?this.required:n)&&this.checkValueEmpty(e)},t.checkValueOutOfMinLimit=function(e,t){var n=t.required,r=void 0===n?this.required:n,a=t.limit,i=void 0===a?this.limit:a;return r&&e.length<(i[0]||-1/0)},t.checkValueOutOfMaxLimit=function(e,t){var n=t.required,r=void 0===n?this.required:n,a=t.limit,i=void 0===a?this.limit:a;return r&&e.length>(i[i.length-1]||1/0)},t.checkValueContains=function(e,t){var n=e||"";return t.every((function(e){return n.includes(e)}))},t}(f);v.valueType=s.Ge.SELECTION,v.options=[{label:"\u9009\u98791",value:"1"},{label:"\u9009\u98792",value:"2"},{label:"\u9009\u98793",value:"3"}],v.validations=[].concat(f.validations.slice(0,2),[{key:s.MZ.MinLimit,value:"checkValueOutOfMinLimit",expects:!1,i18nVars:[{key:s.MZ.MinLimit,value:"this.limit[0]"}]},{key:s.MZ.MaxLimit,value:"checkValueOutOfMaxLimit",expects:!1,i18nVars:[{key:s.MZ.MaxLimit,value:"this.limit[this.limit.length-1]"}]}]),v.conditions=((a={})[u.g.CONTAINS]={value:"checkValueContains",expects:!0},a[u.g.NOT_CONTAINS]={value:"checkValueContains",expects:!1},a);var y=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(f);y.valueType=s.Ge.SYNTHETIC,y.questions=void 0;var g=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkValueEmpty=function(e){if(e.length){for(var t,n=p(e);!(t=n()).done;){var r=t.value;if(0===(r.colItems&&r.colItems.filter((function(e){return e.value})).length))return this.MatrxRequired=r.title,!0}return!1}return this.MatrxRequired=this.row[0].title,!0},t.checkValueMissing=function(e,t){var n=t.required;return(void 0===n?this.required:n)&&this.checkValueEmpty(e)},t}(f);g.valueType=s.Ge.MATRIX,g.rowNumber=2,g.colNumber=2,g.limit=[2,2],g.columnEdit=!0,g.MatrxRequired="",g.column=Array.from({length:g.colNumber},(function(e,t){return{id:(0,l.aG)(8),title:"\u9009\u9879"+(t+1),value:!1}})),g.row=Array.from({length:g.rowNumber},(function(e,t){return{id:(0,l.aG)(8),title:"\u77e9\u9635\u884c"+(t+1),number:t+1}})),g.options=g.row.map((function(e){return(0,o.Z)({},e,{colItems:g.column})})),g.validations=[{key:s.MZ.MatrxRequired,value:"checkValueMissing",expects:!1,i18nVars:[{key:s.MZ.MatrxRequired,value:"this.MatrxRequired"}]}];var x=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(m);x.type=s.C2.NPS,x.category=s.WD.EXPERIENCE,x.unique=!0,x.limit=[0,10],x.title="\u60a8\u5411\u670b\u53cb\u6216\u540c\u4e8b\u63a8\u8350\u6211\u4eec\u7684\u53ef\u80fd\u6027\u6709\u591a\u5927\uff1f";var I=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(h);I.type=s.C2.NPS_REASON,I.category=s.WD.EXPERIENCE,I.unique=!0,I.limit=[1,200],I.title="\u4f60\u7ed9\u51fa\u4e0a\u8ff0\u5206\u6570\u7684\u4e3b\u8981\u539f\u56e0\u662f\u4ec0\u4e48\uff1f",I.placeholder="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u5c11\u586b\u5199"+I.limit[0]+"\u5b57\uff0c\u6700\u591a\u8f93\u5165"+I.limit[1]+"\u5b57\uff09";var b=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkVisible=function(){},t}(m);b.type=s.C2.CSAT,b.category=s.WD.EXPERIENCE,b.unique=!0,b.limit=[0,5],b.title="\u8bf7\u5bf9\u672c\u6b21\u8d2d\u4e70\u4f53\u9a8c\u6253\u5206";var T=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(h);T.type=s.C2.CSAT_REASON,T.category=s.WD.EXPERIENCE,T.unique=!0,T.limit=[1,200],T.title="\u8ba9\u4f60\u4ea7\u751f\u8fd9\u6837\u8bc4\u4ef7\u7684\u4e3b\u8981\u539f\u56e0\u662f\u4ec0\u4e48\uff1f",T.placeholder="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u5c11\u586b\u5199"+T.limit[0]+"\u5b57\uff0c\u6700\u591a\u8f93\u5165"+T.limit[1]+"\u5b57\uff09";var E=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkValueOutOfLimit=function(e,t){var n=t.limit,r=void 0===n?this.limit:n;return!!e.text&&(e.text.length<(r[0]||-1/0)||e.text.length>(r[1]||1/0))},t.checkValueContains=function(e,t){var n=e||"";return t.every((function(t){return e&&n.id===t}))},t.checkValueEmpty=function(e){return!e.id},t}(v);E.type=s.C2.SINGLE_SELECTION,E.category=s.WD.NORMAL,E.limit=[1,200],E.title="\u8bf7\u9009\u62e9\u4e00\u4e2a\u9009\u9879\uff08\u5355\u9009\uff09",E.placeholder="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u5c11\u586b\u5199"+E.limit[0]+"\u5b57\uff0c\u6700\u591a\u8f93\u5165"+E.limit[1]+"\u5b57\uff09",E.explainVisible=!0,E.explainAnalyse=!1,E.options=[{label:"\u9009\u98791",value:(0,l.aG)(8)},{label:"\u9009\u98792",value:(0,l.aG)(8)},{label:"\u9009\u98793",value:(0,l.aG)(8)}],E.hasTextList=[],E.validations=[{key:s.MZ.Required,value:"checkValueMissing",expects:!1},{key:s.MZ.Limit,value:"checkValueOutOfLimit",expects:!1}];var w=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkValContains=function(e,t,n){var r;return e===(null==(r=n.options.find((function(e){return e.value===t[0]})))?void 0:r.label)},t.checkValueEmpty=function(e){return 0===e.length},t.checkValueMissing=function(e,t){var n=t.required;return(void 0===n?this.required:n)&&this.checkValueEmpty(e)},t}(v);w.type=s.C2.SINGLE_PULL_DOWN,w.category=s.WD.NORMAL,w.limit=[1,1],w.title="\u4e0b\u62c9\u5355\u9009",w.optionType="DEFAULT",w.defaultOption="",w.options=[{label:"\u9009\u98791",value:(0,l.aG)(8)},{label:"\u9009\u98792",value:(0,l.aG)(8)},{label:"\u9009\u98793",value:(0,l.aG)(8)}],w.validations=[{key:s.MZ.Required,value:"checkValueMissing",expects:!1}],w.conditions=((i={})[u.g.CONTAINS]={value:"checkValContains",expects:!0},i[u.g.NOT_CONTAINS]={value:"checkValContains",expects:!1},i);var k=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkValueOutOfLimit=function(e,t){var n=t,r=n.textMinLimit,a=n.textMaxLimit;return!!e&&e.some((function(e){return 0!==e.text.length&&(e.text.length<(Number(r)||-1/0)||e.text.length>(Number(a)||1/0))}))},t.checkValueContains=function(e,t){if(!e)return!1;var n=e.map((function(e){return e.id}));return t.every((function(e){return n.includes(e)}))},t}(v);k.type=s.C2.MULTI_SELECTION,k.category=s.WD.NORMAL,k.limit=[1,1/0],k.textMinLimit="1",k.textMaxLimit="200",k.placeholder="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u5c11\u586b\u5199"+k.limit[0]+"\u5b57\uff0c\u6700\u591a\u8f93\u5165"+k.limit[1]+"\u5b57\uff09",k.explainVisible=!0,k.explainAnalyse=!1,k.title="\u8bf7\u9009\u62e9\u6700\u5c11\u4e00\u4e2a\u9009\u9879\uff08\u591a\u9009\uff09",k.hasTextList=[],k.validations=[{key:s.MZ.Required,value:"checkValueMissing",expects:!1},{key:s.MZ.MinLimit,value:"checkValueOutOfMinLimit",expects:!1,i18nVars:[{key:s.MZ.MinLimit,value:"this.limit[0]"}]},{key:s.MZ.MaxLimit,value:"checkValueOutOfMaxLimit",expects:!1,i18nVars:[{key:s.MZ.MaxLimit,value:"this.limit[this.limit.length-1]"}]},{key:s.MZ.Limit,value:"checkValueOutOfLimit",expects:!1}];var C=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(h);C.type=s.C2.SINGLELINE_TEXT,C.category=s.WD.NORMAL,C.limit=[1,200],C.title="\u8bf7\u7f16\u8f91\u6587\u672c",C.placeholder="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u5c11\u586b\u5199"+C.limit[0]+"\u5b57\uff0c\u6700\u591a\u8f93\u5165"+C.limit[1]+"\u5b57\uff09";var S=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(h);S.type=s.C2.MULTILINE_TEXT,S.category=s.WD.NORMAL,S.limit=[1,500],S.title="\u8bf7\u7f16\u8f91\u6587\u672c",S.placeholder="\u8bf7\u8f93\u5165\u5185\u5bb9\uff08\u6700\u5c11\u586b\u5199"+S.limit[0]+"\u5b57\uff0c\u6700\u591a\u8f93\u5165"+S.limit[1]+"\u5b57\uff09";var N=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkVisible=function(){},t.checkValueMissing=function(e,t){var n=t.selectedStyle,r="STAR"===n&&e>0||"CIRCLE"===n&&e>-1,a=t.required;return(void 0===a?this.required:a)&&!r},t}(m);N.type=s.C2.SCALE,N.category=s.WD.NORMAL,N.limit=[0,10],N.title="\u91cf\u8868\u9898",N.selectedStyle="CIRCLE",N.lowScoreText="\u5f88\u4e0d\u6ee1\u610f",N.midScoreText="\u4e00\u822c",N.highScoreText="\u5f88\u6ee1\u610f",N.validations=[{key:s.MZ.Required,value:"checkValueMissing",expects:!1}];var O=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkValueEmpty=function(e){return void 0===e&&(e=[]),0===e.length},t.checkValueMissing=function(e,t){var n=t.required;return(void 0===n?this.required:n)&&this.checkValueEmpty(e)},t}(v);O.valueType=s.Ge.ORDER,O.type=s.C2.SORT,O.category=s.WD.ADVANCED,O.title="\u6392\u5e8f\u9898",O.orderOptions=[],O.validations=[{key:s.MZ.Required,value:"checkValueMissing",expects:!1}];var _=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkValueEmpty=function(e){return void 0===e&&(e=[]),0===e.length||0===e[0].length},t.checkValueMissing=function(e,t){var n=t.required;return(void 0===n?this.required:n)&&this.checkValueEmpty(e)},t}(v);_.type=s.C2.UPLOAD_FILE,_.category=s.WD.ADVANCED,_.limit=[1,1],_.title="\u4e0a\u4f20\u6587\u4ef6/\u56fe\u7247",_.validations=[{key:s.MZ.Required,value:"checkValueMissing",expects:!1}];var j=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(h);j.type=s.C2.NAME,j.category=s.WD.CUSTOMER,j.unique=!0,j.limit=[1,20],j.title="\u59d3\u540d",j.placeholder="\u59d3\u540d";var A=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(v);A.type=s.C2.GENDER,A.category=s.WD.CUSTOMER,A.unique=!0,A.options=[{label:"\u7537",value:"1"},{label:"\u5973",value:"2"}],A.limit=[1,1],A.title="\u6027\u522b";var D=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(h);D.type=s.C2.PHONE_NUMBER,D.category=s.WD.CUSTOMER,D.unique=!0,D.limit=[1,15],D.title="\u624b\u673a",D.placeholder="\u624b\u673a",D.regexp=/^(?:\+?\d{1,2}\s?)?1[3-9]\d{9}$/;var M=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(h);M.type=s.C2.EMAIL,M.category=s.WD.CUSTOMER,M.unique=!0,M.limit=[1,500],M.title="\u90ae\u7bb1",M.placeholder="\u90ae\u7bb1",M.formatRequired=!0,M.regexp=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;var R=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(y);R.type=s.C2.CUSTOMER_INFO,R.category=s.WD.CUSTOMER,R.unique=!0,R.title="\u8bf7\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f",R.children=[s.C2.NAME,s.C2.PHONE_NUMBER,s.C2.EMAIL,s.C2.DATE];var L=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(h);L.type=s.C2.DATE,L.category=s.WD.CUSTOMER,L.unique=!0,L.title="\u8bf7\u8f93\u5165\u4f60\u7684\u51fa\u751f\u65e5\u671f",L.placeholder="\u8bf7\u9009\u62e9\u65e5\u671f";var P=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(h);P.type=s.C2.DECORATION_TEXT,P.category=s.WD.DECORATION,P.title="\u60a8\u5df2\u5b8c\u6210\u672c\u6b21\u95ee\u5377\uff0c\u611f\u8c22\u60a8\u7684\u5e2e\u52a9\u4e0e\u652f\u6301",P.redirectionURL="";var F=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(g);F.type=s.C2.MATRIX_SINGLE_CHOICE,F.title="\u77e9\u9635\u5355\u9009\u9898";var Z=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.checkValueOutOfMinLimit=function(e,t){var n=t.required,r=void 0===n?this.required:n,a=t.limit,i=void 0===a?this.limit:a;if(r&&i&&e){for(var o,c=i[0],s=(i[1],p(e));!(o=s()).done;){var u=o.value,l=u.colItems&&u.colItems.filter((function(e){return e.value})).length;if(c&&l<c)return!0}return!1}return!1},t.checkValueOutOfMaxLimit=function(e,t){var n=t.required,r=void 0===n?this.required:n,a=t.limit,i=void 0===a?this.limit:a;if(r&&i&&e){i[0];for(var o,c=i[1],s=p(e);!(o=s()).done;){var u=o.value,l=u.colItems&&u.colItems.filter((function(e){return e.value})).length;if(c&&l>c)return!0}return!1}return!1},t}(g);Z.type=s.C2.MATRIX_MULTIPLE_CHOICE,Z.rangeChoose=[0,0],Z.title="\u77e9\u9635\u591a\u9009\u9898",Z.validations=[{key:s.MZ.MatrxRequired,value:"checkValueMissing",expects:!1,i18nVars:[{key:s.MZ.MatrxRequired,value:"this.MatrxRequired"}]},{key:s.MZ.MinLimit,value:"checkValueOutOfMinLimit",expects:!1,i18nVars:[{key:s.MZ.MinLimit,value:"this.limit[0]"}]},{key:s.MZ.MaxLimit,value:"checkValueOutOfMaxLimit",expects:!1,i18nVars:[{key:s.MZ.MaxLimit,value:"this.limit[this.limit.length-1]"}]}];var V=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t}(g);V.type=s.C2.MATRIX_SCALE,V.limit=[1,2],V.selectedStyle="CIRCLE",V.columnEdit=!1,V.title="\u77e9\u9635\u91cf\u8868\u9898",V.column=Array.from({length:V.colNumber},(function(e,t){return{id:(0,l.aG)(8),title:t+1+"\u5206",value:!1}})),V.options=V.row.map((function(e){return(0,o.Z)({},e,{colItems:V.column})}))},3820:(e,t,n)=>{"use strict";var r,a,i,o;n.d(t,{WD:()=>r,Ge:()=>a,C2:()=>i,MZ:()=>o}),function(e){e.EXPERIENCE="EXPERIENCE",e.NORMAL="NORMAL",e.CUSTOMER="CUSTOMER",e.DECORATION="DECORATION",e.ADVANCED="ADVANCED"}(r||(r={})),function(e){e.TEXT="TEXT",e.NUMBER="NUMBER",e.SELECTION="SELECTION",e.SYNTHETIC="SYNTHETIC",e.MATRIX="MATRIX",e.ORDER="ORDER",e.SCALE="SCALE",e.PHRASE="PHRASE",e.OTHER="OTHER"}(a||(a={})),function(e){e.NPS="NPS",e.NPS_REASON="NPS_REASON",e.CSAT="CSAT",e.CSAT_REASON="CSAT_REASON",e.SINGLE_SELECTION="SINGLE_SELECTION",e.SINGLE_CHOICE="SINGLE_CHOICE",e.MULTI_SELECTION="MULTI_SELECTION",e.MULTIPLE_CHOICE="MULTIPLE_CHOICE",e.SINGLELINE_TEXT="SINGLELINE_TEXT",e.MULTILINE_TEXT="MULTILINE_TEXT",e.SORT="SORT",e.SCALE="SCALE",e.NAME="NAME",e.GENDER="GENDER",e.PHONE_NUMBER="PHONE_NUMBER",e.EMAIL="EMAIL",e.DATE="DATE",e.CUSTOMER_INFO="CUSTOMER_INFO",e.DECORATION_TEXT="DECORATION_TEXT",e.SINGLE_PULL_DOWN="SINGLE_PULL_DOWN",e.UPLOAD_FILE="UPLOAD_FILE",e.MATRIX_SINGLE_CHOICE="MATRIX_SINGLE_CHOICE",e.MATRIX_MULTIPLE_CHOICE="MATRIX_MULTIPLE_CHOICE",e.MATRIX_SCALE="MATRIX_SCALE"}(i||(i={})),function(e){e.Required="Required",e.Limit="Limit",e.MinLimit="MinLimit",e.MaxLimit="MaxLimit",e.Valid="Valid",e.MatrxRequired="MatrxRequired"}(o||(o={}))},98117:(e,t,n)=>{"use strict";n.d(t,{Oq:()=>o,p9:()=>c,Kj:()=>i,am:()=>s,kQ:()=>u});var r=n(87462),a=n(70715),i=function(e){var t=e.slice(0,10),n=Math.sqrt(t[0].total);return t.map((function(e){return(0,r.Z)({},e,{rate:Math.sqrt(e.total)/n})}))},o=function(e,t){return{series:[{type:"graph",layout:"force",silent:!0,animation:!1,legendHoverLink:!1,force:{repulsion:[.4*t,.8*t],gravity:.11,layoutAnimation:!1},itemStyle:{color:"#ffffffff"},data:e.map((function(e){return{symbolSize:e.rate*t/3}}))}]}},c=function(e,t,n,r,i){return{title:{text:t},tooltip:{formatter:function(e){var t=e.marker,n=e.data,r=n.value,a=n.name,i=n.total;return"label"!==a?[t+" "+a,"\u58f0\u91cf\uff1a"+r,"\u5360\u6bd4\uff1a"+(r/i*100).toFixed(2)+"%"].join("<br>"):[i.name+"\uff1a"+i.total,'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#D96969;"></span> \u8d1f\u9762\uff1a'+i.negativeCount+'<span style="color: #8c8c8c">('+(i.negativeCount/i.total*100).toFixed(2)+"%)</span>",'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#0074B8;"></span> \u4e2d\u6027\uff1a'+i.neutralCount+'<span style="color: #8c8c8c">('+(i.neutralCount/i.total*100).toFixed(2)+"%)</span>",'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#00B76E;"></span> \u6b63\u9762\uff1a'+i.positiveCount+'<span style="color: #8c8c8c">('+(i.positiveCount/i.total*100).toFixed(2)+"%)</span>"].join("<br>")}},series:n.map((function(t,n){var o=e[n],c=o.rate*r/3*.35,s=26*o.rate,u=s*o.name.length>2*(c-10)?2*(c-10)/o.name.length:s,l=24*o.rate;l*o.total.toString().length>2*(c-10)&&o.total.toString().length;return{type:"pie",name:o.name,center:t,hoverOffset:4,radius:[c-5,c],label:{normal:{show:!0,position:"center",formatter:"{a|"+o.name+"}",rich:{a:{color:"#262626",fontSize:u,fontFamily:a.I8}}}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(155,155,155,0.5)",borderColor:"#ffffff",borderWidth:.5}},data:[{value:o.positiveCount,type:"pie",name:"\u6b63\u9762",selName:o.name,total:o.total,selEmotion:["PROMOTER"],itemStyle:i&&i.selName?{color:"pie"===i.type&&o.name===i.selName&&i.selEmotion.includes("PROMOTER")?"#15B374":"#8c8c8c"}:{}},{value:o.neutralCount,type:"pie",name:"\u4e2d\u6027",selName:o.name,total:o.total,selEmotion:["PASSIVE"],itemStyle:i&&i.selName?{color:"pie"===i.type&&o.name===i.selName&&i.selEmotion.includes("PASSIVE")?"#1574B3":"#8c8c8c"}:{}},{value:o.negativeCount,type:"pie",name:"\u8d1f\u9762",selName:o.name,total:o.total,selEmotion:["DETRACTOR"],itemStyle:i&&i.selName?{color:"pie"===i.type&&o.name===i.selName&&i.selEmotion.includes("DETRACTOR")?"#D96969":"#8c8c8c"}:{}},{value:0,name:"label",total:o,selName:o.name,selEmotion:["PROMOTER","PASSIVE","DETRACTOR"],type:"pie",itemStyle:{color:"#ffffffff"}}]}}))}},s=[{title:"\u5bfc\u51fa\u56fe\u7247",type:"image"},{title:"\u5bfc\u51fa\u6570\u636e",type:"data"}],u=function(e,t,n,r){var a=void 0;"image"===t?a=e:"data"===t&&(a=[n.reduce((function(e,t){return[].concat(e,[[t.name,t.total,t.positiveCount,t.neutralCount,t.negativeCount]])}),[["\u5173\u952e\u8bcd","\u56de\u6536\u95ee\u5377\u603b\u6570","\u63a8\u8350\u8005","\u88ab\u52a8\u8005","\u8d2c\u635f\u8005"]])]),r({type:t,obj:a,name:e.getOption().title[0].text})}},10242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.dateFilter;return o.h.post("/nps/chart/find/NPS_VALUE_CHART",{projectId:t,dateFilter:n})}function s(e){var t=e.projectId,n=e.dateFilter;return o.h.post("/nps/chart/find/NPS_CUSTOMER_CHART",{projectId:t,dateFilter:n})}function u(e){var t=e.projectId,n=e.dateFilter;return o.h.post("/nps/chart/find/EXECUTIVE_EFFICIENCY_CHART",{projectId:t,dateFilter:n})}function l(e){var t=e.projectId,n=e.dateFilter;return o.h.post("/nps/chart/find/CUSTOMER_CONCERNS_CHART",{projectId:t,dateFilter:n})}function p(e){var t=e.projectId,n=e.dateFilter;return o.h.post("/nps/chart/find/NPS_VALUE_TREND_CHART",{projectId:t,dateFilter:n})}function d(e){var t=e.projectId,n=e.dateFilter;return o.h.post("/nps/chart/find/PROVINCE_NPS_CHART",{projectId:t,dateFilter:n})}function f(e){var t=e.projectId,n=e.dateFilter;return o.h.post("/nps/chart/find/DISPATCH_WAY_CHART",{projectId:t,dateFilter:n})}function h(e){var t=e.projectId,n=e.dateFilter;return o.h.post("/nps/chart/find/CLIENT_BROWSER_CHART",{projectId:t,dateFilter:n})}var m=n(98117),v=n(64396).Z.research.npsOverview,y=function(e){return new Promise((function(t){return setTimeout(t,e)}))};const g={namespace:v,state:{dateFilter:void 0,projectId:void 0,npsValChartData:void 0,invRatChartData:void 0,npsRatChartData:void 0,fosDisChartData:void 0,fosPoiChartData:void 0,npsTreChartData:void 0,npsTrendDateGroupType:"WEEK",npsMapChartData:void 0,npsRecChartData:void 0,npsDevChartData:void 0},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchChartData:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[v]}));case 4:if(s=e.sent,u=s.dateFilter,l=s.projectId,JSON.stringify(u)===JSON.stringify(a.dateFilter)&&l===a.projectId){e.next=26;break}return e.next=10,o({type:"save",payload:a});case 10:return e.next=12,o({type:"fetchNpsValue",payload:a});case 12:return e.next=14,o({type:"fetchInvestRatio",payload:a});case 14:return e.next=16,o({type:"fetchNpsRatio",payload:a});case 16:return e.next=18,o({type:"fetchFocusData",payload:a});case 18:return e.next=20,o({type:"fetchNpsTrend",payload:a});case 20:return e.next=22,o({type:"fetchNpsMap",payload:a});case 22:return e.next=24,o({type:"fetchNpsRecycle",payload:a});case 24:return e.next=26,o({type:"fetchNpsDevices",payload:a});case 26:case"end":return e.stop()}}),e)})),fetchNpsValue:i().mark((function e(t,n){var r,a,o,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,s=null,e.prev=3,e.next=6,a(c,r);case 6:u=e.sent,2e4===(l=u.data).code&&l.result&&l.result.questionnaireTotal>0&&(s=l.result),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:return e.prev=13,e.next=16,o({type:"save",payload:{npsValChartData:s}});case 16:return e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[3,11,13,17]])})),fetchInvestRatio:i().mark((function e(t,n){var r,a,o,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(y,r.timeOut);case 4:return c=null,e.prev=5,e.next=8,a(s,r);case 8:u=e.sent,2e4===(l=u.data).code&&l.result&&l.result.questionnaireTotal>0&&(c=l.result),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.prev=15,e.next=18,o({type:"save",payload:{invRatChartData:c}});case 18:return e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[5,13,15,19]])})),fetchNpsRatio:i().mark((function e(t,n){var r,a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(y,r.timeOut);case 4:return c=null,e.prev=5,e.next=8,a(u,r);case 8:s=e.sent,2e4===(l=s.data).code&&l.result&&l.result.list.length>0&&(c=l.result.list),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.prev=15,e.next=18,o({type:"save",payload:{npsRatChartData:c}});case 18:return e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[5,13,15,19]])})),fetchFocusData:i().mark((function e(t,n){var r,a,o,c,s,u,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(y,r.timeOut);case 4:return c=null,s=null,e.prev=6,e.next=9,a(l,r);case 9:u=e.sent,2e4===(p=u.data).code&&p.result&&p.result.list.length>0&&(d=p.result.list,f=d.reduce((function(e,t){return e+t.questionnaireTotal}),0),c=d.map((function(e){return{positiveCount:e.promoterCount,negativeCount:e.detractorCount,neutralCount:e.passiveCount,total:e.questionnaireTotal,name:e.word,precent:e.questionnaireTotal/f,posRate:e.promoterCount/e.questionnaireTotal,negRate:e.detractorCount/e.questionnaireTotal,neuRate:e.passiveCount/e.questionnaireTotal}})),s=0===c.length?[]:(0,m.Kj)(c.slice().sort((function(e,t){return t.total-e.total})))),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:return e.prev=16,e.next=19,o({type:"save",payload:{fosDisChartData:c,fosPoiChartData:s}});case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[6,14,16,20]])})),fetchNpsTrend:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,o(y,a.timeOut);case 4:return e.next=6,c((function(e){return(0,r.Z)({},e)[v]}));case 6:return u=e.sent,l=u.npsTrendDateGroupType,d=u.dateFilter,f=u.projectId,h=a.dateGroupType||l,m={dateFilter:(0,r.Z)({},d,{dateGroupType:h}),projectId:f},g=null,e.prev=13,e.next=16,o(p,m);case 16:x=e.sent,2e4===(I=x.data).code&&I.result&&I.result.list.length>0&&(g=I.result.list),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.prev=23,e.next=26,s({type:"save",payload:{npsTreChartData:g,npsTrendDateGroupType:a.dateGroupType||l}});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[13,21,23,27]])})),fetchNpsMap:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(y,r.timeOut);case 4:return c=null,e.prev=5,e.next=8,a(d,r);case 8:s=e.sent,2e4===(u=s.data).code&&u.result&&u.result.list.length>0&&(c=u.result.list),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.prev=15,e.next=18,o({type:"save",payload:{npsMapChartData:c}});case 18:return e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[5,13,15,19]])})),fetchNpsRecycle:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(y,r.timeOut);case 4:return c=null,e.prev=5,e.next=8,a(f,r);case 8:s=e.sent,2e4===(u=s.data).code&&u.result&&u.result.list.length>0&&(c=u.result.list),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.prev=15,e.next=18,o({type:"save",payload:{npsRecChartData:c}});case 18:return e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[5,13,15,19]])})),fetchNpsDevices:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(y,r.timeOut);case 4:return c=null,e.prev=5,e.next=8,a(h,r);case 8:s=e.sent,2e4===(u=s.data).code&&u.result&&u.result.client.length>0&&u.result.browser.length>0&&(c=u.result),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return e.prev=15,e.next=18,o({type:"save",payload:{npsDevChartData:c}});case 18:return e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[5,13,15,19]])}))}}},4714:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/filter/find",{type:"INBOX",filterTypes:["USER","TEAM"],projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.name,a=t.teamIdList,o=t.userIdList,s=t.questionnaireList,u=t.type,e.abrupt("return",c.h.post("/questionnaire/board/add",{projectId:n,name:r,teamIdList:a,userIdList:o,questionnaireList:s,type:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.name,a=t.teamIdList,o=t.userIdList,s=t.questionnaireList,u=t.id,e.abrupt("return",c.h.post("/questionnaire/board/update",{projectId:n,name:r,teamIdList:a,userIdList:o,questionnaireList:s,id:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",c.h.post("/questionnaire/board/detail/find",{id:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=e.productName,n=e.productVersion,r=e.productLine,a=e.thirdParty,i=e.projectId,o=e.type,s=e.name;e.pageIndex,e.pageSize;return c.h.post("questionnaire/list",{productName:t,productVersion:n,productLine:r,thirdParty:a,name:s,projectId:i,pageIndex:1,pageSize:1e3,questionnaireType:[o],sortName:a?void 0:"updatedAt",sortType:a?void 0:"DESC"})}var y=n(64396).Z.research.setting.edit,g={form:{name:"",teamIdList:[],userIdList:[]},questionnaireList:[],teamList:[],userList:[],id:void 0,type:void 0,projectId:void 0,hasChange:!1,queList:[],queTotal:0,thQueList:[],thQueTotal:0};const x={namespace:y,state:JSON.parse(JSON.stringify(g)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},JSON.parse(JSON.stringify(g)))}},effects:{fetchUserList:i().mark((function e(t,n){var a,o,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,e.next=4,c(s,a);case 4:return u=e.sent,e.next=7,o({type:"save",payload:(0,r.Z)({},a,{teamList:u.data.result.team,userList:u.data.result.user})});case 7:case"end":return e.stop()}}),e)})),fetchDetail:i().mark((function e(t,n){var a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,n.select,e.prev=2,e.next=5,c(h,a);case 5:if(s=e.sent,u=s.data,l=u.code,p=u.result,2e4!==l||!p){e.next=12;break}return e.next=12,o({type:"save",payload:(0,r.Z)({},a,{type:p.type,questionnaireList:p.questionnaireList,form:(0,r.Z)({},p)})});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(2);case 16:case"end":return e.stop()}}),e,null,[[2,14]])})),formChange:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,o=n.select,e.next=4,o((function(e){return e[y]}));case 4:return c=e.sent,s=c.form,u=r.hasChange,e.next=9,a({type:"save",hasChange:void 0===u||u});case 9:if("questionnaireList"===r.key){e.next=15;break}return s[r.key]=r.value,e.next=13,a({type:"save",payload:{form:JSON.parse(JSON.stringify(s))}});case 13:e.next=17;break;case 15:return e.next=17,a({type:"save",payload:{questionnaireList:JSON.parse(JSON.stringify(r.value))}});case 17:case"end":return e.stop()}}),e)})),submit:i().mark((function e(t,n){var r,a,o,c,s,u,p,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.select,e.next=4,a((function(e){return e[y]}));case 4:return o=e.sent,c=o.form,s=c.name,u=c.teamIdList,p=c.userIdList,f=o.questionnaireList,h=o.id,m=o.projectId,v=o.type,e.next=15,r(h?d:l,{projectId:m,type:v,id:h,name:s,userIdList:p,teamIdList:u,questionnaireList:f.map((function(e){return e.id}))});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})),fetchQuestionnaireList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.select,c=n.put,s=n.call,e.next=4,o((function(e){return e[y]}));case 4:return u=e.sent,l=u.projectId,p=u.type,d=u.queKeyword,f=u.quePageIndex,h=u.quePageSize,m=u.questionnaireList,g=a.thirdParty,x=void 0,I=0,e.prev=13,e.next=16,s(v,{productName:[],productVersion:[],productLine:[],thirdParty:g,projectId:l,type:p,pageIndex:a.quePageIndex||f,pageSize:a.quePageSize||h,name:a.queKeyword||d});case 16:b=e.sent,2e4===(T=b.data).code&&(x=T.result.result.map((function(e){return(0,r.Z)({},e,{checked:m.some((function(t){return t.id===e.id}))})})),I=T.result.count),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.prev=23,e.next=26,c({type:"save",payload:(0,r.Z)((E={},E[g?"thQueList":"queList"]=x,E[g?"thQueTotal":"queTotal"]=I,E),a)});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[13,21,23,27]])}))}}},98170:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(49722),s=function(e){return c.h.post("/questionnaireScene/add",e)},u=function(e){return c.h.post("/questionnaireScene/page",e)},l=function(e){return c.h.post("/questionnaireScene/update",e)},p=function(e){return c.h.post("/questionnaire/list",e)},d=function(e){return c.h.post("/questionnaireApp/list",e)},f=n(64396).Z.research.setting.apiManage,h={pageIndex:1,pageSize:10,apiList:void 0,projectId:void 0,qestionnaireList:void 0,appList:void 0,appId:void 0};const m={namespace:f,state:JSON.parse(JSON.stringify(h)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},h)}},effects:{QuestionnaireSceneAdd:o().mark((function e(t,n){var i,c,u,l,p,d,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,a.Z)({},e)[f]}));case 4:return p=e.sent,d=p.projectId,e.prev=6,e.next=9,c(s,(0,a.Z)({projectId:d},i));case 9:if(h=e.sent,2e4!==(m=h.data).code){e.next=15;break}return r.default.success(m.msg),e.next=15,u({type:"QuestionnaireSceneList",payload:{pageIndex:1}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])})),QuestionnaireSceneList:o().mark((function e(t,n){var r,i,c,s,l,p,d,h,m,v,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,a.Z)({},e)[f]}));case 4:return l=e.sent,p=l.pageIndex,d=l.pageSize,h=l.appId,m=l.projectId,e.prev=9,e.next=12,i(u,{pageIndex:(null==r?void 0:r.pageIndex)||p,pageSize:d,appId:(null==r?void 0:r.appId)||h,projectId:m});case 12:if(v=e.sent,2e4!==(y=v.data).code||!y.result){e.next=17;break}return e.next=17,c({type:"save",payload:(0,a.Z)({apiList:y.result},r)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])})),QuestionnaireSceneUpdate:o().mark((function e(t,n){var i,c,s,u,p,d,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[f]}));case 4:return p=e.sent,d=p.projectId,e.prev=6,e.next=9,c(l,(0,a.Z)({projectId:d},i));case 9:if(h=e.sent,2e4!==(m=h.data).code){e.next=15;break}return r.default.success(m.msg),e.next=15,s({type:"QuestionnaireSceneList"});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])})),QuestionnaireList:o().mark((function e(t,n){var r,i,c,s,u,l,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:return s=e.sent,u=s.projectId,e.prev=6,l={projectId:u,pageIndex:1,pageSize:500},e.next=10,r(p,l);case 10:if(d=e.sent,2e4!==(h=d.data).code||!h.result){e.next=15;break}return e.next=15,i({type:"save",payload:{qestionnaireList:h.result}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])})),QuestionnaireAppList:o().mark((function e(t,n){var r,i,c,s,u,l,p,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,i=n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[f]}));case 4:return s=e.sent,u=s.projectId,e.prev=6,l={projectId:u,pageIndex:1,pageSize:500},e.next=10,r(d,l);case 10:if(p=e.sent,2e4!==(h=p.data).code||!h.result){e.next=15;break}return e.next=15,i({type:"save",payload:{appList:h.result}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])}))}}},64642:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(77579),s=n(35239),u=o.Z.research.setting.appManagement,l={list:[],pagination:{pageIndex:1,pageSize:10,total:0}};const p={namespace:u,state:JSON.parse(JSON.stringify(l)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},l)}},effects:{addEditApp:i().mark((function e(t,n){var a,o,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,e.prev=2,e.next=5,o(c.$E,(0,r.Z)({projectId:s.t.get(s.V.curProject).id},a));case 5:if(l=e.sent,2e4!==(p=l.data).code){e.next=11;break}return e.next=10,u.resolve({type:"fetchAppList",payload:{}});case 10:return e.abrupt("return",p.result);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",e.t0.data.msg);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})),fetchAppList:i().mark((function e(t,n){var a,o,l,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[u]}));case 4:return d=e.sent,f=d.pagination,h=f.pageIndex,m=f.pageSize,e.prev=8,v={pageIndex:a.current||h,pageSize:a.pageSize||m},e.next=12,o(c.$n,(0,r.Z)({projectId:s.t.get(s.V.curProject).id},v));case 12:if(y=e.sent,2e4!==(g=y.data).code){e.next=17;break}return e.next=17,l({type:"save",payload:(0,r.Z)({},a,{list:g.result.list,pagination:{pageIndex:g.result.currPage||1,pageSize:g.result.pageSize||10,total:g.result.total||g.result.length}})});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(8);case 21:case"end":return e.stop()}}),e,null,[[8,19]])})),postDisturb:i().mark((function e(t,n){var a,o,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,e.prev=2,e.next=5,o(c.bX,(0,r.Z)({projectId:s.t.get(s.V.curProject).id},a));case 5:if(l=e.sent,2e4!==l.data.code){e.next=11;break}return e.next=10,u.resolve({type:"fetchAppList",payload:{}});case 10:return e.abrupt("return",!0);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})),deleteApp:i().mark((function e(t,n){var a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,e.prev=2,e.next=5,o(c.P2,(0,r.Z)({},a));case 5:if(u=e.sent,2e4!==u.data.code){e.next=11;break}return e.next=10,s.resolve({type:"fetchAppList",payload:{}});case 10:return e.abrupt("return",!0);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})),uploadAvatar:i().mark((function e(t,n){var a,o,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,e.prev=2,e.next=5,o(c.gg,(0,r.Z)({projectId:s.t.get(s.V.curProject).id},a));case 5:if(u=e.sent,2e4!==(l=u.data).code){e.next=9;break}return e.abrupt("return",l.result);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])}))}}},77579:(e,t,n)=>{"use strict";n.d(t,{$E:()=>a,$n:()=>i,bX:()=>o,P2:()=>c,gg:()=>s});var r=n(49722);function a(e){var t=e.projectId,n=e.id,a=e.name,i=e.pictureUrl;return r.h.post("/questionnaireApp/add",{projectId:t,id:n,name:a,pictureUrl:i})}function i(e){var t=e.projectId,n=e.pageIndex,a=e.pageSize;return r.h.post("/questionnaireApp/list",{projectId:t,pageIndex:n,pageSize:a})}function o(e){var t=e.projectId,n=e.id,a=e.ruleConfig,i=e.sendRuleStatus;return r.h.post("/questionnaireApp/rule/setting",{projectId:t,id:n,ruleConfig:a,sendRuleStatus:i})}function c(e){var t=e.id;return r.h.post("/questionnaireApp/delete",{id:t})}function s(e){var t=e.projectId,n=e.base64Code,a=e.fileName,i=e.type;return r.h.post("/questionnaire/picture/upload",{projectId:t,base64Code:n,fileName:a,type:i})}},10938:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.userIdList,r=e.teamIdList;return o.h.post("/questionnaire/board/list",{more:!0,projectId:t,userIdList:n,teamIdList:r})}function s(){return o.h.post("/user/list",{pageIndex:1,pageSize:1e3,search:""})}function u(){return o.h.get("/team/list")}function l(e){var t=e.id;return o.h.post("/questionnaire/board/delete",{id:t})}function p(e){var t=e.projectId,n=e.questionnaireBoardIdList;return o.h.post("/questionnaire/board/sort",{questionnaireBoardIdList:n,projectId:t})}var d=n(64396),f=n(5133),h=d.Z.research.setting.set,m=d.Z.public.menu,v={dashList:void 0,dashTotal:void 0,userOptions:[],teamOptions:[],userList:[],teamList:[],projectId:""};const y={namespace:h,state:JSON.parse(JSON.stringify(v)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e,t){t.payload;return(0,r.Z)({},e,Object.assign({},JSON.parse(JSON.stringify(v))))}},effects:{fetchUserList:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,e.prev=1,e.next=4,r(s);case 4:if(o=e.sent,2e4!==(c=o.data).code){e.next=9;break}return e.next=9,a({type:"save",payload:{userOptions:c.result.result.map((function(e){return{id:e.id,name:e.username}}))}});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})),fetchTeamList:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,e.prev=1,e.next=4,r(u);case 4:if(o=e.sent,2e4!==(c=o.data).code){e.next=9;break}return e.next=9,a({type:"save",payload:{teamOptions:c.result.list.map((function(e){return{id:e.id,name:e.name}}))}});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})),fetchDashList:i().mark((function e(t,n){var a,o,s,u,l,p,d,f,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[h]}));case 4:return l=e.sent,p=l.projectId,d=l.teamList,f=l.userList,m=[],v=0,e.prev=9,e.next=12,o(c,{projectId:a.projectId||p,userIdList:a.userList||f,teamIdList:a.teamList||d});case 12:y=e.sent,2e4===(g=y.data).code&&g.result&&(m=g.result.result,v=g.result.count),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),e.t0;case 20:return e.prev=20,e.next=23,s({type:"save",payload:(0,r.Z)({dashList:m,dashTotal:v},a)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[9,17,20,24]])})),deleteBoard:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,e.prev=2,e.next=5,a(l,{id:r.id});case 5:if(c=e.sent,2e4!==(s=c.data).code){e.next=15;break}return f.Z.success(s.msg),e.next=11,o({type:"fetchDashList",payload:{}});case 11:return e.next=13,o({type:m+"/fetchMenuList",payload:{}});case 13:e.next=16;break;case 15:f.Z.error(s.msg);case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(2);case 20:case"end":return e.stop()}}),e,null,[[2,18]])})),sortBoard:i().mark((function e(t,n){var a,o,c,s,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[h]}));case 4:return s=e.sent,u=s.projectId,l=s.dashList,e.prev=7,e.next=10,o(p,{projectId:a.projectId||u,questionnaireBoardIdList:l.map((function(e){return e.id}))});case 10:d=e.sent,d.data.code,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:case"end":return e.stop()}}),e,null,[[7,15]])}))}}},88938:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.pageSize,n=e.pageIndex,r=e.channel,a=e.keyword,i=e.sortEnum,c=e.status,s=e.signatureId;return o.h.post("/template/list",{pageSize:t,pageIndex:n,channel:r,keyword:a,sortEnum:i,status:"all"===c?void 0:c,signatureId:"all"===s?void 0:s})}function s(e){var t=e.channel;return o.h.post("/template/signature/list",{pageSize:9999,pageIndex:1,channel:t.toUpperCase()})}function u(e){var t=e.signatureId;return o.h.post("/template/signature/delete",{signatureId:t})}function l(e){var t=e.id;return o.h.post("/template/delete",{id:t})}var p=n(63472),d=n(64396).Z.research.npmTemplate,f={channel:"SMS",signatureList:[],signatureData:void 0,emailData:void 0,emailPageIndex:1,emailPageSize:10,emailKeyword:"",smsData:void 0,smsPageIndex:1,smsPageSize:10,smsKeyword:"",projectId:void 0,status:p.sl[0].value,sort:p.fS[0].value,signatureId:"all"};const h={namespace:d,state:Object.assign({},f),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e,t){t.payload;return Object.assign({},f)}},effects:{fetchEmailTemplateList:i().mark((function e(t,n){var a,o,s,u,l,p,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,p=l.emailPageIndex,f=l.emailPageSize,h=l.emailKeyword,m=l.status,v=l.sort,y=l.signatureId,g=null,x={emailKeyword:void 0!==a.emailKeyword?a.emailKeyword:h,emailPageIndex:a.emailPageIndex||p,emailPageSize:a.emailPageSize||f},e.prev=13,e.next=16,o(c,{pageSize:x.emailPageSize,pageIndex:x.emailPageIndex,keyword:x.emailKeyword,channel:"EMAIL",status:m,sortEnum:v,signatureId:y});case 16:I=e.sent,2e4===(b=I.data).code&&(g=b.result),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.prev=23,e.next=26,s({type:"save",payload:(0,r.Z)({emailData:g},x)});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[13,21,23,27]])})),fetchSmsTemplateList:i().mark((function e(t,n){var a,o,s,u,l,p,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,p=l.smsPageIndex,f=l.smsPageSize,h=l.smsKeyword,m=l.status,v=l.sort,y=l.signatureId,g=null,x={smsKeyword:void 0!==a.smsKeyword?a.smsKeyword:h,smsPageIndex:a.smsPageIndex||p,smsPageSize:a.smsPageSize||f},e.prev=13,e.next=16,o(c,{pageSize:x.smsPageSize,pageIndex:x.smsPageIndex,keyword:x.smsKeyword,channel:"SMS",status:m,sortEnum:v,signatureId:y});case 16:I=e.sent,2e4===(b=I.data).code&&(g=b.result),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.prev=23,e.next=26,s({type:"save",payload:(0,r.Z)({smsData:g},x)});case 26:return e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[13,21,23,27]])})),getSignatureList:i().mark((function e(t,n){var r,a,o,c,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.payload,a=n.call,o=n.put,n.select,"signature"!==r.channel){e.next=20;break}return c=null,e.prev=4,e.next=7,a(s,{channel:"SMS"});case 7:u=e.sent,2e4===(l=u.data).code&&(c=l.result),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:return e.prev=14,e.next=17,o({type:"save",payload:{signatureData:c}});case 17:return e.finish(14);case 18:e.next=36;break;case 20:return p=[],e.prev=21,e.next=24,a(s,{channel:r.channel});case 24:d=e.sent,2e4===(f=d.data).code&&(p=f.result.result.map((function(e){return{title:e.signatureName,value:e.signatureId}}))),e.next=31;break;case 29:e.prev=29,e.t1=e.catch(21);case 31:return e.prev=31,p.unshift({title:"\u5168\u90e8",value:"all"}),e.next=35,o({type:"save",payload:{signatureList:p}});case 35:return e.finish(31);case 36:case"end":return e.stop()}}),e,null,[[4,12,14,18],[21,29,31,36]])})),deleteTemplate:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.prev=2,e.next=5,a(l,r);case 5:if(c=e.sent,s=c.data,u=2e4===s.code,r.callback(u),!u){e.next=13;break}return e.next=12,o({type:"email"===r.channel?"fetchEmailTemplateList":"fetchSmsTemplateList",payload:r});case 12:window.opener.postMessage("updateTemplate","*");case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,null,[[2,15]])})),deleteSignature:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.put,e.next=4,a(u,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))}}},63472:(e,t,n)=>{"use strict";n.d(t,{sl:()=>r,A0:()=>a,fS:()=>i,Go:()=>o});var r=[{title:"\u5168\u90e8",value:"all"},{title:"\u5ba1\u6838\u4e2d",value:"AUDITING"},{title:"\u5ba1\u6838\u901a\u8fc7",value:"AUDIT_PASS"},{title:"\u5ba1\u6838\u4e0d\u901a\u8fc7",value:"AUDIT_FAILED"},{title:"\u5ba1\u6838\u4e2d",value:"UN_SUBMIT"}],a=[{title:"\u672a\u5ba1\u6838",value:"UN_SUBMIT",color:"#262626"},{title:"\u5ba1\u6838\u4e2d",value:"AUDITING",color:"#262626"},{title:"\u5df2\u901a\u8fc7",value:"AUDIT_PASS",icon:"icon-cem_complete1",color:"#15B374"},{title:"\u4e0d\u901a\u8fc7",value:"AUDIT_FAILED",icon:"icon-cem_warning",color:"#D96969"}],i=[{title:"\u4fee\u6539\u65f6\u95f4\u6700\u65b0",value:"UPDATED_AT___DESC"},{title:"\u4fee\u6539\u65f6\u95f4\u6700\u65e9",value:"UPDATED_AT___ASC"},{title:"\u521b\u5efa\u65f6\u95f4\u6700\u65b0",value:"CREATED_AT___DESC"},{title:"\u521b\u5efa\u65f6\u95f4\u6700\u65e9",value:"CREATED_AT___ASC"}],o=function(e){var t=new Date,n=new Date(e.substring(0,19).replace(/-/g,"/").replace(/T/," ")),r=t.getTime()-n.getTime(),a=36e5,i=864e5,o=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();new Date(o-864e5).getTime();switch(!0){case r<a:var c=Math.abs(Math.floor(r/6e4));return c?c+"\u5206\u949f\u524d":"\u521a\u521a";case r<i:return Math.floor(r/a)+"\u5c0f\u65f6\u524d";default:return Math.floor(r/i)+"\u5929\u524d"}}},74023:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/questionnaire/picture/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.base64Code,a=t.fileName,o=t.type,e.abrupt("return",c.h.post("/questionnaire/picture/upload",{projectId:n,base64Code:r,fileName:a,type:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.id,e.abrupt("return",c.h.post("/questionnaire/picture/delete",{projectId:n,id:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t=e.functionalUse,n=e.name,r=e.signatureId,a=e.signatureName,i=e.content,o=e.isSubmitAudit,s=e.channel,u=e.img,l=e.applyReason;return c.h.post("/template/add",{functionalUse:t,name:n,signatureId:r,signatureName:a,content:i,isSubmitAudit:o,channel:s,img:u,applyReason:l})}function m(e){var t=e.id,n=e.functionalUse,r=e.name,a=e.signatureId,i=e.signatureName,o=e.content,s=e.isSubmitAudit,u=e.channel,l=e.img,p=e.applyReason;return c.h.post("/template/update",{id:t,functionalUse:n,name:r,signatureId:a,signatureName:i,content:o,isSubmitAudit:s,channel:u,img:l,applyReason:p})}function v(e){var t=e.pageSize,n=void 0===t?100:t,r=e.pageIndex,a=void 0===r?1:r,i=e.channel;return c.h.post("/template/signature/list",{pageSize:n,pageIndex:a,channel:i})}function y(e){var t=e.signatureId;return c.h.post("/template/signature/delete",{signatureId:t})}function g(e){var t=e.name,n=e.channel,r=e.functionalUse,a=void 0===r?"NPS":r,i=e.isSubmitAudit,o=void 0===i||i;return c.h.post("/template/signature/add",{name:t,channel:n,functionalUse:a,isSubmitAudit:o})}function x(e){var t=e.name,n=e.channel,r=void 0===n?"SMS":n,a=e.isSubmitAudit,i=e.functionalUse,o=void 0===i?"NPS":i,s=e.proofImageBase64,u=e.commissionImageBase64,l=e.applyReason;return c.h.post("/template/signature/add",{name:t,channel:r,isSubmitAudit:a,functionalUse:o,proofImageBase64:s,commissionImageBase64:u,applyReason:l})}function I(e){var t=e.signatureId;return c.h.post("/template/signature/images",{signatureId:t})}function b(e){var t=e.name,n=e.channel,r=void 0===n?"SMS":n,a=e.signatureId,i=e.isSubmitAudit,o=e.functionalUse,s=void 0===o?"NPS":o,u=e.proofImageBase64,l=e.commissionImageBase64,p=e.applyReason;return c.h.post("/template/signature/update",{name:t,channel:r,signatureId:a,isSubmitAudit:i,functionalUse:s,proofImageBase64:u,commissionImageBase64:l,applyReason:p})}function T(e){var t=e.id;return c.h.post("/template/find",{id:t})}n(5133);var E=n(64396).Z.research.setting.template,w={id:"",name:"",functionalUse:"NPS",content:"",signatureId:"",signatureName:"",url:"",img:"https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a1a049dc2c4c4cd7833d7d462517367f.png",imgList:void 0,channel:"",signOptions:void 0,hasChange:!1,projectId:void 0,smsApplyReason:"",proofImageBase64:void 0,commissionImageBase64:void 0,applyReason:""};const k={namespace:E,state:(0,r.Z)({},Object.assign({},w)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e,t){t.payload;return(0,r.Z)({},Object.assign({},w))}},effects:{fetchPicList:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,n.select,c=n.call,u=a.type,l=void 0,e.prev=4,e.next=7,c(s,a);case 7:p=e.sent,d=p.data,f=["https://yunting-1251101074.coscd.myqcloud.com/questionnaire/a1a049dc2c4c4cd7833d7d462517367f.png","https://yunting-1251101074.coscd.myqcloud.com/questionnaire/7222ff6881f340fc8efc146c53e6b0ed.png","https://yunting-1251101074.coscd.myqcloud.com/questionnaire/1a8a4f1c32e24a32bbf7ddd86cae28a6.png"],2e4===d.code&&d.result.length&&(h=d.result.filter((function(e){return e.type===u}))).length?(m=h.map((function(e){return e.name})),f.forEach((function(e){-1===m.indexOf(e)&&h.push({name:e,type:u}),l=h}))):l=f.map((function(e){return{name:e,type:u}})),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:return e.prev=15,e.next=18,o({type:"save",payload:(0,r.Z)({},a,{imgList:l})});case 18:return e.finish(15);case 19:return e.abrupt("return",l);case 20:case"end":return e.stop()}}),e,null,[[4,13,15,19]])})),uploadPic:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,s=n.call,e.next=4,c((function(e){return(0,r.Z)({},e)[E]}));case 4:return u=e.sent,p=u.projectId,d=u.img,f=a.base64Code,h=a.fileName,m=a.type,v="",e.prev=9,e.next=12,s(l,{projectId:p||a.projectId,base64Code:f,fileName:h,type:m});case 12:if(y=e.sent,2e4!==(g=y.data).code||!g.result){e.next=20;break}return v=g.result,e.next=18,o({type:"fetchPicList",payload:{projectId:p||a.projectId,type:m}});case 18:e.next=21;break;case 20:v=d;case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(9);case 25:return e.abrupt("return",v);case 26:case"end":return e.stop()}}),e,null,[[9,23]])})),deletePic:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.put,o=n.select,c=n.call,e.next=4,o((function(e){return(0,r.Z)({},e)[E]}));case 4:return s=e.sent,u=s.projectId,l=a.id,e.next=9,c(d,{projectId:u||a.projectId,id:l});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})),fetchSignatureList:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.call,a=n.put,o=n.select,e.next=3,o((function(e){return e[E]}));case 3:return c=e.sent,s=c.channel,c.id,u=[],l={channel:"SIGNATURE"===s.toUpperCase()?"SMS":s},e.prev=8,e.next=11,r(v,l);case 11:p=e.sent,2e4===(d=p.data).code&&(u=d.result.result.map((function(e,t){return{name:e.signatureName,id:e.signatureId,status:e.status||""}}))),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.next=21,a({type:"save",payload:{channel:s,signOptions:u}});case 21:return e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[8,16,18,22]])})),deleteTag:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.put,n.select,e.next=4,a(y,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),addTag:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[E]}));case 4:return s=e.sent,u=s.channel,l=r.name,p=r.proofImage,d=r.commissionImage,f=r.applyReason,e.prev=7,e.next=10,a(g,{name:l,channel:u,proofImage:p,commissionImage:d,applyReason:f});case 10:if(h=e.sent,2e4!==h.data.code){e.next=15;break}return e.next=15,o({type:"fetchSignatureList"});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:return e.prev=19,e.finish(19);case 21:case"end":return e.stop()}}),e,null,[[7,17,19,21]])})),fetchSignatureDetail:i().mark((function e(t,n){var r,a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[E]}));case 4:return s=e.sent,u=s.signatureId,e.prev=6,e.next=9,a(I,{signatureId:r.signatureId||u});case 9:if(l=e.sent,2e4!==(p=l.data).code){e.next=14;break}return e.next=14,o({type:"save",payload:{proofImageBase64:p.result.proofImageUrl+"?"+.05*Math.random(),commissionImageBase64:p.result.commissionImageUrl+"?"+.05*Math.random()}});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),addSignature:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[E]}));case 4:return u=e.sent,l=u.name,p=u.proofImageBase64,d=u.commissionImageBase64,f=u.applyReason,h=u.functionalUse,m=(0,r.Z)({},a,{name:l,proofImageBase64:p,commissionImageBase64:d,applyReason:f,functionalUse:h}),e.prev=11,e.next=14,o(x,m);case 14:if(v=e.sent,y=v.data,g=2e4===y.code,a.callback(g),!g){e.next=21;break}return e.next=21,c({type:"save",payload:(0,r.Z)({},y.result)});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(11);case 25:case"end":return e.stop()}}),e,null,[[11,23]])})),editSignature:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[E]}));case 4:return u=e.sent,l=u.name,p=u.proofImageBase64,d=u.commissionImageBase64,f=u.applyReason,h=u.functionalUse,m=u.signatureId,v=(0,r.Z)({},a,{name:l,proofImageBase64:p.includes("base64")?p:void 0,commissionImageBase64:d.includes("base64")?d:void 0,applyReason:f,functionalUse:h,signatureId:m}),e.prev=12,e.next=15,o(b,v);case 15:if(y=e.sent,g=y.data,x=2e4===g.code,a.callback(x),!x){e.next=22;break}return e.next=22,c({type:"save",payload:(0,r.Z)({},g.result)});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(12);case 26:case"end":return e.stop()}}),e,null,[[12,24]])})),fetchTemplateDetail:i().mark((function e(t,n){var a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,e.prev=2,e.next=5,o(T,a);case 5:if(s=e.sent,2e4!==(u=s.data).code){e.next=11;break}return u.result.smsApplyReason=u.result.applyReason,e.next=11,c({type:"save",payload:(0,r.Z)({},u.result)});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})),updateTemplate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,v,y,g,x,I,b,T,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return e[E]}));case 4:return u=e.sent,l=u.name,p=u.functionalUse,d=u.content,f=u.signatureId,h=u.signatureName,v=u.id,y=u.channel,g=u.img,x=u.smsApplyReason,I=(0,r.Z)({},a,{id:v,name:l,functionalUse:p,content:d,channel:y,img:g,signatureId:f,signatureName:h,applyReason:x}),f||(I.signatureId=""),e.prev=16,e.next=19,o(m,I);case 19:if(b=e.sent,T=b.data,w=2e4===T.code,a.callback(w),!w){e.next=26;break}return e.next=26,s({type:"save",payload:(0,r.Z)({},T.result)});case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(16);case 30:case"end":return e.stop()}}),e,null,[[16,28]])})),addTemplate:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return e[E]}));case 4:return u=e.sent,l=u.name,p=u.functionalUse,d=u.content,f=u.signatureId,m=u.signatureName,v=u.channel,y=u.img,g=u.smsApplyReason,x=(0,r.Z)({},a,{channel:v,name:l,functionalUse:p,content:d,signatureId:f,signatureName:m,img:y,applyReason:g}),f||(x.signatureId=""),e.prev=15,e.next=18,o(h,x);case 18:if(I=e.sent,b=I.data,T=2e4===b.code,a.callback(T),!T){e.next=25;break}return e.next=25,s({type:"save",payload:(0,r.Z)({},b.result)});case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(15);case 29:case"end":return e.stop()}}),e,null,[[15,27]])}))}}},42420:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});n(31822);var r=n(41764),a=n(87462),i=(n(89858),n(51024)),o=n(23279),c=n.n(o),s=n(67294),u=n(86504),l=n(41320),p=n(14189),d=n(14915),f=n(48888),h=n(39553),m=i.default.TextArea;const v=(0,l.Z)((function(e,t){var n,i,o=e.configuration.id,l=p.tM,v=[""+e.configuration.lowScoreText,""+e.configuration.midScoreText,""+e.configuration.highScoreText],y=["lowScoreText","midScoreText","highScoreText"],g=(null==(n=e.configuration.limit)?void 0:n.length)>1&&e.configuration.limit[1],x=(0,s.useState)(((i={})[d.Y.EDITED]=!1,i[d.Y.CHANGED]=!1,i[d.Y.VALIDATING]=!1,i[d.Y.INCORRECT]="",i[d.Y.VALIDATED]=!1,i)),I=x[0],b=x[1],T=(0,s.useState)(e.containerType===f.l.DESIGNER?1:e.value),E=T[0],w=T[1],k=E,C=(0,a.Z)({},I),S=c()((function(t,n){e.onConfigUpdate({id:o,key:"SCORETEXT",option:n,value:t.target.value,event:t})}),200);function N(t){void 0===t&&(t={});var n=t.force;return!(void 0!==n&&n)&&C[d.Y.VALIDATED]?Promise.resolve(C[d.Y.INCORRECT]):l.validate(k,e.configuration).then((function(t){return e.onStateChange({id:o,key:d.Y.INCORRECT,value:t}),C[d.Y.INCORRECT]=t,b(C),t})).finally((function(){e.onStateChange({id:o,key:d.Y.VALIDATING,value:!1}),e.onStateChange({id:o,key:d.Y.VALIDATED,value:!0}),C[d.Y.VALIDATING]=!1,C[d.Y.VALIDATED]=!0,b(C)}))}return e.configuration.required&&e.registerAsRef(o,{doValidate:N}),s.createElement(s.Fragment,null,s.createElement(r.Z,{onChange:function(t){k=t,w(t),e.onValueChange({id:o,value:t}),N({force:!0})},value:E,character:s.createElement(u.Z,null),count:g,disabled:e.containerType===f.l.DESIGNER}),s.createElement("div",{className:"start_desc"},v.map((function(t,n){return e.containerType===f.l.DESIGNER?s.createElement(m,{defaultValue:t,className:"no_border",onChange:function(e){return e.persist(),S(e,y[n])},autoSize:!0,tabIndex:-1,maxLength:200}):s.createElement("span",{key:n},t)}))),s.createElement(h.Z,(0,a.Z)({},e,{state:I})))}))},32980:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(87462),a=n(67294),i=n(41320),o=n(14189),c=n(19957),s=n(14915);o.A1,o.UE,o.xK;const u=(0,i.Z)((function(e){var t,n,i=e.configuration.id,o=(0,a.useState)(((t={})[s.Y.EDITED]=!1,t[s.Y.CHANGED]=!1,t[s.Y.VALIDATING]=!1,t[s.Y.INCORRECT]="",t[s.Y.VALIDATED]=!1,t)),u=o[0],l=(o[1],(0,r.Z)({},u)),p=(0,a.useState)({}),d=p[0],f=p[1],h=(0,r.Z)({},d);function m(e){e.ids,e.key,e.value,e.event}function v(t){var n,a=t.id,o=t.value;h[a]=o,f((0,r.Z)({},d,((n={})[a]=o,n))),e.onValueChange({id:i,value:h}),e.configuration.children.find((function(e){return e.id===a})).value=o}e.registerAsRef(i,{doValidate:function(t){void 0===t&&(t={});var n=t.force;if(void 0!==n&&n&&l[s.Y.VALIDATED])return Promise.resolve(l[s.Y.INCORRECT]);var r=Object.keys(y);return Promise.all(r.map((function(e){return(y[e].doValidate?y[e].doValidate():Promise.resolve([])).then((function(t){return{id:e,result:t}}))}))).then((function(t){var n=[];return t.some((function(e){return e.result.some((function(e){return!e.value&&(n.push(e),!0)}))})),e.onStateChange({id:i,key:s.Y.INCORRECT,value:n}),n}))}});var y={};function g(e,t){y[e]=t}return a.createElement(a.Fragment,null,null==(n=e.configuration.children)?void 0:n.map((function(t,n){var a=(0,r.Z)({},e,{asChild:!0,configuration:(0,r.Z)({},t),onStateChange:m,onValueChange:v,registerAsRef:g,value:t.value});return(0,c.Z)(a)})))}))},20961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);const a=(0,n(41320).Z)((function(e,t){var n=(0,r.useState)([]),a=(n[0],n[1],e.configuration);return a.id,a.type,r.createElement(r.Fragment,null)}))},41691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});n(7940);var r=n(31059),a=n(87462),i=n(67294),o=n(41320),c=n(93951),s=n(39553),u=n(14189),l=n(14915);const p=(0,o.Z)((function(e,t){var n,o,p=u.zw,d=e.configuration.id,f=(0,i.useState)(((n={})[l.Y.EDITED]=!1,n[l.Y.CHANGED]=!1,n[l.Y.VALIDATING]=!1,n[l.Y.INCORRECT]=[],n[l.Y.VALIDATED]=!1,n)),h=f[0],m=f[1],v=(0,i.useState)(null!=(o=e.value)?o:[{id:"",text:""}]),y=v[0],g=v[1],x=([].concat(y),(0,a.Z)({},h));function I(t,n){var r=y.findIndex((function(e){return e.id===n}));y[r].text=t.target.value,g([].concat(y)),e.onValueChange({id:d,value:y}),b({force:!0,value:y})}function b(t){void 0===t&&(t={});var n=t,r=n.force,i=void 0!==r&&r,o=n.validateAll,c=void 0===o||o,s=n.validations,u=n.value,f=void 0===u?[]:u;return!i&&x[l.Y.VALIDATED]?Promise.resolve(x[l.Y.INCORRECT]):p.validate(f,c?e.configuration:(0,a.Z)({},e.configuration,{validations:s})).then((function(t){return e.onStateChange({id:d,key:l.Y.INCORRECT,value:t}),x[l.Y.INCORRECT]=t,m(x),t})).finally((function(){e.onStateChange({id:d,key:l.Y.VALIDATING,value:!1}),e.onStateChange({id:d,key:l.Y.VALIDATED,value:!0}),x[l.Y.VALIDATING]=!1,x[l.Y.VALIDATED]=!0,m(x)}))}return e.registerAsRef(d,{doValidate:b}),i.createElement("div",{className:"yt-qs-innerWrapper"},i.createElement(c.Z,(0,a.Z)({},e,{Model:p,UIComponent:r.default,onValueChange:function(t){var n=t.map((function(e){var t=y.find((function(t){return t.id===e}));return{id:e,text:t?t.text:""}}));g(n),e.onValueChange({id:d,value:n}),b({force:!0,value:n})},onTextChange:function(e,t){return I(e,t)},type:"Checkbox",value:y})),i.createElement(s.Z,(0,a.Z)({},e,{state:h})))}))},44188:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(87462),a=(n(89858),n(51024)),i=n(67294),o=n(41320),c=n(23940),s=n(14189),u=n(39553),l=n(14915),p=a.default.TextArea;const d=(0,o.Z)((function(e,t){var n,a,o=e.configuration.id,d=s.ht,f=(0,i.useState)(((n={})[l.Y.EDITED]=!1,n[l.Y.CHANGED]=!1,n[l.Y.VALIDATING]=!1,n[l.Y.INCORRECT]="",n[l.Y.VALIDATED]=!1,n)),h=f[0],m=f[1],v=(0,r.Z)({},h);function y(t){void 0===t&&(t={});var n=t.force;return!(void 0!==n&&n)&&v[l.Y.VALIDATED]?Promise.resolve(v[l.Y.INCORRECT]):d.validate(a,e.configuration).then((function(t){return e.onStateChange({id:o,key:l.Y.INCORRECT,value:t}),v[l.Y.INCORRECT]=t,m(v),t})).finally((function(){e.onStateChange({id:o,key:l.Y.VALIDATING,value:!1}),e.onStateChange({id:o,key:l.Y.VALIDATED,value:!0}),v[l.Y.VALIDATING]=!1,v[l.Y.VALIDATED]=!0,m(v)}))}return e.configuration.required&&e.registerAsRef(o,{doValidate:y}),i.createElement(i.Fragment,null,i.createElement(c.Z,(0,r.Z)({},e,{Model:d,UIComponent:p,onValueChange:function(t){a=t.target.value.trim(),e.onValueChange({id:o,value:a}),y({force:!0})}})),i.createElement(u.Z,(0,r.Z)({},e,{state:h})))}))},63141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(87462),a=(n(89858),n(51024)),i=n(23279),o=n.n(i),c=n(67294),s=n(41320),u=n(39553),l=n(14189),p=n(14915),d=n(48888),f=a.default.TextArea;const h=(0,s.Z)((function(e,t){var n,a=l.cQ,i=e.configuration.id,s=[e.configuration.limit[0]+":"+e.configuration.lowScoreText,e.configuration.limit[1]+":"+e.configuration.highScoreText],h=["lowScoreText","highScoreText"],m=e.configuration.limit[1]+1,v=(0,c.useState)(((n={})[p.Y.EDITED]=!1,n[p.Y.CHANGED]=!1,n[p.Y.VALIDATING]=!1,n[p.Y.INCORRECT]="",n[p.Y.VALIDATED]=!1,n)),y=v[0],g=v[1],x=(0,c.useState)(e.containerType===d.l.DESIGNER?0:e.value),I=x[0],b=x[1],T=I,E=(0,r.Z)({},y),w=o()((function(t,n){e.onConfigUpdate({id:i,key:"SCORETEXT",option:n,value:t.target.value,event:t})}),200);function k(t){void 0===t&&(t={});var n=t.force;return!(void 0!==n&&n)&&E[p.Y.VALIDATED]?Promise.resolve(E[p.Y.INCORRECT]):a.validate(T,e.configuration).then((function(t){return e.onStateChange({id:i,key:p.Y.INCORRECT,value:t}),E[p.Y.INCORRECT]=t,g(E),t})).finally((function(){e.onStateChange({id:i,key:p.Y.VALIDATING,value:!1}),e.onStateChange({id:i,key:p.Y.VALIDATED,value:!0}),E[p.Y.VALIDATING]=!1,E[p.Y.VALIDATED]=!0,g(E)}))}return e.registerAsRef(i,{doValidate:k}),c.createElement("div",null,c.createElement("div",{className:"yt-qs-innerWrapper"},c.createElement("div",{className:"score"},e.containerType===d.l.DESIGNER?c.createElement("ul",{className:"clearfix"},new Array(m).fill(0).map((function(e,t){return c.createElement("li",{className:I===t?"sel":"",key:t},c.createElement("span",null,t))}))):c.createElement("ul",{className:"clearfix"},new Array(m).fill(0).map((function(t,n){return c.createElement("li",{className:I===n?"sel":"",key:n,onClick:function(){var t;T=t=n,b(t),e.onValueChange({id:i,value:t}),k({force:!0})}},c.createElement("span",null,n))}))),c.createElement("div",{className:"score_desc"},s.map((function(t,n){return e.containerType===d.l.DESIGNER?c.createElement("div",{className:"score_desc_number"},c.createElement("span",null,e.configuration.limit[n],":"),c.createElement(f,{defaultValue:e.configuration[h[n]],className:"no_border",onChange:function(e){return e.persist(),w(e,h[n])},autoSize:!0,tabIndex:-1,maxLength:200})):c.createElement("span",{key:n},t)})))),c.createElement(u.Z,(0,r.Z)({},e,{state:y}))))}))},52219:(e,t,n)=>{"use strict";n.d(t,{T:()=>y,Z:()=>g});var r=n(87462),a=(n(96606),n(36155)),i=(n(31822),n(41764)),o=(n(89858),n(51024)),c=n(23279),s=n.n(c),u=n(67294),l=n(41320),p=n(14189),d=n(14915),f=n(48888),h=n(39553),m=n(21314),v=o.default.TextArea,y=function(e){var t=e.parentData,n=t.containerType,r=t.limit,o=t.showStyle,c=t.scoreRangeArr,s=t.selectedStyle,l=t.style,p=t.value,d=t.onValueChange,h=Math.ceil((r[0]+r[1])/2),m=(0,u.useState)(!!p),v=m[0],y=m[1],g=(0,u.useState)(p||void 0),x=g[0],I=g[1],b=function(e){I(e),y(!0),d(e)};return"Slider"!==o?"STAR"===s?u.createElement(i.Z,{style:l,onChange:b,defaultValue:n===f.l.DESIGNER?1:p,count:c.length,disabled:n===f.l.DESIGNER}):u.createElement("div",{className:"yt-circle-scale"},c.map((function(e,t){return u.createElement("span",{className:"score_point "+(e===x?"active":""),key:t,onClick:function(){return n!==f.l.DESIGNER&&b(e)}},e)}))):u.createElement("div",{className:"yt-slider-scale"},u.createElement("span",{className:"number"},r[0]),u.createElement(a.Z,{className:v?"active":"",onChange:b,defaultValue:p||h,key:h,min:r[0],max:r[1],disabled:n===f.l.DESIGNER}),u.createElement("span",{className:"number"},r[1]))};const g=(0,l.Z)((function(e,t){var n,a=e.configuration.id,i=p.T6,o=[""+e.configuration.lowScoreText,""+e.configuration.midScoreText,""+e.configuration.highScoreText],c=["lowScoreText","midScoreText","highScoreText"],l=e.configuration,g=l.limit,x=l.selectedStyle,I=(0,u.useState)(((n={})[d.Y.EDITED]=!1,n[d.Y.CHANGED]=!1,n[d.Y.VALIDATING]=!1,n[d.Y.INCORRECT]="",n[d.Y.VALIDATED]=!1,n)),b=I[0],T=I[1],E=(0,u.useState)(e.containerType!==f.l.DESIGNER&&e.value),w=E[0],k=E[1],C=(0,m.SS)(g,x),S=(0,m.qB)(x,C),N=w,O=(0,r.Z)({},b),_=s()((function(t,n){e.onConfigUpdate({id:a,key:"SCORETEXT",option:n,value:t.target.value,event:t})}),200);function j(t){void 0===t&&(t={});var n=t.force;return!(void 0!==n&&n)&&O[d.Y.VALIDATED]?Promise.resolve(O[d.Y.INCORRECT]):i.validate(N,e.configuration).then((function(t){return e.onStateChange({id:a,key:d.Y.INCORRECT,value:t}),O[d.Y.INCORRECT]=t,T(O),t})).finally((function(){e.onStateChange({id:a,key:d.Y.VALIDATING,value:!1}),e.onStateChange({id:a,key:d.Y.VALIDATED,value:!0}),O[d.Y.VALIDATING]=!1,O[d.Y.VALIDATED]=!0,T(O)}))}return e.configuration.required&&e.registerAsRef(a,{doValidate:j}),u.createElement(u.Fragment,null,u.createElement("div",{className:"yt-qs-scale "+("phone"===e.deviceType&&"mobilePhone")},u.createElement(y,{parentData:{containerType:e.containerType,limit:g,showStyle:S,scoreRangeArr:C,selectedStyle:x,value:N,onValueChange:function(t){k(t),e.onValueChange({id:a,value:t}),N=t,j({force:!0})}}}),u.createElement("div",{className:"start_desc "+("Slider"===S?"slider":"")},o.map((function(t,n){return e.containerType===f.l.DESIGNER?u.createElement(v,{key:n,defaultValue:t,className:"no_border",onBlur:function(e){e.persist(),_(e,c[n])},autoSize:!0,tabIndex:-1,maxLength:100}):u.createElement("span",{key:n},t)}))),u.createElement(h.Z,(0,r.Z)({},e,{state:b}))))}))},36470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});n(15267);var r=n(64713),a=n(87462),i=n(67294),o=n(41320),c=n(93951),s=n(39553),u=n(14189),l=n(14915),p={SINGLE_SELECTION:u.Hi,GENDER:u.y7};const d=(0,o.Z)((function(e,t){var n,o,u,d=p[e.configuration.type],f=e.configuration.id,h=(0,i.useState)(((n={})[l.Y.EDITED]=!1,n[l.Y.CHANGED]=!1,n[l.Y.VALIDATING]=!1,n[l.Y.INCORRECT]=[],n[l.Y.VALIDATED]=!1,n)),m=h[0],v=h[1],y="SINGLE_SELECTION"===e.configuration.type?(null==e||null==(o=e.value)?void 0:o.id)||"":(null==e?void 0:e.value)||"",g=(0,i.useState)(y),x=g[0],I=g[1],b=(0,i.useState)((null==e||null==(u=e.value)?void 0:u.text)||""),T=b[0],E=b[1],w=x,k=(0,a.Z)({},m);function C(t){void 0===t&&(t={});var n,r=t,i=r.force,o=void 0!==i&&i,c=r.validateAll,s=void 0===c||c,u=(r.value,r.validations);return!o&&k[l.Y.VALIDATED]?Promise.resolve(k[l.Y.INCORRECT]):(n="SINGLE_SELECTION"===e.configuration.type?{id:w,text:T}:w?[w]:[],d.validate(n,s?e.configuration:(0,a.Z)({},e.configuration,{validations:u})).then((function(t){return e.onStateChange({id:f,key:l.Y.INCORRECT,value:t}),k[l.Y.INCORRECT]=t,v(k),t})).finally((function(){e.onStateChange({id:f,key:l.Y.VALIDATING,value:!1}),e.onStateChange({id:f,key:l.Y.VALIDATED,value:!0}),k[l.Y.VALIDATING]=!1,k[l.Y.VALIDATED]=!0,v(k)})))}return e.registerAsRef(f,{doValidate:C}),i.createElement("div",{className:"yt-qs-innerWrapper"},i.createElement(c.Z,(0,a.Z)({},e,{Model:d,UIComponent:r.default,onValueChange:function(t){return function(t){w=t.target.value,I(w);var n=w;"SINGLE_SELECTION"===e.configuration.type&&(E(""),n={id:w,text:""}),e.onValueChange({id:f,value:n}),C({force:!0,value:n})}(t)},onTextChange:function(t){return function(t){E(t.target.value),e.onValueChange({id:f,value:{id:w,text:t.target.value}}),C({force:!0,value:{id:w,text:t.target.value}})}(t)},value:x,textValue:T,type:"Radio"})),i.createElement(s.Z,(0,a.Z)({},e,{state:m})))}))},19957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});n(89858);var r=n(51024),a=n(87462),i=n(67294),o=n(41320),c=n(23940),s=n(14189),u=n(39553),l=n(14915),p={SINGLELINE_TEXT:s.Io,NAME:s.A1,PHONE_NUMBER:s.UE,EMAIL:s.xK};const d=(0,o.Z)((function(e){e.asChild;var t,n,o=e.configuration,s=o.id,d=o.type,f=p[d],h=(0,i.useState)(((t={})[l.Y.EDITED]=!1,t[l.Y.CHANGED]=!1,t[l.Y.VALIDATING]=!1,t[l.Y.INCORRECT]="",t[l.Y.VALIDATED]=!1,t)),m=h[0],v=h[1],y=(0,a.Z)({},m);function g(t){void 0===t&&(t={});var r=t.force;return!(void 0!==r&&r)&&y[l.Y.VALIDATED]?Promise.resolve(y[l.Y.INCORRECT]):f.validate(n,e.configuration).then((function(t){return e.onStateChange({id:s,key:l.Y.INCORRECT,value:t}),y[l.Y.INCORRECT]=t,v(y),t})).finally((function(){e.onStateChange({id:s,key:l.Y.VALIDATING,value:!1}),e.onStateChange({id:s,key:l.Y.VALIDATED,value:!0}),y[l.Y.VALIDATING]=!1,y[l.Y.VALIDATED]=!0,v(y)}))}return e.registerAsRef(s,{doValidate:g}),i.createElement("div",{className:"yt-qs-innerWrapper"},i.createElement(c.Z,(0,a.Z)({},e,{Model:f,UIComponent:r.default,onValueChange:function(t){n=t.target.value.trim(),e.onValueChange({id:s,value:t.target.value}),g({force:!0})}})),i.createElement(u.Z,(0,a.Z)({},e,{state:m})))}))},67705:(e,t,n)=>{"use strict";n.d(t,{t:()=>p,Z:()=>d});n(62713);var r=n(14321),a=n(67294),i=n(48888),o=n(54527),c=n.n(o),s=n(30381),u=n.n(s),l="YYYY/MM/DD";function p(e){var t=e.answer,n=e.highLightWordList,r=e.harmonyEvent;return a.createElement("div",{className:"yt-qs-message-date"},a.createElement("span",{dangerouslySetInnerHTML:{__html:r(t||"",n)}}))}function d(e){return e.containerType===i.l.DESIGNER?function(e){var t=e.configuration,n=e.Model,r=e.UIComponent;return a.createElement("div",{className:"yt-qs-text yt-qs-date"},a.createElement(r,{placeholder:(null==t?void 0:t.placeholder)||(null==n?void 0:n.placeholder),readonly:"readonly"}),a.createElement("i",{className:"iconfont icon-riqi"}),a.createElement("i",{className:"iconfont icon-cem_pull-down-or-take-up"}))}(e):function(e){var t=e.configuration,n=e.value,i=e.Model,o=e.UIComponent,s=e.deviceType,p=(0,a.useState)(n||null),d=p[0],f=p[1],h=(0,a.useState)(!1),m=h[0],v=h[1];function y(t){var n=t?u()(t).format(l):t;f(n),e.onValueChange(n)}var g=d?new Date(d):new Date,x=d?u()(d):d;return a.createElement("div",{className:"yt-qs-text yt-qs-date"},a.createElement(o,{placeholder:(null==t?void 0:t.placeholder)||(null==i?void 0:i.placeholder),readonly:"readonly",prefix:a.createElement("i",{className:"iconfont icon-riqi"}),suffix:a.createElement("i",{className:"iconfont icon-cem_pull-down-or-take-up"}),onClick:function(){return v(!m)},value:d,style:{width:280}}),"pc"===s?a.createElement(r.default,{onChange:function(e){return y(e)},value:x,placeholder:(null==t?void 0:t.placeholder)||(null==i?void 0:i.placeholder),format:l,style:{width:280,left:20,position:"absolute",opacity:0}}):a.createElement(c(),{value:g,isOpen:m,theme:"ios",onSelect:function(e){y(e),v(!1)},onCancel:function(e){return v(!1)}}))}(e)}},47752:(e,t,n)=>{"use strict";n.d(t,{t:()=>f,Z:()=>h});n(89858);var r=n(51024),a=n(23279),i=n.n(a),o=n(67294),c=n(48888),s=n(51474),u=n(1977),l=n(59465),p=r.default.TextArea;function d(e){var t,n=e.configuration,r=e.onConfigUpdate,a=e.isDispatched,c=e.Model,d=e.type,f=null!=(t=n.options)?t:c.options,h=n.id,m="qs-"+h+"-list",v=i()((function(e,t){r({id:h,key:"LABEL",idx:t,value:e.target.value,event:e})}),200);function y(e){r({id:h,key:"SLT_OP_APPEND"})}return(0,o.useEffect)((function(){!a&&s.default.create(document.querySelector("#"+m),{group:m,animation:150,handle:".option-handler",fallbackOnBody:!0,invertSwap:!0,delay:5,onEnd:function(e){var t=e.newIndex,n=e.oldIndex;t!==n&&r&&r({id:h,key:"SLT_OP_SORTING",value:{newIndex:t,oldIndex:n}})}})}),[a]),o.createElement("div",{className:"yt-qs-options"},o.createElement("ul",{id:m,className:"option-list"},f.map((function(e,t){return o.createElement("li",{key:e.value},!a&&o.createElement("i",{className:"icon-cem_move option-handler"}),o.createElement("span",{className:"Checkbox"===d?"ant-checkbox-inner":"ant-radio-inner "}),o.createElement(p,{defaultValue:e.label,onChange:function(e){return e.persist(),v(e,t)},placeholder:n.placeholder,autoSize:!0,tabIndex:-1,maxLength:200}),!a&&o.createElement(o.Fragment,null,o.createElement(u.Z,{className:"ops-icon",onClick:y}),o.createElement(l.Z,{className:"ops-icon",onClick:function(e){return function(e){r({id:h,key:"SLT_OP_REMOVE",value:e})}(t)}})))}))),!a&&o.createElement("span",{onClick:y,className:"addPlus"},"+\u5355\u589e"))}function f(e){var t=e.answerd,n=e.opinion,r=e.sortChooses;return o.createElement("div",{className:"yt-qs-message-sort"},o.createElement("ul",{className:"option-list"},(t?r:n).map((function(e,n){return o.createElement("li",{key:e.value},o.createElement("i",{className:"left_icon "+(t?"active":"")},n+1),o.createElement("span",{className:"text"},t?e.label:e))}))))}function h(e){return e.containerType===c.l.DESIGNER?d(e):function(e){var t,n=e.configuration,r=e.value,a=e.Model,i=e.onValueChange,c=null!=(t=n.options)?t:a.options,u="qs-"+n.id+"-list",l=(0,o.useState)(!!r),p=l[0],d=l[1];return(0,o.useEffect)((function(){s.default.create(document.querySelector("#"+u),{group:u,animation:150,handle:".option-handler",fallbackOnBody:!0,invertSwap:!0,dragClass:"drag-item-sort",delay:5,onEnd:function(e){var t=e.newIndex,n=e.oldIndex;if(t!==n){var r=c[n];c.splice(n,1),c.splice(t,0,r),d(!0),i(c)}}})})),o.createElement("div",{className:"yt-qs-options "},o.createElement("ul",{id:u,className:"option-list"},c.map((function(e,t){return o.createElement("li",{key:e.value},o.createElement("i",{className:"left_icon "+(p?"active":""),onClick:function(){d(!0),i(c)}},t+1),o.createElement("span",{className:"text"},e.label),o.createElement("i",{className:" right_icon icon-cem_move option-handler"}))}))))}(e)}},2933:(e,t,n)=>{"use strict";n.d(t,{t:()=>I,Z:()=>b});n(54277);var r=n(74048),a=n(87462),i=(n(31822),n(41764)),o=(n(7940),n(31059)),c=(n(15267),n(64713)),s=n(67294),u=n(48888),l=(n(15144),n(2307)),p=(n(89858),n(51024)),d=n(87219),f=p.default.TextArea;const h=function(e){var t=e.questionData,n=e.cellType,r=e.cellRender,a=e.columnEditDisabled,u=void 0!==a&&a,p=e.rowEditDisabled,h=void 0!==p&&p,m=e.cellDisabled,v=void 0!==m&&m,y=e.onTableChange,g=e.onTitleChange,x=[{title:function(){return s.createElement("div",{className:"oblique_angle"})},dataIndex:"title",key:"title",fixed:"left",align:"center",width:180,editable:!0,render:function(e,t){return h?s.createElement("span",null,e):S(e,t,"row")}}],I=(0,s.useState)(x),b=I[0],T=I[1],E=(0,s.useState)([]),w=E[0],k=E[1],C=function(e,n,r,a){if("Radio"===n){var i=(0,d.ZP)(t,(function(t){var n=t.find((function(e){return e.id===a.id}));return n&&n.colItems.map((function(t){return t.value=t.title===r?e:t.value&&!1,t})),t}));y&&y(i)}if("Checkbox"===n){var o=(0,d.ZP)(t,(function(t){var n=t.find((function(e){return e.id===a.id})),i=null==n?void 0:n.colItems.find((function(e){return e.title===r}));return i&&(i.value=e),t}));y&&y(o)}if("Star"===n){var c=(0,d.ZP)(t,(function(t){var n=t.find((function(e){return e.id===a.id})),i=(null==n?void 0:n.colItems)||[],o=i.findIndex((function(e){return e.title===r}));return i.forEach((function(t,n){t.value=e?n<=o:n<o})),t}));y&&y(c)}},S=function(e,t,n){return s.createElement("div",{className:"header_title"},s.createElement(f,{bordered:!1,defaultValue:e,className:"edit_input",onBlur:function(e){return function(e,t,n){var r=e.target.value;if(r===n.title)return!0;g&&g({inputValue:r||n.title,type:t,row:n})}(e,n,t)},autoSize:!0,maxLength:200}))};return(0,s.useEffect)((function(){var e=[],a=[];t.map((function(t,l){var p={id:t.id,title:t.title,number:t.number};return t.colItems.map((function(t){return 0===l&&e.push(function(e){var t=n||"customer",a=e.title,l=(e.value,e.id);return{title:u?s.createElement("span",{className:"preview_table_cell"},a):S(a,e,"column"),dataIndex:a,key:l,align:"center",width:["Star","Circle"].includes(t)?74:160,render:function(e,n){return!e&&v?null:"Radio"===t?s.createElement(c.default.Group,{onChange:function(e){return C(e.target.checked,"Radio",a,n)},value:e},s.createElement(c.default,{value:!0})):"Checkbox"===t?s.createElement(o.default,{checked:e,onChange:function(e){return C(e.target.checked,"Checkbox",a,n)}}):"Star"===t?s.createElement(i.Z,{value:+e,count:1,className:"matrx-rate",onChange:function(e){return C(!!e,"Star",a,n)}}):"Circle"===t?s.createElement("div",{style:{display:"inline-block"},onClick:function(){return!v&&C(!e,"Star",a,n)}},s.createElement(c.default.Group,{value:e},s.createElement(c.default,{value:!0}))):"customer"===t?r:e}}}(t)),p[t.title]=t.value,t})),a.push(p),t})),T([].concat(x,e)),k(a)}),[t,r,n]),s.createElement(l.Z,{className:"scale_table",columns:b,dataSource:w,scroll:{x:!0},pagination:!1,rowClassName:"editable-row",bordered:!0,rowKey:"id"})};var m,v=n(52219),y=n(21314);!function(e){e.MATRIX_SINGLE_CHOICE="Radio",e.MATRIX_MULTIPLE_CHOICE="Checkbox",e.MATRIX_SCALE="Rate",e.STAR="Star",e.CIRCLE="Circle"}(m||(m={}));var g={MATRIX_SINGLE_CHOICE:c.default,MATRIX_MULTIPLE_CHOICE:o.default,MATRIX_SCALE:i.Z};function x(e){var t=e.configuration,n=e.deviceType,i=t.row,o=t.column,c=t.type,l=t.selectedStyle,p=t.limit,f=i.map((function(e){return(0,a.Z)({},e,{colItems:o})})),x=(0,s.useState)(e.value||f),I=x[0],b=x[1];function T(t){b(t),e.onValueChange(t)}var E,w=function(e,t){T((0,d.ZP)(I,(function(n){var r=n.find((function(e){return e.id===t}));return null==r||r.colItems.forEach((function(t,n){return t.value=n<=e-1,t})),n})))},k=s.createElement("div",{className:"yt-qs-matrx-mobile"},l?function(){var e=(0,y.SS)(p,l),t=(0,y.qB)(l,e),n=e.length<10?{width:30*e.length}:{};return f.map((function(r,a){var i=I[a].colItems.findIndex((function(e){return!e.value}))>-1?I[a].colItems.findIndex((function(e){return!e.value}))-1+p[0]:I[a].colItems.length-1+p[0];return s.createElement("div",{className:"question-item",key:r.id},s.createElement("h3",null,r.title),s.createElement(v.T,{parentData:{containerType:u.l.RUNTIME,limit:p,showStyle:t,scoreRangeArr:e,selectedStyle:l,currentDefault:0,value:i,style:n,onValueChange:function(e){return w(e,r.id)}}}))}))}():(E=g[c],f.map((function(e,t){var n=I[t].colItems.filter((function(e){return e.value})),a="MATRIX_SINGLE_CHOICE"===c?n.map((function(e){return e.id})).join(""):n.map((function(e){return e.id}));return s.createElement("div",{className:"question-item",key:e.id},s.createElement("h3",null,e.title),s.createElement(E.Group,{value:a,onChange:function(t){return function(e,t){var n=[];n=e instanceof Array?e:[e.target.value],T((0,d.ZP)(I,(function(e){var r=e.find((function(e){return e.id===t}));return null==r||r.colItems.forEach((function(e){return e.value=n.includes(e.id),e})),e})))}(t,e.id)}},s.createElement(r.default,{direction:"vertical"},e.colItems.map((function(e){return s.createElement(E,{value:e.id,key:e.id},e.title)})))))})))),C=s.createElement("div",{className:"yt-qs-matrx"},s.createElement(h,{questionData:I,onTableChange:function(e){return T(e)},cellType:m[l||c],rowEditDisabled:!0,columnEditDisabled:!0}));return"pc"===n?C:k}function I(e){var t=e.matrixQuestions,n=e.matrixAnswers,r=e.type,a=e.style,i=e.limit,o=t.map((function(e){var t=n.find((function(t){return t.id===e.id}));return e.colItems.map((function(e,n){return e.value=a?"STAR"===a?i[0]+n<=t.score:i[0]+n===t.score:!!t&&t.choosed.includes(e.title),e})),e}));return s.createElement("div",{className:"yt-qs-matrx"},s.createElement(h,{questionData:o,cellType:m[a||r],rowEditDisabled:!0,columnEditDisabled:!0,cellDisabled:!0}))}function b(e){return e.containerType===u.l.DESIGNER?function(e){var t=e.configuration,n=e.onConfigUpdate,r=e.Model,o=t.id,c=t.type,u=t.selectedStyle,l=t.column,p=t.row,d=p.map((function(e){return(0,a.Z)({},e,{colItems:l})}));return(0,s.useEffect)((function(){n({key:r.type,value:d,id:o,chart:"options"})}),[l,p]),s.createElement("div",{className:"yt-qs-matrx"},s.createElement(h,{questionData:d,onTitleChange:function(e){return n({key:r.type,value:e,id:o,chart:"title"})},cellRender:u?"STAR"===u?s.createElement(i.Z,{defaultValue:0,disabled:!0,count:1,className:"matrx-rate"}):s.createElement("span",{className:"ant-radio-inner ",style:{display:"inline-block"}}):s.createElement("span",{className:"Checkbox"===m[c]?"ant-checkbox-inner":"ant-radio-inner ",style:{display:"inline-block"}}),columnEditDisabled:u}))}(e):x(e)}},29276:(e,t,n)=>{"use strict";n.d(t,{t:()=>h,Z:()=>m});n(35797);var r=n(64749),a=(n(89858),n(51024)),i=n(23279),o=n.n(i),c=n(67294),s=n(48888),u=n(51474),l=n(1977),p=n(59465),d=a.default.TextArea;function f(e){var t,n=e.configuration,a=e.onConfigUpdate,i=e.isDispatched,s=e.Model,f=e.UIComponent,h=e.type,m=(e.value,null!=(t=n.options)?t:s.options),v=n.id,y=n.optionType,g=f.Option,x="qs-"+v+"-list",I="block"===("DEFAULT"===y?"block":"none")?"none":"block",b=o()((function(e,t){a({id:v,key:"LABEL",idx:t,value:e.target.value,event:e})}),200);function T(){a({id:v,key:"SLT_OP_APPEND"})}return(0,c.useEffect)((function(){var e=document.querySelector("#"+x);!i&&e&&u.default.create(e,{group:x,animation:150,handle:".option-handler",fallbackOnBody:!0,invertSwap:!0,delay:5,onEnd:function(e){var t=e.newIndex,n=e.oldIndex;t!==n&&a&&a({id:v,key:"SLT_OP_SORTING",value:{newIndex:t,oldIndex:n}})}})}),[i,y]),c.createElement("div",{className:"yt-qs-options"},"DEFAULT"===y?c.createElement("div",null,c.createElement("ul",{id:x,className:"option-list"},m.map((function(e,t){return c.createElement("li",{key:e.value},!i&&c.createElement("i",{className:"icon-cem_move option-handler"}),c.createElement("span",{className:"Checkbox"===h?"ant-checkbox-inner":"ant-radio-inner "}),c.createElement(d,{defaultValue:e.label,onChange:function(e){return e.persist(),b(e,t)},placeholder:n.placeholder,autoSize:!0,tabIndex:-1,maxLength:200}),!i&&c.createElement(c.Fragment,null,c.createElement(l.Z,{className:"ops-icon",onClick:T}),c.createElement(p.Z,{className:"ops-icon",onClick:function(e){return function(e){a({id:v,key:"SLT_OP_REMOVE",value:e})}(t)}})))}))),!i&&c.createElement("span",{onClick:T,className:"addPlus"},"+\u5355\u589e")):c.createElement(r.default,{className:"selec",value:n.defaultOption,key:v,showSearch:!0,style:{display:I},optionFilterProp:"children",onChange:function(t){a({key:"SINGLE_PULL_DOWN",value:t,id:v}),e.onValueChange(t)},onSearch:function(e){},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},m.map((function(e,t){return c.createElement(g,{key:e.label,value:e.label},e.label)}))))}function h(e){return c.createElement("div",{className:"yt-qs-message-selection"},c.createElement("div",{className:"text-area"},e.choosed))}function m(e){return e.containerType===s.l.DESIGNER?f(e):function(e){var t,n=e.configuration,a=e.value,i=(e.onConfigUpdate,e.Model),o=e.UIComponent.Option,s=(null!=(t=n.options)?t:i.options).map((function(e){return e.label}));function u(t){e.onValueChange(t)}return n.optionType,n.id,(0,c.useEffect)((function(){""!==n.defaultOption&&u(n.defaultOption)}),[]),c.createElement("div",{className:"yt-qs-options"},c.createElement(r.default,{className:"selec",defaultValue:n.defaultOption,value:a,showSearch:!0,optionFilterProp:"children",onChange:u,onSearch:function(e){},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},s.map((function(e){return c.createElement(o,{key:e,value:e},e)}))))}(e)}},93951:(e,t,n)=>{"use strict";n.d(t,{t:()=>v,Z:()=>y});n(7940);var r=n(31059),a=(n(15267),n(64713)),i=(n(89858),n(51024)),o=n(23279),c=n.n(o),s=n(67294),u=n(48888),l=n(51474),p=n(1977),d=n(59465),f=n(3820),h=i.default.TextArea;function m(e){var t,n=e.configuration,r=e.onConfigUpdate,a=e.isDispatched,i=e.Model,o=(e.UIComponent,e.type),u=null!=(t=n.options)?t:i.options,f=n.id,m="qs-"+f+"-list",v=c()((function(e,t){r({id:f,key:"LABEL",idx:t,value:e.target.value,event:e})}),200);function y(e){r({id:f,key:"SLT_OP_APPEND"})}return(0,s.useEffect)((function(){!a&&l.default.create(document.querySelector("#"+m),{group:m,animation:150,handle:".option-handler",fallbackOnBody:!0,invertSwap:!0,delay:5,onEnd:function(e){var t=e.newIndex,n=e.oldIndex;t!==n&&r&&r({id:f,key:"SLT_OP_SORTING",value:{newIndex:t,oldIndex:n}})}})}),[a]),s.createElement("div",{className:"yt-qs-options"},s.createElement("ul",{id:m,className:"option-list"},u.map((function(e,t){return s.createElement("li",{key:e.value},!a&&s.createElement("i",{className:"icon-cem_move option-handler"}),s.createElement("span",{className:"Checkbox"===o?"ant-checkbox-inner":"ant-radio-inner "}),s.createElement(h,{defaultValue:e.label,onChange:function(e){return e.persist(),v(e,t)},placeholder:n.placeholder,autoSize:!0,tabIndex:-1,maxLength:200}),!a&&s.createElement(s.Fragment,null,s.createElement(p.Z,{className:"ops-icon",onClick:y}),s.createElement(d.Z,{className:"ops-icon",onClick:function(e){return function(e){r({id:f,key:"SLT_OP_REMOVE",value:e})}(t)}})),n.explainVisible&&t===u.length-1&&s.createElement("div",{className:"text-input"},s.createElement("input",{type:"text",disabled:!0})))}))),!a&&s.createElement("span",{onClick:y,className:"addPlus"},"+\u5355\u589e"))}function v(e){var t,n,i,o,c=((t={})[f.C2.SINGLE_CHOICE]=e.choosed?e.choosed.toString():"",t[f.C2.MULTIPLE_CHOICE]=e.selected&&e.selected.map((function(e){return e.id}))||(e.choosed?e.choosed.toString():""),t),u=((n={})[f.C2.SINGLE_CHOICE]=function(t){return e.answer&&t===c[f.C2.SINGLE_CHOICE]&&s.createElement("div",{className:"text-input"},e.answer)},n[f.C2.MULTIPLE_CHOICE]=function(t){var n=t.value,r=e.selected&&e.selected.find((function(e){return e.id===n}));return r&&r.text&&s.createElement("div",{className:"text-input"},r.text)},n),l=(i={},i[f.C2.SINGLE_CHOICE]=a.default,i[f.C2.MULTIPLE_CHOICE]=r.default,i)[e.type],p=((o={})[f.C2.SINGLE_CHOICE]=e.opinion,o[f.C2.MULTIPLE_CHOICE]=e.multiOptions||e.opinion,o);return s.createElement("div",{className:"yt-qs-message-selection"},s.createElement(l.Group,{value:c[e.type]},p[e.type]&&p[e.type].map((function(t,n){return s.createElement("li",{key:n},s.createElement(l,{value:f.C2.SINGLE_CHOICE===e.type?t:t.value||t,key:n,disabled:!0},f.C2.SINGLE_CHOICE===e.type?t:t.label||t),u[e.type](t))}))))}function y(e){return e.containerType===u.l.DESIGNER?m(e):function(e){var t,n=e.configuration,r=e.value,a=e.textValue,i=e.Model,o=e.UIComponent,c=null!=(t=n.options)?t:i.options;return s.createElement("div",{className:"yt-qs-options single-selection"},n.type===f.C2.MULTI_SELECTION?s.createElement(o.Group,{onChange:e.onValueChange,value:r.map((function(e){return e.id}))},s.createElement("ul",null,c.map((function(t){return s.createElement("li",{key:t.value},s.createElement(o,{value:t.value},t.label),n.explainVisible&&n.value&&n.hasTextList&&n.hasTextList.includes(t.value)&&n.value.some((function(e){return e.id===t.value}))&&s.createElement("div",{className:"text-input"},s.createElement(h,{placeholder:n.placeholder,onChange:function(n){e.onTextChange(n,t.value)},defaultValue:r.find((function(e){return e.id===t.value})).text,autoSize:!0})))})))):s.createElement(o.Group,{onChange:e.onValueChange,value:r},s.createElement("ul",null,c.map((function(t){return s.createElement("li",{key:t.value},s.createElement(o,{value:t.value},t.label),n.explainVisible&&n.value&&n.hasTextList&&n.hasTextList.includes(t.value)&&n.value.id===t.value&&s.createElement("div",{className:"text-input"},s.createElement(h,{placeholder:n.placeholder,onChange:e.onTextChange,defaultValue:a,autoSize:!0})))})))))}(e)}},39553:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>ViewStateBar});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(87462),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67294),_type__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14915),react_intl__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12106),react_intl__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(29558),_lang_locales_zh_cn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20467),_lang_locales_en_us__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91212),LangMessages={};function ErrorBar(props){var _SortErrorsOrder$0$i,_SortErrorsOrder$,errors=props.state[_type__WEBPACK_IMPORTED_MODULE_1__.Y.INCORRECT],configuration=props.configuration,MatrxRequired=props.MatrxRequired,SortErrorsOrder=Array.isArray(errors)&&errors.length&&errors.map((function(e){return"Required"===e.key?e.index=0:"Valid"===e.key?e.index=1:"Limit"===e.key&&(e.index=2),e})).sort((function(e,t){return e.index-t.index})),values={};return(null!=(_SortErrorsOrder$0$i=null==(_SortErrorsOrder$=SortErrorsOrder[0])?void 0:_SortErrorsOrder$.i18nVars)?_SortErrorsOrder$0$i:[]).forEach((function(vr){var key=vr.key,value=vr.value;values[key]=function(){return eval(value)}.call((0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4__.Z)({},configuration,{MatrxRequired:MatrxRequired}))})),Array.isArray(errors)&&errors.length?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"yt-qs-errorBar",style:{color:"red"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_intl__WEBPACK_IMPORTED_MODULE_5__.Z,{id:SortErrorsOrder[0].key,values:values})):null}function ViewStateBar(e){var t=e.lang,n=void 0===t?"zh":t;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_intl__WEBPACK_IMPORTED_MODULE_6__.Z,{locale:n,messages:LangMessages[n]},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"yt-qs-stateBar"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ErrorBar,e)))}LangMessages.zh=_lang_locales_zh_cn__WEBPACK_IMPORTED_MODULE_2__.Z,LangMessages.en=_lang_locales_en_us__WEBPACK_IMPORTED_MODULE_3__.Z},23940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});n(77785);var r,a=n(59361),i=n(67294),o=n(48888),c=n(54684);function s(e){var t=e.configuration,n=e.Model,c=e.UIComponent,s=e.deviceType,u=t.phrase,l=t.showTags,p=t.phraseRandom,d=t.phraseShowNum,f=t.phraseVisible,h=t.type,m=(0,i.useState)([]),v=m[0],y=m[1],g=(0,i.useState)(e.containerType===o.l.DESIGNER?0:e.value),x=g[0],I=g[1],b=l?Object.keys(l):u?Object.keys(u):[];function T(){y(function(e,t){return e.sort((function(){return Math.random()>.5?-1:1})).slice(0,t)}(b,d))}return(0,i.useEffect)((function(){p?T():y(b.slice(0,d))}),[l]),i.createElement("div",{className:"yt-qs-text"},r[h]&&f&&i.createElement("div",{className:"pc"===s?"phrase-tag":"phrase-tag phrase-mobile-tag"},i.createElement("div",{className:"phrase-tag-box"},v.length>0&&v.map((function(t){return i.createElement(a.default,{key:t,onClick:function(){return function(t){var n=x?x+","+t:t;e.onValueChange({target:{value:n}}),I(n)}(u[t])}},u[t])}))),b.length>d&&i.createElement("span",{className:"pc"===s?"phrase-handle":"phrase-mobile-handle",onClick:function(){return T()}},"\u6362\u4e00\u6279")),i.createElement(c,{onChange:function(t){I(t.target.value),e.onValueChange(t)},value:x,onBlur:function(t){I(t.target.value.trim()),e.onValueChange(t)},placeholder:(null==t?void 0:t.placeholder)||(null==n?void 0:n.placeholder)}))}!function(e){e.NPS_REASON="NPS_REASON",e.CSAT_REASON="CSAT_REASON",e.SINGLELINE_TEXT="SINGLELINE_TEXT",e.MULTILINE_TEXT="MULTILINE_TEXT"}(r||(r={}));var u=function(e){var t=(0,i.useState)(e.children),n=t[0],r=t[1];return i.createElement(a.default,{className:"input-box",closable:!0,contentEditable:"true",suppressContentEditableWarning:!0,onClose:function(){return e.onClose()}},i.createElement("label",{id:"label",className:"input-box__label"},n),i.createElement("input",{maxLength:20,value:n,type:"text",id:"input",className:"input-box__input",onBlur:function(t){return e.onBlur(t)},onChange:function(e){return r(e.target.value)}}))};function l(e){return e.containerType===o.l.DESIGNER?function(e){var t=e.configuration,n=e.onConfigUpdate,o=t,s=o.phrase,l=void 0===s?{}:s,p=o.type,d=o.phraseVisible,f=e.Model,h=e.UIComponent;return i.createElement("div",{className:"yt-qs-text"},d&&r[p]&&i.createElement("div",{className:"phrase-tag"},Object.entries(l||{}).map((function(e){return i.createElement(u,{key:e[0],onClose:function(){l&&delete l[e[0]],n({id:t.id,key:"PHRASE",value:l})},onBlur:function(r){l&&(l[e[0]]=r.currentTarget.value),n({id:t.id,key:"PHRASE",value:l})}},e[1])})),i.createElement(a.default,{className:"add-tag",onClick:function(){l&&(l[(0,c.aG)(8)]="\u5e38\u7528\u8bed",n({id:t.id,key:"PHRASE",value:l}))}},"+")),i.createElement(h,{placeholder:(null==t?void 0:t.placeholder)||(null==f?void 0:f.placeholder),readonly:"readonly"}))}(e):s(e)}},65001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);const a=function(e){e.fileList;var t=e.previewVisible,n=e.previewTitle,a=e.setPreviewVisible,i=e.previewImage;return r.createElement("div",{style:{display:t?"block":"none"}},r.createElement("div",{className:"wk-image-preview-mask"}),r.createElement("div",{className:"wk-image-preview-wrap",onClick:function(e){var t,n=null==(t=e.target)?void 0:t.className;(null==n?void 0:n.indexOf("img"))>-1&&"wk-image-preview-img-wrapper"!==n||a()}},r.createElement("div",{className:"wk-image-preview-img-title"},r.createElement("span",null,n),r.createElement("span",null,r.createElement("i",{className:"icon-cem_cancel",onClick:function(){return a()}}))),r.createElement("div",{className:"wk-image-preview-img-wrapper"},r.createElement("img",{className:"wk-image-preview-img",src:i}))))}},21314:(e,t,n)=>{"use strict";n.d(t,{SS:()=>r,qB:()=>a});n(67294);function r(e,t){var n=new Array(e[1]+1).fill(0).map((function(e,t){return t}));return n=n.slice(e[0]),0===e[0]&&"STAR"===t&&n.shift(),n}function a(e,t){var n=e;return("STAR"===n&&t.length>10||"CIRCLE"===n&&t.length>11)&&(n="Slider"),n}},41320:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});n(89858);var r=n(51024),a=n(23279),i=n.n(a),o=n(67294),c=r.default.TextArea;function s(e){return function(t){var n=t.asChild,r=void 0!==n&&n,a=t.serialNumber,s=t.configuration,u=t.containerType,l=s.id,p=s.type,d=s.title,f=s.children,h=f?f.some((function(e){return e.required})):s.required,m=i()((function(e){t.onConfigUpdate({id:l,key:"TITLE",value:e.target.value,event:e})}),150);return o.createElement("div",{key:t.key,className:"yt-qs-wrapper "+p+" "+(h?"required":"")},!r&&o.createElement("div",{className:"yt-qs-header"},"DECORATION_TEXT"!==s.type&&a&&o.createElement("span",{style:{fontSize:"16px"},className:"yt-qs-header-order-number"},a,"."),"DESIGNER"===u?o.createElement("div",{className:"title-box",key:d},o.createElement(c,{onBlur:function(e){return m((e.persist(),e))},defaultValue:d,autoSize:!0,tabIndex:-1,maxLength:200})):o.createElement("h4",{className:"runtimer-title",style:{textAlign:"DECORATION_TEXT"!==s.type?"left":"center",width:"88%"}},d)),o.createElement(e,t))}}},10279:(e,t,n)=>{"use strict";n.d(t,{Z:()=>K});var r=n(3820),a=n(36470),i=n(41691),o=n(63141),c=n(42420),s=n(19957),u=n(44188),l=n(32980),p=n(20961),d=n(87462),f=n(67294),h=n(41320),m=n(47752),v=n(39553),y=n(14189),g=n(14915),x=n(90105);const I=(0,h.Z)((function(e,t){var n,r,a=(0,x.Z)(),i=y.AA,o=e.configuration.id,c=(0,f.useState)(((n={})[g.Y.EDITED]=!1,n[g.Y.CHANGED]=!1,n[g.Y.VALIDATING]=!1,n[g.Y.INCORRECT]=[],n[g.Y.VALIDATED]=!1,n)),s=c[0],u=c[1],l=(0,f.useState)(null!=(r=e.value)?r:""),p=l[0],h=l[1],I=p,b=(0,d.Z)({},s);function T(t){void 0===t&&(t={});var n=t,r=n.force,c=void 0!==r&&r,s=n.validateAll,l=void 0===s||s,p=n.validations;return!c&&b[g.Y.VALIDATED]?Promise.resolve(b[g.Y.INCORRECT]):i.validate(I?[I]:[],l?e.configuration:(0,d.Z)({},e.configuration,{validations:p})).then((function(t){return e.onStateChange({id:o,key:g.Y.INCORRECT,value:t}),b[g.Y.INCORRECT]=t,u(b),t})).finally((function(){e.onStateChange({id:o,key:g.Y.VALIDATING,value:!1}),e.onStateChange({id:o,key:g.Y.VALIDATED,value:!0}),b[g.Y.VALIDATING]=!1,b[g.Y.VALIDATED]=!0,u(b),a()}))}return e.registerAsRef(o,{doValidate:T}),f.createElement("div",{className:"yt-qs-innerWrapper "+("phone"===e.deviceType&&"mobilePhone")},f.createElement(m.Z,(0,d.Z)({},e,{Model:i,onValueChange:function(t){void 0===t&&(t=[]),h(I=t),e.onValueChange({id:o,value:I}),T({force:!0})},value:p})),f.createElement(v.Z,(0,d.Z)({},e,{state:s})))}));n(35797);var b=n(64749),T=n(29276),E={SINGLE_PULL_DOWN:y.tx,GENDER:y.y7};const w=(0,h.Z)((function(e,t){var n,r,a=E[e.configuration.type],i=e.configuration.id,o=(0,f.useState)(((n={})[g.Y.EDITED]=!1,n[g.Y.CHANGED]=!1,n[g.Y.VALIDATING]=!1,n[g.Y.INCORRECT]=[],n[g.Y.VALIDATED]=!1,n)),c=o[0],s=o[1],u=(0,f.useState)(null!=(r=e.value)?r:""),l=u[0],p=u[1],h=l,m=(0,d.Z)({},c);function y(t){void 0===t&&(t={});var n=t,r=n.force,o=void 0!==r&&r,c=n.validateAll,u=void 0===c||c,l=n.validations;return!o&&m[g.Y.VALIDATED]?Promise.resolve(m[g.Y.INCORRECT]):a.validate(h?[h]:[],u?e.configuration:(0,d.Z)({},e.configuration,{validations:l})).then((function(t){return e.onStateChange({id:i,key:g.Y.INCORRECT,value:t}),m[g.Y.INCORRECT]=t,s(m),t})).finally((function(){e.onStateChange({id:i,key:g.Y.VALIDATING,value:!1}),e.onStateChange({id:i,key:g.Y.VALIDATED,value:!0}),m[g.Y.VALIDATING]=!1,m[g.Y.VALIDATED]=!0,s(m)}))}return e.registerAsRef(i,{doValidate:y}),f.createElement("div",{className:"yt-qs-innerWrapper"},f.createElement(T.Z,(0,d.Z)({},e,{Model:a,UIComponent:b.default,onValueChange:function(t){p(h=t),e.onValueChange({id:i,value:h}),y({force:!0})},value:l,type:"Radio"})),f.createElement(v.Z,(0,d.Z)({},e,{state:c})))}));n(89858);var k=n(51024),C=n(67705);const S=(0,h.Z)((function(e){e.asChild;var t,n,r=e.configuration,a=r.id,i=(r.type,y.Hu),o=(0,f.useState)(((t={})[g.Y.EDITED]=!1,t[g.Y.CHANGED]=!1,t[g.Y.VALIDATING]=!1,t[g.Y.INCORRECT]="",t[g.Y.VALIDATED]=!1,t)),c=o[0],s=o[1],u=(0,d.Z)({},c);function l(t){void 0===t&&(t={});var r=t.force;return!(void 0!==r&&r)&&u[g.Y.VALIDATED]?Promise.resolve(u[g.Y.INCORRECT]):i.validate(n,e.configuration).then((function(t){return e.onStateChange({id:a,key:g.Y.INCORRECT,value:t}),u[g.Y.INCORRECT]=t,s(u),t})).finally((function(){e.onStateChange({id:a,key:g.Y.VALIDATING,value:!1}),e.onStateChange({id:a,key:g.Y.VALIDATED,value:!0}),u[g.Y.VALIDATING]=!1,u[g.Y.VALIDATED]=!0,s(u)}))}return e.registerAsRef(a,{doValidate:l}),f.createElement("div",{className:"yt-qs-innerWrapper"},f.createElement(C.Z,(0,d.Z)({},e,{Model:i,UIComponent:k.default,onValueChange:function(t){n=t,e.onValueChange({id:a,value:t}),l({force:!0})}})),f.createElement(v.Z,(0,d.Z)({},e,{state:c})))}));n(53294);var N=n(56697),O=(n(1131),n(28465)),_=(n(1025),n(65400)),j=n(63366),A=n(60909),D=n(9643),M=n(875),R=n(50713),L=n(57305),P=n(22737),F=n(62658),Z=n(49722),V=n(5133),z=n(65001),U=["total","loaded"];const B=function(e){var t=e.customProps,n=void 0===t?{}:t,r=e.config,a=void 0===r?{}:r,i=e.oriFileList,o=void 0===i?[]:i,c=e.onStateChange,s=e.onValueChange,u=e.deviceType,l=e.showConfirm,p=(0,f.useState)(!0),h=p[0],m=p[1],v=(0,f.useState)(o),y=v[0],g=v[1],x=(0,f.useState)([]),I=x[0],b=x[1],T=(0,f.useState)(!1),E=T[0],w=T[1],k=(0,f.useState)(""),C=k[0],S=k[1],N=(0,f.useState)(""),B=N[0],q=N[1];(0,f.useEffect)((function(){h?m(!1):s(y)}),[y]);var W=function(e,t){var n=null==t?void 0:t.uid;"attach-del"===e&&n[0]&&g([].concat(y.filter((function(e){return e.uid!==t.uid[0]})))),c(e,t,(function(){"attach-del"===e&&n&&g([].concat(y.filter((function(e){return e.uid!==n[0]}))))}))},H=function(e,t,n){return e.size>10485760?(V.Z.warning(n+"\u5927\u5c0f\u4e0d\u8981\u8d85\u8fc710MB!",void 0,1),!1):9===y.length?(V.Z.warning("\u6700\u591a\u4e0a\u4f209\u4e2a"+n+"!",void 0,2),!1):!(y.length+t.length>9)||(V.Z.warning("\u6700\u591a\u4e0a\u4f209\u4e2a"+n+"!",void 0,2),t=t.slice(0,9-totalFiles.length),!1)},G=Object.assign({action:"/questionnaire/submit/upload",beforeUpload:function(e,t){if("pc"===u){if(!/(png|jpg|jpeg|doc|docx|xls|xlsx|pdf|ppt|pptx|txt|rar|zip|gzip)$/.test(e.name))return l("pc"),!1;if(!H(e,t,"\u6587\u4ef6"))return!1}else{if(!/(png|jpg|jpeg|bmp)$/.test(e.name))return l("phone"),!1;if(!H(e,t,"\u56fe\u7247"))return!1}return g([].concat(y,t.map((function(e){return{name:e.name,uid:e.uid}})))),b([].concat(t)),e.uid===t[0].uid},customRequest:function(e){var t=e.action,n=e.data,r=e.file,a=e.onError,i=e.onProgress,o=e.onSuccess,c=new FormData;n&&Object.keys(n).forEach((function(e){c.append(e,n[e])})),I.forEach((function(e){c.append("file",e,e.name),c.append("fileName",e.name),"pc"===u?c.append("deviceName","PC"):c.append("deviceName","Phone")})),Z.v.post(t,c,{onUploadProgress:function(e){var t=e.total,n=e.loaded;(0,j.Z)(e,U);g(y.map((function(e){if(I.find((function(t){return t.uid===e.uid}))){var r=Math.round(n/t*100).toFixed();e.status="uploading",e.percent="100"===r?"99":r}return e}))),i&&i({percent:Math.round(n/t*100).toFixed()},r)}}).then((function(e){var t=e.data;t.result?(g([].concat(y.map((function(e){var n=I.find((function(t){return t.uid===e.uid}));return n&&(e.uid=n.uid,e.percent="100",e.status="done",e.url=t.result),e})))),o&&o([].concat(y.filter((function(e){return I.find((function(t){return t.uid===e.uid}))}))),r),s(y)):(V.Z.error(t.msg,void 0,3),a&&a(t.msg),g([].concat(y.map((function(e){return I.find((function(t){return t.uid===e.uid}))&&(e.status="error"),e})))))})).catch(a)}},n);return"pc"===u?f.createElement(f.Fragment,null,f.createElement(O.Z,(0,d.Z)({},G,{listType:"picture",maxCount:9,multiple:!1,fileList:[].concat(y),iconRender:function(e){return f.createElement("img",{src:/(png|jpg|jpeg)$/.test(e.name)?/(png)$/.test(e.name)?D:A:/(doc|docx)$/.test(e.name)?M:/(pdf)$/.test(e.name)?R:/(txt)$/.test(e.name)?P:/(ppt|pptx)$/.test(e.name)?F:L})},showUploadList:{showDownloadIcon:!0,showRemoveIcon:!0,downloadIcon:f.createElement("i",{className:"icon-xiazai"}),removeIcon:f.createElement("i",{className:"icon-cem_trash",onClick:function(e){return e.preventDefault()}})},progress:{strokeWidth:4,strokeColor:"#7262FD",style:{width:"calc(100%)"}},onChange:function(e){/removed|download/.test(e.file.status||"")&&W("removed"===e.file.status?"attach-del":"attach-download",{uid:[e.file.uid],name:e.file.name})},onRemove:function(e){return W("attach-del",{uid:[e.uid],name:e.name}),!1},onDownload:function(e){e.url&&(window.location.href=e.url)},onPreview:function(e){e.url&&/(png|jpg|jpeg)$/.test(e.name)&&(q(e.url),S(e.name),w(!0))}},a),f.createElement(_.default,{size:"large",icon:f.createElement("i",{className:"icon-shangchuan"})},"\u8bf7\u9009\u62e9\u6587\u4ef6/\u56fe\u7247"),f.createElement("div",{className:"tips",onClick:function(e){return e.stopPropagation()}},"\u5355\u4e2a\u6587\u4ef6/\u56fe\u7247\u4e0d\u8d85\u8fc710M\uff0c\u6700\u591a\u4e0a\u4f209\u5f20")),f.createElement(z.Z,{fileList:y,previewVisible:E,previewTitle:C,previewImage:B,setPreviewVisible:function(){return w(!1)}})):f.createElement(f.Fragment,null,f.createElement(O.Z,(0,d.Z)({},G,{listType:"picture",maxCount:9,multiple:!1,fileList:[].concat(y),iconRender:function(e){return f.createElement("img",{src:/(png|jpg|jpeg)$/.test(e.name)?/(png)$/.test(e.name)?D:A:/(doc|docx)$/.test(e.name)?M:/(pdf)$/.test(e.name)?R:/(txt)$/.test(e.name)?P:/(ppt|pptx)$/.test(e.name)?F:L})},showUploadList:{showDownloadIcon:!0,showRemoveIcon:!0,downloadIcon:f.createElement("i",{className:"icon-xiazai"}),removeIcon:f.createElement("i",{className:"icon-cem_trash",onClick:function(e){return e.preventDefault()}})},progress:{strokeWidth:4,strokeColor:"#7262FD",style:{width:"calc(100%)"}},onChange:function(e){/removed|download/.test(e.file.status||"")&&W("removed"===e.file.status?"attach-del":"attach-download",{uid:[e.file.uid],name:e.file.name})},onRemove:function(e){return W("attach-del",{uid:[e.uid],name:e.name}),!1},onDownload:function(e){e.url&&(window.location.href=e.url)},onPreview:function(e){e.url&&/(png|jpg|jpeg)$/.test(e.name)&&(q(e.url),S(e.name),w(!0))}},a),f.createElement(_.default,{size:"large",icon:f.createElement("i",{className:"icon-shangchuan"})},"\u8bf7\u9009\u62e9\u56fe\u7247"),f.createElement("div",{className:"tips",onClick:function(e){return e.stopPropagation()}},"\u5355\u4e2a\u56fe\u7247\u4e0d\u8d85\u8fc710M\uff0c\u6700\u591a\u4e0a\u4f209\u5f20")),f.createElement(z.Z,{fileList:y,previewVisible:E,previewTitle:C,previewImage:B,setPreviewVisible:function(){return w(!1)}}))};const q=(0,h.Z)((function(e,t){var n,r,a=N.Z.confirm,i=e.deviceType,o=e.configuration.id,c=y.up,s=(0,f.useState)(((n={})[g.Y.EDITED]=!1,n[g.Y.CHANGED]=!1,n[g.Y.VALIDATING]=!1,n[g.Y.INCORRECT]="",n[g.Y.VALIDATED]=!1,n)),u=s[0],l=s[1];function p(e){a({icon:f.createElement("h4",null,f.createElement("i",{className:"icon-cem_ordinary"}),"\u683c\u5f0f\u9519\u8bef"),content:"pc"===e?f.createElement("span",null,"\u8be5\u6587\u4ef6\u683c\u5f0f\u6709\u8bef\uff0c\u4ec5\u5141\u8bb8\u4e0a\u4f20jpg,png,jpeg,bmp,doc,docx,pdf,xls,xlsx,ppt,pptx,txt, rar,zip,gzip\u7684\u683c\u5f0f\u6587\u4ef6\u3002"):f.createElement("span",null,"\u8be5\u6587\u4ef6\u683c\u5f0f\u6709\u8bef\uff0c\u4ec5\u5141\u8bb8\u4e0a\u4f20jpg,png,jpeg,bmp\u7684\u683c\u5f0f\u56fe\u7247\u3002"),className:"default-confirm-modal",onCancel:function(){}})}var h=(0,f.useState)(null!=(r=e.value)?r:[]),m=h[0],x=h[1],I=m,b=(0,d.Z)({},u);function T(t){x(I=t),e.onValueChange({id:o,value:I}),E({force:!0})}function E(t){void 0===t&&(t={});var n=t,r=n.force,a=void 0!==r&&r,i=n.validateAll,s=void 0===i||i,u=n.validations;return!a&&b[g.Y.VALIDATED]?Promise.resolve(b[g.Y.INCORRECT]):c.validate(I?[I]:[],s?e.configuration:(0,d.Z)({},e.configuration,{validations:u})).then((function(t){return e.onStateChange({id:o,key:g.Y.INCORRECT,value:t}),b[g.Y.INCORRECT]=t,l(b),t})).finally((function(){e.onStateChange({id:o,key:g.Y.VALIDATING,value:!1}),e.onStateChange({id:o,key:g.Y.VALIDATED,value:!0}),b[g.Y.VALIDATING]=!1,b[g.Y.VALIDATED]=!0,l(b)}))}return e.configuration.required&&e.registerAsRef(o,{doValidate:E}),f.createElement("div",{className:"yt-qs-scbox"},"DESIGNER"===e.containerType?f.createElement("div",{className:"yt-qs-scwj"},f.createElement("div",{className:"yt-qs-sc"},f.createElement("i",{className:"icon-shangchuan"}),"\u8bf7\u4e0a\u4f20\u6587\u4ef6/\u56fe\u7247",f.createElement("div",{className:"ziti"}," \u5355\u4e2a\u6587\u4ef6/\u56fe\u7247\u4e0d\u8d85\u8fc710M\uff0c\u6700\u591a\u4e0a\u4f209\u5f20"))):"pc"===i?f.createElement("div",{className:"yt-qs-sc"},f.createElement(B,{oriFileList:I,deviceType:i,showConfirm:p,onValueChange:T,onStateChange:e.onStateChange}),f.createElement(v.Z,(0,d.Z)({},e,{state:u}))):f.createElement("div",{className:"yt-qs-sc-phone"},f.createElement(B,{oriFileList:I,deviceType:i,showConfirm:p,onValueChange:T,onStateChange:e.onStateChange}),f.createElement(v.Z,(0,d.Z)({},e,{state:u}))))}));var W=n(52219),H=n(2933),G={MATRIX_SINGLE_CHOICE:y.f4,MATRIX_MULTIPLE_CHOICE:y.hH,MATRIX_SCALE:y.Ux};const Y=(0,h.Z)((function(e){var t,n,r=e.configuration,a=r.id,i=r.type,o=G[i],c=(0,f.useState)(((t={})[g.Y.EDITED]=!1,t[g.Y.CHANGED]=!1,t[g.Y.VALIDATING]=!1,t[g.Y.INCORRECT]="",t[g.Y.VALIDATED]=!1,t)),s=c[0],u=c[1],l=(0,f.useState)(null!=(n=e.value)?n:[]),p=l[0],h=l[1],m=[].concat(p),y=(0,d.Z)({},s);function x(t){void 0===t&&(t={});var n=t.force;return!(void 0!==n&&n)&&y[g.Y.VALIDATED]?Promise.resolve(y[g.Y.INCORRECT]):o.validate(m,e.configuration).then((function(t){return e.onStateChange({id:a,key:g.Y.INCORRECT,value:t}),y[g.Y.INCORRECT]=t,u(y),t})).finally((function(){e.onStateChange({id:a,key:g.Y.VALIDATING,value:!1}),e.onStateChange({id:a,key:g.Y.VALIDATED,value:!0}),y[g.Y.VALIDATING]=!1,y[g.Y.VALIDATED]=!0,u(y)}))}return e.registerAsRef(a,{doValidate:x}),f.createElement("div",{className:"yt-qs-innerWrapper"},f.createElement(H.Z,(0,d.Z)({},e,{Model:o,onValueChange:function(t){m=t,h(t),e.onValueChange({id:a,value:t}),x({force:!0})}})),f.createElement(v.Z,(0,d.Z)({},e,{MatrxRequired:o.MatrxRequired,state:s})))}));var J;const K=((J={})[r.C2.MULTI_SELECTION]=i.Z,J[r.C2.SINGLE_SELECTION]=a.Z,J[r.C2.GENDER]=a.Z,J[r.C2.NPS]=o.Z,J[r.C2.CSAT]=c.Z,J[r.C2.NPS_REASON]=u.Z,J[r.C2.CSAT_REASON]=u.Z,J[r.C2.SINGLELINE_TEXT]=s.Z,J[r.C2.MULTILINE_TEXT]=u.Z,J[r.C2.SCALE]=W.Z,J[r.C2.SORT]=I,J[r.C2.NAME]=s.Z,J[r.C2.PHONE_NUMBER]=s.Z,J[r.C2.EMAIL]=s.Z,J[r.C2.CUSTOMER_INFO]=l.Z,J[r.C2.DECORATION_TEXT]=p.Z,J[r.C2.SINGLE_PULL_DOWN]=w,J[r.C2.DATE]=S,J[r.C2.UPLOAD_FILE]=q,J[r.C2.MATRIX_SINGLE_CHOICE]=Y,J[r.C2.MATRIX_MULTIPLE_CHOICE]=Y,J[r.C2.MATRIX_SCALE]=Y,J)},14915:(e,t,n)=>{"use strict";var r;n.d(t,{Y:()=>r}),function(e){e.HOVERED="HOVERED",e.FOCUSED="FOCUSED",e.SELECTED="SELECTED",e.EDITED="EDITED",e.CHANGED="CHANGED",e.VALIDATING="VALIDATING",e.VALIDATED="VALIDATED",e.INCORRECT="INCORRECT"}(r||(r={}))},67999:(e,t,n)=>{"use strict";n.r(t),n.d(t,{namespace:()=>l,default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(12794),c=n(92360),s=n(64396),u=n(4966),l=s.Z.serviceAnalysis.aspectAnalysis,p={projectId:void 0,dataAspect1:void 0,dataAspect2:void 0,metion:void 0,positiveRate:void 0,negativeRate:void 0,chartTypeValue:{meAspectType:u.Rx[0].value,emotionType:u.V2[0].value,allEmotionType:u.jg[0].value},flavor:{},headerFilterParamsNew:void 0,dateFilter:void 0,selectValue:void 0,categoryId:void 0,analysisModel:void 0,rangedBusinessPointNames:[],curShowAspect:"aspect1",rangeChecked:{chart1:!1,chart2:!1},treeId:void 0};const d={namespace:l,state:Object.assign({},p),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},p)},saveChartData:function(e,t){var n,a=t.payload,i=a.result.reduce((function(e,t){return t.businessPoint.forEach((function(n){var r=n.id,a=n.name,i=e.find((function(e){return e.view===a}));i||(i={id:r,view:a,aspects:[]},e.push(i));var o=t.positive+t.negative;i.aspects.push({total:o,aspect:t.aspect2,positive:t.positive,negative:t.negative,negRate:t.negative/o,posRate:t.positive/o,menRate:o/t.messageTotal})})),e}),[]);return i=i.length?e.rangedBusinessPointNames.reduce((function(e,t){var n=i.find((function(e){return e.view===t}));return n&&e.push(n),e}),[]):"empty",(0,r.Z)({},e,((n={})["chartData"+a.aspectLevel]=i,n))},saveRangeChecked:function(e,t){var n=t.payload.rangeChecked;return(0,r.Z)({},e,{rangeChecked:n})}},effects:{fetchParams:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.chartTypeValue,f={meAspectType:"",emotionType:"",allEmotionType:""},h=JSON.parse(JSON.stringify(d)),e.prev=8,e.next=11,c(o.oG,{projectId:a.projectId});case 11:m=e.sent,2e4===(v=m.data).code&&v.result&&(f=Object.assign(f,JSON.parse(v.result)),Object.keys(f).forEach((function(e){return h[e]=f[e]||h[e]}))),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.next=20,s({type:"save",payload:(0,r.Z)({},a,{chartTypeValue:h,flavor:f})});case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e,null,[[8,16]])})),fetchAspectTreeId:i().mark((function e(t,n){var r,a,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.payload,s=n.call,n.select,u=n.put,e.next=4,s(o.nb,{projectId:c.projectId,filterTypes:["ASPECT"],type:"SERVICE"});case 4:if(2e4===(null==(l=e.sent)||null==(r=l.data)?void 0:r.code)){e.next=7;break}return e.abrupt("return");case 7:if(!(p=null==(a=l.data.result.treeAspect)?void 0:a[0].treeId)){e.next=11;break}return e.next=11,u({type:"save",payload:{treeId:p}});case 11:case"end":return e.stop()}}),e)})),fetchBusinessPointList:i().mark((function e(t,n){var a,c,s,u,p,d,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.call,s=n.select,u=n.put,e.next=3,s((function(e){return(0,r.Z)({},e)[l]}));case 3:return p=e.sent,d=p.projectId,e.next=7,c(o.hM,{projectId:d});case 7:if(2e4===(null==(f=e.sent)||null==(a=f.data)?void 0:a.code)){e.next=10;break}return e.abrupt("return");case 10:return h=f.data.result.map((function(e){return e.name})),e.next=13,u({type:"save",payload:{rangedBusinessPointNames:h}});case 13:case"end":return e.stop()}}),e)})),fetchMentionRate:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.headerFilterParamsNew,f=p.dateFilter,h=p.projectId,m=p.categoryId,v=a.aspectType,y="error",g="error",x="aspect1"===v?1:2,e.prev=12,e.next=15,c(o.KM,{projectId:h,aspectLevel:x,dateFilter:f,headerFilterParamsNew:d,categoryId:m});case 15:b=e.sent,2e4===(T=b.data).code&&null!=(I=T.result)&&I.length?(g=T.result.map((function(e){var t=e.positive+e.negative;return(0,r.Z)({},e,{total:t,negRate:0===t?0:e.negative/t,posRate:0===t?0:e.positive/t,menRate:0===e.messageTotal?0:t/e.messageTotal})})),E=T.result.reduce((function(e,t){return e[t.aspect1]?(e[t.aspect1].positive+=t.positive,e[t.aspect1].negative+=t.negative):e[t.aspect1]=t,e}),{}),w=Object.entries(E).map((function(e){e[0];return e[1]})),y=w.map((function(e){var t=e.positive+e.negative;return(0,r.Z)({},e,{total:t,negRate:0===t?0:e.negative/t,posRate:0===t?0:e.positive/t,menRate:0===e.messageTotal?0:t/e.messageTotal})}))):(y="empty",g="empty"),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.next=24,s({type:"save",payload:{dataAspect1:y,dataAspect2:g}});case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e,null,[[12,20]])})),getMention:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,c=n.put,s=n.select,e.next=3,s((function(e){return(0,r.Z)({},e)[l]}));case 3:return u=e.sent,p=u.headerFilterParamsNew,d=u.dateFilter,f=u.projectId,h=u.categoryId,m="error",e.prev=9,e.next=12,a(o.U7,{projectId:f,headerFilterParamsNew:p,dateFilter:d,categoryId:h});case 12:v=e.sent,2e4===(y=v.data).code&&y.result&&(m=y.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,c({type:"save",payload:{metion:m}});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})),getPositiveRate:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,c=n.put,s=n.select,e.next=3,s((function(e){return(0,r.Z)({},e)[l]}));case 3:return u=e.sent,p=u.headerFilterParamsNew,d=u.dateFilter,f=u.projectId,h=u.categoryId,m="error",e.prev=9,e.next=12,a(o.u6,{projectId:f,headerFilterParamsNew:p,dateFilter:d,categoryId:h});case 12:v=e.sent,2e4===(y=v.data).code&&y.result&&(m=y.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,c({type:"save",payload:{positiveRate:m}});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})),getNegativeRate:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,c=n.put,s=n.select,e.next=3,s((function(e){return(0,r.Z)({},e)[l]}));case 3:return u=e.sent,p=u.headerFilterParamsNew,d=u.dateFilter,f=u.projectId,h=u.categoryId,m="error",e.prev=9,e.next=12,a(o.Wb,{projectId:f,headerFilterParamsNew:p,dateFilter:d,categoryId:h});case 12:v=e.sent,2e4===(y=v.data).code&&y.result&&(m=y.result),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:return e.next=21,c({type:"save",payload:{negativeRate:m}});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[9,17]])})),setCompare:i().mark((function e(t,n){var a,s,u,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,s=n.call,u=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=a.cartType,m=a.sameRateType,e.prev=7,e.next=10,s(o.Lq,{projectId:f,cartType:h,sameRateType:m});case 10:if(v=e.sent,2e4!==v.data.code){e.next=26;break}e.t0=h,e.next="ASPECT_MENTION_RATE_CARD"===e.t0?16:"POSITIVE_ASPECT_RATE_CARD"===e.t0?18:"NEGATIVE_ASPECT_RATE_CARD"===e.t0?20:22;break;case 16:return y="getMention",e.abrupt("break",22);case 18:return y="getPositiveRate",e.abrupt("break",22);case 20:return y="getNegativeRate",e.abrupt("break",22);case 22:return c.Message.success("\u8bbe\u7f6e\u6210\u529f"),e.next=25,u({type:y});case 25:return e.abrupt("return",e.sent);case 26:e.next=30;break;case 28:e.prev=28,e.t1=e.catch(7);case 30:case"end":return e.stop()}}),e,null,[[7,28]])})),chartTypeChange:i().mark((function e(t,n){var a,o,c,s,u,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.t0=JSON,e.t1=JSON,e.next=6,c((function(e){return(0,r.Z)({},e)[l]}));case 6:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),s=e.t0.parse.call(e.t0,e.t3),u=s.chartTypeValue,p=a.key,d=a.value,u[p]=d,e.next=14,o({type:"save",payload:{chartTypeValue:JSON.parse(JSON.stringify(u))}});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})),updateFlavors:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.flavor,h=a.key,m=a.value,f[h]=m,v={meAspectType:f.meAspectType,emotionType:f.emotionType,allEmotionType:f.allEmotionType},e.prev=10,e.next=13,c(o.sR,{projectId:d,value:JSON.stringify(v)});case 13:if(y=e.sent,2e4!==y.data.code){e.next=21;break}return e.next=18,u({type:"save",payload:f});case 18:if(!m){e.next=21;break}return e.next=21,u({type:"chartTypeChange",payload:a});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(10);case 25:case"end":return e.stop()}}),e,null,[[10,23]])}))}}},12794:(e,t,n)=>{"use strict";n.d(t,{Gy:()=>c,U7:()=>u,u6:()=>p,Wb:()=>f,Lq:()=>m,KM:()=>y,oG:()=>x,sR:()=>b,hM:()=>E,nb:()=>k});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722),c="SERVICE_ASPECT_ANALYSIS",s="ANALYZE_SERVER";function u(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){var n,r,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,u=t.categoryId,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT_MENTION_RATE_CARD",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,productOverviewModule:c,module:s,categoryId:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t){var n,r,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,u=t.categoryId,e.abrupt("return",o.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,productOverviewModule:c,module:s,categoryId:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(t){var n,r,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,u=t.categoryId,e.abrupt("return",o.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,productOverviewModule:c,module:s,categoryId:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sameRateType,r=t.cartType,a=t.projectId,e.abrupt("return",o.h.post("/product/overview/set-same-rate",{sameRateType:n,cartType:r,projectId:a,productOverviewModule:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function e(t){var n,r,a,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.filterValue,n=t.headerFilterParamsNew,r=t.dateFilter,a=t.projectId,c=t.aspectLevel,u=t.categoryId,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT2_EMOTION_QUERY",{filterModel:[],headerFilterParamsNew:n,dateFilter:r,projectId:a,aspectLevel:c,module:s,categoryId:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:c,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/business_point/list",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.filterTypes,a=t.type,e.abrupt("return",o.h.post("/filter/find",{projectId:n,filterTypes:r,type:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},4966:(e,t,n)=>{"use strict";n.d(t,{ou:()=>o,Rx:()=>c,V2:()=>s,jg:()=>u,LK:()=>l,QS:()=>p,jr:()=>d,gF:()=>f,nW:()=>h,Oy:()=>m});var r=n(8201),a=n(42180),i=n(67294),o=["ASPECT_ANALYSIS_COMMENT","ASPECT_ANALYSIS_QUESTIONAIRE","ASPECT_ANALYSIS_APP","ASPECT_ANALYSIS_TICKET","ASPECT_ANALYSIS_SELF"],c=[{title:"\u4e00\u7ea7\u6307\u6807",value:"aspect1"},{title:"\u4e8c\u7ea7\u6307\u6807",value:"aspect2"}],s=[{title:"\u6307\u6807\u597d\u8bc4\u7387",value:"positive"},{title:"\u6307\u6807\u5dee\u8bc4\u7387",value:"negative"}],u=[{title:"\u6307\u6807\u58f0\u91cf",value:"total"},{title:"\u6307\u6807\u6b63\u9762\u58f0\u91cf",value:"positive"},{title:"\u6307\u6807\u8d1f\u9762\u58f0\u91cf",value:"negative"}],l=function(e){return(0,r.P)(e)?[{name:"\u6307\u6807\u63d0\u53ca\u7387",count:e.aspectMentionRate,format:"percent"},{name:(0,a.kV)(e.sameRateType)+"\u540c\u6bd4",count:e.sameRate,rise:(0,a.hf)(e.sameRate),format:"percent"},{name:"\u73af\u6bd4",count:e.circleRate,rise:(0,a.hf)(e.circleRate),format:"percent"},{name:"\u6307\u6807\u58f0\u91cf",count:e.usefulAspectCount,format:"myriad"},{name:"\u6709\u6548\u6d88\u606f",count:e.usefulCommentCount,format:"myriad"}]:e},p=function(){return i.createElement("div",null,i.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u6765\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),i.createElement("p",null,"\u300c\u6709\u6548\u6d88\u606f\u300d\u83b7\u5f97\u7684\u6d88\u606f\u4e2d\uff0c\u9664\u53bb\u88ab\u6807\u8bb0\u4e3a\u201c\u65e0\u6548\u6d88\u606f\u201d\u7684\u6d88\u606f\u6570\uff0c\u5269\u4e0b\u7684\u5747\u88ab\u6807\u8bb0\u4e3a\u201c\u6709\u6548\u6d88\u606f\u201d\u3002"),i.createElement("p",null,"\u300c\u6307\u6807\u63d0\u53ca\u7387\u300d\u662f\u6307\u9009\u4e2d\u7684\u6d88\u606f\u4e2d\uff0c\u6307\u6807\u58f0\u91cf\xf7\u6709\u6548\u6d88\u606f\u6570\u91cf\u3002"))},d=function(e){return(0,r.P)(e)?[{name:"\u6307\u6807\u597d\u8bc4\u7387",count:e.positiveAspectRate,format:"percent"},{name:(0,a.kV)(e.sameRateType)+"\u540c\u6bd4",count:e.sameRate,rise:(0,a.hf)(e.sameRate),format:"percent"},{name:"\u73af\u6bd4",count:e.circleRate,rise:(0,a.hf)(e.circleRate),format:"percent"},{name:"\u6b63\u9762\u58f0\u91cf",count:e.usefulPositiveAspectCount,format:"myriad"},{name:"\u6307\u6807\u58f0\u91cf",count:e.usefulAspectCount,format:"myriad"}]:e},f=function(){return i.createElement("div",null,i.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),i.createElement("p",null,"\u300c\u6b63\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u6b63\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u6b63\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),i.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d = \u6307\u6807\u6b63\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},h=function(e){return(0,r.P)(e)?[{name:"\u6307\u6807\u5dee\u8bc4\u7387",count:e.negativeAspectRate,format:"percent"},{name:(0,a.kV)(e.sameRateType)+"\u540c\u6bd4",count:e.sameRate,rise:(0,a.hf)(e.sameRate),format:"percent"},{name:"\u73af\u6bd4",count:e.circleRate,rise:(0,a.hf)(e.circleRate),format:"percent"},{name:"\u8d1f\u9762\u58f0\u91cf",count:e.usefulNegativeAspectCount,format:"myriad"},{name:"\u6307\u6807\u58f0\u91cf",count:e.usefulAspectCount,format:"myriad"}]:e},m=function(){return i.createElement("div",null,i.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),i.createElement("p",null,"\u300c\u8d1f\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u8d1f\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),i.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d = \u6307\u6807\u8d1f\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))}},72208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{namespace:()=>l,default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(19645),c=n(64396),s=n(5133),u=n(53176),l=c.Z.serviceAnalysis.compareProduct,p={countCard:void 0,countSameRateType:"",positiveRate:void 0,positiveSameRateType:"",negativeRate:void 0,negativeSameRateType:"",cmtData:void 0,cmtAspectType:"",cmtAspFlavor:"",cmtType:"",cmtFlavor:"",cmtRangeCheck:!1,volData:void 0,volAspectType:"",volAspFlavor:"",volType:"",volFlavor:"",volRangeCheck:!1,menData:void 0,menAspectType:"",menAspFlavor:"",menRangeCheck:!1,perData:void 0,perAspectType:"",perAspFlavor:"",perRangeCheck:!1,tarRangedNames:void 0,tarAspectType:void 0,total:0,pageIndex:1,pageSize:10,aspectListType:"",aspectListTypeFlavor:"",aspectData:void 0,fetchedAspectData:void 0,projectId:void 0,dateFilter:{},dateRange:0,headerFilterParamsNew:void 0,analysisModel:[],selectAnalySisModel:void 0};const d={namespace:l,state:Object.assign({},p),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},p)}},effects:{fetchParams:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:if(p=e.sent,d=p.projectId,f=p.headerFilterParamsNew,h=p.dateFilter,m=p.analysisModel,JSON.stringify(d)!==JSON.stringify(a.projectId)||JSON.stringify(f)!==JSON.stringify(a.headerFilterParamsNew)||JSON.stringify(h)!==JSON.stringify(a.dateFilter)||JSON.stringify(m)!==JSON.stringify(a.analysisModel)){e.next=11;break}return e.abrupt("return");case 11:return v={cmtAspectType:"aspect1",cmtType:"posRate",volAspectType:"aspect1",volType:"aspectTotal",menAspectType:"aspect1",perAspectType:"aspect1",aspectListType:"aspect1"},y={cmtAspFlavor:"",cmtFlavor:"",volAspFlavor:"",volFlavor:"",menAspFlavor:"",perAspFlavor:"",aspectListTypeFlavor:""},e.prev=13,e.next=16,c(o.oG,{projectId:a.projectId});case 16:g=e.sent,2e4===(x=g.data).code&&x.result&&(y=JSON.parse(x.result),I=Object.keys(v),Object.keys(y).forEach((function(e,t){y[e]&&(v[I[t]]=y[e])}))),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:return e.next=25,s({type:"save",payload:(0,r.Z)({},a,{headerFilterParamsNew:a.headerFilterParamsNew},y,v)});case 25:return e.next=27,s({type:"fetchCountCard",payload:a});case 27:return e.next=29,s({type:"fetchPositiveCard",payload:a});case 29:return e.next=31,s({type:"fetchNegativeCard",payload:a});case 31:return e.next=33,s({type:"fetchAspectData",payload:a});case 33:case"end":return e.stop()}}),e,null,[[13,21]])})),setSameRate:i().mark((function e(t,n){var a,c,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,u=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=a.cartType,m=a.sameRateType,e.next=9,c(o.qZ,{projectId:f,cartType:h,sameRateType:m});case 9:if(v=e.sent,2e4!==v.data.code){e.next=29;break}e.t0=h,e.next="USEFUL_ASPECT_COUNT_CARD"===e.t0?15:"POSITIVE_ASPECT_RATE_CARD"===e.t0?18:"NEGATIVE_ASPECT_RATE_CARD"===e.t0?21:24;break;case 15:return g="fetchCountCard",x="countSameRateType",e.abrupt("break",24);case 18:return g="fetchPositiveCard",x="positiveSameRateType",e.abrupt("break",24);case 21:return g="fetchNegativeCard",x="negativeSameRateType",e.abrupt("break",24);case 24:return s.Z.success("\u8bbe\u7f6e\u6210\u529f"),e.next=27,u({type:"save",payload:(y={},y[x]=m,y)});case 27:return e.next=29,u({type:g,payload:a});case 29:case"end":return e.stop()}}),e)})),fetchPositiveCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v="error",e.prev=10,y={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},e.next=14,c(o.S2,y);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(v=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,s({type:"save",payload:{positiveRate:v,positiveSameRateType:v.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetchNegativeCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v="error",e.prev=10,y={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},e.next=14,c(o.Ew,y);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(v=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.next=23,s({type:"save",payload:{negativeRate:v,negativeSameRateType:v.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[10,19]])})),fetchCountCard:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.analysisModel,v={projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,analysisModel:a.analysisModel||m},y="error",e.prev=11,e.next=14,c(o.k,v);case 14:g=e.sent,2e4===(x=g.data).code&&x.result&&(y=x.result),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.next=23,s({type:"save",payload:{count:y,countSameRateType:y.sameRateType}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,null,[[11,19]])})),fetchAspectData:i().mark((function e(t,n){var a,c,s,p,d,f,h,m,v,y,g,x,I,b,T,E,w,k,C,S,N,O,_,j;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,p=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return d=e.sent,f=d.projectId,h=d.dateFilter,m=d.headerFilterParamsNew,v=d.analysisModel,y={projectId:a.projectId||f,dateFilter:a.dateFilter||h,headerFilterParamsNew:a.headerFilterParamsNew||m,analysisModel:a.analysisModel||v},g="error",x="error",I="error",b="error",T="error",E="error",w=0,e.prev=11,e.next=14,c(o.nD,y);case 14:k=e.sent,2e4===(C=k.data).code&&C.result.length?(S=y.analysisModel[0].values,N=S[0],O=(0,u.kR)(C.result,N.label,N.values),O.data,_=O.aspect1,j=O.aspect2,g={aspect1:_,aspect2:j},x=C.result,I=C.result,b=C.result,T=C.result,E=C.result,w=C.result.length):(g="empty",x="empty",I="empty",b="empty",T="empty"),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,p({type:"save",payload:(0,r.Z)({},a,{headerFilterParamsNew:a.headerFilterParamsNew,aspectData:g,cmtData:x,volData:I,menData:b,perData:T,fetchedAspectData:E,total:w})});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),updateFlavors:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.select,u=n.put,e.next=4,s((function(e){return(0,r.Z)({},e)[l]}));case 4:return p=e.sent,d=p.projectId,f=p.cmtAspFlavor,h=p.cmtFlavor,m=p.volAspFlavor,v=p.volFlavor,y=p.menAspFlavor,g=p.perAspFlavor,x=p.aspectListTypeFlavor,e.prev=13,I={cmtAspFlavor:void 0!==a.cmtAspectType?a.cmtAspectType:f,cmtFlavor:void 0!==a.cmtType?a.cmtType:h,volAspFlavor:void 0!==a.volAspectType?a.volAspectType:m,volFlavor:void 0!==a.volType?a.volType:v,menAspFlavor:void 0!==a.menAspectType?a.menAspectType:y,perAspFlavor:void 0!==a.perAspectType?a.perAspectType:g,aspectListTypeFlavor:void 0!==a.aspectListType?a.aspectListType:x},e.next=17,c(o.sR,{projectId:d,value:JSON.stringify(I)});case 17:if(b=e.sent,2e4!==b.data.code){e.next=22;break}return e.next=22,u({type:"save",payload:I});case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(13);case 26:case"end":return e.stop()}}),e,null,[[13,24]])}))}}},19645:(e,t,n)=>{"use strict";n.d(t,{Gy:()=>c,nD:()=>u,S2:()=>p,Ew:()=>f,k:()=>m,qZ:()=>y,oG:()=>x,sR:()=>b});var r=n(15861),a=n(87757),i=n.n(a),o=n(49722),c="SERVICE_COMPARE_ANALYSIS",s="ANALYZE_SERVER";function u(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){var n,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,t.filterModel,a=t.headerFilterParamsNew,c=t.analysisModel,e.abrupt("return",o.h.post("/product/overview/chart/find/ASPECT2_EMOTION_ANALYSIS_QUERY",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,analysisModel:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/POSITIVE_ASPECT_RATE_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/NEGATIVE_ASPECT_RATE_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.headerFilterParamsNew,t.filterModel,e.abrupt("return",o.h.post("/product/overview/chart/find/USEFUL_ASPECT_COUNT_CARD",{projectId:n,dateFilter:r,filterModel:[],headerFilterParamsNew:a,productOverviewModule:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.cartType,a=t.sameRateType,e.abrupt("return",o.h.post("/product/overview/set-same-rate",{projectId:n,cartType:r,sameRateType:a,productOverviewModule:c,module:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",o.h.post("/default/value/find",{projectId:n,key:c}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",o.h.post("/default/value/update",{projectId:n,key:c,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},53176:(e,t,n)=>{"use strict";n.d(t,{aH:()=>i,qR:()=>o,k_:()=>c,ct:()=>s,$j:()=>u,Rx:()=>l,JM:()=>p,BI:()=>d,yE:()=>f,zV:()=>h,kR:()=>m});var r=n(87462),a=n(67294),i=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u6709\u6548\u6d88\u606f\u300d\u83b7\u5f97\u7684\u6d88\u606f\u4e2d\uff0c\u9664\u53bb\u88ab\u6807\u8bb0\u4e3a\u201c\u65e0\u6548\u6d88\u606f\u201d\u7684\u6d88\u606f\u6570\uff0c\u5269\u4e0b\u7684\u5747\u88ab\u6807\u8bb0\u4e3a\u201c\u6709\u6548\u6d88\u606f\u201d"),a.createElement("p",null,"\u300c\u6307\u6807\u63d0\u53ca\u7387\u300d\u662f\u6307\u9009\u4e2d\u7684\u6d88\u606f\u4e2d\uff0c\u6307\u6807\u58f0\u91cf\xf7\u6709\u6548\u6d88\u606f\u6570\u91cf"))},o=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u6b63\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u6b63\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u6b63\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d = \u6307\u6807\u6b63\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},c=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u58f0\u91cf\u300d\u9009\u5b9a\u7684\u6709\u6548\u6d88\u606f\u4e2d\uff0c\u53ef\u4ee5\u63d0\u53d6\u51fa\u4e86\u7684\u6307\u6807\u58f0\u91cf\u3002\u6ce8\uff1a\u8fd9\u91cc\u7684\u6307\u6807\u58f0\u91cf\u662f\u6309\u53f6\u5b50\u7ea7\u522b\u6307\u6807\uff08\u4e00\u822c\u6307\u4e8c\u7ea7\u6307\u6807\uff09\u7684\u4f5c\u4e3a\u8ba1\u7b97\uff0c\u5bf9\u4e8e\u4e00\u7ea7\u6307\u6807\u4e0d\u53bb\u91cd\u3002"),a.createElement("p",null,"\u300c\u8d1f\u9762\u58f0\u91cf\u300d\u5373\u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff0c\u53ea\u7edf\u8ba1\u6307\u6807\u60c5\u611f\u4e3a\u8d1f\u9762\u7684\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d = \u6307\u6807\u8d1f\u9762\u58f0\u91cf \xf7 \u6307\u6807\u58f0\u91cf\u3002"))},s=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u597d\u8bc4\u7387\u300d\u6307\u6807\u6b63\u9762\u58f0\u91cf\xf7\uff08\u6307\u6807\u6b63\u9762\u58f0\u91cf + \u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff09\u3002"),a.createElement("p",null,"\u300c\u6307\u6807\u5dee\u8bc4\u7387\u300d\u6307\u6807\u8d1f\u9762\u58f0\u91cf\xf7\uff08\u6307\u6807\u6b63\u9762\u58f0\u91cf + \u6307\u6807\u8d1f\u9762\u58f0\u91cf\uff09\u3002"))},u=function(){return a.createElement("div",null,a.createElement("p",null,"\u300c\u6307\u6807\u5360\u6bd4\u300d\u5177\u4f53\u6307\u6807\u7684\u58f0\u91cf\xf7\u5168\u90e8\u6307\u6807\u7684\u58f0\u91cf\u3002"),a.createElement("p",null,"\u5de6\u56fe\u5c55\u793a\u7684\u662f\u6307\u6807\u58f0\u91cf\uff0c\u53f3\u56fe\u5c55\u793a\u7684\u662f\u5404\u5206\u6790\u5bf9\u8c61\u7684\u6307\u6807\u5360\u6bd4\u3002"))},l=[{title:"\u4e00\u7ea7\u6307\u6807",value:"aspect1"},{title:"\u4e8c\u7ea7\u6307\u6807",value:"aspect2"}],p=[{title:"\u6307\u6807\u597d\u8bc4\u7387",value:"posRate"},{title:"\u6307\u6807\u5dee\u8bc4\u7387",value:"negRate"}],d=[{title:"\u6307\u6807\u58f0\u91cf",value:"aspectTotal"},{title:"\u6307\u6807\u6b63\u9762\u58f0\u91cf",value:"positive"},{title:"\u6307\u6807\u8d1f\u9762\u58f0\u91cf",value:"negative"}];function f(e){return e.reduce((function(e,t){var n=e.find((function(e){return e.name===t.name}));return n||(n={name:t.name,aspectTotal:0},e.push(n)),n.aspectTotal+=t.aspectPositive+t.aspectNegative,e}),[])}function h(e){var t=e.map((function(e){return e.aspect1})).reduce((function(e,t){return e.includes(t)?e:[].concat(e,[t])}),[]),n=e.map((function(e){return e.aspect2})).reduce((function(e,t){return e.includes(t)?e:[].concat(e,[t])}),[]),a={positive:0,negative:0,posRate:0,negRate:0,NES:0,aspectTotal:0,mentionRate:0};return e.reduce((function(i,o,c){var s=i.find((function(e){return e.name===o.name}));s||(s={name:o.name,messageTotal:o.messageTotal,positive:0,negative:0,posRate:0,negRate:0,NES:0,mentionRate:0,aspectTotal:0,aspect1:[],aspect2:[]},i.push(s)),s.positive+=o.aspectPositive,s.negative+=o.aspectNegative,s.aspectTotal+=o.aspectPositive+o.aspectNegative,s.posRate=0===s.aspectTotal?0:s.positive/s.aspectTotal,s.negRate=0===s.aspectTotal?0:s.negative/s.aspectTotal,s.NES=0===s.aspectTotal?0:(s.positive-s.negative)/s.aspectTotal,s.mentionRate=0===o.messageTotal?0:s.aspectTotal/o.messageTotal,s.aspect2.push({id:o.id,aspect:o.aspect2,positive:o.aspectPositive,negative:o.aspectNegative,posRate:o.aspectPositive+o.aspectNegative===0?0:o.aspectPositive/(o.aspectPositive+o.aspectNegative),negRate:o.aspectPositive+o.aspectNegative===0?0:o.aspectNegative/(o.aspectPositive+o.aspectNegative),NES:o.aspectPositive+o.aspectNegative===0?0:(o.aspectPositive-o.aspectNegative)/(o.aspectPositive+o.aspectNegative),aspectTotal:o.aspectPositive+o.aspectNegative,mentionRate:0===o.messageTotal?0:(o.aspectPositive+o.aspectNegative)/o.messageTotal});var u=s.aspect1.find((function(e){return e.aspect===o.aspect1}));return u||(u={id:o.id,aspect:o.aspect1,messageTotal:o.messageTotal,positive:0,negative:0,aspectTotal:0},s.aspect1.push(u)),u.aspect===o.aspect1&&(u.positive+=o.aspectPositive,u.negative+=o.aspectNegative,u.aspectTotal+=o.aspectPositive+o.aspectNegative),c===e.length-1&&i.forEach((function(e){e.aspect1=t.map((function(t){var n=e.aspect1.find((function(e){return e.aspect===t}));return n?(0,r.Z)({},n,{posRate:0===n.aspectTotal?0:n.positive/n.aspectTotal,negRate:0===n.aspectTotal?0:n.negative/n.aspectTotal,NES:n.positive+n.negative===0?0:(n.positive-n.negative)/(n.positive+n.negative),mentionRate:0===n.messageTotal?0:(n.positive+n.negative)/n.messageTotal}):(0,r.Z)({aspect:t},a)})).filter((function(e){return e.aspect})),e.aspect2=n.map((function(t){var n=e.aspect2.find((function(e){return e.aspect===t}));return n||(0,r.Z)({aspect:t},a)})).filter((function(e){return e.aspect}))})),i}),[])}function m(e,t,n){var r=e.reduce((function(e,t){var n=e.find((function(e){return e.name===t.name}));n||(n={name:t.name,id:t.id,messageTotal:t.messageTotal,totalCount:0,aspect1:[]},e.push(n));var r=n.aspect1.find((function(e){return e.name===t.aspect1}));return r||(r={name:t.aspect1,count:0,posCount:0,negCount:0,aspect2:[]},n.aspect1.push(r)),r.aspect2.push({name:t.aspect2,posCount:t.aspectPositive,negCount:t.aspectNegative,count:t.aspectPositive+t.aspectNegative}),r.count+=t.aspectPositive+t.aspectNegative,r.posCount+=t.aspectPositive,r.negCount+=t.aspectNegative,n.totalCount+=t.aspectPositive+t.aspectNegative,e}),[]);(r=n.map((function(e){return r.find((function(t){return t.id===e}))})).filter((function(e){return e}))).forEach((function(e,t){t?r[0].totalCount&&(e.aspect1=r[0].aspect1.map((function(t){var n=e.aspect1.find((function(e){return e.name===t.name}));return n?(n.aspect2=t.aspect2.map((function(e){var t=n.aspect2.find((function(t){return t.name===e.name}));return t||{name:e.name,count:0,negCount:0,posCount:0}})),n):{name:t.name,count:0,posCount:0,negCount:0,aspect2:t.aspect2.map((function(e){return{name:e.name,count:0,posCount:0,negCount:0}}))}}))):(e.aspect1=e.aspect1.sort((function(e,t){return t.count-e.count})),e.aspect1.forEach((function(e){e.aspect2=e.aspect2.sort((function(e,t){return t.count-e.count}))})))}));var a=r.reduce((function(e,t){return t.aspect1.forEach((function(n){e[0].push([t.name,n.name,n.count,0===t.totalCount?0:n.count/t.totalCount,n.posCount,n.negCount,0===n.count?0:n.posCount/n.count,0===n.count?0:n.negCount/n.count,0===t.messageTotal?0:n.count/t.messageTotal]),n.aspect2.forEach((function(r){e[1].push([t.name,n.name,r.name,r.count,0===t.totalCount?0:r.count/t.totalCount,r.posCount,r.negCount,0===r.count?0:r.posCount/r.count,0===r.count?0:r.negCount/r.count,0===t.messageTotal?0:r.count/t.messageTotal])}))})),e}),[[[t,"\u4e00\u7ea7\u6307\u6807","\u6307\u6807\u58f0\u91cf","\u6307\u6807\u5360\u6bd4","\u6307\u6807\u6b63\u9762\u58f0\u91cf","\u6307\u6807\u8d1f\u9762\u58f0\u91cf","\u6307\u6807\u597d\u8bc4\u7387","\u6307\u6807\u5dee\u8bc4\u7387","\u6307\u6807\u63d0\u53ca\u7387"]],[[t,"\u4e00\u7ea7\u6307\u6807","\u4e8c\u7ea7\u6307\u6807","\u6307\u6807\u58f0\u91cf","\u6307\u6807\u5360\u6bd4","\u6307\u6807\u6b63\u9762\u58f0\u91cf","\u6307\u6807\u8d1f\u9762\u58f0\u91cf","\u6307\u6807\u597d\u8bc4\u7387","\u6307\u6807\u5dee\u8bc4\u7387","\u6307\u6807\u63d0\u53ca\u7387"]]]),i=a[0],o=a[1];return{data:r,aspect1:i,aspect2:o}}},42180:(e,t,n)=>{"use strict";n.d(t,{hf:()=>r,kV:()=>a,bF:()=>i});n(39432);var r=function(e){return 0===e||null===e?void 0:e>0},a=function(e){switch(e){case"WEEK":return"\u5468";case"MONTH":return"\u6708";case"QUATER":return"\u5b63";case"YEAR":return"\u5e74";default:return""}},i=function(e){var t=e.some((function(e){return"DEFAULT"===e.id}))&&e.find((function(e){return"DEFAULT"===e.id})).values.some((function(e){return"SOURCE"===e.id})),n=e.some((function(e){return"TAG_RULE"===e.id}))&&e.find((function(e){return"TAG_RULE"===e.id})).values,r=e.some((function(e){return"CONFIG"===e.id}))&&e.find((function(e){return"CONFIG"===e.id})).values,a={};return r&&(a.connConfig=r.map((function(e){return{id:e.id,values:e.values}}))),t&&(a.source=e.find((function(e){return"DEFAULT"===e.id})).values.find((function(e){return"SOURCE"===e.id})).values),n&&(a.tag=n.map((function(e){return{id:e.id,special:"tag",values:e.values}}))),a}},1048:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722);function s(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.queryType;return c.h.post("/waiter-session/chart/v2/find/SESSION_ASPECT_TIME_CHART",{projectId:t,dateFilter:n,headerFilterParamsNew:r,queryType:a})}function u(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.queryType;return c.h.post("/waiter-session/aspectAnalyse",{projectId:t,dateFilter:n,headerFilterParamsNew:r,queryType:a})}function l(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.queryType,i=e.aspect1;return c.h.post("/waiter-session/aspectAnalyse",{projectId:t,dateFilter:n,headerFilterParamsNew:r,queryType:a,aspect1:i})}var p=n(87219),d=o.Z.service.concernAnalyze,f={dataSource:void 0,concernPagination:{current:1,pageSize:5,total:0},projectId:void 0,dateFilter:void 0,headerFilterParamsNew:void 0,queryType:"FOCUS",aspect1:void 0,concernAnalyzeCardBarData:void 0,concernAnalyzeTableData:void 0,concernAnalyzeTempAspect1:[],dateGroupType:"DAY"};const h={namespace:d,state:JSON.parse(JSON.stringify(f)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},f)}},effects:{fetchParams:i().mark((function e(t,n){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,n.select,e.next=4,o({type:"save",payload:(0,r.Z)({},a)});case 4:return e.next=6,o({type:"fetchDatas",payload:a});case 6:case"end":return e.stop()}}),e)})),fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchConcernAnalyzeData",payload:r});case 4:return e.next=6,a({type:"fetchConcernAnalyzeCardBarData",payload:r});case 6:case"end":return e.stop()}}),e)})),fetchConcernAnalyzeData:i().mark((function e(t,n){var a,o,c,u,l,f,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,f=l.projectId,h=l.headerFilterParamsNew,m=l.dateFilter,v=l.queryType,y=l.dateGroupType,g="error",x=(0,p.ZP)(a.dateFilter||m,(function(e){e.dateGroupType=a.dateGroupType||y})),e.prev=12,e.next=15,o(s,{projectId:a.projectId||f,dateFilter:x,headerFilterParamsNew:a.headerFilterParamsNew||h,queryType:a.queryType||v});case 15:b=e.sent,T=b.data,g=2e4===T.code&&null!=(I=T.result)&&I.data.length?T.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,c({type:"save",payload:{dataSource:g}});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])})),fetchConcernAnalyzeCardBarData:i().mark((function e(t,n){var a,o,c,s,l,p,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,p=l.projectId,f=l.headerFilterParamsNew,h=l.dateFilter,m=l.queryType,v=0,y=0,g=[],x="error",e.prev=12,e.next=15,o(u,{projectId:a.projectId||p,dateFilter:a.dateFilter||h,headerFilterParamsNew:a.headerFilterParamsNew||f,queryType:a.queryType||m});case 15:if(I=e.sent,!(2e4===(b=I.data).code&&b.result.length>0)){e.next=26;break}return x=b.result.map((function(e,t){return(0,r.Z)({},e,{name:e.aspectName})})),g=b.result.map((function(e){return e.aspectName})),b.result.every((function(e){return 0===e.count}))&&(x="empty"),a.aspect1&&JSON.stringify(a.aspect1)!==JSON.stringify(b.result.map((function(e){return e.aspectName})))||(v=b.result.reduce((function(e,t){return e+t.count}),0),y=b.result.reduce((function(e,t){return e+t.preCount}),0)),e.next=24,c({type:"fetchConcernAnalyzeTableData",payload:a});case 24:e.next=27;break;case 26:x="empty";case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(12);case 31:return e.prev=31,e.next=34,c({type:"save",payload:(0,r.Z)({},a,{concernAnalyzeCardBarTotalCount:v,concernAnalyzeCardBarTotalPreCount:y,concernAnalyzeTempAspect1:g,concernAnalyzeCardBarData:x})});case 34:return e.finish(31);case 35:case"end":return e.stop()}}),e,null,[[12,29,31,35]])})),fetchConcernAnalyzeTableData:i().mark((function e(t,n){var a,o,c,s,u,p,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return u=e.sent,p=u.projectId,f=u.headerFilterParamsNew,h=u.dateFilter,m=u.queryType,v=u.concernAnalyzeTempAspect1,e.prev=10,e.next=13,o(l,{projectId:a.projectId||p,dateFilter:a.dateFilter||h,headerFilterParamsNew:a.headerFilterParamsNew||f,queryType:a.queryType||m,aspect1:a.aspect1||v});case 13:if(y=e.sent,2e4!==(g=y.data).code){e.next=18;break}return e.next=18,c({type:"save",payload:(0,r.Z)({},a,{concernAnalyzeTableData:g.result.map((function(e,t){return(0,r.Z)({},e,{name:e.aspectName})}))})});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(10);case 22:case"end":return e.stop()}}),e,null,[[10,20]])}))}}},92208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722);function s(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.queryType;return c.h.post("/waiter-session/chart/v2/find/SESSION_ASPECT_TIME_CHART",{projectId:t,dateFilter:n,headerFilterParamsNew:r,queryType:a})}function u(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.queryType;return c.h.post("/waiter-session/aspectAnalyse",{projectId:t,dateFilter:n,headerFilterParamsNew:r,queryType:a})}function l(e){var t=e.projectId,n=e.dateFilter,r=e.headerFilterParamsNew,a=e.queryType,i=e.aspect1;return c.h.post("/waiter-session/aspectAnalyse",{projectId:t,dateFilter:n,headerFilterParamsNew:r,queryType:a,aspect1:i})}var p=n(87219),d=o.Z.service.gombitAnalyze,f={dataSource:void 0,commodityDataSource:[],sessionLocationList:void 0,gombitPagination:{current:1,pageSize:5,total:0},projectId:void 0,headerFilterParamsNew:void 0,dateFilter:{},queryType:"TOPIC",aspect1:void 0,topicAnalyzeTableData:void 0,topicAnalyzeCardBarData:void 0,topicAnalyzeTempAspect1:[],dateGroupType:"DAY"};const h={namespace:d,state:JSON.parse(JSON.stringify(f)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},f)}},effects:{fetchParams:i().mark((function e(t,n){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,n.select,e.next=4,o({type:"save",payload:(0,r.Z)({},a)});case 4:return e.next=6,o({type:"fetchDatas",payload:a});case 6:case"end":return e.stop()}}),e)})),fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchGombitAnalyzeData",payload:r});case 4:return e.next=6,a({type:"fetchTopicAnalyzeCardBarData",payload:r});case 6:case"end":return e.stop()}}),e)})),fetchGombitAnalyzeData:i().mark((function e(t,n){var a,o,c,u,l,f,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,f=l.projectId,h=l.headerFilterParamsNew,m=l.dateFilter,v=l.queryType,y=l.dateGroupType,g="error",x=(0,p.ZP)(a.dateFilter||m,(function(e){e.dateGroupType=a.dateGroupType||y})),e.prev=12,e.next=15,o(s,{projectId:a.projectId||f,dateFilter:x,headerFilterParamsNew:a.headerFilterParamsNew||h,queryType:a.queryType||v});case 15:b=e.sent,T=b.data,g=2e4===T.code&&null!=(I=T.result)&&I.data.length?T.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,c({type:"save",payload:{dataSource:g}});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])})),fetchTopicAnalyzeCardBarData:i().mark((function e(t,n){var a,o,c,s,l,p,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,p=l.projectId,f=l.headerFilterParamsNew,h=l.dateFilter,m=l.queryType,v="error",[],y=0,g=0,e.prev=12,e.next=15,o(u,{projectId:a.projectId||p,dateFilter:a.dateFilter||h,headerFilterParamsNew:a.headerFilterParamsNew||f,queryType:a.queryType||m});case 15:if(x=e.sent,!(2e4===(I=x.data).code&&I.result.length>0)){e.next=25;break}return v=I.result.map((function(e,t){return(0,r.Z)({},e,{name:e.aspectName})})),I.result.every((function(e){return 0===e.count}))&&(v="empty"),a.aspect1&&JSON.stringify(a.aspect1)!==JSON.stringify(I.result.map((function(e){return e.aspectName})))||(y=I.result.reduce((function(e,t){return e+t.count}),0),g=I.result.reduce((function(e,t){return e+t.preCount}),0)),e.next=23,c({type:"fetchTopicAnalyzeTableData",payload:{aspect1:[I.result[0].aspectName]}});case 23:e.next=26;break;case 25:v="empty";case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(12);case 30:return e.prev=30,e.next=33,c({type:"save",payload:(0,r.Z)({},a,{topicAnalyzeCardBarTotalCount:y,topicAnalyzeCardBarTotalPreCount:g,topicAnalyzeCardBarData:v})});case 33:return e.finish(30);case 34:case"end":return e.stop()}}),e,null,[[12,28,30,34]])})),fetchTopicAnalyzeTableData:i().mark((function e(t,n){var a,o,c,s,u,p,f,h,m,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return u=e.sent,p=u.projectId,f=u.headerFilterParamsNew,h=u.dateFilter,m=u.queryType,e.prev=9,e.next=12,o(l,{projectId:a.projectId||p,dateFilter:a.dateFilter||h,headerFilterParamsNew:a.headerFilterParamsNew||f,queryType:a.queryType||m,aspect1:a.aspect1});case 12:if(v=e.sent,2e4!==(y=v.data).code){e.next=17;break}return e.next=17,c({type:"save",payload:(0,r.Z)({},a,{topicAnalyzeTableData:y.result.map((function(e,t){return(0,r.Z)({},e,{name:e.aspectName})}))})});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))}}},58598:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(63366),a=n(87462),i=n(18446),o=n.n(i),c=n(87757),s=n.n(c),u=n(49722),l=function(e){return u.h.post("/waiter-session/products/find",e)},p=function(e){return u.h.post("/waiter-session/product_compare/trend/find",e)},d=function(e){return u.h.post("/waiter-session/aspectAnalyse",e)};function f(e){return u.h.post("/waiter-session/chart/find/SESSION_ASPECT_FOCUS_CHART",e)}var h=n(40845),m=n(70339),v=n(64396),y=n(87219),g=["projectId","pageType"],x=v.Z.service.match,I={objects:void 0,objectsFlavor:[],objectOptions:void 0,sessionData:void 0,topicData:void 0,topicTableData:void 0,projectId:void 0,headerFilterParamsNew:void 0,filterValues:[],pageType:"WAITER_SESSION_PRODUCT_COMPARE"};const b={namespace:x,state:JSON.parse(JSON.stringify(I)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},I)}},effects:{fetchParams:s().mark((function e(t,n){var r,i,o,c,u,l,p,d,f,m,v,y,g,I;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[x]}));case 4:return u=e.sent,l=u.pageType,p=u.objectsFlavor,d={objectsFlavor:p},f={objects:p||[]},e.next=11,i(h.o,{projectId:r.projectId,key:l});case 11:if(m=e.sent,2e4===(v=m.data).code&&v.result)try{y=JSON.parse(v.result),Object.keys(y).forEach((function(e){d[e]=y[e]})),g=Object.keys(f),Object.keys(d).forEach((function(e,t){d[e]&&(f[g[t]]=d[e])}))}catch(s){}return I=(0,a.Z)({},r,f,d),e.next=17,o({type:"fetchDatas",payload:I});case 17:case"end":return e.stop()}}),e)})),fetchDatas:s().mark((function e(t,n){var r,i,c,u,l,p,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[x]}));case 4:return u=e.sent,l=u.objects,e.next=8,i({type:"save",payload:r});case 8:return e.next=10,i({type:"setDefaultValue",payload:{objectsFlavor:r.objects}});case 10:return e.next=12,i({type:"fetchSessionData",payload:r});case 12:return e.next=14,i({type:"fetchGoodsConcernAnalyze",payload:r});case 14:return e.next=16,i({type:"fetchBarData",payload:r});case 16:if(l&&o()(r.objects[0],l[0])&&!r.shouldUpdate){e.next=20;break}return e.next=20,i({type:"fetchTableData",payload:{objects:l,spu:null==(p=r.objects[0])?void 0:p.name,date:null==(d=r.objects[0])?void 0:d.date,aspect1:["\u54a8\u8be2/\u6c42\u52a9","\u8d5e\u626c","\u4e0d\u6ee1/\u8fb1\u9a82"]}});case 20:case"end":return e.stop()}}),e)})),fetchGoodsConcernAnalyze:s().mark((function e(t,n){var r,i,c,u,l,p,d,h,m,v,g,I,b,T;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[x]}));case 4:return l=e.sent,p=l.projectId,d=l.headerFilterParamsNew,e.next=9,u((function(e){return(0,a.Z)({},e)[x]}));case 9:if(h=e.sent,m=h.goodsConcernData,v=r.objects,g="error",e.prev=13,I=function(e){return{projectId:r.projectId||p,dateFilter:{dateGroupType:"DAY",remoteName:"cTime",from:e.date[0],to:e.date[1]},queryType:"FOCUS",headerFilterParamsNew:(0,y.ZP)(r.headerFilterParamsNew||d,(function(t){t.find((function(e){return"MENTIONED_CONTENT"===e.id}))?t.find((function(e){return"MENTIONED_CONTENT"===e.id})).values=[{id:"WAITER_PRODUCT",values:[e.name]}]:t.push({id:"MENTIONED_CONTENT",values:[{id:"WAITER_PRODUCT",values:[e.name]}]})}))}},m&&!r.shouldUpdate||(m=[]),!(b=m?v.filter((function(e){return m.every((function(t){var n=t.key,r=t.date;return!o()({name:n,date:r},e)}))})):v).length){e.next=22;break}return e.next=20,[].concat(b.map((function(e){return i(f,I(e))})));case 20:T=e.sent,b.forEach((function(e,t){var n=e.name,r=e.date;m.push({key:n,date:r,value:2e4===T[t].data.code?T[t].data.result:"error"})}));case 22:g=v.map((function(e){return{key:m.find((function(t){var n=t.key,r=t.date;return o()({name:n,date:r},e)})).key,date:m.find((function(t){var n=t.key,r=t.date;return o()({name:n,date:r},e)})).date,value:m.find((function(t){var n=t.key,r=t.date;return o()({name:n,date:r},e)})).value}})),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(13);case 27:return e.prev=27,e.next=30,c({type:"save",payload:{goodsConcernData:g}});case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[13,25,27,31]])})),fetchSessionData:s().mark((function e(t,n){var r,i,c,u,l,d,f,h,m,v,g,I,b,T,E,w,k,C,S,N,O;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[x]}));case 4:return l=e.sent,d=l.projectId,f=l.headerFilterParamsNew,e.next=9,u((function(e){return(0,a.Z)({},e)[x]}));case 9:if(h=e.sent,m=h.sessionData,v=r.objects,g="error",e.prev=13,I=function(e){var t,n;return{projectId:r.projectId||d,dateFilter:{dateGroupType:o()(null==(t=v[0])?void 0:t.date[0],null==(n=v[0])?void 0:n.date[1])?"HOUR":"DAY",remoteName:"cTime",from:e.date[0],to:e.date[1]},headerFilterParamsNew:(0,y.ZP)(r.headerFilterParamsNew||f,(function(t){t.find((function(e){return"MENTIONED_CONTENT"===e.id}))?t.find((function(e){return"MENTIONED_CONTENT"===e.id})).values=[{id:"WAITER_PRODUCT",values:[e.name]}]:t.push({id:"MENTIONED_CONTENT",values:[{id:"WAITER_PRODUCT",values:[e.name]}]})}))}},b=!1,m instanceof Array&&m.length>1&&(C=o()(null==(T=m[0])?void 0:T.date[0],null==(E=m[0])?void 0:E.date[1]),S=o()(null==(w=v[0])?void 0:w.date[0],null==(k=v[0])?void 0:k.date[1]),b=C!==S),(!m||r.shouldUpdate||b)&&(m=[]),!(N=m?v.filter((function(e){return m.every((function(t){var n=t.name,r=t.date;return!o()({name:n,date:r},e)}))})):v).length){e.next=24;break}return e.next=22,[].concat(N.map((function(e){return i(p,I(e))})));case 22:O=e.sent,N.forEach((function(e,t){var n=e.name,r=e.date;m.push({name:n,date:r,list:2e4===O[t].data.code?O[t].data.result:"error"})}));case 24:g=v.map((function(e){return{name:m.find((function(t){var n=t.name,r=t.date;return o()({name:n,date:r},e)})).name,date:m.find((function(t){var n=t.name,r=t.date;return o()({name:n,date:r},e)})).date,list:m.find((function(t){var n=t.name,r=t.date;return o()({name:n,date:r},e)})).list}})),e.next=29;break;case 27:e.prev=27,e.t0=e.catch(13);case 29:return e.prev=29,e.next=32,c({type:"save",payload:{sessionData:g}});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[13,27,29,33]])})),fetchBarData:s().mark((function e(t,n){var r,i,c,u,l,p,f,h,v,g,I,b,T,E,w,k;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[x]}));case 4:return l=e.sent,p=l.projectId,f=l.headerFilterParamsNew,h=l.pageType,e.next=10,u((function(e){return(0,a.Z)({},e)[x]}));case 10:if(v=e.sent,g=v.topicData,I=r.objects,b="error",e.prev=14,T=r.headerFilterParamsNew||f,E=function(e){return{queryType:"TOPIC",projectId:r.projectId||p,dateFilter:{dateGroupType:"DAY",from:e.date[0],numOfDays:(0,m.vv)(e.date,"YYYY-MM-DD"),remoteName:"cTime",to:e.date[1]},pageType:h,headerFilterParamsNew:(0,y.ZP)(T,(function(t){t.find((function(e){return"MENTIONED_CONTENT"===e.id}))?t.find((function(e){return"MENTIONED_CONTENT"===e.id})).values=[{id:"WAITER_PRODUCT",values:[e.name]}]:t.push({id:"MENTIONED_CONTENT",values:[{id:"WAITER_PRODUCT",values:[e.name]}]})}))}},g&&!r.shouldUpdate||(g=[]),!(w=g?I.filter((function(e){return g.every((function(t){var n=t.name,r=t.date;return!o()({name:n,date:r},e)}))})):I).length){e.next=24;break}return e.next=22,[].concat(w.map((function(e){return i(d,E(e))})));case 22:k=e.sent,w.forEach((function(e,t){var n=e.name,r=e.date;g.push({name:n,date:r,list:2e4===k[t].data.code?k[t].data.result:"error"})}));case 24:b=I.map((function(e){return{name:g.find((function(t){var n=t.name,r=t.date;return o()({name:n,date:r},e)})).name,date:g.find((function(t){var n=t.name,r=t.date;return o()({name:n,date:r},e)})).date,list:g.find((function(t){var n=t.name,r=t.date;return o()({name:n,date:r},e)})).list}})),e.next=29;break;case 27:e.prev=27,e.t0=e.catch(14);case 29:return e.prev=29,e.next=32,c({type:"save",payload:{topicData:b}});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[14,27,29,33]])})),fetchTableData:s().mark((function e(t,n){var r,i,o,c,u,l,p,f,h,v,g,I,b,T,E;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[x]}));case 4:return u=e.sent,l=u.projectId,p=u.headerFilterParamsNew,f=u.pageType,u.topicTableData,v=r.aspect1,g=r.spu,I=r.date,e.prev=10,b=r.headerFilterParamsNew||p,T=function(e,t,n){return{queryType:"TOPIC",projectId:r.projectId||l,dateFilter:{dateGroupType:"DAY",from:t[0],numOfDays:(0,m.vv)(t,"YYYY-MM-DD"),remoteName:"cTime",to:t[1]},pageType:f,headerFilterParamsNew:(0,y.ZP)(b,(function(e){e.find((function(e){return"MENTIONED_CONTENT"===e.id}))?e.find((function(e){return"MENTIONED_CONTENT"===e.id})).values=[{id:"WAITER_PRODUCT",values:[n]}]:e.push({id:"MENTIONED_CONTENT",values:[{id:"WAITER_PRODUCT",values:[n]}]})})),aspect1:e}},e.next=15,i(d,T(v,I,g));case 15:2e4===(E=e.sent).data.code&&E.data.result&&(h=E.data.result.map((function(e){return(0,a.Z)({},e,{name:e.aspectName})}))),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(10);case 21:return e.prev=21,e.next=24,o({type:"save",payload:{topicTableData:h}});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[10,19,21,25]])})),fetchObjectOptions:s().mark((function e(t,n){var r,i,o,c,u,p,d,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[x]}));case 4:return u=e.sent,p=u.projectId,e.prev=6,e.next=9,i(l,{projectId:r.projectId||p});case 9:if(d=e.sent,2e4!==(f=d.data).code){e.next=14;break}return e.next=14,o({type:"save",payload:(0,a.Z)({objectOptions:f.result},r)});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:case"end":return e.stop()}}),e,null,[[6,16]])})),setDefaultValue:s().mark((function e(t,n){var i,o,c,u,l,p,d,f,m,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,a.Z)({},e)[x]}));case 4:return l=e.sent,p=l.projectId,d=l.pageType,f=(0,r.Z)(l,g),m=["objectsFlavor"].reduce((function(e,t){return e[t]=void 0!==i[t]?i[t]:f[t],e}),{}),e.prev=9,e.next=12,o(h.s,{projectId:i.projectId||p,key:d,value:JSON.stringify(m)});case 12:if(v=e.sent,2e4!==v.data.code){e.next=17;break}return e.next=17,c({type:"save",payload:(0,a.Z)({},i)});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))}}},76751:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722),c=function(e,t){return o.h.post("waiter-session/chart/v2/find/"+e,t)},s=function(e,t){return o.h.post("waiter-session/chart/find/"+e,t)},u=function(e){return o.h.post("/waiter-session/overview/product/find",e)},l=n(87219),p=n(64396),d=n(24147),f=p.Z.service.overview,h={sessionData:void 0,platformData:void 0,shopData:void 0,productData:void 0,productSession:[],productPagination:{current:1,pageSize:5,total:0},projectId:void 0,headerFilterParamsNew:void 0,dateFilter:void 0,dateGroupType:"DAY",pageType:"WAITER_SESSION_OVERVIEW"};const m={namespace:f,state:JSON.parse(JSON.stringify(h)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},h)}},effects:{fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchSessionData",payload:r});case 4:return e.next=6,a({type:"fetchPlatformData",payload:r});case 6:return e.next=8,a({type:"fetchShopData",payload:r});case 8:return e.next=10,a({type:"fetchProductData",payload:r});case 10:case"end":return e.stop()}}),e)})),fetchSessionData:i().mark((function e(t,n){var a,o,s,u,p,d,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[f]}));case 4:return p=e.sent,d=p.projectId,h=p.dateFilter,m=p.headerFilterParamsNew,v=p.dateGroupType,y="error",g=(0,l.ZP)(a.dateFilter||h,(function(e){e.dateGroupType=a.dateGroupType||v})),e.prev=11,e.next=14,[o(c,"SESSION_TIME_CHART",{projectId:a.projectId||d,dateFilter:g,headerFilterParamsNew:a.headerFilterParamsNew||m}),o(c,"SESSION_TIME_CHART",{projectId:a.projectId||d,dateFilter:g,headerFilterParamsNew:a.headerFilterParamsNew||m,queryType:"SUBJECT"})];case 14:I=e.sent,b=I[0].data,T=I[1].data,y=2e4===b.code&&2e4===T.code&&null!=(x=b.result)&&x.data.length?{total:b.result,mention:T.result}:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(11);case 22:return e.prev=22,e.next=25,s({type:"save",payload:(0,r.Z)({sessionData:y},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[11,20,22,26]])})),fetchPlatformData:i().mark((function e(t,n){var a,o,c,u,p,d,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[f]}));case 4:return p=e.sent,d=p.projectId,h=p.dateFilter,m=p.headerFilterParamsNew,v=p.dateGroupType,y="error",g=(0,l.ZP)(a.dateFilter||h,(function(e){e.dateGroupType=a.dateGroupType||v})),e.prev=11,e.next=14,o(s,"NEW_DATA_TREND_LINE",{projectId:a.projectId||d,dateFilter:g,headerFilterParamsNew:a.headerFilterParamsNew||m,groupType:"SOURCE"});case 14:x=e.sent,I=x.data,y=2e4===I.code&&0!==I.result.length?I.result:"empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,c({type:"save",payload:(0,r.Z)({platformData:y},a)});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchShopData:i().mark((function e(t,n){var a,o,c,u,p,d,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[f]}));case 4:return p=e.sent,d=p.projectId,h=p.dateFilter,m=p.headerFilterParamsNew,v=p.dateGroupType,y="error",g=(0,l.ZP)(a.dateFilter||h,(function(e){e.dateGroupType=a.dateGroupType||v})),e.prev=11,e.next=14,o(s,"NEW_DATA_TREND_LINE",{projectId:a.projectId||d,dateFilter:g,headerFilterParamsNew:a.headerFilterParamsNew||m,groupType:"SHOP"});case 14:x=e.sent,I=x.data,y=2e4===I.code&&0!==I.result.length?I.result:"empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,c({type:"save",payload:(0,r.Z)({shopData:y},a)});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchProductData:i().mark((function e(t,n){var a,o,c,s,l,p,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[f]}));case 4:return l=e.sent,p=l.projectId,h=l.dateFilter,m=l.headerFilterParamsNew,v=l.pageType,y=l.productPagination,g=l.productSession,x="error",e.prev=12,e.next=15,o(u,{projectId:a.projectId||p,dateFilter:a.dateFilter||h,headerFilterParamsNew:a.headerFilterParamsNew||m,pageType:v,position:a.productSession||g});case 15:I=e.sent,b=I.data,x=2e4===b.code&&b.result.length>0?b.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,c({type:"save",payload:(0,r.Z)({productData:Array.isArray(x)?(0,d.MW)(x):x,productPagination:{total:Array.isArray(x)?x.length:0,pagesize:a.pagesize||y.pagesize,current:a.pageIndex||y.current}},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])}))}}},24147:(e,t,n)=>{"use strict";n.d(t,{MW:()=>c,js:()=>s});n(15086);var r=n(94055),a=n(67294),i=n(33798),o=n(39432),c=function(e){if(0!==e.length)return e.map((function(e,t){var n=Object.entries(e)[0],r=n[0],a=n[1],i=a[0],o=a[1],c=Number(i),s=Number(o),u=0,l="",p="--";return 0!==s&&(u=(c-s)/s*100,l=Math.abs(u).toFixed(2)+"%",p=""+u/Math.abs(u)),{index:t+1,goods:r,currCount:c,prevCount:s,linkIndex:{text:l,icon:p}}}))},s=function(e){return[{titlie:"",width:"0.1%"},{title:"\u5e8f\u53f7",dataIndex:"index",key:"index",width:"10%",render:function(e){return a.createElement("span",null,e)}},{title:"\u5546\u54c1",dataIndex:"goods",key:"goods",width:"24%",render:function(t){return a.createElement("span",{onClick:function(){return e(t)},className:"goodsStyle"},t)}},{title:"\u5f53\u524d\u4f1a\u8bdd\u91cf",dataIndex:"currCount",key:"currCount",width:"24%",render:function(e){return a.createElement("span",null,(0,o.hE)(e))}},{title:"\u5f80\u671f\u4f1a\u8bdd\u91cf",dataIndex:"prevCount",key:"prevCount",width:"24%",render:function(e){return a.createElement("span",null,(0,o.hE)(e))}},{title:function(e){return a.createElement("span",{style:{paddingLeft:"20px"}},"\u73af\u6bd4",a.createElement(r.default,{overlay:"\u73af\u6bd4 = (\u5f53\u671f\u4f1a\u8bdd\u91cf\uff0d\u5f80\u671f\u4f1a\u8bdd\u91cf\uff09\xf7 \u5f80\u671f\u4f1a\u8bdd\u91cf \xd7 100%"},a.createElement("i",{style:{marginLeft:4},className:"icon-cem_file1"})))},dataIndex:"linkIndex",key:"linkIndex",width:"17%",render:function(e){return"--"===u(e.icon)?a.createElement("div",{style:{marginLeft:"40px"}},"--"):a.createElement("div",{style:{display:"inline-block",width:100,textAlign:"right"}},e.text,u(e.icon))}}]},u=function(e){return"number"===typeof e&&e?a.createElement(i.Z,{style:{fontSize:"12px",margin:"0 10px",cursor:"default"},defaultIcon:e>0?"shangsheng":"xiajiang",activeIcon:e>0?"shangsheng":"xiajiang"}):"--"}},33604:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722),c=function(e){return o.h.post("waiter-session/chart/v2/find/SESSION_TIME_CHART",e)},s=function(e){return o.h.post("/waiter-session/aspectAnalyse",e)},u=n(64396),l=n(87219),p=u.Z.service.spu,d={lineData:void 0,pagination:{current:1,pageSize:5,total:0},aspectData:void 0,aspectLoading:!1,aspectTableData:void 0,aspectTableLoading:!1,totalAspectCount:0,totalAspectPreCount:0,topicData:void 0,topicLoading:!1,topicTableData:void 0,topicTableLoading:!1,totalTopicCount:0,totalTopicPreCount:0,projectId:void 0,analysisModel:void 0,filterValues:[],headerFilterParamsNew:void 0,dateFilter:void 0,position:[],pageType:"WAITER_SESSION_PRODUCT_SINGLE",dateGroupType:"DAY"};const f={namespace:p,state:JSON.parse(JSON.stringify(d)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},d)}},effects:{fetchData:i().mark((function e(t,n){var a,o,c,s,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[p]}));case 4:return s=e.sent,u=s.projectId,l=s.headerFilterParamsNew,d=s.dateFilter,e.next=10,o({type:"fetchLineData",payload:a});case 10:return e.next=12,o({type:"fetchChartData",payload:{position:a.position,projectId:a.projectId||u,headerFilterParamsNew:a.headerFilterParamsNew||l,dateFilter:a.dateFilter||d,queryType:"FOCUS"}});case 12:return e.next=14,o({type:"fetchChartData",payload:(0,r.Z)({},a,{queryType:"TOPIC"})});case 14:case"end":return e.stop()}}),e)})),fetchLineData:i().mark((function e(t,n){var a,o,s,u,d,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[p]}));case 4:return d=e.sent,f=d.projectId,h=d.headerFilterParamsNew,m=d.dateFilter,v=d.position,y=d.dateGroupType,g="error",x=(0,l.ZP)(a.dateFilter||m,(function(e){e.dateGroupType=a.dateGroupType||y})),e.prev=12,e.next=15,o(c,{projectId:a.projectId||f,dateFilter:x,headerFilterParamsNew:a.headerFilterParamsNew||h,position:a.position||v});case 15:I=e.sent,b=I.data,g=2e4===b.code&&b.result.data.length>0?b.result:"empty",e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,s({type:"save",payload:(0,r.Z)({},a,{lineData:g,pagination:{current:1,pageSize:5,total:g.data?g.data.length:0}})});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])})),fetchChartData:i().mark((function e(t,n){var a,o,c,u,l,d,f,h,m,v,y,g,x,I,b,T,E,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,c=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[p]}));case 4:return d=e.sent,f=d.projectId,h=d.headerFilterParamsNew,m=d.dateFilter,v=d.position,y="error",g=o.queryType,x=o.aspect1,I=0,b=0,e.next=14,u({type:"save",payload:(a={},a["FOCUS"===g?"aspectLoading":"topicLoading"]=!0,a)});case 14:return e.prev=14,e.next=17,c(s,{queryType:g,projectId:o.projectId||f,dateFilter:o.dateFilter||m,headerFilterParamsNew:o.headerFilterParamsNew||h,position:o.position||v});case 17:if(T=e.sent,!(2e4===(E=T.data).code&&E.result.length>0)){e.next=27;break}return y=E.result.map((function(e){return(0,r.Z)({},e,{name:e.aspectName})})),E.result.every((function(e){return 0===e.count}))&&(y="empty"),x&&"TOPIC"!==g&&JSON.stringify(x)!==JSON.stringify(E.result.map((function(e){return e.aspectName})))||(I=E.result.reduce((function(e,t){return e+t.count}),0),b=E.result.reduce((function(e,t){return e+t.preCount}),0)),e.next=25,u({type:"fetchTableData",payload:{queryType:g,aspect1:x||"TOPIC"===g?[E.result[0].aspectName]:E.result.map((function(e){return e.aspectName}))}});case 25:e.next=28;break;case 27:y="empty";case 28:e.next=32;break;case 30:e.prev=30,e.t0=e.catch(14);case 32:return e.prev=32,e.next=35,u({type:"save",payload:(0,r.Z)({},o,(w={},w["FOCUS"===g?"aspectLoading":"topicLoading"]=!1,w["FOCUS"===g?"aspectData":"topicData"]=y,w["FOCUS"===g?"totalAspectCount":"totalTopicCount"]=I,w["FOCUS"===g?"totalAspectPreCount":"totalTopicPreCount"]=b,w))});case 35:return e.finish(32);case 36:case"end":return e.stop()}}),e,null,[[14,30,32,36]])})),fetchTableData:i().mark((function e(t,n){var a,o,c,u,l,d,f,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.payload,c=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[p]}));case 4:return d=e.sent,f=d.projectId,h=d.headerFilterParamsNew,m=d.dateFilter,v=d.position,g=o.queryType,x=o.aspect1,e.next=12,u({type:"save",payload:(a={},a["FOCUS"===g?"aspectTableLoading":"topicTableLoading"]=!0,a)});case 12:return e.prev=12,e.next=15,c(s,{queryType:g,projectId:o.projectId||f,dateFilter:o.dateFilter||m,headerFilterParamsNew:o.headerFilterParamsNew||h,position:o.position||v,aspect1:x});case 15:I=e.sent,2e4===(b=I.data).code&&b.result.length>0&&(y=b.result.map((function(e){return(0,r.Z)({},e,{name:e.aspectName})}))),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(12);case 22:return e.prev=22,e.next=25,u({type:"save",payload:(0,r.Z)({},o,(T={},T["FOCUS"===g?"aspectTableLoading":"topicTableLoading"]=!1,T["FOCUS"===g?"aspectTableData":"topicTableData"]=y,T))});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[12,20,22,26]])}))}}},91568:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(87462),a=n(87757),i=n.n(a),o=n(87219),c=n(15861),s=n(49722),u="SOCIAL_MODEL_COMPARISON_DEFAULT";function l(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.analysisModel,i=e.emotion;return s.h.post("/brand-analysis/chart/find/BRAND_VOLUME_CONTRAST",{projectId:t,dateFilter:n,filterModel:r,analysisModel:a,emotion:i})}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,c.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",s.h.post("/default/value/find",{projectId:n,key:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",s.h.post("/default/value/update",{projectId:n,key:u,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=n(64396).Z.social.models.comparison,v={timeType:"",fTimeType:"",formulaType:"",fFormulaType:"",volumeData:void 0,fetchedVolData:[],negativeTimeType:"",fNegativeTimeType:"",negativeFormulaType:"",fNegativeFormulaType:"",negativeVolData:void 0,fetchedNegVolData:[],positiveTimeType:"",fPositiveTimeType:"",positiveFormulaType:"",fPositiveFormulaType:"",positiveVolData:void 0,fetchedPosVolData:[],projectId:void 0,filterValue:[],analysisModel:[],dateFilter:{},dateRange:0,cachedAnalysisObjs:[]};const y={namespace:m,state:v,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},v)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return e[m]}));case 4:return u=e.sent,l=u.projectId,d={timeType:"DAY",formulaType:"COUNT",negativeTimeType:"DAY",negativeFormulaType:"COUNT",positiveTimeType:"DAY",positiveFormulaType:"COUNT"},f={fTimeType:"",fFormulaType:"",fNegativeTimeType:"",fNegativeFormulaType:"",fPositiveTimeType:"",fPositiveFormulaType:""},e.prev=8,e.next=11,c(p,{projectId:a.projectId||l});case 11:if(h=e.sent,2e4===(v=h.data).code&&v.result){try{f=JSON.parse(v.result)}catch(i){}f.fFormulaType&&(d.formulaType=f.fFormulaType),f.fNegativeFormulaType&&(d.negativeFormulaType=f.fNegativeFormulaType),f.fPositiveFormulaType&&(d.positiveFormulaType=f.fPositiveFormulaType),f.fTimeType&&(d.timeType=f.fTimeType),f.fNegativeTimeType&&(d.negativeTimeType=f.fNegativeTimeType),f.fPositiveTimeType&&(d.positiveTimeType=f.fPositiveTimeType)}e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.next=20,o({type:"save",payload:(0,r.Z)({},a,f,d)});case 20:case"end":return e.stop()}}),e,null,[[8,16]])})),updateFlavors:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,d,h,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[m]}));case 4:return s=e.sent,u=s.projectId,l=s.fTimeType,p=s.fFormulaType,d=s.fNegativeTimeType,h=s.fNegativeFormulaType,v=s.fPositiveTimeType,y=s.fPositiveFormulaType,e.prev=12,g={fTimeType:""===r.timeType||r.timeType?r.timeType:l,fFormulaType:""===r.formulaType||r.formulaType?r.formulaType:p,fNegativeTimeType:""===r.negativeTimeType||r.negativeTimeType?r.negativeTimeType:d,fNegativeFormulaType:""===r.negativeFormulaType||r.negativeFormulaType?r.negativeFormulaType:h,fPositiveTimeType:""===r.positiveTimeType||r.positiveTimeType?r.positiveTimeType:v,fPositiveFormulaType:""===r.positiveFormulaType||r.positiveFormulaType?r.positiveFormulaType:y},e.next=16,a(f,{projectId:u,value:JSON.stringify(g)});case 16:if(x=e.sent,2e4!==x.data.code){e.next=21;break}return e.next=21,o({type:"save",payload:g});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:case"end":return e.stop()}}),e,null,[[12,23]])})),fetchVolumeData:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,v,y,g,x,I,b,T,E,w,k,C,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return e[m]}));case 4:if(p=e.sent,d=p.projectId,f=p.filterValue,h=p.analysisModel,v=p.dateFilter,y=p.timeType,g=p.fetchedVolData,x=p.cachedAnalysisObjs,I="error",b=g,T=x,e.prev=13,a.filtedObjs){e.next=25;break}return E=a.timeType||y,w=(0,o.ZP)(a.dateFilter||v,(function(e){e.dateGroupType=E})),k={projectId:a.projectId||d,dateFilter:w,filterModel:a.filterValue||f,analysisModel:a.analysisModel||h},e.next=20,c(l,k);case 20:C=e.sent,2e4===(S=C.data).code&&S.result.length>0?(I=S.result,b=S.result,T=k.analysisModel[0].values[0].values):I="empty",e.next=26;break;case 25:I=a.filtedObjs.map((function(e){return b.find((function(t){return t.name===e}))}));case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(13);case 30:return e.prev=30,e.next=33,s({type:"save",payload:(0,r.Z)({},a,{volumeData:I,cachedAnalysisObjs:T,fetchedVolData:b})});case 33:return e.finish(30);case 34:case"end":return e.stop()}}),e,null,[[13,28,30,34]])})),fetchNegativeVolumeData:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return e[m]}));case 4:if(p=e.sent,d=p.projectId,f=p.filterValue,h=p.analysisModel,v=p.dateFilter,y=p.negativeTimeType,g=p.fetchedNegVolData,x="error",I=g,e.prev=12,a.filtedObjs){e.next=24;break}return b=a.negativeTimeType||y,T=(0,o.ZP)(a.dateFilter||v,(function(e){e.dateGroupType=b})),E={projectId:a.projectId||d,dateFilter:T,filterModel:a.filterValue||f,analysisModel:a.analysisModel||h,emotion:"-1"},e.next=19,c(l,E);case 19:w=e.sent,2e4===(k=w.data).code&&k.result.length>0?(x=k.result,I=k.result):x="empty",e.next=25;break;case 24:x=a.filtedObjs.map((function(e){return I.find((function(t){return t.name===e}))}));case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(12);case 29:return e.prev=29,e.next=32,s({type:"save",payload:(0,r.Z)({},a,{negativeVolData:x,fetchedNegVolData:I})});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[12,27,29,33]])})),fetchPositiveVolumeData:i().mark((function e(t,n){var a,c,s,u,p,d,f,h,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return e[m]}));case 4:if(p=e.sent,d=p.projectId,f=p.filterValue,h=p.analysisModel,v=p.dateFilter,y=p.positiveTimeType,g=p.fetchedPosVolData,x="error",I=g,e.prev=12,a.filtedObjs){e.next=24;break}return b=a.positiveTimeType||y,T=(0,o.ZP)(a.dateFilter||v,(function(e){e.dateGroupType=b})),E={projectId:a.projectId||d,dateFilter:T,filterModel:a.filterValue||f,analysisModel:a.analysisModel||h,emotion:"1"},e.next=19,c(l,E);case 19:w=e.sent,2e4===(k=w.data).code&&k.result.length>0?(x=k.result,I=k.result):x="empty",e.next=25;break;case 24:x=a.filtedObjs.map((function(e){return I.find((function(t){return t.name===e}))}));case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(12);case 29:return e.prev=29,e.next=32,s({type:"save",payload:(0,r.Z)({},a,{positiveVolData:x,fetchedPosVolData:I})});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[12,27,29,33]])}))}}},61888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.analysisModel,i=e.emotion;return o.h.post("/brand-analysis/chart/find/BRAND_VOLUME_TOP",{projectId:t,dateFilter:n,filterModel:r,analysisModel:a,topSize:10,emotion:i})}var s=n(64396).Z.social.models.top,u={projectId:void 0,filterValue:[],dateFilter:{},brand:"",volumeData:void 0,negativeVolData:void 0};const l={namespace:s,state:u,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},u)}},effects:{fetchDatas:i().mark((function e(t,n){var r,a,o,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,o=n.select,e.next=4,o((function(e){return e[s]}));case 4:if(c=e.sent,u=c.dateFilter,l=c.projectId,p=c.filterValue,JSON.stringify(u)===JSON.stringify(r.dateFilter)&&JSON.stringify(l)===JSON.stringify(r.projectId)&&JSON.stringify(p)===JSON.stringify(r.filterValue)){e.next=13;break}return e.next=11,a({type:"fetchVolumeData",payload:r});case 11:return e.next=13,a({type:"fetchNegativeVolumeData",payload:r});case 13:case"end":return e.stop()}}),e)})),fetchVolumeData:i().mark((function e(t,n){var a,o,u,l,p,d,f,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return e[s]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.filterValue,e.next=10,l((function(e){return e.screening.curScreeningMap}));case 10:return m=e.sent,v=m.find((function(e){return"BRAND_SERIES"===e.id})).data.find((function(e){return"BRAND"===e.id})).options,y=a.analysisModel.find((function(e){return"BRAND_SERIES"===e.id})).values.find((function(e){return"BRAND"===e.id})).values[0],g=v.find((function(e){return e.id===y})).label,x={projectId:a.projectId||d,dateFilter:a.dateFilter||f,filterModel:a.filterValue||h,analysisModel:a.analysisModel},I="error",e.prev=16,e.next=19,o(c,x);case 19:b=e.sent,T=b.data,I=2e4===T.code&&T.result.topList&&T.result.topList.length>0?T.result.topList:"empty",e.next=26;break;case 24:e.prev=24,e.t0=e.catch(16);case 26:return e.prev=26,e.next=29,u({type:"save",payload:(0,r.Z)({},a,{volumeData:I,brand:g})});case 29:return e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[16,24,26,30]])})),fetchNegativeVolumeData:i().mark((function e(t,n){var a,o,u,l,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return e[s]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.filterValue,m={projectId:a.projectId||d,dateFilter:a.dateFilter||f,filterModel:a.filterValue||h,analysisModel:a.analysisModel,emotion:"-1"},v="error",e.prev=10,e.next=13,o(c,m);case 13:y=e.sent,g=y.data,v=2e4===g.code&&g.result&&g.result.topList.length>0?g.result.topList:"empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,u({type:"save",payload:(0,r.Z)({},a,{negativeVolData:v})});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])}))}}},89259:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.analysisModel,i=e.label;return o.h.post("/brand-analysis/chart/find/ASPECT_TREND",{projectId:t,dateFilter:n,filterModel:r,analysisModel:a,label:i})}function s(e){var t=e.projectId,n=e.dateFilter,r=e.analysisModel,a=e.filterModel,i=e.aspectEmotion,c=e.label;return o.h.post("/brand-analysis/chart/find/THIRTY_DAYS_COUNT",{projectId:t,dateFilter:n,analysisModel:r,filterModel:a,aspectEmotion:i,label:c})}function u(e){var t=e.projectId,n=e.dateFilter,r=e.analysisModel,a=e.filterModel,i=e.aspectEmotion,c=e.label;return o.h.post("/brand-analysis/chart/find/BRAND_VOLUME_TOP",{projectId:t,dateFilter:n,analysisModel:r,filterModel:a,topSize:7,aspectEmotion:i,label:c})}function l(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.pageIndex,i=e.pageSize,c=e.aspectEmotion,s=e.label;return o.h.post("/brand-analysis/chart/find/BRAND_VOLUME_DETAIL",{projectId:t,dateFilter:n,filterModel:r,pageIndex:a,aspectEmotion:c,pageSize:i,label:s})}var p=n(65556),d=n(64396),f=n(30381),h=n.n(f),m=d.Z.social.tag.detail,v={trendData:void 0,seriesOther:0,seriesData:void 0,messageData:void 0,pageIndex:1,pageSize:10,projectId:void 0,dateFilter:{},filterModel:[],analysisModel:[],aspectEmotion:8};const y={namespace:m,state:v,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},v)}},effects:{fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchTrendData",payload:r});case 4:if(!r.pageType.includes("brand")){e.next=7;break}return e.next=7,a({type:"fetchSeriesData",payload:r});case 7:return e.next=9,a({type:"fetchMessageList",payload:r});case 9:case"end":return e.stop()}}),e)})),fetchNear30TotalData:i().mark((function e(t,n){var a,o,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,n.select,e.prev=2,e.next=5,o(s,{filterModel:a.filterModel,dateFilter:{dateGroupType:"DAY",numOfDays:30,quickChoice:"\u8fd130\u5929",remoteName:"cTime",to:h()().format("YYYY-MM-DD"),from:h()().subtract(29,"days").format("YYYY-MM-DD")},projectId:a.projectId,analysisModel:a.analysisModel,aspectEmotion:a.aspectEmotion,label:a.label});case 5:if(u=e.sent,2e4!==(l=u.data).code||!l.result){e.next=10;break}return e.next=10,c({type:"save",payload:{trendData:(0,r.Z)({},a.trendData,{near30Total:l.result})}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})),fetchTrendData:i().mark((function e(t,n){var a,o,s,u,l,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,n.select,u="error",l=a.aspectEmotion,e.prev=4,e.next=7,o(c,{filterModel:a.filterModel,dateFilter:a.dateFilter,projectId:a.projectId,analysisModel:a.analysisModel,label:a.label});case 7:if(d=e.sent,!(2e4===(f=d.data).code&&f.result.length>0)){e.next=17;break}return h=JSON.parse((0,p.WZ)(f.result)),m=3===l?h[0].dateList.reduce((function(e,t){return e+t.negative}),0):8===l?h[0].dateList.reduce((function(e,t){return e+t.positive}),0):h[0].total,u={dataList:f.result,total:m,near30Total:0},e.next=15,s({type:"fetchNear30TotalData",payload:(0,r.Z)({},a,{trendData:u})});case 15:e.next=18;break;case 17:u="empty";case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(4);case 22:return e.prev=22,e.next=25,s({type:"save",payload:(0,r.Z)({trendData:u},a)});case 25:return e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[4,20,22,26]])})),fetchSeriesData:i().mark((function e(t,n){var a,o,c,s,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,n.select,s={projectId:a.projectId,dateFilter:a.dateFilter,filterModel:a.filterModel,analysisModel:a.analysisModel,aspectEmotion:a.aspectEmotion,label:a.label},l="error",e.prev=4,e.next=7,o(u,s);case 7:return p=e.sent,d=p.data,l=2e4===d.code&&d.result?d.result.topList:"empty",e.next=12,c({type:"save",payload:(0,r.Z)({},a,{seriesData:l,seriesOther:d.result.otherNum})});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(4);case 16:case"end":return e.stop()}}),e,null,[[4,14]])})),fetchMessageList:i().mark((function e(t,n){var a,o,c,s,u,p,d,f,h,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return e[m]}));case 4:return u=e.sent,p=u.projectId,d=u.dateFilter,f=u.filterModel,h=u.aspectEmotion,v=u.pageIndex,y=u.pageSize,g=u.label,x="error",e.prev=13,I=a.pageIndex||v,b=a.pageSize||y,e.next=18,o(l,{projectId:a.projectId||p,dateFilter:a.dateFilter||d,filterModel:a.filterModel||f,aspectEmotion:void 0===a.aspectEmotion?h:a.aspectEmotion,pageIndex:(I-1)*b,pageSize:b,label:a.label||g});case 18:T=e.sent,E=T.data,x=2e4===E.code&&E.result&&E.result.total>0?E.result:"empty",e.next=25;break;case 23:e.prev=23,e.t0=e.catch(13);case 25:return e.prev=25,e.next=28,c({type:"save",payload:(0,r.Z)({},a,{messageData:x})});case 28:return e.finish(25);case 29:case"end":return e.stop()}}),e,null,[[13,23,25,29]])}))}}},56847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return"SOCIAL_TAG_"+e.toUpperCase()+"_TOP_PAGE_TAG"}function u(e){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,s=t.aspectLevel,u=t.pageType,l=t.checkedTag,p=t.aspectEmotion,d=t.orderType,e.abrupt("return",c.h.post("/tag-analysis/chart/find/TAG_TOP_30_"+(u.includes("brand")?"BRAND":"SERIES")+"_VOLUME",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o,aspectLevel:s,topSize:30,checkedTag:l,aspectEmotion:p,orderType:d}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,s=t.aspectLevel,u=t.pageType,l=t.checkedTag,p=t.aspectEmotion,d=t.orderType,e.abrupt("return",c.h.post("/tag-analysis/chart/find/TAG_TOP_30_"+(u.includes("brand")?"BRAND":"SERIES")+"_PROPORTION",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o,aspectLevel:s,topSize:30,checkedTag:l,aspectEmotion:p,orderType:d}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.pageType,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:s(r)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.pageType,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:s(a),value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(64396),g=n(35239),x=y.Z.social.tag.top30,I={emotionType:"",flavorEmotionType:"",aspectLevel:"",flavorAspectLevel:"",rangeType:"",flavorRangeType:"",chart1Data:void 0,cacheChart1Data:[],cachedOrigin1:void 0,chart2Data:void 0,cacheChart2Data:[],cachedOrigin2:void 0,chart3Data:void 0,cacheChart3Data:[],projectId:void 0,filterModel:[],dateFilter:{},analysisModel:[],cachedAnalysisObjs:[],pageType:""};const b={namespace:x,state:Object.assign({},I),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e){return Object.assign({},I)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s={emotionType:"all",aspectLevel:"VOC_ASPECT_FIRST",rangeType:"group_desc"},u={flavorEmotionType:"",flavorAspectLevel:"",flavorRangeType:""},e.prev=4,e.next=7,o(f,{projectId:a.projectId||g.t.get(g.V.curProject).id,pageType:a.pageType});case 7:l=e.sent,2e4===(p=l.data).code&&p.result&&(u=JSON.parse(p.result)),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:return u.flavorEmotionType&&(s.emotionType=u.flavorEmotionType),u.flavorAspectLevel&&(s.aspectLevel=u.flavorAspectLevel),u.flavorRangeType&&(s.rangeType=u.flavorRangeType),d=(0,r.Z)({},a,u,s),e.next=20,c({type:"save",payload:d});case 20:return e.next=22,c({type:"fetchChartsData",payload:d});case 22:case"end":return e.stop()}}),e,null,[[4,12]])})),fetchChartsData:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"fetchChart1Data",payload:r});case 4:case"end":return e.stop()}}),e)})),fetchChart1Data:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,y,I,b,T,E,w,k,C,S,N,O,_,j,A,D,M,R,L,P,F,Z,V;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[x]}));case 4:if(l=e.sent,p=l.projectId,d=l.dateFilter,f=l.filterModel,h=l.analysisModel,m=l.aspectLevel,v=l.cacheChart1Data,y=l.cachedAnalysisObjs,I=l.pageType,b=l.rangeType,T=l.emotionType,E=l.cachedOrigin1,w="error",k="error",C=v,S=y,N=E,O=a.emotionType||T,_=a.rangeType||b,e.prev=19,a.filtedObjs&&"empty"!==w&&"error"!==w){e.next=45;break}return j={projectId:a.projectId||p||g.t.get(g.V.curProject).id,dateFilter:a.dateFilter||d,filterModel:a.filterModel||f,analysisModel:a.analysisModel||h,aspectLevel:a.lastAspectLevel||a.aspectLevel||m,pageType:a.pageType||I,checkedTag:a.aspect,aspectEmotion:"all"===O?void 0:O,orderType:_},e.next=24,o(u,j);case 24:if(A=e.sent,2e4!==(D=A.data).code||!D.result.length){e.next=42;break}return M=[],0===(R=D.result.reduce((function(e,t){if(!t.tagCountVOs||0===t.tagCountVOs.length)return M.push(t.brandSeries.split("_")[1]),e;var n=t.tagCountVOs.map((function(e){var t=e.escoreCountVOs.find((function(e){return 3===e.escore})),n=t?t.count:0,r=e.escoreCountVOs.find((function(e){return 8===e.escore})),a=r?r.count:0,i=a+n;return{name:e.aspect,positiveCount:a,positiveRate:a/i,negativeCount:n,negativeRate:n/i,totalCount:i}}));return e.push({name:t.brandSeries.split("_")[1],values:n}),e}),[])).length?(w="empty",N=[],C=[],S=j.analysisModel[0].values[0].values,new Error):M.length>0&&(L=R[0],M.forEach((function(e){R.push({name:e,values:L.values.map((function(e){return{name:e.name,positiveCount:0,positiveRate:0,negativeCount:0,negativeRate:0}}))})}))),P=j.analysisModel[0].values[0].values.map((function(e){return R.find((function(t){return t.name===e.split("_")[1]}))})),F="all"===O?"totalCount":"8"===O?"positiveCount":"negativeCount",P[0].values=P[0].values.sort((function(e,t){return _.endsWith("asc")?e[F]-t[F]:t[F]-e[F]})),P.forEach((function(e,t){t&&(e.values=P[0].values.map((function(t){var n=e.values.find((function(e){return e.name===t.name}));return n||{name:t.name,positiveCount:0,positiveRate:0,negativeCount:0,negativeRate:0}})))})),w=P,N=D.result,C=P,S=j.analysisModel[0].values[0].values,e.next=40,s({type:"fetchChart2Data",payload:(0,r.Z)({},a,{chart1Data:w})});case 40:e.next=43;break;case 42:w="empty";case 43:e.next=52;break;case 45:if(w=a.filtedObjs.reduce((function(e,t){var n=C.find((function(e){return e.name===t}));return n&&e.push(n),e}),[]),!(w.length>0)){e.next=51;break}return e.next=49,s({type:"fetchChart2Data",payload:(0,r.Z)({},a,{chart1Data:w})});case 49:e.next=52;break;case 51:w="empty";case 52:e.next=56;break;case 54:e.prev=54,e.t0=e.catch(19);case 56:return e.prev=56,"empty"===w||"error"===w||_.startsWith("group")?k=w:(k=JSON.parse(JSON.stringify(w)),Z="8"===O?"positiveRate":"negativeRate",k[0].values=k[0].values.sort((function(e,t){return _.endsWith("asc")?e[Z]-t[Z]:t[Z]-e[Z]})),k.forEach((function(e,t){t&&(e.values=k[0].values.map((function(t){var n=e.values.find((function(e){return e.name===t.name}));return n||{name:t.name,positiveCount:0,positiveRate:0,negativeCount:0,negativeRate:0}})))}))),V=(0,r.Z)({},a,{chart1Data:w,chart3Data:k,cachedOrigin1:N,cacheChart1Data:C,cachedAnalysisObjs:S}),"error"===w&&(V.chart2Data="error"),"empty"===w&&(V.chart2Data="empty"),e.next=63,s({type:"save",payload:V});case 63:return e.finish(56);case 64:case"end":return e.stop()}}),e,null,[[19,54,56,64]])})),fetchChart2Data:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,v,y,I,b,T,E,w,k,C,S,N,O,_,j,A,D,M,R;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[x]}));case 4:if(u=e.sent,l=u.projectId,d=u.dateFilter,f=u.filterModel,h=u.analysisModel,m=u.aspectLevel,v=u.cacheChart2Data,y=u.pageType,I=u.rangeType,b=u.emotionType,T=u.cachedOrigin2,E="error",w=v,k=T,e.prev=16,a.filtedObjs){e.next=28;break}return C=a.rangeType||I,S=a.emotionType||b,N={projectId:a.projectId||l||g.t.get(g.V.curProject).id,dateFilter:a.dateFilter||d,filterModel:a.filterModel||f,analysisModel:a.analysisModel||h,aspectLevel:a.lastAspectLevel||a.aspectLevel||m,pageType:a.pageType||y,aspectEmotion:"all"===S?void 0:S,orderType:C,checkedTag:a.aspect},e.next=23,o(p,N);case 23:O=e.sent,2e4===(_=O.data).code&&_.result.length?(j=[],0===(A=_.result.reduce((function(e,t){if(!t.tagCountVOs||0===t.tagCountVOs.length)return j.push(t.brandSeries.split("_")[1]),e;var n=t.posCount+t.negCount,r=t.tagCountVOs.map((function(e){var r=e.escoreCountVOs.find((function(e){return 3===e.escore})),a=r?r.count:0,i=e.escoreCountVOs.find((function(e){return 8===e.escore})),o=i?i.count:0;return{name:e.aspect,positiveRate:o/t.posCount,negativeRate:a/t.negCount,voiceRate:(o+a)/n}}));return e.push({name:t.brandSeries.split("_")[1],values:r}),e}),[])).length?(E="empty",k=[],w=[],new Error):j.length>0&&(D=A[0],j.forEach((function(e){A.push({name:e,values:D.values.map((function(e){return{name:e.name,positiveRate:0,negativeRate:0,voiceRate:0}}))})}))),a.chart1Data&&C.startsWith("group")?A[0].values=a.chart1Data[0].values.map((function(e){var t=A[0].values.find((function(t){return t.name===e.name}));return t||{name:e.name,positiveRate:0,negativeRate:0,voiceRate:0}})):(M="all"===S?"voiceRate":"8"===b?"positiveRate":"negativeRate",A[0].values=A[0].values.sort((function(e,t){return C.endsWith("asc")?e[M]-t[M]:t[M]-e[M]}))),R=N.analysisModel[0].values[0].values.map((function(e){return A.find((function(t){return t.name===e.split("_")[1]}))})).filter((function(e){return e})),E=R,k=_.result,w=R):E="empty",e.next=29;break;case 28:E=a.filtedObjs.reduce((function(e,t){var n=w.find((function(e){return e.name===t}));return n&&e.push(n),e}),[]);case 29:e.next=33;break;case 31:e.prev=31,e.t0=e.catch(16);case 33:return e.prev=33,e.next=36,s({type:"save",payload:(0,r.Z)({},a,{chart2Data:E,cachedOrigin2:k,cacheChart2Data:w})});case 36:return e.finish(33);case 37:case"end":return e.stop()}}),e,null,[[16,31,33,37]])})),updateFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[x]}));case 4:return u=e.sent,l=u.projectId,p=u.flavorEmotionType,d=u.flavorAspectLevel,f=u.flavorRangeType,h=u.pageType,e.prev=10,v={flavorEmotionType:void 0!==a.emotionType?a.emotionType:p,flavorAspectLevel:void 0!==a.aspectLevel?a.aspectLevel:d,flavorRangeType:void 0!==a.rangeType?a.rangeType:f},e.next=14,o(m,{projectId:l,pageType:h,value:JSON.stringify(v)});case 14:if(y=e.sent,2e4!==y.data.code){e.next=19;break}return e.next=19,s({type:"save",payload:v});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(10);case 23:case"end":return e.stop()}}),e,null,[[10,21]])}))}}},13885:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(87219),c=n(49722),s=n(65556);function u(e){var t=e.projectId,n=e.type;return c.h.post("/default/value/find",{projectId:t,key:"brandTrend"===n?s.M1:s.YG})}function l(e){var t=e.projectId,n=e.type,r=e.value;return c.h.post("/default/value/update",{projectId:t,key:"brandTrend"===n?s.M1:s.YG,value:r})}function p(e){var t=e.projectId;return c.h.post("/brand-analysis/voc-aspect/filter/find",{projectId:t})}function d(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.analysisModel,i=e.label;return c.h.post("/brand-analysis/chart/find/ASPECT_TREND",{projectId:t,dateFilter:n,filterModel:r,analysisModel:a,label:i})}function f(e){var t=e.projectId,n=e.dateFilter,r=e.filterModel,a=e.analysisModel,i=e.label;return c.h.post("/brand-analysis/chart/find/ASPECT_CONTRAST_PROPORTION_TREND",{projectId:t,dateFilter:n,filterModel:r,analysisModel:a,label:i})}var h=n(64396).Z.social.tag.trend,m={label:void 0,filterData:void 0,volTimeType:"",fVolTimeType:"",volType:"",fVolType:"",volumeData:void 0,fetchedVolData:[],ratioTimeType:"",fRatioTimeType:"",ratioType:"",fRatioType:"",ratioData:void 0,fetchedRatioData:[],cmtTimeType:"",fCmtTimeType:"",cmtType:"",fCmtType:"",commentData:void 0,fetchedCmtData:[],projectId:void 0,filterValue:[],analysisModel:[],dateFilter:{},dateRange:0,cachedAnalysisObjs:[]};const v={namespace:h,state:m,reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},m)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.call,s=n.select,e.next=4,s((function(e){return e[h]}));case 4:return l=e.sent,p=l.projectId,d={volTimeType:"DAY",volType:"NEGATIVE",ratioTimeType:"DAY",ratioType:"NEGATIVE",cmtTimeType:"DAY",cmtType:"NEGATIVE"},f={fVolTimeType:"",fVolType:"",fRatioTimeType:"",fRatioType:"",fCmtTimeType:"",fCmtType:""},e.prev=8,e.next=11,c(u,{projectId:a.projectId||p,type:a.type||""});case 11:if(m=e.sent,2e4===(v=m.data).code&&v.result){try{f=JSON.parse(v.result)}catch(i){}f.fVolTimeType&&(d.volTimeType=f.fVolTimeType),f.fVolType&&(d.volType=f.fVolType),f.fRatioTimeType&&(d.ratioTimeType=f.fRatioTimeType),f.fRatioType&&(d.ratioType=f.fRatioType),f.fCmtTimeType&&(d.cmtTimeType=f.fCmtTimeType),f.fCmtType&&(d.cmtType=f.fCmtType)}e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.next=20,o({type:"save",payload:(0,r.Z)({},a,f,d)});case 20:case"end":return e.stop()}}),e,null,[[8,16]])})),updateFlavors:i().mark((function e(t,n){var r,a,o,c,s,u,p,d,f,m,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[h]}));case 4:return s=e.sent,u=s.projectId,p=s.fVolTimeType,d=s.fVolType,f=s.fRatioTimeType,m=s.fRatioType,v=s.fCmtTimeType,y=s.fCmtType,e.prev=12,g={fVolTimeType:""===r.volTimeType||r.volTimeType?r.volTimeType:p,fVolType:""===r.volType||r.volType?r.volType:d,fRatioTimeType:""===r.ratioTimeType||r.ratioTimeType?r.ratioTimeType:f,fRatioType:""===r.ratioType||r.ratioType?r.ratioType:m,fCmtTimeType:""===r.cmtTimeType||r.cmtTimeType?r.cmtTimeType:v,fCmtType:""===r.cmtType||r.cmtType?r.cmtType:y},e.next=16,a(l,{projectId:u,type:r.type||"",value:JSON.stringify(g)});case 16:if(x=e.sent,2e4!==x.data.code){e.next=21;break}return e.next=21,o({type:"save",payload:g});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(12);case 25:case"end":return e.stop()}}),e,null,[[12,23]])})),fetchAspectFliter:i().mark((function e(t,n){var r,a,o,c,s,u,l,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,c((function(e){return e[h]}));case 4:return s=e.sent,u=s.projectId,e.prev=6,e.next=9,a(p,{projectId:r.projectId||u});case 9:if(l=e.sent,!(2e4===(d=l.data).code&&d.result.length>0)){e.next=15;break}return f=d.result[0].id,e.next=15,o({type:"save",payload:{filterData:d.result,label:{id:f}}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:case"end":return e.stop()}}),e,null,[[6,17]])})),fetchVolumeData:i().mark((function e(t,n){var a,c,s,u,l,p,f,m,v,y,g,x,I,b,T,E,w,k,C,S,N;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return e[h]}));case 4:if(l=e.sent,p=l.projectId,f=l.filterValue,m=l.analysisModel,v=l.dateFilter,l.volType,y=l.volTimeType,g=l.fetchedVolData,x=l.label,I=l.cachedAnalysisObjs,b="error",T=g,E=I,e.prev=15,a.filtedObjs){e.next=27;break}return w=a.volTimeType||y,k=(0,o.ZP)(a.dateFilter||v,(function(e){e.dateGroupType=w})),C={projectId:a.projectId||p,dateFilter:k,filterModel:a.filterValue||f,analysisModel:a.analysisModel||m,label:a.label||x},e.next=22,c(d,C);case 22:S=e.sent,2e4===(N=S.data).code&&N.result.length>0?(b=N.result,T=N.result,E=C.analysisModel[0].values[0].values):b="empty",e.next=28;break;case 27:b=a.filtedObjs.map((function(e){return T.find((function(t){return t.name===e}))}));case 28:e.next=32;break;case 30:e.prev=30,e.t0=e.catch(15);case 32:return e.prev=32,e.next=35,s({type:"save",payload:(0,r.Z)({},a,{volumeData:b,fetchedVolData:T,cachedAnalysisObjs:E})});case 35:return e.finish(32);case 36:case"end":return e.stop()}}),e,null,[[15,30,32,36]])})),fetchRatioData:i().mark((function e(t,n){var a,c,s,u,l,p,d,m,v,y,g,x,I,b,T,E,w,k,C,S,N;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return e[h]}));case 4:if(l=e.sent,p=l.projectId,d=l.filterValue,m=l.analysisModel,v=l.dateFilter,l.ratioType,y=l.ratioTimeType,g=l.fetchedRatioData,x=l.label,I="error",b=g,e.prev=14,a.filtedObjs){e.next=26;break}return T=a.ratioTimeType||y,E=(0,o.ZP)(a.dateFilter||v,(function(e){e.dateGroupType=T})),w={projectId:a.projectId||p,dateFilter:E,filterModel:a.filterValue||d,analysisModel:a.analysisModel||m,label:a.label||x},e.next=21,c(f,w);case 21:k=e.sent,2e4===(C=k.data).code&&C.result.length>0?(I=C.result,b=C.result):I="empty",e.next=30;break;case 26:S=a.filtedObjs.map((function(e){return b.filter((function(t){return t.name===e}))})),N=[],S.forEach((function(e){return e.forEach((function(e){N.push((0,r.Z)({},e))}))})),I=N;case 30:e.next=34;break;case 32:e.prev=32,e.t0=e.catch(14);case 34:return e.prev=34,e.next=37,s({type:"save",payload:(0,r.Z)({},a,{ratioData:I,fetchedRatioData:b})});case 37:return e.finish(34);case 38:case"end":return e.stop()}}),e,null,[[14,32,34,38]])})),fetchCmtData:i().mark((function e(t,n){var a,c,s,u,l,p,f,m,v,y,g,x,I,b,T,E,w,k,C,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,u=n.select,e.next=4,u((function(e){return e[h]}));case 4:if(l=e.sent,p=l.projectId,f=l.filterValue,m=l.analysisModel,v=l.dateFilter,y=l.cmtType,g=l.cmtTimeType,x=l.fetchedCmtData,I=l.label,b="error",T=x,e.prev=14,a.filtedObjs){e.next=26;break}return E=a.cmtTimeType||g,w=(0,o.ZP)(a.dateFilter||v,(function(e){e.dateGroupType=E})),k={projectId:a.projectId||p,dateFilter:w,filterModel:a.filterValue||f,analysisModel:a.analysisModel||m,aspectEmotion:a.cmtType||y,label:a.label||I},e.next=21,c(d,k);case 21:C=e.sent,2e4===(S=C.data).code&&S.result.length>0?(b=S.result,T=S.result):b="empty",e.next=27;break;case 26:b=a.filtedObjs.map((function(e){return T.find((function(t){return t.name===e}))}));case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(14);case 31:return e.prev=31,e.next=34,s({type:"save",payload:(0,r.Z)({},a,{commentData:b,fetchedCmtData:T})});case 34:return e.finish(31);case 35:case"end":return e.stop()}}),e,null,[[14,29,31,35]])}))}}},65556:(e,t,n)=>{"use strict";n.d(t,{jn:()=>s,WZ:()=>u,iM:()=>l,gJ:()=>a.ZT,M1:()=>o,YG:()=>c});var r=n(87462),a=n(90126),i=n(87219),o="SOCIAL_TAG_BRAND_TREND",c="SOCIAL_TAG_MODEL_TREND";function s(e){switch(e){case"NEGATIVE":case 3:return[3];case"POSITIVE":case 8:return[8];default:return[3,5,8]}}function u(e){var t=e.reduce((function(e,t){var n=0,a=t.dateList.reduce((function(e,t){var r=e.find((function(e){return e.date===t.date}));if(r)"NEGATIVE"===t.emotion?(r.negative=t.count,r.count=r.count+t.count):(r.positive=t.count,r.count=r.count+t.count);else{var a={date:t.date,negative:0,positive:0,count:t.count};"NEGATIVE"===t.emotion?a.negative=t.count:a.positive=t.count,e.push(a)}return n+=t.count,e}),[]);return e.push((0,r.Z)({},t,{total:n,dateList:a})),e}),[]).map((function(e){return(0,r.Z)({},e,{dateList:e.dateList.map((function(t){return(0,r.Z)({},t,{positiveRate:0===e.total?0:t.positive/e.total,negativeRate:0===e.total?0:t.negative/e.total})}))})}));return JSON.stringify(t)}function l(e){var t=(0,i.ZP)(e,(function(e){e&&e.reduce((function(e,t){var n=e.find((function(e){return e.id===t.id}));return n?n.dateList?(n.total=t.total,n.dateList=n.dateList.reduce((function(e,t){var n=e.find((function(e){return e.date===t.date}));if(n)"NEGATIVE"===t.emotion?(n.negative=t.count,n.count=n.count+t.count):(n.positive=t.count,n.count=n.count+t.count);else{var r={date:t.date,negative:0,positive:0,count:t.count};"NEGATIVE"===t.emotion?r.negative=t.count:r.positive=t.count,e.push(r)}return e}),[])):n.dateList=t.dateList&&t.dateList.reduce((function(e,t){var n=e.find((function(e){return e.date===t.date}));if(n)"NEGATIVE"===t.emotion?(n.negative=t.count,n.count=n.count+t.count):"POSITIVE"===t.emotion&&(n.positive=t.count,n.count=n.count+t.count);else{var r={date:t.date,negative:0,positive:0,count:t.count};"NEGATIVE"===t.emotion?r.negative=t.count:"POSITIVE"===t.emotion&&(r.positive=t.count),e.push(r)}return e}),[]):e.push(t),e}),[])}));return JSON.stringify(t)}},57835:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722),s="SOCIAL_OVERVIEW_PAGE_TAG";function u(e){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,s=t.emotion,e.abrupt("return",c.h.post("/brand-analysis/chart/find/VOLUME_TREND",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o,emotion:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.dateFilter,a=t.filterModel,o=t.analysisModel,e.abrupt("return",c.h.post("/brand-analysis/chart/find/VOLUME_EMOTION_COMPARE",{projectId:n,dateFilter:r,filterModel:a,analysisModel:o}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:s}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:s,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(87219),g=n(64396).Z.social.overview;function x(e){var t=e.reduce((function(e,t,n){return 0===n?(e.ugly=!1,e.tarIdx=0,e.tarLen=t.dateList.length):(e.ugly=t.dateList.length!==e.tarLen,e.tarIdx=t.dateList.length>e.tarLen?n:e.tarIdx,e.tarLen=Math.max(t.dateList.length,e.tarIdx)),e}),{ugly:!1,tarIdx:0,tarLen:0});if(t.ugly){var n=e.slice();return t.tarLen?(n.forEach((function(n,r){r!==t.tarIdx&&t.tarLen!==n.dateList.length&&(n.dateList=e[t.tarIdx].dateList.map((function(e){return{date:e.date,count:0}})))})),n):"empty"}return e}var I={allVoicData:void 0,fetchedAllVoiceData:[],allDateType:"DAY",allDtFlavor:"",compareData:void 0,fetchedCompareData:[],negVoiceData:void 0,fetchedNegVoiceData:[],negDataType:"DAY",negDtFlavor:"",posVoiceData:void 0,fetchedPosVoiceData:[],posDateType:"DAY",posDtFlavor:"",projectId:void 0,filterModel:[],dateFilter:{},analysisModel:[],cachedAnalysisObjs:[],dateOptions:[],defaultDateType:"DAY"};const b={namespace:g,state:Object.assign({},I),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e){return Object.assign({},I)}},effects:{fetchParams:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,h,m,v,y,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[g]}));case 4:if(u=e.sent,l=u.allDtFlavor,p=u.negDtFlavor,d=u.posDtFlavor,h=u.projectId,m=u.analysisModel,v=u.filterValue,y=u.dateFilter,JSON.stringify(m)!==JSON.stringify(a.analysisModel)||JSON.stringify(v)!==JSON.stringify(a.filterValue)||JSON.stringify(y)!==JSON.stringify(a.dateFilter)){e.next=14;break}return e.abrupt("return");case 14:if(x={allDateType:l||a.defaultDateType,negDateType:p||a.defaultDateType,posDateType:d||a.defaultDateType},I={allDtFlavor:l,negDtFlavor:p,posDtFlavor:d},h){e.next=27;break}return e.prev=17,e.next=20,o(f,{projectId:a.projectId});case 20:b=e.sent,2e4===(T=b.data).code&&T.result&&((I=JSON.parse(T.result)).allDtFlavor&&(x.allDateType=I.allDtFlavor),I.negDtFlavor&&(x.negDateType=I.negDtFlavor),I.posDtFlavor&&(x.posDateType=I.posDtFlavor)),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(17);case 27:return["allDateType","negDateType","posDateType"].forEach((function(e){!a.dateOptions.some((function(t){return t.value===x[e]}))&&(x[e]=a.defaultDateType)})),E=(0,r.Z)({},a,I,x),e.next=31,c({type:"fetchAllVoicData",payload:E});case 31:return e.next=33,c({type:"fetchVoicCompareDate",payload:E});case 33:return e.next=35,c({type:"fetchNegVoicData",payload:E});case 35:return e.next=37,c({type:"fetchPosVoicData",payload:E});case 37:case"end":return e.stop()}}),e,null,[[17,25]])})),fetchAllVoicData:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,I,b,T,E,w,k,C,S,N;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[g]}));case 4:if(l=e.sent,p=l.projectId,d=l.dateFilter,f=l.filterValue,h=l.analysisModel,m=l.fetchedAllVoiceData,v=l.cachedAnalysisObjs,I="error",b=m,T=v,e.prev=12,a.filtedObjs){e.next=22;break}return E={projectId:a.projectId||p,dateFilter:(0,y.ZP)(a.dateFilter||d,(function(e){a.allDateType&&(e.dateGroupType=a.allDateType)})),filterModel:a.filterValue||f,analysisModel:a.analysisModel||h},e.next=17,o(u,E);case 17:w=e.sent,2e4===(k=w.data).code&&k.result.length?(C=E.analysisModel[0].values[0].values,S=C.reduce((function(e,t){var n=k.result.find((function(e){return e.name===t.split("_")[1]}));return n&&e.push(n),e}),[]),N=x(S),I=N,b=N,T=C):I="empty",e.next=23;break;case 22:I=a.filtedObjs.map((function(e){return b.find((function(t){return t.name===e}))}));case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(12);case 27:return e.prev=27,e.next=30,s({type:"save",payload:(0,r.Z)({},a,{allVoicData:I,cachedAnalysisObjs:T,fetchedAllVoiceData:b})});case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[12,25,27,31]])})),fetchNegVoicData:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[g]}));case 4:if(l=e.sent,p=l.projectId,d=l.dateFilter,f=l.filterValue,h=l.analysisModel,m=l.fetchedNegVoiceData,v="error",I=m,e.prev=11,a.filtedObjs){e.next=21;break}return b={projectId:a.projectId||p,dateFilter:(0,y.ZP)(a.dateFilter||d,(function(e){a.negDateType&&(e.dateGroupType=a.negDateType)})),filterModel:a.filterValue||f,analysisModel:a.analysisModel||h,emotion:-1},e.next=16,o(u,b);case 16:T=e.sent,2e4===(E=T.data).code&&E.result.length?(w=b.analysisModel[0].values[0].values,k=w.reduce((function(e,t){var n=E.result.find((function(e){return e.name===t.split("_")[1]}));return n&&e.push(n),e}),[]),C=x(k),v=C,I=C):v="empty",e.next=22;break;case 21:v=a.filtedObjs.map((function(e){return I.find((function(t){return t.name===e}))}));case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(11);case 26:return e.prev=26,e.next=29,s({type:"save",payload:(0,r.Z)({},a,{negVoiceData:v,fetchedNegVoiceData:I})});case 29:return e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[11,24,26,30]])})),fetchPosVoicData:i().mark((function e(t,n){var a,o,c,s,l,p,d,f,h,m,v,I,b,T,E,w,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[g]}));case 4:if(l=e.sent,p=l.projectId,d=l.dateFilter,f=l.filterValue,h=l.analysisModel,m=l.fetchedPosVoiceData,v="error",I=m,e.prev=11,a.filtedObjs){e.next=21;break}return b={projectId:a.projectId||p,dateFilter:(0,y.ZP)(a.dateFilter||d,(function(e){a.posDateType&&(e.dateGroupType=a.posDateType)})),filterModel:a.filterValue||f,analysisModel:a.analysisModel||h,emotion:1},e.next=16,o(u,b);case 16:T=e.sent,2e4===(E=T.data).code&&E.result.length?(w=b.analysisModel[0].values[0].values,k=w.reduce((function(e,t){var n=E.result.find((function(e){return e.name===t.split("_")[1]}));return n&&e.push(n),e}),[]),C=x(k),v=C,I=C):v="empty",e.next=22;break;case 21:v=a.filtedObjs.map((function(e){return I.find((function(t){return t.name===e}))}));case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(11);case 26:return e.prev=26,e.next=29,s({type:"save",payload:(0,r.Z)({},a,{posVoiceData:v,fetchedPosVoiceData:I})});case 29:return e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[11,24,26,30]])})),fetchVoicCompareDate:i().mark((function e(t,n){var a,o,c,s,u,l,d,f,h,m,v,y,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[g]}));case 4:if(u=e.sent,l=u.projectId,d=u.dateFilter,f=u.filterValue,h=u.analysisModel,m=u.fetchedCompareData,v="error",y=m,e.prev=11,a.filtedObjs){e.next=21;break}return x={projectId:a.projectId||l,dateFilter:a.dateFilter||d,filterModel:a.filterValue||f,analysisModel:a.analysisModel||h},e.next=16,o(p,x);case 16:I=e.sent,2e4===(b=I.data).code&&b.result.length?(T=x.analysisModel[0].values[0].values,E=T.reduce((function(e,t){var n=b.result.find((function(e){return e.name===t.split("_")[1]}));return n&&e.push(n),e}),[]),v=E,y=E):v="empty",e.next=22;break;case 21:v=a.filtedObjs.map((function(e){return y.find((function(t){return t.name===e}))}));case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(11);case 26:return e.prev=26,e.next=29,s({type:"save",payload:(0,r.Z)({},a,{compareData:v,fetchedCompareData:y})});case 29:return e.finish(26);case 30:case"end":return e.stop()}}),e,null,[[11,24,26,30]])})),updateFlavors:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,f,h,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.select,s=n.put,e.next=4,c((function(e){return(0,r.Z)({},e)[g]}));case 4:return u=e.sent,l=u.projectId,p=u.allDtFlavor,d=u.posDtFlavor,f=u.negDtFlavor,e.prev=9,h={allDtFlavor:""===a.allDtFlavor||a.allDtFlavor?a.allDtFlavor:p,posDtFlavor:""===a.posDtFlavor||a.posDtFlavor?a.posDtFlavor:d,negDtFlavor:""===a.negDtFlavor||a.negDtFlavor?a.negDtFlavor:f},e.next=13,o(m,{projectId:l,value:JSON.stringify(h)});case 13:if(v=e.sent,2e4!==v.data.code){e.next=18;break}return e.next=18,s({type:"save",payload:h});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(9);case 22:case"end":return e.stop()}}),e,null,[[9,20]])}))}}},90126:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>o,fv:()=>c,ou:()=>s});var r=n(87219);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=e.filterValue,i=e.dateFilter,o=e.analysisModel,c=e.cachedAnalysisObjs,s=t.filterValue,u=t.dateFilter,l=t.analysisModel;if(o.length>0&&JSON.stringify(i)===JSON.stringify(u)){var p=l[0].values.map((function(e){return e.id})),d=l[0].id,f=(0,r.ZP)(n,(function(e){var t=e.find((function(e){return e.id===d}));t&&(t.values=t.values.filter((function(e){var t=e.id;return!p.includes(t)})))})),h=(0,r.ZP)(s,(function(e){var t=e.find((function(e){return e.id===d}));t&&(t.values=t.values.filter((function(e){var t=e.id;return!p.includes(t)})))}));if(JSON.stringify(f)===JSON.stringify(h)){var m=c,v=l[0].values[0].values;if(0===m.length)return;for(var y,g=[],x=a(v);!(y=x()).done;){var I=y.value;if(-1===m.indexOf(I))return;g.push(I.split("_")[1])}return g}}}var c={vivo:["#027DC2","#4DA4D4","#9ACBE7"],oppo:["#00A24F","#4CBD83","#99DAB9"],"\u5c0f\u7c73":["#F57924","#F8A165","#FBC9A7"],"\u534e\u4e3a":["#BF0007","#D24C51","#E5999C"],apple:["#131313","#595959","#A1A1A1"],"\u82f9\u679c":["#131313","#595959","#A1A1A1"],realme:["#FFC916","#FFD95B","#FFE9A2"],"\u7ea2\u7c73":["#FF5100","#FF854C","#FFB999"],"\u9ed1\u9ca8":["#3DEA29","#77F069","#B1F7A9"],"\u4e00\u52a0":["#EB015F","#F14D8F","#F799BF"],"\u8363\u8000":["#BF00AB","#D24CC4","#E599DD"],"\u9b45\u65cf":["#02A9E6","#4DC2ED","#9ADDF5"],"\u4e09\u661f":["#12218B","#5963AD","#A0A6D1"]};function s(e){return(0,r.ZP)(e,(function(e){e.forEach((function(e){e.id=function(e){switch(e){case"VOC_ASPECT_FIRST":return"aspect1";case"VOC_ASPECT_SECOND":return"aspect2";case"VOC_ASPECT_THIRD":return"aspect3";case"VOC_ASPECT_FOURTH":return"aspect4";default:return"aspect"}}(e.id),e.values=e.values.map((function(e){return e.split("_")[0]}))}))}))}},64981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722),c=function(e){var t=e.data;return o.h.post("/product/document/listDocs",t)};const s={namespace:n(64396).Z.userHelp.helpCenter,state:(0,r.Z)({},Object.assign({},{list:[]})),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchHelpList:i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,n.select,a=n.call,e.prev=2,e.next=5,a(c,{});case 5:if(o=e.sent,2e4!==(s=o.data).code){e.next=10;break}return e.next=10,r({type:"save",payload:{list:s.result}});case 10:return e.abrupt("return",s.result);case 13:e.prev=13,e.t0=e.catch(2),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,13]])}))}}},30538:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(87462),a=n(87757),i=n.n(a),o=n(87219),c=n(32807),s=n(64396).Z.workOrder.dataOverview,u={projectId:void 0,analysisModel:void 0,headerFilterParamsNew:void 0,dateFilter:void 0,filterValues:[],dateOptions:[],dateGroupType:"DAY",pageType:"PRODUCT_ZENDESK_COMMENT",workData:void 0,conversationData:void 0,feedbackData:void 0,feedbackEnablePos:!1,hotwordData:void 0,hotwordEnablePos:!1,emotionsData:void 0,emotionsTrendCountType:"COUNT",emotionsTimeType:"DAY"};const l={namespace:s,state:Object.assign({},u),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},u)}},effects:{fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,e.next=4,a({type:"save",payload:r});case 4:return e.next=6,a({type:"fetchWorkData",payload:r});case 6:return e.next=8,a({type:"fetchConversationData",payload:r});case 8:return e.next=10,a({type:"fetchFeedbackData",payload:r});case 10:return e.next=12,a({type:"fetchHotwordData",payload:r});case 12:return e.next=14,a({type:"fetchEmotionsData",payload:r});case 14:case"end":return e.stop()}}),e)})),fetchWorkData:i().mark((function e(t,n){var a,u,l,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,u=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[s]}));case 4:return d=e.sent,f=d.projectId,h=d.headerFilterParamsNew,m=d.dateFilter,d.dateGroupType,v="error",y=(0,o.ZP)(a.dateFilter||m,(function(e){e.dateGroupType="DAY"})),e.prev=11,e.next=14,u(c.lG5,{projectId:a.projectId||f,dateFilter:y,headerFilterParamsNew:a.headerFilterParamsNew||h,generalChartType:"MESSAGE_COUNT_TIME_CHART",category:"TICKET"});case 14:x=e.sent,I=x.data,v=2e4===I.code&&null!=(g=I.result)&&g.data.length?I.result:"empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,l({type:"save",payload:{workData:v}});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchConversationData:i().mark((function e(t,n){var a,u,l,p,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,u=n.call,l=n.put,p=n.select,e.next=4,p((function(e){return(0,r.Z)({},e)[s]}));case 4:return d=e.sent,f=d.projectId,h=d.headerFilterParamsNew,m=d.dateFilter,d.dateGroupType,v="error",y=(0,o.ZP)(a.dateFilter||m,(function(e){e.dateGroupType="DAY"})),e.prev=11,e.next=14,u(c.lG5,{projectId:a.projectId||f,dateFilter:y,headerFilterParamsNew:a.headerFilterParamsNew||h,generalChartType:"ZENDESK_INQUIRIES_COUNT_TIME_CHART",category:"TICKET"});case 14:x=e.sent,I=x.data,v=2e4===I.code&&null!=(g=I.result)&&g.data.length?I.result:"empty",e.next=21;break;case 19:e.prev=19,e.t0=e.catch(11);case 21:return e.prev=21,e.next=24,l({type:"save",payload:{conversationData:v}});case 24:return e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[11,19,21,25]])})),fetchFeedbackData:i().mark((function e(t,n){var a,o,u,l,p,d,f,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[s]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.feedbackEnablePos,v="error",e.prev=10,e.next=13,o(c.aBi,{projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,enablePos:void 0!==a.feedbackEnablePos?a.feedbackEnablePos:m,topSize:100,generalChartType:"HOT_WORD_CHART",category:"TICKET"});case 13:x=e.sent,2e4===(I=x.data).code&&null!=(y=I.result)&&null!=(g=y.list)&&g.length?(b=I.result.list,T=b.reduce((function(e,t){return e+t.total}),0),v=b.sort((function(e,t){return t.total-e.total})).map((function(e){return(0,r.Z)({},e,{precent:e.total/T,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}))):v="empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,u({type:"save",payload:(0,r.Z)({feedbackData:v},a)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchHotwordData:i().mark((function e(t,n){var a,o,u,l,p,d,f,h,m,v,y,g,x,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[s]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.hotwordEnablePos,v="error",e.prev=10,e.next=13,o(c.aBi,{projectId:a.projectId||d,dateFilter:a.dateFilter||f,headerFilterParamsNew:a.headerFilterParamsNew||h,enablePos:void 0!==a.hotwordEnablePos?a.hotwordEnablePos:m,topSize:100,generalChartType:"HOT_WORD_CHART",category:"TICKET"});case 13:x=e.sent,2e4===(I=x.data).code&&null!=(y=I.result)&&null!=(g=y.list)&&g.length?(b=I.result.list,T=b.reduce((function(e,t){return e+t.total}),0),v=b.sort((function(e,t){return t.total-e.total})).map((function(e){return(0,r.Z)({},e,{precent:e.total/T,posRate:e.positiveCount/e.total,neuRate:e.neutralCount/e.total,negRate:e.negativeCount/e.total})}))):v="empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,u({type:"save",payload:(0,r.Z)({hotwordData:v},a)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])})),fetchEmotionsData:i().mark((function e(t,n){var a,o,u,l,p,d,f,h,m,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[s]}));case 4:return p=e.sent,d=p.projectId,f=p.dateFilter,h=p.headerFilterParamsNew,m=p.dateGroupType,v="error",e.prev=10,e.next=13,o(c.aBi,{projectId:a.projectId||d,dateFilter:(0,r.Z)({},a.dateFilter||f,{dateGroupType:a.emotionsTimeType||m}),headerFilterParamsNew:a.headerFilterParamsNew||h,generalChartType:"ZENDESK_EMOTION_CHART",category:"TICKET"});case 13:x=e.sent,2e4===(I=x.data).code&&null!=(y=I.result)&&null!=(g=y.list)&&g.length?(b=I.result.list,v=b.filter((function(e){return["0","1","-1"].includes(e.key)}))):v="empty",e.next=20;break;case 18:e.prev=18,e.t0=e.catch(10);case 20:return e.prev=20,e.next=23,u({type:"save",payload:(0,r.Z)({emotionsData:v},a)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[10,18,20,24]])}))}}},44600:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(63366),a=n(87462),i=(n(75314),n(11187)),o=n(15861),c=n(94578),s=n(87757),u=n.n(s),l=n(67294),p=(n(9405),n(89552)),d=(n(1025),n(65400)),f=(n(53294),n(56697)),h=n(68855),m=n(30381),v=n.n(m),y=n(39432),g=[{id:"1",value:"\u7535\u5546\u8bc4\u8bba",authority:"MESSAGE_COMMENT"},{id:"8",value:"\u5ba2\u670d\u4f1a\u8bdd",authority:"MESSAGE_SERVICE"},{id:"17",value:"\u95ee\u5377\u8c03\u7814",authority:"MESSAGE_QUESTIONAIRE"},{id:"21",value:"\u5e94\u7528\u8bc4\u8bba",authority:"MESSAGE_APP"},{id:"22",value:"\u5de5\u5355",authority:"MESSAGE_TICKET"},{id:"12",value:"\u5185\u5bb9\u7535\u5546",authority:"MESSAGE_SELF"}],x={level:{HIGH:"\u9ad8",MIDDLE:"\u4e2d",LOW:"\u4f4e"},calType:{PERCENT:"\u8d1f\u9762\u58f0\u91cf\u5360\u6bd4",NUMBER:"\u8d1f\u9762\u58f0\u91cf"},dateRangeType:{LAST_THREE_DAYS:"\u8fd13\u5929",LAST_SENVEN_DAYS:"\u8fd17\u5929",LAST_THIRTY_DAYS:"\u8fd130\u5929",CURRENT_DAY:"\u5f53\u5929",CURRENT_WEEK:"\u5f53\u5468",CURRENT_MONTH:"\u5f53\u6708"},pushWay:{WEIXIN:"\u5fae\u4fe1\u901a\u77e5",FEISHU:"\u98de\u4e66\u901a\u77e5",DINGDING:"\u9489\u9489\u901a\u77e5",FEISHU_CHAT:"\u98de\u4e66\u7fa4\u901a\u77e5",DINGDING_CHAT:"\u9489\u9489\u7fa4\u901a\u77e5",EMAIL:"\u90ae\u4ef6\u901a\u77e5"},disturbType:{WORKTIME:"\u5de5\u4f5c\u65f6\u95f4",ALLDAY:"\u5168\u5929\u5019"},repeatType:{DISABLE:"\u5355\u4e2a\u9884\u8b66\u6307\u6807\u89e6\u53d1\u9884\u8b66\u540e\u5f53\u5929\u4e0d\u518d\u91cd\u590d\u63a8\u9001"},categoryId:{1:"\u7535\u5546\u8bc4\u8bba",8:"\u5ba2\u670d\u4f1a\u8bdd",17:"\u95ee\u5377\u8c03\u7814",21:"\u5e94\u7528\u8bc4\u8bba"},conditionType:{ALL:"\u95ee\u5377\u7b54\u6848\u5305\u542b\u4e86\u4ee5\u4e0b\u5168\u90e8\u5185\u5bb9",ANY:"\u95ee\u5377\u7b54\u6848\u5305\u542b\u4e86\u4ee5\u4e0b\u4efb\u4e00\u5185\u5bb9"},satisfyType:{ALL:"\u6ee1\u8db3\u4ee5\u4e0b\u5168\u90e8\u6761\u4ef6\u9884\u8b66",ANY:"\u6ee1\u8db3\u4ee5\u4e0b\u4efb\u4e00\u6761\u4ef6\u9884\u8b66"},interval:{18e5:"\u6bcf30\u5206\u949f\u66f4\u65b0\u6570\u636e\u8ba1\u7b97",36e5:"\u6bcf\u5c0f\u65f6\u66f4\u65b0\u6570\u636e\u8ba1\u7b97",108e5:"\u6bcf3\u5c0f\u65f6\u66f4\u65b0\u6570\u636e\u8ba1\u7b97"},kind:{ALL:"\u5305\u542b\u5168\u90e8",ANY:"\u5305\u542b\u4efb\u4e00\u4e2a",NONE:"\u4e0d\u5305\u542b"},messageLabel:{17:["\u95ee\u5377","\u4efd"],22:["\u5de5\u5355","\u6761"]}},I=function(e){return e.map((function(t){if(t.some((function(e){return e.tags&&e.tags.length})))return l.createElement("div",{key:t,className:e.length>1?"border":""},t.map((function(e,t){if(e.tags&&e.tags.length>0)return l.createElement("div",{key:e},l.createElement("span",null,t>0&&"\u4e14",x.kind[e.kind],"\uff1a"),l.createElement("div",null,e.tags.join("\u3001")))})))}))},b=function(e){var t=Object.keys(e)[0],n=Object.values(e)[0];if(n)switch(t){case"level":return l.createElement("div",{className:"level "+n.toLowerCase()},x.level[n]);case"trigger":var r=l.createElement("div",{className:"expansion-wrap"},function(e){var t=l.createRef(),n=(0,y.jD)(e)>700;return l.createElement(l.Fragment,null,l.createElement("div",{className:"expansion",ref:t},e),l.createElement("div",{style:{display:n?"block":"none"}},l.createElement("span",{onClick:function(e){"\u5c55\u5f00"===e.target.innerHTML?(t.current.className="",e.target.innerHTML="\u6536\u8d77"):"\u6536\u8d77"===e.target.innerHTML&&(t.current.className="expansion",e.target.innerHTML="\u5c55\u5f00")}},"\u5c55\u5f00")))}(n.keywordContent));return"17"===e.categoryId&&(r=l.createElement("div",null,l.createElement("div",null,x.conditionType[e.conditionType]),l.createElement("ol",{style:{listStyle:"decimal inside",marginBottom:0}},["npsContent","satisContent","keywordContent"].map((function(e){return n[e]?"keywordContent"===e?l.createElement("li",null,"\u63d0\u53ca\u4e86\u5173\u952e\u8bcd\uff1a",n[e]):l.createElement("li",null,n[e]):""}))))),r;case"receiver":return l.createElement("div",null,l.createElement("div",{style:{marginBottom:8}},"\u56e2\u961f | ",n[0]&&n[0].length?n[0].join("\u3001"):"\u65e0"),l.createElement("div",null,"\u6210\u5458 | ",n[1]&&n[1].length?n[1].join("\u3001"):"\u65e0"));case"filter":return null==n?void 0:n.map((function(e){return e[1]&&e[1].length?l.createElement("div",{key:e},l.createElement("span",null,e[0],"\uff1a"),e[1].join("\u3001")):""}));case"formula":return"PERCENT"===n[0]?x.calType[n[0]]+"\uff08\u53ea\u6709\u8d1f\u9762\u58f0\u91cf\u5927\u4e8e"+n[1]+"\u624d\u4f1a\u89e6\u53d1\u9884\u8b66\uff09":x.calType[n[0]];case"keywordRule":return"SENIOR_KEYWORD"===n[0].type?l.createElement("div",{className:"senior-keyword"},I(n[0].seniorKeyword)):n[0].simpleKeyword.join("\u3001");case"npsRule":return l.createElement("div",null,l.createElement("div",null,x.satisfyType[e.satisfyType]),l.createElement("ol",{style:{listStyle:"decimal",margin:"0 0 0 14px"}},["NPS","SATISFACTION","SIMPLE_KEYWORD","SENIOR_KEYWORD"].map((function(e){var t,r=n.find((function(t){return t.type===e}));if(r)switch(e){case"NPS":t="\u4efb\u4e00\u4e2aNPS\u5206\u503c\u9898\u7684\u5206\u6570\u5728"+r.questionType.min+"~"+r.questionType.max+"\u5206";break;case"SATISFACTION":t="\u4efb\u4e00\u4e2a\u6ee1\u610f\u5ea6\u5206\u503c\u9898\u7684\u5206\u6570\u5728"+r.questionType.min+"~"+r.questionType.max+"\u5206";break;case"SIMPLE_KEYWORD":t="\u9884\u8b66\u5173\u952e\u8bcd\uff1a"+r.simpleKeyword.join("\u3001");break;case"SENIOR_KEYWORD":t=l.createElement(l.Fragment,null,l.createElement("span",null,"\u9884\u8b66\u5173\u952e\u8bcd\uff1a"),l.createElement("div",{className:"senior-keyword"},I(r.seniorKeyword)))}return t?l.createElement("li",{key:t},t):void 0}))))}},T=n(50976),E=[{label:"\u8fd13\u5929",value:"LAST_THREE_DAYS"},{label:"\u8fd17\u5929",value:"LAST_SENVEN_DAYS"},{label:"\u8fd130\u5929",value:"LAST_THIRTY_DAYS"},{label:"\u5f53\u5929",value:"CURRENT_DAY"},{label:"\u5f53\u5468",value:"CURRENT_WEEK"},{label:"\u5f53\u6708",value:"CURRENT_MONTH"}],w={thresholds:"\u9608\u503c",values:"\u5b9e\u9645\u503c"};const k=function(e){var t=e.data,n=e.onClick,r=t.analysisName,i=t.dateRangeType,o=t.calType,c=t.aspectValueList,s=(0,l.useState)({}),u=s[0],p=s[1],d=(0,l.useState)(0),f=d[0],h=d[1];return(0,l.useEffect)((function(){c&&c.length>0&&(h(40*(c.length+1)+100),p(function(e,t,n){var r=Math.max.apply(Math,e.values);return{backgroundColor:"#fafafa",title:{text:e.title},grid:[0,1].map((function(){return{show:!1,left:16,top:82,bottom:0,containLabel:!0,right:e.right+16+24}})),legend:{top:50,left:12,itemWidth:14,itemHeight:14,data:["thresholds","values"].map((function(e,t){return{name:w[e]}}))},xAxis:[0,1].map((function(e){return{max:r,show:!1,gridIndex:e}})),yAxis:[0,1].map((function(t){return{gridIndex:t,inverse:!0,data:e.aspects,show:0===t,axisLabel:{interval:0}}})),series:["thresholds","values"].map((function(r,a){return{type:"bar",xAxisIndex:a,yAxisIndex:a,name:w[r],barWidth:0===a?t:t/2,barGap:"5",barCategoryGap:"5",label:{show:!!a,position:"right",color:"#262626",formatter:function(e){var t=e.data.value;return n?t:t+"%"}},data:e[r].map((function(e){return{value:e,itemStyle:{normal:{color:0===a?"#FFEBE9":"#E96165"},emphasis:{color:0===a?"#FFEBE988":"#E9616588"}}}}))}})),tooltip:{trigger:"item",backgroundColor:"rgba(255,255,255,0.9)",borderWidth:1,borderColor:"#ccc",padding:10,textStyle:{color:"#262626"},extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);",confine:!0,formatter:function(e){var t=e.marker,r=e.name,a=e.seriesName,i=e.value;return r+"<br><div>"+t+a+"\uff1a"+(n?i:i+"%")+"</div>"}}}}(function(e){var t=e.analysisName,n=e.dateRangeType,r=e.calType,i=e.aspectValueList,o={title:""+t+(E.filter((function(e){return e.value===n})).length>0&&E.filter((function(e){return e.value===n}))[0].label)+(r?"PERCENT"===r?"\u8d1f\u9762\u58f0\u91cf\u5360\u6bd4":"\u8d1f\u9762\u58f0\u91cf":""),list:i.map((function(e){return{aspect:e.aspectName,value:e.warningValue.includes("%")?parseFloat(e.warningValue,2):Number(e.warningValue),threshold:e.warningBeyondValue.includes("%")?parseFloat(e.warningBeyondValue,2):Number(e.warningBeyondValue)}}))};return(0,a.Z)({title:o.title},o.list.reduce((function(e,t){return e.aspects.push(t.aspect),e.values.push(t.value),e.thresholds.push(t.threshold),e.beyonds.push(((t.value-t.threshold)/t.threshold*100).toFixed(2)+"%"),e.right=Math.max(e.right,(0,y.jD)(t.value,12)),e}),{aspects:[],values:[],thresholds:[],beyonds:[],right:0}))}({analysisName:r,dateRangeType:i,calType:o,aspectValueList:c}),40,"NUMBER"===o)))}),[c]),l.createElement("div",null,l.createElement(T.Z,{theme:"yunting_h5_warning",option:u,style:{height:f,width:"100%"},onEvents:{click:function(e){var t=e.name;return n(t)}}}))};const C=function(e){var t=e.warningTitle,n=e.warningVisible,r=e.hideFooter,o=e.onChange,c=e.warningDetail,s=e.fetchingData,u=e.onMsgClick,m=e.callback,v=function(){o({warningVisible:!1}),m&&m()};return l.createElement(f.Z,{visible:n,title:t,className:"warning-details-modal "+(s?"loading":""),width:900,onCancel:v,destroyOnClose:!0,footer:[r?l.createElement(l.Fragment,null):l.createElement(d.default,{key:"unsubscribe",disabled:!c,onClick:function(){f.Z.confirm({title:"\u9000\u8ba2",icon:l.createElement(h.Z,{style:{color:"#FF7955"}}),content:"\u9000\u8ba2\u540e\uff0c\u7cfb\u7edf\u4e0d\u4f1a\u5c31\u5f53\u524d\u9884\u8b66\u89c4\u5219\u53d1\u9001\u901a\u77e5\uff0c\u4e14\u5373\u523b\u751f\u6548\uff0c\u662f\u5426\u786e\u5b9a\u9000\u8ba2\uff1f",onOk:function(){o({unsubscribe:!0}).then((function(e){"success"===e&&(i.default.success("\u9000\u8ba2\u6210\u529f"),v())}))}})}},"\u9000\u8ba2"),l.createElement(d.default,{key:"rule",type:"primary",disabled:!c,onClick:function(){o({warningVisible:!1,rule:!0})}},"\u89c4\u5219\u8be6\u60c5")]},l.createElement(p.default,{spinning:s,size:"large"},c?function(){var e=c.warningType,t=c.categoryId,n=function(e){var t=e.createdAt,n=e.warningLevel,r=e.categoryId,i=e.categoryName,o=e.aspectName,c=e.pushLogTitle,s=e.triggerWarningContent,u=e.messageHitsTotal,l=e.conditionType,p=void 0===l?"ALL":l,d=e.warningType,f={pushLogTitle:["\u9884\u8b66\u6807\u9898",c],warningLevel:["\u7d27\u6025\u7a0b\u5ea6",b({level:n})],categoryId:["\u6570\u636e\u7c7b\u578b",i],createdAt:["\u63a8\u9001\u65f6\u95f4",t]};if("PROJECT_ASPECT"===d)return(0,a.Z)({},f,{aspectName:["\u89e6\u53d1\u6761\u4ef6",null==o?void 0:o.join("\u3001")]});if("KEYWORDS"===d){var h=x.messageLabel[r]||["\u6d88\u606f","\u6761"];return(0,a.Z)({},f,{trigger:["\u89e6\u53d1\u6761\u4ef6",b({trigger:s,conditionType:p,categoryId:r})],message:["\u76f8\u5173"+h[0],""+u+h[1]]})}return f}(c),r=[];return["pushLogTitle","aspectName","trigger","warningLevel","categoryId","message","createdAt"].forEach((function(e){if(n[e]&&n[e][1]){var a=x.messageLabel[t]||["\u6d88\u606f","\u6761"];r.push(l.createElement("div",{className:"info",key:e},l.createElement("span",null,n[e][0],"\uff1a"),l.createElement("div",null,n[e][1],"message"===e&&l.createElement("span",{className:"link",onClick:function(){return u()}},"\u67e5\u770b",a[0]))))}})),"PROJECT_ASPECT"===e&&r.push(l.createElement("div",{className:"chart"},l.createElement(k,{data:c,onClick:u}))),r}():l.createElement("div",{className:"error-block"},"\u83b7\u53d6\u9884\u8b66\u8be6\u60c5\u5931\u8d25")))};var S=n(73935),N=function(e){var t=function(e){var t,n=e.title,r=e.level,i=e.analysisName,o=(e.headerFilterParamsNew,e.interval),c=e.description,s=e.creator,u=e.receiverTeamNameList,l=e.receiverUserNameList,p=e.rules,d=e.questionnaireList,f=e.categoryId,h=e.type,m=e.filterLabel,v=e.condition,y=v.calType,g=v.combined,I=v.dateRangeType,T=v.workType,E=v.min,w=v.pushWay,k=v.repeatType,C=v.satisfyType,S={title:["\u9884\u8b66\u89c4\u5219\u540d\u79f0",n],level:["\u7d27\u6025\u7a0b\u5ea6",b({level:r})],receiver:["\u63a8\u9001\u6210\u5458",b({receiver:[u,l]})],pushWay:["\u63a8\u9001\u65b9\u5f0f",null==w||null==(t=w.map((function(e){return x.pushWay[e]})))?void 0:t.join("\u3001")],interval:["\u9884\u8b66\u95f4\u9694",x.interval[o]],workType:["\u514d\u6253\u6270",x.disturbType[T&&"00:00:00"===T.start?"ALLDAY":"WORKTIME"]],description:["\u9884\u8b66\u89c4\u5219\u8bf4\u660e",c||"\u65e0"],creator:["\u89c4\u5219\u521b\u5efa\u4eba",s],filter:["\u7b5b\u9009\u6761\u4ef6",m&&m.length?b({filter:m}):"\u65e0"]};if("PROJECT_ASPECT"===h){var N=m.reduce((function(e,t){return"\u4e00\u7ea7\u6307\u6807"!==t[0]&&"\u4e8c\u7ea7\u6307\u6807"!==t[0]||e.push.apply(e,t[1]),e}),[]),O=null==m?void 0:m.filter((function(e){return"\u4e00\u7ea7\u6307\u6807"!==e[0]&&"\u4e8c\u7ea7\u6307\u6807"!==e[0]}));return(0,a.Z)({},S,{analysisName:["\u9884\u8b66\u5bf9\u8c61",i],aspect:["\u76d1\u6d4b\u6307\u6807",null==N?void 0:N.join("\u3001")],repeatType:["\u91cd\u590d\u63d0\u9192",x.repeatType[k]],formula:["\u8ba1\u7b97\u516c\u5f0f",b({formula:[y,E]})],combined:["\u5408\u5e76\u63a8\u9001",g?"\u662f":"\u5426"],dateRangeType:["\u65f6\u95f4\u8303\u56f4",x.dateRangeType[I]],filter:["\u7b5b\u9009\u6761\u4ef6",O&&O.length?b({filter:O}):"\u65e0"]})}return"KEYWORDS"===h?"17"===f?(0,a.Z)({},S,{combined:["\u5408\u5e76\u63a8\u9001",g?"\u662f":"\u5426"],npsName:["\u9884\u8b66\u95ee\u5377",null==d?void 0:d.map((function(e){return e.name})).join("\u3001")],npsRule:["\u9884\u8b66\u6761\u4ef6",b({npsRule:p,satisfyType:C,categoryId:f})]}):(0,a.Z)({},S,{keywordRule:["\u9884\u8b66\u5173\u952e\u8bcd",b({keywordRule:p,categoryId:f,type:h})]}):S}(e);return["title","level","analysisName","aspect","keywordRule","npsName","npsRule","filter","formula","dateRangeType","receiver","pushWay","combined","interval","workType","repeatType","description","creator"].map((function(e){return t[e]&&t[e][1]?l.createElement("div",{className:"info",key:e},l.createElement("span",null,t[e][0],"\uff1a"),l.createElement("div",null,t[e][1])):""}))};const O={dom:null,show:function(e){var t=this,n=e.content,r=e.hideFooter;this.close(),this.dom=document.createElement("div");var a=l.createElement("div",{className:"warning-rule-detail  "+(r?"hide-footer":"")+"\n      }"},l.createElement("div",{className:"header"},l.createElement("i",{className:"icon-cem_arrow-thick",onClick:function(){return t.close()}}),l.createElement("span",null,"\u9884\u8b66\u89c4\u5219\u8be6\u60c5")),l.createElement("div",{className:"content-wrap"},l.createElement("div",{className:"content"},l.createElement("div",{className:"title"},"\u9884\u8b66\u89c4\u5219\u8be6\u60c5"),N(n))));S.render(a,this.dom);var i=document.getElementsByClassName("menu-bottom-wrap")[0],o=document.getElementById("right-wrap");i&&i.style&&(i.style.display="none"),o&&o.style&&(o.style.display="none"),document.body.appendChild(this.dom)},close:function(){var e=document.getElementsByClassName("menu-bottom-wrap")[0],t=document.getElementById("right-wrap");e&&e.style&&(e.style.display="block"),t&&t.style&&(t.style.display="block"),this.dom&&this.dom.remove()},onCancel:function(e){e instanceof Function&&e(),this.close()},onOk:function(e){e instanceof Function&&e(),this.close()}};var _=n(35239),j=n(61193),A=n(55609),D=n(64396),M=["loading"],R=D.Z.workspace.warningDetails,L=function(e){function t(t){var n;return(n=e.call(this,t)||this).events=void 0,n.ready=function(){var e=(0,o.Z)(u().mark((function e(t,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.save({warningVisible:!0,warningLogId:t.id,warningTitle:t.title,callback:r,hideFooter:t.hideFooter}),e.next=3,n.props.fetchData(t);case 3:return e.next=5,n.props.fetchUserStateList();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n._handleOnChange=function(e){if(e.rule){var t=n.props.ruleDetail;O.show({content:t,hideFooter:n.props.hideFooter})}if(Object.prototype.hasOwnProperty.call(e,"warningVisible")&&(n.props.save({warningVisible:e.warningVisible}),!1===e.warningVisible&&n.props.clean()),e.unsubscribe){var r=n.props,a=r.ruleDetail.id;return(0,r.unsubscribe)({warningId:a})}},n._handleOnMsgClick=function(e){var t=n.props,r=t.warningLogId,o=t.warningDetail,c=o.pushLogTitle,s=o.createdAt,u=o.dateRangeType,l=o.aspectType,p=o.content,d=o.categoryId,f=o.projectId,h=t.ruleDetail,m=h.headerFilterParamsNew,y=(h.id,_.t.get(_.V.curProject).id);if(f!==y){var x=_.t.get(_.V.project).find((function(e){return e.id===f})).name;return i.default.warning("\u8be5\u9884\u8b66\u901a\u77e5\u6765\u81ea\u4e8e"+x+"\u9879\u76ee\uff0c\u8bf7\u5207\u6362\u9879\u76ee\u67e5\u770b\u8be6\u60c5")}var I=g.find((function(e){return e.id===d}));if(!(I&&I.authority&&j.Z.hasAuthority(I.authority)))return i.default.warning("\u6ca1\u6709\u6743\u9650\u67e5\u770b"+(null==I?void 0:I.value)+"\u6d88\u606f\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5f00\u901a\u6743\u9650");var b={projectId:y,filterTip:null,filterModel:{project:[y]},extraParameter:["\u9884\u8b66\u901a\u77e5\u6807\u9898",c]};if(e){b.dateFilter=function(e,t){var n="YYYY-MM-DD HH:mm:ss",r=e,a=v()(r,n),i=a.format(n),o="";switch(t){case"LAST_THREE_DAYS":o=a.subtract(2,"days").startOf("day");break;case"LAST_SENVEN_DAYS":o=a.subtract(6,"days").startOf("day");break;case"LAST_THIRTY_DAYS":o=a.subtract(29,"days").startOf("day");break;case"CURRENT_DAY":o=v()(r,n.substr(0,10));break;case"CURRENT_WEEK":o=a.startOf("week");break;case"CURRENT_MONTH":o=a.startOf("month")}var c=o.format(n);return{dateGroupType:"DAY",from:c,to:i,remoteName:"cTime",numOfDays:v()(i).diff(v()(c),"days")+1,quickChoice:c.replace(/-/g,".")+" - "+i.replace(/-/g,".")}}(s,u);m&&m.find((function(e){return"ASPECT_MODEL"===e.id}));b.headerFilterParamsNew=[].concat(m.filter((function(e){return"ASPECT_MODEL"!==e.id})).map((function(e){return(0,a.Z)({},e)})),[{id:"ASPECT_MODEL",values:[{id:l,values:[e]},{id:"ASPECT_ESCORE",values:["3"]}]}])}else{var T=n.props.warningDetail.triggerWarningContent.keywordContent,E=JSON.parse(p),w=E.startTime,k=E.endTime;b=(0,a.Z)({},b,{dateFilter:{from:w,to:k,remoteName:"cTime"},headerFilterParamsNew:m,warningLogId:r,categoryId:d}),T&&(b.warningKeyword=Array.from(new Set(T.split("\u3001").map((function(e){return e.split("+")})).flat())))}switch(d){case"1":window.open("/inbox/commont?"+encodeURIComponent(JSON.stringify(b)));break;case"8":window.open("/inbox/service?"+encodeURIComponent(JSON.stringify(b)));break;case"17":window.open("/inbox/questionnaire?"+encodeURIComponent(JSON.stringify(b)));break;case"21":window.open("/inbox/app?"+encodeURIComponent(JSON.stringify(b)));break;case"22":window.open("/inbox/ticket?"+encodeURIComponent(JSON.stringify(b)));break;case"12":window.open("/inbox/self?"+encodeURIComponent(JSON.stringify(b)))}},n.state={},n.events={onChange:n._handleOnChange,onMsgClick:n._handleOnMsgClick},n}(0,c.Z)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){O.close(),this.props.clean()},n.render=function(){return l.createElement(C,(0,a.Z)({},this.props,this.state,this.events))},t}(l.Component);const P=(0,A.connect)((function(e){var t=e.loading,n=(0,r.Z)(e,M);return(0,a.Z)({},n[R],{fetchingData:t.effects[R+"/fetchData"]||!1})}),(function(e){return{save:function(t){return e({type:R+"/save",payload:t})},clean:function(){return e({type:R+"/clean"})},fetchData:function(t){return e({type:R+"/fetchData",payload:t})},unsubscribe:function(t){return e({type:R+"/unsubscribe",payload:t})},fetchUserStateList:function(){return e({type:"userStateMessage/fetchUserStateList",payload:{pageIndex:1,pageSize:10,timestamp:"",PROGRESS:!1,isNotConcat:!0}})}}}),void 0,{withRef:!0})(L)},67813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(63366),a=n(87462),i=n(87757),o=n.n(i),c=n(49722),s=function(e){return c.h.post("/warning/log/push/log/find",e)},u=function(e){return c.h.post("/warning/manage/unsubscribeWarning/add",e)},l=n(5724),p=n(64396),d=n(87219),f=["warningModel"],h=p.Z.workspace.warningDetails,m={warningVisible:!1,warningTitle:void 0,warningDetail:void 0,ruleDetail:void 0,hideFooter:!1};const v={namespace:h,state:JSON.parse(JSON.stringify(m)),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},m)}},effects:{fetchData:o().mark((function e(t,n){var a,i,c,u,h,m,v,y,g,x,I,b,T,E,w,k,C,S;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,i=n.call,c=n.put,u=n.select,h=n.take,e.prev=2,e.next=5,i(s,{id:a.id});case 5:if(m=e.sent,2e4!==(v=m.data).code){e.next=42;break}return y=v.result,g=y.warningModel,x=(0,r.Z)(y,f),g.analysisName=x.analysisName,I=x.categoryId,b=g.headerFilterParamsNew,e.next=14,c({type:p.Z.global+"/init"});case 14:return e.next=16,h(p.Z.global+"/init/@@end");case 16:return e.next=18,u((function(e){return e[p.Z.global]}));case 18:T=e.sent,E=T.publicResource,w=[],k={},e.t0=I,e.next="1"===e.t0?24:"8"===e.t0?27:"17"===e.t0?30:"21"===e.t0?33:36;break;case 24:return w=["DEFAULT","TOPIC","ASPECT_MODEL"],k={type:"MESSAGE_COMMENT"},e.abrupt("break",36);case 27:return w=["CUSTOMER_SERVICE","MENTIONED_CONTENT"],k={type:"MESSAGE_SERVICE"},e.abrupt("break",36);case 30:return w=["QUESTIONNAIRE_INFO"],k={type:"MESSAGE_QUESTIONAIRE"},e.abrupt("break",36);case 33:return w=["DEFAULT","ASPECT_MODEL","PRODUCT_INFO"],k={type:"MESSAGE_APP"},e.abrupt("break",36);case 36:return e.next=38,i(l.oG,{curShowList:w,expandInfo:k,publicResource:E});case 38:C=e.sent;try{S=(0,d.ZP)(b,(function(e){})),g.filterLabel=null==S?void 0:S.reduce((function(e,t){var n=C.find((function(e){return e.id===t.id}));if(n)try{t.values.forEach((function(t){var r=n.data.find((function(e){return t.id===e.id}));if(r){var a=t.values.map((function(e){return r.options.find((function(t){return t.id===e})).label}));e.push([r.label,a])}}))}catch(r){}return e}),[])}catch(o){}return e.next=42,c({type:"save",payload:{warningDetail:x,ruleDetail:g}});case 42:e.next=46;break;case 44:e.prev=44,e.t1=e.catch(2);case 46:return e.prev=46,e.finish(46);case 48:case"end":return e.stop()}}),e,null,[[2,44,46,48]])})),unsubscribe:o().mark((function e(t,n){var r,i,c,s,l,p,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[h]}));case 4:return s=e.sent,l=s.warningDetail,p=l.projectId,d=void 0,e.prev=8,e.next=11,i(u,{warningId:r.warningId,projectId:p});case 11:f=e.sent,2e4===f.data.code&&(d="success"),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(8);case 18:return e.prev=18,e.abrupt("return",d);case 21:case"end":return e.stop()}}),e,null,[[8,16,18,21]])}))}}},25407:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722),s=function(e){return c.h.post("/warning/statistics/count",e)},u=function(e){return c.h.post("/warning/statistics/date/count",e)},l=n(30381),p=n.n(l),d=o.Z.workspace.warningStatistics,f={cardData:void 0,chartData:void 0,projectId:void 0,dateType:"c0"};const h={namespace:d,state:JSON.parse(JSON.stringify(f)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},f)}},effects:{fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,e.next=4,a({type:"save",payload:r});case 4:return e.next=6,a({type:"fetchCardData",payload:r});case 6:return e.next=8,a({type:"fetchChartData",payload:r});case 8:case"end":return e.stop()}}),e)})),fetchCardData:i().mark((function e(t,n){var a,o,c,u,l,p,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,p=l.projectId,f=[void 0,void 0,void 0],e.prev=7,e.next=10,o(s,{projectId:a.projectId||p});case 10:h=e.sent,2e4===(m=h.data).code&&(f=[m.result.totalCount,m.result.readCount,m.result.unreadCount]),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),e.t0;case 18:return e.prev=18,e.next=21,c({type:"save",payload:{cardData:f}});case 21:return e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[7,15,18,22]])})),fetchChartData:i().mark((function e(t,n){var a,o,c,s,l,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return l=e.sent,f=l.projectId,h=l.dateType,m="error",e.prev=8,v="YYYY-MM-DD HH:mm:ss",e.next=12,o(u,{projectId:a.projectId||f,dateFilter:{from:p()().subtract("c1"===(a.dateType||h)?29:6,"days").startOf("day").format(v),to:p()().format(v)}});case 12:y=e.sent,g=y.data,m=2e4===g.code&&0!==g.result.totalCount?g.result:"empty",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),e.t0;case 20:return e.prev=20,e.next=23,c({type:"save",payload:(0,r.Z)({chartData:m},a)});case 23:return e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[8,17,20,24]])}))}}},67770:(e,t,n)=>{"use strict";var r,a,i,o;n.d(t,{Sc:()=>o}),function(e){e[e["\u7535\u5546\u8bc4\u8bba"]=1]="\u7535\u5546\u8bc4\u8bba",e[e["\u5ba2\u670d\u4f1a\u8bdd"]=8]="\u5ba2\u670d\u4f1a\u8bdd",e[e["\u95ee\u5377"]=17]="\u95ee\u5377",e[e["\u5e94\u7528\u8bc4\u8bba"]=21]="\u5e94\u7528\u8bc4\u8bba",e.ALL=""}(r||(r={})),function(e){e.HIGH="HIGH",e.MIDDLE="MIDDLE",e.LOW="MIDDLE",e.ALL=""}(a||(a={})),function(e){e.ALL="",e.READ="READ",e.UNREAD="UNREAD"}(i||(i={})),function(e){e.MY="USER",e.TEAM="TEAM"}(o||(o={}))},422:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r,a=n(63366),i=n(87462),o=n(87757),c=n.n(o),s=n(67770),u=n(64396),l=n(49722),p=n(35239),d=["tab"],f=["activeTab"],h=["pageIndex"],m=u.Z.workspace.warning,v=((r={activeTab:s.Sc.MY})[s.Sc.MY]={filter:{categoryType:"",level:"",logStatus:"UNREAD",pageIndex:1,pageSize:10,searchCondition:""},data:{list:[],total:0,pageCount:0}},r[s.Sc.TEAM]={filter:{categoryType:"",level:"",logStatus:"UNREAD",pageIndex:1,pageSize:10,searchCondition:"",userIds:[]},data:{list:[],total:0,pageCount:0}},r.workOrderId="",r);const y={namespace:m,state:v,reducers:{save:function(e,t){var n=t.payload;return(0,i.Z)({},e,n)},clean:function(){return v},updateData:function(e,t){var n,r,a=t.payload||{},o=a.tab,c=a.data,s=a.workOrderId;return s&&(e[o].filter.logStatus=""),(0,i.Z)({},e,((r={})[o]=(0,i.Z)({},e[o],{data:c}),r.activeTab=s&&(null==(n=c.list)?void 0:n.length)>0?o:e.activeTab,r))},updateFilter:function(e,t){var n=t.payload||{},r=n.tab,o=(0,a.Z)(n,d);e[r].filter=(0,i.Z)({},e[r].filter,o)}},effects:{getWarningNotify:c().mark((function e(t,n){var r,o,s,u,d,h,v,y,g,x,I,b,T,E,w;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.select,o=n.put,s=t.payload||{},e.next=4,r((function(e){return e[m]}));case 4:return u=e.sent,d=u.activeTab,h=(0,a.Z)(u,f),v=s.activeTab||d,y=s.workOrderId,e.next=11,c=(0,i.Z)({searchType:v,projectId:p.t.get(p.V.curProject).id},y?(0,i.Z)({},h[v].filter,{logStatus:""}):h[v].filter,{workOrderId:y}),l.h.post("/warning/manage/notify/list",c)||{};case 11:if(g=e.sent,x=g.data,2e4===(x||{}).code){e.next=16;break}return e.abrupt("return");case 16:return I=(x||{}).result,T=(b=I||{}).count,E=b.pageCount,w=b.result,e.next=20,o.resolve({type:"updateData",payload:{tab:v,data:{list:w,total:T,pageCount:E},workOrderId:y}});case 20:case"end":return e.stop()}var c}),e)})),setFilterParams:c().mark((function e(t,n){var r,o,s,u,l,p,d,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,o=n.put,s=n.select,e.next=4,s((function(e){return e[m]}));case 4:return u=e.sent,l=u.activeTab,p=r.pageIndex,d=void 0===p?1:p,f=(0,a.Z)(r,h),e.next=9,o({type:"updateFilter",payload:(0,i.Z)({tab:l,pageIndex:d},f)});case 9:return e.next=11,o({type:"getWarningNotify"});case 11:case"end":return e.stop()}}),e)}))}}},54993:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(64396),c=n(49722),s=n(39432),u=function(e){return c.h.get("/workorder/work-order-statistics/count"+(0,s.BB)(e))},l=function(e){return c.h.get("/workorder/work-order-statistics/overview"+(0,s.BB)(e))},p=function(e){return c.h.get("/workorder/work-order-statistics/daily"+(0,s.BB)(e))},d=o.Z.workOrder.statistics,f={cardData:void 0,chartData:void 0,workOrderCount:void 0,projectId:void 0,dateType:"c0",pageType:"WAITER_SESSION_OVERVIEW"};const h={namespace:d,state:JSON.parse(JSON.stringify(f)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(){return Object.assign({},f)}},effects:{fetchDatas:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,e.next=4,a({type:"save",payload:r});case 4:return e.next=6,a({type:"fetchCardData",payload:r});case 6:return e.next=8,a({type:"fetchChartData",payload:r});case 8:return e.next=10,a({type:"fetchWorkOrderCount",payload:r});case 10:case"end":return e.stop()}}),e)})),fetchCardData:i().mark((function e(t,n){var r,a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,n.select,c=[void 0,void 0,void 0,void 0],e.prev=3,e.next=6,a(u,r);case 6:s=e.sent,2e4===(l=s.data).code&&(c=[l.result.allCount,l.result.pendingCount,l.result.processingCount,l.result.finishedCount]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),e.t0;case 14:return e.prev=14,e.next=17,o({type:"save",payload:{cardData:c}});case 17:return e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[3,11,14,18]])})),fetchChartData:i().mark((function e(t,n){var a,o,c,s,u,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,n.select,s="error",e.prev=3,e.next=6,o(l,a);case 6:p=e.sent,d=p.data,f=null==(u=d.result.priorityItems)?void 0:u.map((function(e){return e.count})).reduce((function(e,t){return e+t})),s=2e4===d.code&&0!==f?d.result:"empty",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),e.t0;case 15:return e.prev=15,e.next=18,c({type:"save",payload:(0,r.Z)({chartData:s},a)});case 18:return e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[3,12,15,19]])})),fetchWorkOrderCount:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,n.select,s="error",e.prev=3,e.next=6,o(p,a);case 6:u=e.sent,l=u.data,s=2e4===l.code?l.result:"empty",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),e.t0;case 14:return e.prev=14,e.next=17,c({type:"save",payload:(0,r.Z)({workOrderCount:s},a)});case 17:return e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[3,11,14,18]])}))}}},6406:(e,t,n)=>{"use strict";n.d(t,{Mp:()=>a,PH:()=>i,vt:()=>o,Lm:()=>c,H5:()=>s,Bt:()=>u,oG:()=>l,sR:()=>p,Vk:()=>d,Kz:()=>f});var r=n(49722);function a(e){var t=e.userId,n=e.projectId;return r.h.get("/workorder/user/role?projectId="+n+"&userId="+t)}function i(e){var t=e.projectId;return r.h.get("/workorder/work-order-status/list?projectId="+t,{})}function o(e){var t=e.projectId;return r.h.get("/workorder/work-order/schema?projectId="+t)}function c(e){var t=e.projectId,n=e.remark,a=e.stateId,i=e.workOrderId,o=e.sameState,c=void 0!==o&&o,s=e.rankAfterId,u=void 0===s?null:s,l=e.rankBeforeId,p=void 0===l?void 0:l,d=e.moveOperateKind,f=void 0===d?void 0:d;return r.h.put("/workorder/work-order/move",{projectId:t,remark:n,stateId:a,workOrderId:i,sameState:c,rankAfterId:u,rankBeforeId:p,moveOperateKind:f})}function s(e){var t=e.projectId,n=e.stateId;return r.h.delete("/workorder/work-order/delete/batch?projectId="+t+"&&stateId="+n)}function u(e){var t=e.userName;return r.h.get("/workorder/user/list/?userName="+t)}function l(e){var t=e.projectId,n=e.key;return r.h.post("/default/value/find",{projectId:t,key:n})}function p(e){var t=e.projectId,n=e.value,a=e.key;return r.h.post("/default/value/update",{projectId:t,key:a,value:n})}function d(e,t){return r.h.get("/workorder/work-order?"+e+"&projectId="+t+"&workOrderSceneKind=BOARD")}function f(e){var t=e.projectId;return r.h.get("/workorder/project-extended/modelKind?projectId="+t,{})}},13013:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>a,WD:()=>r,Cs:()=>i,P$:()=>o});var r,a={showArrow:!1,className:"no-arrow",style:{width:"max-content"},dropdownStyle:{minWidth:180}};!function(e){e.STATE="STATE",e.CREATOR="CREATOR",e.CREATED_TIME="CREATED_TIME",e.ASSIGNEE="ASSIGNEE",e.DUE_TIME="DUE_TIME",e.PRIORITY="PRIORITY",e.UPDATER="UPDATER",e.UPDATED_TIME="UPDATED_TIME",e.FINISHED_TIME="FINISHED_TIME",e.DESCRIPTION="DESCRIPTION",e.REMARK="REMARK",e.MESSAGE="MESSAGE",e.WARNING="WARNING",e.ATTACHMENT="ATTACHMENT",e.TAG="TAG",e.TEXT="TEXT",e.RADIO="RADIO",e.CHECKBOX="CHECKBOX",e.DATE_TIME="DATE_TIME",e.NUMERIC="NUMERIC"}(r||(r={}));var i={COMMENT:"\u7535\u5546\u8bc4\u8bba",QUE_ANS:"\u95ee\u7b54",WEIBO:"\u5fae\u535a",NEWS:"\u65b0\u95fb\u5a92\u4f53",PRICE:"\u4ef7\u683c",QUESTION:"\u7535\u5546\u95ee\u7b54",STOCK:"\u5e93\u5b58",SERVICE:"\u5ba2\u670d\u4f1a\u8bdd",BBS:"\u8bba\u575b",MESSAGE:"\u79c1\u4fe1",SOCIAL:"\u793e\u4ea4\u5a92\u4f53",SELF:"\u5185\u5bb9\u7535\u5546",COMPLAINT:"\u6cd5\u5f8b\u7ef4\u6743",INDEX:"\u6307\u6570",AUTHORIZATION:"\u4e13\u9879\u6388\u6743",SOUND:"\u5f55\u97f3",QUESTIONAIRE:"\u95ee\u5377\u8c03\u7814",SALES:"\u9500\u91cf",VIDEO:"\u89c6\u9891",APP_COMMENT:"\u5e94\u7528\u8bc4\u8bba",TICKET:"\u5de5\u5355"},o={COMMENT:"icon-dianshangpinglun",QUE_ANS:"icon-wenda",WEIBO:"icon-shejiaomeiti",NEWS:"icon-xinwenmeiti",PRICE:"",QUESTION:"icon-dianshang",STOCK:"",SERVICE:"icon-kefuhuihua",BBS:"icon-luntan",MESSAGE:"icon-luntan",SOCIAL:"icon-shejiaomeiti",SELF:"icon-a-bianzubeifen5",COMPLAINT:"icon-tousupingtai",INDEX:"icon-zhibiao",AUTHORIZATION:"",SOUND:"",QUESTIONAIRE:"icon-tiaochawenjuan1",SALES:"",VIDEO:"icon-shipin",APP_COMMENT:"icon-yingyongpinglun",TICKET:"icon-gongdan"}},83481:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(35239),s=n(64396),u=n(6406),l=n(2796),p=n(24804),d=n(13013),f=n(5133),h={userList:[],detailSchema:[],createSchema:[],schemaKind:[],createDefaultValue:{},highLightWords:{priority:[],state:[]}},m=s.Z.workOrder.editSingleOrder;const v={namespace:m,state:(0,a.Z)({},h),reducers:{save:function(e,t){var n=t.payload;return(0,a.Z)({},e,n)},clean:function(){return Object.assign({},h)}},effects:{fetchsWorkOrderSchema:o().mark((function e(t,n){var r,i,s,l,f,h,v,y,g,x,I,b,T,E,w,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.select,i=n.call,s=n.put,e.next=4,r((function(e){return(0,a.Z)({},e)[m]}));case 4:return l=e.sent,f=l.createDefaultValue,h=l.userList,v=l.highLightWords,e.prev=8,e.next=11,i(u.vt,{projectId:c.t.get(c.V.curProject).id});case 11:if(g=e.sent,x=g.data,I=x.result.splice(x.result.findIndex((function(e){return e.kind===d.WD.DESCRIPTION})),1),(y=x.result).splice.apply(y,[6,0].concat(I)),b=[{id:"title",name:"\u6807\u9898",kind:"TITLE",isRequired:!0}].concat(x.result),T=b.map((function(e){var t=e.itemNode?e.itemNode:"";return t&&(e.options=t.items)&&(f[e.id]=t.defaultItemId),e.kind===d.WD.ASSIGNEE&&h.length>0&&(e.options=h),e.kind===d.WD.PRIORITY&&(v.priority=e.options),e})).filter((function(e){return e.kind!==d.WD.REMARK})),E=T.filter((function(e){return(e.isSystem&&(0,p.cu)(e.kind)||!e.isSystem)&&"DISABLED"!==e.state})),w=T.filter((function(e){return e.isDetailVisible||"TITLE"===e.kind})),k=T.reduce((function(e,t){return e[""+t.id]=t.kind,e}),{}),2e4!==x.code){e.next=23;break}return e.next=23,s({type:"save",payload:{createSchema:E,detailSchema:w,schemaKind:k}});case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(8);case 27:case"end":return e.stop()}}),e,null,[[8,25]])})),fetchUserList:o().mark((function e(t,n){var r,i,c,s,u,p,f,h,v,y,g,x,I,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.select,c=n.call,s=n.put,e.next=4,i((function(e){return(0,a.Z)({},e)[m]}));case 4:return u=e.sent,p=u.createSchema,f=u.createDefaultValue,h=u.schemaKind,e.prev=8,e.next=11,c(l.ET,r);case 11:if(v=e.sent,2e4!==(y=v.data).code){e.next=18;break}return I=y.result,b=Object.keys(h).find((function(e){return h[e]===d.WD.ASSIGNEE})),e.next=18,s({type:"save",payload:{userList:I,createSchema:p.map((function(e){return e.kind===d.WD.ASSIGNEE&&(e.options=I),e})),createDefaultValue:(0,a.Z)({},f,(x={},x[""+b]=null==(g=I[0])?void 0:g.id,x))}});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}}),e,null,[[8,20]])})),newOrUpdateWorkOrder:o().mark((function e(t,n){var i,s,u,p,d,h,m,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,n.select,s=n.call,n.put,u=i.id,i.workOrderOperateKind,p=u?l.Pg:l.t_,e.prev=4,e.next=7,s(p,(0,a.Z)({projectId:c.t.get(c.V.curProject).id},i));case 7:if(d=e.sent,2e4!==(h=d.data).code){e.next=11;break}return e.abrupt("return",h.result);case 11:e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(4),r.default.destroy(),v="string"===typeof e.t0?e.t0:null==e.t0||null==(m=e.t0.data)?void 0:m.msg,f.Z.error(/[0-9a-f]{32}/.test(v)?"\u90e8\u5206\u5b57\u6bb5\u6216\u9009\u9879\u88ab\u7ba1\u7406\u5458\u4fee\u6539\uff0c\u8bf7\u91cd\u65b0\u5237\u65b0\u9875\u9762\u540e\u64cd\u4f5c":v),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[4,13]])})),uploadAttachment:o().mark((function e(t,n){var r,i,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.select,i=n.call,n.put,e.prev=2,e.next=5,i(l.pD,(0,a.Z)({},r,{projectId:c.t.get(c.V.curProject).id}));case 5:return s=e.sent,u=s.data,e.abrupt("return",u);case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})),fetchAttachmentList:o().mark((function e(t,n){var r,a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.select,a=n.call,n.put,e.prev=2,e.next=5,a(l.RQ,r);case 5:if(i=e.sent,2e4!==(c=i.data).code){e.next=9;break}return e.abrupt("return",c.result);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})),setDefaultValue:o().mark((function e(t,n){var r,a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.select,a=n.call,n.put,e.prev=2,e.next=5,a(l.sR,r);case 5:return i=e.sent,c=i.data,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})),getDefaultValue:o().mark((function e(t,n){var r,a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.select,a=n.call,n.put,e.prev=2,e.next=5,a(l.oG,r);case 5:return i=e.sent,c=i.data,e.abrupt("return",c.result);case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])}))}}},2796:(e,t,n)=>{"use strict";n.d(t,{ET:()=>s,Ly:()=>u,Yf:()=>l,t_:()=>p,Pg:()=>d,EY:()=>f,Aj:()=>h,ro:()=>m,J:()=>v,oG:()=>y,sR:()=>x,e9:()=>b,wU:()=>T,xo:()=>E,WJ:()=>w,VU:()=>k,pD:()=>C,Ve:()=>S,OW:()=>N,RQ:()=>O,Lm:()=>_,cL:()=>j});var r=n(87462),a=n(15861),i=n(87757),o=n.n(i),c=n(49722);function s(e){return c.h.get("/workorder/user/list",{params:e})}function u(e){var t=e.workOrderId;return c.h.post("/workorder/work-order/order/star",{workOrderId:t})}function l(e){var t=e.workOrderId;return c.h.delete("/workorder/work-order/star/remove",{data:{workOrderId:t}})}function p(e){var t=e.projectId,n=e.schemaEntries,r=e.title;return c.h.post("/workorder/work-order",{projectId:t,schemaEntries:n,title:r})}function d(e){var t=e.id,n=e.projectId,r=e.schemaEntries,a=e.title,i=e.workOrderOperateKind;return c.h.put("/workorder/work-order/"+t,{id:t,projectId:n,schemaEntries:r,title:a,workOrderOperateKind:i})}function f(e){var t=e.workOrderId;return c.h.get("/workorder/work-order/detail/find?workOrderId="+t)}function h(e){var t=e.projectId,n=e.id;return c.h.delete("/workorder/work-order/"+n+"?projectId="+t)}function m(e){return c.h.post("/inbox/messages/list",e)}function v(e){return c.h.post("/inbox/message-details/list",e)}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.key,e.abrupt("return",c.h.post("/default/value/find",{projectId:n,key:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return I.apply(this,arguments)}function I(){return(I=(0,a.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.key,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:a,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){var t=e.orderId;return c.h.get("/workorder/work-order/remark/list?orderId="+t)}function T(e){var t=e.projectId,n=e.remarkContent,r=e.workOrderId,a=e.refId,i=e.remindUserIds;return c.h.post("/workorder/work-order/remark/add",{projectId:t,remarkContent:n,workOrderId:r,refId:a,remindUserIds:i})}function E(e){var t=e.projectId,n=e.mappingId,r=e.remarkContent;return c.h.put("/workorder/work-order/remark/update",{projectId:t,mappingId:n,remarkContent:r})}function w(e){var t=e.projectId,n=e.mappingId;return c.h.delete("/workorder/work-order/remark/delete?projectId="+t+"&mappingId="+n)}function k(e){var t=e.orderId;return c.h.get("/workorder/work-order/log/list?orderId="+t)}function C(e){var t=e.files,n=e.type,r=e.refId,a=e.projectId;return c.h.post("/workorder/attachment/upload",{files:t,type:n,refId:r,projectId:a})}function S(e){var t=e.attachmentIds;return c.h.post("/workorder/attachment/download",{attachmentIds:t})}function N(e){var t=e.attachmentIds,n=e.workOrderId,a=e.projectId;return c.h.delete("/workorder/attachment/delete",{data:(0,r.Z)({attachmentIds:t,projectId:a},n?{workOrderId:n}:{})})}function O(e){var t=e.refId;return c.h.get("/workorder/attachment/list?refId="+t)}function _(e){var t=e.projectId,n=e.remark,r=e.stateId,a=e.workOrderId,i=e.sameState,o=void 0!==i&&i,s=e.rankAfterId,u=void 0===s?null:s,l=e.moveOperateKind,p=void 0===l?"MOVE":l;return c.h.put("/workorder/work-order/move",{projectId:t,remark:n,stateId:r,workOrderId:a,sameState:o,rankAfterId:u,moveOperateKind:p})}function j(e){var t=e.assigneeId,n=e.projectId,r=e.refId,a=e.remarkContent,i=e.remindUserIds,o=e.workOrderId;return c.h.put("/workorder/work-order/"+o+"/assignee",{assigneeId:t,projectId:n,refId:r,remarkContent:a,remindUserIds:i,workOrderId:o})}},24804:(e,t,n)=>{"use strict";n.d(t,{cu:()=>s,Wo:()=>u,tR:()=>l,Dy:()=>p,r0:()=>d,Il:()=>f,vt:()=>h});var r=n(87462),a=n(13013),i=n(5133),o=n(97448),c=n(23066);Object.keys(o.d3).forEach((function(e){var t=o.d3[e];t[t.length-1]="#8C8C8C"}));var s=function(e){return new RegExp(a.WD.ASSIGNEE+"|"+a.WD.DUE_TIME+"|"+a.WD.PRIORITY+"|"+a.WD.DESCRIPTION+"|"+a.WD.ATTACHMENT).test(e)},u=function(e){return new RegExp(a.WD.CREATOR+"|"+a.WD.UPDATER).test(e)},l=function(e,t){var n=t.find((function(t){return t.id===e}));return{icon:null==n?void 0:n.userHead,value:null==n?void 0:n.username,status:null==n?void 0:n.status}},p=function(e,t){return String(e).replace(""+t,""+c)},d=function(e){var t,n,r=e.target,a=document.createRange();null==(t=getSelection())||t.removeAllRanges(),a.selectNode(r),null==(n=getSelection())||n.addRange(a),document.execCommand("copy"),i.Z.success("\u590d\u5236\u6210\u529f"),setTimeout((function(){var e;null==(e=getSelection())||e.removeAllRanges()}),2e3)},f=function(e,t){if(/\u5c06\u5de5\u5355\u72b6\u6001\u7531/.test(e)){var n=t.state.map((function(e){return e.name})),r=new RegExp(n.join("|"),"ig");return e=e.replace(r,(function(e){return'<span style="color:'+o.Uh[0===n.indexOf(e)?0:n.indexOf(e)===n.length-1?2:1]+'" >'+e+"</span>"}))}if(/\u5c06\u4f18\u5148\u7ea7\u7531/.test(e)){var a=t.priority.map((function(e){return e.value})),i=new RegExp(a.join("|"),"ig");return e=e.replace(i,(function(e){return'<span style="color:'+o.d3[a.length][a.indexOf(e)]+'" >'+e+"</span>"}))}return e},h=function(e,t,n,a){window.open("/inbox/public?"+encodeURIComponent(JSON.stringify((0,r.Z)({projectId:e,filterTip:null,filterModel:{project:[e],sortName:"cTime",sortOrder:"DESC"}},t,{extraParameter:["\u5173\u8054\u5de5\u5355\uff1a",n,{title:a,style:{marginLeft:"10px"}}]}))))}},61193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=["ACCOUNT","ACCOUNT_INFO","ACCOUNT_INFO_EDIT","ACCOUNT_OVERVIEW","ANALYZE","ANALYZE_BRAND","ANALYZE_PRICE","ANALYZE_MARKETING","ANALYZE_OVERVIEW","ANALYZE_PRODUCT","ANALYZE_SERVER","CONNECTION","CONNECTION_DELETE","CONNECTION_EDIT","DASHBOARD","DASHBOARD_DELETE","DASHBOARD_EDIT","DATA_DETAIL","DATA_DETAIL_EDIT","INBOX_ALL","INBOX_FORWARD","INBOX_REPLY","MANAGEMENT","PROJECT","PROJECT_DELETE","PROJECT_EDIT","ROLE","ROLE_DELETE","ROLE_EDIT","SAFETY","SAFETY_AUDIT_LOG","SAFETY_HISTORY_LOG","TOPIC","TOPIC_DELETE","TOPIC_EDIT","USER","USER_ACTIVE","USER_INVITE","USER_ROLE","CONNECTION_SEARCH","REVIEW_MESSAGE_LOCK"];window.addEventListener("storage",(function(e){e.key===a.USER_KEY&&(a.user=JSON.parse(localStorage.getItem(a.USER_KEY)))}));var a={USER_KEY:"__user__",AUTHORITY_KEY:"__authority__",authorityLock:!0,isLoginIn:function(){var e=JSON.parse(localStorage.getItem(a.USER_KEY));return!!e&&(a.user=e,!0)},getUser:function(){return a.user||(a.user=JSON.parse(localStorage.getItem(a.USER_KEY))),a.user},register:function(e){a.user=e,localStorage.setItem(a.USER_KEY,JSON.stringify(e))},updateUser:function(e){a.register(Object.assign(a.user,e))},setAuthority:function(e){localStorage.setItem(a.AUTHORITY_KEY,JSON.stringify(e))},hasAuthority:function(e){return a.authorityLock?!!localStorage.getItem(a.AUTHORITY_KEY)&&JSON.parse(localStorage.getItem(a.AUTHORITY_KEY)).includes(e):r.includes(e)},getAuthority:function(){return a.authorityLock?JSON.parse(localStorage.getItem(a.AUTHORITY_KEY)):r},destroy:function(){delete a.user,localStorage.removeItem(a.USER_KEY),localStorage.removeItem(a.AUTHORITY_KEY)}};const i=a},98191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),a=n(43036),i=n(25713),o=n(39432),c=n(45697),s=n.n(c),u=n(8201),l=function(e){var t=e.title,n=void 0===t?"":t,c=e.data,s=e.titleOverlay,l=e.titleSelector,p=e.children,d=e.onMoreClick,f=e.moreOptions,h=e.popoverOption,m=e.newColor,v=!(0,u.P)(c);return r.createElement("div",{className:"yt_chart_title_wrapper"},r.createElement("span",{className:"chart_title"},v&&r.createElement("span",{className:"chart_title_name"},n),(l||s)&&r.createElement("span",{className:"chart_title_suffix",style:{marginLeft:v?0:(0,o.jD)(n)}},!!l&&l,s&&r.createElement(a.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:s},r.createElement("i",{className:"icon-cem_file1"})))),r.createElement("span",{className:"chart_title_buttons"},p,d&&r.createElement(i.Z,{onClick:d,options:f,popoverOption:h,data:c,newColor:m})))};const p=l;l.propTypes={data:s().any,title:s().string,titleOverlay:s().string|s().node,titleSelector:s().node,onMoreClick:s().func,moreOptions:s().array,popoverOption:s().string,newColor:s().bool}},95814:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(94578),a=n(67294),i=n(45697),o=n.n(i),c=n(92360),s=n(43036),u=100,l=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleCheckedAll=function(e){var t,r=n.props,a=r.data,i=r.changeState,o=r.allListLength,c=n.state.checkedList;if(o>u){var s=a.slice(0,u).map((function(e){return e.id}));t=e?Array.from(new Set(s.concat(c))):c.filter((function(e){return!s.includes(e)}))}else t=e?a.map((function(e){return e.id})):[];n.setState({newCheckedList:t}),i&&i(t,n.props.secondValue)},n.handleChange=function(e){Array.prototype.remove=function(e){var t=this.map((function(e){return String(e)})).indexOf(String(e));t>-1&&this.splice(t,1)};var t=n.state.checkedList,r=n.props.changeState;-1===t.map((function(e){return String(e)})).indexOf(String(e))?t.push(e):t.remove(e),n.setState({checkedList:t}),r&&r(t,n.props.secondValue)},n.handleSecondChange=function(e,t){var r=n.props,a=(r.data,r.secondValue),i=r.changeState;Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},a.some((function(n){return n.id===e&&(n.values.indexOf(t)>-1?n.values.remove(t):n.values.push(t),!0)}))||a.push({id:e,values:[t]}),i&&i(n.props.checkedList,a.filter((function(e){return e.values.length>0})))},n.competeOpen=function(){n.checkBox.offsetHeight>45?n.setState({showOpen:!0}):n.setState({showOpen:!1})},n.renderSecondList=function(e){var t=n.props,r=t.secondValue,i=t.secondInfo,o=n.state,c=o.showSecond;o.searchKeywords;return a.createElement("div",{className:"second-list"},a.createElement("span",{className:"name",onClick:function(e){return n.setState({showSecond:!c})}},a.createElement("i",{className:c?"icon-cem_data-collection":"icon-cem_unfolding-data"}),a.createElement("span",null,i.name)),c&&e.map((function(e,t){var i=r.filter((function(t){return t.id===e.id})).length>0?r.filter((function(t){return t.id===e.id}))[0].values:[];return a.createElement("div",{key:t,className:"second-wrap"},a.createElement("span",{className:"title-second"},e.name),a.createElement("div",{className:"check-wrap"},e.child.map((function(t,r){return a.createElement(CheckBox,{className:"checkbox-yt",onChange:function(){return n.handleSecondChange(e.id,t.id)},key:t.id,value:t.id,checked:-1!==i.indexOf(t.id)},t.name)}))))})))},n.state={checkedList:t.checkedList||[],open:!1,showOpen:!1,showSecond:!0},n}(0,r.Z)(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=this;(e.checkedList||e.searchKeywords)&&this.setState({checkedList:e.checkedList},(function(){return t.competeOpen()}))},n.componentDidMount=function(){this.competeOpen(),window.addEventListener("resize",this.competeOpen)},n.componentWillUnmount=function(){window.removeEventListener("resize",this.competeOpen)},n.render=function(){var e=this,t=this.state,n=t.checkedList,r=t.open,i=t.showOpen,o=(t.searchKeywords,this.props),l=o.data,p=o.categoryTitle,d=o.title,f=o.close,h=o.onSearch,m=n.map((function(e){return String(e)})),v=l.map((function(e){return e.id})),y=m.filter((function(e){return v.indexOf(e)>=0})),g=!!y.length&&l.slice(0,u).every((function(e){return m.includes(String(e.id))})),x=!g&&!!y.length&&l.slice(0,u).some((function(e){return m.includes(String(e.id))})),I=l.filter((function(e){return m.includes(e.id)&&e.child&&e.child.length>0}));return a.createElement("div",{className:"checkbox_panel_yt"},a.createElement("span",{className:"title"},d,h&&a.createElement(s.Z,{overlay:"\u6309\u4e3b\u9898\u503c\u641c\u7d22",placement:"top"},a.createElement("i",{className:"icon-cem_search search",onClick:function(e){return h()}}))),a.createElement(c.Checkbox,{className:"check-all",checked:g,indeterminate:x,onChange:this.handleCheckedAll,disabled:this.props.disabled},p||"\u5168\u9009"),a.createElement("div",{className:"all-checkbox",style:{height:r?"":"38px"}},a.createElement("span",{className:"more"},i&&a.createElement("i",{className:"open",onClick:function(t){return e.setState({open:!r})}},r?"\u6536\u8d77":"\u66f4\u591a",a.createElement("i",{className:r?"icon-cem_pull-or-take-up":"icon-cem_pull-down-or-take-up"})),f&&a.createElement("i",{className:"close",onClick:f},"\xd7")),a.createElement("div",{className:"check-box",ref:function(t){return e.checkBox=t}},l&&l.slice(0,u).map((function(t){return a.createElement(c.Checkbox,{className:"checkbox-yt",onChange:function(){return e.handleChange(t.id)},key:t.id,value:t.id,checked:-1!==m.map((function(e){return String(e)})).indexOf(String(t.id)),disabled:e.props.disabled},t.name)})),l&&l.length>u&&a.createElement("div",{className:"tip"},"\u2014 \u8be5\u6570\u503c\u5c55\u793a\u4e0d\u4f1a\u8d85\u8fc7",u,"\u6761,\u9700\u8981\u67e5\u770b\u66f4\u591a\u8bf7\u641c\u7d22"))),I.length>0&&this.renderSecondList(I))},t}(a.Component);l.propTypes={checkedList:o().array,secondInfo:o().array,secondValue:o().array,data:o().array,allListLength:o().oneOfType([o().number,o().string]),changeState:o().func,searchKeywords:o().string,onSearch:o().func,title:o().oneOfType([o().number,o().string]),close:o().func}},49975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(94578),a=n(67294),i=n(45697),o=n.n(i),c=n(49722),s=n(35239),u=[{name:"\u6309\u5929",id:"DAY"},{name:"\u6309\u5468",id:"WEEK"},{name:"\u6309\u6708",id:"MONTH"}],l=function(e){function t(t){var n,r=Object.prototype.hasOwnProperty.call(t,"dateRange");return(n=e.call(this,t)||this).handleToggleDisplay=function(e){var t=n.state.panelShow;t&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),setTimeout((function(){return n.setState({panelShow:!t})}),0)},n.handleCollapse=function(){n.setState({panelShow:!1})},n.handleSwitchValue=function(e){var t=n.state.dateOptions,r=n.props.onChange;if(e!==n.state.value){var a=(t.filter((function(t){return t.id===e})).length>0?t.filter((function(t){return t.id===e}))[0]:t[0]).id;n.setState({value:e,panelShow:!1},(function(){return r&&r(a)}))}},n.handleSetStaredValue=function(e){var t=n.state.staredValue;c.h.post("/default/value/update",{projectId:n.projectId,key:n.props.uniqueId,value:t===e?" ":e}).then((function(r){2e4===r.data.code&&n.setState({staredValue:t===e?" ":e})}))},n.fetchStaredValue=function(){var e=n.props,t=e.uniqueId,r=e.onChange,a=n.state,i=a.dateOptions,o=a.value,s=a.dateRange;c.h.post("/default/value/find",{projectId:n.projectId,key:t}).then((function(e){var t=e.data;if(2e4===t.code){var a=i.filter((function(e){return e.id===t.result})).length>0?i.filter((function(e){return e.id===t.result}))[0].id:s?o:i[0].id;n.setState({value:a,staredValue:i.filter((function(e){return e.id===t.result})).length>0?i.filter((function(e){return e.id===t.result}))[0].id:""},(function(){return r&&r(a)}))}}))},n.DATE_DIMENSIONS=r?[{id:"HOUR",name:"\u6309\u65f6"}].concat(u):u,n.state={value:t.defaultValue,dateRange:parseInt(t.dateRange),dateOptions:r?[{id:"HOUR",name:"\u6309\u65f6"}].concat(u):u,staredValue:"",panelShow:!1},n}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.uniqueId,n=e.dateRange,r=e.onChange,a=this.state.value;this.projectId=s.t.get(s.V.curProject).id,window.addEventListener("click",this.handleCollapse),Object.prototype.hasOwnProperty.call(this.props,"dateRange")?this.getCurrDateOptions(parseInt(n)):t?this.fetchStaredValue():r&&r(a)},n.componentDidUpdate=function(e,t){var n=this,r=this.props.dateRange;e.dateRange!==this.props.dateRange&&this.setState({dateRange:parseInt(r)},(function(){return n.getCurrDateOptions(parseInt(r))}))},n.getCurrDateOptions=function(e){var t=this;if(e>=1){var n=this.props,r=n.uniqueId,a=n.onChange,i=n.noHour,o=this.DATE_DIMENSIONS,c=[],s="";if(1===e){c=o.slice(i?1:0,i?2:1);var u=i?o.filter((function(e){return"\u6309\u5929"===e.name})):o.filter((function(e){return"\u6309\u65f6"===e.name}));s=u[0].id}else if(e>1&&e<=7){c=o.slice(i?1:0,i?3:2);var l=o.filter((function(e){return"\u6309\u5929"===e.name}));s=l[0].id}else if(e>7&&e<=30){c=o.slice(i?1:0,i?4:3);var p=o.filter((function(e){return"\u6309\u5929"===e.name}));s=p[0].id}else if(e>30&&e<=60){c=o.slice(1,i?5:4);var d=o.filter((function(e){return"\u6309\u5929"===e.name}));s=d[0].id}else if(e>60&&e<=180){c=o.slice(1,i?5:4);var f=o.filter((function(e){return"\u6309\u5468"===e.name}));s=f[0].id}else{c=o.slice(1,i?5:4);var h=o.filter((function(e){return"\u6309\u6708"===e.name}));s=h[0].id}this.setState({dateOptions:c,value:s},(function(){r?t.fetchStaredValue():a&&a(s)}))}},n.render=function(){var e=this,t=this.props,n=t.uniqueId,r=t.style,i=this.state,o=i.dateOptions,c=i.value,s=i.staredValue,u=i.panelShow,l=o.filter((function(e){return e.id===c}))[0]&&o.filter((function(e){return e.id===c}))[0].name;return a.createElement("div",{className:"date_dimension_selector_wrapper",style:r},a.createElement("div",{className:u?"date_dimension_btn active":"date_dimension_btn",onClick:this.handleToggleDisplay},a.createElement("span",null,l),a.createElement("i",{className:"icon icon-cem_arrow-launches",style:{transform:u?"rotate(-180deg)":""}})),a.createElement("ul",{className:n?"date_dimension_panel":"date_dimension_panel without_star",style:{display:u?"inline-block":"none"}},o.map((function(t){var r=t.name,i=t.id;return a.createElement("li",{className:c===i?"date_dimension_item active":"date_dimension",key:i,onClick:function(){return e.handleSwitchValue(i)}},a.createElement("span",null,r),n&&a.createElement("i",{className:s===i?"icon-cem_star stared":"icon-cem_star",onClick:function(t){t.stopPropagation(),e.handleSetStaredValue(i)}}))}))))},t}(a.Component);l.propTypes={noHour:o().bool,uniqueId:o().string,dateRange:o().number,defaultValue:o().oneOf(["HOUR","DAY","WEEK","MONTH"]),onChange:o().func.isRequired,style:o().object}},53113:(e,t,n)=>{"use strict";n.d(t,{X:()=>r,f:()=>a});var r=function(e,t){var n={HOUR:{title:"\u6309\u5c0f\u65f6",value:"HOUR"},DAY:{title:"\u6309\u5929",value:"DAY"},WEEK:{title:"\u6309\u5468",value:"WEEK"},MONTH:{title:"\u6309\u6708",value:"MONTH"},QUARTER:{title:"\u6309\u5b63",value:"QUARTER"},YEAR:{title:"\u6309\u5e74",value:"YEAR"}},r=[],a="";return 1===e||0===e?t?(r=[n.HOUR],a="HOUR"):(r=[n.DAY],a="DAY"):1<e&&e<=7?(r=(t?["HOUR","DAY"]:["DAY"]).map((function(e){return n[e]})),a="DAY"):7<e&&e<=30?(r=(t?["HOUR","DAY","WEEK"]:["DAY","WEEK"]).map((function(e){return n[e]})),a="DAY"):30<e&&e<=60?(r=["DAY","WEEK","MONTH"].map((function(e){return n[e]})),a="DAY"):60<e&&e<=180?(r=["DAY","WEEK","MONTH","QUARTER"].map((function(e){return n[e]})),a="WEEK"):180<e&&(r=["DAY","WEEK","MONTH","QUARTER","YEAR"].map((function(e){return n[e]})),a="MONTH"),{dateOptions:r,defaultDateType:a}},a=function(e,t){var n={HOUR:{title:"\u6309\u5c0f\u65f6",value:"HOUR"},DAY:{title:"\u6309\u5929",value:"DAY"},WEEK:{title:"\u6309\u5468",value:"WEEK"},MONTH:{title:"\u6309\u6708",value:"MONTH"}},r=[],a="";return 1===e?t?(r=[n.HOUR],a="HOUR"):(r=[n.DAY],a="DAY"):1<e&&e<=7?(r=(t?["HOUR","DAY"]:["DAY"]).map((function(e){return n[e]})),a="DAY"):7<e&&e<=30?(r=(t?["HOUR","DAY","WEEK"]:["DAY","WEEK"]).map((function(e){return n[e]})),a="DAY"):30<e?(r=["DAY","WEEK","MONTH"].map((function(e){return n[e]})),a="MONTH"):(r=["DAY","WEEK","MONTH"].map((function(e){return n[e]})),a="DAY"),{dateOptions:r,defaultDateType:a}}},31705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(94578),a=n(67294),i=n(45697),o=n.n(i),c=n(97189),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).setShowSelFalse=function(){n.setState({show:!1})},n._handleMouseEnter=function(){n.panel&&(0,c.addClass)(n.panel,"padHover")},n._handleMouseLeave=function(){n.panel&&(0,c.removeClass)(n.panel,"padHover")},n.state={show:!1},n}(0,r.Z)(t,e);var n=t.prototype;return n.changeShow=function(e){var t=this;this.state.show&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),setTimeout((function(){t.setState({show:!t.state.show})}),0)},n.componentDidMount=function(){window.addEventListener("click",this.setShowSelFalse)},n.componentWillUnmount=function(){window.removeEventListener("click",this.setShowSelFalse)},n.render=function(){var e=this,t=this.props,n=t.onDownChartClick,r=t.onDownExcelClick,i=t.style,o=t.otherOptions;return a.createElement("div",{className:"more-wrapper",style:i||{},onClick:function(t){return e.changeShow(t)}},a.createElement("i",{className:"icon-cem_new-more",style:{color:this.state.show?"#093b88":"#8c8c8c"}}),this.state.show&&a.createElement("div",{className:"more-panel-wrapper "},a.createElement("div",{className:"more-panel",ref:function(t){return e.panel=t}},a.createElement("div",{className:"item",onClick:n,onMouseEnter:function(){return e._handleMouseEnter()},onMouseLeave:function(){return e._handleMouseLeave()}},"\u5bfc\u51fa\u56fe\u7247"),a.createElement("div",{className:"item",onClick:r},"\u5bfc\u51fa\u6570\u636e"),o&&o.map((function(e,t){return a.createElement("div",{key:t,className:"item",onClick:e.clickFun},e.label)})))))},t}(a.Component);s.propTypes={onDownChartClick:o().func,onDownExcelClick:o().func,otherOptions:o().array,style:o().object}},21816:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(49722),a=function(e,t,n,a,i,o){return r.h.post("/filter/expand/add",{name:e,copy:t,id:n,model:a,projectId:i,filter:o})}},83425:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(87462),a=n(94578),i=n(67294),o=n(45697),c=n.n(o),s=n(92360),u=n(95814),l=n(43036),p=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleChange=function(e){var t=n.props.changeState;t&&t([e])},n.competeOpen=function(){n.checkBox.offsetHeight>45?n.setState({showOpen:!0}):n.setState({showOpen:!1})},n.state={open:!1,showOpen:!1,showSecond:!0},n}(0,a.Z)(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=this;(e.checkedList||e.searchKeywords)&&this.setState({checkedList:e.checkedList},(function(){return t.competeOpen()}))},n.componentDidMount=function(){this.competeOpen(),window.addEventListener("resize",this.competeOpen)},n.componentWillUnmount=function(){window.removeEventListener("resize",this.competeOpen)},n.render=function(){var e=this,t=this.state,n=t.open,r=t.showOpen,a=this.props,o=a.data,c=a.title,u=a.close;a.onSearch;return i.createElement("div",{className:"radio-panel-yt-filter"},i.createElement("span",{className:"title"},c),i.createElement("div",{className:"all-radio",style:{height:n?"":"38px",marginLeft:"-24px"}},i.createElement("span",{className:"more"},r&&i.createElement("i",{className:"open",onClick:function(t){return e.setState({open:!n})}},n?"\u6536\u8d77":"\u66f4\u591a",i.createElement("i",{className:n?"icon-cem_pull-or-take-up":"icon-cem_pull-down-or-take-up"})),u&&i.createElement("i",{className:"close",onClick:u},"\xd7")),i.createElement("div",{className:"check-box",ref:function(t){return e.checkBox=t}},i.createElement(s.Radio.Group,{value:String(this.props.value[0]),onChange:function(t){e.handleChange(t)}},o&&o.map((function(e){return i.createElement(s.Radio,{className:"checkbox-yt",key:e.id,value:String(e.id)},e.name)}))))))},t}(i.Component);p.propTypes={value:c().array,data:c().array,changeState:c().func,searchKeywords:c().string,onSearch:c().func,title:c().oneOfType([c().number,c().string]),close:c().func};const d=function(e){function t(t){var n;return(n=e.call(this,t)||this).inputChange=function(e){n.setState({inputVal:e.target.value})},n.keywordChange=function(e){var t=n.state,r=t.inputVal,a=t.inputValMap;"keydown"===e.type&&13===e.keyCode||"keydown"===e.type&&32===e.keyCode||"blur"===e.type?r.trim()&&(a.push(r.trim()),n.setState({inputValMap:a,inputVal:""}),n.onChange()):"keydown"===e.type&&8===e.keyCode||e.type},n.delKeyWords=function(e){var t=n.state.inputValMap;t.splice(e,1),n.setState({inputValMap:t},(function(e){return n.onChange()}))},n.onChange=function(){n.props.onChange&&n.props.onChange(n.state.inputValMap)},n.state={inputValMap:t.values?t.values:[],inputVal:""},n}(0,a.Z)(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e,t){e.values&&this.setState({inputValMap:e.values})},n.render=function(){var e=this,t=this.state,n=t.inputValMap,r=t.inputVal,a=this.props,o=a.style,c=a.close;return i.createElement("div",{className:"word-segmentation",style:o||{}},c&&i.createElement("i",{className:"close",onClick:c},"\xd7"),i.createElement("div",{className:"input-wrap"},i.createElement("input",{type:"text",className:"keyword-setting",value:r,placeholder:"\u5173\u952e\u8bcd(\u8f93\u5165\u7a7a\u683c\u952e\u6216\u56de\u8f66\u4ee5\u5206\u8bcd)",onChange:this.inputChange,onBlur:this.keywordChange,onKeyDown:this.keywordChange})),n.map((function(t,n){return i.createElement("span",{className:"word",key:t+n},t,i.createElement("i",{onClick:function(){return e.delKeyWords(n)}},"\xd7"))})))},t}(i.Component);var f=n(60496),h=[{title:"\u6a21\u7cca\u641c\u7d22",value:"FUZZY_SEARCH"},{title:"\u7cbe\u51c6\u5339\u914d",value:"PRECISE_SEARCH"}],m=function(e){function t(t){var n;return(n=e.call(this,t)||this).inputChange=function(e){n.setState({inputVal:e.target.value})},n.keywordChange=function(e){var t=n.state,a=t.inputVal,i=t.inputValMap,o=t.searchVal;"keydown"===e.type&&13===e.keyCode||"blur"===e.type?a.trim()&&(i.push(a.trim()),n.setState((0,r.Z)({},o,{inputValMap:i,inputVal:""}),(function(e){return n.onChange()}))):"keydown"===e.type&&8===e.keyCode||e.type},n.delKeyWords=function(e){var t=n.state,r=t.inputValMap,a=t.searchVal;r.splice(e,1),n.setState({inputValMap:r,searchVal:a},(function(e){return n.onChange()}))},n.onChange=function(){n.props.onChange&&n.props.onChange(n.state.inputValMap,n.state.searchVal)},n.onSearchChange=function(e){n.setState({searchVal:e},(function(e){return n.onChange()}))},n.state={inputValMap:t.values?t.values:[],inputVal:"",searchVal:t.queryType||"FUZZY_SEARCH"},n}(0,a.Z)(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e,t){e.values&&this.setState({inputValMap:e.values})},n.render=function(){var e=this,t=this.state,n=t.inputValMap,r=t.inputVal,a=t.searchVal,o=this.props,c=o.style,s=o.close;return i.createElement("div",{className:"multi_word_input",style:c||{}},s&&i.createElement("i",{className:"close",onClick:s},"\xd7"),i.createElement(f.Z,{options:h,activeObj:a,onChange:this.onSearchChange,divider:"none"}),i.createElement("i",{className:"btn_divider"},"-"),i.createElement("div",{className:"input-wrap"},i.createElement("input",{type:"text",className:"keyword-setting",value:r,placeholder:"\u6309\u56de\u8f66\u8f93\u5165\u4f1a\u81ea\u52a8\u5206\u8bcd",onChange:this.inputChange,onBlur:this.keywordChange,onKeyDown:this.keywordChange,disabled:n.length>4})),n.map((function(t,n){return i.createElement("span",{className:"word "+(0!==n?"FUZZY_SEARCH"===a?"word_blur":"word_exact":""),key:t+n},t,i.createElement("i",{onClick:function(){return e.delKeyWords(n)}},"\xd7"))})))},t}(i.Component);const v=m;var y=n(43144),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).inputChange=function(e){n.setState({inputVal:e.target.value})},n.keywordChange=function(e){var t=n.state,r=t.inputVal,a=t.inputValMap;if("keydown"===e.type&&13===e.keyCode||"keydown"===e.type&&32===e.keyCode){if(r.trim()){var i=(n.props.associateList||[]).some((function(e){return e.name===r}))?n.props.associateList.filter((function(e){return e.name===r}))[0].values:null;a.push(Object.assign({name:r.trim()},i?{values:i}:{})),n.setState({inputValMap:a,inputVal:""}),n.onChange()}}else"keydown"===e.type&&8===e.keyCode||"blur"===e.type&&setTimeout((function(e){return n.setState({inputFocus:!1})}),100)},n.delKeyWords=function(e){var t=n.state.inputValMap;t.splice(e,1),n.setState({inputValMap:t},(function(e){return n.onChange()}))},n.onChange=function(){n.props.onChange&&n.props.onChange(n.state.inputValMap)},n.state={inputValMap:t.values?t.values:[],inputVal:"",inputFocus:!1},n}(0,a.Z)(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e,t){e.values&&this.setState({inputValMap:e.values})},n.render=function(){var e=this,t=this.state,n=t.inputValMap,r=t.inputVal,a=t.inputFocus,o=this.props,c=o.style,s=o.close;return i.createElement("div",{className:"Associate_word",style:c||{}},s&&i.createElement("i",{className:"close",onClick:s},"\xd7"),i.createElement("div",{className:"input-wrap"},i.createElement("input",{type:"text",ref:function(t){return e.input=t},className:"keyword-setting",value:r,placeholder:"\u6309\u7a7a\u683c\u6216\u56de\u8f66\u8f93\u5165\u4f1a\u81ea\u52a8\u5206\u8bcd",onChange:this.inputChange,onBlur:this.keywordChange,onFocus:function(){return e.setState({inputFocus:!0})},onKeyDown:this.keywordChange}),this.associateList.length&&a?i.createElement("div",{className:"associate"},i.createElement("ul",null,this.associateList.map((function(t){return i.createElement("li",{key:t.name,onClick:function(){e.setState({inputVal:t.name}),setTimeout((function(t){return e.setState({inputFocus:!0})}),100),e.input.focus()}},t.name)})))):null),n.map((function(t,n){return i.createElement("span",{className:"word",key:n},t.name,i.createElement("i",{onClick:function(){return e.delKeyWords(n)}},"\xd7"))})))},(0,y.Z)(t,[{key:"associateList",get:function(){var e=this.state.inputVal;return this.props.associateList&&e?this.props.associateList.filter((function(t){return t.name!==e&&-1!==t.name.toString().toLocaleLowerCase().indexOf(e.toLocaleLowerCase())})):[]}}]),t}(i.Component);const x=g;var I=n(5133),b=n(49722),T=n(35239),E=n(21816);const w=function(e){function t(t){var n;return(n=e.call(this,t)||this).editTopic=function(e){n.editing=e,n.refs.changeNameInput.refs.input.value=e.name,n.setState({dialogVisible:!0})},n.delTopic=function(e){s.MessageBox.confirm("\u786e\u8ba4\u5220\u9664\u8be5\u7ec4\u5408\u5206\u6790, \u662f\u5426\u7ee7\u7eed?","\u63d0\u793a",{type:"warning"}).then((function(){b.h.post("/filter/delete",{id:e.id}).then((function(t){n.props.onChange(null,{id:e.id}),2e4===t.data.code?I.Z.success("\u5220\u9664\u6210\u529f"):I.Z.error("\u5220\u9664\u5931\u8d25")}))})).catch((function(){}))},n.getExpandTopicValue=function(e){return b.h.post("/filter/expand/findFilter",{id:e})},n.competeOpen=function(){n.refs.topics.offsetHeight>45?n.setState({showOpen:!0}):n.setState({showOpen:!1})},n._handleChangeName=function(){var e=n.refs.changeNameInput.refs.input.value;n.getExpandTopicValue(n.editing.id).then((function(t){var r=t.data.result;(0,E.D)(e,!1,r.id,n.props.model,T.t.get(T.V.curProject).id,JSON.parse(r.filter)).then((function(e){var t=e.data;2e4===t.code&&(I.Z.success("\u7ec4\u5408\u5206\u6790\u540d\u79f0\u4fee\u6539\u6210\u529f"),n.refs.changeNameInput.refs.input.value="",n.setState({dialogVisible:!1},(function(){return n.props.fresh(r.id,{name:t.result.name,id:t.result.id})})))}))}))},n.renderDialog=function(){return i.createElement(s.Dialog,{title:"\u4fee\u6539\u540d\u79f0",className:"change-name-dialog",size:"tiny",modal:!1,visible:n.state.dialogVisible,onCancel:function(e){return n.setState({dialogVisible:!1})}},i.createElement(s.Dialog.Body,null,i.createElement(s.Input,{className:"name-input",placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0",ref:"changeNameInput"})),i.createElement(s.Dialog.Footer,null,i.createElement(s.Button,{type:"primary",onClick:n._handleChangeName},"\u786e\u5b9a"),i.createElement(s.Button,{type:"default",onClick:function(e){return n.setState({dialogVisible:!1})}},"\u53d6\u6d88")))},n.state={list:t.list?t.list:[],value:t.value?t.value:{},showOpen:!1,open:!1,dialogVisible:!1},n}(0,a.Z)(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e,t){(e.value||e.list)&&(this.setState({value:e.value,list:e.list}),this.competeOpen())},n.componentDidMount=function(){this.competeOpen()},n.render=function(){var e=this,t=this.state,n=t.list,r=t.showOpen,a=t.open,o=t.value,c=this.props,s=c.close,u=c.onChange;return i.createElement("div",{className:"expand-topic",style:{height:a?"":"38px"}},i.createElement("p",{className:"name"},"\u7ec4\u5408\u5206\u6790",i.createElement(l.Z,{overlay:i.createElement("div",{style:{width:"220px"}},"\u4f60\u53ef\u4ee5\u57fa\u4e8e\u7b5b\u9009\u6761\u4ef6\u751f\u6210\u4e00\u4e2a\u7ec4\u5408\u7684\u5206\u6790\u5bf9\u8c61\u3002\u5728\u5207\u6362\u5206\u6790\u5bf9\u8c61\u65f6\u4f60\u53ef\u4ee5\u4ece\u201c\u7ec4\u5408\u5206\u6790\u201d\u4e2d\u4f7f\u7528\u4f60\u521b\u5efa\u7684\u7ec4\u5408\u5206\u6790\u5bf9\u8c61\u3002"),placement:"top"},i.createElement("i",{className:"icon-cem_file1 hide",style:{color:"#8c8c8c"}}))),i.createElement("div",{className:"topics",ref:"topics"},i.createElement("div",{className:"more"},r&&i.createElement("i",{className:"open",onClick:function(t){return e.setState({open:!a})}},a?"\u6536\u8d77":"\u66f4\u591a",i.createElement("i",{className:a?"icon-cem_pull-or-take-up":"icon-cem_pull-down-or-take-up"})),s&&i.createElement("i",{className:"closeAll",onClick:s},"\xd7")),i.createElement("div",{className:"topic-wrap"},n.length>0?n.map((function(t,n){return i.createElement("span",{className:"topic "+(o.id===t.id?"sel":""),key:t+n},i.createElement(l.Z,{placement:"top",overlay:"\u5355\u51fb\u7f16\u8f91"},i.createElement("span",{onClick:function(e){return u&&u({id:t.id,name:t.name})}},t.name)),i.createElement(l.Z,{placement:"top",overlay:"\u91cd\u547d\u540d"},i.createElement("i",{onClick:function(n){return e.editTopic(t)},className:"icon-cem_screening-editor"})),i.createElement(l.Z,{placement:"top",overlay:"\u5220\u9664"},i.createElement("i",{onClick:function(){return e.delTopic(t)},className:"icon-cem icon-cem_delete"})))})):i.createElement("div",{style:{color:"#262626",lineHeight:"38px"}},"\u6682\u65e0\u7ec4\u5408\u503c"))),this.renderDialog())},t}(i.Component);var k=n(29383),C=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={defaultChecked:!1},n}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState((0,r.Z)({},this.props))},n.componentWillReceiveProps=function(e){this.setState((0,r.Z)({},e))},n.handleClick=function(e){var t=this.state,n=t.type,r=t.defaultChecked,a=t.selectedList,i=t.totalList;if("checkAll"===n)r?this.props.onChange([]):this.props.onChange(i);else{var o=a.indexOf(e);o>-1?a.splice(o,1):a.push(e),this.props.onChange(a)}this.setState({defaultChecked:!r})},n.render=function(){var e=this,t=this.state,n=t.type,r=t.defaultChecked,a=t.indeterminate,o=t.uniqueId,c="customized-checkobx";return r?c="customized-checkobx checked":"checkAll"===n&&a&&(c="customized-checkobx indeterminate"),i.createElement("div",{className:"customized-checkobx-wrapper"},i.createElement("div",{className:c,onClick:function(t){t.stopPropagation(),e.handleClick(o)}}))},t}(i.PureComponent),S=n(67592),N=n(39432),O=n(52727),_=!0,j=function(e){function t(t){var n;return(n=e.call(this,t)||this).init=function(){n.setState((0,r.Z)({},n.props),(function(){n.state.show&&n.fetchData()}))},n.switchPage=function(e){n.setState({pageNum:e},(function(){return n.fetchData()}))},n.switchPageSize=function(e){n.setState({pageSize:e,pageNum:1},(function(){return n.fetchData()}))},n.handleCheckAll=function(){var e=n.state,t=e.isCheckedAll,r=e.checkAllStatus,a=e.currPageSelectedList;n.setState({isCheckedAll:!t,checkAllStatus:{checked:!r.checked,indeterminate:!1}},(function(){n.setState({currPageSelectedList:t?[]:a},(function(){n.handleCheckboxStyle()}))}))},n.handleCheck=function(e){for(var t=n.state,r=t.currPageList,a=t.selectedList,i=t.totalRecords,o=e.length-1;o>=0;o--)-1===a.indexOf(e[o])&&a.push(e[o]);for(var c=r.length-1;c>=0;c--)if(-1===e.indexOf(r[c].id)){var s=a.indexOf(r[c].id);s>-1&&a.splice(s,1)}n.setState({currPageSelectedList:e,selectedList:a,checkAllStatus:{checked:a.length>0&&a.length===i,indeterminate:a.length>0&&a.length!==i}},(function(){n.handleCheckboxStyle()}))},n.handleCheckboxStyle=function(){var e=n.state,t=e.selectedList,r=e.currPageSelectedList,a=e.currPageList,i=e.checkAllStatus,o=e.isCheckedAll;if(o&&!i.indeterminate||!o&&i.checked)i.checked=!0,a.forEach((function(e){e.checked=!0;var t=document.getElementById(e.id);t&&t.classList.add("item-active")}));else if(o)a.forEach((function(e){if(t.includes(e.id)){e.checked=!1;var n=document.getElementById(e.id);n&&n.classList.remove("item-active")}else{e.checked=!0;var r=document.getElementById(e.id);r&&r.classList.add("item-active")}}));else{0===r.length?(i.indeterminate=!1,a.forEach((function(e){e.checked=!1;var t=document.getElementById(e.id);t&&t.classList.remove("item-active")}))):(a.forEach((function(e){t.forEach((function(t){if(e.id===t){e.checked=!1;var n=document.getElementById(e.id);n&&n.classList.remove("item-active")}}))})),i.indeterminate=!0);for(var c=a.length-1;c>=0;c--){for(var s=!1,u=r.length-1;u>=0;u--)if(r[u]===a[c].id){s=!0,a[c].checked=!0;var l=document.getElementById(a[c].id);l&&l.addClass("item-active");break}if(!s){a[c].checked=!1;var p=document.getElementById(a[c].id);p&&p.classList.remove("item-active")}}}n.setState({currPageList:a,checkAllStatus:i})},n.handleChange=function(e){n.setState({keywords:e})},n.handleKeyUp=function(e){13===e.keyCode&&n.setState({keywords:e.target.value,pageNum:1},(function(){return n.fetchData()}))},n.handleSort=function(e){var t=e.prop,r=e.order;n.setState({sortName:t||"createdAt",sortType:r||"descending",selectedList:[],pageNum:1},(function(){return n.fetchData()}))},n.state={show:!1,keywords:"",sortName:"createdAt",sortType:"descending",currPageList:[],currPageSelectedList:[],selectedList:[],pageNum:1,pageSize:20,data:[],totalRecords:0,isCheckedAll:!1,checkAllStatus:{checked:!1,indeterminate:!1},loading:!1,columns:[{label:"",width:16,prop:"paddingLeft"},{label:"",width:56,renderHeader:function(){return i.createElement(C,{type:"checkAll",defaultChecked:n.state.checkAllStatus.checked,indeterminate:n.state.checkAllStatus.indeterminate,onChange:n.handleCheckAll,selectedList:n.state.currPageSelectedList,totalList:n.state.currPageList.map((function(e){return e.id}))})},render:function(e){return i.createElement(C,{type:"checkOne",defaultChecked:e.checked||!1,onChange:n.handleCheck,selectedList:n.state.currPageSelectedList,totalList:n.state.currPageList.map((function(e){return e.id})),uniqueId:e.id})}},{label:"\u94fe\u63a5\u540d\u79f0",render:function(e){var t=e.name,n=e.url;return i.createElement("div",{className:"ellipsis",title:t,onClick:function(e){e.stopPropagation(),n.startsWith("http")&&window.open(n)}},t)}},{label:"\u6e20\u9053",prop:"categoryName"},{label:"\u603b\u6570\u636e\u91cf",prop:"total",render:function(e){var t=e.total;return i.createElement("div",null,N.ZP.formatNumber(t))}},{label:"30\u5929\u6570\u636e\u8d8b\u52bf",render:function(e){var t=e.dataList;return t&&t.length>0?i.createElement(O.Z,{loading:!1,chartData:t}):i.createElement("i",{className:"icon-cem_line",style:{color:"rgb(191, 191, 191)",fontSize:20}})}},{label:"\u521b\u5efa\u65f6\u95f4",sortable:"custom",prop:"createdAt",render:function(e){var t=e.createdAt;return i.createElement("div",null,t&&t.replace("T"," "))}},{label:"",width:16,prop:"paddingRight"}]},n}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.init()},n.UNSAFE_componentWillReceiveProps=function(e){var t=this,n=function(){t.props.show;t.setState((0,r.Z)({},e,{pageNum:1}),(function(){t.setState({pageNum:1},(function(){return t.fetchData()}))}))},a=e.queryParams&&e.queryParams.filterModel,i=this.state.queryParams&&this.state.queryParams.filterModel;(0,S.d)((0,r.Z)({},i,{connections:[],advancedConnection:[]}),(0,r.Z)({},a,{connections:[],advancedConnection:[]}))||n(),e.show!==this.state.show&&(this.setState({show:e.show}),e.show&&0===this.state.data.length&&n())},n.fetchData=function(){var e=this,t=this.state,n=t.keywords,a=t.sortName,i=t.sortType,o=t.pageNum,c=t.pageSize,s=t.defaultValue,u=this.props.queryParams,l=this.state,p=l.currPageList,d=l.currPageSelectedList,f=l.selectedList,h=l.totalRecords;_&&s[0]&&s[0].values.length>0&&(u.filterModel.connections=s[0].values);var m=void 0,v=window.location.pathname;/^\/price/.test(v)&&(m="PRICE"),this.setState({loading:!0},(function(){b.h.post("/filter/connection/search",(0,r.Z)({projectId:T.t.get(T.V.curProject).id},u,{name:n,sortName:a,sort:i,pageIndex:o,pageSize:c,queryType:m})).then((function(t){if(200===t.status||304===t.status){var n=t.data.result;p=n.list,d=[];for(var r=p.length-1;r>=0;r--)f.indexOf(p[r].id)>-1?(p[r].checked=!0,d.push(p[r].id)):p[r].checked=!1;h=n.count,_&&s[0]&&s[0].values.length>0&&(d=s[0].values,f=s[0].values,_=!1),e.setState({currPageList:p,currPageSelectedList:d,selectedList:f,totalRecords:h,data:n.list},(function(){return e.handleCheckboxStyle()}))}})).finally((function(){e.setState({loading:!1})}))}))},n.getValue=function(){var e=this.state,t=e.keywords,n=e.selectedList,r=e.isCheckedAll,a=e.checkAllStatus;return r&&a.indeterminate?[{notContain:n,contain:[],searchQueryName:t}]:[{notContain:[],contain:r||!r&&!a.indeterminate?[]:n,searchQueryName:a.checked?t:""}]},n.render=function(){var e=this,t=this.state,n=t.show,r=t.currPageList,a=t.currPageSelectedList,o=t.checkAllStatus,c=t.isCheckedAll,u=t.pageNum,l=t.pageSize,p=t.totalRecords,d=t.loading,f=t.columns,h=t.keywords;return i.createElement("div",{className:"advanced-filter-wrapper",style:{display:n?"block":"none"}},i.createElement("div",{className:"advanced-filter-body"},i.createElement(s.Input,{ref:function(t){return e.searchInput=t},placeholder:"\u8bf7\u8f93\u5165\u94fe\u63a5\u540d\u79f0",onChange:this.handleChange,onKeyUp:this.handleKeyUp,icon:"search",onIconClick:function(){e.setState({keywords:h,pageNum:1},(function(){return e.fetchData()}))}}),i.createElement(s.Loading,{loading:d},i.createElement(k.Z,{className:"connection-table",maxHeight:306,columns:f,data:r,total:p,currentPage:u,pageSize:l,pageSizeSelectorShow:!0,onPageSizeChange:this.switchPageSize,onPage:this.switchPage,onSortChange:this.handleSort,rowClassName:function(e){return!c&&a.includes(e.id)||o.checked||c&&!a.includes(e.id)?"item-active":""},notLimit:!1}))))},t}(i.Component),A=n(61193),D=n(97189),M=n(19586);const R=(e,t=[])=>{const n=e?e.slice():[];return t.forEach(((e,t)=>{const r=n.findIndex((t=>t.id===e));if(r>-1){const[e]=n.splice(r,1);n.splice(t,0,e)}})),n};var L={SOURCE:"source",MESSAGE_TYPE:"messageType",MESSAGE_CATEGORY:"messageCategory"},P=function(e){function t(t){var n;return(n=e.call(this,t)||this).getFilter=function(){var e,t,r=n.props,a=r.type,i=r.filter,o=r.getTitles,c=r.filterSpecial,s=r.dimension,u=[];return b.h.post("/filter/find",{type:a||"INBOX",filterTypes:i,dimensionId:s||void 0,projectId:n.state.projectId}).then((function(r){u=n.formatData(r.data.result),o&&o(JSON.parse(JSON.stringify(u)));if(a&&["OVERVIEW","PRODUCT","MARKETING","SERVICE"].includes(a)&&T.t.set(T.V.productFilterList,u,"session"),c)e=c.reduce((function(e,t){return[].concat(e,u.filter((function(e){return e.special===t})))}),[]),t=u.filter((function(t){return!e.find((function(e){return e.id===t.id}))}));else{var i=n.getFilterListShowAndHide(u);e=i.filterListShow,t=i.filterListHide}var s=n.getDefaultValue(u);return n.setState({allList:u,filterListShow:e,filterListHide:t,value:s},(function(e){return n.reFilterList(n.state.value,(function(e){n.sortList(n.saveList)}))})),n.props.onFilterReady&&n.props.onFilterReady(),r}))},n.getFilterListShowAndHide=function(e){var t=JSON.parse(JSON.stringify(e));n.props.messageRelationConfig&&n.props.messageRelationConfig.unshow&&n.props.messageRelationConfig.unshow.forEach((function(e){t.some((function(n){return n.id===e&&(t.splice(t.findIndex((function(t){return t.id===e})),1),!0)}))}));var r=[],a=[];if(n.props.saveFilterListShow&&T.t.get(n.props.saveFilterListShow)&&T.t.get(n.props.saveFilterListShow).some((function(e){return e.projectId===n.state.projectId}))){var i=T.t.get(n.props.saveFilterListShow).filter((function(e){return e.projectId===n.state.projectId}))[0];t.forEach((function(e){i.filterListShow.some((function(t){return t.id===e.id}))?r.push(e):a.push(e)}))}else r=JSON.parse(JSON.stringify(t.slice(0,4))),a=JSON.parse(JSON.stringify(t.slice(4)));return{filterListShow:r,filterListHide:a}},n.saveFilterListShow=function(e){var t=n.state.projectId,r=T.t.get(n.props.saveFilterListShow)||[];r.some((function(e){return e.projectId===t}))?r.forEach((function(n){n.projectId===t&&(n.filterListShow=e)})):r.push({projectId:t,filterListShow:e}),T.t.set(n.props.saveFilterListShow,r)},n.handleChangeSel=function(e,t,a){var i=n.state.value;if(!i.some((function(n){return n.id===e.id&&(n.values=t,a&&a.length>0&&(n.secondValue=a.map((function(t){return{fatherId:e.child.id,id:t.id,values:t.values}}))),!0)}))){var o=(0,r.Z)({},e,{values:t});a&&a.length>0&&(o.secondValue=a.map((function(t){return{fatherId:e.child.id,id:t.id,values:t.values}}))),i.push(o)}n.reFilterList(i,(function(){n.onChange()}))},n.keyWordsChange=function(e,t,r){var a=n.state.value;0===e.length?a.splice(a.findIndex((function(e){return e.id===r.id})),1):a.some((function(n){return n.id===r.id&&(n.values=[].concat(e,[t]),!0)}))||a.push({id:r.id,special:r.special,values:[].concat(e,[t]),type:r.type}),n.setState({value:a},(function(e){return n.onChange()}))},n.keyWordChange=function(e,t){var r=n.state.value;0===e.length?r.splice(r.findIndex((function(e){return e.id===t.id})),1):r.some((function(n){return n.id===t.id&&(n.values=e,!0)}))||r.push({id:t.id,special:t.special,values:e,type:t.type}),n.setState({value:r},(function(e){return n.onChange()}))},n.expandTopicChange=function(e,t,r){if(t)n.updateExpandTopic(t.id,t.value);else{if(e.id===n.state.expandTopic.id&&!r)return void n.reFilterList([],(function(e){return n.setState({expandTopic:{id:"",name:"",value:[]}},(function(e){n.sortList(),n.props.onExpandTopicChange&&n.props.onExpandTopicChange(n.state.expandTopic)}))}));n.refs.expandTopic.getExpandTopicValue(e.id).then((function(t){var r=(0,M.C)(JSON.parse(t.data.result.filter));n.reFilterList(r,(function(t){n.setState({expandTopic:{id:e.id,name:e.name,value:r},filterValue:r},(function(e){n.sortList(),n.props.onExpandTopicChange&&n.props.onExpandTopicChange(n.state.expandTopic)}))}))}))}},n.getExpandTopicData=function(){return n.state.expandTopic.id?n.state.expandTopic:null},n.isExpandTopicChanged=function(){return!(0,S.d)(n.state.value.filter((function(e){return"connections"!==e.special})),n.state.expandTopic.value.filter((function(e){return"connections"!==e.special})))},n.updateExpandTopic=function(e,t){var r=n.state.allList;r.some((function(n){return"expandTopic"===n.special&&(e?(n.values.splice(n.values.findIndex((function(t){return t.id===e})),1),t&&n.values.unshift(t)):n.values.unshift(t),!0)})),n.setState({allList:r},(function(e){return n.reFilterList(n.state.value,n.saveList)}))},n.saveList=function(){var e=n.getFilterList(),t=n.getValue(),a=[],i=[];e.forEach((function(e){e.child&&e.child.values.length>0&&a.push((0,r.Z)({},e.child,{special:"connConfig"}))})),t.forEach((function(e){e.secondValue&&e.secondValue.length>0&&i.push({id:e.secondValue[0].fatherId,values:e.secondValue.reduce((function(e,t){return e.concat(t.values)}),[])})})),e=(e=e.filter((function(e){return!["input"].includes(e.type)}))).concat(e.splice(e.findIndex((function(e){return"expandTopic"===e.special})),1));var o=n.props.specifiyProjectId?"specify-filter-list":"filter-list",c=n.props.specifiyProjectId?"specifyFilterList":"filterList";T.t.set(T.V[c],JSON.stringify({list:e.concat(a),value:t.concat(i)}));var s=new Event("setItemEvent");s.key=o,window.dispatchEvent(s)},n.onChange=function(){n.props.onFilterChange&&n.props.onFilterChange(n.getReFormatValue())},n.clearData=function(){var e=n.state.value;e=n.props.messageRelationConfig&&n.props.messageRelationConfig.unshow?e.filter((function(e){return"dimension"===e.special&&"radio"===e.type||n.props.messageRelationConfig.unshow.includes(e.id)})):e.filter((function(e){return"dimension"===e.special&&"radio"===e.type})),n.setState({value:e},(function(){return n.reFilterList(n.state.value,(function(e){n.onChange()}))}))},n.renderCheckBox=function(e,t){var r=n.state,a=r.searchInfo,o=r.value,c=r.filterValue,s=o.filter((function(t){return t.id===e.id}))[0]?o.filter((function(t){return t.id===e.id}))[0].values:[],l=o.filter((function(t){return t.id===e.id}))[0]&&o.filter((function(t){return t.id===e.id}))[0].secondValue?o.filter((function(t){return t.id===e.id}))[0].secondValue:[],p=a.id===e.id?e.values.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a.keyword.toLowerCase())})):e.values,d=c&&c.find((function(t){return t.id===e.id}))?c.find((function(t){return t.id===e.id})).values:[];return i.createElement(u.Z,{key:t,disabled:!!n.props.disableIds&&n.props.disableIds.includes(e.id),checkedList:s,secondInfo:e.child,secondValue:l,data:R(p,d),allListLength:e.values.length,changeState:function(t,r){return n.handleChangeSel(e,t,r)},onSearch:function(t){return n.setState({searchInfo:{isSearching:!0,id:e.id,name:e.name,keyword:""}})},title:e.name,close:function(e){return n.delFilter(t)}})},n.toggleAdvancedFilter=function(){n.setState({advancedFilterShow:!n.state.advancedFilterShow})},n.closeAdvancedFilter=function(){n.setState({advancedFilterShow:!1})},n.renderMoreFilter=function(e){return e.length>0?i.createElement("div",{className:"more-filter",style:{borderBottom:"top"===n.props.moreFilterPosition?"1px dashed #e5e5e5":""}},i.createElement("span",{className:"title"},"\u6dfb\u52a0\u7b5b\u9009"),i.createElement("div",null,e.filter((function(e){return"connConfig"!==e.special||e.values.length>0})).map((function(e,t){return i.createElement("span",{key:t,className:"filter-card",onClick:function(e){return n.addMoreFilter(t)}},e.name+" +")})))):""},n.state={value:n.props.value||[],filterValue:n.props.filterValue||[],allList:[],reFilterData:{},filterListShow:[],filterListHide:[],searchInfo:{isSearching:!1,name:"",id:"",keyword:""},expandTopic:{id:"",name:"",value:[]},loading:!1,projectId:t.specifiyProjectId||T.t.get(T.V.curProject).id,advancedFilterShow:!1},n}(0,a.Z)(t,e);var n=t.prototype;return n.formatData=function(e){var t=this,n=[],a={};e.topics&&e.topics.titles&&e.topics.titles.length>0&&(a.connConfig=e.topics.data,n.push.apply(n,e.topics.titles.filter((function(t){return t.special="connConfig",t.filterType=e.topics.data?"connConfig":void 0,t.values.length>1})))),e.messageRelation&&(a.messageRelation=e.messageRelation.data,n.push.apply(n,e.messageRelation.titles.filter((function(t){return t.special=L[t.id],t.id=L[t.id],t.filterType=e.messageRelation.data?"messageRelation":void 0,t.values.length>1})))),e.aspects&&e.aspects.titles&&e.aspects.titles.length>0&&(a.aspects=e.aspects.data,n.push.apply(n,e.aspects.titles.filter((function(t){return t.special="vocAspect",t.filterType=e.aspects.data?"aspects":void 0,t.values.length>1})))),e.brandsSeries&&e.brandsSeries.titles&&e.brandsSeries.titles.length>0&&(a.brandsSeries=e.brandsSeries.data,n.push.apply(n,e.brandsSeries.titles.filter((function(t){return t.special="brandsSeries",t.filterType=e.brandsSeries.data?"brandsSeries":void 0,t.values.length>1})))),this.setState({reFilterData:a}),e.dimension&&n.push.apply(n,e.dimension.filter((function(e){return e.special="dimension",e.type=-1!==["BRAND_INTERACTION_ANALYSIS","BRAND_CONTENT_ANALYSIS","BRAND_CHANNEL_ANALYSIS"].indexOf(t.props.type)?"radio":"",e.values.length>1}))),e.source&&e.source.length>0&&n.push({id:"source",name:"\u6570\u636e\u6765\u6e90",special:"source",values:e.source}),e.tag&&e.tag.length>0&&e.tag.forEach((function(e){e.special="tag",n.push(e)})),e.userFilter&&n.push({id:"userFilter",special:"userFilter",name:"\u7528\u6237",type:"associateInput",values:e.userFilter}),this.props.filterConfig&&this.props.filterConfig.forEach((function(e){switch(e){case"ESCORE":n.push({id:"escore",special:"escore",name:"\u901a\u7528\u60c5\u611f",values:[{id:"1",name:"\u6b63\u9762"},{id:"0",name:"\u4e2d\u6027"},{id:"-1",name:"\u8d1f\u9762"}]});break;case"MULTI_KEY_WORD":n.push({id:"MULTI_KEY_WORD",special:"content",name:"\u5173\u952e\u8bcd",type:"multi_input",values:[]});break;case"KEY_WORD":n.push({id:"KEY_WORD",special:"content",name:"\u5173\u952e\u8bcd",type:"input",values:[]});break;case"USEFUL_DATA":n.push({id:"usefulData",special:"usefulData",name:"\u6570\u636e\u6709\u6548\u6027",values:[{id:"USEFUL",name:"\u6709\u6548\u6570\u636e"},{id:"UNUSEFULL",name:"\u65e0\u6548\u6570\u636e"}]});break;case"ASPECT_ESCORE":n.push({id:"aspectEscore",special:"aspectEscore",name:"\u6307\u6807\u60c5\u611f",values:[{id:"1",name:"\u6b63\u9762"},{id:"0",name:"\u4e2d\u6027"},{id:"-1",name:"\u8d1f\u9762"}]});break;case"IS_BUSINESS":n.push({id:"isBusiness",special:"isBusiness",name:"\u4e1a\u52a1\u6570\u636e",values:[{id:"BUSINESS",name:"\u662f"},{id:"UN_BUSINESS",name:"\u5426"}]});break;case"IS_MARKETING":n.push({id:"isMarketing",special:"isMarketing",name:"\u8425\u9500\u6570\u636e",values:[{id:"MARKETING",name:"\u662f"},{id:"UN_MARKETING",name:"\u5426"},{id:"NULL_MARKETING",name:"\uff08\u7a7a\uff09"}]})}})),e.expandTopics&&n.push({id:"expandTopic",name:"\u7ec4\u5408\u5206\u6790",special:"expandTopic",values:e.expandTopics,type:"expandTopic"});var i=n.map((function(e){return(0,r.Z)({},e,{values:e.values.length>0?(0,N.QM)(e.values):e.values})}));return JSON.parse(JSON.stringify(i))},n.getDefaultValue=function(e,t){var n=t||(this.props.value||[]),r=e||this.state.allList;return n.some((function(e){return"dimension"===e.special}))||r.some((function(e){return"dimension"===e.special&&"radio"===e.type&&(n.push({special:e.special,id:e.id,name:e.name,type:e.type,values:[e.values[0].id]}),!0)})),n},n.sortList=function(e){for(var t,n=JSON.parse(JSON.stringify(this.state)).value,r=JSON.parse(JSON.stringify(this.state)),a=r.filterListShow,i=r.filterListHide,o=a.length,c=this.props.filterSpecial;o--;)a[o]&&!n.some((function(e){return e.id===a[o].id}))&&i.unshift(a.splice(o,1)[0]);if(n.forEach((function(e){i.forEach((function(t,n){e.id===t.id&&a.push(i.splice(n,1)[0])}))})),c){var s=c.reduce((function(e,t){return[].concat(e,i.filter((function(e){return e.special===t})))}),[]);(a=[].concat(s,a)).forEach((function(e){var t=i.findIndex((function(t){return t.id===e.id}));t>-1&&i.splice(t,1)}))}else if(0===a.length){var u=this.getFilterListShowAndHide(i);a=u.filterListShow,i=u.filterListHide}a.length<4&&(t=a).push.apply(t,i.splice(0,4-a.length));this.setState({filterListHide:i,filterListShow:a},(function(t){return e&&e()}))},n.addMoreFilter=function(e){var t=this,n=this.state,r=n.filterListShow,a=n.filterListHide;n.projectId;r.push.apply(r,a.splice(e,1)),this.props.saveFilterListShow&&this.saveFilterListShow(r),this.setState({filterListShow:r,filterListHide:a},(function(){t.reFilterList(t.state.value)}))},n.delFilter=function(e){var t=this,n=this.state,r=n.filterListShow,a=n.filterListHide,i=this.state.value;i=i.filter((function(t){return t.id!==r[e].id})),a.push.apply(a,r.splice(e,1)),this.props.saveFilterListShow&&this.saveFilterListShow(r),this.setState({filterListShow:r,filterListHide:a},(function(e){return t.reFilterList(i,t.onChange)}))},n.closeExpandTopic=function(e){var t=this.state,n=t.filterListShow,r=t.filterListHide;r.push.apply(r,n.splice(n.findIndex((function(e){return"expandTopic"===e.id})),1)),this.setState({filterListShow:n,filterListHide:r})},n.isExistence=function(e,t){return t.map((function(t){if(t.id===e.id&&t.values.length===e.values.length){for(var n=0;n<t.values.length;n++)if(!e.values.includes(t.values[n].id))return!1;return!0}return!1}))},n.reFilterList=function(e,t){var n=this.state.allList,a=this.state,i=a.reFilterData,o=a.filterListShow,c=a.filterListHide;n=JSON.parse(JSON.stringify(n));var s=JSON.parse(JSON.stringify(e.filter((function(e){return e.values.length>0})))).map((function(e,t){return e.index=t,e})),u=JSON.parse(JSON.stringify(s)),l=i.messageRelation;n.forEach((function(e){s.forEach((function(t){e.id===t.id&&(e.index=t.index)}))}));for(var p=function(){var e=[],t=u.shift(),a=n.filter((function(e){return e.id===t.id}));if(["aspects","connConfig","brandsSeries"].includes(t.filterType)&&t.values.length!==(a.length>0?a[0].values.length:0))!function(){for(var a=i[t.filterType],c=[],s=function(e){t.values.forEach((function(t){a[e].map((function(e){return e.id})).includes(t)&&(c=c.concat(a[e]))}))},u=0;u<a.length;u++)s(u);var l=(0,D.uniqueArray)(c.map((function(e){return e.id})));n.forEach((function(n){var a=(0,r.Z)({},n,{values:[]});void 0!==n.index&&(a.index=n.index),t.id===n.id||void 0!==n.index&&t.index>n.index||n.filterType!==t.filterType||!o.map((function(e){return e.id})).includes(n.id)?a.values=n.values:function(){for(var e=l.slice(),t=function(t){e.some((function(r,a){return r===n.values[t].id&&(e.splice(a,1),!0)}))&&a.values.push(n.values[t])},r=0;r<n.values.length;r++)t(r)}(),e.push(a)})),n=JSON.parse(JSON.stringify(e))}();else if("messageRelation"===t.filterType&&t.values.length!==(a.length>0?a[0].values.length:0)){var c=l?l.filter((function(e){return t.values.includes(e.id)})).reduce((function(e,t){return e.concat(t.values)}),[]):[];n.forEach((function(e){if("messageRelation"===e.filterType&&t.id!==e.id&&(void 0===e.index||t.index<e.index)){var n=JSON.parse(JSON.stringify(e.values)),r=[];c.filter((function(t){return L[t.type]===e.id})).forEach((function(e){!r.some((function(t){return t.id===e.id}))&&n.some((function(t){return t.id===e.id}))&&r.push({name:e.name,id:e.id})})),e.values=r}}))}};u.length;)p();n.forEach((function(e){s.forEach((function(t){e.id!==t.id||"connConfig"!==t.filterType&&"messageRelation"!==t.filterType||(t.values=t.values.filter((function(t){return-1!==e.values.map((function(e){return e.id})).indexOf(t)})))}))})),n.forEach((function(e){o.forEach((function(t){e.id===t.id&&(t.values=e.values)})),c.forEach((function(t){e.id===t.id&&(t.values=e.values)}))})),s.forEach((function(e){return delete e.index})),this.setState({filterListShow:o,filterListHide:c,value:s},(function(e){return t&&t()}))},n.getValue=function(){return JSON.parse(JSON.stringify(this.state.value))},n.getReFormatValue=function(e){var t=(e?{value:e}:this.state).value,n={},r=function(e){e.secondValue&&e.secondValue.length>0&&e.secondValue.forEach((function(t){n[e.special].some((function(e){var n;return e.id===t.fatherId&&((n=e.values).push.apply(n,t.values),e.values=Array.from(new Set(e.values)),!0)}))||n[e.special].push({id:t.fatherId,values:t.values,special:e.special})}))};return JSON.parse(JSON.stringify(t)).forEach((function(e){"connections"!==e.special?n[e.special]?(n[e.special].push({id:e.id,values:e.values,special:e.special,type:e.type}),r(e)):(n[e.special]=[{id:e.id,values:e.values,special:e.special,type:e.type}],r(e)):n.connections=e.values})),Object.keys(n).forEach((function(e){["input"].includes(n[e][0]&&n[e][0].type)?n[e]=[{contain:n[e][0].values}]:["source","escore","emotion","messageType","usefulData","messageCategory","aspectEscore","businessType","isBusiness","isMarketing","userFilter"].includes(n[e][0]&&n[e][0].special)?n[e]=n[e][0].values:["multi_input"].includes(n[e][0]&&n[e][0].type)&&(n[e]=[{contain:n[e][0].values.slice(0,n[e][0].values.length-1),queryType:n[e][0].values[n[e][0].values.length-1]||void 0}])})),this.refs.advancedFilter&&this.refs.advancedFilter.getValue()[0].contain.length>0?n.connections=this.refs.advancedFilter.getValue()[0].contain:this.refs.advancedFilter&&this.refs.advancedFilter.getValue()[0].notContain.length>0&&(n.advancedConnection=[{notContain:this.refs.advancedFilter.getValue()[0].notContain}]),this.refs.advancedFilter&&this.refs.advancedFilter.getValue()[0].searchQueryName&&(n.searchQueryName=this.refs.advancedFilter.getValue()[0].searchQueryName),n},n.getFullValue=function(){var e=this.state,t=e.filterListShow,n=e.value,r=[];return t.forEach((function(e){n.forEach((function(t){if(e.id===t.id&&t.values.length>0)if("input"===t.type||"multi_input"===t.type){if(!r.some((function(e){return e.type===t.type}))){var n=[];t.values.forEach((function(e){return n.push({name:e})})),r.push({id:t.id,name:e.name,values:"multi_input"===t.type?n.slice(0,n.length-1):n})}}else{var a=[];e.values.forEach((function(e){t.values.forEach((function(t){String(e.id)===String(t)&&a.push(e)}))})),r.push({id:e.id,name:e.name,values:a})}}))})),r},n.getFilterList=function(){return JSON.parse(JSON.stringify(this.state.filterListShow.concat(this.state.filterListHide)))},n.UNSAFE_componentWillReceiveProps=function(e){var t=this;if(!this.props.noFresh){var n=this.state.allList,r=JSON.parse(JSON.stringify(e.value));r&&r[0]&&n&&n[0]&&(r=e.value.filter((function(e){return t.isExistence(e,n).includes(!0)}))),this.state.expandTopic.id||(JSON.stringify(e.value)===JSON.stringify(this.state.value)?this.setState({value:e.value}):this.reFilterList(this.getDefaultValue(void 0,e.value),(function(){t.sortList(t.saveList)})))}},n.componentDidMount=function(){this.props.noBottom&&!this.props.specifiyProjectId&&this.getFilter()},n.componentWillUnmount=function(){},n.componentDidUpdate=function(e,t){var n=e.filterValue,r=this.props.filterValue;JSON.stringify(n)!==JSON.stringify(r)&&r&&this.setState({filterValue:r})},n.renderRadio=function(e,t){var n=this,r=this.state,a=(r.searchInfo,r.value),o=r.filterValue,c=a.filter((function(t){return t.id===e.id}))[0]?a.filter((function(t){return t.id===e.id}))[0].values:"",s=o&&o.find((function(t){return t.id===e.id}))?o.find((function(t){return t.id===e.id})).values:[];return i.createElement(p,{key:t,value:c,data:R(e.values,s),changeState:function(t){return n.handleChangeSel(e,t)},onSearch:function(e){},title:e.name})},n.render=function(){var e=this,t=this.state,n=t.filterListShow,r=t.filterListHide,a=t.searchInfo,o=t.advancedFilterShow,c=t.expandTopic,u=t.value,p=this.props,f=p.style,h=p.hideAdvanced,m={filterModel:this.getReFormatValue()};return r.forEach((function(e,t){"KEY_WORD"!==e.id&&"MULTI_KEY_WORD"!==e.id||n.push(r.splice(t,1)[0]),"expandTopic"===e.id&&r.push(r.splice(t,1)[0])})),n.forEach((function(e,t){"KEY_WORD"!==e.id&&"MULTI_KEY_WORD"!==e.id||n.push(n.splice(t,1)[0]),"expandTopic"===e.id&&n.unshift(n.splice(t,1)[0])})),i.createElement("div",{className:"filter-condition-wrap",style:f||{}},a.isSearching&&i.createElement("div",{className:"filter-search-wrap"},i.createElement("div",{className:"search"},i.createElement("span",null,i.createElement("i",{className:"icon-cem_search"}),i.createElement("span",null,a.name+":")),i.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u8bcd",autoFocus:!0,value:a.keyword,onInput:function(t){e.setState({searchInfo:{isSearching:!0,id:a.id,name:a.name,keyword:t.target.value}})}})),i.createElement("i",{className:"icon-cem_delete del",onClick:function(){return e.setState({searchInfo:{isSearching:!1,id:"",name:"",keyword:""}})}})),i.createElement(s.Loading,{loading:this.state.loading},i.createElement("div",{className:"filter-condition"},"top"===this.props.moreFilterPosition&&this.renderMoreFilter(r),n.map((function(t,n){switch(t.type){case"multi_input":return i.createElement("div",{className:"key-word-wrap",key:n},i.createElement("span",{className:"key-word-title"},t.name,i.createElement(l.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:i.createElement("div",null,"\u7cfb\u7edf\u63d0\u4f9b\u4e24\u79cd\u5173\u952e\u8bcd\u641c\u7d22\u529f\u80fd\uff1a\u7cbe\u51c6\u5339\u914d\u548c\u6a21\u7cca\u641c\u7d22\uff0c\u4f60\u53ef\u4ee5\u9009\u5176\u4e00\u3002",i.createElement("br",null),"\u300c\u7cbe\u51c6\u5339\u914d\u300d\u662f\u6307\u6309\u7167\u8f93\u5165\u7684\u5173\u952e\u8bcd\uff0c\u6267\u884c\u201c\u4e14\u201d\u7684\u903b\u8f91\u8fdb\u884c\u67e5\u8be2\u3002",i.createElement("br",null),"\u300c\u6a21\u7cca\u641c\u7d22\u300d\u662f\u6307\u6309\u7167\u8f93\u5165\u7684\u5173\u952e\u8bcd\uff0c\u6267\u884c\u201c\u6216\u201d\u7684\u903b\u8f91\u8fdb\u884c\u67e5\u8be2\uff0c\u540c\u65f6\u7cfb\u7edf\u4f1a\u5c06\u5173\u952e\u8bcd\u8fdb\u884c\u6709\u610f\u4e49\u7684\u667a\u80fd\u5206\u62c6\uff0c\u5982\u201c\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u89e3\u653e\u519b\u201d\uff0c\u5b9e\u9645\u6267\u884c\u662f\u53ef\u4ee5\u7406\u89e3\u4e3a\u201c\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u89e3\u653e\u519b\u201d\u201c\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u201d\u3001\u201c\u89e3\u653e\u519b\u201d\u7b49")},i.createElement("i",{className:"icon-cem_file1"}))),i.createElement(v,{style:{width:"calc(100% - 108px)"},values:u.filter((function(e){return e.id===t.id}))[0]?u.filter((function(e){return e.id===t.id}))[0].values.slice(0,u.filter((function(e){return e.id===t.id}))[0].values.length-1):[],queryType:u.filter((function(e){return e.id===t.id}))[0]?u.filter((function(e){return e.id===t.id}))[0].values[u.filter((function(e){return e.id===t.id}))[0].values.length-1]:"FUZZY_SEARCH",onChange:function(n,r){return e.keyWordsChange(n,r,t)},close:"MULTI_KEY_WORD"===t.id?void 0:function(){return e.delFilter(n)}}));case"input":return i.createElement("div",{className:"key-word-wrap",key:n},i.createElement("span",{className:"key-word-title"},t.name),i.createElement(d,{style:{width:"calc(100% - 108px)"},values:u.filter((function(e){return e.id===t.id}))[0]?u.filter((function(e){return e.id===t.id}))[0].values:[],onChange:function(n){return e.keyWordChange(n,t)},close:"KEY_WORD"===t.id?void 0:function(){return e.delFilter(n)}}));case"associateInput":return i.createElement("div",{className:"key-word-wrap",key:n},i.createElement("span",{className:"key-word-title"},t.name),i.createElement(x,{style:{width:"calc(100% - 108px)"},values:u.filter((function(e){return e.id===t.id}))[0]?u.filter((function(e){return e.id===t.id}))[0].values:[],associateList:t.values,onChange:function(n){return e.keyWordChange(n,t)},close:function(){return e.delFilter(n)}}));case"expandTopic":return i.createElement(w,{ref:"expandTopic",close:function(t){return e.closeExpandTopic(n)},onChange:e.expandTopicChange,value:c,key:n,list:t.values,fresh:e.updateExpandTopic,model:e.props.model});case"radio":return e.renderRadio(t,n);default:return e.renderCheckBox(t,n)}})),"top"!==this.props.moreFilterPosition&&this.renderMoreFilter(r))),A.Z.hasAuthority("CONNECTION_SEARCH")&&!h&&i.createElement(j,{ref:"advancedFilter",show:o,queryType:this.props.type,queryParams:m,defaultValue:u.filter((function(e){return"connections"===e.special}))}),!this.props.noBottom&&i.createElement("div",{className:"bottom"},i.createElement("ul",{className:"handle"},i.createElement("li",null,i.createElement("span",{className:"filter"},this.props.count," \u4e2a\u94fe\u63a5\u7b26\u5408\u6761\u4ef6")),u.length>0&&i.createElement("li",null,i.createElement("span",{className:"clear",onClick:this.clearData},"\u6e05\u7a7a\u9009\u9879"))),A.Z.hasAuthority("CONNECTION_SEARCH")&&!h&&i.createElement("span",{className:"advancedFilter",onClick:function(){return e.toggleAdvancedFilter()}},i.createElement("span",null,"\u9ad8\u7ea7\u7b5b\u9009"),i.createElement("i",{className:"icon-cem_screening-for-more",style:{transform:o?"":"rotate(-180deg)",top:o?"3px":""}})),i.createElement(s.Button,{type:"primary",onClick:function(t){e.saveList(),e.closeAdvancedFilter(),c.id&&e.expandTopicChange(c,null,!0),setTimeout((function(t){return e.props.onConfirm&&e.props.onConfirm()}),0),e.setState({filterValue:e.getValue()})}},"\u67e5\u8be2"),i.createElement(s.Button,{onClick:function(t){c.id&&e.expandTopicChange(c),e.props.onCancel&&e.props.onCancel()}},"\u53d6\u6d88")))},t}(i.Component);P.propTypes={style:c().object,projectId:c().string,value:c().array,filter:c().array,filterConfig:c().array,dimension:c().string,messageRelationConfig:c().object,hideAdvanced:c().bool,onFilterChange:c().func,onFilterReady:c().func,onExpandTopicChange:c().func,onConfirm:c().func,onCancel:c().func,count:c().oneOfType([c().number,c().string]),type:c().string,noBottom:c().bool,moreFilterPosition:c().string,specifiyProjectId:c().string,saveFilterListShow:c().string,disableIds:c().array,noFresh:c().bool}},77131:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(94578),a=n(67294),i=n(45697),o=n.n(i),c=n(92360),s=n(5133),u=n(30381),l=n.n(u),p=n(58341),d=n(97189),f=n(49722),h=n(35239),m=["\u5feb\u6377\u65f6\u95f4\u7b5b\u9009\u5668","\u56fa\u5b9a\u65f6\u95f4\u7b5b\u9009\u5668"],v=["\u4eca\u5929","\u6628\u5929","\u524d\u5929","\u8fd1365\u5929","\u672c\u5468","\u4e0a\u5468","\u8fd17\u5929","","\u672c\u6708","\u4e0a\u4e2a\u6708","\u8fd130\u5929","","\u672c\u5b63","\u4e0a\u4e2a\u5b63\u5ea6","\u8fd190\u5929","","\u4eca\u5e74","\u53bb\u5e74","\u8fd1180\u5929"],y=["overview","product","service","marketing"],g="",x=function(e){function t(t){var n;return(n=e.call(this,t)||this).getDateRange=function(e){n.setState({selectedDateRange:e})},n.getNumOfDays=function(e){if(Array.isArray(e)){var t=e[0],r=e[1];return l()(r,n.state.formatStr).diff(l()(t,n.state.formatStr),"days")+1}return 0},n.handleClickQuickTime=function(e){var t=n.state,r=t.currSelector,a=t.staredQuickTimeChoice,i=n.getQuickDateRange(e);n.setState({selectedQuickTimeChoice:e,selectedDateRange:i});var o={module:"ecommerceMonitor",currSelector:r,selectedQuickTimeChoice:e,staredQuickTimeChoice:a,value:[]};n.setDefaultValue(JSON.stringify(o))},n.getQuickDateRange=function(e){var t=[];switch(e){case 0:t=[l()().startOf("day"),l()()];break;case 1:t=[l()().subtract(1,"days").startOf("day"),l()().subtract(1,"days").endOf("day")];break;case 2:t=[l()().subtract(2,"days").startOf("day"),l()().subtract(2,"days").endOf("day")];break;case 3:t=[l()().subtract(365,"days"),l()()];break;case 4:t=[l()().startOf("week"),l()()];break;case 5:t=[l()().subtract(1,"weeks").startOf("week"),l()().subtract(1,"weeks").endOf("week")];break;case 6:t=[l()().subtract(7,"days"),l()()];break;case 8:t=[l()().startOf("month"),l()()];break;case 9:t=[l()().subtract(1,"months").startOf("month"),l()().subtract(1,"months").endOf("month")];break;case 10:t=[l()().subtract(30,"days"),l()()];break;case 12:t=[l()().startOf("quarter"),l()()];break;case 13:t=[l()().subtract(1,"quarters").startOf("quarter"),l()().subtract(1,"quarters").endOf("quarter")];break;case 14:t=[l()().subtract(90,"days"),l()()];break;case 16:t=[l()().startOf("year"),l()()];break;case 17:t=[l()().subtract(1,"years").startOf("year"),l()().subtract(1,"years").endOf("year")];break;case 18:t=[l()().subtract(180,"days"),l()()]}return t.map((function(e){return e.format(n.state.formatStr)}))},n.state={show:void 0!==t.show&&t.show,currSelector:0,selectedDateRange:[],selectedQuickTimeChoice:h.t.get(h.V.quickTimeChoice)||10,staredQuickTimeChoice:-1,params:t.params,formatStr:t.useHourSelect?"YYYY-MM-DD HH:mm":"YYYY-MM-DD"},n}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.show!==t.show?{show:e.show}:JSON.stringify(e.params)!==JSON.stringify(t.params)?{params:e.params}:null};var n=t.prototype;return n.componentWillUnmount=function(){},n.displayStar=function(e){(0,d.hasClass)(e.children[0],"active")&&(e.children[1].getElementsByTagName("span")[0].style.display="inline-block")},n.hideStar=function(e){var t=e.children[1].getElementsByTagName("span")[0];(0,d.hasClass)(t,"star")||(t.style.display="none")},n.switchSlector=function(e){this.setState({currSelector:e})},n.getCurrDate=function(){var e=this.state,t=e.currSelector,n=e.selectedDateRange,r=e.selectedQuickTimeChoice,a=e.params,i=this.formatDate(2),o=this.getNumOfDays(n);return{from:n[0],to:n[1],quickChoice:0===t?a&&a.quickChoice.indexOf("-")>-1?a.quickChoice:v[r]:i,dateGroupType:"DAY",numOfDays:o,remoteName:"cTime"}},n.clickStarIcon=function(e,t){h.t.set(h.V.quickTimeChoice,t),e.stopPropagation();var n=this.state.staredQuickTimeChoice,r=this.state.selectedQuickTimeChoice;if(n!==t){if(-1!==n){var a=document.querySelectorAll(".right ul li")[n].children[1];(0,d.removeClass)(a,"star")}n=t,(0,d.addClass)(e.target.parentNode,"star")}else n=-1,(0,d.removeClass)(e.target.parentNode,"star");this.setState({staredQuickTimeChoice:n});var i={module:"ecommerceMonitor",currSelector:0,selectedQuickTimeChoice:r,staredQuickTimeChoice:n,value:[]};this.setDefaultValue(JSON.stringify(i))},n.fetchDefaultValue=function(){var e=this,t=this.state.selectedQuickTimeChoice,n=v[t],r=window.location.pathname.split("/")[1],a=y.indexOf(r)>-1?"insight":r;g="default-time-"+a;var i=this.props.defaultValue,o=[l()().subtract(29,"days").format(this.state.formatStr),l()().format(this.state.formatStr)];return f.h.post("/default/value/find",{key:g,projectId:h.t.get(h.V.curProject).id}).then((function(t){var r=JSON.parse(t.data.result),a=e.state.params;if(!r||-1===r.staredQuickTimeChoice){var c=a?-1===a.quickChoice.indexOf("-")?v.indexOf(a.quickChoice):-1:i?-1===i.quickChoice.indexOf("-")?v.indexOf(i.quickChoice):-1:h.t.get(h.V.quickTimeChoice),s=c>0?e.getQuickDateRange(c):a?[a.from,a.to]:i?[i.from,i.to]:o;return e.setState({selectedQuickTimeChoice:c,selectedDateRange:s}),{from:s[0],to:s[1],quickChoice:a?a.quickChoice:i?i.quickChoice:h.t.get(h.V.quickTimeChoice)&&h.t.get(h.V.quickTimeChoice)>-1?v[h.t.get(h.V.quickTimeChoice)]:s[0]+" - "+s[1],dateGroupType:"DAY",remoteName:"cTime",numOfDays:e.getNumOfDays(s)}}var u=r.currSelector,l=r.selectedQuickTimeChoice,p=r.staredQuickTimeChoice,d=a&&a.quickChoice&&-1===a.quickChoice.indexOf("-")?v.indexOf(n):p>-1?p:l,f=a&&a.quickChoice?-1===a.quickChoice.indexOf("-")?e.getQuickDateRange(d):[a.from,a.to]:p>-1?e.getQuickDateRange(p):e.getQuickDateRange(l);if(0===u)return e.setState({selectedQuickTimeChoice:d,staredQuickTimeChoice:p,selectedDateRange:f}),{from:f[0],to:f[1],quickChoice:v[d],dateGroupType:"DAY",remoteName:"cTime",numOfDays:e.getNumOfDays(f)}}))},n.setDefaultValue=function(e){f.h.post("/default/value/update",{key:g,projectId:h.t.get(h.V.curProject).id,value:e})},n.clickConfirmBtn=function(){var e=this;this.state.selectedDateRange.length>0?this.setState({params:null,show:!1},(function(){return e.props.onChange(e.getCurrDate())})):s.Z.error("\u8bf7\u9009\u62e9\u65f6\u95f4\u8303\u56f4")},n.clickCancelBtn=function(){this.props.onCancel()},n.formatDate=function(e){for(var t=this.state.selectedDateRange,n="",r=0;r<t.length;r++){var a=void 0,i=void 0;if(this.props.useHourSelect){var o=t[r].split(" ");a=o[0],i=o[1]}else a=t[r];for(var c=a.split("-"),s=0;s<c.length;s++)0===s&&(n+=c[s]+(1===e?"\u5e74":".")),1===s&&(n+=c[s]+(1===e?"\u6708":".")),2===s&&(n+=c[s]+(1===e?"\u65e5":""));i&&(n+=1===e?i.split(":")[0]+"\u65f6"+i.split(":")[1]+"\u5206":" "+i),0===r&&(n+=" - ")}return n},n.render=function(){var e=this,t=this.state,n=t.show,r=t.currSelector,i=t.selectedDateRange,o=t.selectedQuickTimeChoice,s=t.staredQuickTimeChoice,u=this.formatDate(1);return a.createElement("div",{className:"time-picker-wrapper-filter",style:{display:n?"block":"none"}},a.createElement("div",{className:"time-picker-body"},a.createElement("div",{className:"left"},a.createElement("ul",null,m.map((function(t,n){return a.createElement("li",{key:n,className:r===n?"active":"",onClick:function(){return e.switchSlector(n)}},t)})))),a.createElement("div",{className:"right"},a.createElement("ul",{className:"date_ul_wrap",style:{display:0===r?"block":"none"}},v.map((function(t,n){return a.createElement("li",{key:n,onClick:function(){return e.handleClickQuickTime(n)},style:{pointerEvents:[7,11,15].includes(n)?"none":"auto"}},a.createElement("span",{className:o===n?"active":""},t),a.createElement(c.Popover,{className:"time-picker-star-tooltip",trigger:"hover",placement:"top",width:"50",content:s===n?"\u53d6\u6d88\u9ed8\u8ba4":"\u8bbe\u4e3a\u9ed8\u8ba4"},a.createElement("span",{className:"show_star "+(s===n?"star":""),onClick:function(t){return e.clickStarIcon(t,n)}},a.createElement("i",{className:"icon-cem icon-cem_star"}))))}))),a.createElement(p.Z,{type:"rangeCalendar",getDateRange:this.getDateRange,style:{display:1===r?"block":"none"},useHourSelect:this.props.useHourSelect}))),a.createElement("div",{className:"time-picker-footer"},a.createElement("span",null,"\u5f53\u524d\u9009\u62e9\u65f6\u95f4\uff1a"),i.length>0?a.createElement("span",null,u):null,a.createElement("div",null,a.createElement(c.Button,{type:"primary",onClick:function(){return e.clickConfirmBtn()}},"\u786e\u5b9a"),a.createElement(c.Button,{type:"default",onClick:function(){return e.clickCancelBtn()}},"\u53d6\u6d88"))))},t}(a.PureComponent);x.propTypes={show:o().bool,onChange:o().func,params:o().object,defaultValue:o().object,useHourSelect:o().bool}},67592:(e,t,n)=>{"use strict";function r(e,t){var n,r,a,i;function o(e,t){var n;if(isNaN(e)&&isNaN(t)&&"number"===typeof e&&"number"===typeof t)return!0;if(e===t)return!0;if("function"===typeof e&&"function"===typeof t||e instanceof Date&&t instanceof Date||e instanceof RegExp&&t instanceof RegExp||e instanceof String&&t instanceof String||e instanceof Number&&t instanceof Number)return e.toString()===t.toString();if(!(e instanceof Object&&t instanceof Object))return!1;if(e.isPrototypeOf(t)||t.isPrototypeOf(e))return!1;if(e.constructor!==t.constructor)return!1;if(e.prototype!==t.prototype)return!1;if(a.indexOf(e)>-1||i.indexOf(t)>-1)return!1;for(n in t){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!==typeof e[n])return!1}for(n in e){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!==typeof e[n])return!1;switch(typeof e[n]){case"object":case"function":if(a.push(e),i.push(t),!o(e[n],t[n]))return!1;a.pop(),i.pop();break;default:if(e[n]!==t[n])return!1}}return!0}if(arguments.length<1)return!0;for(n=1,r=arguments.length;n<r;n++)if(a=[],i=[],!o(arguments[0],arguments[n]))return!1;return!0}n.d(t,{d:()=>r})},19586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w,C:()=>k});var r=n(87462),a=n(43144),i=n(94578),o=n(67294),c=n(45697),s=n.n(c),u=n(92360),l=n(5133),p=n(49722),d=n(83425),f=n(77131);function h(e){return p.h.post("/filter/find/save",{id:e})}function m(e,t,n){return p.h.post("/default/value/update",{key:e,projectId:t,value:n})}function v(e,t,n,r,a,i){return p.h.post("/filter/add",{name:e,copy:t,type:r,id:n,projectId:a,filter:i})}var y=n(43036),g=n(97189),x=n(35239),I="empty";const b=function(e){function t(t){var n;return(n=e.call(this,t)||this).getSelectedFilterObj=function(){return n.state.selFilterObj},n._handleListSelect=function(e,t){e.stopPropagation(),n.props.onFilterChange(t),n.setState({selFilterObj:t})},n._handleListStar=function(e,t,r){e.stopPropagation(),n.lastStaredSaveId=t;var a=n.state,i=a.staredFilterId,o=a.savedKey,c=a.projectId,s=a.staredFilterIndex;if(i!==t){if(-1!==s){var u=document.querySelectorAll(".saved-condition-list .star")[s].children[1];(0,g.removeClass)(u,"star-active")}(0,g.addClass)(e.target.parentNode,"star-active")}else(0,g.removeClass)(e.target.parentNode,"star-active");n.setState({staredFilterIndex:r,staredFilterId:i===t?I:t},(function(){m(o,c,n.state.staredFilterId).then((function(e){2e4!==e.data.code&&n.setState({staredFilterId:n.lastStaredSaveId})}))}))},n._handleOnEditClick=function(e,t){e.stopPropagation(),n.refs.saveNameInput.refs.input.value=t.name,n.setState({targetFilterObj:t,editDialogVisible:!0})},n._handleConfitionSaveConfirm=function(){var e=n.state,t=e.selFilterObj,r=e.projectId,a=e.targetFilterObj,i=n.props,o=i.model,c=i.onFilterRename;h(a.id).then((function(e){var i=e.data;if(2e4===i.code){var s=n.refs.saveNameInput.refs.input.value;n.props.getNewFilterName(s),c(t.name),v(s,!1,a.id,o,r,i.result.filter).then((function(e){2e4===e.data.code&&(l.Z.success("\u4fee\u6539\u6210\u529f"),n.setState({editDialogVisible:!1}),n.refresh(t.id))}))}}))},n._handleOnDeleteClick=function(e,t){e.stopPropagation(),n.setState({targetFilterObj:t,delDialogVisible:!0})},n._handleOnDeleteConfirm=function(e){e.stopPropagation();var t,r=n.state,a=r.targetFilterObj,i=r.savedKey,o=r.projectId,c=r.staredFilterId,s=r.filterList,u=r.selFilterObj,l=[(t=a.id,p.h.post("/filter/delete",{id:t,menuModel:{}}))];c===a.id&&l.push(m(i,o,I)),Promise.all(l).then((function(e){2e4===e[0].data.code&&n.refresh(a.id===u.id?void 0:u.id)})),n.props.onFilterChange(a.id===u.id?s[0]:u)},n.renderDeleteDialog=function(){var e=n.state,t=e.selFilterObj,r=e.targetFilterObj;return o.createElement("div",{onMouseLeave:function(e){return e.stopPropagation()}},o.createElement(u.Dialog,{title:"\u5220\u9664",className:"delete-saved-confition-dialog",size:"tiny",modal:!1,visible:n.state.delDialogVisible,onMouseLeave:function(e){return e.stopPropagation()},onCancel:function(e){return n.setState({delDialogVisible:!1})}},o.createElement(u.Dialog.Body,null,o.createElement("span",null,r&&t&&t.id===r.id?"\u5220\u9664\u8be5\u7b5b\u9009\u5668\u540e\uff0c\u5f53\u524d\u9875\u9762\u7684\u7b5b\u9009\u5668\u5c06\u81ea\u52a8\u5207\u6362\u4e3a\u201d\u5168\u90e8\u6570\u636e\uff08\u9ed8\u8ba4\uff09\u201d\u7b5b\u9009\u5668\uff0c\u662f\u5426\u5220\u9664\uff1f":'\u662f\u5426\u5220\u9664"'+r.name+'"\u7b5b\u9009\u5668\uff1f')),o.createElement(u.Dialog.Footer,null,o.createElement(u.Button,{type:"primary",onClick:n._handleOnDeleteConfirm},"\u786e\u5b9a"),o.createElement(u.Button,{type:"default",onClick:function(e){return n.setState({delDialogVisible:!1})}},"\u53d6\u6d88"))))},n.renderEditDialog=function(){return o.createElement("div",{onMouseLeave:function(e){return e.stopPropagation()}},o.createElement(u.Dialog,{title:"\u4fee\u6539\u540d\u79f0",className:"filter-save-name-dialog",size:"tiny",modal:!1,visible:n.state.editDialogVisible,onCancel:function(e){return n.setState({editDialogVisible:!1})}},o.createElement(u.Dialog.Body,null,o.createElement(u.Input,{className:"name-input",placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0",ref:"saveNameInput"})),o.createElement(u.Dialog.Footer,null,o.createElement(u.Button,{type:"primary",onClick:n._handleConfitionSaveConfirm},"\u786e\u5b9a"),o.createElement(u.Button,{type:"default",onClick:function(e){return n.setState({editDialogVisible:!1})}},"\u53d6\u6d88"))))},n.state={projectId:x.t.get(x.V.curProject).id,savedKey:t.model+"_SAVED_OBJ",filterList:void 0,selFilterObj:void 0,targetFilterObj:{},staredFilterId:I,staredFilterIndex:-1,isEditing:!1,delDialogVisible:!1,editDialogVisible:!1},n}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){},n.componentDidUpdate=function(e,t){this.state.filterList;this.props.show===e.show||this.props.show||this.setState({isEditing:!1,fullListShow:!1})},n.componentWillUnmount=function(){},n.refresh=function(e){var t=this,n=this.state,r=n.savedKey,a=n.projectId,i=(n.staredFilterId,this.props),o=i.model,c=(i.onFilterChange,i.shouldShowDefault),s=void 0,u=function(e,t){return p.h.post("/filter/list",{type:e,projectId:t})}(o,a),l=function(e,t){return p.h.post("/default/value/find",{key:e,projectId:t})}(r,a);return Promise.all([u,l]).then((function(n){var r,a,i,o,u=n[0].data;2e4===u.code&&(r=u.result.all).unshift({id:"default",name:"\u5168\u90e8\u6570\u636e\uff08\u9ed8\u8ba4\uff09"});var l=n[1].data;return 2e4===l.code&&(a=l.result||I,i=c?-1:r.findIndex((function(e){return e.id===a})),e&&(o=r.findIndex((function(t){return t.id===e}))),s=o?r[o]:-1===i?r[0]:r[i]),t.setState({delDialogVisible:!1,selFilterObj:s,staredFilterIndex:i,filterList:r,staredFilterId:a,fullListShow:r.length>15&&t.state.fullListShow}),s}))},n.render=function(){var e=this,t=this.state,n=t.filterList,r=t.selFilterObj,a=t.staredFilterId,i=t.isEditing,c=this.props,s=(c.onFilterChange,c.show),u=n?JSON.parse(JSON.stringify(n)):[];return o.createElement("div",{className:"saved-condition-wrapper",style:{display:s?"block":"none",width:u.length>2?"728px":u.length>1?"486px":"278px"}},o.createElement("div",{className:"saved-condition-list"},o.createElement("p",{className:"saved-condition-tip"},"\u63d0\u793a\uff1a\u901a\u8fc7\u7b5b\u9009\u5668\u53ef\u63d0\u9ad8\u56fe\u8868\u67e5\u770b\u6548\u7387"),o.createElement("ul",null,u.map((function(t,n){return o.createElement("li",{className:i?"editing":"star",key:i?"edit"+n:"star"+n,onClick:function(n){return e._handleListSelect(n,t)}},o.createElement("span",{className:r&&r.id===t.id?"active":""},o.createElement("i",{className:"radio"}),o.createElement("span",null,t.name)),"default"!==t.id&&o.createElement("span",{className:"edt-active tool"},o.createElement(y.Z,{placement:"top",overlay:a===t.id?"\u53d6\u6d88\u9ed8\u8ba4":"\u8bbe\u4e3a\u9ed8\u8ba4"},o.createElement("span",{className:a===t.id?"star-active":"",onClick:function(r){return e._handleListStar(r,t.id,n)}},o.createElement("i",{className:a===t.id?"icon-cem_star":"icon-cem_star-line"}))),o.createElement(y.Z,{placement:"top",overlay:"\u91cd\u547d\u540d"},o.createElement("span",{onClick:function(n){return e._handleOnEditClick(n,t)}},o.createElement("i",{className:"icon-cem icon-cem_screening-editor"}))),o.createElement(y.Z,{placement:"top",overlay:"\u5220\u9664"},o.createElement("span",{onClick:function(n){return e._handleOnDeleteClick(n,t)}},o.createElement("i",{className:"icon-cem icon-cem_delete"})))))})))),this.renderDeleteDialog(),this.renderEditDialog())},t}(o.Component);var T=n(21816),E=n(67592),w=function(e){function t(t){var n;(n=e.call(this,t)||this).getNewFilterName=function(e){if(e){var t=n.state.filterObj;t.name=e,n.setState({filterObj:t}),n.state.filterObj.name}},n.changeFilter=function(e){n.setState({selFilterId:e===n.state.selFilterId?null:e})},n.onConditionChange=function(e){var t=[],r=n.state.defFilterValue.map((function(e){return{id:e.id,values:e.values}}));t=n.refs.FilterCondition.getValue().map((function(e){return{id:e.id,values:e.values}}));var a=!(0,E.d)(t.filter((function(e){return"connections"!==e.special})),r.filter((function(e){return"connections"!==e.special})));n.setState({isDefFilterChanged:a,filterConditionValue:n.refs.FilterCondition.getValue()},(function(e){n.getListCount()}))},n.onTimeChange=function(e){n.setState({time:n.refs.timePicker.getCurrDate()},(function(e){n.getListCount(),n.handleChange()}))},n.handleChange=function(e){!e&&n.props.onChange&&n.props.onChange(n.getValue()),n.setState({selFilterId:null,detail:n.state.showList.includes("condition")?n.refs.FilterCondition.getFullValue():[]},(function(e){return n.competeInfoWidth()}))},n.competeInfoWidth=function(){if(n.refs.info){n.refs.info.style.whiteSpace="nowrap";var e=[];Array.from(n.refs.info.getElementsByClassName("detail-info")).forEach((function(t){t.style.width="unset",e.push(t.clientWidth),t.style.width="calc(100% - 88px)"}));var t=Math.max.apply(null,e),r=122;r+=t>700?700:t,n.refs.info.style.whiteSpace="normal",n.refs.info.style.width=r+"px"}},n.getReady=function(e){n.refs.SavedConfition?n._handleOnFilterChange(n.refs.timePicker?e[1]:e[0],!0).then((function(){n.setState({filterValue:n.refs.FilterCondition?n.refs.FilterCondition.getValue():[]}),n.getListCount(!0),n.props.onFilterReady&&n.props.onFilterReady(n.firstGetVal())})):(n.isSaveValueUseful()&&(n.setState({filterConditionValue:[],filterValue:[]}),console.error("\u7b5b\u9009\u6761\u4ef6\u4e0e\u5217\u8868\u5b58\u5728\u4e0d\u5bf9\u5e94\u5173\u7cfb\uff0c\u5df2\u6e05\u9664\u9ed8\u8ba4\u9009\u4e2d\u7b5b\u9009")),setTimeout((function(){return n.props.onFilterReady&&n.props.onFilterReady(n.firstGetVal())}),0),n.getListCount(!0),n.state.showList.includes("condition")&&n.refs.FilterCondition.getFilter())},n.isSaveValueUseful=function(e){var t=n.state,r=t.filterConditionValue,a=(t.allList,e||r);if(!n.refs.FilterCondition)return!1;var i=n.refs.FilterCondition.state.allList.map((function(e){return e.values})).flat(1).map((function(e){return String(e.id)}));return a.filter((function(e){return!["MULTI_KEY_WORD","KEY_WORD","originSource","topics","superTopics"].includes(e.id)})).map((function(e){return e.values})).flat(1).some((function(e){return!i.includes(String(e))}))},n._handleConfitionSave=function(e){e.stopPropagation();var t=n.state.filterObj;t&&"default"!==t.id?n._saveConfition(t.name,!1,t.id):n.setState({dialogType:"save",saveNameDialogVisible:!0})},n._handleConfitionSaveAs=function(e){e.stopPropagation(),n.setState({dialogType:"saveAs",saveNameDialogVisible:!0})},n._handleConfitionSaveConfirm=function(){var e=n.state,t=e.dialogType,r=e.filterObj,a=n.refs.saveNameInput.refs.input.value,i=r,o="saveAs"===t;n._saveConfition(a,o,o?i.id:null),n.refs.saveNameInput.refs.input.value=""},n._handleOnFilterChange=function(e,t){return new Promise((function(r){var a=function(){return t&&n.state.showList.includes("condition")&&n.refs.FilterCondition.getFilter()};if(n.setState({isDefFilterChanged:!1}),n.state.hasOutsideFilterValues){var i=k(n.props.values.filterModel),o=n.isSaveValueUseful();return n.setState({filterObj:e,defFilterValue:o?[]:i,filterConditionValue:o?[]:JSON.parse(JSON.stringify(i)),hasOutsideFilterValues:!1},(function(){n.handleChange(t),r()})),void a()}if("default"===e.id)return n.setState({filterObj:e,defFilterValue:[],detail:[],filterConditionValue:[],filterValue:[]},(function(e){n.handleChange(t),r()})),void a();var c=function(){h(e.id).then((function(a){var i=a.data,o=k(i.result.filter),c=!1;2e4===i.code&&(n.isSaveValueUseful(o)&&(o=[],c=!0),n.setState({filterObj:e,defFilterValue:o,filterConditionValue:JSON.parse(JSON.stringify(o)),filterValue:JSON.parse(JSON.stringify(o)),detail:JSON.parse(JSON.stringify(o)),showWarning:c},(function(){n.handleChange(t),r()})))}))};t?a().then((function(){return c()})):c()}))},n.handleRename=function(e){var t=n.state.filterObj;t.name=e,n.setState({filterObj:t})},n.onExpandTopicChange=function(e){n.setState({expandTopicData:e}),""===e.id&&n.setState({filterConditionValue:[],isDefFilterChanged:!1})},n._handleSaveExpandTopic=function(e){if(n.state.expandTopicData.id){var t=n.state.expandTopicData.name,r=n.state.expandTopicData.id,a=n.props.model,i=n.getValue();(0,T.D)(t,!1,r,a,n.state.projectId,i.filterModel).then((function(e){var t=e.data;2e4===t.code&&(l.Z.success("\u7ec4\u5408\u5206\u6790\u4fdd\u5b58\u6210\u529f"),n.refs.FilterCondition.updateExpandTopic(r,{name:t.result.name,id:t.result.id}),n.setState({dialogType:"save",expandTopicDialogVisible:!1,filterValue:n.refs.FilterCondition.getValue()}))}))}else n.setState({dialogType:"save",expandTopicDialogVisible:!0})},n._handleSaveAsExpandTopic=function(e){n.setState({dialogType:"saveAs",expandTopicDialogVisible:!0})},n._handleExpandTopicSaveConfirm=function(){var e=n.refs.saveExpandTopic.refs.input.value,t="saveAs"===n.state.dialogType,r=t?n.state.expandTopicData.id?n.state.expandTopicData.id:n.state.filterObj.id:null,a=n.props.model,i=n.getValue();(0,T.D)(e,t,r,a,n.state.projectId,i.filterModel).then((function(e){var t=e.data;2e4===t.code&&(l.Z.success("\u7ec4\u5408\u5206\u6790\u4fdd\u5b58\u6210\u529f"),n.refs.saveExpandTopic.refs.input.value="",n.refs.FilterCondition.updateExpandTopic(null,{name:t.result.name,id:t.result.id}),n.setState({dialogType:"save",expandTopicDialogVisible:!1,filterValue:n.refs.FilterCondition.getValue()}))}))},n.renderDialog=function(){return o.createElement(u.Dialog,{title:"save"===n.state.dialogType?"\u4fdd\u5b58\u7b5b\u9009\u6761\u4ef6":"\u7b5b\u9009\u6761\u4ef6\u53e6\u5b58\u4e3a",className:"filter-save-name-dialog",size:"tiny",modal:!1,visible:n.state.saveNameDialogVisible,onCancel:function(e){return n.setState({saveNameDialogVisible:!1})}},o.createElement(u.Dialog.Body,null,o.createElement(u.Input,{className:"name-input",placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0",ref:"saveNameInput"})),o.createElement(u.Dialog.Footer,null,o.createElement(u.Button,{type:"primary",onClick:n._handleConfitionSaveConfirm},"\u786e\u5b9a"),o.createElement(u.Button,{type:"default",onClick:function(e){return n.setState({saveNameDialogVisible:!1})}},"\u53d6\u6d88")))},n.renderExpandTopicDialog=function(){return o.createElement(u.Dialog,{title:"save"===n.state.dialogType?"\u4fdd\u5b58\u4e3a\u7ec4\u5408\u5206\u6790":"\u7ec4\u5408\u5206\u6790\u53e6\u5b58\u4e3a",className:"filter-save-name-dialog",size:"tiny",modal:!1,visible:n.state.expandTopicDialogVisible,onCancel:function(e){return n.setState({expandTopicDialogVisible:!1})}},o.createElement(u.Dialog.Body,null,o.createElement(u.Input,{className:"name-input",placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0",ref:"saveExpandTopic"})),o.createElement(u.Dialog.Footer,null,o.createElement(u.Button,{type:"primary",onClick:n._handleExpandTopicSaveConfirm},"\u786e\u5b9a"),o.createElement(u.Button,{type:"default",onClick:function(e){return n.setState({expandTopicDialogVisible:!1})}},"\u53d6\u6d88")))};var r=t.values,a=r&&r.filterModel&&Object.keys(r.filterModel).length>0,i=a?k(r.filterModel):[];return n.state={newFilterTitle:"",hasOutsideFilterValues:a,showList:n.props.showList,selFilterId:n.props.defaultShow?n.props.defaultShow:null,filterConditionValue:i,filterValue:i,expandTopicData:{},time:{},detail:[],projectId:x.t.get(x.V.curProject).id,count:"",saveFilterVisible:!1,saveNameDialogVisible:!1,filterObj:{id:"default",name:"\u5168\u90e8\u6570\u636e\uff08\u9ed8\u8ba4\uff09"},defFilterValue:[],isDefFilterChanged:!1,dialogType:"save",showWarning:!1},n}(0,i.Z)(t,e);var n=t.prototype;return n.getListCount=function(e){var t=this;if(this.state.showList.includes("condition")){var n=e?this.firstGetVal():this.getValue();n.dateFilter?n.dateFilter.dateGroupType=null:n.dateFilter={};var r=window.location.pathname;/^\/price/.test(r)&&(n.queryType="PRICE"),n.projectId=x.t.get(x.V.curProject).id,p.h.post("/filter/connection/find",n).then((function(e){t.setState({count:e.data.result.total})}))}},n.getValue=function(){var e=this.props.showList,t={};return e.includes("condition")&&Object.assign(t,{filterModel:this.refs.FilterCondition?this.refs.FilterCondition.getReFormatValue():{}}),e.includes("time")&&(t.dateFilter=JSON.parse(JSON.stringify(this.state.time))),t},n.firstGetVal=function(){var e,t=this.props.showList,n=this.state.filterConditionValue;return t.includes("time")&&(e=JSON.parse(JSON.stringify(this.state.time))),{dateFilter:e,filterModel:this.refs.FilterCondition?this.refs.FilterCondition.getReFormatValue(n):{}}},n.componentDidMount=function(){var e=this,t=function(){var t=[];e.state.showList.includes("time")&&t.push(e.refs.timePicker.fetchDefaultValue()),e.state.showList.includes("save")&&t.push(e.refs.SavedConfition.refresh()),Promise.all(t).then((function(t){if(e.state.showList.includes("time")){var n=t.filter((function(e){return e.dateGroupType}))[0];e.setState({time:n},(function(){e.getReady(t)}))}else e.getReady(t)}))};this.state.projectId?t():this.id=setInterval((function(){x.t.get(x.V.curProject).id&&(clearInterval(e.id),e.setState({projectId:x.t.get(x.V.curProject).id},(function(){t()})))}),50)},n._saveConfition=function(e,t,n){var a=this,i=this.state.filterObj,o=this.getValue(),c=this.props.model,s=this.state.projectId;v(e,t,n,c,s,(0,r.Z)({},o.filterModel)).then((function(t){var n=t.data;if(2e4===n.code){l.Z.success("\u7b5b\u9009\u6761\u4ef6\u4fdd\u5b58\u6210\u529f"),i.name=e,i.id=n.result.id;var c=k((0,r.Z)({},o.filterModel));a.setState({dialogType:"save",saveNameDialogVisible:!1,filterObj:i,showWarning:!1,filterValue:a.refs.FilterCondition.getValue(),detail:JSON.parse(JSON.stringify(c))},(function(){a.handleChange(),a.refs.SavedConfition.refresh(n.result.id)}))}})).catch((function(e){return console.log(e)}))},n.handleShowSave=function(e){if(!this.state.expandTopicData.id){this.refs["save-filter"].getAttribute("class");this.refs["save-filter"].setAttribute("class","enter"===e?"save-filter sel":"save-filter"),this.setState({saveFilterVisible:"enter"===e})}},n.render=function(){var e=this,t=this.state,n=t.selFilterId,r=t.showList,a=t.filterConditionValue,i=t.expandTopicData,c=t.detail,s=t.count,u=t.isDefFilterChanged,l=t.filterObj,p=t.saveFilterVisible,h=t.hasOutsideFilterValues,m=t.projectId,v=t.showWarning,y=t.filterValue,g=(t.newFilterTitle,this.list),x=this.props,I=x.filterCondition,T=x.title,E=x.model,w=x.values,k=x.timeDefaultValue,C=x.useHourSelect,S=i.id?i.name:r.includes("save")&&l?l.name:T;l.name;var N=w&&w.dateFilter?w.dateFilter:void 0,O=!!this.refs.FilterCondition&&this.refs.FilterCondition.isExpandTopicChanged();return m?o.createElement("div",{className:"filter-new"},o.createElement("div",{className:"wrap"},r.includes("save")&&o.createElement("div",{ref:"save-filter",className:"save-filter"},o.createElement("span",null,i.id?"\u7ec4\u5408\u5206\u6790\uff1a":"\u7b5b\u9009\u5668\uff1a"),o.createElement("div",{className:"save-filter-wrap",onMouseEnter:function(t){return e.handleShowSave("enter")},onMouseLeave:function(t){return e.handleShowSave("leave")}},o.createElement("span",null,S),!i.id&&o.createElement("i",{className:"icon-cem_arrow-launches"}),o.createElement(b,{shouldShowDefault:h,ref:"SavedConfition",show:p,model:E,onFilterChange:this._handleOnFilterChange,onFilterRename:this.handleRename,getNewFilterName:this.getNewFilterName}))),!r.includes("save")&&T&&o.createElement("div",{className:"title"},S),o.createElement("div",{className:"button-zone"},r.includes("save")&&!i.id&&"condition"===n&&l&&u&&o.createElement("div",null,o.createElement("span",{className:"modified"},"\u5df2\u4fee\u6539"),"default"===l.id?o.createElement("a",null,o.createElement("span",{className:"save",onClick:function(t){return e._handleConfitionSave(t)}},"\u4fdd\u5b58\u4e3a\u7b5b\u9009\u5668"),I.filter.includes("EXPAND_TOPIC")&&o.createElement("span",{className:"save",onClick:function(t){return e._handleSaveExpandTopic(t)}},"\u4fdd\u5b58\u4e3a\u7ec4\u5408\u5206\u6790")):o.createElement("span",{className:"save",onClick:function(t){return e._handleConfitionSave(t)}},"\u66f4\u65b0\u7b5b\u9009\u5668"),l&&"default"!==l.id&&o.createElement("div",{className:"more-zone"},o.createElement("span",{className:"more"},o.createElement("i",{className:"icon-cem icon-cem_more"})),o.createElement("div",{className:"more-list"},o.createElement("div",{className:"li-item",onClick:function(t){return e._handleConfitionSaveAs(t)}},"\u53e6\u5b58\u4e3a\u7b5b\u9009\u5668"),I.filter.includes("EXPAND_TOPIC")&&o.createElement("div",{className:"li-item",onClick:function(t){return e._handleSaveAsExpandTopic(t)}},"\u53e6\u5b58\u4e3a\u7ec4\u5408\u5206\u6790")))),i.id&&O&&o.createElement("div",null,o.createElement("span",{className:"modified"},"\u5df2\u4fee\u6539"),o.createElement("span",{className:"save",onClick:function(t){return e._handleSaveExpandTopic(t)}},"\u66f4\u65b0\u7ec4\u5408\u5206\u6790"),o.createElement("div",{className:"more-zone"},o.createElement("span",{className:"more"},o.createElement("i",{className:"icon-cem icon-cem_more"})),o.createElement("div",{className:"more-list"},o.createElement("div",{className:"li-item",onClick:function(t){return e._handleSaveAsExpandTopic(t)}},"\u53e6\u5b58\u4e3a\u7ec4\u5408\u5206\u6790"))))),!i.id&&this.state.showList.includes("condition")&&o.createElement("div",{className:"info"},o.createElement("span",{className:"detail"},"\u8be6\u60c5"),o.createElement("div",{className:"info-wrap"},o.createElement("div",null,"\u5f53\u524d\u9875\u9762\u7b5b\u9009\u6761\u4ef6"),c&&c.length>0?o.createElement("ul",{ref:"info"},c.map((function(e,t){return o.createElement("li",{key:t},o.createElement("div",{className:"name"},e.name),o.createElement("div",{className:"detail-info"},e.values&&e.values.slice(0,100).map((function(t,n){return o.createElement("span",{key:n},t.name+(n===e.values.length-1?"":"\uff0c"))}))))}))):o.createElement("div",{className:"noData"},"\u6682\u65e0\u7b5b\u9009\u5185\u5bb9"))),i.id&&o.createElement("div",{className:"info"},o.createElement("span",{className:"detail",onClick:function(){return e.refs.FilterCondition.expandTopicChange(e.state.expandTopicData)}},"\u5173\u95ed\u7f16\u8f91")),o.createElement("ul",{className:"all-filter-name-wrap"},g.filter((function(e){return r.includes(e.id)})).map((function(t){return o.createElement("li",{key:t.id,className:n===t.id?"sel":"",onClick:function(n){return e.changeFilter(t.id)}},o.createElement("i",{className:t.icon}),o.createElement("span",null,t.name),o.createElement("i",{className:"icon-cem_pull-down-or-take-up",style:{transform:n===t.id?"rotate(180deg) translateY(-1px)":""}}))})))),v&&"condition"===n&&o.createElement("div",{className:"msg_filter_tip"},o.createElement("i",{className:"icon-cem_warning"}),"\u7b5b\u9009\u5668\u4f7f\u7528\u7684\u67d0\u4e9b\u7b5b\u9009\u6761\u4ef6\u88ab\u5220\u9664\uff0c\u5df2\u4e0d\u53ef\u7528\uff0c\u9700\u8981\u4f60\u66f4\u65b0\u7b5b\u9009\u6761\u4ef6"),this.state.showList.includes("condition")&&o.createElement(d.Z,{style:{display:"condition"===n?"block":"none"},ref:"FilterCondition",value:a,filterValue:y,type:E||"PRICE_WARNING",filter:I&&I.filter?I.filter:["CONN_CONFIG"],filterConfig:I&&I.filterConfig?I.filterConfig:[],dimension:I&&I.dimension?I.dimension:void 0,messageRelationConfig:I&&I.messageRelationConfig?I.messageRelationConfig:void 0,hideAdvanced:!(!I||!I.hideAdvanced)&&I.hideAdvanced,onFilterChange:this.onConditionChange,onExpandTopicChange:this.onExpandTopicChange,onConfirm:this.handleChange,onCancel:function(t){return e.setState({selFilterId:null})},count:s,saveFilterListShow:this.props.saveFilterListShow}),r.includes("time")&&o.createElement("div",{className:"date"},o.createElement(f.Z,{ref:"timePicker",show:"time"===n,onChange:this.onTimeChange,onCancel:function(t){return e.setState({selFilterId:null})},params:N,defaultValue:k,useHourSelect:C})),this.renderDialog(),this.renderExpandTopicDialog()):o.createElement("div",null)},(0,a.Z)(t,[{key:"list",get:function(){var e="\u65f6\u95f4";return this.state&&this.state.time.from&&(e=this.state.time.quickChoice?this.state.time.quickChoice:this.state.time.from.replace(/-/g,"/")+"-"+this.state.time.to.replace(/-/g,"/")),[{name:"\u7b5b\u9009",id:"condition",icon:"icon-cem_screen"},{name:e,id:"time",icon:"icon-cem_time-controller"}]}}]),t}(o.Component),k=function(e){if(!e)return[];var t=[];return Object.keys(e).forEach((function(n){"connConfig"===n||"tag"===n||"dimension"===n||"vocAspect"===n||"brandsSeries"===n?e[n]&&e[n].forEach((function(e){t.push(Object.assign((0,r.Z)({},e,{special:n}),["connConfig","vocAspect","brandsSeries"].includes(n)?{filterType:"vocAspect"===n?"aspects":n}:{}))})):["messageCategory","messageType","source","escore","emotion","usefulData","aspectEscore","isBusiness","isMarketing","businessType","userFilter"].includes(n)?e[n]&&t.push(Object.assign({id:n,special:n,values:e[n],type:"userFilter"===n?"associateInput":""},["messageType","source","messageCategory"].includes(n)?{filterType:"messageRelation"}:{})):["content","originSource","topics","superTopics"].includes(n)?e[n]&&e[n].length>0&&t.push({id:"content"===n&&e[n][0].queryType?"MULTI_KEY_WORD":"content"===n?"KEY_WORD":n,special:n,values:"content"===n&&e[n][0].queryType?[].concat(e[n][0].contain,[e[n][0].queryType]):e[n][0].contain,type:"content"===n&&e[n][0].queryType?"multi_input":"input"}):"connections"===n&&e[n]&&t.push({id:n,special:n,values:e[n]})})),t};w.propTypes={title:s().oneOfType([s().string,s().node]),showList:s().array,defaultShow:s().string,filterCondition:s().shape({filter:s().array,filterConfig:s().array,dimension:s().string,messageRelationConfig:s().object,hideAdvanced:s().bool}),onChange:s().func,onFilterReady:s().func,model:s().string,values:s().object,timeDefaultValue:s().object,useHourSelect:s().bool}},58341:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(87462),a=n(94578),i=n(67294),o=n(45697),c=n.n(o),s=n(91751),u=n(59108),l=n.n(u),p=n(40303),d=n(82784),f=n.n(d),h=n(30381),m=n.n(h);n(83839);function v(e){var t=m()();return e.isAfter(t)}m().locale("zh-cn");var y=function(e){function t(t){var n;return(n=e.call(this,t)||this).onSelect=function(e){"calendar"===n.props.type?n.props.getDateRange(n.format(e)):e[0]&&e[1]&&n.props.getDateRange([n.format(e[0]),n.format(e[1])])},n.format=function(e){return e?e.format(n.state.formatStr):""},n.timePickerElement=function(){return n.props.useHourSelect?i.createElement(p.Z,{defaultValue:[m()("00:00","HH:mm"),m()("23:59","HH:mm")],showSecond:!1}):void 0},n.state={formatStr:t.useHourSelect?"YYYY-MM-DD HH:mm":"YYYY-MM-DD"},n}(0,a.Z)(t,e);var n=t.prototype;return n.stop=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n.componentDidMount=function(){},n.render=function(){var e=this,t=this.props,n=t.type,a=t.defaultSelectedValue,o=t.style,c={showDateInput:!1,locale:f(),showOk:!1,showToday:!1,format:this.state.formatStr,onSelect:this.onSelect,disabledDate:v,renderFooter:function(){return null}},u={defaultValue:a,dateInputPlaceholder:"\u8bf7\u9009\u62e9\u65e5\u671f"};return i.createElement("div",{className:"fixed-datepicker-wrapper-common",onClick:function(t){return e.stop(t)},style:o},"calendar"===n?i.createElement(s.Z,(0,r.Z)({},c,u)):i.createElement(l(),(0,r.Z)({},c,{defaultSelectedValue:a,timePicker:this.timePickerElement()})))},t}(i.PureComponent);y.propTypes={type:c().string.isRequired,getDateRange:c().func.isRequired,hasHeader:c().bool}},73702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(87462),a=n(87757),i=n.n(a),o=n(18446),c=n.n(o),s=(n(35239),n(64396)),u=s.Z.headerScreening,l=s.Z.screening;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var p={dateFilter:void 0};const d={namespace:u,state:Object.assign(p,{}),effects:{defaultValueChange:i().mark((function e(t,n){var r,a,o,c,s,u,p,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[l]}));case 4:if(c=e.sent,s=c.defaultConfig,u=c.screeningValues,p=c.curScreeningMap,d=r.value,f=r.from,void 0!==d){e.next=11;break}return e.abrupt("return");case 11:return Object.keys(d).forEach((function(e){var t=u.deepcopy();if(s[e]=d[e],"defaultChecked"===e){var n=d.defaultChecked.find((function(e){return e.id===s.defaultChecksName[0]}))||{};t.forEach((function(e){e.values.forEach((function(t){t.id===n.id&&(t.values=n.values,h=e.id,m=e.values)}))})),s.ownerChecked=t}else"defaultChecksName"===e&&p.forEach((function(e){e.data.some((function(e){return e.id===d.defaultChecksName[0]}))&&(h=e.id,m=[{id:d.defaultChecksName[0],values:s.defaultChecked.find((function(e){return e.id===d.defaultChecksName[0]})).values}],s.ownerChecked=[{id:h,values:m}],v=s.ownerChecked)}))})),e.next=14,a({type:l+"/save",payload:Object.assign({defaultConfig:JSON.parse(JSON.stringify(s))},v?{screeningValues:v}:{})});case 14:return e.next=16,a({type:l+"/screeningValuesChange",payload:{id:"model"===f?"":h,values:m}});case 16:return e.next=18,a({type:l+"/updateDefaultValue"});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})),freshFastFilter:i().mark((function e(t,n){var r,a,o,s,u,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,r=n.put,a=n.select,e.next=4,a((function(e){return e[l]}));case 4:return o=e.sent,s=o.screeningValues,u=o.defaultConfig,p=o.screeningList,d=JSON.parse(JSON.stringify(u)),f=s.map((function(e){return e.values})).flat(1),h=JSON.parse(JSON.stringify(d)),m=h.defaultChecks,v=d.defaultChecked.find((function(e){return e.id===d.defaultChecksName[0]})),y=v?m.find((function(e){return e.id===d.defaultChecksName[0]})).values:void 0,v&&f.some((function(e){return e.id===v.id}))&&f.forEach((function(e){e.id===v.id&&(c()(v.values,e.values)||(v.values=e.values,g=d.defaultChecked.deepcopy()),e.values.some((function(e){return!y.map((function(e){return e.id})).includes(e)}))&&e.values.filter((function(e){return!y.map((function(e){return e.id})).includes(e)})).forEach((function(t){var n=p.map((function(e){return e.data})).flat(1).find((function(e){return e.id===v.id})).options.find((function(e){return e.id===t})).label;if(y.length>=d.defaultNumberConfig)for(var r=y.length-1;r>0;r--)if(!e.values.includes(y[r].id)){y.splice(r,1);break}y.unshift({id:t,label:n})})))})),v&&g&&g.some((function(e){return e.id===d.defaultChecksName[0]&&(e.values=y.filter((function(t){return e.values.includes(t.id)})).map((function(e){return e.id})),!0)})),e.next=17,r({type:l+"/save",payload:{defaultConfig:Object.assign(u,{defaultChecked:g||u.defaultChecked,defaultChecks:m,ownerChecked:s})}});case 17:return e.next=19,r({type:l+"/updateDefaultValue"});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})),dateValueChange:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"save",payload:{dateFilter:r.value}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),clearAllValues:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,n.select,e.next=4,r({type:l+"/clearAllValues"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e){return Object.assign(p,{})}}}},18854:(e,t,n)=>{"use strict";n.d(t,{fR:()=>o,bp:()=>c,g1:()=>s});var r=n(87462),a=n(39432),i={commodityAnalyze:["product"],concernAnalyze:["aspect"],overview:[]};function o(e,t){var n=[];if(e.waiter&&e.waiter.length){var o=[],c=[],s=[],u=[];e.waiter.forEach((function(e){o.exist("id",e.sourceId)||o.push({name:e.sourceName,id:e.sourceId}),c.exist("id",e.shopId)||c.push({name:e.shopName,id:e.shopId}),s.exist("id",e.waiterId)||s.push({name:e.waiterName,id:e.waiterId}),u.exist("id",e.typeId)||u.push({name:e.typeName,id:e.typeId})})),n.push.apply(n,[{id:"source",serverKey:"source",type:"checkbox",name:"\u5e73\u53f0",list:o},{id:"shop",serverKey:"shopName",type:"checkbox",name:"\u5e97\u94fa",list:c},{id:"type",serverKey:"typeList",type:"checkbox",name:"\u5ba2\u670d\u7c7b\u578b",list:u},{id:"waiter",serverKey:"waiter",type:"checkbox",name:"\u5ba2\u670d",list:s}])}if(e.product&&e.product.length&&i[t].includes("product")&&n.push({id:"product",serverKey:"product",type:"radio",name:"\u5206\u6790\u5546\u54c1",list:e.product.map((function(e){return{id:e,name:e}}))}),e.aspect&&i[t].includes("aspect")){var l=[];Object.keys(JSON.parse(e.aspect)[0]).forEach((function(t){l.push({id:t,name:t,values:JSON.parse(e.aspect)[0][t].map((function(e){return{id:e,name:e}}))})})),n.push({id:"aspect",serverKey:"aspect",type:"cascade",name:"\u5173\u6ce8\u70b9",list:l})}return n.map((function(e){return(0,r.Z)({},e,{list:e.list.length>0?(0,a.QM)(e.list):e.list})}))}function c(e){var t={};return e.forEach((function(e){"aspect"===e.serverKey&&e.values.length>0?t[""+e.serverKey+(e.values[0].values.length>0?2:1)]=e.values[0].values.length>0?e.values[0].values.map((function(e){return e.id})):[e.values[0].id]:"product"===e.serverKey?t[e.serverKey]=[e.values]:t[e.serverKey]=e.values})),t}function s(e,t,n){var r=["source","shop","waiter","type"];return n.forEach((function(n){var a=t.filter((function(e){return n.values.includes(e[n.id+"Id"])}));r.includes(n.id)&&e.forEach((function(e){if(n.id===e.id&&(e.hasScreening=!0),n.id!==e.id&&r.includes(e.id)&&!e.hasScreening){var t=[];a.forEach((function(n){t.some((function(t){return t.id===n[e.id+"Id"]}))||t.push({id:n[e.id+"Id"],name:n[e.id+"Name"]})})),e.list=t}}))})),n.forEach((function(t){e.forEach((function(e){if(r.includes(t.id)){var n=e.list.map((function(e){return e.id}));t.id===e.id&&(t.values=t.values.filter((function(e){return n.includes(e)})))}}))})),{list:e,values:n.filter((function(e){return e.values.length>0}))}}Array.prototype.exist=function(e,t){return this.some((function(n){return(e?n[e]:n)===t}))}},30674:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(87462),a=n(87757),i=n.n(a),o=n(18854);var c=n(49722);function s(e){var t=e.projectId;return c.h.post("/session/filter/find",{projectId:t})}function u(e){var t=e.id;return c.h.post("/filter/find/save",{id:t})}function l(e){var t=e.name,n=e.copy,r=e.id,a=e.type,i=e.projectId,o=e.selected;return c.h.post("/filter/add",{name:t,copy:n,type:a,id:r,projectId:i,selected:o})}var p=n(35239),d=n(64396).Z.public.header;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var f={overview:"WAITER_SESSION_OVERVIEW",commodityAnalyze:"WAITER_SESSION_ASPECT",concernAnalyze:"WAITER_SESSION_PRODUCT"};const h={namespace:d,state:{screeningMap:void 0,screeningList:[],screeningValues:[],dateFilter:{dateGroupType:"DAY",from:"2019-09-25",numOfDays:30,quickChoice:"\u8fd130\u5929",remoteName:"cTime",to:"2019-10-24"},selSaveInfo:{id:"default",name:"\u5168\u90e8",screeningValues:[]},detailInfo:[]},effects:{fetchScreeningMap:i().mark((function e(t,n){var r,a,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,c=n.put,n.select,e.next=4,a(s,{projectId:p.t.get(p.V.curProject).id});case 4:return u=e.sent,(l=u.data.result).waiter&&l.waiter.forEach((function(e){e.waiterId=e.waiterName,e.shopId=e.shopName})),d=(0,o.fR)(l,r.type),e.next=10,c({type:"save",payload:{screeningMap:l,screeningList:d}});case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})),saveBoxChange:i().mark((function e(t,n){var a,c,s,l,p,f,h,m,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,s=n.put,l=n.select,p=a.value,f=a.type,h=a.key,e.next=5,l((function(e){return(0,r.Z)({},e)[d]}));case 5:if(m=e.sent,v=m.screeningMap,y=m.screeningValues,g=m.selSaveInfo,"name"!==h){e.next=13;break}return e.next=12,s({type:"save",payload:{selSaveInfo:(0,r.Z)({},JSON.parse(JSON.stringify(g)),{name:p})}});case 12:case 18:case 27:return e.abrupt("return",e.sent);case 13:if("default"!==p.id){e.next=19;break}return x=y.filter((function(e){return["product","aspect"].includes(e.id)})),I=(0,o.fR)(v,a.type),e.next=18,s({type:"save",payload:{screeningValues:x,selSaveInfo:{id:"default",name:"\u5168\u90e8",screeningValues:x},screeningList:I}});case 19:return e.next=21,c(u,{id:p.id});case 21:if(b=e.sent,!(T=b.data.result)){e.next=28;break}return E=(0,o.g1)((0,o.fR)(v,f).deepcopy(),v.waiter,JSON.parse(T.selected)),w=E.list,k=E.values,e.next=27,s({type:"save",payload:{screeningValues:k.deepcopy(),selSaveInfo:{id:p.id,name:T.name,screeningValues:k.deepcopy()},screeningList:w}});case 28:case"end":return e.stop()}}),e)})),saveScreening:i().mark((function e(t,n){var a,o,c,s,u,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,u=a.type,h=a.name,m=a.model,e.next=5,s((function(e){return(0,r.Z)({},e)[d]}));case 5:return v=e.sent,y=v.selSaveInfo,g=v.screeningValues,e.next=10,o(l,{name:"update"===u?y.name:h,copy:"saveOther"===u,type:f[m],id:"save"===u?null:y.id,projectId:p.t.get(p.V.curProject).id,selected:JSON.stringify(g)});case 10:return x=e.sent,I=x.data.result,e.next=14,c({type:"save",payload:{selSaveInfo:{id:I.id,name:"update"===u?y.name:h,screeningValues:g}}});case 14:return e.abrupt("return",I);case 15:case"end":return e.stop()}}),e)})),screeningValuesChange:i().mark((function e(t,n){var a,c,s,u,l,p,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return u=e.sent,l=u.screeningMap,p=u.screeningValues,f=p.deepcopy(),a.values.forEach((function(e){var t=JSON.parse(JSON.stringify(e.listDetail));f.some((function(e){return e.id===t.id}))?(f.forEach((function(n){n.id===t.id&&(n.values=e.values,delete n.list)})),0===e.values.length&&f.splice(f.findIndex((function(e){return e.id===t.id})),1)):(delete t.list,f.push((0,r.Z)({},t,{values:e.values})))})),h=(0,o.g1)((0,o.fR)(l,a.type).deepcopy(),l.waiter,f.deepcopy()),m=h.list,v=h.values,e.next=12,c({type:"save",payload:{screeningValues:v,screeningList:m}});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})),dateValueChange:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"save",payload:{dateFilter:r.value}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),clearAllValues:i().mark((function e(t,n){var a,c,s,u,l,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[d]}));case 4:return u=e.sent,l=u.screeningMap,p=u.screeningValues,f=p.filter((function(e){return"aspect"===e.id||"product"===e.id})),e.next=10,c({type:"save",payload:{screeningValues:f,screeningList:(0,o.fR)(l,a.type)}});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})),saveValue:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,e.next=4,a({type:"save",payload:{screeningValues:r.value,selSaveInfo:{id:"default",name:"\u5168\u90e8",screeningValues:[]}}});case 4:return e.next=6,a({type:"screeningValuesChange",payload:{values:[],type:r.type}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})),saveDetailInfoValue:i().mark((function e(t,n){var a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[d]}));case 4:return s=e.sent,u=s.screeningList,a.value.forEach((function(e){if("source"===e.id){var t=u.filter((function(e){return"source"===e.id}))[0].list;e.values=e.values.map((function(e){return t.find((function(t){return t.id===e})).name}))}if("type"===e.id){var n=u.filter((function(e){return"type"===e.id}))[0].list;e.values=e.values.map((function(e){return n.find((function(t){return t.id===e})).name}))}})),e.next=9,o({type:"save",payload:{detailInfo:a.value}});case 9:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}}}},41183:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,r=t.value,a=t.key,e.abrupt("return",c.h.post("/default/value/update",{projectId:n,key:a,value:r}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=n(18784),p=n(5724),d=n(30381),f=n.n(d),h=n(35239),m=n(64396),v=m.Z.IDBHeaderScreening.timeScreening,y={type:"",hasHour:!1,dateFilter:void 0,projectId:void 0,selectedDateRange:[],selectedQuickTimeChoice:8,staredQuickTimeChoice:-1,quickTime:""};const g={namespace:v,state:Object.assign({},y),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(y))}},effects:{init:i().mark((function e(t,n){var r,a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,o=n.take,c=r.type,s=r.params,u=r.hasHour,e.next=5,a({type:"save",payload:{type:c,projectId:h.t.get(h.V.curProject).id}});case 5:return l="default-time-"+c,e.next=8,a({type:"getDefaultValue",payload:{key:l,params:s,formatStr:"YYYY-MM-DD HH:mm:ss",defaultValue:h.t.getWidthProject(h.V.messageDateFilter)&&h.t.getWidthProject(h.V.messageDateFilter)[c]||void 0,projectId:h.t.get(h.V.curProject).id,hasHour:u}});case 8:return e.next=10,o("getDefaultValue/@@end");case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})),getDefaultValue:i().mark((function e(t,n){var a,o,c,s,u,d,h,y,g,x,I,b,T,E,w,k,C,S,N,O,_,j;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[v]}));case 4:return u=e.sent,u.projectId,u.selectedQuickTimeChoice,d=a.params,h=a.formatStr,y=a.defaultValue,g=a.key,x=a.hasHour,e.next=10,s((function(e){return e[m.Z.global]}));case 10:return I=e.sent,b=I.publicResource,e.next=14,o(p.qk,{type:g,publicResource:b});case 14:if(T=e.sent,!(w=T?JSON.parse(T):"")||-1===w.staredQuickTimeChoice){e.next=26;break}if(k=w.currSelector,C=w.selectedQuickTimeChoice,S=w.staredQuickTimeChoice,N=d&&-1===d.quickChoice.indexOf("-")?(0,l.A$)(x).indexOf(d.quickChoice):S>-1?S:C,O=d?-1===d.quickChoice.indexOf("-")?(0,l.B9)(N,h,x):[d.from,d.to]:S>-1?(0,l.B9)(S,h,x):(0,l.B9)(C,h,x),0!==k){e.next=24;break}return E={from:O[0],to:O[1],quickChoice:d&&d.quickChoice.indexOf("-")>-1?d.quickChoice:(0,l.A$)(x)[N],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,l.vv)(O),currSelector:d&&l.Sz.test(d.from.trim())&&l.Sz.test(d.to.trim())?1:0},e.next=24,c({type:"save",payload:{hasHour:x,selectedQuickTimeChoice:N,staredQuickTimeChoice:S,selectedDateRange:O,dateFilter:E,quickTime:d&&d.quickChoice.indexOf("-")>-1?"":(0,l.A$)(x)[S]}});case 24:e.next=31;break;case 26:return _=d?-1===d.quickChoice.indexOf("-")?(0,l.A$)(x).indexOf(d.quickChoice):-1:y?-1===y.quickChoice.indexOf("-")?(0,l.A$)(x).indexOf(y.quickChoice):-1:y,j=d?_>0?(0,l.B9)(_,h,x):[d.from,d.to]:y?_>0?(0,l.B9)(_,h,x):[y.from,y.to]:[f()().subtract(30,"days").format(h),f()().format(h)],E={from:j[0],to:j[1],quickChoice:d?d.quickChoice:y?y.quickChoice:(0,l.A$)(x)[x?11:8],dateGroupType:"DAY",remoteName:"cTime",numOfDays:(0,l.vv)(j),currSelector:_>0||!_||d&&!l.Sz.test(d.from.trim())||d&&!l.Sz.test(d.to.trim())?0:1},e.next=31,c({type:"save",payload:{hasHour:x,selectedQuickTimeChoice:_,staredQuickTimeChoice:-1,selectedDateRange:j,dateFilter:E,quickTime:""}});case 31:return e.abrupt("return",{dateFilter:E});case 32:case"end":return e.stop()}}),e)})),setDefaultValue:i().mark((function e(t,n){var a,o,c,u,l,p,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,u=n.select,e.next=4,u((function(e){return(0,r.Z)({},e)[v]}));case 4:return l=e.sent,p=l.projectId,e.prev=6,d=a.key,f=a.value,e.next=10,o(s,{projectId:a.projectId||p,key:d,value:f});case 10:return e.next=12,c({type:m.Z.global+"/fetchPublicData",payload:{types:["DEFAULT_VALUE"]}});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:case"end":return e.stop()}}),e,null,[[6,14]])}))}}},18784:(e,t,n)=>{"use strict";n.d(t,{Sz:()=>i,vv:()=>o,ld:()=>c,A$:()=>s,B9:()=>u,Ey:()=>l,p6:()=>p});var r=n(30381),a=n.n(r),i=/([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,o=function(e,t){if(Array.isArray(e)){var n=e[0],r=e[1];return a()(r,t).diff(a()(n,t),"days")}return 0},c=["\u4eca\u5929","\u6628\u5929","\u672c\u5468","\u4e0a\u5468","\u672c\u6708","\u4e0a\u6708","\u672c\u5b63","\u4e0a\u5b63","\u4eca\u5e74","\u53bb\u5e74"],s=function(e){return e?["\u4eca\u5929","\u8fd16\u5c0f\u65f6","\u6628\u5929","\u8fd112\u5c0f\u65f6","\u672c\u5468","\u8fd124\u5c0f\u65f6","\u4e0a\u5468","\u8fd13\u5929","\u672c\u6708","\u8fd17\u5929","\u4e0a\u6708","\u8fd130\u5929","\u672c\u5b63","\u8fd190\u5929","\u4e0a\u5b63","\u8fd1180\u5929","\u4eca\u5e74","\u8fd1365\u5929","\u53bb\u5e74"]:["\u4eca\u5929","\u6628\u5929","\u672c\u5468","\u4e0a\u5468","\u8fd13\u5929","\u672c\u6708","\u8fd17\u5929","\u4e0a\u6708","\u8fd130\u5929","\u672c\u5b63","\u8fd190\u5929","\u4e0a\u5b63","\u8fd1180\u5929","\u4eca\u5e74","\u8fd1365\u5929","\u53bb\u5e74"]},u=function(e,t,n){var r=[];if(n)switch(e){case 0:r=[a()().startOf("day"),a()()];break;case 2:r=[a()().subtract(1,"days").startOf("day"),a()().subtract(1,"days").endOf("day")];break;case 4:r=[a()().startOf("week"),a()()];break;case 6:r=[a()().subtract(1,"weeks").startOf("week"),a()().subtract(1,"weeks").endOf("week")];break;case 8:r=[a()().startOf("month"),a()()];break;case 10:r=[a()().subtract(1,"months").startOf("month"),a()().subtract(1,"months").endOf("month")];break;case 12:r=[a()().startOf("quarter"),a()()];break;case 14:r=[a()().subtract(1,"quarters").startOf("quarter"),a()().subtract(1,"quarters").endOf("quarter")];break;case 16:r=[a()().startOf("year"),a()()];break;case 18:r=[a()().subtract(1,"years").startOf("year"),a()().subtract(1,"years").endOf("year")];break;case 1:r=[a()().subtract(6,"hour"),a()()];break;case 3:r=[a()().subtract(12,"hour"),a()()];break;case 5:r=[a()().subtract(24,"hour"),a()()];break;case 7:r=[a()().subtract(3,"days"),a()()];break;case 9:r=[a()().subtract(7,"days"),a()()];break;case 11:r=[a()().subtract(30,"days"),a()()];break;case 13:r=[a()().subtract(90,"days"),a()()];break;case 15:r=[a()().subtract(180,"days"),a()()];break;case 17:r=[a()().subtract(365,"days"),a()()]}else switch(e){case 0:r=[a()().startOf("day"),a()()];break;case 1:r=[a()().subtract(1,"days").startOf("day"),a()().subtract(1,"days").endOf("day")];break;case 2:r=[a()().startOf("week"),a()()];break;case 3:r=[a()().subtract(1,"weeks").startOf("week"),a()().subtract(1,"weeks").endOf("week")];break;case 5:r=[a()().startOf("month"),a()()];break;case 7:r=[a()().subtract(1,"months").startOf("month"),a()().subtract(1,"months").endOf("month")];break;case 9:r=[a()().startOf("quarter"),a()()];break;case 11:r=[a()().subtract(1,"quarters").startOf("quarter"),a()().subtract(1,"quarters").endOf("quarter")];break;case 13:r=[a()().startOf("year"),a()()];break;case 15:r=[a()().subtract(1,"years").startOf("year"),a()().subtract(1,"years").endOf("year")];break;case 4:r=[a()().subtract(3,"days"),a()()];break;case 6:r=[a()().subtract(7,"days"),a()()];break;case 8:r=[a()().subtract(30,"days"),a()()];break;case 10:r=[a()().subtract(90,"days"),a()()];break;case 12:r=[a()().subtract(180,"days"),a()()];break;case 14:r=[a()().subtract(365,"days"),a()()]}return r.map((function(e){return e.format(t)}))},l=function(e){var t=[];switch(e){case"\u8fd16\u5c0f\u65f6":t=[a()().subtract(6,"hour"),a()()];break;case"\u8fd112\u5c0f\u65f6":t=[a()().subtract(12,"hour"),a()()];break;case"\u8fd124\u5c0f\u65f6":t=[a()().subtract(24,"hour"),a()()]}return t.map((function(e){return e.format("YYYY-MM-DD HH:mm:ss")}))},p=function(e,t,n){for(var r="",a=0;a<t.length;a++){var i=void 0,o=void 0;if(n){var c=t[a].split(" ");i=c[0],o=c[1]}else i=t[a];for(var s=i.split("-"),u=0;u<s.length;u++)0===u&&(r+=s[u]+(1===e?"\u5e74":".")),1===u&&(r+=s[u]+(1===e?"\u6708":".")),2===u&&(r+=s[u]+(1===e?"\u65e5":""));o&&(r+=1===e?o.split(":")[0]+"\u65f6"+o.split(":")[1]+"\u5206":" "+o),0===a&&(r+=" - ")}return r}},93310:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(87462),a=n(87757),i=n.n(a),o=n(40845),c=n(30381),s=n.n(c),u=n(64396),l=n(35239),p=n(87219),d=n(70339),f=u.Z.IDBHeaderScreening.quickTimeScreening,h={projectId:void 0,dateFilter:void 0,date:"7",dateValue:void 0,type:""};const m={namespace:f,state:JSON.parse(JSON.stringify(h)),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},h)}},effects:{init:i().mark((function e(t,n){var r,a,o,c,s,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,n.select,o=n.take,c=r.type,s=r.params,u=r.nowDate,e.next=5,a({type:"save",payload:{type:c,projectId:l.t.get(l.V.curProject).id}});case 5:return p="default-time-"+c,e.next=8,a({type:"getDefaultValue",payload:{key:p,params:s,formatStr:"YYYY-MM-DD",projectId:l.t.get(l.V.curProject).id,nowDate:u}});case 8:return e.next=10,o("getDefaultValue/@@end");case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})),getDefaultValue:i().mark((function e(t,n){var a,c,u,l,h,m,v,y,g,x,I,b,T,E,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,u=n.put,l=n.select,e.next=4,l((function(e){return(0,r.Z)({},e)[f]}));case 4:return h=e.sent,m=h.projectId,e.prev=6,x=a.key,I=a.params,b=a.formatStr,T=a.nowDate,e.next=10,c(o.o,{projectId:a.projectId||m,key:x});case 10:E=e.sent,2e4===(w=E.data).code&&((k=JSON.parse(w.result))?(y=I&&I.date?I.date:k.date,v=I&&I.date?"week"===I.date||"month"===I.date?I:(0,p.ZP)(I,(function(e){e.from=""+(0,d.vc)(e.date,b,T)[0],e.quickChoice=d.YM.find((function(t){return t.value===e.date})).label,e.to=""+(0,d.vc)(e.date,b,T)[1]})):k.date?"week"===k.date||"month"===k.date?k:(0,p.ZP)(k,(function(e){e.from=""+(0,d.vc)(e.date,b,T)[0],e.quickChoice=d.YM.find((function(t){return t.value===e.date})).label,e.to=""+(0,d.vc)(e.date,b,T)[1]})):k,g=I&&I.date&&("week"===I.date||"month"===I.date)?s()(I.from):"week"===k.date||"month"===k.date?s()(k.from):void 0):(y=I&&I.date?I.date:"7",v=I&&I.date?I:{dateGroupType:"DAY",from:""+(0,d.vc)(y,b,T)[0],numOfDays:7,quickChoice:"\u8fd1"+y+"\u5929",remoteName:"cTime",to:""+(0,d.vc)(y,b,T)[1],date:"7"},g=I&&I.date&&("week"===I.date||"month"===I.date)?s()(I.from):void 0)),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(6);case 17:return e.prev=17,e.next=20,u({type:"save",payload:{date:y,dateFilter:v,dateValue:g}});case 20:return e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[6,15,17,21]])})),setDefaultValue:i().mark((function e(t,n){var a,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,c=n.call,n.put,s=n.select,e.next=4,s((function(e){return(0,r.Z)({},e)[f]}));case 4:return u=e.sent,l=u.projectId,e.prev=6,p=a.key,d=a.value,e.next=10,c(o.s,{projectId:a.projectId||l,key:p,value:d});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:case"end":return e.stop()}}),e,null,[[6,12]])}))}}},70339:(e,t,n)=>{"use strict";n.d(t,{YM:()=>i,vv:()=>o,vc:()=>c});var r=n(30381),a=n.n(r),i=[{label:"\u6628\u5929",value:"1"},{label:"\u8fd17\u5929",value:"7"},{label:"\u8fd130\u5929",value:"30"},{label:"\u5468",value:"week"},{label:"\u6708",value:"month"}],o=function(e,t){if(Array.isArray(e)){var n=e[0],r=e[1];return a()(r,t).diff(a()(n,t),"days")+1}return 0},c=function(e,t,n){void 0===n&&(n=0);var r=[];switch(e){case"1":case 1:r=[a()().subtract(1,"days").startOf("day"),a()().subtract(1,"days").endOf("day")];break;case"7":case 7:r=[a()().subtract(7-n,"days"),a()().subtract(1-n,"days")];break;case"30":case 30:r=[a()().subtract(30-n,"days"),a()().subtract(1-n,"days")]}return r.map((function(e){return e.format(t)}))}},91780:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.copy,a=t.id,o=t.type,s=t.projectId,u=t.selected,e.abrupt("return",c.h.post("/filter/add",{name:n,copy:r,id:a,type:o,projectId:s,selected:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.abrupt("return",c.h.post("/filter/delete",{id:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=n(35239),f=n(64396),h=n(5724),m=n(84910),v=f.Z.IDBHeaderScreening.savedScreening,y={type:"",filterList:void 0,selFilterObj:{id:null,name:""},selFilterSelected:[],projectId:void 0};const g={namespace:v,state:Object.assign({},y),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clean:function(e,t){t.payload;return JSON.parse(JSON.stringify(y))}},effects:{init:i().mark((function e(t,n){var r,a,o,c,s,u,l,p,v,y,g,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,s=n.take,u=r.type,l=r.filterId,e.next=5,o({type:"save",payload:{type:u,projectId:d.t.get(d.V.curProject).id}});case 5:return p={id:null,name:""},v=[],e.next=8,s(f.Z.global+"/fetchPublicData/@@end");case 8:return e.next=10,c((function(e){return e[f.Z.global]}));case 10:return y=e.sent,g=y.publicResource,e.next=14,a(h.p3,{type:(0,m.kY)(u),publicResource:g});case 14:return x=(x=e.sent).map((function(e){return{id:e.id,name:e.label,selected:e.selected,updateAt:e.updateAt}})),l&&x.find((function(e){return e.id===l}))&&(p=x.find((function(e){return e.id===l})),v=x.find((function(e){return e.id===l})).selected?JSON.parse(x.find((function(e){return e.id===l})).selected):[]),e.next=19,o({type:"save",payload:{filterList:x,selFilterObj:p,selFilterSelected:v}});case 19:return e.abrupt("return",{selFilterObj:p,selFilterSelected:v});case 20:case"end":return e.stop()}}),e)})),getSavedList:i().mark((function e(t,n){var a,o,c,s,u,l,p,d,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,u=n.take,e.next=4,s((function(e){return(0,r.Z)({},e)[v]}));case 4:return l=e.sent,l.projectId,e.prev=6,e.next=9,c({type:f.Z.global+"/fetchPublicData",payload:{types:["USER_FILTER"]}});case 9:return e.next=11,u(f.Z.global+"/fetchPublicData/@@end");case 11:return e.next=13,s((function(e){return e[f.Z.global]}));case 13:return p=e.sent,d=p.publicResource,e.next=17,o(h.p3,{type:a.type,publicResource:d});case 17:return m=(m=e.sent).map((function(e){return{id:e.id,name:e.label,selected:e.selected,updateAt:e.updateAt}})),e.next=21,c({type:"save",payload:(0,r.Z)({},a,{filterList:m})});case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(6);case 25:case"end":return e.stop()}}),e,null,[[6,23]])})),onSelFilterObjChange:i().mark((function e(t,n){var a,o,c,s,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n.call,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[v]}));case 4:return s=e.sent,u=s.filterList,l=s.starFilterObj,a&&a.id&&(d=u.findIndex((function(e){return e.id===a.id}))),p=d?u[d]:l?u.find((function(e){return e.id===l.id})):u[0],e.next=11,o({type:"save",payload:{selFilterObj:p}});case 11:return e.abrupt("return",p);case 12:case"end":return e.stop()}}),e)})),saveConfition:i().mark((function e(t,n){var a,o,c,u,l,p,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[v]}));case 4:return u=e.sent,l=u.projectId,p=u.type,d=a.id,f=a.name,h=a.copy,m=a.selected,e.next=10,o(s,{id:d,name:f,copy:h,selected:m,type:a.type||p,projectId:a.projectId||l});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})),deleteConfition:i().mark((function e(t,n){var r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,n.select,n.put,e.next=4,a(l,{id:r.id});case 4:return o=e.sent,c=o.data,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})),clearSaveFilter:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.select,r=n.put,e.next=4,r({type:"save",payload:{selFilterObj:{id:null,name:"",selected:[]},selFilterSelected:[]}});case 4:case"end":return e.stop()}}),e)}))}}},5724:(e,t,n)=>{"use strict";n.d(t,{oG:()=>Re,qk:()=>Ae,z1:()=>Oe,p3:()=>De,xz:()=>je,QX:()=>_e,kL:()=>Me});var r=n(87462),a=n(15861),i=n(87757),o=n.n(i),c=n(90549),s=(n(97577),n(92795));Array.prototype.deepCopy=function(){return JSON.parse(JSON.stringify(this))};var u=[{id:"1",label:"\u4eac\u4e1c"},{id:"3",label:"\u5929\u732b"},{id:"4",label:"\u6dd8\u5b9d"},{id:"5",label:"\u82cf\u5b81"},{id:"6",label:"\u4e9a\u9a6c\u900a"},{id:"7",label:"\u79d1\u6c83\u65af\u5546\u57ce"},{id:"8",label:"\u7c73\u5bb6\u6709\u54c1"},{id:"9",label:"\u56fd\u7f8e"},{id:"10",label:"\u5c0f\u7c73\u5546\u57ce"},{id:"11",label:"\u77e5\u4e4e"},{id:"12",label:"\u65b0\u6d6a\u5fae\u535a"},{id:"13",label:"\u552f\u54c1\u4f1a"},{id:"14",label:"\u767e\u5ea6\u8d34\u5427"},{id:"16",label:"VIVO\u5b98\u7f51"},{id:"19",label:"\u9152\u4ed9"},{id:"20",label:"\u6d77\u4fe1"},{id:"21",label:"1\u53f7\u5e97"},{id:"22",label:"\u521b\u7ef4"},{id:"23",label:"\u6b22\u592a\u5546\u57ce"},{id:"25",label:"\u81ea\u5b9a\u4e49"},{id:"24",label:"coloros\u793e\u533a"},{id:"26",label:"\u82b1\u7c89\u4ff1\u4e50\u90e8"},{id:"27",label:"\u5c0f\u7c73\u793e\u533a"},{id:"28",label:"vivo\u793e\u533a"},{id:"29",label:"\u516c\u4f17\u53f7"},{id:"30",label:"\u65b0\u95fb"},{id:"31",label:"\u6296\u97f3"},{id:"32",label:"\u767e\u5ea6\u6307\u6570"},{id:"33",label:"\u5fae\u535a\u6307\u6570"},{id:"36",label:"360\u6307\u6570"},{id:"34",label:"\u805a\u6295\u8bc9"},{id:"35",label:"\u9ed1\u732b\u6295\u8bc9"},{id:"37",label:"\u767e\u5ea6\u77e5\u9053"},{id:"38",label:"\u5c0f\u7ea2\u4e66"},{id:"39",label:"\u4ec0\u4e48\u503c\u5f97\u4e70"},{id:"40",label:"bilibili"},{id:"41",label:"\u4eca\u65e5\u5934\u6761"},{id:"42",label:"\u62fc\u591a\u591a"},{id:"43",label:"\u4e91\u542c"},{id:"44",label:"OPPO\u793e\u533a"},{id:"45",label:"\u4e03\u964c\u5728\u7ebf"},{id:"48",label:"\u6296\u97f3\u5c0f\u5e97"},{id:"50",label:"\u5feb\u624b\u5c0f\u5e97"},{id:"51",label:"\u4e9a\u9a6c\u900a\u56fd\u9645"},{id:"53",label:"\u817e\u8baf\u5e94\u7528\u5b9d"},{id:"54",label:"App Store(iOS)"},{id:"55",label:"App Store(Mac)"},{id:"56",label:"Google Play"},{id:"57",label:"Zendesk"}],l=[{id:"COMMENT",label:"\u7535\u5546\u8bc4\u8bba"},{id:"QUE_ANS",label:"\u95ee\u7b54"},{id:"NEWS",label:"\u65b0\u95fb\u5a92\u4f53"},{id:"QUESTION",label:"\u7535\u5546\u95ee\u7b54"},{id:"SERVICE",label:"\u5ba2\u670d\u4f1a\u8bdd"},{id:"BBS",label:"\u8bba\u575b"},{id:"SOCIAL",label:"\u793e\u4ea4\u5a92\u4f53"},{id:"SELF",label:"\u5185\u5bb9\u7535\u5546"},{id:"COMPLAINT",label:"\u6295\u8bc9\u5e73\u53f0"},{id:"QUESTIONAIRE",label:"\u95ee\u5377\u8c03\u7814"},{id:"VIDEO",label:"\u89c6\u9891"},{id:"APP_COMMENT",label:"\u5e94\u7528\u8bc4\u8bba"},{id:"TICKET",label:"\u5de5\u5355"}],p=[{id:"NOTE",label:"\u7b14\u8bb0"},{id:"WEIBO",label:"\u535a\u6587"},{id:"NOTE",label:"\u7b14\u8bb0"},{id:"COMMON_COMMENT",label:"\u8bc4\u8bba"},{id:"COMMON_TALK",label:"\u56de\u590d"},{id:"WEIBO_REPORT",label:"\u8f6c\u53d1\u535a\u6587"},{id:"COMMON_POST",label:"\u5e16\u5b50"},{id:"COMMON_POST_COMMENT",label:"\u56de\u5e16"},{id:"QUE_ANS_QUESTION",label:"\u95ee\u9898"},{id:"QUE_ANS_ANSWER",label:"\u56de\u7b54"},{id:"QUESTION_TALK",label:"\u95ee\u9898\u8bc4\u8bba"},{id:"ANSWER_TALK",label:"\u56de\u7b54\u8bc4\u8bba"},{id:"NEWS_TALK",label:"\u8bc4\u8bba\u56de\u590d"},{id:"NEWS_TEXT",label:"\u6b63\u6587"},{id:"MESSAGE_COMMENT",label:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",label:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_QUESTION",label:"\u7535\u5546\u95ee\u9898"},{id:"COMMENT_ANSWER",label:"\u7535\u5546\u56de\u7b54"},{id:"COMMENT_SERVICE",label:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",label:"\u65e0\u5ba2\u670d\u56de\u590d"},{id:"SERVICE_SESSION",label:"\u5ba2\u670d\u4f1a\u8bdd"},{id:"QUESTIONAIRE_TEXT",label:"\u95ee\u5377"},{id:"COMPLAINT",label:"\u6295\u8bc9\u8be6\u60c5"},{id:"VIDEO",label:"\u89c6\u9891"},{id:"DANMAKU",label:"\u5f39\u5e55"},{id:"OFFICIAL_REPLY",label:"\u5b98\u65b9\u56de\u590d"},{id:"TICKET_WAIT_FOR_RENAME",label:"\u5de5\u5355"}],d=[{id:"negative",label:"\u8d1f\u9762\u60c5\u611f"},{id:"neutral",label:"\u4e2d\u6027\u60c5\u611f"},{id:"positive",label:"\u6b63\u9762\u60c5\u611f"}],f=[{id:"useful",label:"\u6709\u6548\u6570\u636e"},{id:"unUseful",label:"\u65e0\u6548\u6570\u636e"}],h=[{id:"COMMENT",name:"\u7535\u5546\u8bc4\u8bba",relation:[{id:"1",name:"\u4eac\u4e1c",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"3",name:"\u5929\u732b",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"4",name:"\u6dd8\u5b9d",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"5",name:"\u82cf\u5b81",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"6",name:"\u4e9a\u9a6c\u900a",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"7",name:"\u79d1\u6c83\u65af\u5546\u57ce",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"8",name:"\u7c73\u5bb6\u6709\u54c1",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"9",name:"\u56fd\u7f8e",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"10",name:"\u5c0f\u7c73\u5546\u57ce",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"13",name:"\u552f\u54c1\u4f1a",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"16",name:"VIVO\u5b98\u7f51",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"19",name:"\u9152\u4ed9",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"20",name:"\u6d77\u4fe1",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"21",name:"1\u53f7\u5e97",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"22",name:"\u521b\u7ef4",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"23",name:"\u6b22\u592a\u5546\u57ce",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"42",name:"\u62fc\u591a\u591a",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"48",name:"\u6296\u97f3\u5c0f\u5e97",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"}]},{id:"50",name:"\u5feb\u624b\u5c0f\u5e97",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"},{id:"COMMENT_SERVICE",name:"\u5ba2\u670d\u56de\u590d"},{id:"NO_COMMENT_SERVICE",name:"\u65e0\u5ba2\u670d\u56de\u590d"}]},{id:"51",name:"\u4e9a\u9a6c\u900a\u56fd\u9645",relation:[{id:"MESSAGE_COMMENT",name:"\u7535\u5546\u8bc4\u8bba"},{id:"COMMENT_APPEND",name:"\u7535\u5546\u8ffd\u8bc4"}]}]},{id:"QUE_ANS",name:"\u95ee\u7b54",relation:[{id:"11",name:"\u77e5\u4e4e",relation:[{id:"QUE_ANS_QUESTION",name:"\u95ee\u9898"},{id:"QUE_ANS_ANSWER",name:"\u56de\u7b54"},{id:"QUESTION_TALK",name:"\u95ee\u9898\u8bc4\u8bba"},{id:"ANSWER_TALK",name:"\u56de\u7b54\u8bc4\u8bba"}]},{id:"37",name:"\u767e\u5ea6\u77e5\u9053",relation:[{id:"QUE_ANS_QUESTION",name:"\u95ee\u9898"},{id:"QUE_ANS_ANSWER",name:"\u56de\u7b54"},{id:"QUESTION_TALK",name:"\u95ee\u9898\u8bc4\u8bba"},{id:"ANSWER_TALK",name:"\u56de\u7b54\u8bc4\u8bba"}]}]},{id:"QUESTION",name:"\u7535\u5546\u95ee\u7b54",relation:[{id:"1",name:"\u4eac\u4e1c",relation:[{id:"COMMENT_QUESTION",name:"\u7535\u5546\u95ee\u9898"},{id:"COMMENT_ANSWER",name:"\u7535\u5546\u56de\u7b54"}]},{id:"5",name:"\u82cf\u5b81",relation:[{id:"COMMENT_QUESTION",name:"\u7535\u5546\u95ee\u9898"},{id:"COMMENT_ANSWER",name:"\u7535\u5546\u56de\u7b54"}]}]},{id:"SERVICE",name:"\u5ba2\u670d\u4f1a\u8bdd",relation:[{id:"1",name:"\u4eac\u4e1c"},{id:"3",name:"\u5929\u732b"}]},{id:"BBS",name:"\u7535\u5546\u95ee\u7b54",relation:[{id:"14",name:"\u767e\u5ea6\u8d34\u5427",relation:[{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"COMMON_POST",name:"\u5e16\u5b50"},{id:"COMMON_POST_COMMENT",name:"\u56de\u5e16"}]},{id:"24",name:"coloros\u793e\u533a",relation:[{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"COMMON_POST",name:"\u5e16\u5b50"},{id:"COMMON_POST_COMMENT",name:"\u56de\u5e16"}]},{id:"26",name:"\u82b1\u7c89\u4ff1\u4e50\u90e8",relation:[{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"COMMON_POST",name:"\u5e16\u5b50"},{id:"COMMON_POST_COMMENT",name:"\u56de\u5e16"}]},{id:"27",name:"\u5c0f\u7c73\u793e\u533a",relation:[{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"COMMON_POST",name:"\u5e16\u5b50"},{id:"COMMON_POST_COMMENT",name:"\u56de\u5e16"}]},{id:"28",name:"vivo\u793e\u533a",relation:[{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"COMMON_POST",name:"\u5e16\u5b50"},{id:"COMMON_POST_COMMENT",name:"\u56de\u5e16"}]},{id:"44",name:"OPPO\u793e\u533a",relation:[{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"COMMON_POST",name:"\u5e16\u5b50"},{id:"COMMON_POST_COMMENT",name:"\u56de\u5e16"}]}]},{id:"SOCIAL",name:"\u793e\u4ea4\u5a92\u4f53",relation:[{id:"12",name:"\u65b0\u6d6a\u5fae\u535a",relation:[{id:"WEIBO",name:"\u95ee\u9898"},{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"},{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"WEIBO_REPORT",name:"\u8f6c\u53d1\u535a\u6587"}]}]},{id:"SELF",name:"\u5185\u5bb9\u7535\u5546",relation:[{id:"29",name:"\u5fae\u4fe1\u516c\u4f17\u53f7",relation:[{id:"NEWS_TEXT",name:"\u6b63\u6587"}]},{id:"39",name:"\u4ec0\u4e48\u503c\u5f97\u4e70",relation:[{id:"NEWS_TEXT",name:"\u6b63\u6587"},{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"}]},{id:"38",name:"\u5c0f\u7ea2\u4e66",relation:[{id:"NOTE",name:"\u7b14\u8bb0"},{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"},{id:"COMMON_TALK",name:"\u56de\u590d"}]}]},{id:"NEWS",name:"\u65b0\u95fb\u5a92\u4f53",relation:[{id:"30",name:"\u65b0\u95fb",relation:[{id:"NEWS_TEXT",name:"\u6b63\u6587"},{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"}]},{id:"41",name:"\u4eca\u65e5\u5934\u6761",relation:[{id:"NEWS_TEXT",name:"\u6b63\u6587"},{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"}]}]},{id:"COMPLAINT",name:"\u6295\u8bc9\u5e73\u53f0",relation:[{id:"35",name:"\u9ed1\u732b\u6295\u8bc9",relation:[{id:"COMPLAINT",name:"\u6295\u8bc9\u5e73\u53f0"},{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"},{id:"COMMON_TALK",name:"\u56de\u590d"}]},{id:"34",name:"\u805a\u6295\u8bc9",relation:[{id:"COMPLAINT",name:"\u6295\u8bc9\u5e73\u53f0"},{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"},{id:"COMMON_TALK",name:"\u56de\u590d"}]}]},{id:"VIDEO",name:"\u89c6\u9891",relation:[{id:"40",name:"bilibili",relation:[{id:"VIDEO",name:"\u89c6\u9891"},{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"},{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"DANMAKU",name:"\u5f39\u5e55"}]},{id:"31",name:"\u6296\u97f3",relation:[{id:"VIDEO",name:"\u89c6\u9891"},{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"},{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"NEWS_TEXT",name:"\u6b63\u6587"}]}]},{id:"QUESTIONAIRE",name:"\u95ee\u5377\u8c03\u7814",relation:[{id:"43",name:"\u4e91\u542c",relation:[{id:"QUESTIONAIRE_TEXT",name:"\u95ee\u5377"}]}]},{id:"APP_COMMENT",name:"\u5e94\u7528\u8bc4\u8bba",relation:[{id:"53",name:"\u817e\u8baf\u5e94\u7528\u5b9d",relation:[{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"},{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"OFFICIAL_REPLY",name:"\u5b98\u65b9\u56de\u590d"}]},{id:"54",name:"App Store(iOS)",relation:[{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"},{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"OFFICIAL_REPLY",name:"\u5b98\u65b9\u56de\u590d"}]},{id:"55",name:"App Store(Mac)",relation:[{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"},{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"OFFICIAL_REPLY",name:"\u5b98\u65b9\u56de\u590d"}]},{id:"56",name:"Google Play",relation:[{id:"COMMON_COMMENT",name:"\u8bc4\u8bba"},{id:"COMMON_TALK",name:"\u56de\u590d"},{id:"OFFICIAL_REPLY",name:"\u5b98\u65b9\u56de\u590d"}]}]},{id:"TICKET",name:"\u5de5\u5355",relation:[{id:"57",name:"Zendesk",relation:[{id:"TICKET_WAIT_FOR_RENAME",name:"\u5de5\u5355"}]}]}],m=function(e){var t=[];return h.forEach((function(e){e.relation&&e.relation.forEach((function(n){n.relation?n.relation.forEach((function(r){t.push([{id:e.id,name:e.name},{id:n.id,name:n.name},{id:r.id,name:r.name}])})):t.push([{id:e.id,name:e.name},{id:n.id,name:n.name}])}))})),t},v={MESSAGE_COMMENT:"COMMENT",MESSAGE_SOCIAL:"SOCIAL",MESSAGE_APP:"APP_COMMENT",WARNING_APP_COMMENT_KEYWORD:"APP_COMMENT",WARNING_APP_COMMENT_ASPECT:"APP_COMMENT",PRODUCT_COMMENT:"APP_COMMENT",ASPECT_ANALYSIS_APP:"APP_COMMENT",MESSAGE_SELF:"SELF"};const y=function(e,t){var n={id:"DEFAULT",label:"\u7cfb\u7edf\u9ed8\u8ba4",data:[{id:"CATEGORY_TYPE",options:l.deepCopy(),label:"\u6570\u636e\u7c7b\u578b"},{id:"SOURCE",options:u.deepCopy(),label:"\u5e73\u53f0"},{id:"MESSAGE_TYPE",options:p.deepCopy(),label:"\u6d88\u606f\u7c7b\u578b"},{id:"EMOTION_TYPE",options:d,label:"\u6d88\u606f\u60c5\u611f",unRelation:!0},{id:"EFFECTIVENESS_TYPE",options:f,label:"\u6570\u636e\u6709\u6548\u6027",unRelation:!0}],relation:m()};if(e.ACCOUNT_SOURCE&&e.ACCOUNT_SOURCE.data.length){var r={id:"SOURCE",values:[]};e.ACCOUNT_SOURCE.data.forEach((function(e){return r.values.push(e.id)}));var a=(0,s.y)(n.data,[r],n.relation,(0,s.I)(n.relation)).list;n.data.find((function(e){return"SOURCE"===e.id})).options=n.data.find((function(e){return"SOURCE"===e.id})).options.filter((function(e){return r.values.includes(e.id)})),n.data.find((function(e){return"MESSAGE_TYPE"===e.id})).options=a.find((function(e){return"MESSAGE_TYPE"===e.id})).options,n.data.find((function(e){return"CATEGORY_TYPE"===e.id})).options=a.find((function(e){return"CATEGORY_TYPE"===e.id})).options}if(t&&t.type&&v[t.type]){var i={id:"SOURCE",values:[]};e.ACCOUNT_SOURCE.data.forEach((function(e){return i.values.push(e.id)}));var o=[];h.find((function(e){return"SELF"===e.id})).relation.filter((function(e){return i.values.includes(e.id)})).forEach((function(e){!o.map((function(e){return e.id})).includes(e.id)&&o.push.apply(o,e.relation)})),"MESSAGE_SELF"===t.type&&(n.data.find((function(e){return"MESSAGE_TYPE"===e.id})).options=o.map((function(e){return e.label=e.name,e})));var c=(0,s.y)(n.data,[{id:"CATEGORY_TYPE",values:[v[t.type]]}],n.relation,(0,s.I)(n.relation)).list;n.data.find((function(e){return"SOURCE"===e.id})).options=c.find((function(e){return"SOURCE"===e.id})).options,n.data.find((function(e){return"MESSAGE_TYPE"===e.id})).options=c.find((function(e){return"MESSAGE_TYPE"===e.id})).options,n.data.shift()}return n};var g=[{id:"picture",label:"\u5e26\u56fe\u6d88\u606f"},{id:"video",label:"\u5e26\u89c6\u9891\u6d88\u606f"},{id:"text",label:"\u4ec5\u6587\u672c\u6d88\u606f"}],x=[{id:"5",label:"\u4e94\u661f"},{id:"4",label:"\u56db\u661f"},{id:"3",label:"\u4e09\u661f"},{id:"2",label:"\u4e8c\u661f"},{id:"1",label:"\u4e00\u661f"},{id:"0",label:"\u65e0\u661f"}];const I=function(){return{id:"COMMENT_RELATED",label:"\u8bc4\u8bba\u7c7b",data:[{id:"COMMENT_ATTACHMENT_TYPE",options:g,label:"\u9644\u4ef6\u7c7b\u578b"},{id:"COMMENT_SCORE",options:x,label:"\u8bc4\u8bba\u661f\u7ea7"},{id:"COMMENT_LENGTH",options:[],label:"\u8bc4\u8bba\u957f\u5ea6"}]}};var b=[{id:"picture",label:"\u5e26\u56fe\u6d88\u606f"},{id:"video",label:"\u5e26\u89c6\u9891\u6d88\u606f"},{id:"topic",label:"\u5e26\u8bdd\u9898"}];const T=function(){return{id:"CONTENT_BUSINESS",label:"\u5185\u5bb9\u7535\u5546\u7c7b",data:[{id:"CONTENT_BUSINESS_ATTACHMENT_TYPE",options:b,label:"\u9644\u4ef6\u7c7b\u578b"},{id:"CONTENT_BUSINESS_START_NUM",options:[],label:"\u70b9\u8d5e\u6570\u91cf"},{id:"CONTENT_BUSINESS_MSG_LENGTH",options:[],label:"\u6d88\u606f\u957f\u5ea6"}]}};const E=function(e){var t=e.TAG_TYPE.data||[],n=e.TAG_DETAIL.data||[],r=t.map((function(e){return{id:e.id,options:n.filter((function(t){return t.parent===e.id})).map((function(e){return{id:e.id,label:e.label}})),label:e.label}}));return t.length||console.error("\u627e\u4e0d\u5230 TAG_TYPE \u8d44\u6e90"),n.length||console.error("\u627e\u4e0d\u5230 TAG_DETAIL \u8d44\u6e90"),r.length?{id:"TAG_RULE",label:"\u89c4\u5219\u6807\u7b7e",data:r}:null};var w=n(27361),k=n.n(w),C=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"],S=function(e){var t=[];return e.forEach((function(e){e.relation&&e.relation.forEach((function(n){n.relation?n.relation.forEach((function(r){t.push([{id:e.id,name:e.name},{id:n.id,name:n.name},{id:r.id,name:r.name}])})):t.push([{id:e.id,name:e.name},{id:n.id,name:n.name}])}))})),t},N=function(e){var t={};return e&&e.length?e.reduce((function(e,n){return!t[n.id]&&(t[n.id]=e.push(n)),e}),[]):[]},O=function(e){var t=[];return e.forEach((function(e){e.forEach((function(e){t.push(e)}))})),t};const _=function(e,t){var n=Object.prototype.hasOwnProperty.call(e,"ASPECT_MODEL")?e.ASPECT_MODEL.data||[]:Object.prototype.hasOwnProperty.call(e,"USER_TEMPLATE_MODEL")?JSON.parse(e.USER_TEMPLATE_MODEL.data[0].label||{}):[];t.resourceKeys&&(n=k()(e,t.resourceKeys,[]));var r=e.BUSINESS_POINT.data||[],a=Object.prototype.hasOwnProperty.call(e,"ASPECT_MODEL")?Array.from(new Set(n.map((function(e){return e.level})))).sort((function(e,t){return e-t})):[],i=[{id:"ASPECT_ESCORE",options:[{id:"8",label:"\u6b63\u9762\u6307\u6807"},{id:"3",label:"\u8d1f\u9762\u6307\u6807"}],label:"\u6307\u6807\u60c5\u611f",unRelation:!0}];r&&r.length&&i.push({id:"BUSINESS_POINT",options:N(r).map((function(e){return{id:e.id,label:e.label}})),label:"\u4e1a\u52a1\u89c6\u89d2"});var o=Object.prototype.hasOwnProperty.call(e,"ASPECT_MODEL")?[].concat(a.map((function(e,t){return{id:"ASPECT"+e,options:n.filter((function(t){return t.level===e})).map((function(e){return{id:e.label,label:e.label}})),label:C[t]+"\u7ea7\u6307\u6807"}})),i):Object.prototype.hasOwnProperty.call(e,"USER_TEMPLATE_MODEL")?[{id:"ASPECT1",options:Object.keys(n).map((function(e){return{id:e,label:e}})),label:"\u4e00\u7ea7\u6307\u6807"},{id:"ASPECT2",options:O(Object.values(n)).map((function(e){return{id:e,label:e}})),label:"\u4e8c\u7ea7\u6307\u6807"}].concat(i):[],c=Object.prototype.hasOwnProperty.call(e,"ASPECT_MODEL")?n.filter((function(e){return 2===e.level})).map((function(e){return{id:e.label,name:e.label,relation:n.length?n.filter((function(e){return 1===e.level})).filter((function(t){return t.id===e.parent})).map((function(t){return{id:t.label,name:t.label,relation:r.length&&r.filter((function(t){return t.child===e.label})).length?r.filter((function(t){return t.child===e.label})).map((function(e){return{id:e.id,name:e.label}})):void 0}})):void 0}})):Object.prototype.hasOwnProperty.call(e,"USER_TEMPLATE_MODEL")?Object.keys(n).map((function(e){return{id:e,name:e,relation:n[e].length?n[e].map((function(e){return{id:e,name:e,relation:r.length&&r.filter((function(t){return t.child===e})).length?r.filter((function(t){return t.child===e})).map((function(e){return{id:e.id,name:e.label}})):void 0}})):void 0}})):[];return n.length||"{}"!==JSON.stringify(n)||(n.length||console.error("\u627e\u4e0d\u5230 ASPECT_MODEL \u8d44\u6e90"),"{}"===JSON.stringify(n)&&console.error("\u627e\u4e0d\u5230 USER_TEMPLATE_MODEL \u8d44\u6e90")),r.length||console.error("\u627e\u4e0d\u5230 BUSINESS_POINT \u8d44\u6e90"),o.length?{id:"ASPECT_MODEL",label:"\u6a21\u578b",data:o,relation:c.some((function(e){return e.relation}))&&S(c).sort((function(e,t){return t.length-e.length})).length?S(c).sort((function(e,t){return t.length-e.length})):void 0}:null};var j=function(e){var t=[];return e.forEach((function(e){e.relation&&e.relation.forEach((function(n){t.push([{id:e.id,name:e.label},{id:n.id,name:n.label}])}))})),t},A={"9b3298db87a4405d9c093ce8f1a75d0a":"\u5173\u952e\u5b57"};const D=function(e,t){var n=e.BRAND_SERIES.data||[],r=n.filter((function(e){return 1===e.level})).map((function(e){return{id:e.id,label:e.label,relation:n.length?n.filter((function(t){return t.parent===e.id.split("_")[0]})):void 0}}));return n.length?{id:"BRAND_SERIES",label:"\u63d0\u53ca\u5185\u5bb9",data:[{id:"BRAND",options:n.filter((function(e){return 1===e.level})).map((function(e){return{id:e.id,label:e.label}})),label:"\u54c1\u724c"},{id:"SERIES",options:n.filter((function(e){return 2===e.level})).map((function(e){return{id:e.id,label:e.label}})),label:A[t]||"\u578b\u53f7"}],relation:r.some((function(e){return e.relation}))?j(r):void 0}:(console.error("\u627e\u4e0d\u5230 BRAND_SERIES \u8d44\u6e90"),null)};var M=[{id:"picture",label:"\u5e26\u56fe\u6d88\u606f"},{id:"video",label:"\u5e26\u89c6\u9891\u6d88\u606f"},{id:"superTopic",label:"\u5e26\u8d85\u8bdd"},{id:"topic",label:"\u5e26\u8bdd\u9898"},{id:"tail",label:"\u5e26\u5c0f\u5c3e\u5df4"},{id:"text",label:"\u4ec5\u6587\u672c\u6d88\u606f"}],R=[{id:"lt",label:"\u5927\u4e8e"},{id:"gt",label:"\u5c0f\u4e8e"},{id:"between",label:"\u4ecb\u4e8e"}];const L=function(){return{id:"SOCIAL",label:"\u793e\u4ea4\u7c7b",data:[{id:"SOCIAL_COMMENT_ATTACHMENT_TYPE",options:M,label:"\u9644\u4ef6\u7c7b\u578b"},{id:"SOCIAL_CONTENT_LENGTH",options:R,label:"\u5185\u5bb9\u957f\u5ea6"}]}};var P=[{id:"SYSTEM",label:"\u65b0\u5efa\u95ee\u5377"},{id:"THIRD_PARTY",label:"\u5bfc\u5165\u95ee\u5377"}],F=[{id:"NPS",label:"NPS"},{id:"SATISFACTION",label:"\u6ee1\u610f\u5ea6"},{id:"NORMAL",label:"\u666e\u901a\u9898\u578b"}],Z=[{id:"NPS_SCORE",label:"NPS\u5206\u503c\u9898"},{id:"NPS_REASON",label:"NPS\u539f\u56e0\u9898"},{id:"SATISFACTION",label:"\u6ee1\u610f\u9898\u5206\u503c"},{id:"SATISFACTION_REASON",label:"\u6ee1\u610f\u9898\u539f\u56e0"},{id:"SINGLE_CHOICE",label:"\u5355\u9009\u9898\u578b"},{id:"MULTIPLE_CHOICE",label:"\u591a\u9009\u9898\u578b"},{id:"TEXT",label:"\u5355\u884c\u6587\u672c"},{id:"TEXTAREA",label:"\u591a\u884c\u6587\u672c"}],V=function(e,t,n){var r=[];return e.forEach((function(e){t.forEach((function(t){n.forEach((function(n){r.push([{id:e.id,label:e.label},{id:t.id,label:t.label},{id:n.id,label:n.label}])}))}))})),r},z=function(){var e=V([{id:"NPS",label:"NPS"}],B,q),t=V([{id:"SATISFACTION",label:"\u6ee1\u610f\u5ea6"}],W,H);return[].concat(e,t)};const U=function(e){var t=Object.prototype.hasOwnProperty.call(e,"QUESTION_NAME")?e.QUESTION_NAME.data:[];return{id:"QUESTIONNAIRE_RELATED",label:"\u8c03\u7814\u76f8\u5173",data:[{id:"QUESTIONNAIRE_SOURCE",options:P,label:"\u95ee\u5377\u6765\u6e90",unRelation:!0},{id:"QUESTIONNAIRE_KIND",options:F,label:"\u95ee\u5377\u7c7b\u578b"},{id:"QUESTION_NAME",options:t,label:"\u95ee\u5377\u540d\u79f0",unRelation:!0},{id:"QUESTION_TYPE",options:Z,label:"\u95ee\u5377\u9898\u578b",unRelation:!0}]}};var B=Array.from({length:11}).map((function(e,t){return{id:"NPS_"+t,label:t+"\u5206"}})),q=[{id:"PROMOTER",label:"\u63a8\u8350\u8005"},{id:"PASSIVE",label:"\u88ab\u52a8\u8005"},{id:"DETRACTOR",label:"\u8d2c\u635f\u8005"}],W=Array.from({length:5}).map((function(e,t){return{id:"SAT_"+(t+1),label:t+1+"\u5206"}})),H=[{id:"NEGATIVE",label:"\u5dee\u8bc4"},{id:"NEUTRAL",label:"\u4e2d\u8bc4"},{id:"POSITIVE",label:"\u597d\u8bc4"}];const G=function(){var e=["QUESTIONNAIRE_SOURCE"];return{id:"EXPERIENCE_QUESTION",label:"\u4f53\u9a8c\u9898\u578b",otherRelation:[{id:"QUESTIONNAIRE_RELATED",relation:z()}],data:[{id:"NPS_SCORE",options:B,label:"NPS\u5206\u503c",unRelations:e},{id:"NPS_TYPE",options:q,label:"NPS\u5206\u7c7b",unRelations:e},{id:"SATISFACTION_SCORE",options:W,label:"\u6ee1\u610f\u5ea6\u5206\u503c",unRelations:e},{id:"SATISFACTION_TYPE",options:H,label:"\u6ee1\u610f\u5ea6\u5206\u7c7b",unRelations:e}]}};var Y=[{id:"EMAIL",label:"\u90ae\u4ef6"},{id:"SMS",label:"\u77ed\u4fe1"},{id:"SHARE",label:"\u5206\u4eab"}],J=[{id:"READ",label:"\u5df2\u6253\u5f00"},{id:"SUBMITTED",label:"\u5df2\u63d0\u4ea4"},{id:"FULL_SUBMITTED",label:"\u5b8c\u6574\u7b54\u9898"},{id:"UNREAD",label:"\u672a\u8bfb"},{id:"UN_DISPATCHED",label:"\u672a\u53d1\u9001"}],K=[{id:"\u5317\u4eac",label:"\u5317\u4eac"},{id:"\u5929\u6d25",label:"\u5929\u6d25"},{id:"\u6cb3\u5317\u7701",label:"\u6cb3\u5317\u7701"},{id:"\u5c71\u897f\u7701",label:"\u5c71\u897f\u7701"},{id:"\u5185\u8499\u53e4",label:"\u5185\u8499\u53e4"},{id:"\u8fbd\u5b81\u7701",label:"\u8fbd\u5b81\u7701"},{id:"\u5409\u6797\u7701",label:"\u5409\u6797\u7701"},{id:"\u9ed1\u9f99\u6c5f\u7701",label:"\u9ed1\u9f99\u6c5f\u7701"},{id:"\u4e0a\u6d77",label:"\u4e0a\u6d77"},{id:"\u6c5f\u82cf\u7701",label:"\u6c5f\u82cf\u7701"},{id:"\u6d59\u6c5f\u7701",label:"\u6d59\u6c5f\u7701"},{id:"\u5b89\u5fbd\u7701",label:"\u5b89\u5fbd\u7701"},{id:"\u798f\u5efa\u7701",label:"\u798f\u5efa\u7701"},{id:"\u6c5f\u897f\u7701",label:"\u6c5f\u897f\u7701"},{id:"\u5c71\u4e1c\u7701",label:"\u5c71\u4e1c\u7701"},{id:"\u6cb3\u5357\u7701",label:"\u6cb3\u5357\u7701"},{id:"\u6e56\u5317\u7701",label:"\u6e56\u5317\u7701"},{id:"\u6e56\u5357\u7701",label:"\u6e56\u5357\u7701"},{id:"\u91cd\u5e86",label:"\u91cd\u5e86"},{id:"\u56db\u5ddd\u7701",label:"\u56db\u5ddd\u7701"},{id:"\u8d35\u5dde\u7701",label:"\u8d35\u5dde\u7701"},{id:"\u4e91\u5357\u7701",label:"\u4e91\u5357\u7701"},{id:"\u897f\u85cf",label:"\u897f\u85cf"},{id:"\u9655\u897f\u7701",label:"\u9655\u897f\u7701"},{id:"\u7518\u8083\u7701",label:"\u7518\u8083\u7701"},{id:"\u9752\u6d77\u7701",label:"\u9752\u6d77\u7701"},{id:"\u5b81\u590f",label:"\u5b81\u590f"},{id:"\u65b0\u7586",label:"\u65b0\u7586"},{id:"\u5e7f\u4e1c\u7701",label:"\u5e7f\u4e1c\u7701"},{id:"\u5e7f\u897f",label:"\u5e7f\u897f"},{id:"\u6d77\u5357\u7701",label:"\u6d77\u5357\u7701"},{id:"\u53f0\u6e7e\u7701",label:"\u53f0\u6e7e\u7701"},{id:"\u9999\u6e2f",label:"\u9999\u6e2f"},{id:"\u6fb3\u95e8",label:"\u6fb3\u95e8"}];const Q=function(){return{id:"QUESTIONNAIRE_INFO",label:"\u7b54\u5377\u4fe1\u606f",data:[{id:"CHANNEL",options:Y,label:"\u5206\u53d1\u6e20\u9053"},{id:"STATUS",options:J,label:"\u7b54\u5377\u72b6\u6001"},{id:"PROVINCE",options:K,label:"\u5ba2\u6237\u7701\u4efd"}]}};var X=[{id:"PRE_SALE",label:"\u552e\u524d"},{id:"AFTER_SALE",label:"\u552e\u540e"},{id:"UNKNOWN",label:"\u672a\u5206\u7c7b"}],$=[{id:"CUSTOMER",label:"\u5ba2\u6237"},{id:"SERVER",label:"\u5ba2\u670d"}],ee=function(e){var t=[];return e.forEach((function(e){t.push([{id:e.parent,name:e.parent},{id:e.label,name:e.label},{id:e.sourceId,name:e.sourceName}])})),t},te=function(e,t){var n={};return e&&e.length?e.reduce((function(e,r){return!n[r[t]]&&(n[r[t]]=e.push(r)),e}),[]):[]};const ne=function(e){var t=e.WAITER_RELATION.data||[],n=[{id:"WAITER_SHOP",options:te(t,"parent").map((function(e){return{id:e.parent,label:e.parent}})),label:"\u5e97\u94fa"},{id:"WAITER_TYPE",options:X,label:"\u5ba2\u670d\u7c7b\u578b",unRelation:!0},{id:"WAITER_NAME",options:t.map((function(e){return{id:e.label,label:e.label}})),label:"\u5ba2\u670d"},{id:"WAITER_PLATFORM",options:te(t,"sourceId").map((function(e){return{id:e.sourceId,label:e.sourceName}})),label:"\u5e73\u53f0"},{id:"WAITER_ROLE",options:$,label:"\u89d2\u8272",unRelation:!0}];return t.length||console.error("\u627e\u4e0d\u5230 WAITER_RELATION \u8d44\u6e90"),{id:"CUSTOMER_SERVICE",label:"\u5ba2\u670d\u7c7b",data:n,relation:t.length?ee(t):void 0}};var re=function(e){var t=[];return e.forEach((function(e){t.push([{id:e.parent,name:e.parent},{id:e.label,name:e.label}])})),t},ae=function(e){var t={};return e&&e.length?e.reduce((function(e,n){return!t[n.parent]&&(t[n.parent]=e.push(n)),e}),[]):[]};const ie=function(e){var t=e.MOBILE_DICT.data||[];return t.length?{id:"MENTIONED_CONTENT",label:"\u63d0\u53ca\u5185\u5bb9",data:[{id:"WAITER_BRAND",options:ae(t).map((function(e){return{id:e.parent,label:e.parent}})),label:"\u54c1\u724c"},{id:"WAITER_PRODUCT",options:t.map((function(e){return{id:e.label,label:e.label}})),label:"\u578b\u53f7"}],relation:re(t)}:(console.error("\u627e\u4e0d\u5230 MOBILE_DICT \u8d44\u6e90"),null)};var oe=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"],ce=function(e){var t=[];return e.forEach((function(e){e.relation&&e.relation.forEach((function(n){t.push([{id:e.id,name:e.label},{id:n.id,name:n.label}])}))})),t},se=function(e){var t=[];return e.forEach((function(e){e.forEach((function(e){t.push(e)}))})),t};const ue=function(e){var t=Object.prototype.hasOwnProperty.call(e,"WAITER_ASPECT_TREE")?e.WAITER_ASPECT_TREE.data||[]:Object.prototype.hasOwnProperty.call(e,"WAITER_SESSION_ASPECT")?JSON.parse(e.WAITER_SESSION_ASPECT.data[0].label||{}):[],n=Object.prototype.hasOwnProperty.call(e,"WAITER_ASPECT_TREE")?Array.from(new Set(t.map((function(e){return e.level})))).sort((function(e,t){return e-t})):[],r=Object.prototype.hasOwnProperty.call(e,"WAITER_ASPECT_TREE")?n.map((function(e,n){return{id:"WAITER_ASPECT"+e,options:t.filter((function(t){return t.level===e})).map((function(e){return{id:e.label,label:e.label}})),label:oe[n]+"\u7ea7\u5173\u6ce8\u70b9"}})):Object.prototype.hasOwnProperty.call(e,"WAITER_SESSION_ASPECT")?[{id:"WAITER_ASPECT1",options:Object.keys(t).map((function(e){return{id:e,label:e}})),label:"\u4e00\u7ea7\u5173\u6ce8\u70b9"},{id:"WAITER_ASPECT2",options:se(Object.values(t)).map((function(e){return{id:e,label:e}})),label:"\u4e8c\u7ea7\u5173\u6ce8\u70b9"}]:[],a=Object.prototype.hasOwnProperty.call(e,"WAITER_ASPECT_TREE")?t.filter((function(e){return 1===e.level})).map((function(e){return{id:e.label,label:e.label,relation:t.length?t.filter((function(e){return 2===e.level})).filter((function(t){return t.parent===e.id})).map((function(e){return{id:e.label,label:e.label}})):void 0}})):Object.prototype.hasOwnProperty.call(e,"WAITER_SESSION_ASPECT")?Object.keys(t).map((function(e){return{id:e,label:e,relation:t[e].length?t[e].map((function(e){return{id:e,label:e}})):void 0}})):[];return t.length||"{}"!==JSON.stringify(t)||(t.length||console.error("\u627e\u4e0d\u5230 WAITER_ASPECT_TREE \u8d44\u6e90"),"{}"===JSON.stringify(t)&&console.error("\u627e\u4e0d\u5230 WAITER_SESSION_ASPECT \u8d44\u6e90")),r.length?{id:"WAITER_MODEL",label:"\u6a21\u578b",data:r,relation:a.some((function(e){return e.relation}))?ce(a):void 0}:null};var le=function(e){var t=[];return e.forEach((function(e){e.forEach((function(e){t.push(e)}))})),t},pe=function(e){var t={};return e&&e.length?e.reduce((function(e,n){return!t[n.label]&&(t[n.label]=e.push(n)),e}),[]):[]},de=function(e){return Array.from(new Set(e.map((function(e){return e.topicName})))).map((function(t){return{id:e.find((function(e){return e.topicName===t})).topicId,options:pe(e.filter((function(e){return e.topicName===t})).map((function(e){return{id:e.topicValueId,label:e.topicValueName}}))),label:t}}))};const fe=function(e){var t=e.CONN_CONFIG.data||[],n=t.map((function(e){return e.configs}));return t.length?{id:"CONFIG",label:"\u4e3b\u9898",data:de(le(n)),relation:n.length?n.sort((function(e,t){return t.length-e.length})).map((function(e){return e.map((function(e){return{id:e.topicValueId,name:e.topicValueName}}))})):void 0}:(console.error("\u627e\u4e0d\u5230 CONN_CONFIG \u8d44\u6e90"),null)};var he={SCENE_AGE:"\u5e74\u9f84",SCENE_BUY_DECISION:"\u8d2d\u4e70\u51b3\u7b56",SCENE_MY_ADVICE:"\u7528\u6237\u5efa\u8bae",SCENE_RELATION:"\u5173\u7cfb",SCENE_ROLE:"\u89d2\u8272",SCENE_USE:"\u7528\u9014",SCENE_USE_SCENE:"\u4f7f\u7528\u573a\u5408",SCENE_SEX:"\u6027\u522b",SCENE_ENDORSER:"\u4ee3\u8a00\u4eba"};const me=function(e){var t=JSON.parse(e.SCENE_CONFIG&&e.SCENE_CONFIG.data&&e.SCENE_CONFIG.data.length&&e.SCENE_CONFIG.data[0].label||{}),n=Object.keys(t).map((function(e){return{id:e,options:t[e].map((function(e){return{id:e,label:e}})),label:he[e]}}));return n.length?{id:"SCENE_ASPECT",label:"\u573a\u666f\u6807\u7b7e",data:n}:(console.error("\u627e\u4e0d\u5230 SCENE_CONFIG \u8d44\u6e90"),null)};var ve=function(e){var t=[];return e.forEach((function(e){e.forEach((function(e){t.push(e)}))})),t},ye=function(e){var t={};return e&&e.length?e.reduce((function(e,n){return!t[n.label]&&(t[n.label]=e.push(n)),e}),[]):[]},ge=function(e){return Array.from(new Set(e.map((function(e){return e.topicName})))).map((function(t){return{id:e.find((function(e){return e.topicName===t})).topicId,options:ye(e.filter((function(e){return e.topicName===t})).map((function(e){return{id:e.topicValueId,label:e.topicValueName}}))),label:t}}))};const xe=function(e){var t=e.TOPIC_CONFIG.data||[],n=t.map((function(e){return e.configs}));return t.length?{id:"TOPIC",label:"\u4e3b\u9898",data:ge(ve(n)),relation:n.length?n.sort((function(e,t){return t.length-e.length})).map((function(e){return e.map((function(e){return{id:e.topicValueId,name:e.topicValueName}}))})):void 0}:(console.error("\u627e\u4e0d\u5230 TOPIC_CONFIG \u8d44\u6e90"),null)};var Ie=n(19155),be=n.n(Ie),Te=n(37361),Ee=[{id:"zh-cn",label:"\u4e2d\u6587"},{id:"en-us",label:"\u82f1\u6587"},{id:"other",label:"\u5176\u4ed6"}],we=[{id:"\u672c\u54c1",label:"\u672c\u54c1"},{id:"\u7ade\u54c1",label:"\u7ade\u54c1"}];const ke=function(e,t){var n=e.PRODUCT_INFO.data.sort((function(e,t){var n=e.productLine.toUpperCase(),r=t.productLine.toUpperCase();return n<r?-1:n>r?1:0}))||[],r=Te.messageTypeId[t.type],a=[];r&&(a=n.filter((function(e){return e.productCategoryId===r}))),"MESSAGE_ALL"===t.type&&(a=n);var i=be()(a.map((function(e){return{id:e.productName,label:e.productName}})),"id"),o=be()(a.map((function(e){return{id:e.productVersion,label:e.productVersion}})),"id"),c=be()(a.map((function(e){return{id:e.productLine,label:e.productLine}})),"id"),s=be()(a.map((function(e){return{id:e.productCountry,label:e.productCountry}})),"id"),u=["SOURCE","MESSAGE_TYPE","EMOTION_TYPE","EFFECTIVENESS_TYPE"];return{id:"PRODUCT_INFO",label:"\u4ea7\u54c1\u4fe1\u606f",data:[{id:"PRODUCT_NAME",options:i,label:"\u4ea7\u54c1\u540d\u79f0"},{id:"PRODUCT_VERSION",options:o,label:"\u4ea7\u54c1\u7248\u672c",unRelations:u},{id:"PRODUCT_LINE",options:c,label:"\u4ea7\u54c1\u7ebf",unRelations:u},{id:"PRODUCT_COMPETITION",options:we,label:"\u4ea7\u54c1\u7c7b\u522b"},{id:"PRODUCT_LANGUAGE",options:Ee,label:"\u8bed\u8a00",unRelation:!0},{id:"PRODUCT_COUNTRY",options:s,label:"\u56fd\u5bb6\u5206\u7c7b",unRelation:!0}]}};var Ce=[{id:"\u4ed8\u8d39\u7528\u6237",label:"\u5df2\u4ed8\u8d39"},{id:"\u514d\u8d39\u7528\u6237",label:"\u672a\u4ed8\u8d39"},{id:"\u5176\u4ed6",label:"\u5176\u4ed6"}];const Se=function(e){return{id:"CUSTOMER_INFORMATION",label:"\u5ba2\u6237\u4fe1\u606f",data:[{id:"CUSTOMER_TAG",options:e.CUSTOMER_TAG.data||[],label:"\u5ba2\u6237\u6807\u7b7e"},{id:"USER_TYPE",options:Ce,label:"\u662f\u5426\u4ed8\u8d39"}]}};var Ne=n(35239),Oe=function(){var e=(0,a.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.publicResource,a=t.projectId,e.abrupt("return",new Promise((function(e,t){var i=a||Ne.t.get(Ne.V.curProject).id;try{var o,c,s=null==r||null==(o=r.CHECK_OWNER)||null==(c=o.data)?void 0:c.find((function(e){return e.pageType===n&&e.projectId===i}));s?e(s):console.error("\u6ca1\u6709\u7b5b\u9009\u914d\u7f6e\u8d44\u6e90")}catch(u){console.error(u)}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=(0,a.Z)(o().mark((function e(t){var n,a,i,s,u,l,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,a=t.publicResource,i=t.value,s=Ne.t.get(Ne.V.curProject).id,(u=JSON.parse(JSON.stringify(a)))&&u.CHECK_OWNER&&u.CHECK_OWNER.data.find((function(e){return e.pageType===n&&e.projectId===s}))?(l=u.CHECK_OWNER.data.splice(u.CHECK_OWNER.data.findIndex((function(e){return e.pageType===n&&e.projectId===s})),1),p=l[0],u.CHECK_OWNER.data.push((0,r.Z)({},p,i))):console.error("\u5f53\u524d\u9879\u76ee\u5728\u8be5\u9875\u9762\u6ca1\u6709\u914d\u7f6e\u9ed8\u8ba4\u7b5b\u9009\u5185\u5bb9\uff0c\u8bf7\u68c0\u67e5"),c.Z.update(c.Z.store.projectData,u).then((function(e){})),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=(0,a.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=Ne.t.get(Ne.V.curProject).id;c.Z.get(c.Z.store.projectData,""+t).then((function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.publicResource,e.abrupt("return",new Promise((function(e,t){var a=Ne.t.get(Ne.V.curProject).id,i=r;i&&i.DEFAULT_VALUE&&i.DEFAULT_VALUE.data.find((function(e){return e.projectId===a&&e.label===n}))?e(i.DEFAULT_VALUE.data.find((function(e){return e.projectId===a&&e.label===n})).selected):e(null)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.publicResource,e.abrupt("return",new Promise((function(e,t){var a=Ne.t.get(Ne.V.curProject).id;try{var i,o,c=null==r||null==(i=r.USER_FILTER)||null==(o=i.data)?void 0:o.filter((function(e){return e.pageType===n&&e.projectId===a}));null!=c&&c.length?e(c):e([])}catch(s){console.error(s)}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me={TAG_RULE:["TAG_TYPE","TAG_DETAIL"],ASPECT_MODEL:["ASPECT_MODEL","BUSINESS_POINT","USER_TEMPLATE_MODEL"],BRAND_SERIES:["BRAND_SERIES"],CUSTOMER_SERVICE:["WAITER_RELATION"],MENTIONED_CONTENT:["MOBILE_DICT"],WAITER_MODEL:["WAITER_ASPECT_TREE","WAITER_SESSION_ASPECT"],CONFIG:["CONN_CONFIG"],SCENE_ASPECT:["SCENE_CONFIG"],TOPIC:["TOPIC_CONFIG"],PRODUCT_INFO:["PRODUCT_INFO"]},Re=function(){var e=(0,a.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.curShowList,r=t.expandInfo,a=t.publicResource,t.pageType,e.abrupt("return",new Promise((function(e,t){var i=[];n.forEach((function(e){switch(e){case"DEFAULT":i.push(y(a,r));break;case"COMMENT_RELATED":i.push(I());break;case"CONTENT_BUSINESS":i.push(T());break;case"TAG_RULE":i.push(E(a));break;case"ASPECT_MODEL":i.push(_(a,r));break;case"BRAND_SERIES":i.push(D(a,Ne.t.get(Ne.V.curProject).id));break;case"SOCIAL":i.push(L());break;case"EXPERIENCE_QUESTION":i.push(G());break;case"QUESTIONNAIRE_INFO":i.push(Q());break;case"CUSTOMER_SERVICE":i.push(ne(a));break;case"MENTIONED_CONTENT":i.push(ie(a));break;case"WAITER_MODEL":i.push(ue(a));break;case"CONFIG":i.push(fe(a));break;case"SCENE_ASPECT":i.push(me(a));break;case"TOPIC":i.push(xe(a));break;case"PRODUCT_INFO":i.push(ke(a,r));break;case"CUSTOMER_INFORMATION":i.push(Se(a));break;case"QUESTIONNAIRE_RELATED":i.push(U(a))}})),e(i.filter((function(e){return e})))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},33488:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(87462),a=n(87757),i=n.n(a),o=n(97577),c=(n(18446),n(92795)),s=n(39432),u=n(35239),l=n(64396),p=n(87219),d=n(5724),f=n(19155),h=n.n(f),m=function(e,t,n){var r=n.find((function(t){return t.id===e})),a=r&&r.values.find((function(e){return e.id===t}));return a?a.values:[]},v=function(e,t,n,r){var a=t,i=m("DEFAULT","CATEGORY_TYPE",e),o=[{id:"QUESTIONAIRE",label:"\u95ee\u5377\u8c03\u7814",messageType:["MESSAGE_QUESTIONAIRE","ASPECT_ANALYSIS_QUESTIONAIRE"],val:17},{id:"APP_COMMENT",label:"\u5e94\u7528\u8bc4\u8bba",messageType:["MESSAGE_APP","ASPECT_ANALYSIS_APP","PRODUCT_COMMENT"],val:21},{id:"TICKET",label:"\u5de5\u5355",messageType:["MESSAGE_TICKET","ASPECT_ANALYSIS_TICKET","PRODUCT_ZENDESK_COMMENT"],val:22}],c=[];if(i.length)c=(c=o.filter((function(e){return i.includes(e.id)})).map((function(e){return e.val}))).length?c:["empty"];else if(r){var s=o.find((function(e){return e.messageType.includes(r)}));s&&(c=[s.val])}var u=[];u=["ASPECT_ANALYSIS_QUESTIONAIRE","ASPECT_ANALYSIS_TICKET","PRODUCT_ZENDESK_COMMENT","MESSAGE_TICKET"].includes(r)?["\u672c\u54c1"]:m("PRODUCT_INFO","PRODUCT_COMPETITION",e);var l=m("PRODUCT_INFO","PRODUCT_LINE",e);c.length||u.length||l.length?a=(0,p.ZP)(t,(function(e){var t=n.PRODUCT_INFO.data.sort((function(e,t){var n=e.productLine.toUpperCase(),r=t.productLine.toUpperCase();return n<r?-1:n>r?1:0}))||[];return e.map((function(e){"PRODUCT_INFO"===e.id&&e.data.map((function(e){var n=c.length?t.filter((function(e){return c.includes(+e.productCategoryId)})):[],r=c.length?n.filter((function(e){return!u.length||u.includes(e.competition)})):t.filter((function(e){return!u.length||u.includes(e.competition)})),a=r.filter((function(e){return!l.length||l.includes(e.productLine)}));return"PRODUCT_LINE"===e.id&&(e.options=h()(r.map((function(e){return{id:e.productLine,label:e.productLine}})),"id")),"PRODUCT_VERSION"===e.id&&(e.options=h()(a.map((function(e){return{id:e.productVersion,label:e.productVersion}})),"id")),e}));return e})),e})):a=(0,p.ZP)(a,(function(e){return e.forEach((function(e){"PRODUCT_INFO"===e.id&&e.data.forEach((function(e){e.options=e.options.sort((function(e,t){var n=e.id.toUpperCase(),r=t.id.toUpperCase();return n<r?-1:n>r?1:0}))}))})),e}));return a},y=["SOCIAL_FANS_COUNT","SOCIAL_CONTENT_LENGTH","COMMENT_LENGTH","CONTENT_BUSINESS_START_NUM","CONTENT_BUSINESS_MSG_LENGTH"],g=l.Z.IDBHeaderScreening.screening;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var x={relationData:new Map,deepCloneList:{}},I={screeningMap:[],curScreeningMap:void 0,screeningList:[],defaultConfig:void 0,oriDefaultConfig:void 0,screeningValues:[]};const b={namespace:g,state:Object.assign(I,{}),effects:{fetchDefaultConfig:i().mark((function e(t,n){var a,o,c,s,f,h,m,v,y,x,I,b,T,E,w,k,C,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,c=n.put,s=n.select,f=n.take,h=a.type,m=a.value,v=a.expandInfo,y=a.noSavingFilterList,x=a.projectId,u.t.set("curMessageType",h),e.next=6,s((function(e){return e[l.Z.global]}));case 6:return I=e.sent,b=I.publicResource,e.next=10,o(d.z1,{type:h,publicResource:b,projectId:x});case 10:return T=e.sent,e.next=13,c({type:"fetchScreeningMap",payload:{curShowList:T.ownerChecks.map((function(e){return e.id})),expandInfo:v,noSavingFilterList:y,defaultConfig:T,projectId:x,pageType:h}});case 13:return e.next=15,f("fetchScreeningMap/@@end");case 15:return e.next=17,s((function(e){return e[g]}));case 17:return E=e.sent,w=E.curScreeningMap,k=w.deepcopy(),C=(0,p.ZP)(T,(function(e){e.ownerChecked||(e.defaultChecksName.length?k.forEach((function(t){t.data.some((function(t){return t.id===e.defaultChecksName[0]}))&&(e.ownerChecked=[{id:t.id,values:e.defaultChecked.filter((function(t){return t.id===e.defaultChecksName[0]}))}])})):e.ownerChecked=[])})),S=m||C.ownerChecked||[],e.next=24,c({type:"save",payload:{defaultConfig:(0,r.Z)({},T,{ownerChecked:m||C.ownerChecked,defaultChecks:(0,p.ZP)(T.defaultChecks,(function(e){var t=e.find((function(e){return e.id===T.defaultChecksName[0]}));if(t){var n=(0,p.ZP)(t.values,(function(e){m&&m.some((function(e){return e.values.some((function(e){return e.id===T.defaultChecksName[0]}))}))&&m.find((function(e){return e.values.find((function(e){return e.id===T.defaultChecksName[0]}))})).values&&m.find((function(e){return e.values.find((function(e){return e.id===T.defaultChecksName[0]}))})).values.some((function(e){return e.id===T.defaultChecksName[0]}))&&m.find((function(e){return e.values.find((function(e){return e.id===T.defaultChecksName[0]}))})).values.find((function(e){return e.id===T.defaultChecksName[0]})).values.forEach((function(n){e.find((function(e){return e.id===n}))||(t.values.length<T.defaultNumberConfig?e.unshift({id:n,label:n}):t.values.length===T.defaultNumberConfig&&e.splice(t.values.length-1,1,{id:n,label:n}))}))}));t.values=n}})),defaultChecked:(0,p.ZP)(T.defaultChecked,(function(e){var t=e.find((function(e){return e.id===T.defaultChecksName[0]}));t&&(t.values=m&&m.find((function(e){return e.values.some((function(e){return e.id===T.defaultChecksName[0]}))}))?m.find((function(e){return e.values.find((function(e){return e.id===T.defaultChecksName[0]}))})).values.find((function(e){return e.id===T.defaultChecksName[0]})).values:t.values)}))}),oriDefaultConfig:(0,r.Z)({},T,{ownerChecked:m||C.ownerChecked,defaultChecks:(0,p.ZP)(T.defaultChecks,(function(e){var t=e.find((function(e){return e.id===T.defaultChecksName[0]}));if(t){var n=(0,p.ZP)(t.values,(function(e){m&&m.some((function(e){return e.values.some((function(e){return e.id===T.defaultChecksName[0]}))}))&&m.find((function(e){return e.values.find((function(e){return e.id===T.defaultChecksName[0]}))})).values&&m.find((function(e){return e.values.find((function(e){return e.id===T.defaultChecksName[0]}))})).values.some((function(e){return e.id===T.defaultChecksName[0]}))&&m.find((function(e){return e.values.find((function(e){return e.id===T.defaultChecksName[0]}))})).values.find((function(e){return e.id===T.defaultChecksName[0]})).values.forEach((function(n){e.find((function(e){return e.id===n}))||(t.values.length<T.defaultNumberConfig?e.unshift({id:n,label:n}):t.values.length===T.defaultNumberConfig&&e.splice(t.values.length-1,1,{id:n,label:n}))}))}));t.values=n}})),defaultChecked:(0,p.ZP)(T.defaultChecked,(function(e){var t=e.find((function(e){return e.id===T.defaultChecksName[0]}));t&&(t.values=m&&m.find((function(e){return e.values.some((function(e){return e.id===T.defaultChecksName[0]}))}))?m.find((function(e){return e.values.find((function(e){return e.id===T.defaultChecksName[0]}))})).values.find((function(e){return e.id===T.defaultChecksName[0]})).values:t.values)}))}),screeningValues:S,curScreeningMap:k,screeningList:k.deepcopy()}});case 24:return e.next=26,c({type:"refilterList"});case 26:return e.abrupt("return",e.sent);case 27:case"end":return e.stop()}}),e)})),fetchScreeningMap:i().mark((function e(t,n){var a,o,u,p,f,h,m,v,I,b,T,E,w,k,C,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,u=n.put,p=n.select,f=n.take,h=a.curShowList,m=a.expandInfo,a.noSavingFilterList,v=a.defaultConfig,I=a.projectId,b=a.pageType,e.next=5,p((function(e){return e[g]}));case 5:return T=e.sent,T.screeningMap,E=h.reduce((function(e,t){return e.push.apply(e,d.kL[t]||[]),e}),[]),e.next=10,u({type:l.Z.global+"/fetchPublicData",payload:{types:[].concat(E,["USER_FILTER","DEFAULT_VALUE","CHECK_OWNER","QUESTION_NAME"]),projectId:I}});case 10:return e.next=12,f(l.Z.global+"/fetchPublicData/@@end");case 12:return e.next=14,p((function(e){return e[l.Z.global]}));case 14:return w=e.sent,k=w.publicResource,e.next=18,o(d.oG,{curShowList:h,expandInfo:m,publicResource:k,pageType:b});case 18:return C=e.sent,S=C.map((function(e){var t=e.data;e.relation&&x.relationData.set(e.id,(0,c.I)(e.relation)),e.otherRelation&&e.otherRelation.forEach((function(e){x.relationData.set(e.id,(0,c.I)(e.relation))})),v.excludeAccountChecks&&v.excludeAccountChecks.length&&(t=v.excludeAccountChecks.some((function(t){return t.id===e.id}))?e.data.filter((function(t){return-1===v.excludeAccountChecks.find((function(t){return t.id===e.id})).values.indexOf(t.id)})):e.data);var n=v&&v.defaultChecked?v.defaultChecked.find((function(e){return e.id===v.defaultChecksName[0]})):null;return n&&e.data.some((function(e){return e.id===n.id}))&&e.data.some((function(e){return e.id===n.id&&(e.limit=n.isSelectAll?[0,0]:[1,v.defaultNumberChecked],e.filterType=1===v.defaultNumberChecked?"radio":void 0,e.closeable=!1,!0)})),e.data.some((function(e){return y.includes(e.id)}))&&e.data.forEach((function(e){y.includes(e.id)&&(e.filterType="radioLen")})),(0,r.Z)({},e,{data:t.map((function(e){return(0,r.Z)({},e,{options:e.options?(0,s.QM)(e.options,"label","z_p",e.id):e.options})}))})})),e.next=22,u({type:"save",payload:{curScreeningMap:S}});case 22:return x.deepCloneList.curScreeningMap=S.deepcopy(),e.abrupt("return");case 24:case"end":return e.stop()}}),e)})),screeningValuesChange:i().mark((function e(t,n){var r,a,o,c,s,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,console.time("filter"),e.next=5,o((function(e){return e[g]}));case 5:if(c=e.sent,s=c.screeningValues,u=s.deepcopy(),l=r.id,d=r.values,l){e.next=12;break}return console.error("\u6ca1\u6709id"),e.abrupt("return");case 12:return u=(u=(0,p.ZP)(u,(function(e){e.some((function(e){return e.id===l}))?e.find((function(e){return e.id===l})).values=d.deepcopy():e.push({id:l,values:d})}))).filter((function(e){return e.values.length>0})),e.next=16,a({type:"save",payload:{screeningValues:u}});case 16:return e.next=18,a({type:"refilterList"});case 18:return e.abrupt("return");case 19:case"end":return e.stop()}}),e)})),updateDefaultValue:i().mark((function e(t,n){var a,c,s,p,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,c=n.put,s=n.select,e.next=3,s((function(e){return e[g]}));case 3:return p=e.sent,f=p.defaultConfig,e.next=7,s((function(e){return e[l.Z.global]}));case 7:return h=e.sent,m=h.publicResource,e.next=11,a(d.QX,{value:f,type:f.pageType,publicResource:m});case 11:return v=e.sent,e.next=14,c({type:l.Z.global+"/save",payload:{publicResource:v}});case 14:return setTimeout((function(){return(0,o.Q6)((0,r.Z)({},f,{projectId:u.t.get(u.V.curProject).id}))}),0),e.abrupt("return");case 16:case"end":return e.stop()}}),e)})),defaultValueChange:i().mark((function e(t,n){var r,a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[g]}));case 4:return c=e.sent,s=c.defaultConfig,u=c.curScreeningMap,l=r.value,Object.keys(l).forEach((function(e){if(void 0!==l){if("defaultChecksName"===e){var t=u.map((function(e){return e.data.map((function(t){return t.fatherId=e.id,t}))})).flat(2);s.ownerChecked=[{id:t.find((function(e){return e.id===l.defaultChecksName[0]})).fatherId,values:[{id:l.defaultChecksName[0],values:s.defaultChecked.find((function(e){return e.id===l.defaultChecksName[0]})).values}]}]}s[e]=l[e]}})),e.next=11,a({type:"save",payload:{defaultConfig:JSON.parse(JSON.stringify(s)),screeningValues:JSON.parse(JSON.stringify(s.ownerChecked)),oriDefaultConfig:JSON.parse(JSON.stringify(s))}});case 11:return e.next=13,a({type:"refilterList"});case 13:return e.next=15,a({type:"updateDefaultValue"});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})),refilterList:i().mark((function e(t,n){var a,o,s,d,f,h,m,y,I,b,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[g]}));case 4:return s=e.sent,d=s.screeningValues,f=s.curScreeningMap,e.next=9,o((function(e){return e[l.Z.global]}));case 9:return h=e.sent,m=h.publicResource,y=x.deepCloneList.curScreeningMap,(I=d.deepcopy()).forEach((function(e){f.forEach((function(t){e.id===t.id&&t.relation?y=y.map((function(e){var n=(0,r.Z)({},e);if(e.id===t.id){var a=(0,c.y)(f.filter((function(t){return t.id===e.id}))[0].data,I.deepcopy().filter((function(t){return t.id===e.id}))[0].values,t.relation,x.relationData.get(t.id)).list;n.data=a,n.has=!0}else e.has||(n.data=f.find((function(t){return t.id===e.id})).data);return n})):e.id===t.id&&t.otherRelation&&t.otherRelation.forEach((function(e){y=y.map((function(n){var a=(0,r.Z)({},n);if(n.id===e.id){var i=(0,c.y)(f.filter((function(e){return e.id===n.id}))[0].data,I.deepcopy().filter((function(e){return e.id===t.id}))[0].values,e.relation,x.relationData.get(e.id)).list;a.data=i,a.has=!0}else n.has||(a.data=f.find((function(e){return e.id===n.id})).data);return a}))}))}))})),y.forEach((function(e){return delete e.has})),y.forEach((function(e){if(e.relation){var t=I.find((function(t){return t.id===e.id}));t&&(t.values.forEach((function(t){e.data.some((function(e){if(t.id===e.id){var n=e.options.map((function(e){return e.id}));return t.values=t.values.filter((function(e){return n.includes(e)})),!0}return!1}))})),t.values=t.values.filter((function(e){return e.values.length>0})))}})),setTimeout((function(){return x.deepCloneList.curScreeningMap=f.deepcopy()}),0),b=u.t.get("curMessageType"),y=v(I,y,m,b),T=(0,p.ZP)(y,(function(e){return e.map((function(e){return e.otherRelation&&delete e.otherRelation,e.relation&&delete e.relation,e})),e})),console.timeEnd("filter"),e.next=23,a({type:"save",payload:{screeningList:T,screeningValues:I}});case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e)})),clearAllValues:i().mark((function e(t,n){var r,a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,a=n.select,e.next=4,a((function(e){return e[g]}));case 4:return o=e.sent,c=o.defaultConfig,s=o.screeningValues,u=c.defaultChecked.find((function(e){return e.id===c.defaultChecksName[0]})),l=s.deepcopy(),l=u?l.filter((function(e){return!!e.values.some((function(e){return e.id===u.id}))&&(e.values=e.values.filter((function(e){return e.id===u.id})),!0)})):[],e.next=12,r({type:"save",payload:{screeningValues:l}});case 12:return e.next=14,r({type:"refilterList"});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})),updateScreeningValues:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.select,e.next=4,a({type:"save",payload:{screeningValues:r}});case 4:return e.next=6,a({type:"refilterList"});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(){return Object.assign(I)}}}},97577:(e,t,n)=>{"use strict";n.d(t,{Q6:()=>a});var r=n(49722);function a(e){var t=e.checkAccountId,n=e.defaultChecked,a=e.defaultChecks,i=e.defaultChecksName,o=e.defaultNumberChecked,c=e.defaultNumberConfig,s=e.accountChecks,u=e.ownerChecked,l=e.ownerChecks,p=e.pageType,d=e.projectId,f=e.expandInfo;return r.h.post("/check/owner/save",{checkAccountId:t,defaultChecked:n,defaultChecks:a,defaultChecksName:i,defaultNumberChecked:o,defaultNumberConfig:c,accountChecks:s,ownerChecked:u,ownerChecks:l,pageType:p,projectId:d,expandInfo:f})}},92795:(e,t,n)=>{"use strict";n.d(t,{y:()=>r,I:()=>a}),Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var r=function(e,t,n,r){var a=t.deepcopy(),i=e.deepcopy();a.forEach((function(e,t){return e.index=t+1})),i.forEach((function(e){a.forEach((function(t){e.id===t.id&&(e.index=t.index,e.unRelation&&(t.unRelation=!0)),e.unRelations&&e.unRelations.includes(t.id)&&(t.unRelation=!0)}))}));for(var o=function(){var e=a.shift(),t=new Set;if(e.unRelation||"CUSTOMER_NAME"===e.id||e.isSelectAll)return"continue";e.values.forEach((function(e){for(var a=0;a<n[0].length;a++){var i;null!=r&&null!=(i=r.get(a))&&i.has(e)&&r.get(a).get(e).forEach((function(e){return n[e]&&n[e].forEach((function(e){return t.add(e.id)}))}))}})),i.forEach((function(n){n.options&&(n.index>e.index||!n.index)&&!n.unRelation&&(n.options=n.options.filter((function(e){return t.has(e.id)&&t.delete(e.id)}))),n.options&&n.index===e.index&&1===e.index&&!n.unRelation&&(n.options=n.options.filter((function(e){return t.has(e.id)&&t.delete(e.id)}))),null!=i&&i.some((function(e){return"radio"===e.filterType}))&&n.options&&n.index<e.index&&!n.unRelation&&(n.options=n.options.filter((function(e){return t.has(e.id)})))}))};a.length>0;)o();return i.forEach((function(e){delete e.index})),{list:i}},a=function(e){var t=new Map;if(null==e||!e.length)return t;for(var n=e[0].length,r=0;r<n;r++)t.set(r,new Map);return e.forEach((function(e,n){e.forEach((function(e,r){t.get(r).has(e.id)||t.get(r).set(e.id,[]),t.get(r).get(e.id).push(n)}))})),t}},94052:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(18446),c=n.n(o),s=n(87219),u=n(64396),l=u.Z.IDBHeaderScreening.headerScreening,p=u.Z.IDBHeaderScreening.screening,d=u.Z.IDBHeaderScreening.savedScreening,f=u.Z.IDBHeaderScreening.timeScreening,h=u.Z.IDBHeaderScreening.quickTimeScreening;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var m={showKind:null,showAdvanced:!1,content:[{}],advancedFilter:{}};const v={namespace:l,state:Object.assign(m,{}),effects:{init:i().mark((function e(t,n){var r,a,o,c,s,l,m,v,y,g,x,I,b,T,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.select,n.call,o=n.take,n.takeEvery,time("init-all"),c=r.showList,s=r.screening,l=r.type,m=r.dateValue,v=r.contentValue,y=r.hasHour,g=r.filterId,x=r.resourceKeys,I=r.projectId,e.next=6,a({type:u.Z.global+"/init"});case 6:return e.next=8,o(u.Z.global+"/init/@@end");case 8:if(!v){e.next=11;break}return e.next=11,a({type:"save",payload:{content:v}});case 11:return b=s.value,T=s.noSavingFilterList,E=b||void 0,e.t0=Promise,e.next=16,a({type:d+"/init",payload:{type:l,filterId:g}});case 16:return e.t1=e.sent,e.next=19,a({type:p+"/fetchDefaultConfig",payload:{type:l,value:E,noSavingFilterList:T,expandInfo:{type:l,resourceKeys:x},projectId:I}});case 19:return e.t2=e.sent,e.next=22,a({type:c&&c.includes("quickDate")?h+"/init":f+"/init",payload:{type:l,params:m,hasHour:y}});case 22:return e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.abrupt("return",e.t0.all.call(e.t0,e.t4).then((function(e){timeE("init-all")})));case 25:case"end":return e.stop()}}),e)})),clearAllValues:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,n.select,e.next=4,r({type:p+"/clearAllValues"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),changeScreenValues:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.select,e.next=4,a({type:p+"/updateScreeningValues",payload:r});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),savedFilterChange:i().mark((function e(t,n){var r,a,o,c,s,u,l,d,f,h,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,n.take,e.next=4,o((function(e){return e[p]}));case 4:return c=e.sent,s=c.oriDefaultConfig,u=c.defaultConfig,l=r.selFilterObj,d=r.selFilterSelected,e.next=10,a({type:"contentChange",payload:l&&l.id?d.content:[{}]});case 10:return f=l&&l.id&&d.fastFilterValues?Object.assign(JSON.parse(JSON.stringify(u)),{defaultChecked:[].concat(u.defaultChecked.filter((function(e){return e.id!==d.fastFilterValues.defaultChecksName[0]})),[d.fastFilterValues.defaultChecked[0]]),defaultChecks:[].concat(u.defaultChecks.filter((function(e){return e.id!==d.fastFilterValues.defaultChecksName[0]})),[d.fastFilterValues.defaultChecks[0]]),defaultChecksName:d.fastFilterValues.defaultChecksName}):s,e.next=13,a({type:p+"/save",payload:{defaultConfig:f}});case 13:return h=f.defaultChecked.find((function(e){return e.id===f.defaultChecksName[0]})),m=[],m=h?f.ownerChecked.filter((function(e){return!!e.values.some((function(e){return e.id===h.id}))&&(e.values=e.values.filter((function(e){return e.id===h.id})),!0)})):[],e.next=18,a({type:p+"/updateScreeningValues",payload:l&&l.id?d.screeningValues:m});case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)})),defaultValueChange:i().mark((function e(t,n){var r,a,o,c,s,u,l,d,f,h,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[p]}));case 4:if(c=e.sent,s=c.defaultConfig,u=c.screeningValues,l=c.curScreeningMap,d=r.value,f=r.from,void 0!==d){e.next=11;break}return e.abrupt("return");case 11:return Object.keys(d).forEach((function(e){var t=u.deepcopy();s[e]=d[e],"defaultChecked"===e?l.forEach((function(e){e.data.some((function(e){return e.id===s.defaultChecksName[0]}))&&(h=e.id,m=[{id:s.defaultChecksName[0],values:d.defaultChecked.find((function(e){return e.id===s.defaultChecksName[0]})).values,isSelectAll:d.defaultChecked.find((function(e){return e.id===s.defaultChecksName[0]})).isSelectAll}],s.ownerChecked=[].concat(t.filter((function(t){return t.id!==e.id})),[{id:e.id,values:d.defaultChecked.filter((function(e){return e.id===s.defaultChecksName[0]}))}]),v=s.ownerChecked)})):"defaultChecksName"===e&&l.forEach((function(e){e.data.some((function(e){return e.id===d.defaultChecksName[0]}))&&(h=e.id,m=[{id:d.defaultChecksName[0],values:s.defaultChecked.find((function(e){return e.id===d.defaultChecksName[0]})).values,isSelectAll:s.defaultChecked.find((function(e){return e.id===d.defaultChecksName[0]})).isSelectAll}],s.ownerChecked=[{id:h,values:m}],v=s.ownerChecked)}))})),e.next=14,a({type:p+"/save",payload:Object.assign({defaultConfig:JSON.parse(JSON.stringify(s))},v?{screeningValues:v}:{})});case 14:return e.next=16,a({type:p+"/screeningValuesChange",payload:{id:"model"===f?"":h,values:m}});case 16:return e.next=18,a({type:p+"/updateDefaultValue"});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})),freshFastFilter:i().mark((function e(t,n){var r,a,o,u,l,d,f,h,m,v,y,g,x,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,r=n.put,a=n.select,e.next=4,a((function(e){return e[p]}));case 4:return o=e.sent,u=o.screeningValues,l=o.defaultConfig,d=o.screeningList,f=JSON.parse(JSON.stringify(l)),h=u.map((function(e){return e.values})).flat(1),m=JSON.parse(JSON.stringify(f)),v=m.defaultChecks,y=f.defaultChecked.find((function(e){return e.id===f.defaultChecksName[0]})),g=y?v.find((function(e){return e.id===f.defaultChecksName[0]})).values:void 0,y&&h.some((function(e){return e.id===y.id}))&&h.forEach((function(e){e.id===y.id&&(c()(y.values,e.values)||(y.values=e.values,x=f.defaultChecked.deepcopy()),c()(y.isSelectAll,e.isSelectAll)||"boolean"!==typeof y.isSelectAll||(y.isSelectAll=e.isSelectAll,x=(0,s.ZP)(f.defaultChecked.deepcopy(),(function(t){t.find((function(e){return e.id===y.id})).isSelectAll=e.isSelectAll}))),e.values.some((function(e){return!g.map((function(e){return e.id})).includes(e)}))&&e.values.filter((function(e){return!g.map((function(e){return e.id})).includes(e)})).forEach((function(t){var n=d.map((function(e){return e.data})).flat(1).find((function(e){return e.id===y.id})).options.find((function(e){return e.id===t})).label;if(g.length>=f.defaultNumberConfig)for(var r=g.length-1;r>0;r--)if(!e.values.includes(g[r].id)){g.splice(r,1);break}g.unshift({id:t,label:n})})))})),y&&x&&((I=JSON.parse(JSON.stringify(x))).some((function(e){return e.id===f.defaultChecksName[0]&&(e.values=g.filter((function(t){return e.values.includes(t.id)})).map((function(e){return e.id})),!0)})),x=I),e.next=17,r({type:p+"/save",payload:{defaultConfig:Object.assign(l,{defaultChecked:x||l.defaultChecked,defaultChecks:v,ownerChecked:u}),oriDefaultConfig:Object.assign(l,{defaultChecked:x||l.defaultChecked,defaultChecks:v,ownerChecked:u})}});case 17:return e.next=19,r({type:p+"/updateDefaultValue"});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})),clearSaveFilter:i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,e.next=4,r({type:d+"/clearSaveFilter"});case 4:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e){return Object.assign(m,{})},contentChange:function(e,t){var n=t.payload;return(0,r.Z)({},e,{content:n})},changeShow:function(e,t){var n=t.payload;return(0,r.Z)({},e,{showKind:void 0===n?null:n})},changeAdvancedShow:function(e,t){var n=t.payload;return(0,r.Z)({},e,{showAdvanced:void 0===n?!e.showAdvanced:n})}}}},84910:(e,t,n)=>{"use strict";n.d(t,{Z8:()=>r,mC:()=>a,WN:()=>i,kY:()=>o});var r=function(e,t,n){var r=JSON.parse(JSON.stringify(e));r.forEach((function(e){n.forEach((function(t){e.id===t.id&&(e.label=t.label,e.values.forEach((function(e){t.data.forEach((function(t){e.id===t.id&&(e.label=t.label,e.values=e.values.map((function(e){var n={id:e};return t.options.forEach((function(t){e===t.id&&(n.label=t.label)})),n})))}))})))}))}));var a=t.defaultChecked.find((function(e){return e.id===t.defaultChecksName[0]}))||{};return a.isSelectAll&&r.forEach((function(e){e.values.some((function(e){return e.id===t.defaultChecksName[0]}))&&e.values.forEach((function(e){e.id===t.defaultChecksName[0]&&(e.values=[{label:"\u5168\u90e8"}])}))})),{filterValue:r,analysisModel:JSON.parse(JSON.stringify(r)).filter((function(e){return!!e.values.some((function(e){return e.id===t.defaultChecksName[0]}))&&(e.values=e.values.filter((function(e){return e.id===t.defaultChecksName[0]})),e.values=a.isSelectAll?[{label:"\u5168\u90e8"}]:e.values,!0)}))}};function a(e){switch(e){case"FREE_EXPLORE_MSG_COMMENT":case"ASPECT_ANALYSIS_COMMENT":return"\u7535\u5546\u8bc4\u8bba";case"FREE_EXPLORE_MSG_QUESTIONAIRE":case"MESSAGE_QUESTIONAIRE":return"\u8c03\u67e5\u95ee\u5377";case"ASPECT_ANALYSIS_QUESTIONAIRE":return"\u95ee\u5377\u8c03\u7814";case"FREE_EXPLORE_MSG_SERVICE":case"ASPECT_ANALYSIS_SERVICE":return"\u5ba2\u670d\u4f1a\u8bdd";case"ASPECT_ANALYSIS_APP":return"\u5e94\u7528\u8bc4\u8bba";case"ASPECT_ANALYSIS_TICKET":return"\u5de5\u5355";case"FREE_EXPLORE_MSG_SELF":case"ASPECT_ANALYSIS_SELF":return"\u5185\u5bb9\u7535\u5546";default:return e}}var i=function(e){switch(e){case"ASPECT_ANALYSIS_COMMENT":return"1";case"ASPECT_ANALYSIS_QUESTIONAIRE":return"17";case"ASPECT_ANALYSIS_SERVICE":return"8";case"ASPECT_ANALYSIS_APP":return"21";case"ASPECT_ANALYSIS_TICKET":return"22";case"ASPECT_ANALYSIS_SELF":return"12";default:return e}};function o(e){switch(e){case"FREE_EXPLORE_MSG_COMMENT":case"FREE_EXPLORE_MSG_QUESTIONAIRE":case"FREE_EXPLORE_MSG_SERVICE":case"FREE_EXPLORE_MSG_SELF":return"FREE_EXPLORING";default:return e}}},23570:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(87462),a=n(63366),i=n(94578),o=n(67294),c=n(45697),s=n.n(c),u=["className","type","maxLength"],l=function(e){function t(t){var n;return(n=e.call(this,t)||this).isCompositionHandling=!1,n.inputRef=o.createRef(),n._handlingOnComposition=function(){n.isCompositionHandling=!0},n._handleOnComposition=function(e){n.isCompositionHandling=!1,n._handleOnChange(e)},n._handleOnChange=function(e){if(!n.isCompositionHandling){var t=n.props,r=t.maxLength,a=t.onChange;e.target.value.length>r?(e.target.value=e.target.value.substring(0,r),n.setState({test:!1}),a&&a(e,n.inputRef.current,"\u6700\u591a\u8f93\u5165"+r+"\u5b57")):(n.setState({test:!0}),a&&a(e,n.inputRef.current))}},n._handleOnBlur=function(e){var t=n.props.onBlur;n.setState({test:!0}),t&&t(e)},n.state={test:!0},n}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.autoFocus&&this.inputRef.current.focus()},n.render=function(){var e=this.props,t=e.className,n=e.type,i=(e.maxLength,(0,a.Z)(e,u)),c=this.state.test;return"textarea"===n?o.createElement("textarea",(0,r.Z)({rows:5},i,{ref:this.inputRef,className:"yt_lazy_textarea_wrapper "+t+" "+(c?"":"yt_lazy_input_error_wrapper"),onChange:this._handleOnChange,onBlur:this._handleOnBlur,onCompositionStart:this._handlingOnComposition,onCompositionUpdate:this._handlingOnComposition,onCompositionEnd:this._handleOnComposition})):o.createElement("input",(0,r.Z)({},i,{ref:this.inputRef,className:"yt_lazy_input_wrapper "+t+" "+(c?"":"yt_lazy_input_error_wrapper"),onChange:this._handleOnChange,onBlur:this._handleOnBlur,onCompositionStart:this._handlingOnComposition,onCompositionUpdate:this._handlingOnComposition,onCompositionEnd:this._handleOnComposition}))},t}(o.PureComponent);const p=l;l.propTypes={className:s().string,autoFocus:s().bool,onBlur:s().func}},71322:(e,t,n)=>{"use strict";n.d(t,{Z:()=>te});var r=n(87462),a=n(63366),i=n(94578),o=n(23279),c=n.n(o),s=n(50361),u=n.n(s),l=n(67294),p=n(61409),d=n(28005),f=(n(43378),n(62443)),h=(n(54277),n(74048)),m=(n(1025),n(65400)),v=n(49722),y=n(61193),g=n(92360),x=n(5133),I=n(43036),b=n(55609),T=n(35239),E=n(44600),w=n(64396),k=n(87219),C=n(1798),S=n.n(C),N=["detail","sentimentSubjectList","loading"],O=w.Z.userState.message,_=w.Z.public.menu,j=w.Z.userLogin,A=l.createRef(),D=function(e){function t(t){var a,i,o;return(o=e.call(this,t)||this)._handleOnWsMessage=function(e){var t=e.data,n=o.state.projectId,r=o.props,a=r.unreadCount,i=r.messageList,c=r.dispatch;if(t.type&&"ws"===t.type){var s=t.payload,u=s.type,l=s.result;"NEW_MESSAGE_REMIND"===u?l&&l.list&&Array.isArray(l.list)&&l.list.length>0&&c({type:O+"/save",payload:{unreadCount:a+l.list.length,messageList:[l.list[0]].concat(i)}}):"MESSAGE_TOTAL"===u?o.props.dispatch({type:"project/saveState",payload:{data:l.list?l.list:[]}}):"ASPECT_WARNING_UNREAD_TOTAL"===u&&l.projectId===n&&o.context.setWarningCount(o.context.getWarningCount()+l.unreadNumber)}},o.oneHandler=function(e){(o.state.messageListShow||o.state.isShowUserPannel)&&((o.state.open||o.state.messageListShow)&&o.setState({open:!1,messageListShow:!1}),o.setState({isShowUserPannel:!1}))},o.toggleMessagePanel=function(e){var t=o.state.messageListShow;t&&e.stopPropagation(),setTimeout((function(){o.setState({messageListShow:!t})}),0)},o.getList=function(){var e=o.state,t=e.pageIndex,n=e.pageSize,r=o.props.timestamp;o.props.dispatch({type:O+"/fetchUserStateList",payload:{pageIndex:t,pageSize:n,timestamp:r,PROGRESS:!1}}).then((function(e){if(e){var t=((e||{}).result||{}).list;o.setState({canGetMsgList:!0,hasMore:!(t.length<n)})}}))},o.clickMessage=function(e){var t=o.props,n=t.dispatch,r=(t.detail,t.aspectWarningCount),a=t.unreadCount,i=t.messageList,c=e.id,s=e.type,u=e.relationId,l=e.message;v.h.post("/message/remind/read",{id:c}).then((function(e){if(e.status>=200&&e.status<=304&&e.data.result){switch(s){case"DOWNLOAD_SUCCESS":o.downloadExcel(u);break;case"OPINION_TASK_FINISH":window.open("/opinionDetail?id="+u);break;case"ASPECT_WARNING":i.find((function(e){return e.id===c})).read||n({type:_+"/save",payload:{aspectWarningCount:r-1}}),A.current.wrappedInstance.ready({id:u,title:l})}if(!i.find((function(e){return e.id===c})).read){var t=(0,k.ZP)(i,(function(e){e.forEach((function(e){e.id===c&&(e.read=!0)}))}));n({type:O+"/save",payload:{unreadCount:a-1,messageList:t}})}}}))},o.readAll=function(){for(var e=o.props,t=e.messageList,n=e.timestamp,r=e.dispatch,a=!0,i=0;i<t.length;i++)if(!t[i].read){a=!1;break}a?x.Z.warning("\u5f53\u524d\u6d88\u606f\u5df2\u5168\u4e3a\u5df2\u8bfb\u72b6\u6001"):v.h.get("/message/remind/read/all?timestamp="+n).then((function(e){e.status>=200&&e.status<=304&&(e.data.result&&(t.forEach((function(e){e.read=!0})),r({type:O+"/save",payload:{unreadCount:0,messageList:t}}),x.Z.success("\u64cd\u4f5c\u6210\u529f")))}))},o.handleScroll=function(){var e=o.state,t=e.canGetMsgList,n=e.pageIndex,r=(e.pageSize,e.hasMore),a=o.props,i=a.messageList,c=a.dispatch,s=document.getElementsByClassName("message-panel-body")[0],u=s.scrollTop,l=s.offsetHeight,p=s.scrollHeight-u-l;o.setState({bottomDistance:p}),p>30||!t||!r||(c({type:O+"/save",payload:{messageList:i}}),o.setState({canGetMsgList:!1,pageIndex:n+1},(function(){return o.getList()})))},o._goBusinessCenter=function(){y.Z.hasAuthority("ACCOUNT_OVERVIEW")&&p.mW.push("/account/overview");var e=(0,d.Rh)(),t=(0,d.wQ)(e);p.mW.push(t)},o.projectSettiing=function(e){var t=T.t.get(T.V.curProject),n=t.name,r=t.id;e.nativeEvent.stopImmediatePropagation(),e.stopPropagation(),T.t.set(T.V.backProjectConfig,{name:n,id:r});var a=(0,d.Mp)(),i=o.getFirstAuthorityPath(a[0].child);p.mW.push(i||"/account/project/preview"),document.body.click()},o.getFirstAuthorityPath=function(e){var t=e.find((function(e){return e.path&&(!e.authority||y.Z.hasAuthority(e.authority))&&(!e.projectAuthority||(T.t.get(T.V.curProject).submenu||[]).includes(e.projectAuthority))}));return(null==t?void 0:t.path)||""},o.showUserPannel=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=o.state.isShowUserPannel;o.setState({isShowUserPannel:!t,messageListShow:!1})},o.getPictureUrl=function(e,t){return Array.isArray(e.projects)&&e.projects.filter((function(e){return e.id===t}))[0]&&e.projects.filter((function(e){return e.id===t}))[0].pictureUrl},o.handleUpdateInfo=function(e){var t=o.props,n=t.versionInfo,a=t.dispatch;e.includes("save")&&(a({type:O+"/save",payload:{versionInfo:(0,r.Z)({},n,{isRemind:!1})}}),a({type:O+"/finishRemind",payload:{versionNumber:n.versionNumber}})),e.includes("skip")&&window.open("/helpCenter","_blank")},o.state={open:!1,profilePic:(null==(a=y.Z.getUser())?void 0:a.headPic)||n(7732),total:0,messageListShow:!1,pageIndex:1,pageSize:10,bottomDistance:0,canGetMsgList:!0,hasMore:!0,loading:!1,projectId:null==(i=T.t.get(T.V.curProject))?void 0:i.id,project:T.t.get(T.V.project)||[],isShowUserPannel:!1,username:void 0},o}(0,i.Z)(t,e);var a=t.prototype;return a.componentDidMount=function(){document.getElementsByClassName("message-panel-body")[0].addEventListener("scroll",this.handleScroll),document.addEventListener("click",this.oneHandler),this.getList(),this.props.dispatch({type:O+"/fetchVersionInfo"}),window.addEventListener("message",this._handleOnWsMessage)},a.componentDidUpdate=function(){var e=this;S().subscribe("currentPersonalDetails",(function(t,n){e.setState({username:n})}))},a.componentWillUnmount=function(){document.getElementsByClassName("message-panel-body")[0].removeEventListener("scroll",this.handleScroll),this.state.lineJob&&clearInterval(this.state.lineJob),document.removeEventListener("click",this.oneHandler),clearInterval(this.getUnreadCountInterval),window.removeEventListener("message",this._handleOnWsMessage)},a.logout=function(){v.h.get("/logout").then((function(e){y.Z.destroy(),sessionStorage.clear(),p.mW.push("/login"),localStorage.removeItem("authorization"),window.location.reload()}))},a.goSetting=function(e){p.mW.push("/personalSettings/overview"),setTimeout((function(){return document.querySelector("#app").click()}),100)},a.downloadExcel=function(e){v.h.post("/data/download",{id:e}).then((function(e){if(2e4===e.data.code){var t=document.createElement("a"),n=e.data.result.url;t.href=n,t.click()}}))},a.goWiki=function(){window.open("http://wiki.yuntingai.com/pages/viewpage.action?pageId=65609&os_username=yuntingguest&os_password=skieer@2019&os_cookie=true&login=%E7%99%BB%E5%BD%95&os_destination=")},a.exchangeProjectIndex=function(e){var t=this.state.project.filter((function(t){return t.id===e}))[0];T.t.set(T.V.curProject,t),this.props.dispatch({type:j+"/switchProjectPermission",payload:{id:e}})},a.selectProject=function(e,t){var n=this,r=this.state.project;r.forEach((function(e){e.sel=!1}));var a=r.find((function(e){return e.id===t}));a.sel=!0,this.props.fetchPublicData({projectId:e.id}).then((function(){setTimeout((function(){n.exchangeProjectIndex(e.id);var t=function(){var e=(0,d.sQ)(),t=(0,d.wQ)(e);window.location.replace(t)};sessionStorage.setItem(T.V.linkManagementFilter,null);/\/account\/project\//.test(location.pathname)?(T.t.set(T.V.backProjectConfig,a),window.location.href="/account/project/preview"):/\/nps\//.test(location.pathname)||/\/satisfaction\//.test(location.pathname)?(T.t.set(T.V.backProjectConfig,a),window.location.href="/research/manage"):e.projectType&&e.projectType.length>0?e.projectType.includes("MESSAGE")?y.Z.hasAuthority("MESSAGE")?window.location.replace(window.location.origin+"/inbox/public"):t():e.projectType.includes("PRICE_MONITORING")?window.location.replace(window.location.origin+"/price/realTimePrice"):e.projectType.includes("PLUGIN")?window.location.replace(window.location.origin+"/collection/manage"):t():t(),n.props.onDataChange(),T.t.set(T.V.storageColumns,"")}),100)}))},a.render=function(){var e=this,t=this.state,r=t.project,a=(t.open,t.profilePic),i=t.messageListShow,o=t.isShowUserPannel,c=this.props,s=c.fetchLoading,u=c.messageList,p=c.unreadCount,d=c.menuList,v=c.versionInfo,x=c.children,b=c.projectPermissions,T=c.accountPermissions,w=n(33185);return l.createElement("div",{className:"user",id:"topHeaderUser"},l.createElement("div",{className:"wrap"},b.length>0&&l.createElement(l.Fragment,null,x),T.length>0&&l.createElement(l.Fragment,null,y.Z.hasAuthority("MANAGEMENT")&&l.createElement(I.Z,{placement:"bottom",overlay:"\u4f01\u4e1a\u4e2d\u5fc3",mouseEnterDelay:.6},l.createElement("div",{onClick:this._goBusinessCenter},l.createElement("i",{className:"icon-qiyezhongxin"})))),b.length>0&&l.createElement(l.Fragment,null,i?l.createElement("div",{className:i?"active":"",onClick:this.toggleMessagePanel},l.createElement("i",{className:"icon-xiaoxi"},p>0&&l.createElement("div",{className:"unreadCount"},p>99?"99+":p))):l.createElement(I.Z,{placement:"bottom",overlay:"\u6d88\u606f",mouseEnterDelay:.6},l.createElement("div",{className:i?"active":"",onClick:this.toggleMessagePanel},l.createElement("i",{className:"icon-xiaoxi"},p>0&&l.createElement("div",{className:"unreadCount"},p>99?"99+":p)))),v.versionNumber&&(v.isRemind?l.createElement(f.default,{placement:"bottomRight",getPopupContainer:function(){return document.querySelector(".isFirst")},arrowPointAtCenter:!0,defaultVisible:!0,visible:!0,color:"#1890FF",content:l.createElement("div",{className:"update"},v.picUrl?l.createElement("img",{src:v.picUrl}):"",l.createElement("div",{className:"update-info",dangerouslySetInnerHTML:{__html:v.digest}}),l.createElement("div",{className:"update-button"},l.createElement(h.default,null,l.createElement(m.default,{type:"primary",onClick:function(){return e.handleUpdateInfo("save")}},"\u77e5\u9053\u4e86"),l.createElement(m.default,{onClick:function(){return e.handleUpdateInfo("saveskip")}},"\u67e5\u770b\u66f4\u591a"))))},l.createElement("div",null,l.createElement("i",{className:"icon-bangzhuzhongxin isFirst"}))):l.createElement(I.Z,{placement:"bottom",overlay:"\u5e2e\u52a9\u4e2d\u5fc3",mouseEnterDelay:.6},l.createElement("div",{onClick:function(){return e.handleUpdateInfo("skip")}},l.createElement("i",{className:"icon-bangzhuzhongxin"}))))),l.createElement("div",{className:"userinfo",onClick:function(t){return e.showUserPannel(t)}},l.createElement("img",{className:"portrait",src:a,alt:""}),l.createElement("span",{className:"username"},this.username?this.username:y.Z.getUser()?y.Z.getUser().username:"customer",l.createElement("i",{className:"icon-cem_pull-down-or-take-up"})),l.createElement("div",{className:"drop",style:{display:o?"block":"none"}},l.createElement("ul",{className:"settingList"},l.createElement("li",{className:"defaultLi",onClick:this.goSetting},l.createElement("span",null,"\u4e2a\u4eba\u4e2d\u5fc3")),b.length>0&&l.createElement(l.Fragment,null,l.createElement("li",{className:"defaultLi switchLi"},l.createElement("span",null,"\u5207\u6362\u9879\u76ee"),l.createElement("ul",{className:"projectList",id:"projectList"},r.map((function(t,n){return l.createElement("li",{className:null!=t&&t.sel?"sel":"",key:t.name,onClick:function(){return e.selectProject(t,t.id)}},l.createElement("img",{src:e.getPictureUrl(d,t.id)?"http://yunting-1251101074.coscd.myqcloud.com"+e.getPictureUrl(d,t.id):w,className:"project_small_logo"}),l.createElement("span",{className:"project_small_name",title:t.name},t.name))})))),y.Z.hasAuthority("PROJECT_MANAGE")&&l.createElement("li",{className:"defaultLi",onClick:function(t){return e.projectSettiing(t)}},l.createElement("span",null,"\u9879\u76ee\u8bbe\u7f6e"))),v.versionNumber&&l.createElement("li",{className:"defaultLi versionLi switchLi"},l.createElement("span",null,"\u7248\u672c\u4fe1\u606f"),l.createElement("ul",{className:"projectList versionUl"},v.versionNumber)),l.createElement("li",{className:"logout",onClick:this.logout.bind(this)},l.createElement("span",null,"\u9000\u51fa\u767b\u5f55")))))),l.createElement("div",{className:"message-panel",style:{display:i?"inline-block":"none"},onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},l.createElement("div",{className:"message-panel-body"},u.length>0?u.map((function(t,n){return l.createElement("div",{key:n,onClick:e.clickMessage.bind(e,t),className:"message"},l.createElement("div",{className:t.read?"read":"unread"},!t.read&&l.createElement("span",{className:"dot"}),l.createElement("span",{style:{paddingLeft:t.read?"0":"6px"}},t.message)),l.createElement("div",null,t.time&&t.time.substring(0,10)))})):l.createElement("div",{className:"noDataTip"},"\u6682\u65f6\u6ca1\u6709\u65b0\u6d88\u606f"),l.createElement(g.Loading,{loading:s})),l.createElement("div",{className:"message-panel-footer",style:{pointerEvents:u.length>0?"auto":"none"}},l.createElement("span",{onClick:this.readAll},l.createElement("span",null,"\u5168\u90e8\u8bbe\u4e3a\u5df2\u8bfb"),l.createElement("i",{className:"icon-cem_check-out"})))),l.createElement(E.Z,{ref:A}))},t}(l.Component);const M=(0,b.connect)((function(e){var t=e.detail,n=(e.sentimentSubjectList,e.loading),i=(0,a.Z)(e,N);return(0,r.Z)({detail:t,aspectWarningCount:i[_].aspectWarningCount,menuList:i[_].menuList},i[O],{fetchLoading:n.effects[O+"/fetchUserStateList"]||!1,fetchVersionLoading:n.effects[O+"/fetchVersionInfo"]||!1,accountPermissions:i[j].accountPermissions,projectPermissions:i[j].projectPermissions})}))(D);var R,L={type:"ping"};var P=n(39432),F=(n(89858),n(51024)),Z=n(85564),V=n.n(Z),z=n(85980),U=n(71933),B=F.default.Search,q=["disabled"];const W=function(e){var t=e.onClose,n=e.menu;if(!e.visible)return null;var r=(0,l.useRef)(null),a=(0,l.useState)(""),i=a[0],o=a[1],c=(0,l.useState)([]),s=c[0],u=c[1],d=(0,l.useState)([]),f=d[0],h=d[1],m=(0,l.useState)([]),y=m[0],g=m[1],x=T.t.get(T.V.curProject).id,I=function(e){v.h.post("/menu/page/click",{projectId:x,pageType:e.path}).then((function(n){n.data;t(),p.mW.push({pathname:e.path})}))};(0,l.useEffect)((function(){s.length&&(g(s),v.h.get("/menu/"+x+"/recent").then((function(e){var t=e.data,n=V()(s),r=t.result.reduce((function(e,t){var r=n.find((function(e){return e.path===t.id}));return r&&e.length<6&&e.push(r),e}),[]);h(r)})))}),[s]),(0,l.useEffect)((function(){var e=n.reduce((function(e,t,n){var r;if(e[n]=[],null!=(r=t.child)&&r.length){var a="",i=function(t,r,i){var o="dark"===t.style,c=q.includes(t.style),s=[].concat(r,[o?a:void 0,c?void 0:t.name]).filter(Boolean).join("-");o||(a=t.name),t.path&&e[n].push({name:s,path:t.path}),i&&(a="")};if("DATA_DASHBOARD"===t.projectType){var o=t.child.find((function(e){return e.path&&!q.includes(e.style)}));o&&e[n].push({name:t.name,path:o.path})}else t.child.filter((function(e){return"hide"!==e.style})).forEach((function(e,n){var r;null!=(r=e.child)&&r.length?e.child.forEach((function(n,r){i(n,[t.name,e.name],r===e.child.length-1)})):i(e,[t.name],n===t.child.length-1)}))}return e}),[]),t=0,r=e.reduce((function(e,n,r){var a;1===n.length?t?(a=e[t]).push.apply(a,n):e[t=r]=n:e[r]=n;return e}),[]).filter(Boolean);u(r)}),[n]);var b=(0,z.Z)((function(){var e=s.reduce((function(e,t){var n=t.filter((function(e){return e.name.includes(i)}))||[];return e.push(n),e}),[]);g(e)}),{wait:500}).run;(0,l.useEffect)((function(){b()}),[i]);var E=(0,l.useCallback)((function(e){var t=e.target.value;o(t)}),[]);return(0,U.Z)((function(){t()}),r),l.createElement("div",{className:"panel-warp",ref:r},l.createElement("div",{className:"search"},l.createElement(B,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd",value:i,onChange:E,size:"small",suffix:l.createElement("span",null,l.createElement("i",{className:"icon-cem_small-search",style:{color:"#8c8c8c"}})),allowClear:!0})),l.createElement("div",{className:"panel"},l.createElement("p",{className:"panel-title"},"\u5e38\u7528"),l.createElement("div",{className:"panel-body"},f.map((function(e,t){return l.createElement("div",{key:t,className:"panel-item",onClick:function(){return I(e)}},e.name)})))),l.createElement("div",{className:"panel"},l.createElement("p",{className:"panel-title"},"\u83dc\u5355"),l.createElement("div",{className:"panel-body flex-col"},y.map((function(e,t){return l.createElement("div",{className:"flex flex-wrap w-full",key:t},e.map((function(e){return l.createElement("div",{key:e.path,className:"panel-item",onClick:function(){return I(e)}},e.name)})))})))))};var H=function(e){var t=e.title,n=(0,l.useState)(!1),r=n[0],a=n[1],i=(0,l.useState)(!1),o=i[0],c=i[1];return l.createElement(l.Fragment,null,l.createElement(f.default,{visible:o,placement:"bottom",trigger:"hover",content:t,onVisibleChange:function(e){!r&&c(e)},mouseEnterDelay:.6},l.createElement("div",{onClick:function(){c(!1),a(!r)}},l.createElement("i",{className:"icon-kuaijie1"}))),l.createElement(W,{visible:r,menu:e.menu,onClose:function(){return a(!1)}}))};const G=l.memo(H);var Y,J=["loading"],K=w.Z.public.menu,Q=w.Z.global,X=w.Z.userLogin;try{!function e(){var t=window.location,n=t.protocol,r=t.hostname,a=("http:"===n?"ws://":"wss://")+(["localhost","192.168.0.162"].includes(r)?"192.168.0.162:9001":r)+"/ws",i=new WebSocket(a);i.onopen=function(e){i.send(JSON.stringify(L)),R=setInterval((function(){i.send(JSON.stringify(L))}),2e4)},i.onmessage=function(e){var t=e.data;try{var n=JSON.parse(t);"PONG"!==t.type&&window.postMessage({type:"ws",payload:n},"*")}catch(r){}},i.onclose=function(t){R&&clearInterval(R),setTimeout((function(){e()}),5e3)}}()}catch(ne){}var $=n(76463),ee=function(e){function t(t){var n;(n=e.call(this,t)||this).menuList=void 0,n.logoRef=void 0,n.toggleDropDownVisible=function(e){void 0===e&&(e="");var t=n.state.menu.map((function(t){return t.projectType===e?t.dropDownVisible=!t.dropDownVisible:t.dropDownVisible=!1,t}));n.setState({menu:t,selProjectType:e||n.state.selProjectType})},n.openProjectMenu=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n.handGlobalClick=function(e){var t=document.querySelector(".sub-menu-list");t&&!t.contains(e.target)&&(n.state.menu.find((function(e){return e.dropDownVisible}))&&n.toggleDropDownVisible())},n._handleOnResize=function(){var e=n.state,t=e.menu,r=e.hideMenu,a=e.menuTypeDict,i=document.getElementById("topHeaderLogo"),o=i?i.clientWidth:256,c=(document.getElementById("topHeaderProject"),document.getElementById("topHeaderUser")),s=c?c.clientWidth:198,u=window.innerWidth-o-s,l=[];if(u<t.reduce((function(e,t){var n=(0,P.jD)(t.name,14)+40+e;return l.push(n),n}),56)||r.length)for(var p=l.length-1;p>0;p--)if(l[p]<u){var d=function(){var e=t.slice(0,p+1),r=t.slice(p+1),i=void 0,o=void 0,c=window.location,s=c.search,u=c.pathname,l=a[u+(s||"")],d=r.find((function(e){return e.projectType===l}));d?(i="more",o=d.projectType):(i=l,o="");var f={showMenu:e,hideMenu:r,hideSelectType:o};return i&&(f.selProjectType=i),n.setState(f),{v:void 0}}();if("object"===typeof d)return d.v}},n.projectSettiing=function(e,t,n){e.nativeEvent.stopImmediatePropagation(),e.stopPropagation(),T.t.set(T.V.backProjectConfig,{name:n,id:t}),p.mW.push("/account/project/preview"),document.body.click()},n.getFirstAuthorityPath=function(e){var t=e.filter((function(e){return e.path&&(!e.authority||y.Z.hasAuthority(e.authority))&&(!e.projectAuthority||(T.t.get(T.V.curProject).submenu||[]).includes(e.projectAuthority))}));return t.length?t[0].path:""},n.judgePathActive=function(){var e=window.location.pathname,t=e.split("/")&&e.split("/")[1];return["personalSettings","account"].includes(t)};var r="MESSAGE";return-1!==location.pathname.indexOf("price")?r="PRICE_MONITORING":-1!==location.pathname.indexOf("collection")&&(r="STORE_PLUGIN"),n.state={inboxMenu:(0,d.sQ)(),project:[],selProjectType:r,hideSelectType:"",menu:[],showMenu:[],hideMenu:[],selectedProejct:{},menuTypeDict:{}},n.logoRef=l.createRef(),n}(0,i.Z)(t,e);var n=t.prototype;return n.onDataChange=function(){var e;null==(e=this.props)||null==e.onDataChange||e.onDataChange({inboxMenu:this.state.inboxMenu,selProjectItem:this.state.selectedProejct})},n.UNSAFE_componentWillReceiveProps=function(e,t){JSON.stringify(e.menuList)===this.menuList&&e.activeProjectType===this.state.selProjectType||this.getMenu()},n.getMenu=function(){var e=this;if(this.props.menuList.projects){this.menuList=JSON.stringify(this.props.menuList);var t=u()(this.props.menuList),n=t.projects,r=t.dashboards,a=t.folders,i=t.userOpinions,o=t.brandInsightMenus,c=t.questionnaireBoards,s=T.t.get(T.V.curProject);if(s&&n.length){var l=s.id,f=null,h={};if(T.t.set(T.V.project,n),l){var m=n.find((function(e){return e.id===l}));if(m){var v=m.name,y=m.config;f=v,h=void 0===y?{}:y,m.sel=!0,n[0].sel=!1}else n[0].sel=!0,h=n[0].config||{}}else n[0].sel=!0,h=n[0].config||{};!f&&(null==n?void 0:n.length)>0&&(l=n[0].id,f=n[0].name);var g=[];r.forEach((function(e){var t;e.projectId===l&&(g.push({icon:"SYSTEM_FOLDER"===e.type?"system-folder":"personal-folders",id:e.id,name:e.name,style:"disabled",folderType:e.type,menuType:"folder"}),null==(t=e.dataDashboardVOList)||t.forEach((function(t){g.push({id:t.id,name:t.name,folderType:e.type,fatherId:e.id,fatherName:e.name,path:"/dashboard/"+t.id,style:"dark",menuType:"dashboard",childPath:["/dashboard/"+t.id+"/list","/dashboard/"+t.id+"/edit"]})})))}));var x=s.id,I=a.filter((function(e){return e.projectId===x})).map((function(e){return{name:e.name,path:"/inbox/folder?id="+e.id,icon:"line",style:"dark",id:e.id,message:0}})),b=i.map((function(e){return{name:e.name,path:"/opinion/"+e.id,icon:"line",style:"dark",projectId:e.projectId}})),E=null==o?void 0:o[l],w=[];null!=E&&E.length&&(w=E.filter((function(e){return"BRAND_OVERVIEW"===e.parentType})).map((function(e){return{name:e.name,path:"/brand/analyzing?id="+e.id,icon:"line",style:"dark",type:1,target:"_blank"}})));var k=c&&c[l],C=[];null!=k&&k.length&&(k.forEach((function(e){return C.push({name:e.name,path:"/research/board/"+("NPS"===e.type?"nps":"satisfaction")+"/"+e.id,icon:"NPS"===e.type?"npsboard":"satisfaction-score",style:"dark"})})),C.unshift({name:"\u770b\u677f",icon:"all-charts",style:"disabled"}));var S=(0,d.sQ)();Y=S.map((function(e){if((e.authority&&h[e.authority]||e.projectType&&h[e.projectType])&&(e.name=h[e.authority]||h[e.projectType]),e.dropDownVisible=!1,e.child&&e.child.forEach((function(e){(e.authority&&h[e.authority]||e.projectType&&h[e.projectType])&&(e.name=h[e.authority]||h[e.projectType])})),"inboxSetting"===e.special&&(I.unshift(e.child.findIndex((function(e){return"personal"===e.special}))+1,0),e.child.splice.apply(e.child,I)),"DATA_EXPLORING"===e.special){var t=e.child.findIndex((function(e){return"/opinion"===e.path}));t>-1&&b.forEach((function(n,r){e.child.splice(t+r+1,0,n)}))}if("dashboard"===e.special&&(e.child=g),"brand"===e.special){var n=e.child.findIndex((function(e){return"brandOverview"===e.special}))+1;w.unshift(n,0),e.child.splice.apply(e.child,w)}var r;"research"===e.special&&(r=e.child).unshift.apply(r,C);return e}));var N=n.find((function(e){return e.sel}))||n[0],O=(null==N?void 0:N.projectType)||[],_=(null==N||N.submenu,Y.reduce((function(e,t){if(O.includes(t.projectType))if("MESSAGE"===t.projectType){var n=JSON.parse(JSON.stringify(t));n.child=n.child.filter((function(e){var t;return(null==(t=e.path)?void 0:t.indexOf("folder"))<=-1})),e.push(n)}else e.push(t);else e.push(t);return e}),[])),j="",A=_.reduce((function(e,t){return t.child.forEach((function(n){var r;n.path&&(e[n.path]=t.projectType,"disabled"===n.style||j||(j=n.path)),null!=(r=n.child)&&r.length&&n.child.forEach((function(r){r.path&&(e[r.path]=t.projectType,"disabled"===n.style||j||(j=n.path))}))})),e}),{}),D=window.location,M=D.search,R=D.pathname,L=A[R+(M||"")];T.t.set(T.V.menu,_),L||"/workspace"!==R||!j?this.setState({inboxMenu:_,project:n,menu:_,selectedProejct:N,menuTypeDict:A,selProjectType:L},(function(){e.exchangeProjectIndex(l),e.onDataChange(),e._handleOnResize()})):p.mW.push(j)}}},n.exchangeProjectIndex=function(e){var t=this.state.project.filter((function(t){return t.id===e}))[0];T.t.set(T.V.curProject,t),this.props.switchProjectPermission({id:e}),this.setState({inboxMenu:Y})},n.componentDidMount=function(){var e=this;y.Z.getUser()||p.mW.push("/login"),this.props.fetchMenuList().then((function(t){e.getMenu()})),window.addEventListener("resize",c()(this._handleOnResize,150)),window.addEventListener("popstate",(function(t){var n=window.location,r=n.search,a=n.pathname,i=e.state.menuTypeDict[a+(r||"")];e.setState({selProjectType:i},(function(){return e._handleOnResize()}))})),this.logoRef.current.onerror=function(t){e.logoRef.current.src=$},window.addEventListener("click",this.handGlobalClick)},n.render=function(){var e=this,t=!this.judgePathActive(),n=this.state,r=n.selProjectType,a=n.menu,i=n.hideMenu,o=n.showMenu,c=n.hideSelectType,s="//yunting-1251101074.coscd.myqcloud.com/account_head/"+window.location.hostname+"/128_45.png",u=this.props.fetchingMenuList,d=["CONTACT_MANAGE"];return l.createElement("div",{className:"top"},l.createElement("div",{className:"logo",id:"topHeaderLogo"},l.createElement("a",{href:"/inbox/public"},l.createElement("img",{src:y.Z.getUser()&&y.Z.getUser().accountHead?y.Z.getUser().accountHead:s,ref:this.logoRef,className:"log_img",alt:"logo"}))),l.createElement("div",{className:"menu-first"},l.createElement("ul",{className:"menu-first-wrap"},!u&&l.createElement(l.Fragment,null,(i.length>0?o:a).reduce((function(n,a){var i;return(null!=(i=a.child)&&i.some((function(e){return e.path}))||d.includes(a.projectType)||"DASHBOARD"===a.authority)&&n.push(l.createElement("li",{key:a.name,className:"menu-first-item "+(r===a.projectType&&t?"sel":"")},d.includes(a.projectType)?l.createElement("span",{className:"sub-menu-list-wrap"},a.name,l.createElement("i",{className:"icon-cem_pull-down-or-take-up"}),l.createElement("ul",{className:"sub-menu-list"},a.child.map((function(t,n){return l.createElement("li",{key:n,onClick:function(){p.mW.push(e.getFirstAuthorityPath(t.child))}},t.name)})))):l.createElement("span",null,l.createElement(p.rU,{onClick:function(t){e.setState({selProjectType:a.projectType,hideSelectType:""})},to:e.getFirstAuthorityPath(a.child)},a.name)))),n}),[]),!!i.length&&l.createElement("li",{className:"menu-first-item moreNavItem "+("more"===r&&"sel")},l.createElement("span",null,l.createElement("i",{className:"icon-cem_more-more",style:{fontSize:16}})),l.createElement("div",{className:"chooseItem"},l.createElement("ul",{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},i.map((function(t){return l.createElement("li",{className:c===t.projectType?"sel":"",key:t.name,onClick:function(){e.setState({selProjectType:"more",hideSelectType:t.projectType}),p.mW.push(t.child.filter((function(e){return e.path}))[0].path)}},l.createElement("span",{title:t.name},l.createElement(p.rU,{to:t.child.filter((function(e){return e.path&&(!e.authority||y.Z.hasAuthority(e.authority))&&(!e.projectAuthority||(T.t.get(T.V.curProject).submenu||[]).includes(e.projectAuthority))})).length&&t.child.filter((function(e){return e.path&&(!e.authority||y.Z.hasAuthority(e.authority))&&(!e.projectAuthority||(T.t.get(T.V.curProject).submenu||[]).includes(e.projectAuthority))}))[0].path},t.name)))})))))))),l.createElement(M,this.props,l.createElement(G,{menu:a,title:"\u5feb\u6377\u83dc\u5355"})))},t}(l.Component);const te=(0,b.connect)((function(e){var t=e.loading,n=(0,a.Z)(e,J);return(0,r.Z)({},n[K],{fetchingMenuList:t.effects[K+"/fetchMenuList"]||!1})}),(function(e){return{fetchMenuList:function(){return e({type:K+"/fetchMenuList"})},fetchPublicData:function(t){return e({type:Q+"/fetchPublicData",payload:t})},switchProjectPermission:function(t){return e({type:X+"/switchProjectPermission",payload:t})}}}))(ee)},93050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={name:"\u6d88\u606f",special:"inboxSetting",projectType:"MESSAGE",authority:"MESSAGE",child:[{name:"\u5168\u90e8\u6d88\u606f",path:"/inbox/public",icon:"all-the-news",messageTypeId:"all",authority:"INBOX_ALL"},{name:"\u7535\u5546\u8bc4\u8bba",path:"/inbox/commont",style:"dark",icon:"dianshangpinglun",messageTypeId:"1",authority:"MESSAGE_COMMENT"},{name:"\u5ba2\u670d\u4f1a\u8bdd",path:"/inbox/service",style:"dark",icon:"kefuhuihua",messageTypeId:"8",authority:"MESSAGE_SERVICE"},{name:"\u95ee\u5377\u8c03\u7814",path:"/inbox/questionnaire",style:"dark",icon:"tiaochawenjuan1",messageTypeId:"17",authority:"MESSAGE_QUESTIONAIRE"},{name:"\u95ee\u7b54",path:"/inbox/questions",style:"dark",icon:"wenda",messageTypeId:"2",authority:"MESSAGE_QUE_ANS"},{name:"\u8bba\u575b",path:"/inbox/bbs",style:"dark",icon:"luntan",messageTypeId:"9",authority:"MESSAGE_BBS"},{name:"\u793e\u4ea4\u5a92\u4f53",path:"/inbox/social",style:"dark",icon:"shejiaomeiti",messageTypeId:"11",authority:"MESSAGE_SOCIAL"},{name:"\u5185\u5bb9\u7535\u5546",path:"/inbox/self",style:"dark",icon:"a-bianzubeifen5",messageTypeId:"12",authority:"MESSAGE_SELF"},{name:"\u5e94\u7528\u8bc4\u8bba",path:"/inbox/app",style:"dark",icon:"yingyongpinglun",messageTypeId:"21",authority:"MESSAGE_APP"},{name:"\u5de5\u5355",path:"/inbox/ticket",style:"dark",icon:"gongdan",messageTypeId:"22",authority:"MESSAGE_TICKET"},{name:"\u65b0\u95fb\u5a92\u4f53",path:"/inbox/news",style:"dark",icon:"xinwenmeiti",messageTypeId:"4",authority:"MESSAGE_NEWS"},{name:"\u6295\u8bc9\u5e73\u53f0",path:"/inbox/complaint",style:"dark",icon:"tousupingtai",messageTypeId:"13",authority:"MESSAGE_COMPLAINT"},{name:"\u89c6\u9891",path:"/inbox/video",style:"dark",icon:"shipin",messageTypeId:"19",authority:"MESSAGE_VIDEO"},{name:"\u7535\u5546\u95ee\u7b54",path:"/inbox/question",style:"dark",icon:"dianshang",messageTypeId:"6",authority:"MESSAGE_QUESTION"}]}},28005:(e,t,n)=>{"use strict";n.d(t,{Rh:()=>h,Zn:()=>m,Mp:()=>v,wQ:()=>y,sQ:()=>f});var r=n(50361),a=n.n(r),i=[{icon:"",name:"\u4e2a\u4eba\u4e2d\u5fc3",path:"",child:[{name:"\u4e2a\u4eba\u8d44\u6599",path:"/personalSettings/overview",icon:"new-personal-data"},{name:"\u5bfc\u51fa\u8bb0\u5f55",path:"/personalSettings/download",icon:"export-records"}]}],o=[{icon:"",name:"\u4f01\u4e1a\u4e2d\u5fc3",authority:"MANAGEMENT",path:"",child:[{name:"\u6743\u76ca\u6982\u89c8",icon:"rights-and-interests",path:"/account/overview",authority:"ACCOUNT_OVERVIEW"}]},{icon:"",name:"\u4f01\u4e1a\u8bbe\u7f6e",authority:"COMPANY_SETTING",path:"",child:[{name:"\u7ec4\u7ec7\u67b6\u6784",icon:"user",path:"/account/organization",authority:"COMPANY_ORGANIZATION"},{name:"\u7ba1\u7406\u5458",icon:"qiyeguanliyuan",path:"/account/businessManager",authority:"COMPANY_MANAGER"},{name:"\u89d2\u8272\u4e0e\u6743\u9650",icon:"qiyejiaosehequanxian",path:"/account/businessRole",authority:"COMPANY_ROLE_PERMISSION"}]},{icon:"",name:"\u9879\u76ee\u8bbe\u7f6e",authority:"PROJECT_SETTING",path:"",child:[{name:"\u9879\u76ee",icon:"project",path:"/account/projectManager",authority:"PROJECT_SETTING_DETAIL"}]},{icon:"",name:"\u8d26\u6237",authority:"ACCOUNT",path:"",child:[{name:"\u7528\u6237",icon:"user",path:"/account/user",authority:"ACCOUNT_USER"}]},{icon:"",name:"\u6570\u636e",authority:"PROJECT",path:"",child:[{name:"\u6240\u6709\u9879\u76ee",icon:"project",path:"/account/project",authority:"PROJECT"}]},{icon:"",name:"\u5b89\u5168",path:"",authority:"SAFETY",child:[{name:"\u5ba1\u8ba1\u65e5\u5fd7",icon:"audit-log",path:"/account/auditLog",authority:"SAFETY_AUDIT_LOG"},{name:"\u64cd\u4f5c\u65e5\u5fd7",icon:"historical-records",path:"/account/history",authority:"SAFETY_HISTORY_LOG"},{name:"IP\u767d\u540d\u5355",icon:"white-list",path:"/account/whiteList",authority:"SAFETY_IP"},{name:"\u767b\u5f55\u8bbe\u7f6e",icon:"login-settings",path:"/account/loginSetting",authority:"SAFETY_LOGIN_SETTING"}]},{icon:"",name:"\u7cfb\u7edf",authority:"SYSTEM_SETTING",path:"",child:[{name:"\u53d1\u4ef6\u7bb1\u914d\u7f6e",icon:"outbox-settings",path:"/account/outboxSetting",authority:"OUTBOX_SETTING"},{name:"\u81ea\u5b9a\u4e49\u8bbe\u7f6e",icon:"custom-settings",path:"/account/customSetting",authority:"CUSTOM_SETTING"}]}],c=[{icon:"",name:"\u9879\u76ee",path:"",child:[{name:"\u9879\u76ee\u6982\u51b5",icon:"survey",authority:"PROJECT_PREVIEW",path:"/account/project/preview",type:1},{name:"\u6210\u5458\u7ba1\u7406",icon:"xiangmu",authority:"PROJECT_MEMBER",path:"/account/project/member",type:1},{name:"\u7528\u6237\u7ec4\u7ba1\u7406",icon:"xiangmu",authority:"PROJECT_USER_GROUP",path:"/account/project/usergroup",childPath:["/account/project/usergroup/memberlist"],type:1},{name:"\u89d2\u8272\u4e0e\u6743\u9650",icon:"xiangmu",authority:"PROJECT_ROLE_PERMISSION",path:"/account/project/role",type:1},{name:"\u6570\u636e\u94fe\u63a5",icon:"data-task",authority:"DATASOURCE_CONNECTION",style:"disabled",type:1},{name:"\u7535\u5546\u8bc4\u8bba",icon:"dianshangpinglun",authority:"CONNECTION_COMMENT",path:"/account/project/comment/subscribe",setLeaveSession:"/account/project/preview",style:"dark",type:1},{name:"\u7535\u5546\u8bc4\u8bba",icon:"dianshangpinglun",authority:"CONNECTION_COMMENT",type:2,style:"disabled",showBack:!0},{name:"\u667a\u80fd\u8ba2\u9605",path:"/account/project/comment/subscribe",authority:"COMMENT_SMART_SUBSCRIPTION",icon:"zhinengdingyue1",childPath:["/account/project/comment/subscribe/edit","/account/project/comment/subscribe/link","/account/project/comment/subscribe/linkMaintenance"],type:2,style:"dark"},{name:"\u94fe\u63a5\u7ba1\u7406",path:"/account/project/comment/link",authority:"COMMENT_CONNECTION_MANAGER",icon:"shangpinlianjie",childPath:["/account/project/comment/link/linkMaintenance","/account/project/comment/batchAdd","/account/project/comment/addLink","/account/project/comment/link/batchAdd","/account/project/comment/linkManagement","/account/project/comment/link/linkRecycleBin"],type:2,style:"dark"},{name:"\u7535\u5546\u76d1\u63a7",icon:"jiankong",path:"/account/project/price/subscribe",childPath:["/account/project/price/subscribe/link"],authority:"CONNECTION_SMART_PRICE",setLeaveSession:"/account/project/preview",style:"dark",type:1},{name:"\u7535\u5546\u76d1\u63a7",icon:"jiankong",authority:"CONNECTION_SMART_PRICE",type:3,style:"disabled",showBack:!0},{name:"\u667a\u80fd\u8ba2\u9605",path:"/account/project/price/subscribe",icon:"zhinengdingyue1",authority:"MONITORING_SMART_SUBSCRIPTION",childPath:["/account/project/price/subscribe/linkMaintenance","/account/project/price/subscribe/edit","/account/project/price/subscribe/link"],type:3,style:"dark"},{name:"\u94fe\u63a5\u7ba1\u7406",path:"/account/project/price/link",icon:"shangpinlianjie",authority:"MONITORING_CONNECTION_MANAGER",childPath:["/account/project/price/link/linkMaintenance","/account/project/price/link/batchAdd","/account/project/price/link/linkRecycleBin"],type:3,style:"dark"},{name:"\u95ee\u7b54",icon:"wenda",path:"/account/project/que_ans",style:"dark",childPath:["/account/project/que_ans/edit"],authority:"CONNECTION_QUE_ANS",type:1},{name:"\u8bba\u575b",icon:"luntan",path:"/account/project/bbs",style:"dark",childPath:["/account/project/bbs/edit"],authority:"CONNECTION_BBS",type:1},{name:"\u5185\u5bb9\u7535\u5546",icon:"a-bianzubeifen5",path:"/account/project/self",style:"dark",childPath:["/account/project/self/edit"],authority:"CONNECTION_SELF",type:1},{name:"\u793e\u4ea4\u5a92\u4f53",icon:"shejiaomeiti",path:"/account/project/social",style:"dark",childPath:["/account/project/social/edit"],authority:"CONNECTION_SOCIAL",type:1},{name:"\u65b0\u95fb\u5a92\u4f53",icon:"xinwenmeiti",path:"/account/project/news",style:"dark",childPath:["/account/project/news/edit"],authority:"CONNECTION_NEWS",type:1},{name:"\u6295\u8bc9\u5e73\u53f0",icon:"tousupingtai",path:"/account/project/complaint",style:"dark",childPath:["/account/project/complaint/edit"],authority:"CONNECTION_COMPLAINT",type:1},{name:"\u89c6\u9891",icon:"shipin",path:"/account/project/video",style:"dark",childPath:["/account/project/video/edit"],authority:"CONNECTION_VIDEO",type:1},{name:"\u4e3b\u9898",icon:"theme-management",path:"/account/project/linkTopic",childPath:["/account/project/linkTopic/value"],authority:"THEME_COMMENT",type:1},{name:"\u77e5\u8bc6\u5e93",icon:"words-list",path:"/account/project/base",childPath:["/account/project/base/sku"],authority:"REPOSITORY",type:1},{name:"\u6807\u7b7e",icon:"label-management",path:"/account/project/tag",authority:"TAG",type:1},{name:"\u6d88\u606f\u5904\u7406\u89c4\u5219",icon:"processing-rules",path:"/account/project/messageRule",authority:"MESSAGE_RULE",type:1},{name:"\u65e0\u6548\u6d88\u606f",icon:"invalid-message",style:"disabled",authority:"USELESS_MESSAGE",type:1},{name:"\u667a\u80fd\u8bc6\u522b\u65e0\u6548\u6d88\u606f",icon:"line",path:"/account/project/uselessMsg/smart",style:"dark",authority:"SMART_USELESS_MESSAGE",type:1},{name:"\u81ea\u5b9a\u4e49\u65e0\u6548\u6d88\u606f",icon:"line",path:"/account/project/uselessMsg/custom",style:"dark",authority:"CUSTOM_USELESS_MESSAGE",type:1},{name:"\u65e0\u6548\u8bcd\u7ba1\u7406",icon:"invalid-words",path:"/account/project/uselessWord",authority:"USELESS_WORD_MANAGE",type:1},{name:"\u6307\u6807\u4f53\u7cfb",icon:"index-system",style:"disabled",authority:"ASPECT_TREE_SETTING",type:1},{name:"\u5168\u5c40\u6307\u6807",icon:"line",style:"dark",authority:"GLOBAL_ASPECT_LIST",path:"/account/project/aspectSystem/global",type:1},{name:"\u6307\u6807\u6811",icon:"line",style:"dark",authority:"ASPECT_TREE",path:"/account/project/aspectSystem/tree",type:1},{name:"Webhook\u7ba1\u7406",icon:"Webhook",path:"/account/project/webhookList",authority:"WEBHOOK_MANAGE",type:1},{name:"\u9884\u8b66\u7ba1\u7406",icon:"words-list",style:"disabled",type:1,authority:"WARNING_MANAGE"},{name:"\u9884\u8b66\u89c4\u5219",icon:"line",path:"/account/project/warning/overview",style:"dark",childPath:["/account/project/warning/edit","/account/project/warning/log"],type:1,authority:"WARNING_MANAGE_RULE"},{name:"\u9000\u8ba2\u8bb0\u5f55",icon:"line",style:"dark",path:"/account/project/warning/unsubscribe",type:1,authority:"WARNING_MANAGE_UNSUBSCRIBE"},{name:"\u6570\u636e\u53cd\u9988",icon:"shujufankui",path:"/account/project/dataFeedback",authority:"DATA_FEEDBACK",type:1},{name:"\u5de5\u5355\u7ba1\u7406",icon:"gongdan",style:"disabled",type:1,authority:"WORK_ORDER_MANAGE"},{name:"\u770b\u677f\u5361\u7247\u663e\u793a\u914d\u7f6e",icon:"line",path:"/account/project/ticket/board",style:"dark",authority:"SET_FIELD_BOARD_CONFIG_WORK_ORDER",type:1},{name:"\u5de5\u5355\u8be6\u60c5\u663e\u793a\u914d\u7f6e",icon:"line",path:"/account/project/ticket/detail",authority:"SET_FIELD_DETAIL_CONFIG_WORK_ORDER",style:"dark",type:1},{name:"\u5b57\u6bb5\u914d\u7f6e",icon:"line",path:"/account/project/ticket/field",authority:"SET_FIELD_CONFIG_WORK_ORDER",style:"dark",type:1},{name:"\u5de5\u5355\u72b6\u6001\u914d\u7f6e",icon:"line",path:"/account/project/ticket/state",authority:"SET_STATUS_WORK_ORDER",style:"dark",type:1},{name:"\u901a\u77e5\u914d\u7f6e",icon:"line",path:"/account/project/ticket/notice",authority:"SET_NOTIFY_WORK_ORDER",style:"dark",type:1},{name:"\u5ba2\u6237\u7ba1\u7406",icon:"words-list",style:"disabled",type:1,authority:"CUSTOMER_MANAGE"},{name:"\u81ea\u5b9a\u4e49\u5b57\u6bb5\u8bbe\u7f6e",icon:"line",path:"/account/project/customerManage",style:"dark",childPath:[],type:1,authority:"CUSTOMER_SELF_DEFINE"}]}],s=n(61193);var u=n(93050);n(84335);var l=n(64396),p=(l.Z.userState.message,l.Z.userLogin,[{icon:"expand-more",name:"\u5de5\u4f5c\u53f0",special:"WORKSPACE",projectType:"WORKSPACE",authority:"WORKSPACE",child:[{name:"\u5f85\u529e",path:"/workspace/overview",icon:"gongzuotai",authority:"WARNING_WORKBENCH"},{name:"\u9884\u8b66",icon:"yujing",style:"disabled",authority:"WARNING_OVERVIEW"},{name:"\u901a\u77e5",icon:"tongzhi",style:"dark",authority:"WARNING_NOTIFY",path:"/workspace/warning"},{name:"\u7edf\u8ba1",icon:"yujingtongji",path:"/workspace/warningStatistics",style:"dark",authority:"WARNING_STATISTICS"},{name:"\u5de5\u5355",icon:"gongdan",style:"disabled",authority:"WORK_ORDER"},{name:"\u770b\u677f",icon:"cem_area",style:"dark",path:"/workspace/ticket",authority:"BOARD_WORK_ORDER"},{name:"\u5217\u8868",icon:"liebiao",style:"dark",path:"/workspace/ticket/list",authority:"LIST_WORK_ORDER"},{name:"\u56de\u6536\u7ad9",icon:"huishouzhan",style:"dark",path:"/workspace/ticket/recycleBin",authority:"RECYCLE_LIST_WORK_ORDER"},{name:"\u7edf\u8ba1",icon:"yujingtongji",path:"/workspace/ticket/statistics",style:"dark",authority:"COUNT_WORK_ORDER"}]},u.Z,{icon:"expand-more",name:"\u89e6\u70b9\u7ba1\u7406",special:"CONTACT_MANAGE",projectType:"CONTACT_MANAGE",authority:"CONTACT_MANAGE",child:[{name:"\u7535\u5546\u8bc4\u8bba",icon:"price-analysis",style:"disabled",authority:"CONTACT_MANAGE_COMMENT",child:[{name:"\u6982\u89c8",icon:"data-overview",path:"/product/overview",authority:"ANALYZE_OVERVIEW",projectAuthority:"ANALYZE_OVERVIEW"},{name:"\u6570\u636e\u6982\u89c8",icon:"data-overview",path:"/comment/overview",authority:"DATA_OVERVIEW",projectAuthority:"DATA_OVERVIEW"},{name:"\u8bc4\u8bba\u6982\u89c8",icon:"yingyongpinglun",path:"/product/commentOverview",authority:"CONTACT_COMMENT_OVERVIEW",projectAuthority:"CONTACT_COMMENT_OVERVIEW"},{name:"\u4ea7\u54c1\u5206\u6790",icon:"product",path:"/product/analyze",authority:"ANALYZE_PRODUCT",projectAuthority:"ANALYZE_PRODUCT"},{name:"\u670d\u52a1\u5206\u6790",icon:"service",path:"/product/service",authority:"ANALYZE_SERVER",projectAuthority:"ANALYZE_SERVER"},{name:"\u5e02\u573a\u5206\u6790",icon:"market",path:"/product/marketing",authority:"ANALYZE_MARKETING",projectAuthority:"ANALYZE_MARKETING"},{name:"\u81ea\u4e3b\u5206\u6790",icon:"independent-analysis",path:"/product/selfAnalysis",authority:"ANALYSIS_INDEPENDENT",projectAuthority:"ANALYSIS_INDEPENDENT"},{name:"\u6307\u6807\u8d8b\u52bf",icon:"zhibiaoqushi",path:"/product/aspectTrend",authority:"ASPECT_TREND",projectAuthority:"ASPECT_TREND"},{name:"\u7ade\u54c1\u5206\u6790",icon:"competitive-product-analysis",path:"/product/compare",authority:"CONTACT_COMPARE_ANALYZE",projectAuthority:"CONTACT_COMPARE_ANALYZE"}]},{name:"\u5ba2\u670d\u4f1a\u8bdd",icon:"price-analysis",style:"disabled",authority:"CONTACT_MANAGE_CONVERSATION",child:[{name:"\u6570\u636e\u6982\u89c8",path:"/service/overview",icon:"shujugailan1",authority:"CUSTOMER_OVERVIEW"},{name:"\u5173\u6ce8\u70b9\u5206\u6790",path:"/service/concernAnalyze",icon:"guanzhudian",authority:"CUSTOMER_ANALYZE_ASPECT"},{name:"\u8bdd\u9898\u5206\u6790",path:"/service/gombitAnalyze",icon:"huatifenxi",authority:"SERVICE_TOPIC"},{name:"\u573a\u666f\u5206\u6790",icon:"changjing",style:"disabled",authority:"SERVICE_SCENE"},{name:"\u5355\u54c1\u5206\u6790",icon:"danpin",path:"/service/spu",style:"dark",authority:"SERVICE_SCENE_SINGLE"},{name:"\u5546\u54c1\u5bf9\u6bd4",icon:"shangpinduibi",path:"/service/match",style:"dark",authority:"SERVICE_SCENE_CONTRAST"},{path:"/service/setting",style:"hide"}]},{name:"\u5e94\u7528\u8bc4\u8bba",icon:"price-analysis",style:"disabled",authority:"CONTACT_MANAGE_APP_COMMENT",child:[{name:"\u8bc4\u8bba\u6982\u89c8",path:"/appComment/commentOverview",icon:"yingyongpinglun",authority:"APP_COMMENT_PRODUCT_OVERVIEW"}]},{name:"\u5de5\u5355",icon:"price-analysis",style:"disabled",authority:"CONTACT_MANAGE_ZENDESK",child:[{name:"\u6570\u636e\u6982\u89c8",path:"/workOrder/dataOverview",icon:"shujugailan1",authority:"ZENDESK_WORK_ORDER_PRODUCT_OVERVIEW"}]}]},{name:"\u95ee\u5377\u8c03\u7814",special:"research",projectType:"QUESTIONNAIRE",authority:"QUESTIONNAIRE",child:[{name:"\u95ee\u5377\u7ba1\u7406",icon:"nps-management",path:"/research/manage",authority:"QUESTIONNAIRE_MANAGER",childPath:["/research/manage/list","/research/manage/distribute","/research/manage/distribute/edit","/research/manage/analysis"]},{path:"/research/setting",icon:"nps-management",childPath:["/research/setting/edit","/research/setting/template","/research/setting?type=sms","/research/setting?type=email"],style:"hide"},{name:"\u95ee\u5377",path:"/research/questions",style:"hide"}]},{icon:"expand-more",name:"\u5ba2\u6237\u65c5\u7a0b",special:"customerJourney",projectType:"CUSTOMER_JOURNEY",authority:"CUSTOMER_JOURNEY",child:[{name:"",icon:"store",path:"/customerJourney/introduce",style:"hide"},{name:"\u65c5\u7a0b\u7ba1\u7406",icon:"store",path:"/customerJourney/manage",authority:"CUSTOMER_JOURNEY_MANAGE"}]},{icon:"expand-more",name:"\u4ea7\u54c1\u6d1e\u5bdf",special:"productAnalysis",projectType:"ANALYZE",authority:"ANALYZE",child:[{name:"\u6307\u6807\u5206\u6790",icon:"customer-focus",path:"/productAnalysis/aspectAnalysis",authority:"PRODUCT_CUSTOMER"},{name:"\u7ade\u54c1\u5206\u6790",icon:"competitive-product-analysis",path:"/productAnalysis/compareProduct",authority:"PRODUCT_COMPARE"}]},{icon:"expand-more",name:"\u670d\u52a1\u6d1e\u5bdf",special:"serviceAnalysis",projectType:"WAITER_SESSION",authority:"WAITER_SESSION",child:[{name:"\u6307\u6807\u5206\u6790",icon:"customer-focus",path:"/serviceAnalysis/aspectAnalysis",authority:"SERVICE_ASPECT_ANALYSIS"},{name:"\u7ade\u54c1\u5206\u6790",icon:"competitive-product-analysis",path:"/serviceAnalysis/compareProduct",authority:"SERVICE_COMPARE_ANALYSIS"}]},{icon:"expand-more",name:"\u5e02\u573a\u6d1e\u5bdf",special:"marketAnalysis",projectType:"MARKET_INSIGHT",authority:"MARKET_INSIGHT",child:[{name:"\u6307\u6807\u5206\u6790",icon:"customer-focus",path:"/marketAnalysis/aspectAnalysis",authority:"MARKET_INSIGHT_ASPECT_ANALYSIS"},{name:"\u7ade\u54c1\u5206\u6790",icon:"competitive-product-analysis",path:"/marketAnalysis/compareProduct",authority:"MARKET_INSIGHT_PRODUCT_COMPARE"}]},{icon:"side-setting-spot",name:"\u4eea\u8868\u76d8",path:"",special:"dashboard",projectType:"DATA_DASHBOARD",authority:"DASHBOARD",child:[]},{name:"\u6570\u636e\u63a2\u7d22",special:"DATA_EXPLORING",projectType:"DATA_EXPLORING",authority:"DATA_EXPLORING",child:[{name:"\u81ea\u7531\u63a2\u7d22",path:"/explore/free",icon:"survey",authority:"FREE_EXPLORING",projectAuthority:"FREE_EXPLORING",childPath:["/explore/free/result"]},{name:"\u573a\u666f\u6316\u6398",icon:"scene",path:"/explore/scene/overview",authority:"SCENE_MINING",projectAuthority:"SCENE_MINING"},{name:"\u89d2\u8272\u4e0e\u5173\u7cfb",icon:"line",style:"dark",path:"/explore/scene/user",authority:"USER_PORTRAIT"},{name:"\u4f7f\u7528\u573a\u5408",icon:"line",style:"dark",path:"/explore/scene/useScene",authority:"USAGE_SCENARIOS"},{name:"\u7528\u9014",icon:"line",style:"dark",path:"/explore/scene/use",authority:"PRODUCT_PURPOSE"},{name:"\u8d2d\u4e70\u51b3\u7b56",icon:"line",style:"dark",path:"/explore/scene/buyDecision",authority:"PURCHASE_DECISION"},{name:"\u7528\u6237\u5efa\u8bae",icon:"line",style:"dark",path:"/explore/scene/myAdvice",authority:"SCENE_MY_ADVICE"},{name:"\u4ee3\u8a00\u4eba\u5206\u6790",icon:"line",style:"dark",path:"/explore/scene/spokesmanAnalysis",authority:"SCENE_SPOKESMAN_ANALYSIS"},{name:"\u5178\u578b\u610f\u89c1",icon:"typical-opinions",path:"/explore/opinion",authority:"OPINION",projectAuthority:"OPINION",childPath:["/explore/opinion/screen"]}]},{icon:"expand-more",name:"\u5ba2\u6237\u6863\u6848",special:"customerFile",projectType:"CUSTOMER_FILE",authority:"CUSTOMER_FILE",child:[{name:"\u5168\u90e8\u5ba2\u6237",icon:"store",path:"/customerFile/customersList",authority:"CUSTOMER_MANAGER"},{name:"\u5ba2\u6237\u4fe1\u606f",icon:"store",path:"/customerFile/customerDetail",style:"hide",authority:"CUSTOMER_MANAGER_DETAIL"}]},{icon:"expand-more",name:"\u7535\u5546\u76d1\u63a7",special:"priceSetting",projectType:"PRICE_MONITORING",authority:"PRICE_MONITORING",child:[{name:"\u5b9e\u65f6\u4ef7\u683c",icon:"real-time-price",path:"/price/realTimePrice",childPath:["/price/realTimePrice/priceDetail"],authority:"REALTIME_PRICE"},{name:"\u4ef7\u683c\u5206\u6790",icon:"price-analysis",style:"disabled",authority:"ANALYSIS_PRICE"},{name:"\u6bcf\u65e5\u6700\u4f4e\u4ef7",icon:"line",path:"/priceHistory",authority:"LOWEST_PRICE",style:"dark"},{name:"\u4ef7\u683c\u56fe\u8868",icon:"line",path:"/priceMonitorChart",authority:"PRICE_CHART",style:"dark"},{name:"\u4ef7\u683c\u6bd4\u8f83",icon:"line",path:"/priceCompare",authority:"PRICE_COMPARE",style:"dark"},{name:"\u4ef7\u683c\u76d1\u63a7",icon:"early-warning-report",style:"disabled",authority:"ANALYZE_MONITOR"},{name:"\u7ade\u54c1\u6bd4\u4ef7",icon:"line",path:"/priceWarning",childPath:["/priceWarning/add","/priceWarning/weChatPush"],authority:"COMPETITOR_COMPARE_PRICE",style:"dark"},{name:"\u6e20\u9053\u4e71\u4ef7",icon:"line",path:"/priceChaos",childPath:["/priceChaos/editRule","/priceChaos/screenshot","/priceChaos/pushLog","/priceChaos/ruleList"],authority:"BREAK_BACK_PRICE",style:"dark"},{name:"\u54c1\u724c\u5206\u6790",icon:"brand-analysis",path:"/price/branding",authority:"PRICE_ANALYZE_BRAND"},{name:"\u4ea7\u54c1\u5206\u6790",icon:"product-analysis",path:"/price/product",authority:"PRICE_ANALYZE_PRODUCT"},{name:"\u5e97\u94fa\u5206\u6790",icon:"store",path:"/price/shop",authority:"PRICE_ANALYZE_STORE"}]}]),d=function e(t){return t.reduce((function(t,n){var r;n.authority&&!s.Z.hasAuthority(n.authority)||((null==(r=n.child)?void 0:r.length)>0&&(n.child=e(n.child)),t.push(n));return t}),[])},f=function(){return a()(d(p))},h=function(){return a()(d(o))},m=function(){return a()(d(i))},v=function(){return a()(d(c))},y=function(e){var t,n;return function e(r){for(var a=0;a<r.length;a++){if(r[a].path)return t=r[a].path,void(n=!0);r[a].child&&(n||e(r[a].child))}}(e),t||""}},7200:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(){return o.h.get("/menu/list")}function s(e){var t=e.project;return o.h.post("/message/personal/count",{filterModel:{project:t}})}function u(e){var t=e.type,n=e.ids;return o.h.post("/dashboard/folder/move",{type:t,ids:n})}var l=n(35239),p=n(50361),d=n.n(p),f=n(64396),h=f.Z.public.menu,m=f.Z.userLogin;const v={namespace:h,state:{shrinkMenu:l.t.get(l.V.shrink)||!1,menuList:{},personalMessageCount:[],aspectWarningCount:null},effects:{fetchMenuList:i().mark((function e(t,n){var a,o,s,u,l,p,f,h,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.call,s=n.put,u=n.select,e.next=3,o(c);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return l=e.t0,p=(null==l||null==(a=l.data)?void 0:a.result)||{},f=d()(p),e.next=11,u((function(e){var t=(0,r.Z)({},e);return t[m],t[m]}));case 11:return h=e.sent,v=h.projectPermissions,y=v.map((function(e){return e.projectId})),f.projects=null==f?void 0:f.projects.filter((function(e){var t=e.id;return y.includes(t)})),e.next=17,s({type:"save",payload:{menuList:f}});case 17:return e.abrupt("return",p);case 18:case"end":return e.stop()}}),e)})),changePictureURLDispatch:i().mark((function e(t,n){var a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.select,o=n.put,e.next=3,a((function(e){return(0,r.Z)({},e)[h]}));case 3:return c=e.sent,s=c.menuList,e.next=7,o({type:"changePictureURL",payload:{menuList:s}});case 7:case"end":return e.stop()}}),e)})),sortDashboardMenu:i().mark((function e(t,n){var r,a,o,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=r.type,s=r.ids,e.next=5,a(u,{type:c,ids:s});case 5:if(l=e.sent,!l.data.result){e.next=10;break}return e.next=10,o({type:"fetchMenuList"});case 10:case"end":return e.stop()}}),e)})),fetchPersonalCount:i().mark((function e(t,n){var r,a,o,c,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.call,o=n.put,!(null==(r=l.t.get(l.V.curProject))?void 0:r.id)){e.next=13;break}return e.next=5,a(s,{project:[(null==(c=l.t.get(l.V.curProject))?void 0:c.id)||""]});case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:return u=e.t0,p=u.result||[],e.next=12,o({type:"save",payload:{personalMessageCount:p}});case 12:return e.abrupt("return",p);case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e)})),changeShrink:i().mark((function e(t,n){var a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,o=n.select,e.next=3,o((function(e){return(0,r.Z)({},e)[h]}));case 3:return c=e.sent,s=c.shrinkMenu,e.next=7,a({type:"save",payload:{shrinkMenu:!s}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})),setAspectWarningCount:i().mark((function e(t,n){var a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.put,c=n.select,e.next=4,c((function(e){return(0,r.Z)({},e)[h]}));case 4:return s=e.sent,u=s.aspectWarningCount,l=u||0,l+=a.count,e.next=10,o({type:"save",payload:{aspectWarningCount:l}});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},changePictureURL:function(e,t){var n=t.payload,a=n.menuList.projects;return n.menuList.projects=a.map((function(e){return e.pictureUrl=e.pictureUrl?e.pictureUrl+"?_"+(new Date).getTime():"",e})),(0,r.Z)({},e,n)}}}},953:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});n(75314);var r=n(11187),a=n(87462),i=n(87757),o=n.n(i),c=n(49722);function s(){return c.h.get("/wechat/get-login-url",{params:{}})}function u(e){var t=e.token;return c.h.get("/wechat/login-check",{params:{token:t}})}function l(e){var t=e.email;return c.h.post("/settings/send-pwd-check-code",{email:t})}function p(e){var t=e.host;return c.h.post("/account/slogan",{host:t})}function d(e){var t=e.username,n=e.password,r=e.openId,a=e.token,i=e.accessToken,o=e.source,s=new FormData;return s.append("username",t),n&&s.append("password",n),t&&n&&s.append("_lv","2"),r&&s.append("openId",r),a&&s.append("token",a),i&&s.append("access_token",i),o&&s.append("source",o),c.h.post("/login",s)}function f(){return c.h.post("/projects/list")}function h(){return c.h.post("/upms/user/permissions",{params:{}})}var m,v,y=n(62887),g=n(61409),x=n(35239),I=n(61193),b=n(5133),T=n(74865),E=n.n(T),w=n(64396),k=n(28005),C=w.Z.userLogin,S=function e(t){return t.reduce((function(t,n){var r;if(n.code&&t.push(n.code),(null==(r=n.children)?void 0:r.length)>0){var a=e(n.children);t=t.concat(a)}return t}),[])},N=function(){var e,t,n=x.t.get(x.V.curProject)||null,r=(null==(e=x.t.get(x.V.project))?void 0:e[0])||null;return n?t=n:r?(t=r,x.t.set(x.V.curProject,t)):t=null,t},O={openId:void 0,token:"",wechatUrl:"",email:"",visible:!1,slogan:"",loginStatus:"",accountPermissions:(null==(m=x.t.get(C))?void 0:m.accountPermissions)||[],projectPermissions:(null==(v=x.t.get(C))?void 0:v.projectPermissions)||[]};const _={namespace:C,state:O,reducers:{save:function(e,t){var n=t.payload;return x.t.set(C,(0,a.Z)({},e,n)),(0,a.Z)({},e,n)},clean:function(e,t){t.payload;return Object.assign({},O)}},effects:{getQrcode:o().mark((function e(t,n){var a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,n.put,e.prev=1,e.next=4,a(s);case 4:if(i=e.sent,2e4!==(c=i.data).code){e.next=8;break}return e.abrupt("return",c);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r.default.error(e.t0.data.msg);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})),loginCheck:o().mark((function e(t,n){var r,i,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,e.next=4,i(u,(0,a.Z)({},r));case 4:return c=e.sent,s=c.data,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})),login:o().mark((function e(t,n){var i,c,s,u,l,p,m,v,T,O,_,j,A,D,M,R,L,P,F,Z,V,z,U,B,q,W,H;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,c=n.call,s=n.put,u=n.select,l=n.take,e.next=4,u((function(e){return(0,a.Z)({},e)[C]}));case 4:return p=e.sent,m=p.openId,(v=i.needNprogress)&&(E().configure({showSpinner:!1}),E().start()),e.next=10,s({type:"save",payload:{loginStatus:"\u8bf7\u6c42\u7528\u6237\u767b\u5f55\u4e2d\uff0c\u8bf7\u7a0d\u7b49..."}});case 10:return e.prev=10,e.next=13,c(d,(0,a.Z)({},i));case 13:if(2e4!==(T=e.sent).data.code){e.next=72;break}if(localStorage.setItem("authorization",T.headers.authorization),!T.data.result.bindOther||"1"!==T.data.result.bindOther){e.next=19;break}return g.mW.replace({pathname:"/binded",state:{data:T,email:i.username}}),e.abrupt("return");case 19:return(0,y.a$)(T),e.next=22,s({type:"save",payload:{loginStatus:"\u83b7\u53d6\u7528\u6237\u6743\u9650\u4e2d\uff0c\u8bf7\u7a0d\u7b49..."}});case 22:return e.next=24,c(h);case 24:return O=e.sent,_=O.data,_.code,_.msg,j=_.result,D=(A=void 0===j?{}:j).accountPermissions,M=A.projectPermissions,e.next=30,s({type:"save",payload:{accountPermissions:D,projectPermissions:M}});case 30:if(R=S([].concat(D,M)),I.Z.setAuthority(Array.from(new Set(R))),0!==D.length||0!==M.length){e.next=37;break}return g.mW.replace("/noPermission"),e.abrupt("return");case 37:if(!(D.length>0&&0===M.length)){e.next=44;break}return L=(0,k.Rh)(),P=(0,k.wQ)(L),g.mW.push(P),e.abrupt("return");case 44:return e.next=46,s({type:"save",payload:{loginStatus:"\u83b7\u53d6\u9879\u76ee\u5217\u8868\u4e2d\uff0c\u8bf7\u7a0d\u7b49..."}});case 46:return e.next=48,c(f);case 48:if(V=e.sent,z=(null==V||null==(F=V.data)||null==(Z=F.result)?void 0:Z.list)||[],U=M.map((function(e){return e.projectId})),B=z.filter((function(e){var t=e.id;return U.includes(t)})),x.t.set(x.V.project,B.map((function(e){return{id:e.id,name:e.name,projectType:e.projectType}}))),!(q=N())){e.next=69;break}return W=q.id,H=q.name,x.t.set(x.V.backProjectConfig,{id:W,name:H}),e.next=59,s({type:"switchProjectPermission",payload:{id:W}});case 59:return e.next=61,s({type:"save",payload:{loginStatus:"\u83b7\u53d6\u9879\u76ee\u8d44\u6e90\u4e2d\uff0c\u8bf7\u7a0d\u7b49..."}});case 61:return e.next=63,s({type:w.Z.global+"/fetchPublicData",payload:{projectId:W}});case 63:return e.next=65,l(w.Z.global+"/fetchPublicData/@@end");case 65:v&&E().done(),g.mW.replace("/"),e.next=72;break;case 69:b.Z.warning("\u8bf7\u5148\u6dfb\u52a0\u81f3\u5c11\u4e00\u4e2a\u9879\u76ee\uff01"),g.mW.replace("/account/project"),document.querySelector(".create-btn-wrap .el-button").click();case 72:e.next=86;break;case 74:if(e.prev=74,e.t0=e.catch(10),50107!==e.t0.data.code){e.next=80;break}g.mW.replace({pathname:"/checkcode",state:{openId:m&&m,username:i.username,password:i.password}}),e.next=86;break;case 80:if(50106!==e.t0.data.code){e.next=85;break}return e.next=83,s({type:"save",payload:{visible:!0,email:i.username}});case 83:e.next=86;break;case 85:r.default.error(e.t0.data.msg);case 86:case"end":return e.stop()}}),e,null,[[10,74]])})),getCheckCode:o().mark((function e(t,n){var r,i,c,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[C]}));case 4:return s=e.sent,u=s.email,e.next=8,i(l,{email:r.email||u});case 8:case"end":return e.stop()}}),e)})),getSlogan:o().mark((function e(t,n){var r,i,c,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,i=n.call,c=n.put,e.next=4,i(p,(0,a.Z)({},r));case 4:if(s=e.sent,2e4!==(u=s.data).code){e.next=9;break}return e.next=9,c({type:"save",payload:{slogan:u.result.slogan}});case 9:case"end":return e.stop()}}),e)})),switchProjectPermission:o().mark((function e(t,n){var r,i,c,s,u,l,p,d,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.payload,n.call,c=n.select,e.next=4,c((function(e){return(0,a.Z)({},e)[C]}));case 4:s=e.sent,u=s.accountPermissions,l=s.projectPermissions,p=i.id,d=null==(r=l.find((function(e){return e.projectId===p})))?void 0:r.permTreeList,f=S(u||[]),h=S(d||[]),I.Z.setAuthority(Array.from(new Set([].concat(f,h))));case 12:case"end":return e.stop()}}),e)}))},subscription:{}}},62887:(e,t,n)=>{"use strict";n.d(t,{U:()=>h,Qo:()=>p,wr:()=>f,a$:()=>d});var r=n(61193),a=n(5133),i=n(61409),o=n(49722),c=(n(70300),n(35239)),s=void 0,u=n(81354),l=u.enc.Utf8.parse("(%^8Hd$&^6f9H)k!");function p(e){var t=u.enc.Utf8.parse(e);return u.AES.encrypt(t,l,{mode:u.mode.ECB,padding:u.pad.Pkcs7}).toString()}var d=function(e){var t=e.data.result;t.url=window.location.origin,t.accountHead="//yunting-1251101074.coscd.myqcloud.com/account_head/"+window.location.hostname+"/128_45.png?_="+(new Date).getTime(),t.accountLogo="//yunting-1251101074.coscd.myqcloud.com/account_logo/"+window.location.hostname+"/130_130.png?_="+(new Date).getTime(),t.userHeadUrl&&(t.headPic=t.userHeadUrl+"?_="+(new Date).getTime()),r.Z.register(t)},f=function(e){var t=e.data.result;t.line="ON"===t.line,t.url=window.location.origin,t.accountHead="//yunting-1251101074.coscd.myqcloud.com/account_head/"+window.location.hostname+"/128_45.png?_="+(new Date).getTime(),t.accountLogo="//yunting-1251101074.coscd.myqcloud.com/account_logo/"+window.location.hostname+"/130_130.png?_="+(new Date).getTime(),t.userHeadUrl&&(t.headPic=t.userHeadUrl+"?_="+(new Date).getTime()),r.Z.register(t),o.h.get("/authority").then((function(e){var t=e.data;if(2e4!==t.code)return s.setState({error:t.msg}),null;r.Z.setAuthority(Array.from(new Set(t.result))),o.h.post("/projects/list",{}).then((function(e){var t,n=e.data;if(2e4!==n.code)return s.setState({error:n.msg}),null;c.t.set(c.V.project,n.result.list.map((function(e){return{id:e.id,name:e.name,projectType:e.projectType}}))),c.t.get(c.V.curProject)?t=c.t.get(c.V.curProject):c.t.get(c.V.project)&&c.t.get(c.V.project)[0]?(t=c.t.get(c.V.project)[0],c.t.set(c.V.curProject,c.t.get(c.V.project)[0])):t=null,t?i.mW.replace("/personalSettings/overview"):(a.Z.warning("\u8bf7\u5148\u6dfb\u52a0\u81f3\u5c11\u4e00\u4e2a\u9879\u76ee\uff01"),i.mW.replace("/account/project"),document.querySelector(".create-btn-wrap .el-button").click())}))}))},h=[{word:"\u4e91\u542cCEM\uff0c\u8ba9\u5ba2\u6237\u7231\u4e0a\u4f60\u7684\u54c1\u724c",img:n(88956)},{word:"\u4e91\u542cCEM\uff0c\u4f53\u9a8c\u9a71\u52a8\u54c1\u724c\u589e\u957f",img:n(57434)},{word:"\u5168\u6e20\u9053\uff0c\u5168\u89e6\u70b9\uff0c\u5168\u65c5\u7a0b\u63d0\u5347\u5ba2\u6237\u4f53\u9a8c",img:n(45661)},{word:"\u6253\u9020\u4f53\u9a8c\u95ed\u73af\u7ba1\u7406\u3001360\u5ea6\u63d0\u5347\u5ba2\u6237\u4f53\u9a8c",img:n(4309)},{word:"\u964d\u4f4e\u4f01\u4e1a\u8fd0\u8425\u6210\u672c\uff0c\u63d0\u5347\u56e2\u961f\u6548\u7387<br />\u4fc3\u8fdb\u54c1\u724c\u8425\u6536\u589e\u957f",img:n(2467)},{word:"\u4f53\u9a8c\u7ba1\u7406\u662f\u4f01\u4e1a\u8f6f\u4ef6\u7684\u7ec8\u6781\u5f62\u6001",img:n(9645)}]},5133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});n(75314);var r=n(11187);const a={error:function(e,t,n){return void 0===t&&(t=3),r.default.error({className:"yt-error-message",duration:t,content:e,key:n})},success:function(e,t,n){return void 0===t&&(t=3),r.default.success({className:"yt-success-message",duration:t,content:e,key:n})},warning:function(e,t,n){return void 0===t&&(t=3),r.default.warning({className:"yt-warning-message",duration:t,content:e,key:n})},info:function(e,t,n){return void 0===t&&(t=3),r.default.info({className:"yt-info-message",duration:t,content:e,key:n})}}},57522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(87462),a=n(67294),i=n(73935),o=n(45697),c=n.n(o),s=n(43036),u=n(92360),l=function(e){var t=e.dialogType,n=e.titleText,i=e.titleHelp,o=e.onOk,c=e.onCancel,l=e.cancelText,p=void 0===l?"\u53d6\u6d88":l,d=e.okText,f=void 0===d?"\u786e\u5b9a":d,h=e.content,m=e.showClose,v=void 0===m||m,y=e.test,g=e.onDismiss,x=e.top,I=void 0===x?"30%":x,b=e.noFoot,T=e.className,E=e.count,w=e.category,k=a.useState({}),C=k[0],S=k[1],N=a.useState(!1),O=N[0],_=N[1],j=function(e){o((0,r.Z)({},e,C,{confirmRun:void 0})),g()},A="string"===typeof h?a.createElement("div",{className:"simple_content"},h):a.cloneElement(h,{setParams:S});return a.createElement("section",{className:"yt_modal_background_wrapper "+T},a.createElement("div",{className:"yt_modal_dialog_wrapper",style:{top:I}},a.createElement(u.Loading,{loading:O},a.createElement("div",{className:"dialog_title"},a.createElement("span",null,a.createElement("span",{className:"title_text "+t},n),i&&a.createElement(s.Z,{placement:"top",overlay:i,overlayClassName:"alert-log-tips"},a.createElement("i",{className:"icon-cem_file1",style:{marginLeft:4,color:"#8C8C8C"}}))),v&&a.createElement("span",{className:"title_close",onClick:g},a.createElement("i",{className:"icon-cem_cancel"}))),a.createElement("div",{className:"dialog_content"},A),!b&&a.createElement("div",{className:"dialog_footer "+(w?"explore_footer":"")},w&&a.createElement("span",{className:"dialog_tip"},"* \u8fd8\u53ef\u4ee5\u4fdd\u5b58",50-(E||0),"\u4e2a",w),c&&a.createElement(u.Button,{onClick:function(){c(),g()}},p),a.createElement(u.Button,{type:"primary",onClick:function(){if(C.confirmRun)_(C.confirmRun(j));else if(y){var e=y();"boolean"===typeof e?(e&&o(C),e&&g()):e&&e.then((function(){o(C),g()})).catch((function(){}))}else o(C),g()}},f)))))};const p=l;l.propTypes={titleText:c().string,dialogType:c().oneOf(["success, wraning, danger"]),titleHelp:c().string,onCancel:c().func,cancelText:c().string,onOk:c().func,onDismiss:c().func,okText:c().string,content:c().oneOfType([c().string,c().node]),showClose:c().bool,noFoot:c().bool,className:c().string};const d=function(e){var t=document.createElement("div");document.body.appendChild(t);var n,o=(0,r.Z)({},e);function c(){var n=i.unmountComponentAtNode(t);n&&t.parentElement&&t.parentNode.removeChild(t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var c=a.some((function(e){return e&&e.triggerCancel}));e.onCancel&&c&&e.onCancel.apply(e,a)}n=o,i.render(a.createElement(p,(0,r.Z)({},n,{onDismiss:c})),t)}},25713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});n(43378);var r=n(62443),a=n(94578),i=n(67294),o=n(45697),c=n.n(o),s=n(97189),u=[{title:"\u5bfc\u51fa\u56fe\u7247",type:"image"},{title:"\u5bfc\u51fa\u6570\u636e",type:"data"}],l=function(e){function t(t){var n;return(n=e.call(this,t)||this)._setPadShowFalse=function(){n.state.show&&n.setState({show:!1})},n._handleOnClick=function(e){var t=n.state.show;t&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),setTimeout((function(){n.setState({show:!t})}),0)},n._handleMouseEnter=function(e){0===e&&(0,s.addClass)(n.panel,"padHover")},n._handleMouseLeave=function(e){0===e&&(0,s.removeClass)(n.panel,"padHover")},n.state={show:!1},n}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("click",this._setPadShowFalse)},n.componentWillUnmount=function(){window.removeEventListener("click",this._setPadShowFalse)},n.render=function(){var e=this,t=this.state.show,n=this.props,a=n.onClick,o=n.options,c=void 0===o?u:o,s=n.isIgnore,l=n.disabled,p=n.disableType,d=n.panelOverlay,f=n.popoverOption,h=n.data,m=n.newColor;return i.createElement(i.Fragment,null,"open"===f?i.createElement(i.Fragment,null,i.createElement("div",{className:"analysis-chart-header-more-button-wrapper"},i.createElement(r.default,{content:"\u5bfc\u51fa\u6570\u636e",placement:"top",mouseEnterDelay:.2},i.createElement("i",{style:{color:"empty"===h?"#bfbfbf":"#8c8c8c"},className:"icon-daochu icon_type "+("empty"===h?"button_content_disable":""),onClick:function(){return a("data")}})),i.createElement(r.default,{content:"\u5bfc\u51fa\u56fe\u7247",placement:"top",mouseEnterDelay:.2},i.createElement("i",{style:{color:"empty"===h?"#bfbfbf":"#8c8c8c"},className:"icon-xiazaitupian icon_type "+("empty"===h?"button_content_disable":""),onClick:function(){return a("image")}})))):i.createElement("div",{className:"analysis-chart-header-more-button-wrapper",onClick:this._handleOnClick,"data-html2canvas-ignore":s&&s},i.createElement("span",{className:"button-trigger"},i.createElement("i",{className:"icon-cem_new-more",style:{color:t?m?"#7262FD":"#093b88":"#8c8c8c"}})),i.createElement("div",{ref:function(t){return e.panel=t},className:"button-panel "+(t?"active":"")},Object.values(c).map((function(t,n){return i.createElement("div",{key:t.type,style:{cursor:l&&p.includes(t.type)?"not-allowed":"pointer"},title:l&&p.includes(t.type)&&d},i.createElement("div",{className:"panel-item "+(l&&p.includes(t.type)&&"panel-item-disabled"),onMouseEnter:function(){return e._handleMouseEnter(n)},onMouseLeave:function(){return e._handleMouseLeave(n)},onClick:function(){return a(t.type)},style:{pointerEvents:l&&p.includes(t.type)?"none":"auto"}},t.title))})))))},t}(i.Component);l.propTypes={onClick:c().func.isRequired,options:c().array,isIgnore:c().bool,disabled:c().bool,disableType:c().array,showType:c().string,data:c().array,newColor:c().bool};const p=l},53754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(87462),a=n(94578),i=n(92360),o=n(67294),c=n(45697),s=n.n(c),u=n(94184),l=n.n(u),p=function(e){function t(t){var n;return(n=e.call(this,t)||this).togglePanel=function(e){var t=n.state,r=t.panelShow;t.value,t.filteredOptions;r&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),setTimeout((function(){return n.setState({panelShow:!r})}),0)},n.handleClear=function(){n.setState({tempValue:[]},(function(){return n.handleCheckAllStatus()}))},n.handleCheckAllStatus=function(){var e=n.state,t=e.tempValue,r=e.filteredOptions;n.setState({allChecked:t.length>0&&t.length===r.length,indeterminate:t.length>0&&t.length<r.length})},n.handleConfirm=function(){var e=n.state.tempValue;n.setState({value:JSON.parse(JSON.stringify(e)),panelShow:!1}),n.props.onChange(e)},n.handleCancel=function(){var e=n.state,t=e.value,r=e.filteredOptions;n.setState({tempValue:JSON.parse(JSON.stringify(t)),panelShow:!1,allChecked:t&&t.length>0&&t.length===r.length,indeterminate:t&&t.length>0&&t.length<r.length},(function(){return n.handleClearInput()}))},n.handleReset=function(){n.setState({tempValue:[],value:[],panelShow:!1,searchText:""},(function(){return n.handleCheckAllStatus()}))},n.handleFilter=function(e){var t=n.state.options;if(e.trim().length>0){var r=t.filter((function(t){return t.name.toUpperCase().includes(e.toUpperCase())}));n.setState({searchText:e,filteredOptions:r})}else n.setState({filteredOptions:t,searchText:e})},n.handleClearInput=function(){var e=n.state,t=e.searchText,r=e.options;t.length>0&&n.setState({searchText:"",filteredOptions:r},(function(){return n.handleCheckAllStatus()}))},n.state={type:t.type||2,title:t.title||"",options:[],filteredOptions:[],tempValue:t.defaultValue||[],value:t.defaultValue||[],maxLength:t.maxLength||0,indeterminate:!1,allChecked:!1,panelShow:!1,searchText:"",placeholder:t.placeholder||"\u8bf7\u8f93\u5165\u641c\u7d22\u5173\u952e\u8bcd",showClearBtn:t.showClearBtn||!1,mainColor:t.color||"rgb(97,121,155)"},n}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("click",this.handleCancel)},t.getDerivedStateFromProps=function(e,t){var n=e.type,r=e.title,a=e.options,i=e.value;return n!==t.type?{type:n}:r!==t.title?{title:r}:JSON.stringify(a)!==JSON.stringify(t.options)?{options:a||[],filteredOptions:a||[]}:Array.isArray(i)&&JSON.stringify(i)!==JSON.stringify(t.value)?{value:i||[],tempValue:i||[],allChecked:i&&i.length>0&&i.length===t.filteredOptions.length,indeterminate:i&&i.length>0&&i.length<t.filteredOptions.length}:null},n.componentWillUnmount=function(){window.removeEventListener("click",this.handleCancel)},n.handleCheckAll=function(){var e=this,t=this.state,n=t.tempValue,r=t.filteredOptions;this.setState({tempValue:n.length===r.length?[]:r.map((function(e){return e.id}))},(function(){return e.handleCheckAllStatus()}))},n.handleCheckOne=function(e){var t=this,n=this.state,r=n.tempValue,a=n.maxLength;if(a>0&&(r.length>=a&&r.includes(e)||r.length<a)||0===a){var i=r.indexOf(e);i>-1?r.splice(i,1):r.push(e),this.setState({tempValue:r},(function(){return t.handleCheckAllStatus()}))}},n.render=function(){var e=this,t=this.state,n=t.type,a=t.title,c=t.options,s=t.filteredOptions,u=t.indeterminate,p=t.allChecked,d=t.panelShow,f=t.tempValue,h=t.value,m=t.maxLength,v=t.style,y=t.searchText,g=t.mainColor,x=c.length>0?c.filter((function(e){return h.includes(e.id)})).map((function(e){return e.name})):[],I=l()({"multi-select-wrapper":!0,whiteBg:1===n,sel:d}),b=n&&1===n?"\u8bf7\u9009\u62e9":"\u5168\u90e8",T=this.props.note;return o.createElement("div",{className:I,style:(0,r.Z)({backgroundColor:d?g:""},v),onClick:this.togglePanel},o.createElement("span",null,a&&a+"\uff1a"),o.createElement("span",{className:"currValue",title:x.length>0?x.length===c.length?"\u5168\u90e8":x.join("\uff0c"):b},x.length>0?x.length===c.length?"\u5168\u90e8":x.join("\uff0c"):b),o.createElement("i",{className:"icon-cem_arrow-launches",style:{transform:d?"rotate(-180deg)":"",top:d?"-2px":"3px"}}),o.createElement("div",{className:"multi-select-panel",style:{display:d?"block":"none"},onClick:function(e){return e.stopPropagation()}},o.createElement("div",{className:"multi-select-header"},o.createElement(i.Input,{ref:function(t){return e.input=t},value:y,onChange:this.handleFilter,placeholder:this.state.placeholder,icon:y.length>0?"close":"search",onIconClick:this.handleClearInput})),o.createElement("ul",{className:"multi-select-panel-body"},s.length>0?o.createElement(o.Fragment,null,0===m&&o.createElement("li",{className:"all_check",onClick:function(){return e.handleCheckAll()}},o.createElement("div",{className:"all_select"},o.createElement(i.Checkbox,{checked:p,indeterminate:u,onChange:function(){return e.handleCheckAll()}}),o.createElement("label",null,"\u5168\u9009"))),s.slice(0,100).map((function(t,n){return o.createElement("li",{key:n,className:m>0&&f.length>=m&&!f.includes(t.id)?"disabled":"",onClick:function(){return e.handleCheckOne(t.id)},style:{minHeight:T?"50px":"36px"}},o.createElement(i.Checkbox,{disabled:m>0&&f.length>=m&&!f.includes(t.id),checked:f.includes(t.id),value:t.id,onChange:function(){return e.handleCheckOne(t.id)}}),o.createElement("label",{title:t.name},t.name),T&&o.createElement("p",{className:"note"},T(t)))})),s.length>99&&o.createElement("li",{className:"no_data",style:{color:"#d96969",paddingLeft:"18px",fontSize:"12px"}},"\u2014 \u67e5\u770b\u66f4\u591a\u8bf7\u641c\u7d22")):o.createElement("li",{className:"no_data"},"\u6682\u65e0\u6570\u636e")),o.createElement("div",{className:"multi-select-panel-footer"},this.state.showClearBtn&&o.createElement("div",{className:"clearBtn",onClick:this.handleClear},"\u6e05\u9664"),o.createElement(i.Button,{onClick:this.handleCancel},"\u53d6\u6d88"),o.createElement(i.Button,{type:"primary",onClick:this.handleConfirm},"\u786e\u8ba4"))))},t}(o.Component);p.propTypes={type:s().number,title:s().string.isRequired,options:s().arrayOf(s().shape({id:s().oneOfType([s().string,s().number]),name:s().string})),defaultValue:s().arrayOf(s().string),value:s().arrayOf(s().string),maxLength:s().number,onChange:s().func.isRequired,style:s().object,note:s().func,placeholder:s().string,showClearBtn:s().bool}},43036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(15086);var r=n(94055),a=n(87462),i=n(63366),o=n(67294),c=["children"],s=o.forwardRef((function(e,t){var n=e,s=n.children,u=(0,i.Z)(n,c);return o.createElement(r.default,(0,a.Z)({ref:t,arrowContent:o.createElement("div",{className:"rc-tooltip-arrow-inner"})},u),s)}));s.defaultProps={destroyTooltipOnHide:!1};const u=o.memo(s)},63023:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(87462),a=n(87757),i=n.n(a),o=n(15861),c=n(49722);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/subproject-connection/warning/find",{projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,e.abrupt("return",c.h.post("/filter/find",{type:"INBOX",filterTypes:["USER","TEAM"],projectId:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.weekDay,r=t.time,a=t.pushType,o=t.projectId,s=t.subscribeUser,u=t.subscribeTeam,e.abrupt("return",c.h.post("/subproject-connection/warning/add",{weekDay:n,time:r,pushType:a,projectId:o,subscribeUser:s,subscribeTeam:u}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(i().mark((function e(t){var n,r,a,o,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.weekDay,r=t.time,a=t.pushType,o=t.projectId,s=t.subscribeUser,u=t.subscribeTeam,l=t.id,e.abrupt("return",c.h.post("/subproject-connection/warning/update",{weekDay:n,time:r,pushType:a,projectId:o,subscribeUser:s,subscribeTeam:u,id:l}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(35239),y=function(e){var t=e.pushType,n=void 0===t?"weixin":t,r=e.weekDay,a=void 0===r?"1,2,3,4,5":r,i=e.time,o=void 0===i?"08:00":i,c=e.subscribeTeam,s=void 0===c?[]:c,u=e.subscribeUser;return{formPush:{pushType:n,weekDay:a,time:o,subscribeTeam:s,subscribeUser:void 0===u?[]:u}}},g=n(64396).Z.pushRule,x={projectId:null,visible:!1,formPush:{pushType:"weixin",weekDay:"1,2,3,4,5",time:"",subscribeTeam:[],subscribeUser:[]},teamList:[],userList:[],hasChange:!1,id:null};const I={namespace:g,state:JSON.parse(JSON.stringify(x)),reducers:{visibleChange:function(e,t){var n=t.payload;return(0,r.Z)({},e,{visible:n})},save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchUserList:i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.put,a=n.call,e.next=3,a(l,{projectId:v.t.get(v.V.curProject).id});case 3:return o=e.sent,e.next=6,r({type:"save",payload:{teamList:o.data.result.team,userList:o.data.result.user}});case 6:case"end":return e.stop()}}),e)})),getDetail:i().mark((function e(t,n){var a,o,c,u,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.put,o=n.call,c=n.select,e.next=3,c((function(e){return e[g]}));case 3:return u=e.sent,l=u.projectId,e.next=7,o(s,{projectId:l});case 7:if(p=e.sent,!(d=p.data.result)){e.next=12;break}return e.next=12,a({type:"save",payload:(0,r.Z)({},y(d.data?d.data:{}),{id:d.data&&d.data.id})});case 12:case"end":return e.stop()}}),e)})),formPushChange:i().mark((function e(t,n){var r,a,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,n.call,o=n.select,e.next=4,o((function(e){return e[g]}));case 4:return c=e.sent,(s=c.formPush)[r.key]=r.value,e.next=9,a({type:"save",payload:{formPush:JSON.parse(JSON.stringify(s))}});case 9:case"end":return e.stop()}}),e)})),comfirm:i().mark((function e(t,n){var a,o,c,s,u,l,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,o=n.call,c=n.select,e.next=4,c((function(e){return e[g]}));case 4:return s=e.sent,u=s.formPush,l=s.id,e.next=9,o(l?h:d,(0,r.Z)({projectId:v.t.get(v.V.curProject).id,id:l},u));case 9:return p=e.sent,f=p.data.result,e.next=13,a({type:"save",payload:{id:l||f&&f.data&&f.data.id}});case 13:return e.abrupt("return",f);case 14:case"end":return e.stop()}}),e)})),clear:i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.call,n.select,e.next=4,a({type:"save",payload:(0,r.Z)({},JSON.parse(JSON.stringify(x)))});case 4:case"end":return e.stop()}}),e)}))}}},31799:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.projectId,n=e.needFetchList,r=e.expandInfo;return o.h.post("/check/project/list",{projectId:t,list:n,expandInfo:r})}function s(e){var t=e.projectId,n=e.type,r=e.expandInfo;return o.h.post("/check/owner/list",{projectId:t,pageType:n,expandInfo:r})}function u(e){var t=e.checkAccountId,n=e.defaultChecked,r=e.defaultChecks,a=e.defaultChecksName,i=e.defaultNumberChecked,c=e.defaultNumberConfig,s=e.accountChecks,u=e.ownerChecked,l=e.ownerChecks,p=e.pageType,d=e.projectId,f=e.expandInfo;return o.h.post("/check/owner/save",{checkAccountId:t,defaultChecked:n,defaultChecks:r,defaultChecksName:a,defaultNumberChecked:i,defaultNumberConfig:c,accountChecks:s,ownerChecked:u,ownerChecks:l,pageType:p,projectId:d,expandInfo:f})}n(18446);var l=n(35717),p=n(39432),d=n(35239),f=n(64396),h=n(87219),m=f.Z.screening;Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var v={relationData:new Map,deepCloneList:{}},y={screeningMap:[],curScreeningMap:void 0,screeningList:[],defaultConfig:void 0,screeningValues:[]};const g={namespace:m,state:Object.assign({},y),effects:{fetchDefaultConfig:i().mark((function e(t,n){var r,a,o,c,u,l,p,f,h,v,y,g,x,I,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,u=n.take,l=r.type,p=r.value,f=r.expandInfo,h=r.noSavingFilterList,e.next=5,a(s,{projectId:d.t.get(d.V.curProject).id,type:l,expandInfo:f});case 5:return v=e.sent,y=v.data.result,e.next=9,o({type:"fetchScreeningMap",payload:{curShowList:y.ownerChecks.map((function(e){return e.id})),expandInfo:f,noSavingFilterList:h}});case 9:return e.next=11,u("fetchScreeningMap/@@end");case 11:return e.next=13,c((function(e){return e[m]}));case 13:return g=e.sent,x=g.curScreeningMap,I=x.deepcopy(),b=p||y.ownerChecked||[],e.next=19,o({type:"save",payload:{defaultConfig:y,screeningValues:b,curScreeningMap:I,screeningList:I.deepcopy()}});case 19:return e.next=21,o({type:"refilterList"});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e)})),fetchScreeningMap:i().mark((function e(t,n){var a,o,s,u,f,y,g,x,I,b,T,E,w,k,C,S,N;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,o=n.call,s=n.put,u=n.select,n.take,f=a.curShowList,y=a.expandInfo,g=a.noSavingFilterList,e.next=5,u((function(e){return e[m]}));case 5:if(x=e.sent,I=x.screeningMap,b=[],!g){e.next=17;break}return e.next=11,o(c,{needFetchList:f,projectId:d.t.get(d.V.curProject).id,expandInfo:y});case 11:T=e.sent,E=T.data.result,w=E.map((function(e){return e.relation&&v.relationData.set(e.id,(0,l.I)(e.relation)),(0,r.Z)({},e,{data:e.data.map((function(t){return(0,r.Z)({},t,{options:t.options?(0,p.QM)(t.options,"label","z_p",e.id):t.options})}))})})),f.forEach((function(e){w.forEach((function(t){e!==t.id||b.some((function(t){return t.id===e}))||b.push(t)}))})),e.next=31;break;case 17:if(k=[],f.some((function(e){return!I.map((function(e){return e.id})).includes(e)}))&&f.forEach((function(e){I.map((function(e){return e.id})).includes(e)||k.push(e)})),k.length){e.next=23;break}f.forEach((function(e){I.forEach((function(t){e===t.id&&b.push(t)}))})),e.next=31;break;case 23:return e.next=25,o(c,{needFetchList:k,projectId:d.t.get(d.V.curProject).id,expandInfo:y});case 25:return C=e.sent,S=C.data.result,N=(0,h.ZP)(I,(function(e){e.push.apply(e,S.map((function(e){return e.relation&&v.relationData.set(e.id,(0,l.I)(e.relation)),(0,r.Z)({},e,{data:e.data.map((function(e){return(0,r.Z)({},e,{options:e.options?(0,p.QM)(e.options,"label"):e.options})}))})})).deepcopy())})),f.forEach((function(e){N.forEach((function(t){e!==t.id||b.some((function(t){return t.id===e}))||b.push(t)}))})),e.next=31,s({type:"save",payload:{screeningMap:N}});case 31:return e.next=33,s({type:"save",payload:{curScreeningMap:b}});case 33:return v.deepCloneList.curScreeningMap=b.deepcopy(),e.abrupt("return");case 35:case"end":return e.stop()}}),e)})),screeningValuesChange:i().mark((function e(t,n){var r,a,o,c,s,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,console.time("filter"),e.next=5,o((function(e){return e[m]}));case 5:if(c=e.sent,s=c.screeningValues,u=s.deepcopy(),l=r.id,p=r.values,l){e.next=12;break}return console.error("\u6ca1\u6709id"),e.abrupt("return");case 12:return u.some((function(e){return e.id===l&&(e.values=p,!0)}))||u.push({id:l,values:p}),u=u.filter((function(e){return e.values.length>0})),e.next=16,a({type:"save",payload:{screeningValues:u}});case 16:return e.next=18,a({type:"refilterList"});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})),updateDefaultValue:i().mark((function e(t,n){var a,o,c,s,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,n.put,o=n.select,e.next=3,o((function(e){return e[m]}));case 3:return c=e.sent,s=c.defaultConfig,e.next=7,a(u,(0,r.Z)({},s));case 7:return l=e.sent,p=l.data,e.abrupt("return",p);case 10:case"end":return e.stop()}}),e)})),defaultValueChange:i().mark((function e(t,n){var r,a,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.call,a=n.put,o=n.select,e.next=4,o((function(e){return e[m]}));case 4:return c=e.sent,s=c.defaultConfig,u=r.value,Object.keys(u).forEach((function(e){void 0!==u&&(s[e]=u[e])})),e.next=10,a({type:"save",payload:{defaultConfig:JSON.parse(JSON.stringify(s))}});case 10:return e.next=12,a({type:"updateDefaultValue"});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})),refilterList:i().mark((function e(t,n){var r,a,o,c,s,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n.call,r=n.put,a=n.select,e.next=4,a((function(e){return e[m]}));case 4:return o=e.sent,c=o.screeningValues,s=o.curScreeningMap,u=v.deepCloneList.curScreeningMap,(p=c.deepcopy()).forEach((function(e){s.forEach((function(t){e.id===t.id&&t.relation&&u.forEach((function(e){if(e.id===t.id){var n=(0,l.y)(s.filter((function(t){return t.id===e.id}))[0].data,p.deepcopy().filter((function(t){return t.id===e.id}))[0].values,t.relation,v.relationData.get(t.id)).list;e.data=n,e.has=!0}else e.has||(e.data=s.find((function(t){return t.id===e.id})).data)}))}))})),u.forEach((function(e){return delete e.has})),u.forEach((function(e){if(e.relation){var t=p.find((function(t){return t.id===e.id}));t&&(t.values.forEach((function(t){e.data.some((function(e){if(t.id===e.id){var n=e.options.map((function(e){return e.id}));return t.values=t.values.filter((function(e){return n.includes(e)})),!0}return!1}))})),t.values=t.values.filter((function(e){return e.values.length>0})))}})),setTimeout((function(){return v.deepCloneList.curScreeningMap=s.deepcopy()}),0),console.timeEnd("filter"),e.next=16,r({type:"save",payload:{screeningList:u,screeningValues:p}});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})),clearAllValues:i().mark((function e(t,n){var r,a,o,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.put,a=n.select,e.next=4,a((function(e){return e[m]}));case 4:return o=e.sent,c=o.defaultConfig,o.screeningMap,s=o.screeningValues,u=c.defaultChecked.find((function(e){return e.id===c.defaultChecksName[0]})),l=s.deepcopy(),l=u?l.filter((function(e){return!!e.values.some((function(e){return e.id===u.id}))&&(e.values=e.values.filter((function(e){return e.id===u.id})),!0)})):[],e.next=13,r({type:"save",payload:{screeningValues:l}});case 13:return e.next=15,r({type:"refilterList"});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)}))},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e){return Object.assign({},y,{screeningMap:e.screeningMap})}}}},35717:(e,t,n)=>{"use strict";n.d(t,{y:()=>r,I:()=>a}),Array.prototype.deepcopy=function(){return JSON.parse(JSON.stringify(this))};var r=function(e,t,n,r){var a=t.deepcopy(),i=e.deepcopy();a.forEach((function(e,t){return e.index=t+1})),i.forEach((function(e){a.forEach((function(t){e.id===t.id&&(e.index=t.index)}))}));for(var o=function(){var e=a.shift(),t=new Set;e.values.forEach((function(e){for(var a=0;a<n[0].length;a++)if(r.get(a).has(e)){r.get(a).get(e).forEach((function(e){return n[e].forEach((function(e){return t.add(e.id)}))}));break}})),i.forEach((function(n){(n.index>e.index||!n.index)&&(n.options=n.options.filter((function(e){return t.has(e.id)&&t.delete(e.id)})))}))};a.length>0;)o();return i.forEach((function(e){delete e.index})),{list:i}},a=function(e){var t,n=new Map;if(null==e||!e.length)return n;for(var r=null==(t=e[0])?void 0:t.length,a=0;a<r;a++)n.set(a,new Map);return e.forEach((function(e,t){e.forEach((function(e,r){(!n.get(r)||n.get(r)&&!n.get(r).has(e.id))&&(!n.get(r)&&n.set(r,new Map),n.get(r).set(e.id,[])),n.get(r).get(e.id).push(t)}))})),n}},8201:(e,t,n)=>{"use strict";n.d(t,{P:()=>s,Z:()=>u});var r=n(92360),a=n(67294),i=n(30133),o=n(94184),c=n.n(o),s=function(e){return!["",null,void 0,"error","empty","empty_filter"].includes(e)};const u=function(e){var t=e.className,n=e.renderTitle,o=e.style;return a.createElement("div",{className:c()("yt_section_component_wrapper",t),style:o},function(e){var t=e.emptyHint,n=void 0===t?"\u6682\u65e0\u6570\u636e":t,o=e.errorHint,c=void 0===o?"\u52a0\u8f7d\u5931\u8d25":o,s=e.emptyFilterHint,u=e.loading,l=void 0!==u&&u,p=e.data,d=e.paragraph;return""===p||void 0===p?a.createElement(i.Z,{className:"section_skeleton",paragraph:d}):a.createElement(r.Loading,{className:"section_content",loading:l},"error"===p?a.createElement("div",{className:"error-block"},c):"empty"===p||null===p?a.createElement("div",{className:"empty-block"},n):"empty_filter"===p?a.createElement("div",{className:"empty-block"},s):e.children)}(e),n&&a.createElement("div",{className:"section_title"},n))}},35303:(e,t,n)=>{"use strict";n.d(t,{RS:()=>p,Wx:()=>s.Wx,Ph:()=>s.ZP});var r=n(87462),a=n(94578),i=n(67294),o=n(45697),c=n.n(o),s=n(38263),u=n(97189),l=n.n(u),p=function(e){function t(t){var n;return(n=e.call(this,t)||this).toggleDisplay=function(){var e=n.props,t=e.multiple,r=e.tags;n.state.open?(!t&&!r||!t&&r)&&n.closeSelection():n.setState({open:!0})},n.closeSelection=function(){n.setState({open:!1})},n.onInputKeyDown=function(e){e.stopPropagation;var t=n.select.state.inputValue;if(13===e.keyCode&&t.trim().length>0){for(var r=document.querySelectorAll(".rc-select-focused .rc-select-selection")[0].getAttribute("aria-controls"),a=document.getElementById(r).children[0].children,i=0,o=!1,c=0;c<a.length;c++)if(l().hasClass(a[c],"rc-select-dropdown-menu-item-active")){i=c,o=!0;break}if(!o)for(var s=0;s<a.length;s++)if(a[s].innerText===t){i=s;break}a[i].click()}},n.state={open:!1},n}(0,a.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return(0,r.Z)({},e)};var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("click",this.closeSelection)},n.componentWillUnmount=function(){window.removeEventListener("click",this.closeSelection)},n.render=function(){var e=this,t=this.state,n=t.open,a=t.multiple,o=t.tags,c=t.showSearch,u=i.createElement("i",{className:"icon-cem_check-out"}),l=i.createElement("i",{className:"icon-cem_delete"}),p=(0,r.Z)({multiple:!1,tags:!0,showArrow:!1,menuItemSelectedIcon:u,disabled:!1,removeIcon:l,clearIcon:l,defaultActiveFirstOption:!1,notFoundContent:"\u6682\u65e0\u6570\u636e",placeholder:"\u8bf7\u9009\u62e9",onBlur:this.closeSelection,onInputKeyDown:this.onInputKeyDown,showSearch:c},this.props);return i.createElement("div",{className:"select-wrapper",onClick:function(t){t.preventDefault(),t.nativeEvent.stopImmediatePropagation(),!p.disabled&&e.toggleDisplay()}},i.createElement(s.ZP,(0,r.Z)({ref:function(t){return e.select=t}},p,this.state),this.props.children),a||o||!a&&!o?i.createElement("i",{className:"icon-cem_pull-down-or-take-up "+(p.disabled?"disabled_icon":""),style:{transform:n?"rotate(180deg)":"",top:n?"4px":"5px"}}):null)},t}(i.Component);p.propTypes={multiple:c().bool,tags:c().bool,disabled:c().bool,placeholder:c().string,value:c().oneOfType([c().number,c().string,c().array]),onChange:c().func,onSelect:c().func,onInputKeyDown:c().func,showSearch:c().bool,maxTagCount:c().number}},7161:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(87462),a=n(64396).Z.settingScreening,i={};const o={namespace:a,state:Object.assign(i,{}),effects:{},reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)},clear:function(e){return Object.assign(i,{})}}}},60496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(94578),a=n(67294),i=n(39432),o=n(43036),c=function(){},s=function(e){function t(t){var n;return(n=e.call(this,t)||this).getPanelWidth=function(){var e=n.props,t=e.flavor,r=e.options,a=e.rightHook,o=Math.max.apply(null,r.map((function(e){return(0,i.jD)(e.title,14)})))+2+10+32;return o+=void 0!==t?24:0,(o+=void 0!==a?30:0)>100?o:100},n._setPadShowFalse=function(){n.state.show&&n.setState({show:!1})},n._handleParentClick=function(e){n.state.show&&n.props.showFlavor&&n.props.enable&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())},n._handleTriggerOnClick=function(){var e=n.state.show;n.props.enable&&setTimeout((function(){n.setState({show:!e})}),0)},n.state={show:!1,firstLiHover:!1,panelWidth:n.getPanelWidth()},n}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("click",this._setPadShowFalse)},n.componentWillUnmount=function(){window.removeEventListener("click",this._setPadShowFalse)},n.componentDidUpdate=function(e){var t=e.options,n=this.props.options;JSON.stringify(t)!==JSON.stringify(n)&&this.setState({panelWidth:this.getPanelWidth()})},n.render=function(){var e=this.state,t=e.show,n=e.panelWidth,r=this.props,i=r.activeObj,s=void 0===i?"":i,u=r.onChange,l=r.options,p=r.objName,d=r.preTitle,f=r.sufTitle,h=void 0===f?"":f,m=r.showTitle,v=void 0===m||m,y=r.overlay,g=r.divider,x=void 0===g?"right":g,I=r.flavor,b=r.className,T=void 0===b?"":b,E=r.onFlavorChange,w=void 0===E?c:E,k=r.sufIcon,C=r.style,S=r.type,N=void 0===S?"text":S,O=r.enable,_=r.rightHook,j=l.find((function(e){return e.value===s})),A=""===s?h:j&&j.title,D=""===s?h:j&&j.icon;return a.createElement("div",{className:"single-select-button-wrapper single_select_diviver_"+x+" single-select-button_"+N+" "+T,style:C,onClick:this._handleParentClick},a.createElement("div",{className:"button_content "+(O?"":"button_content_disable")},a.createElement("span",{onClick:this._handleTriggerOnClick},a.createElement("span",{className:"button-trigger "+(t?"sel":"")},v&&a.createElement(a.Fragment,null,d&&a.createElement("span",{className:"pre-title"},d,"\uff1a"),D?a.createElement("i",{className:D+" word_icon_hover"}):a.createElement("span",{className:"button-title"},A)),a.createElement("i",{className:k||"icon-cem_pull-down-or-take-up",style:{transform:t?"rotate(-180deg)":""}})),y&&a.createElement("span",{style:{marginLeft:4}},a.createElement(o.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:y},a.createElement("i",{className:"icon-cem_file1"})))),a.createElement("div",{className:"button-panel "+(t?"active":""),style:{minWidth:n}},l.map((function(e,t){return a.createElement("div",{className:"panel-item "+(e.value===s?"sel":"")+" "+(e.disabled?"disabled":""),key:e.value,onClick:function(){var t;!e.disabled&&u(p?((t={})[p]=e.value,t):e.value)}},e.icon&&a.createElement("i",{className:e.icon+" panel-item-icon"}),a.createElement("span",{className:"ellipsis",style:{maxWidth:97.5}},e.title),void 0!==I&&a.createElement("i",{className:I===e.value?"icon-cem_star":"icon-cem_star-filling star_hide",onClick:function(t){var n,r,a;t.stopPropagation(),w(I===e.value?p?((n={})[p]="",n):"":p?((r={})[p]=e.value,r):e.value),u(p?((a={})[p]=e.value,a):e.value)}}),a.createElement("i",{className:e.value===s&&_?"icon-cem_right1 choice":""}))})))))},t}(a.PureComponent);s.defaultProps={enable:!0,activeObj:"",sufTitle:"",showTitle:!0,divider:"right",className:"",type:"text"};const u=s},30133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),a=n(94184),i=n.n(a);const o=function(e){var t=e.paragraph,n=e.style,a=e.className,o=void 0===a?"":a;return r.createElement("div",{className:i()("yt-skeleton-wrapper",o),style:n},t?t.map((function(e,t){return r.createElement("div",{className:"skeleton-paragraph",style:{width:e},key:t})})):r.createElement(r.Fragment,null,r.createElement("div",{className:"skeleton-paragraph",style:{width:"60%"}}),r.createElement("div",{className:"skeleton-paragraph",style:{width:"100%"}}),r.createElement("div",{className:"skeleton-paragraph",style:{width:"100%"}}),r.createElement("div",{className:"skeleton-paragraph",style:{width:"70%"}})))}},33798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(67294),a=n(45697),i=n.n(a),o=function(e){var t=e.onClick,n=e.isActive,a=e.defaultIcon,i=e.activeIcon,o=e.enable,c=void 0===o||o,s=e.style;return r.createElement("span",{className:"svg-button-wrapper",style:{cursor:c?"pointer":"not-allowed"}},r.createElement("svg",{className:"micon icon-svg "+(n?"active":"default"),"aria-hidden":"true",onClick:t,style:s},r.createElement("use",{className:"default",xlinkHref:"#icon-"+a}),r.createElement("use",{className:"hover",xlinkHref:"#icon-"+(c?i:a)}),r.createElement("use",{className:"active",xlinkHref:"#icon-"+i}),r.createElement("use",{className:"active-hover",xlinkHref:"#icon-"+i})))};o.propTypes={enable:i().bool,onClick:i().func,isActive:i().bool,defaultIcon:i().string.isRequired,activeIcon:i().string.isRequired,style:i().object};const c=o},29383:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(63366),a=n(87462),i=n(43144),o=n(94578),c=n(67294),s=n(45697),u=n.n(s),l=n(92360),p=n(35303),d=["total","columns","data","className","style","pageSize","currentPage","loading","pagePosition","onSortChange","onRowClick","bottomElement","notLimit","pageSizeSelectorShow","selectedCount"],f=[{label:"10\u6761/\u9875",value:10},{label:"20\u6761/\u9875",value:20},{label:"40\u6761/\u9875",value:40},{label:"100\u6761/\u9875",value:100}],h=function(e){function t(t){var n;return(n=e.call(this,t)||this).handlePageSizeChange=function(e){var t=n.props.onPageSizeChange;t&&t(e)},n.state={times:0},n}(0,o.Z)(t,e);var n=t.prototype;return n.getPage=function(e){this.props.onPage&&this.props.onPage(e)},n.resizeTable=function(){var e=this.state,t=e.total,n=e.start,r=e.end,a=e.top,i=window.innerHeight-document.querySelector(".cem-table-wrap").getClientRects()[0].top-20,o=t&&n&&r?a?80:40:0;document.querySelector(".el-table.cem-table .el-table__body-wrapper .el-table__body").clientHeight+40+o>i&&(document.querySelector(".cem-table-wrap").style.height=i+"px",document.querySelector(".el-table.cem-table").style.height="calc(100% - "+o+"px)")},n.componentDidMount=function(){this.setState((0,a.Z)({},this.props))},n.UNSAFE_componentWillReceiveProps=function(e){this.setState((0,a.Z)({},e,{times:++this.state.times}))},n.render=function(){var e=this.state,t=e.total,n=e.columns,i=e.data,o=e.className,s=e.style,u=e.pageSize,h=e.currentPage,m=e.loading,v=e.pagePosition,y=e.onSortChange,g=e.onRowClick,x=e.bottomElement,I=e.notLimit,b=e.pageSizeSelectorShow,T=e.selectedCount,E=(0,r.Z)(e,d),w=this.startCount,k=this.endCount;"top"===this.props.pagePosition&&document.querySelector(".cem-table-wrap").insertBefore(document.querySelector(".pagination"),document.querySelector(".loading"));var C=Math.ceil(t/u);return c.createElement("div",{className:"cem-table-wrap",style:s},c.createElement(l.Loading,{loading:"undefined"!==typeof m&&m,className:"loading",style:{height:"100%"}},c.createElement(l.Table,(0,a.Z)({ref:"cemTable",className:"cem-table "+(o||""),columns:n,data:i||[],onSortChange:y,onRowClick:g},E))),c.createElement("div",{className:"cem-table-footer"},t>0&&w>-1&&k>-1&&u&&h&&c.createElement("div",{className:"table-num bottom"},c.createElement("span",null,c.createElement("i",null,w," - ",k),"\u9879\uff0c\u5171",c.createElement("i",null,t),"\u9879",T&&T>0?c.createElement(c.Fragment,null,"\uff0c\u5df2\u9009\u62e9",c.createElement("i",null,T),"\u9879"):"")),c.createElement("div",{className:"outer",style:{}},x),c.createElement("div",{ref:"pagination",className:"pagination",style:{height:"28px",float:"right"}},u&&t>0&&c.createElement("div",{style:{textAlign:"right",float:"right",marginTop:"top"===v?"":"12px"}},c.createElement(l.Pagination,{pageCount:I?C:C>100?100:C,currentPage:h,pageSize:u,onCurrentChange:this.getPage.bind(this),small:!0,layout:"prev, pager, next"}),b&&c.createElement(p.RS,{multiple:!1,tags:!1,showSearch:!1,optionFilterProp:"label",optionLabelProp:"label",animation:"slide-up",dropdownClassName:"custom-pagination-dropdown",value:u||20,onChange:this.handlePageSizeChange},f.map((function(e,t){return c.createElement(p.Wx,{key:t,label:e.label,value:e.value},e.label)})))))))},(0,i.Z)(t,[{key:"startCount",get:function(){var e=this.state,t=e.start,n=e.currentPage,r=e.pageSize;return void 0!==t?t:n&&r?(n-1)*r+1:-1}},{key:"endCount",get:function(){var e=this.state,t=e.end,n=e.currentPage,r=e.pageSize,a=e.total;if(void 0!==t)return t;if(n&&r){var i=n*r;return i>a?a:i}return-1}}]),t}(c.Component);h.propTypes={columns:u().array,data:u().array,start:u().number,end:u().number,total:u().number,selectedCount:u().number,pageSize:u().number,currentPage:u().number,onPage:u().func,pagePosition:u().string,pageSizeSelectorShow:u().bool,onPageSizeChange:u().func,noScroll:u().bool,className:u().string,style:u().object,loading:u().bool,onSortChange:u().func,notLimit:u().bool,Table:u().func}},44031:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(87462),a=n(87757),i=n.n(a),o=n(49722);function c(e){var t=e.pageIndex,n=void 0===t?1:t,r=e.pageSize,a=void 0===r?10:r,i=e.timestamp,c=void 0===i?"":i,s=e.PROGRESS,u=void 0!==s&&s;return o.h.post("/message/remind/list",{pageIndex:n,pageSize:a,timestamp:c,PROGRESS:u})}function s(){return o.h.post("/account/version/single")}function u(e){var t=e.versionNumber;return o.h.post("/account/version/finishRemind",{versionNumber:t})}var l=n(64396).Z.userState.message;const p={namespace:l,state:(0,r.Z)({},Object.assign({},{messageList:[],unreadCount:0,timestamp:"",versionInfo:{}})),reducers:{save:function(e,t){var n=t.payload;return(0,r.Z)({},e,n)}},effects:{fetchUserStateList:i().mark((function e(t,n){var r,a,o,s,u,p,d,f,h,m,v,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,o=n.select,s=n.call,e.next=4,o((function(e){return e[l]}));case 4:return u=e.sent,p=u.messageList,d=r.isNotConcat,e.prev=7,e.next=10,s(c,r);case 10:if(f=e.sent,2e4!==(h=f.data).code){e.next=16;break}return m=h.result,v=m.unread,y=m.list,g=m.timestamp,e.next=16,a({type:"save",payload:{messageList:d?y:p.concat(y),unreadCount:v,timestamp:g||0}});case 16:return e.abrupt("return",h);case 19:e.prev=19,e.t0=e.catch(7);case 21:case"end":return e.stop()}}),e,null,[[7,19]])})),fetchVersionInfo:i().mark((function e(t,n){var a,o,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.put,n.select,o=n.call,e.prev=2,e.next=5,o(s);case 5:if(c=e.sent,2e4!==(u=c.data).code){e.next=11;break}return l=u.result,e.next=11,a({type:"save",payload:{versionInfo:(0,r.Z)({},l)}});case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})),finishRemind:i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n.put,n.select,a=n.call,e.prev=2,e.next=5,a(u,r);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])}))}}},63968:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var r=n(81354),a=n.n(r);function i(e,t){return a().AES.decrypt({ciphertext:a().enc.Base64.parse(e)},a().enc.Utf8.parse(t),{mode:a().mode.ECB,padding:a().pad.Pkcs7}).toString(a().enc.Utf8)}},84335:(e,t,n)=>{"use strict";n.d(t,{l:()=>u});var r=n(59731),a=n(92087),i=n(55609),o=[],c=n(20431),s=n(20402);c.keys().forEach((function(e){c(e).default.namespace?o.push(c(e).default):console.error("\u975e\u6cd5\u7684namespace\uff0c\u8be5model\u65e0\u6cd5\u6b63\u786e\u52a0\u8f7d\uff0cmodel\u8def\u5f84/pages/"+e.substr(2))})),s.keys().forEach((function(e){s(e).default.namespace?o.push(s(e).default):console.error("\u975e\u6cd5\u7684namespace\uff0c\u8be5model\u65e0\u6cd5\u6b63\u786e\u52a0\u8f7d\uff0cmodel\u8def\u5f84/components/"+e.substr(2))}));var u=(0,i.default)({history:(0,r.lX)(),onError:function(e,t){console.error(e)}});u.use((0,a.Z)()),o.forEach((function(e){u.model(e)}))},64396:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(39432).Li)({global:"\u5168\u5c40",aspectWarning:"\u6307\u6807\u9884\u8b66",colManage:{manage:"\u5e97\u94fa\u7ba1\u7406"},inbox:"\u6d88\u606f\u6a21\u5757",message:{inboxDetail:"\u6d88\u606f\u8be6\u60c5"},IDBHeaderScreening:{headerScreening:"\u5934\u90e8\u7b5b\u9009",screening:"\u7b5b\u9009",timeScreening:"\u65f6\u95f4\u7b5b\u9009",quickTimeScreening:"\u5feb\u6377\u65f6\u95f4\u7b5b\u9009",savedScreening:"\u4fdd\u5b58\u7684\u7b5b\u9009\u5668",inboxDetail:"\u6d88\u606f\u8be6\u60c5"},serviceFilter:"\u6d88\u606f\u6a21\u5757\uff0c\u5ba2\u670d\u4f1a\u8bdd\u7b5b\u9009",settingScreening:"\u6570\u636e\u6e90\u8bbe\u7f6e\u7b5b\u9009",customerJourney:{introduce:"\u5ba2\u6237\u65c5\u7a0b",manage:"\u65c5\u7a0b\u7ba1\u7406",dataSourceSetting:"\u6570\u636e\u6e90\u8bbe\u7f6e"},sentiment:{overview:"\u8206\u60c5\u6982\u89c8",warning:{list:"\u8206\u60c5\u9884\u8b66\u5217\u8868",edit:"\u8206\u60c5\u9884\u8b66\u7f16\u8f91"},subject:{list:"\u8206\u60c5\u4e13\u9898\u5217\u8868",edit:"\u8206\u60c5\u4e13\u9898\u7f16\u8f91"},alert:"\u9884\u8b66\u63d0\u9192",analysis:{subject:"\u4e13\u9898\u6982\u89c8",eventContext:"\u4e8b\u4ef6\u8109\u7edc",channel:"\u6e20\u9053\u5206\u6790",path:"\u8def\u5f84\u5206\u6790",point:"\u89c2\u70b9\u5206\u6790",trend:"\u8d8b\u52bf\u5206\u6790"},tagAnalysis:"\u6807\u7b7e\u5206\u6790"},dashboard:{dashboard:"\u4eea\u8868\u76d8",template:{list:"\u9009\u62e9\u6a21\u677f",edit:"\u8bbe\u7f6e\u56fe\u8868"}},brand:{brandOverview:"\u54c1\u724c\u603b\u89c8",analyzeOfIndex:"\u6307\u6570\u5206\u6790",brandAnalysis:"\u54c1\u724c\u6d1e\u5bdf\u5206\u6790",brandAnalysisSub:{channel:"\u6e20\u9053\u5206\u6790",content:"\u5185\u5bb9\u5206\u6790",overview:"\u54c1\u724c\u6d1e\u5bdf\u6982\u89c8",interaction:"\u4e92\u52a8\u5206\u6790"}},social:{overview:"\u8206\u60c5\u6982\u89c8",models:{top:"\u673a\u578bTop10",comparison:"\u673a\u578b\u5bf9\u6bd4"},tag:{detail:"Top\u4e0b\u94bb",trend:"\u54c1\u724c/\u673a\u578b\u8d70\u52bf",top30:"\u54c1\u724c/\u673a\u578bTop30"}},price:{chaos:"\u6e20\u9053\u4e71\u4ef7",editRule:"\u7f16\u8f91\u89c4\u5219",pushLog:"\u63a8\u9001\u65e5\u5fd7",ruleList:"\u89c4\u5219\u5217\u8868",screenshot:"\u622a\u56fe\u53d6\u8bc1",priceBranding:"\u54c1\u724c\u5206\u6790",priceOverview:"\u4ef7\u683c\u6982\u89c8",historyPrice:"\u6bcf\u65e5\u6700\u4f4e\u4ef7",productShop:"\u5e97\u94fa\u5206\u6790"},headerScreening:"\u5934\u90e8\u7b5b\u9009",screening:"\u7b5b\u9009",userLogin:"\u767b\u5f55",appComment:{commentOverview:"\u8bc4\u8bba\u6982\u89c8"},product:{overview:"\u4ea7\u54c1\u6d1e\u5bdf\u6982\u89c8",compare:"\u7ade\u54c1\u5206\u6790",selfAnalysis:"\u81ea\u4e3b\u5206\u6790",customer:"\u5ba2\u6237\u5173\u6ce8",commentOverview:"\u8bc4\u8bba\u6982\u89c8",scene:{overview:"\u573a\u666f\u6982\u89c8",user:"\u7528\u6237\u7b80\u753b",usage:"\u4f7f\u7528\u573a\u5408\uff0c\u7528\u9014\uff0c\u8d2d\u4e70\u51b3\u7b56"},setting:{public:"\u4ea7\u54c1\u8bbe\u7f6e\u516c\u5171model",subscribe:{overview:"\u667a\u80fd\u8ba2\u9605",recycling:"\u56de\u6536\u7ad9",rule:"\u8ba2\u9605\u89c4\u5219"},link:"\u5546\u54c1\u94fe\u63a5",base:{spu:"SPU\u77e5\u8bc6\u5e93",sku:"SKU\u77e5\u8bc6\u5e93",entryDrawer:"\u8bcd\u6761\u7f16\u8f91"},topic:{overview:"\u4e3b\u9898",topicValue:"\u4e3b\u9898\u503c"}},comment:{smartSubscribe:"\u7535\u5546\u8bc4\u8bba\u667a\u80fd\u8ba2\u9605",linkManagement:"\u7535\u5546\u8bc4\u8bba\u94fe\u63a5\u7ba1\u7406",subscribeLink:"\u8ba2\u9605\u94fe\u63a5\u5f85\u7ef4\u62a4\u5217\u8868",linkMaintenance:"\u7535\u5546\u8bc4\u8bba\u5546\u54c1\u94fe\u63a5\u7ef4\u62a4",linkRecycleBin:"\u56de\u6536\u7ad9"},aspectTrend:{overview:"\u6307\u6807\u8d8b\u52bf"}},productAnalysis:{aspectAnalysis:"\u6307\u6807\u5206\u6790",compareProduct:"\u7ade\u54c1\u5206\u6790"},serviceAnalysis:{aspectAnalysis:"\u6307\u6807\u5206\u6790",compareProduct:"\u7ade\u54c1\u5206\u6790"},marketAnalysis:{aspectAnalysis:"\u6307\u6807\u5206\u6790",compareProduct:"\u7ade\u54c1\u5206\u6790"},market:{newMonitoring:"\u4e0a\u65b0\u76d1\u63a7",brandAnalysis:"\u54c1\u724c\u5206\u6790",modelAnalysis:"\u578b\u53f7\u5206\u6790",salesAnalysis:"\u9500\u91cf\u5206\u6790",hotDiscovery:"\u7206\u6b3e\u53d1\u73b0"},research:{questions:"\u95ee\u5377\u7f16\u8f91",questionnaireEdit:"\u95ee\u5377\u7f16\u8f91new",questionnaireAnswer:"\u95ee\u5377\u56de\u7b54new",uploadPic:"\u4e0a\u4f20\u56fe\u7247",npsManage:"nps\u7ba1\u7406",distribute:"\u95ee\u5377\u5206\u53d1",distributeStep:"\u6295\u653e\u95ee\u5377",answer:"\u95ee\u5377\u56de\u7b54",addContact:"\u5206\u53d1\u7f16\u8f91",analyze:{nps:"nps\u5206\u6790",satisfaction:"\u6ee1\u610f\u5ea6\u5206\u6790",answer:"\u7b54\u5377\u5206\u6790",answerDetail:"\u7b54\u5377\u8be6\u60c5",record:"\u5206\u53d1\u8be6\u60c5",text:"\u6587\u672c\u5206\u6790"},board:{nps:"nps\u7c7b\u578b\u770b\u677f",satisfaction:"\u6ee1\u610f\u5ea6\u7c7b\u578b\u770b\u677f"},setting:{set:"\u8bbe\u7f6e",edit:"\u770b\u677f\u7f16\u8f91",template:"\u6a21\u677f\u7f16\u8f91",templateList:"\u6a21\u677f\u5217\u8868",apiManage:"\u573a\u666fAPI\u7ba1\u7406",appManagement:"\u5e94\u7528\u7ba1\u7406"},npsContacts:"\u8c03\u7814\u8054\u7cfb\u4eba",npsOverview:"\u8c03\u7814\u6982\u89c8",npmTemplate:"\u8c03\u7814\u6a21\u677f"},monitoring:{warning:"\u9884\u8b66\u76d1\u6d4b"},productExperience:{aspectSystem:{global:"\u5168\u5c40\u6307\u6807",tree:"\u6307\u6807\u6811",treeEdit:"\u6307\u6807\u6811\u7f16\u8f91"}},drillDown:{sceneAnalyze:"\u573a\u666f\u5206\u6790"},pushRule:"\u63a8\u9001\u8bbe\u7f6e",project:{connection:{maintainList:"\u5f85\u7ef4\u62a4\u5217\u8868"},warningEdit:"\u9884\u8b66\u8bbe\u7f6e",dataUrlEdit:"\u6570\u636e\u94fe\u63a5\u7f16\u8f91",dataUrlList:"\u6570\u636e\u7f16\u8f91\u5217\u8868",messageRule:"\u6d88\u606f\u5904\u7406\u89c4\u5219",tag:"\u6807\u7b7e",dataFeedback:"\u6570\u636e\u53cd\u9988",warning:{overview:"\u9884\u8b66\u7ba1\u7406",edit:"\u7f16\u8f91\u9884\u8b66"},unsubscribe:"\u9000\u8ba2\u8bb0\u5f55",weebhook:"weebhook\u7ba1\u7406",customerManage:"\u5ba2\u6237\u7ba1\u7406"},freedom:"\u81ea\u7531\u63a2\u7d22",explore:{result:"\u81ea\u7531\u63a2\u7d22\u7ed3\u679c",savaFilter:"\u5df2\u4fdd\u5b58\u7684\u7b5b\u9009\u5668",savaResult:"\u5df2\u4fdd\u5b58\u7684\u63a2\u7d22\u7ed3\u679c",scene:{overview:"\u573a\u666f\u6316\u6398",relation:"\u89d2\u8272\u4e0e\u5173\u7cfb",usage:"\u4f7f\u7528\u573a\u5408\uff0c\u7528\u9014\uff0c\u8d2d\u4e70\u51b3\u7b56",advice:"\u7528\u6237\u5efa\u8bae",spokesperson:"\u4ee3\u8a00\u4eba",competingAnalysis:"\u7ade\u54c1\u5206\u6790"}},public:{header:"\u516c\u5171\u5934\u90e8\u7b5b\u9009",menu:"\u516c\u5171\u83dc\u5355"},userState:{message:"\u6d88\u606f\u76d2\u5b50"},account:{auditLog:{timeScreening:"\u5ba1\u8ba1\u65e5\u5fd7\u65f6\u95f4\u7b5b\u9009"}},opinionHome:"\u5178\u578b\u610f\u89c1\u9996\u9875",opinion:{savaFilter:"\u5178\u578b\u610f\u89c1\u7684\u7b5b\u9009\u5668",savaResult:"\u5178\u578b\u610f\u89c1\u63a2\u7d22\u7ed3\u679c",opinionScreen:"\u5178\u578b\u610f\u89c1\u7b5b\u9009\u9875",timeScreening:"\u5178\u578b\u610f\u89c1\u65f6\u95f4\u7b5b\u9009",detail:"\u5178\u578b\u610f\u89c1\u8be6\u60c5\u9875",screening:"\u5178\u578b\u610f\u89c1\u7b5b\u9009\u5217\u8868",opinionChart:"\u5178\u578b\u610f\u89c1\u8bcd\u4e91\u56fe",everyOpinion:"\u6bcf\u5468\u5178\u578b\u610f\u89c1",opinionScreening:"\u6bcf\u5468\u5178\u578b\u610f\u89c1\u5934\u90e8\u7b5b\u9009",IDBScreening:"\u6bcf\u5468\u5178\u578b\u610f\u89c1\u7b5b\u9009"},aspectDetail:{detail:"\u6307\u6807\u5206\u6790\u4e0b\u94bb\u8be6\u60c5\u9875",opinionChart:"\u6307\u6807\u5206\u6790\u4e0b\u94bb\u8bcd\u4e91\u56fe"},personalSet:{messageRulePrivate:"\u79c1\u4eba\u6d88\u606f\u5904\u7406"},userHelp:{helpCenter:"\u5e2e\u52a9\u4e2d\u5fc3"},conversationHome:"\u670d\u52a1\u6d1e\u5bdf",conversation:{commodityAnalyze:"\u5546\u54c1\u5206\u6790",concernAnalyze:"\u5173\u6ce8\u70b9\u5206\u6790",detail:"\u5173\u6ce8\u70b9\u8be6\u60c5\u5206\u6790",overview:"\u670d\u52a1\u6d1e\u5bdf\u6570\u636e\u6982\u89c8",setting:"\u670d\u52a1\u6d1e\u5bdf\u914d\u7f6e"},service:{overview:"\u6570\u636e\u6982\u89c8",spu:"\u5355\u54c1\u5206\u6790",match:"\u5546\u54c1\u5bf9\u6bd4",concernAnalyze:"\u5173\u6ce8\u70b9\u5206\u6790",gombitAnalyze:"\u8bdd\u9898\u5206\u6790"},projectAll:"\u6240\u6709\u9879\u76ee",workOrder:{dataOverview:"\u6570\u636e\u6982\u89c8",board:"\u770b\u677f\u5361\u7247\u663e\u793a\u914d\u7f6e",detail:"\u5de5\u5355\u8be6\u60c5\u663e\u793a\u914d\u7f6e",field:"\u5b57\u6bb5\u914d\u7f6e",state:"\u5de5\u5355\u72b6\u6001\u914d\u7f6e",notice:"\u901a\u77e5\u914d\u7f6e",editSingleOrder:"\u5de5\u5355\u8be6\u60c5\u8bbe\u7f6e",statistics:"\u5de5\u5355\u7edf\u8ba1"},workspace:{overview:"\u5f85\u529e",warning:"\u9884\u8b66",warningStatistics:"\u9884\u8b66\u7edf\u8ba1",warningDetails:"\u9884\u8b66\u901a\u77e5\u8be6\u60c5",log:"\u9884\u8b66\u901a\u77e5\u8bb0\u5f55"},customersFile:{allCustomers:"\u5168\u90e8\u5ba2\u6237",customerDetail:"\u5ba2\u6237\u4fe1\u606f"}})},87300:(e,t,n)=>{"use strict";n.d(t,{r:()=>p,U:()=>d});var r=n(94578),a=n(23279),i=n.n(a),o=n(67294),c=n(73935),s=n(45697),u=n.n(s),l=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.events,n=e.elmId;t&&setTimeout((function(){var e=document.getElementById(n);e&&e.addEventListener("mouseleave",i()((function(){e.style.display="none"}),1e3)),t.forEach((function(e,t){if(e.callback){var r=document.getElementById(n+"_"+t);r&&r.addEventListener("click",e.callback)}}))}),0)},n.componentWillUnmount=function(){var e=this.props,t=e.events,n=e.elmId;t&&setTimeout((function(){t.forEach((function(e,t){if(e.callback){var r=document.getElementById(n+"_"+t);r&&r.removeEventListener("click",e.callback)}}))}),0)},n.render=function(){var e=this.props,t=e.title,n=e.content,r=void 0===n?[]:n,a=e.elmId,i=e.events,c=e.className;return o.createElement("div",{className:"yt_tooltip_wrapper "+c,id:a},t&&o.createElement("div",{className:"title_wrapper",dangerouslySetInnerHTML:{__html:t}}),o.createElement("div",{className:"content_wrapper"},r.map((function(e,t){return o.createElement("div",{key:t,dangerouslySetInnerHTML:{__html:e}})}))),i&&o.createElement("div",{className:"footer_wrapper"},i.map((function(e,t){return o.createElement("span",{id:a+"_"+t,className:"item",alt:e.title,key:e.title},o.createElement("i",{className:(e.icon||"")+" icon_style"}),o.createElement("span",{className:"title_style"},e.title))}))))},t}(o.Component);function p(e,t,n,r){if(void 0===n&&(n=void 0),void 0===r&&(r=""),!n||n instanceof Array){var a=document.createElement("div");return c.render(o.createElement(l,{title:e,content:t,events:n,elmId:(new Date).getTime(),className:r}),a),a.outerHTML}}function d(e,t,n,r){var a=Object.values(n);return p(e,t,[{title:"\u6d88\u606f",icon:"icon-cem_jump-message",callback:a[0]},{title:"\u4e0b\u94bb",icon:"icon-cem_jump-details",callback:a[1]}],r)}l.propTypes={title:u().oneOfType([u().string,u().node]),content:u().arrayOf(u().shape({title:u().string,icon:u().string,callback:u().func}))}},70715:(e,t,n)=>{"use strict";n.d(t,{fX:()=>p,ad:()=>u,I8:()=>R,OW:()=>b,GY:()=>I,EH:()=>T,Fq:()=>s,gi:()=>f,Rt:()=>h,aW:()=>L,M9:()=>k,W4:()=>o,Zi:()=>c,TJ:()=>l});var r=n(70596),a=n.n(r),i=(n(89777),function(e){return{color:e,backgroundColor:"#ffffff",textStyle:{fontFamily:"'PingFang SC','Microsoft Yahei', 'Helvetica Neue', Helvetica, Tahoma, Arial, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif"},grid:{top:"10%",right:48,bottom:"10%",left:48},title:{top:14,left:15,textStyle:{color:"#262626",fontSize:14},subtextStyle:{color:"#8c8c8c"}},line:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:2}},symbolSize:4,symbol:"circle",smooth:!0},radar:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:2}},symbolSize:4,symbol:"circle",smooth:!0},bar:{itemStyle:{normal:{barBorderWidth:"0",barBorderColor:"#ccc"},emphasis:{barBorderWidth:"0",barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:"0",borderColor:"#ccc"},emphasis:{borderWidth:"0",borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#c12e34",color0:"#2b821d",borderColor:"#c12e34",borderColor0:"#2b821d",borderWidth:1}}},graph:{itemStyle:{normal:{color:function(t){return e[t.dataIndex%e.length]},borderWidth:"0",borderColor:"#ccc"}},lineStyle:{normal:{width:1,color:"#aaaaaa"}},symbolSize:4,symbol:"circle",smooth:!0,color:e,label:{normal:{textStyle:{color:"#ffffff"}}}},map:{itemStyle:{normal:{areaColor:"#dddddd",borderColor:"#eeeeee",borderWidth:.5},emphasis:{areaColor:"rgba(230,182,0,1)",borderColor:"#dddddd",borderWidth:1}},label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"rgb(193,46,52)"}}}},geo:{itemStyle:{normal:{areaColor:"#dddddd",borderColor:"#eeeeee",borderWidth:.5},emphasis:{areaColor:"rgba(230,182,0,1)",borderColor:"#dddddd",borderWidth:1}},label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"rgb(193,46,52)"}}}},wordCloud:{textStyle:{normal:{color:function(t){return e[t.dataIndex%e.length]}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#ebebeb"}},axisTick:{show:!1,lineStyle:{color:"#ebebeb"}},axisLabel:{show:!0,textStyle:{color:"#262626"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#ebebeb"}},axisTick:{show:!1,lineStyle:{color:"#ebebeb"}},axisLabel:{show:!0,textStyle:{color:"#262626"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#ebebeb"}},axisTick:{show:!1,lineStyle:{color:"#ebebeb"}},axisLabel:{show:!0,textStyle:{color:"#262626"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#ebebeb"}},axisTick:{show:!1,lineStyle:{color:"#ebebeb"}},axisLabel:{show:!0,textStyle:{color:"#262626"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#D2D2D2"},emphasis:{borderColor:"#093B88"}},feature:{dataView:{readOnly:!0},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u7f29\u653e\u8fd8\u539f"}},saveAsImage:{title:"\u5bfc\u51fa\u56fe\u7247",pixelRatio:2}}},legend:{top:10,textStyle:{color:"#262626"}},tooltip:{textStyle:{color:"#262626",fontSize:12},backgroundColor:"rgba(255,255,255,0.9)",borderWidth:1,padding:[8,18],borderColor:"#ccc",extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);",axisPointer:{lineStyle:{color:"#bfbfbf",width:1},label:{show:!0,backgroundColor:"#000",shadowColor:"rgba(0, 0, 0, 0.15)",shadowBlur:8},crossStyle:{color:"#bfbfbf",type:"dashed"}}},timeline:{lineStyle:{color:"#0847a6",width:1},itemStyle:{normal:{color:"#0847a6",borderWidth:1},emphasis:{color:"#0847a6"}},controlStyle:{normal:{color:"#0847a6",borderColor:"#0847a6",borderWidth:.5},emphasis:{color:"#0847a6",borderColor:"#0847a6",borderWidth:.5}},checkpointStyle:{color:"#0847a6",borderColor:"rgba(49,107,194,0.5)"},label:{normal:{textStyle:{color:"#0847a6"}},emphasis:{textStyle:{color:"#0847a6"}}}},dataZoom:{backgroundColor:"rgba(47,69,84,0)",dataBackground:{areaStyle:{color:"rgba(47,69,84,0.3)"}},fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333333"}},markPoint:{label:{normal:{textStyle:{color:"#ffffff"}},emphasis:{textStyle:{color:"#ffffff"}}}}}}),o={square:"path://M0,0H12V12H0z",squareRing:"path://M774.582857 253.074286v521.508571H253.074286V253.074286h521.508571m146.285714-146.285715H106.788571v814.08h814.08V106.788571z",lineRing:"path://M512 341.504A170.496 170.496 0 1 0 682.496 512 170.496 170.496 0 0 0 512 341.504z m0-170.496a341.504 341.504 0 0 1 330.752 256H1024v170.496h-181.248a341.504 341.504 0 0 1-660.992 0H0V426.496h181.248a341.504 341.504 0 0 1 330.752-256z"},c=function(e){return'<span style="font-size: 12px; color: #262626; font-weight: bold; display: inline-block; padding-bottom: 4px;">'+e+"</span>"},s=["#1574B3","#CDB446","#D07B49","#1EA082","#3D85FF","#D8727F","#0E97AD","#119073","#D969BF","#A9A557","#3D42C6","#3ACCD3","#1A9E59","#1574B3","#38B5FF","#9369D9","#1BBF69","#CC6A77","#A3A3A3","#D2D2D2"],u=["#7161FB","#1890ff","#8CD9F9"],l=["#1890ff","#53D092","#F08A8A"],p=["#096dd9","#46b88c","#cf6e29","#65789b","#734796","#4186ab","#cf9608","#028685","#5249d6","#a34d52"],d=["#D96969","#15B374"],f=["#15B374","#D96969"],h=["#15B374","#1574B3","#D96969"],m=["#D96969","#1574B3","#15B374"],v=["#1574B3","#D96969"],y=["#1574B3","#CDB446"],g=["#FFDEDA","#D96969","#15B374"],x=["#1574B3","#CDB446","#D07B49"],I=["#1890ff","#CEDDFD","#60DDA9","#CDF3E4","#65789B","#CED4DE","#F6BD15","#FDEBB9","#7262FD","#D3CEFD","#78D3F8","#D3EEF9","#9661BC","#DECFEA","#F6903D","#FFE0C7","#028685","#BCDEDD","#F08A8A","#FFE0ED"],b=["#1890ff","#60DDA9","#F6BD15","#F08A8A","#78D3F8","#65789B","#F6903D","#028685","#7262FD","#9661BC"],T=["#7262FD","#1890ff","#78D3F8","#60DDA9"],E=["#1890ff","#78D3F8"],w=["#F6903D","#FFE0C7"],k=["#FF8387","#FF8A1A","#F6BD15","#4BD5FC","#00DBA0"],C=["#F08A8A","#60DDA9"],S=["#60DDA9","#F08A8A"],N=["#60DDA9","#1890ff","#F08A8A"],O=["#F08A8A","#1890ff","#60DDA9"],_=["#1890ff","#F08A8A"],j=["#052A75","#1048BB","#275FD0","#4377E1","#1890ff","#91B4FB"],A=["#BB3535","#D34B4B","#EF5E5E","#F57676","#F08A8A","#F9B2B2"],D=["#035835","#027E4A","#10B16E","#3CC18A","#60DDA9","#84EAC0"],M=["#1048BB","#275FD0","#4377E1","#1890ff","#91B4FB","#F9B2B2","#F08A8A","#F57676","#EF5E5E","#D34B4B"],R="'PingFang SC','Microsoft Yahei', 'Helvetica Neue', Helvetica, Tahoma, Arial, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif",L=function(){a().registerTheme("yunting_multi_color",i(s)),a().registerTheme("yunting_neg_pos",i(d)),a().registerTheme("yunting_pos_neg",i(f)),a().registerTheme("yunting_pos_neu_neg",i(h)),a().registerTheme("yunting_neg_neu_pos",i(m)),a().registerTheme("yunting_blue_yellow",i(y)),a().registerTheme("yunting_h5_warning",i(g)),a().registerTheme("yunting_price",i(x)),a().registerTheme("yunting_netural_negative",i(v)),a().registerTheme("yunting_plain_theme",i(void 0)),a().registerTheme("yunting_explore_color",i(u)),a().registerTheme("yt_multi_color_20",i(I)),a().registerTheme("yt_multi_color_10",i(b)),a().registerTheme("yt_multi_color_4",i(T)),a().registerTheme("yt_compare_primary",i(E)),a().registerTheme("yt_compare_minor",i(w)),a().registerTheme("yt_neg_pos",i(C)),a().registerTheme("yt_pos_neg",i(S)),a().registerTheme("yt_pos_neu_neg",i(N)),a().registerTheme("yt_neg_neu_pos",i(O)),a().registerTheme("yt_netural_negative",i(_)),a().registerTheme("yt_same_neutral",i(j)),a().registerTheme("yt_same_negative",i(A)),a().registerTheme("yt_same_positive",i(D)),a().registerTheme("yt_gradient_color",i(M))}},94644:(e,t,n)=>{"use strict";n.d(t,{_v:()=>d,OH:()=>f,aT:()=>h,UO:()=>p,Mx:()=>m,YL:()=>v});var r=n(55733),a=n.n(r),i=n(5133),o=n(7869),c=n.n(o),s=n(29531),u=n.n(s),l=n(93162),p=function(e){var t=new Date;return e+"-"+(""+t.getFullYear()+(t.getMonth()+1)+t.getDate()+t.getHours()+t.getMinutes()+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())+t.getMilliseconds())},d=function(e,t){setTimeout((function(){try{var n=e.getDataURL({type:"jpeg",pixelRatio:2,backgroundColor:"#fff"});(0,l.saveAs)(n,p(t),"image/jpeg")}catch(r){i.Z.error("\u5bfc\u51fa\u5931\u8d25")}}),0)},f=function(e,t,n){setTimeout((function(){var r=new(a());e.forEach((function(e,t){var a=n&&n[t]||e.getOption().title[0].text,i=e.getDataURL({type:"jpeg",pixelRatio:2,backgroundColor:"#fff"});r.file(a+".jpg",function(e){for(var t=e.split(";base64,"),n=t[0].split(":"),r=(n[0],n[1]),a=window.atob(t[1]),i=a.length,o=new Uint8Array(i),c=0;c<i;++c)o[c]=a.charCodeAt(c);return new Blob([o],{type:r})}(i))})),r.generateAsync({type:"blob"}).then((function(e){(0,l.saveAs)(e,p(t)+".zip")}))}),0)},h=function(e,t,n){var r=e.reduce((function(e,t,r){var a=n?/[*?\/[\]]/im.test(n[r])?n[r].replace(/[*?\/[\]]/g,"-"):n[r]:"Sheet "+(r+1);return e.SheetNames.push(a),e.Sheets[a]=c().utils.aoa_to_sheet(t,{sheet:a}),e}),{SheetNames:[],Sheets:{}}),a=c().write(r,{bookType:"xlsx",bookSST:!0,type:"array"});(0,l.saveAs)(new Blob([a],{type:"application/octet-stream"}),p(t)+".xlsx")};function m(e,t){return new Promise((function(n){var r=e.clientWidth,a=e.clientHeight,i=e.cloneNode(!0),o=document.createElement("canvas");o.width=r,o.height=a,o.className="yt_trend_list_canvas",o.getContext("2d"),i.style.width=r+"px",i.style.height=a+"px",i.style.backgroundColor="#fff",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.zIndex=-1,document.body.appendChild(i),u()(i,{allowTaint:!0,taintTest:!1,canvas:o,useCORS:!0,width:r,height:a,onrendered:function(e){document.body.appendChild(e);var n=e.toDataURL("png");(0,l.saveAs)(n,p(t),"image/png"),setTimeout((function(){document.body.removeChild(i);var e=document.querySelector(".yt_trend_list_canvas");e&&document.body.removeChild(e)}),0)}})}))}function v(e,t){var n=new Image,r="";n.src=e+(e.includes("?")?"&":"?")+"v="+Math.random(),n.setAttribute("crossOrigin","Anonymous"),n.onload=function(){var e=document.createElement("canvas"),a=n.width,i=n.height;return e.width=a,e.height=i,e.getContext("2d").drawImage(n,0,0,a,i),r=e.toDataURL("image/png"),t?t(r,n):null}}},49722:(e,t,n)=>{"use strict";n.d(t,{h:()=>y,v:()=>x});var r=n(9669),a=n.n(r),i=n(61193),o=n(61409),c=n(5133),s=["workorder","upms"],u={6001:"server1",6002:"server2",6003:"server3",6004:"server4",6005:"server5"},l=n(39432);function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={baseURL:"/api",timeout:3e5,headers:{"Content-Encoding":"gzip, deflate, br",Authorization:localStorage.getItem("authorization")?"Bearer "+localStorage.getItem("authorization"):null}},h=function(e){if("/"!==e.url.substr(0,1)&&(e.url="/"+e.url),"/login"!==e.url&&"/logout"!==e.url&&!s.some((function(t){return e.url.startsWith("/"+t+"/")}))){var t=location.origin,n=location.port,r=(0,l.Ue)("domain");if(["/account/slogan","/questionnaire/find-for-answer-page","/questionnaire/submit","/questionnaire/skin/list","/questionnaire/submit/upload"].includes(e.url)&&r)e.url="/"+r+e.url;else if(u[n])e.url="/"+u[n]+e.url;else{var a=t.slice(t.indexOf("//")+2,t.indexOf("."));e.url="/"+a+e.url}}return e},m=[function(e){if(!e.data||e.data&&e.data.PROGRESS,e.data&&delete e.data.PROGRESS,e.headers.Authorization=localStorage.getItem("authorization")?"Bearer "+localStorage.getItem("authorization"):null,"post"===e.method)if(e.data instanceof FormData){for(var t,n=[],r=p(e.data.entries());!(t=r()).done;){var a=t.value;n.push(a[0]+"="+a[1])}e.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",e.data=n.join("&")}else e.headers.post["Content-Type"]="application/json; charset=UTF-8","object"===typeof data&&(e.data=JSON.stringify(e.data));return h(e),e},function(e){throw new Error("illegal parameter")}],v=[function(e){if("object"!==typeof e)throw new Error("response data should be JSON");var t=null;if(e.data&&"string"===typeof e.data)try{t=JSON.parse(e.data)}catch(n){}switch(e.status){case 200:if(52006===e.data.code||52012===e.data.code)return Promise.reject(e);if(50102===e.data.code)return void o.mW.push("/login");if(52001===e.data.code)return c.Z.error(e.data.msg),void o.mW.push("/login ");if(50111===e.data.code)return c.Z.error(e.data.msg),i.Z.destroy(),void o.mW.push("/login ");if(t&&50103===t.code)return Promise.reject({data:t});if(410017===e.data.code&&"\u6b64\u7b7e\u540d\u6709\u88ab\u5176\u4ed6\u6a21\u677f\u5f15\u7528\uff0c\u8bf7\u5148\u627e\u5230\u76f8\u5e94\u6a21\u677f\uff0c\u66ff\u6362\u6389\u7b7e\u540d\u4e4b\u540e\uff0c\u518d\u5220\u9664\u3002"===e.data.msg)return Promise.reject(e);if(420017===e.data.code)return Promise.reject(e);if(4500014===e.data.code||40010===e.data.code)return Promise.reject(e);if(5e4===e.data.code)return Promise.reject(e.data.msg+" : ( "+e.config.url+" )");if(400014===e.data.code)return c.Z.error(e.data.msg),Promise.reject(e.data.msg+" : ( "+e.config.url+" )");if(2e4!==e.data.code&&-1===e.config.url.indexOf("logout"))return-1===e.config.url.indexOf("login")&&c.Z.error(e.data.msg),Promise.reject(e);break;case 401:i.Z.destroy(),o.mW.push("/login");break;case 403:"IP_ACCESS_DENIED"===e.message&&(o.mW.push("/login"),c.Z.error("\u5f53\u524dIP\u65e0\u6743\u8bbf\u95ee"));break;default:throw new Error(e.message||"unknown error")}return e},function(e){throw e.response&&403===e.response.status&&"IP_ACCESS_DENIED"===e.response.data.message?(o.mW.push("/login"),c.Z.error("\u5f53\u524dIP\u65e0\u6743\u8bbf\u95ee")):-1!==String(e).indexOf("timeout")&&c.Z.error("\u8bf7\u6c42\u8d85\u65f6"),new Error("\u7f51\u7edc\u5f02\u5e38","fail")}],y=a().create(f);!function(e,t){var n,r;(void 0===t&&(t=[1,2]),t.includes(1))&&(n=e.interceptors.request).use.apply(n,m);t.includes(2)&&(r=e.interceptors.response).use.apply(r,v)}(y,[1,2]);var g,x=a().create(f);(g=x).interceptors.request.use((function(e){return!e.data||e.data&&e.data.PROGRESS,e.data&&delete e.data.PROGRESS,e.headers.Authorization=localStorage.getItem("authorization")?"Bearer "+localStorage.getItem("authorization"):null,h(e),e}),(function(e){throw new Error("illegal parameter")})),function(e){e.interceptors.response.use((function(e){if("object"!==typeof e)throw new Error("response data should be JSON");var t=null;if(e.data&&"string"===typeof e.data)try{t=JSON.parse(e.data)}catch(n){}switch(e.status){case 200:if(52006===e.data.code)return c.Z.error("\u6ca1\u6709\u6743\u9650\u62d6\u52a8\u5de5\u5355\uff0c\u8bf7\u8054\u7cfb\u5de5\u5355\u521b\u5efa\u4eba\u6216\u5f53\u524d\u5904\u7406\u4eba"),Promise.reject(e);if(50102===e.data.code)return void o.mW.push("/login");if(52001===e.data.code)return c.Z.error(e.data.msg),void o.mW.push("/login ");if(50111===e.data.code)return c.Z.error(e.data.msg),i.Z.destroy(),void o.mW.push("/login ");if(t&&50103===t.code)return Promise.reject({data:t});if(410017===e.data.code&&"\u6b64\u7b7e\u540d\u6709\u88ab\u5176\u4ed6\u6a21\u677f\u5f15\u7528\uff0c\u8bf7\u5148\u627e\u5230\u76f8\u5e94\u6a21\u677f\uff0c\u66ff\u6362\u6389\u7b7e\u540d\u4e4b\u540e\uff0c\u518d\u5220\u9664\u3002"===e.data.msg)return Promise.reject(e);if(420017===e.data.code)return Promise.reject(e);if(4500014===e.data.code||40010===e.data.code)return Promise.reject(e);if(5e4===e.data.code)return Promise.reject(e.data.msg+" : ( "+e.config.url+" )");if(2e4!==e.data.code&&-1===e.config.url.indexOf("logout"))return-1===e.config.url.indexOf("login")||-1===e.config.url.indexOf("contact/v2/detail")&&c.Z.error(e.data.msg),Promise.reject(e);break;case 401:i.Z.destroy(),o.mW.push("/login");break;case 403:"IP_ACCESS_DENIED"===e.message&&(o.mW.push("/login"),c.Z.error("\u5f53\u524dIP\u65e0\u6743\u8bbf\u95ee"));break;default:throw new Error(e.message||"unknown error")}return e}),(function(e){throw e.response&&403===e.response.status&&"IP_ACCESS_DENIED"===e.response.data.message?(o.mW.push("/login"),c.Z.error("\u5f53\u524dIP\u65e0\u6743\u8bbf\u95ee")):-1!==String(e).indexOf("timeout")&&c.Z.error("\u8bf7\u6c42\u8d85\u65f6"),new Error("\u7f51\u7edc\u5f02\u5e38","fail")}))}(g)},29531:(e,t,n)=>{e.exports=function(){var e;return function e(t,n,r){function a(o,c){if(!n[o]){if(!t[o]){if(i)return i(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){var n=t[o][1][e];return a(n||e)}),u,u.exports,e,t,n,r)}return n[o].exports}for(var i=void 0,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,r,a){(function(t){!function(n){function i(e){throw RangeError(M[e])}function o(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function c(e,t){return o(e.split(D),t).join(".")}function s(e){for(var t,n,r=[],a=0,i=e.length;i>a;)(t=e.charCodeAt(a++))>=55296&&56319>=t&&i>a?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function u(e){return o(e,(function(e){var t="";return e>65535&&(t+=P((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+P(e)})).join("")}function l(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:E}function p(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?L(e/S):e>>1,e+=L(e/t);e>R*k>>1;r+=E)e=L(e/R);return L(r+(R+1)*e/(e+C))}function f(e){var t,n,r,a,o,c,s,p,f,h,m=[],v=e.length,y=0,g=O,x=N;for(0>(n=e.lastIndexOf(_))&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&i("not-basic"),m.push(e.charCodeAt(r));for(a=n>0?n+1:0;v>a;){for(o=y,c=1,s=E;a>=v&&i("invalid-input"),((p=l(e.charCodeAt(a++)))>=E||p>L((T-y)/c))&&i("overflow"),y+=p*c,!((f=x>=s?w:s>=x+k?k:s-x)>p);s+=E)c>L(T/(h=E-f))&&i("overflow"),c*=h;x=d(y-o,t=m.length+1,0==o),L(y/t)>T-g&&i("overflow"),g+=L(y/t),y%=t,m.splice(y++,0,g)}return u(m)}function h(e){var t,n,r,a,o,c,u,l,f,h,m,v,y,g,x,I=[];for(v=(e=s(e)).length,t=O,n=0,o=N,c=0;v>c;++c)128>(m=e[c])&&I.push(P(m));for(r=a=I.length,a&&I.push(_);v>r;){for(u=T,c=0;v>c;++c)(m=e[c])>=t&&u>m&&(u=m);for(u-t>L((T-n)/(y=r+1))&&i("overflow"),n+=(u-t)*y,t=u,c=0;v>c;++c)if(t>(m=e[c])&&++n>T&&i("overflow"),m==t){for(l=n,f=E;!((h=o>=f?w:f>=o+k?k:f-o)>l);f+=E)x=l-h,g=E-h,I.push(P(p(h+x%g,0))),l=L(x/g);I.push(P(p(l,0))),o=d(n,y,r==a),n=0,++r}++n,++t}return I.join("")}function m(e){return c(e,(function(e){return j.test(e)?f(e.slice(4).toLowerCase()):e}))}function v(e){return c(e,(function(e){return A.test(e)?"xn--"+h(e):e}))}var y="object"==typeof a&&a,g="object"==typeof r&&r&&r.exports==y&&r,x="object"==typeof t&&t;(x.global===x||x.window===x)&&(n=x);var I,b,T=2147483647,E=36,w=1,k=26,C=38,S=700,N=72,O=128,_="-",j=/^xn--/,A=/[^ -~]/,D=/\x2E|\u3002|\uFF0E|\uFF61/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=E-w,L=Math.floor,P=String.fromCharCode;if(I={version:"1.2.4",ucs2:{decode:s,encode:u},decode:f,encode:h,toASCII:v,toUnicode:m},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",(function(){return I}));else if(y&&!y.nodeType)if(g)g.exports=I;else for(b in I)I.hasOwnProperty(b)&&(y[b]=I[b]);else n.punycode=I}(this)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){function n(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}function r(e,t){try{t&&(t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(n){o("Unable to copy canvas content from",e,n)}}function a(e,t){for(var n=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;)(!0===t||1!==i.nodeType||"SCRIPT"!==i.nodeName)&&n.appendChild(a(i,t)),i=i.nextSibling;return 1===e.nodeType&&(n._scrollTop=e.scrollTop,n._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?r(e,n):("TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&(n.value=e.value)),n}function i(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var t=e.firstChild;t;)i(t),t=t.nextSibling}}var o=e("./log");t.exports=function(e,t,r,o,c,s,u){var l=a(e.documentElement,c.javascriptEnabled),p=t.createElement("iframe");return p.className="html2canvas-container",p.style.visibility="hidden",p.style.position="fixed",p.style.left="-10000px",p.style.top="0px",p.style.border="0",p.width=r,p.height=o,p.scrolling="no",t.body.appendChild(p),new Promise((function(t){var r=p.contentWindow.document;p.contentWindow.onload=p.onload=function(){var e=setInterval((function(){r.body.childNodes.length>0&&(i(r.documentElement),clearInterval(e),"view"===c.type&&(p.contentWindow.scrollTo(s,u),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||p.contentWindow.scrollY===u&&p.contentWindow.scrollX===s||(r.documentElement.style.top=-u+"px",r.documentElement.style.left=-s+"px",r.documentElement.style.position="absolute")),t(p))}),50)},r.open(),r.write("<!DOCTYPE html><html></html>"),n(e,s,u),r.replaceChild(r.adoptNode(l),r.documentElement),r.close()}))}},{"./log":13}],3:[function(e,t){function n(e){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}n.prototype.darken=function(e){var t=1-e;return new n([Math.round(this.r*t),Math.round(this.g*t),Math.round(this.b*t),this.a])},n.prototype.isTransparent=function(){return 0===this.a},n.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},n.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var r=/^#([a-f0-9]{3})$/i;n.prototype.hex3=function(e){var t=null;return null!==(t=e.match(r))&&(this.r=parseInt(t[1][0]+t[1][0],16),this.g=parseInt(t[1][1]+t[1][1],16),this.b=parseInt(t[1][2]+t[1][2],16)),null!==t};var a=/^#([a-f0-9]{6})$/i;n.prototype.hex6=function(e){var t=null;return null!==(t=e.match(a))&&(this.r=parseInt(t[1].substring(0,2),16),this.g=parseInt(t[1].substring(2,4),16),this.b=parseInt(t[1].substring(4,6),16)),null!==t};var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;n.prototype.rgb=function(e){var t=null;return null!==(t=e.match(i))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3])),null!==t};var o=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;n.prototype.rgba=function(e){var t=null;return null!==(t=e.match(o))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3]),this.a=Number(t[4])),null!==t},n.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},n.prototype.namedColor=function(e){e=e.toLowerCase();var t=c[e];if(t)this.r=t[0],this.g=t[1],this.b=t[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!t},n.prototype.isColor=!0;var c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};t.exports=n},{}],4:[function(t,n){function r(e,t){var n=T++;if((t=t||{}).logging&&(v.options.logging=!0,v.options.start=Date.now()),t.async="undefined"==typeof t.async||t.async,t.allowTaint="undefined"!=typeof t.allowTaint&&t.allowTaint,t.removeContainer="undefined"==typeof t.removeContainer||t.removeContainer,t.javascriptEnabled="undefined"!=typeof t.javascriptEnabled&&t.javascriptEnabled,t.imageTimeout="undefined"==typeof t.imageTimeout?1e4:t.imageTimeout,t.renderer="function"==typeof t.renderer?t.renderer:d,t.strict=!!t.strict,"string"==typeof e){if("string"!=typeof t.proxy)return Promise.reject("Proxy must be used when rendering url");var r=null!=t.width?t.width:window.innerWidth,o=null!=t.height?t.height:window.innerHeight;return x(l(e),t.proxy,document,r,o,t).then((function(e){return i(e.contentWindow.document.documentElement,e,t,r,o)}))}var c=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return c.setAttribute(b+n,n),a(c.ownerDocument,t,c.ownerDocument.defaultView.innerWidth,c.ownerDocument.defaultView.innerHeight,n).then((function(e){return"function"==typeof t.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),t.onrendered(e)),e}))}function a(e,t,n,r,a){return g(e,e,n,r,t,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then((function(o){v("Document cloned");var c=b+a,s="["+c+"='"+a+"']";e.querySelector(s).removeAttribute(c);var u=o.contentWindow,l=u.document.querySelector(s);return Promise.resolve("function"!=typeof t.onclone||t.onclone(u.document)).then((function(){return i(l,o,t,n,r)}))}))}function i(e,t,n,r,a){var i=t.contentWindow,l=new p(i.document),d=new f(n,l),m=I(e),y="view"===n.type?r:s(i.document),g="view"===n.type?a:u(i.document),x=new n.renderer(y,g,d,n,document);return new h(e,x,l,d,n).ready.then((function(){var r;return v("Finished rendering"),r="view"===n.type?c(x.canvas,{width:x.canvas.width,height:x.canvas.height,top:0,left:0,x:0,y:0}):e===i.document.body||e===i.document.documentElement||null!=n.canvas?x.canvas:c(x.canvas,{width:null!=n.width?n.width:m.width,height:null!=n.height?n.height:m.height,top:m.top,left:m.left,x:0,y:0}),o(t,n),r}))}function o(e,t){t.removeContainer&&(e.parentNode.removeChild(e),v("Cleaned up container"))}function c(e,t){var n=document.createElement("canvas"),r=Math.min(e.width-1,Math.max(0,t.left)),a=Math.min(e.width,Math.max(1,t.left+t.width)),i=Math.min(e.height-1,Math.max(0,t.top)),o=Math.min(e.height,Math.max(1,t.top+t.height));n.width=t.width,n.height=t.height;var c=a-r,s=o-i;return v("Cropping canvas at:","left:",t.left,"top:",t.top,"width:",c,"height:",s),v("Resulting crop with width",t.width,"and height",t.height,"with x",r,"and y",i),n.getContext("2d").drawImage(e,r,i,c,s,t.x,t.y,c,s),n}function s(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function u(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function l(e){var t=document.createElement("a");return t.href=e,t.href=t.href,t}var p=t("./support"),d=t("./renderers/canvas"),f=t("./imageloader"),h=t("./nodeparser"),m=t("./nodecontainer"),v=t("./log"),y=t("./utils"),g=t("./clone"),x=t("./proxy").loadUrlDocument,I=y.getBounds,b="data-html2canvas-node",T=0;r.CanvasRenderer=d,r.NodeContainer=m,r.log=v,r.utils=y;var E="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:r;n.exports=E,"function"==typeof e&&e.amd&&e("html2canvas",[],(function(){return E}))},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,t){function n(e){if(this.src=e,r("DummyImageContainer for",e),!this.promise||!this.image){r("Initiating DummyImageContainer"),n.prototype.image=new Image;var t=this.image;n.prototype.promise=new Promise((function(e,n){t.onload=e,t.onerror=n,t.src=a(),!0===t.complete&&e(t)}))}}var r=e("./log"),a=e("./utils").smallImage;t.exports=n},{"./log":13,"./utils":26}],6:[function(e,t){function n(e,t){var n,a,i=document.createElement("div"),o=document.createElement("img"),c=document.createElement("span"),s="Hidden Text";i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),o.src=r(),o.width=1,o.height=1,o.style.margin=0,o.style.padding=0,o.style.verticalAlign="baseline",c.style.fontFamily=e,c.style.fontSize=t,c.style.margin=0,c.style.padding=0,c.appendChild(document.createTextNode(s)),i.appendChild(c),i.appendChild(o),n=o.offsetTop-c.offsetTop+1,i.removeChild(c),i.appendChild(document.createTextNode(s)),i.style.lineHeight="normal",o.style.verticalAlign="super",a=o.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=n,this.lineWidth=1,this.middle=a}var r=e("./utils").smallImage;t.exports=n},{"./utils":26}],7:[function(e,t){function n(){this.data={}}var r=e("./font");n.prototype.getMetrics=function(e,t){return void 0===this.data[e+"-"+t]&&(this.data[e+"-"+t]=new r(e,t)),this.data[e+"-"+t]},t.exports=n},{"./font":6}],8:[function(e,t){function n(t,n,a){this.image=null,this.src=t;var i=this,o=r(t);this.promise=(n?new Promise((function(e){"about:blank"===t.contentWindow.document.URL||null==t.contentWindow.document.documentElement?t.contentWindow.onload=t.onload=function(){e(t)}:e(t)})):this.proxyLoad(a.proxy,o,a)).then((function(t){return e("./core")(t.contentWindow.document.documentElement,{type:"view",width:t.width,height:t.height,proxy:a.proxy,javascriptEnabled:a.javascriptEnabled,removeContainer:a.removeContainer,allowTaint:a.allowTaint,imageTimeout:a.imageTimeout/2})})).then((function(e){return i.image=e}))}var r=e("./utils").getBounds,a=e("./proxy").loadUrlDocument;n.prototype.proxyLoad=function(e,t,n){var r=this.src;return a(r.src,e,r.ownerDocument,t.width,t.height,n)},t.exports=n},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,t){function n(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}n.TYPES={LINEAR:1,RADIAL:2},n.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,t.exports=n},{}],10:[function(e,t){function n(e,t){this.src=e,this.image=new Image;var n=this;this.tainted=null,this.promise=new Promise((function(r,a){n.image.onload=r,n.image.onerror=a,t&&(n.image.crossOrigin="anonymous"),n.image.src=e,!0===n.image.complete&&r(n.image)}))}t.exports=n},{}],11:[function(e,t){function n(e,t){this.link=null,this.options=e,this.support=t,this.origin=this.getOrigin(window.location.href)}var r=e("./log"),a=e("./imagecontainer"),i=e("./dummyimagecontainer"),o=e("./proxyimagecontainer"),c=e("./framecontainer"),s=e("./svgcontainer"),u=e("./svgnodecontainer"),l=e("./lineargradientcontainer"),p=e("./webkitgradientcontainer"),d=e("./utils").bind;n.prototype.findImages=function(e){var t=[];return e.reduce((function(e,t){switch(t.node.nodeName){case"IMG":return e.concat([{args:[t.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[t.node],method:t.node.nodeName}])}return e}),[]).forEach(this.addImage(t,this.loadImage),this),t},n.prototype.findBackgroundImage=function(e,t){return t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},n.prototype.addImage=function(e,t){return function(n){n.args.forEach((function(a){this.imageExists(e,a)||(e.splice(0,0,t.call(this,n)),r("Added image #"+e.length,"string"==typeof a?a.substring(0,100):a))}),this)}},n.prototype.hasImageBackground=function(e){return"none"!==e.method},n.prototype.loadImage=function(e){if("url"===e.method){var t=e.args[0];return!this.isSVG(t)||this.support.svg||this.options.allowTaint?t.match(/data:image\/.*;base64,/i)?new a(t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(t)||!0===this.options.allowTaint||this.isSVG(t)?new a(t,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new a(t,!0):this.options.proxy?new o(t,this.options.proxy):new i(t):new s(t)}return"linear-gradient"===e.method?new l(e):"gradient"===e.method?new p(e):"svg"===e.method?new u(e.args[0],this.support.svg):"IFRAME"===e.method?new c(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new i(e)},n.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||s.prototype.isInline(e)},n.prototype.imageExists=function(e,t){return e.some((function(e){return e.src===t}))},n.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},n.prototype.getOrigin=function(e){var t=this.link||(this.link=document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port},n.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout).catch((function(){return new i(e.src).promise.then((function(t){e.image=t}))}))},n.prototype.get=function(e){var t=null;return this.images.some((function(n){return(t=n).src===e}))?t:null},n.prototype.fetch=function(e){return this.images=e.reduce(d(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach((function(e,t){e.promise.then((function(){r("Succesfully loaded image #"+(t+1),e)}),(function(n){r("Failed loading image #"+(t+1),e,n)}))})),this.ready=Promise.all(this.images.map(this.getPromise,this)),r("Finished searching images"),this},n.prototype.timeout=function(e,t){var n,a=Promise.race([e.promise,new Promise((function(a,i){n=setTimeout((function(){r("Timed out loading image",e),i(e)}),t)}))]).then((function(e){return clearTimeout(n),e}));return a.catch((function(){clearTimeout(n)})),a},t.exports=n},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,t){function n(e){r.apply(this,arguments),this.type=r.TYPES.LINEAR;var t=n.REGEXP_DIRECTION.test(e.args[0])||!r.REGEXP_COLORSTOP.test(e.args[0]);t?e.args[0].split(/\s+/).reverse().forEach((function(e,t){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var n=this.y0,r=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=r,this.y1=n;break;case"center":break;default:var a=.01*parseFloat(e,10);if(isNaN(a))break;0===t?(this.y0=a,this.y1=1-this.y0):(this.x0=a,this.x1=1-this.x0)}}),this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(t?1:0).map((function(e){var t=e.match(r.REGEXP_COLORSTOP),n=+t[2],i=0===n?"%":t[3];return{color:new a(t[1]),stop:"%"===i?n/100:null}})),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach((function(e,t){null===e.stop&&this.colorStops.slice(t).some((function(n,r){return null!==n.stop&&(e.stop=(n.stop-this.colorStops[t-1].stop)/(r+1)+this.colorStops[t-1].stop,!0)}),this)}),this)}var r=e("./gradientcontainer"),a=e("./color");n.prototype=Object.create(r.prototype),n.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,t.exports=n},{"./color":3,"./gradientcontainer":9}],13:[function(e,t){var n=function e(){e.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-e.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};n.options={logging:!1},t.exports=n},{}],14:[function(e,t){function n(e,t){this.node=e,this.parent=t,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function r(e){var t=e.options[e.selectedIndex||0];return t&&t.text||""}function a(e){if(e&&"matrix"===e[1])return e[2].split(",").map((function(e){return parseFloat(e.trim())}));if(e&&"matrix3d"===e[1]){var t=e[2].split(",").map((function(e){return parseFloat(e.trim())}));return[t[0],t[1],t[4],t[5],t[12],t[13]]}}function i(e){return-1!==e.toString().indexOf("%")}function o(e){return e.replace("px","")}function c(e){return parseFloat(e)}var s=e("./color"),u=e("./utils"),l=u.getBounds,p=u.parseBackgrounds,d=u.offsetBounds;n.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},n.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},n.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},n.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},n.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},n.prototype.prefixedCss=function(e){var t=["webkit","moz","ms","o"],n=this.css(e);return void 0===n&&t.some((function(t){return void 0!==(n=this.css(t+e.substr(0,1).toUpperCase()+e.substr(1)))}),this),void 0===n?null:n},n.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},n.prototype.cssInt=function(e){var t=parseInt(this.css(e),10);return isNaN(t)?0:t},n.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new s(this.css(e)))},n.prototype.cssFloat=function(e){var t=parseFloat(this.css(e));return isNaN(t)?0:t},n.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},n.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},n.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css("backgroundImage")))},n.prototype.cssList=function(e,t){var n=(this.css(e)||"").split(",");return 1===(n=(n=n[t||0]||n[0]||"auto").trim().split(" ")).length&&(n=[n[0],i(n[0])?"auto":n[0]]),n},n.prototype.parseBackgroundSize=function(e,t,n){var r,a,o=this.cssList("backgroundSize",n);if(i(o[0]))r=e.width*parseFloat(o[0])/100;else{if(/contain|cover/.test(o[0])){var c=e.width/e.height,s=t.width/t.height;return s>c^"contain"===o[0]?{width:e.height*s,height:e.height}:{width:e.width,height:e.width/s}}r=parseInt(o[0],10)}return a="auto"===o[0]&&"auto"===o[1]?t.height:"auto"===o[1]?r/t.width*t.height:i(o[1])?e.height*parseFloat(o[1])/100:parseInt(o[1],10),"auto"===o[0]&&(r=a/t.height*t.width),{width:r,height:a}},n.prototype.parseBackgroundPosition=function(e,t,n,r){var a,o,c=this.cssList("backgroundPosition",n);return a=i(c[0])?(e.width-(r||t).width)*(parseFloat(c[0])/100):parseInt(c[0],10),o="auto"===c[1]?a/t.width*t.height:i(c[1])?(e.height-(r||t).height)*parseFloat(c[1])/100:parseInt(c[1],10),"auto"===c[0]&&(a=o/t.height*t.width),{left:a,top:o}},n.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},n.prototype.parseTextShadows=function(){var e=this.css("textShadow"),t=[];if(e&&"none"!==e)for(var n=e.match(this.TEXT_SHADOW_PROPERTY),r=0;n&&r<n.length;r++){var a=n[r].match(this.TEXT_SHADOW_VALUES);t.push({color:new s(a[0]),offsetX:a[1]?parseFloat(a[1].replace("px","")):0,offsetY:a[2]?parseFloat(a[2].replace("px","")):0,blur:a[3]?a[3].replace("px",""):0})}return t},n.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),t=this.prefixedCss("transformOrigin").split(" ").map(o).map(c);t[0]+=e.left,t[1]+=e.top,this.transformData={origin:t,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},n.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),t=e?a(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=t||[1,0,0,1,0,0]}return this.transformMatrix},n.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?d(this.node):l(this.node))},n.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},n.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=r(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("\u2022")),0===e.length?this.node.placeholder||"":e},n.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,n.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,n.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,n.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,t.exports=n},{"./color":3,"./utils":26}],15:[function(e,t){function n(e,t,n,r,a){Z("Starting NodeParser"),this.renderer=t,this.options=a,this.range=null,this.support=n,this.renderQueue=[],this.stack=new H(!0,1,e.ownerDocument,null);var i=new z(e,null);if(a.background&&t.rectangle(0,0,t.width,t.height,new W(a.background)),e===e.ownerDocument.documentElement){var o=new z(i.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);t.rectangle(0,0,t.width,t.height,o.color("backgroundColor"))}i.visibile=i.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=M([i].concat(this.getChildren(i)).filter((function(e){return e.visible=e.isElementVisible()})).map(this.getPseudoElements,this)),this.fontMetrics=new q,Z("Fetched nodes, total:",this.nodes.length),Z("Calculate overflow clips"),this.calculateOverflowClips(),Z("Start fetching images"),this.images=r.fetch(this.nodes.filter(C)),this.ready=this.images.ready.then(Y((function(){return Z("Images loaded, starting parsing"),Z("Creating stacking contexts"),this.createStackingContexts(),Z("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),Z("Render queue created with "+this.renderQueue.length+" items"),new Promise(Y((function(e){a.async?"function"==typeof a.async?a.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())}),this))}),this))}function r(e){return e.parent&&e.parent.clip.length}function a(e){return e.replace(/(\-[a-z])/g,(function(e){return e.toUpperCase().replace("-","")}))}function i(){}function o(e,t,n,r){return e.map((function(a,i){if(a.width>0){var o=t.left,c=t.top,s=t.width,u=t.height-e[2].width;switch(i){case 0:u=e[0].width,a.args=l({c1:[o,c],c2:[o+s,c],c3:[o+s-e[1].width,c+u],c4:[o+e[3].width,c+u]},r[0],r[1],n.topLeftOuter,n.topLeftInner,n.topRightOuter,n.topRightInner);break;case 1:o=t.left+t.width-e[1].width,s=e[1].width,a.args=l({c1:[o+s,c],c2:[o+s,c+u+e[2].width],c3:[o,c+u],c4:[o,c+e[0].width]},r[1],r[2],n.topRightOuter,n.topRightInner,n.bottomRightOuter,n.bottomRightInner);break;case 2:c=c+t.height-e[2].width,u=e[2].width,a.args=l({c1:[o+s,c+u],c2:[o,c+u],c3:[o+e[3].width,c],c4:[o+s-e[3].width,c]},r[2],r[3],n.bottomRightOuter,n.bottomRightInner,n.bottomLeftOuter,n.bottomLeftInner);break;case 3:s=e[3].width,a.args=l({c1:[o,c+u+e[2].width],c2:[o,c],c3:[o+s,c+e[0].width],c4:[o+s,c+u]},r[3],r[0],n.bottomLeftOuter,n.bottomLeftInner,n.topLeftOuter,n.topLeftInner)}}return a}))}function c(e,t,n,r){var a=(Math.sqrt(2)-1)/3*4,i=n*a,o=r*a,c=e+n,s=t+r;return{topLeft:u({x:e,y:s},{x:e,y:s-o},{x:c-i,y:t},{x:c,y:t}),topRight:u({x:e,y:t},{x:e+i,y:t},{x:c,y:s-o},{x:c,y:s}),bottomRight:u({x:c,y:t},{x:c,y:t+o},{x:e+i,y:s},{x:e,y:s}),bottomLeft:u({x:c,y:s},{x:c-i,y:s},{x:e,y:t+o},{x:e,y:t})}}function s(e,t,n){var r=e.left,a=e.top,i=e.width,o=e.height,s=t[0][0]<i/2?t[0][0]:i/2,u=t[0][1]<o/2?t[0][1]:o/2,l=t[1][0]<i/2?t[1][0]:i/2,p=t[1][1]<o/2?t[1][1]:o/2,d=t[2][0]<i/2?t[2][0]:i/2,f=t[2][1]<o/2?t[2][1]:o/2,h=t[3][0]<i/2?t[3][0]:i/2,m=t[3][1]<o/2?t[3][1]:o/2,v=i-l,y=o-f,g=i-d,x=o-m;return{topLeftOuter:c(r,a,s,u).topLeft.subdivide(.5),topLeftInner:c(r+n[3].width,a+n[0].width,Math.max(0,s-n[3].width),Math.max(0,u-n[0].width)).topLeft.subdivide(.5),topRightOuter:c(r+v,a,l,p).topRight.subdivide(.5),topRightInner:c(r+Math.min(v,i+n[3].width),a+n[0].width,v>i+n[3].width?0:l-n[3].width,p-n[0].width).topRight.subdivide(.5),bottomRightOuter:c(r+g,a+y,d,f).bottomRight.subdivide(.5),bottomRightInner:c(r+Math.min(g,i-n[3].width),a+Math.min(y,o+n[0].width),Math.max(0,d-n[1].width),f-n[2].width).bottomRight.subdivide(.5),bottomLeftOuter:c(r,a+x,h,m).bottomLeft.subdivide(.5),bottomLeftInner:c(r+n[3].width,a+x,Math.max(0,h-n[3].width),m-n[2].width).bottomLeft.subdivide(.5)}}function u(e,t,n,r){var a=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:e,startControl:t,endControl:n,end:r,subdivide:function(i){var o=a(e,t,i),c=a(t,n,i),s=a(n,r,i),l=a(o,c,i),p=a(c,s,i),d=a(l,p,i);return[u(e,o,l,d),u(d,p,s,r)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,t.x,t.y,e.x,e.y])}}}function l(e,t,n,r,a,i,o){var c=[];return t[0]>0||t[1]>0?(c.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(c)):c.push(["line",e.c1[0],e.c1[1]]),n[0]>0||n[1]>0?(c.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(c),c.push(["line",o[0].end.x,o[0].end.y]),o[0].curveToReversed(c)):(c.push(["line",e.c2[0],e.c2[1]]),c.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(c.push(["line",a[1].end.x,a[1].end.y]),a[1].curveToReversed(c)):c.push(["line",e.c4[0],e.c4[1]]),c}function p(e,t,n,r,a,i,o){t[0]>0||t[1]>0?(e.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(e),r[1].curveTo(e)):e.push(["line",i,o]),(n[0]>0||n[1]>0)&&e.push(["line",a[0].start.x,a[0].start.y])}function d(e){return e.cssInt("zIndex")<0}function f(e){return e.cssInt("zIndex")>0}function h(e){return 0===e.cssInt("zIndex")}function m(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function v(e){return e instanceof H}function y(e){return e.node.data.trim().length>0}function g(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function x(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map((function(t){var n=e.css("border"+t+"Radius").split(" ");return n.length<=1&&(n[1]=n[0]),n.map(j)}))}function I(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function b(e){var t=e.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(t)?e.css("zIndex"):"auto")}function T(e){return"static"!==e.css("position")}function E(e){return"none"!==e.css("float")}function w(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}function k(e){var t=this;return function(){return!e.apply(t,arguments)}}function C(e){return e.node.nodeType===Node.ELEMENT_NODE}function S(e){return!0===e.isPseudoElement}function N(e){return e.node.nodeType===Node.TEXT_NODE}function O(e){return function(t,n){return t.cssInt("zIndex")+e.indexOf(t)/e.length-(n.cssInt("zIndex")+e.indexOf(n)/e.length)}}function _(e){return e.getOpacity()<1}function j(e){return parseInt(e,10)}function A(e){return e.width}function D(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function M(e){return[].concat.apply([],e)}function R(e){var t=e.substr(0,1);return t===e.substr(e.length-1)&&t.match(/'|"/)?e.substr(1,e.length-2):e}function L(e){for(var t,n=[],r=0,a=!1;e.length;)P(e[r])===a?((t=e.splice(0,r)).length&&n.push(V.ucs2.encode(t)),a=!a,r=0):r++,r>=e.length&&(t=e.splice(0,r)).length&&n.push(V.ucs2.encode(t));return n}function P(e){return-1!==[32,13,10,9,45].indexOf(e)}function F(e){return/[^\u0000-\u00ff]/.test(e)}var Z=e("./log"),V=e("punycode"),z=e("./nodecontainer"),U=e("./textcontainer"),B=e("./pseudoelementcontainer"),q=e("./fontmetrics"),W=e("./color"),H=e("./stackingcontext"),G=e("./utils"),Y=G.bind,J=G.getBounds,K=G.parseBackgrounds,Q=G.offsetBounds;n.prototype.calculateOverflowClips=function(){this.nodes.forEach((function(e){if(C(e)){S(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var t="hidden"===e.css("overflow")?[e.borders.clip]:[],n=e.parseClip();n&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&t.push([["rect",e.bounds.left+n.left,e.bounds.top+n.top,n.right-n.left,n.bottom-n.top]]),e.clip=r(e)?e.parent.clip.concat(t):t,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,S(e)&&e.cleanDOM()}else N(e)&&(e.clip=r(e)?e.parent.clip:[]);S(e)||(e.bounds=null)}),this)},n.prototype.asyncRenderer=function(e,t,n){n=n||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?t():n+20>Date.now()?this.asyncRenderer(e,t,n):setTimeout(Y((function(){this.asyncRenderer(e,t)}),this),0)},n.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+B.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+B.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},n.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},n.prototype.createStyles=function(e,t){var n=e.createElement("style");n.innerHTML=t,e.body.appendChild(n)},n.prototype.getPseudoElements=function(e){var t=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var n=this.getPseudoElement(e,":before"),r=this.getPseudoElement(e,":after");n&&t.push(n),r&&t.push(r)}return M(t)},n.prototype.getPseudoElement=function(e,t){var n=e.computedStyle(t);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var r=R(n.content),i="url"===r.substr(0,3),o=document.createElement(i?"img":"html2canvaspseudoelement"),c=new B(o,e,t),s=n.length-1;s>=0;s--){var u=a(n.item(s));o.style[u]=n[u]}if(o.className=B.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+B.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return o.src=K(r)[0].args[0],[c];var l=document.createTextNode(r);return o.appendChild(l),[c,new U(l,c)]},n.prototype.getChildren=function(e){return M([].filter.call(e.node.childNodes,I).map((function(t){var n=[t.nodeType===Node.TEXT_NODE?new U(t,e):new z(t,e)].filter(D);return t.nodeType===Node.ELEMENT_NODE&&n.length&&"TEXTAREA"!==t.tagName?n[0].isElementVisible()?n.concat(this.getChildren(n[0])):[]:n}),this))},n.prototype.newStackingContext=function(e,t){var n=new H(t,e.getOpacity(),e.node,e.parent);e.cloneTo(n),(t?n.getParentStack(this):n.parent.stack).contexts.push(n),e.stack=n},n.prototype.createStackingContexts=function(){this.nodes.forEach((function(e){C(e)&&(this.isRootElement(e)||_(e)||b(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):C(e)&&(T(e)&&h(e)||w(e)||E(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)}),this)},n.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},n.prototype.isRootElement=function(e){return null===e.parent},n.prototype.sortStackingContexts=function(e){e.contexts.sort(O(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},n.prototype.parseTextBounds=function(e){return function(t,n,r){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==t.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var a=r.slice(0,n).join("").length;return this.getRangeBounds(e.node,a,t.length)}if(e.node&&"string"==typeof e.node.data){var i=e.node.splitText(t.length),o=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=i,o}}else(!this.support.rangeBounds||e.parent.hasTransform())&&(e.node=e.node.splitText(t.length));return{}}},n.prototype.getWrapperBounds=function(e,t){var n=e.ownerDocument.createElement("html2canvaswrapper"),r=e.parentNode,a=e.cloneNode(!0);n.appendChild(e.cloneNode(!0)),r.replaceChild(n,e);var i=t?Q(n):J(n);return r.replaceChild(a,n),i},n.prototype.getRangeBounds=function(e,t,n){var r=this.range||(this.range=e.ownerDocument.createRange());return r.setStart(e,t),r.setEnd(e,t+n),r.getBoundingClientRect()},n.prototype.parse=function(e){var t=e.contexts.filter(d),n=e.children.filter(C),r=n.filter(k(E)),a=r.filter(k(T)).filter(k(m)),o=n.filter(k(T)).filter(E),c=r.filter(k(T)).filter(m),s=e.contexts.concat(r.filter(T)).filter(h),u=e.children.filter(N).filter(y),l=e.contexts.filter(f);t.concat(a).concat(o).concat(c).concat(s).concat(u).concat(l).forEach((function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new i))}),this)},n.prototype.paint=function(e){try{e instanceof i?this.renderer.ctx.restore():N(e)?(S(e.parent)&&e.parent.appendToDOM(),this.paintText(e),S(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(t){if(Z(t),this.options.strict)throw t}},n.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},n.prototype.paintElement=function(e){var t=e.parseBounds();this.renderer.clip(e.backgroundClip,(function(){this.renderer.renderBackground(e,t,e.borders.borders.map(A))}),this),this.renderer.clip(e.clip,(function(){this.renderer.renderBorders(e.borders.borders)}),this),this.renderer.clip(e.backgroundClip,(function(){switch(e.node.nodeName){case"svg":case"IFRAME":var n=this.images.get(e.node);n?this.renderer.renderImage(e,t,e.borders,n):Z("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var r=this.images.get(e.node.src);r?this.renderer.renderImage(e,t,e.borders,r):Z("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,t,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}}),this)},n.prototype.paintCheckbox=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height),r={width:n-1,height:n-1,top:t.top,left:t.left},a=[3,3],i=[a,a,a,a],c=[1,1,1,1].map((function(e){return{color:new W("#A5A5A5"),width:e}})),u=s(r,i,c);this.renderer.clip(e.backgroundClip,(function(){this.renderer.rectangle(r.left+1,r.top+1,r.width-2,r.height-2,new W("#DEDEDE")),this.renderer.renderBorders(o(c,r,u,i)),e.node.checked&&(this.renderer.font(new W("#424242"),"normal","normal","bold",n-3+"px","arial"),this.renderer.text("\u2714",r.left+n/6,r.top+n-1))}),this)},n.prototype.paintRadio=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height)-2;this.renderer.clip(e.backgroundClip,(function(){this.renderer.circleStroke(t.left+1,t.top+1,n,new W("#DEDEDE"),1,new W("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(t.left+n/4)+1,Math.ceil(t.top+n/4)+1,Math.floor(n/2),new W("#424242"))}),this)},n.prototype.paintFormValue=function(e){var t=e.getValue();if(t.length>0){var n=e.node.ownerDocument,r=n.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach((function(t){try{r.style[t]=e.css(t)}catch(n){Z("html2canvas: Parse: Exception caught in renderFormValue: "+n.message)}}));var a=e.parseBounds();r.style.position="fixed",r.style.left=a.left+"px",r.style.top=a.top+"px",r.textContent=t,n.body.appendChild(r),this.paintText(new U(r.firstChild,e)),n.body.removeChild(r)}},n.prototype.paintText=function(e){e.applyTextTransform();var t=V.ucs2.decode(e.node.data),n=this.options.letterRendering&&!g(e)||F(e.node.data)?t.map((function(e){return V.ucs2.encode([e])})):L(t),r=e.parent.fontWeight(),a=e.parent.css("fontSize"),i=e.parent.css("fontFamily"),o=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),r,a,i),o.length?this.renderer.fontShadow(o[0].color,o[0].offsetX,o[0].offsetY,o[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,(function(){n.map(this.parseTextBounds(e),this).forEach((function(t,r){t&&(this.renderer.text(n[r],t.left,t.bottom),this.renderTextDecoration(e.parent,t,this.fontMetrics.getMetrics(i,a)))}),this)}),this)},n.prototype.renderTextDecoration=function(e,t,n){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(t.left,Math.round(t.top+n.baseline+n.lineWidth),t.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(t.left,Math.round(t.top),t.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(t.left,Math.ceil(t.top+n.middle+n.lineWidth),t.width,1,e.color("color"))}};var X={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};n.prototype.parseBorders=function(e){var t=e.parseBounds(),n=x(e),r=["Top","Right","Bottom","Left"].map((function(t,n){var r=e.css("border"+t+"Style"),a=e.color("border"+t+"Color");"inset"===r&&a.isBlack()&&(a=new W([255,255,255,a.a]));var i=X[r]?X[r][n]:null;return{width:e.cssInt("border"+t+"Width"),color:i?a[i[0]](i[1]):a,args:null}})),a=s(t,n,r);return{clip:this.parseBackgroundClip(e,a,r,n,t),borders:o(r,t,a,n)}},n.prototype.parseBackgroundClip=function(e,t,n,r,a){var i=[];switch(e.css("backgroundClip")){case"content-box":case"padding-box":p(i,r[0],r[1],t.topLeftInner,t.topRightInner,a.left+n[3].width,a.top+n[0].width),p(i,r[1],r[2],t.topRightInner,t.bottomRightInner,a.left+a.width-n[1].width,a.top+n[0].width),p(i,r[2],r[3],t.bottomRightInner,t.bottomLeftInner,a.left+a.width-n[1].width,a.top+a.height-n[2].width),p(i,r[3],r[0],t.bottomLeftInner,t.topLeftInner,a.left+n[3].width,a.top+a.height-n[2].width);break;default:p(i,r[0],r[1],t.topLeftOuter,t.topRightOuter,a.left,a.top),p(i,r[1],r[2],t.topRightOuter,t.bottomRightOuter,a.left+a.width,a.top),p(i,r[2],r[3],t.bottomRightOuter,t.bottomLeftOuter,a.left+a.width,a.top+a.height),p(i,r[3],r[0],t.bottomLeftOuter,t.topLeftOuter,a.left,a.top+a.height)}return i},t.exports=n},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,t,n){function r(e,t,n){var r="withCredentials"in new XMLHttpRequest;if(!t)return Promise.reject("No proxy configured");var a=o(r),s=c(t,e,a);return r?l(s):i(n,s,a).then((function(e){return h(e.content)}))}function a(e,t,n){var r="crossOrigin"in new Image,a=o(r),s=c(t,e,a);return r?Promise.resolve(s):i(n,s,a).then((function(e){return"data:"+e.type+";base64,"+e.content}))}function i(e,t,n){return new Promise((function(r,a){var i=e.createElement("script"),o=function(){delete window.html2canvas.proxy[n],e.body.removeChild(i)};window.html2canvas.proxy[n]=function(e){o(),r(e)},i.src=t,i.onerror=function(e){o(),a(e)},e.body.appendChild(i)}))}function o(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++m+"_"+Math.round(1e5*Math.random())}function c(e,t,n){return e+"?url="+encodeURIComponent(t)+(n.length?"&callback=html2canvas.proxy."+n:"")}function s(e){return function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/html")}catch(a){d("DOMParser not supported, falling back to createHTMLDocument"),n=document.implementation.createHTMLDocument("");try{n.open(),n.write(t),n.close()}catch(i){d("createHTMLDocument write not supported, falling back to document.body.innerHTML"),n.body.innerHTML=t}}var o=n.querySelector("base");if(!o||!o.href.host){var c=n.createElement("base");c.href=e,n.head.insertBefore(c,n.head.firstChild)}return n}}function u(e,t,n,a,i,o){return new r(e,t,window.document).then(s(e)).then((function(e){return f(e,n,a,i,o,0,0)}))}var l=e("./xhr"),p=e("./utils"),d=e("./log"),f=e("./clone"),h=p.decode64,m=0;n.Proxy=r,n.ProxyURL=a,n.loadUrlDocument=u},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,t){function n(e,t){var n=document.createElement("a");n.href=e,e=n.href,this.src=e,this.image=new Image;var a=this;this.promise=new Promise((function(n,i){a.image.crossOrigin="Anonymous",a.image.onload=n,a.image.onerror=i,new r(e,t,document).then((function(e){a.image.src=e})).catch(i)}))}var r=e("./proxy").ProxyURL;t.exports=n},{"./proxy":16}],18:[function(e,t){function n(e,t,n){r.call(this,e,t),this.isPseudoElement=!0,this.before=":before"===n}var r=e("./nodecontainer");n.prototype.cloneTo=function(e){n.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},n.prototype=Object.create(r.prototype),n.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},n.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},n.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",t.exports=n},{"./nodecontainer":14}],19:[function(e,t){function n(e,t,n,r,a){this.width=e,this.height=t,this.images=n,this.options=r,this.document=a}var r=e("./log");n.prototype.renderImage=function(e,t,n,r){var a=e.cssInt("paddingLeft"),i=e.cssInt("paddingTop"),o=e.cssInt("paddingRight"),c=e.cssInt("paddingBottom"),s=n.borders,u=t.width-(s[1].width+s[3].width+a+o),l=t.height-(s[0].width+s[2].width+i+c);this.drawImage(r,0,0,r.image.width||u,r.image.height||l,t.left+a+s[3].width,t.top+i+s[0].width,u,l)},n.prototype.renderBackground=function(e,t,n){t.height>0&&t.width>0&&(this.renderBackgroundColor(e,t),this.renderBackgroundImage(e,t,n))},n.prototype.renderBackgroundColor=function(e,t){var n=e.color("backgroundColor");n.isTransparent()||this.rectangle(t.left,t.top,t.width,t.height,n)},n.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},n.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},n.prototype.renderBackgroundImage=function(e,t,n){e.parseBackgroundImages().reverse().forEach((function(a,i,o){switch(a.method){case"url":var c=this.images.get(a.args[0]);c?this.renderBackgroundRepeating(e,t,c,o.length-(i+1),n):r("Error loading background-image",a.args[0]);break;case"linear-gradient":case"gradient":var s=this.images.get(a.value);s?this.renderBackgroundGradient(s,t,n):r("Error loading background-image",a.args[0]);break;case"none":break;default:r("Unknown background-image type",a.args[0])}}),this)},n.prototype.renderBackgroundRepeating=function(e,t,n,r,a){var i=e.parseBackgroundSize(t,n.image,r),o=e.parseBackgroundPosition(t,n.image,r,i);switch(e.parseBackgroundRepeat(r)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(n,o,i,t,t.left+a[3],t.top+o.top+a[0],99999,i.height,a);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(n,o,i,t,t.left+o.left+a[3],t.top+a[0],i.width,99999,a);break;case"no-repeat":this.backgroundRepeatShape(n,o,i,t,t.left+o.left+a[3],t.top+o.top+a[0],i.width,i.height,a);break;default:this.renderBackgroundRepeat(n,o,i,{top:t.top,left:t.left},a[3],a[0])}},t.exports=n},{"./log":13}],20:[function(e,t){function n(e,t){a.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=t),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},o("Initialized CanvasRenderer with size",e,"x",t)}function r(e){return e.length>0}var a=e("../renderer"),i=e("../lineargradientcontainer"),o=e("../log");n.prototype=Object.create(a.prototype),n.prototype.setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},n.prototype.rectangle=function(e,t,n,r,a){this.setFillStyle(a).fillRect(e,t,n,r)},n.prototype.circle=function(e,t,n,r){this.setFillStyle(r),this.ctx.beginPath(),this.ctx.arc(e+n/2,t+n/2,n/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},n.prototype.circleStroke=function(e,t,n,r,a,i){this.circle(e,t,n,r),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},n.prototype.drawShape=function(e,t){this.shape(e),this.setFillStyle(t).fill()},n.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(t){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},n.prototype.drawImage=function(e,t,n,r,a,i,o,c,s){(!this.taints(e)||this.options.allowTaint)&&this.ctx.drawImage(e.image,t,n,r,a,i,o,c,s)},n.prototype.clip=function(e,t,n){this.ctx.save(),e.filter(r).forEach((function(e){this.shape(e).clip()}),this),t.call(n),this.ctx.restore()},n.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach((function(e,t){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===t?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))}),this),this.ctx.closePath(),this.ctx},n.prototype.font=function(e,t,n,r,a,i){this.setFillStyle(e).font=[t,n,r,a,i].join(" ").split(",")[0]},n.prototype.fontShadow=function(e,t,n,r){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",t).setVariable("shadowOffsetX",n).setVariable("shadowBlur",r)},n.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},n.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},n.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},n.prototype.setVariable=function(e,t){return this.variables[e]!==t&&(this.variables[e]=this.ctx[e]=t),this},n.prototype.text=function(e,t,n){this.ctx.fillText(e,t,n)},n.prototype.backgroundRepeatShape=function(e,t,n,r,a,i,o,c,s){var u=[["line",Math.round(a),Math.round(i)],["line",Math.round(a+o),Math.round(i)],["line",Math.round(a+o),Math.round(c+i)],["line",Math.round(a),Math.round(c+i)]];this.clip([u],(function(){this.renderBackgroundRepeat(e,t,n,r,s[3],s[0])}),this)},n.prototype.renderBackgroundRepeat=function(e,t,n,r,a,i){var o=Math.round(r.left+t.left+a),c=Math.round(r.top+t.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,n),"repeat")),this.ctx.translate(o,c),this.ctx.fill(),this.ctx.translate(-o,-c)},n.prototype.renderBackgroundGradient=function(e,t){if(e instanceof i){var n=this.ctx.createLinearGradient(t.left+t.width*e.x0,t.top+t.height*e.y0,t.left+t.width*e.x1,t.top+t.height*e.y1);e.colorStops.forEach((function(e){n.addColorStop(e.stop,e.color.toString())})),this.rectangle(t.left,t.top,t.width,t.height,n)}},n.prototype.resizeImage=function(e,t){var n=e.image;if(n.width===t.width&&n.height===t.height)return n;var r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,t.width,t.height),r},t.exports=n},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,t){function n(e,t,n,a){r.call(this,n,a),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*t}var r=e("./nodecontainer");n.prototype=Object.create(r.prototype),n.prototype.getParentStack=function(e){var t=this.parent?this.parent.stack:null;return t?t.ownStacking?t:t.getParentStack(e):e.stack},t.exports=n},{"./nodecontainer":14}],22:[function(e,t){function n(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}n.prototype.testRangeBounds=function(e){var t,n,r=!1;return e.createRange&&(t=e.createRange()).getBoundingClientRect&&((n=e.createElement("boundtest")).style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),123===t.getBoundingClientRect().height&&(r=!0),e.body.removeChild(n)),r},n.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},n.prototype.testSVG=function(){var e=new Image,t=document.createElement("canvas"),n=t.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch(r){return!1}return!0},t.exports=n},{}],23:[function(e,t){function n(e){this.src=e,this.image=null;var t=this;this.promise=this.hasFabric().then((function(){return t.isInline(e)?Promise.resolve(t.inlineFormatting(e)):r(e)})).then((function(e){return new Promise((function(n){window.html2canvas.svg.fabric.loadSVGFromString(e,t.createCanvas.call(t,n))}))}))}var r=e("./xhr"),a=e("./utils").decode64;n.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},n.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},n.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},n.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},n.prototype.createCanvas=function(e){var t=this;return function(n,r){var a=new window.html2canvas.svg.fabric.StaticCanvas("c");t.image=a.lowerCanvasEl,a.setWidth(r.width).setHeight(r.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(n,r)).renderAll(),e(a.lowerCanvasEl)}},n.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):a(e)},t.exports=n},{"./utils":26,"./xhr":28}],24:[function(e,t){function n(e,t){this.src=e,this.image=null;var n=this;this.promise=t?new Promise((function(t,r){n.image=new Image,n.image.onload=t,n.image.onerror=r,n.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),!0===n.image.complete&&t(n.image)})):this.hasFabric().then((function(){return new Promise((function(t){window.html2canvas.svg.fabric.parseSVGDocument(e,n.createCanvas.call(n,t))}))}))}var r=e("./svgcontainer");n.prototype=Object.create(r.prototype),t.exports=n},{"./svgcontainer":23}],25:[function(e,t){function n(e,t){a.call(this,e,t)}function r(e,t,n){return e.length>0?t+n.toUpperCase():void 0}var a=e("./nodecontainer");n.prototype=Object.create(a.prototype),n.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},n.prototype.transform=function(e){var t=this.node.data;switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,r);case"uppercase":return t.toUpperCase();default:return t}},t.exports=n},{"./nodecontainer":14}],26:[function(e,t,n){n.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n.bind=function(e,t){return function(){return e.apply(t,arguments)}},n.decode64=function(e){var t,n,r,a,i,o,c,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=e.length,l="";for(t=0;u>t;t+=4)i=s.indexOf(e[t])<<2|(n=s.indexOf(e[t+1]))>>4,o=(15&n)<<4|(r=s.indexOf(e[t+2]))>>2,c=(3&r)<<6|(a=s.indexOf(e[t+3])),l+=64===r?String.fromCharCode(i):64===a||-1===a?String.fromCharCode(i,o):String.fromCharCode(i,o,c);return l},n.getBounds=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=null==e.offsetWidth?t.width:e.offsetWidth;return{top:t.top,bottom:t.bottom||t.top+t.height,right:t.left+n,left:t.left,width:n,height:null==e.offsetHeight?t.height:e.offsetHeight}}return{}},n.offsetBounds=function(e){var t=e.offsetParent?n.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,right:e.offsetLeft+t.left+e.offsetWidth,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},n.parseBackgrounds=function(e){var t,n,r,a,i,o,c,s=" \r\n\t",u=[],l=0,p=0,d=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&c.push(n),"-"===t.substr(0,1)&&(a=t.indexOf("-",1)+1)>0&&(r=t.substr(0,a),t=t.substr(a)),u.push({prefix:r,method:t.toLowerCase(),value:i,args:c,image:null})),c=[],t=r=n=i=""};return c=[],t=r=n=i="",e.split("").forEach((function(e){if(!(0===l&&s.indexOf(e)>-1)){switch(e){case'"':o?o===e&&(o=null):o=e;break;case"(":if(o)break;if(0===l)return l=1,void(i+=e);p++;break;case")":if(o)break;if(1===l){if(0===p)return l=0,i+=e,void d();p--}break;case",":if(o)break;if(0===l)return void d();if(1===l&&0===p&&!t.match(/^url$/i))return c.push(n),n="",void(i+=e)}i+=e,0===l?t+=e:n+=e}})),d(),u}},{}],27:[function(e,t){function n(e){r.apply(this,arguments),this.type="linear"===e.args[0]?r.TYPES.LINEAR:r.TYPES.RADIAL}var r=e("./gradientcontainer");n.prototype=Object.create(r.prototype),t.exports=n},{"./gradientcontainer":9}],28:[function(e,t){function n(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){200===r.status?t(r.responseText):n(new Error(r.statusText))},r.onerror=function(){n(new Error("Network Error"))},r.send()}))}t.exports=n},{}]},{},[4])(4)}()},90549:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(15861),a=n(87757),i=n.n(a),o="YUNTING_INDEXEDDB",c={indexedDB:window.indexedDB||window.webkitindexedDB,store:{html:{name:"dashboardChangeRecode",key:"id",cursorIndex:[{name:"chartName",unique:!1}]},pageData:{name:"pageData",key:"type",cursorIndex:[{name:"type",unique:!1},{name:"createdAt",unique:!1},{name:"updatedAt",unique:!1}]},queryParams:{name:"queryParams",key:"queryParamsId",cursorIndex:[{name:"createdAt",unique:!1}]},projectData:{name:"projectData",key:"projectId",cursorIndex:[{name:"createdAt",unique:!1},{name:"updatedAt",unique:!1}]}},init:function(){return(0,r.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c,(n=c.indexedDB.open(o,5)).onerror=function(){},n.onsuccess=function(){},n.onupgradeneeded=function(e){var n=e.target.result;for(var r in t.store)if(!n.objectStoreNames.contains(t.store[r].name))for(var a=n.createObjectStore(t.store[r].name,{keyPath:t.store[r].key}),i=0;i<t.store[r].cursorIndex.length;i++){var o=t.store[r].cursorIndex[i];a.createIndex(o.name,o.name,{unique:o.unique})}};case 5:case"end":return e.stop()}}),e)})))()},openDB:function(){return new Promise((function(e,t){var n=c.indexedDB.open(o,5);n.onerror=function(e){t("IndexedDB\u6570\u636e\u5e93\u6253\u5f00\u9519\u8bef\uff0c"+e)},n.onsuccess=function(t){e(t.target.result)}}))},add:function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.openDB();case 3:return r=e.sent,a=r.transaction(t.name,"readwrite").objectStore(t.name).add(n),e.abrupt("return",new Promise((function(e,t){a.onerror=function(e){t("\u6dfb\u52a0\u6570\u636e\u51fa\u9519:"+e)},a.onsuccess=function(){e(!0)}})));case 8:return e.prev=8,e.t0=e.catch(0),e.t0,e.abrupt("return",Promise.resolve(!1));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.openDB();case 3:return r=e.sent,a=r.transaction(t.name,"readwrite").objectStore(t.name).delete(n),e.abrupt("return",new Promise((function(e){a.onerror=function(){e(!1)},a.onsuccess=function(){e(!0)}})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.resolve(!1));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),get:function(){var e=(0,r.Z)(i().mark((function e(t,n,r){var a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.openDB();case 3:return a=e.sent,o=a.transaction(t.name,"readonly").objectStore(t.name),s=n?r?o.index(r).get(n):o.get(n):o.openCursor(),u=[],e.abrupt("return",new Promise((function(e){s.onerror=function(){e("\u67e5\u8be2\u6570\u636e\u5931\u8d25")},s.onsuccess=function(t){n||r?e([t.target.result]):t.target.result?(u.push(t.target.result.value),t.target.result.continue()):e(u)}})));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),update:function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.openDB();case 3:return r=e.sent,a=r.transaction(t.name,"readwrite").objectStore(t.name).put(n),e.abrupt("return",new Promise((function(e){a.onerror=function(){e(!1)},a.onsuccess=function(){e(!0)}})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.resolve(!1));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),deleteDB:function(e){var t=c.indexedDB.deleteDatabase(e);t.onerror=function(){return Promise.resolve(!1)},t.onsuccess=function(){return Promise.resolve(!0)}},closeDB:function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=5;break}return e.next=4,c.openDB();case 4:n=e.sent;case 5:return r=n.closeDB(),e.abrupt("return",new Promise((function(e){r.onerror=function(){e(!1)},r.onsuccess=function(){e(!0)}})));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.resolve(!1));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),clear:function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.openDB();case 2:n=e.sent,n.transaction(t.name,"readwrite").objectStore(t.name).clear();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleDataByCursor:function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n||"",e.next=4,c.openDB();case 4:return a=e.sent,o=a.transaction(t,"readwrite").objectStore(t),s=o.openCursor(r),e.abrupt("return",new Promise((function(e){s.onerror=function(){e("\u901a\u8fc7\u6e38\u6807\u83b7\u53d6\u6570\u636e\u62a5\u9519")},s.onsuccess=function(t){var n=t.target.result;e(n)}})));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),handleDataByIndex:function(){var e=(0,r.Z)(i().mark((function e(t,n,r){var a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n||"",e.next=4,c.openDB();case 4:return o=e.sent,s=o.transaction(t,"readwrite").objectStore(t),u=s.index(r).openCursor(a),e.abrupt("return",new Promise((function(e){u.onerror=function(){e("\u901a\u8fc7\u7d22\u5f15\u6e38\u6807\u83b7\u53d6\u6570\u636e\u62a5\u9519")},u.onsuccess=function(t){var n=t.target.result;n&&e(n)}})));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),createCursorIndex:function(){var e=(0,r.Z)(i().mark((function e(t,n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.openDB();case 2:return a=e.sent,a.transaction(t,"readwrite").objectStore(t).createIndex(n,n,{unique:r}),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()};const s=c},97189:function(e,t,n){var r,a;!function(i,o){"use strict";void 0===(a="function"===typeof(r=function(){function e(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?decodeURIComponent(t[2]):null}function t(t){var n=new Date;n.setTime(n.getTime()-1);var r=e(t);null!=r&&(document.cookie=t+"="+r+";expires="+n.toGMTString())}function n(e,t,n){var r=new Date;r.setTime(r.getTime()+n),document.cookie=e+"="+escape(t)+";expires="+r.toGMTString()}function r(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}function a(e,t){if(e===t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function i(e){if(e&&"object"===typeof e){var t=e instanceof Array?[]:{};for(var n in e){var r=e[n];t[n]=i(r)}return t}return e}function o(e){for(var t=[],n=0;n<e.length;n++)-1==t.indexOf(e[n])&&t.push(e[n]);return t}function c(e,t){var n=e.className,r=n+(""!=n?" ":"")+t;e.className=r}function s(e,t){var n=(n=(" "+e.className+" ").replace(/(\s+)/gi," ").replace(" "+t+" "," ")).replace(/(^\s+)|(\s+$)/g,"");e.className=n}function u(e,t){var n=e.className.split(/\s+/);for(var r in n)if(n[r]==t)return!0;return!1}return{getCookie:e,delCookie:t,setCookie:n,getQuery:r,arrayEqual:a,deepClone:i,uniqueArray:o,addClass:c,removeClass:s,hasClass:u}})?r.call(t,n,t,e):r)||(e.exports=a)}()},40845:(e,t,n)=>{"use strict";n.d(t,{o:()=>a,s:()=>i});var r=n(49722);function a(e){var t=e.projectId,n=e.key;return r.h.post("/default/value/find",{projectId:t,key:n})}function i(e){var t=e.projectId,n=e.value,a=e.key;return r.h.post("/default/value/update",{projectId:t,key:a,value:n})}},35239:(e,t,n)=>{"use strict";n.d(t,{t:()=>c,V:()=>o});var r=n(70300),a=n(61193),i=function(){return console.error("\u4e0d\u53ef\u4ee5\u901a\u8fc7js\u8bbe\u7f6etypes\u54e6\uff01\u8bf7\u624b\u52a8\u5728types\u4e2d\u6dfb\u52a0\u5b57\u6bb5\uff01\uff01"),!0},o=new Proxy({shrink:"shrink",project:"project",authorization:"authorization",curProject:"curProject",aspect:"aspect",recentList:"recentList",opinionDetail:"opinionDetail",backProjectConfig:"backProjectConfig",messageFilterValue:"messageFilterValue",messageFilterListSave:"messageFilterListSave",overviewFilterListSave:"overviewFilterListSave",realPriceTableTitleList:"realPriceTableTitleList",historyPriceTableTitleList:"historyPriceTableTitleList",conversationOverviewHeader:"conversationOverviewHeader",conversationCommodityHeader:"conversationCommodityHeader",conversationConcernHeader:"conversationConcernHeader",sentimentInfo:"sentimentInfo",dashboardLock:"dashboardLock",storageColumns:"storageColumns",configOptions:"configOptions",newEntry:"newEntry",quickTimeChoice:"quickTimeChoice",messageDateFilter:"messageDateFilter",projectLogo:"projectLogo",connectionLinkMaintainList:"connectionLinkMaintainList",comparisonItemsSession:"comparisonItemsSession",leaveRouter:"leaveRouter",linkManagementFilter:"linkManagementFilter",filterList:"filterList",productFilterList:"productFilterList",specifyFilterList:"specifyFilterList",connectionFilter:"connectionFilter",menu:"menu",ticket:"ticket"},{get:function(e,t,n){if("$$typeof"!==t)return e[t]?Reflect.get(e,t,n):void console.error("types\u5bf9\u8c61\u4e2d\u6ca1\u627e\u5230 "+t+"\uff0c\u5982\u9700\u4f7f\u7528\u6b64\u503c\uff0c\u8bf7\u5148\u5728types\u4e2d\u6dfb\u52a0")},set:i,defineProperty:i,deleteProperty:i,preventExtensions:i,setPrototypeOf:i}),c=Object.freeze({getUser:function(){var e=a.Z.getUser(),t=e?e.userId:null;return t||console.error("\u8bf7\u767b\u5f55\uff01"),t},set:function(e,t,n,a){if(void 0===n&&(n="local"),void 0===a&&(a=0),void 0!==e){var i="local"===n?r.I:r.n,o={},c=this.getUser();i.get(c)&&(o=i.get(c)),o[e]=t,i.set(c,o,a)}else console.error("\u5b58\u50a8\u5931\u8d25\uff0c\u8bf7\u4f7f\u7528\u6709\u6548\u7684key\u503c")},setWidthProject:function(e,t,n,a){void 0===n&&(n="local");var i="local"===n?r.I:r.n,c={},s=this.getUser();i.get(s)&&(c=i.get(s));var u=r.I.get(s)[o.curProject].id;c[e]=c[e]||[],c[e].some((function(e){return e.projectId===u}))?c[e].forEach((function(e){e.projectId===u&&(e.value=t)})):c[e].push({projectId:u,value:t}),i.set(s,c,a)},getWidthProject:function(e,t){void 0===t&&(t="local");var n=("local"===t?r.I:r.n).get(this.getUser());if(n&&n[e]){var a=this.getUser(),i=r.I.get(a)[o.curProject].id;return n[e].some((function(e){return e.projectId===i}))?n[e].filter((function(e){return e.projectId===i}))[0].value:null}return null},get:function(e,t){void 0===t&&(t="local");var n=("local"===t?r.I:r.n).get(this.getUser());return n&&void 0!==n[e]?n[e]:null},remove:function(e,t){if(void 0===t&&(t="local"),void 0!==e){var n="local"===t?r.I:r.n,a={},i=this.getUser();n.get(i)&&(a=n.get(i)),delete a[e],n.set(i,a)}else console.error("\u5220\u9664\u5931\u8d25\uff0c\u8bf7\u4f7f\u7528\u6709\u6548\u7684key\u503c")}})},70300:(e,t,n)=>{"use strict";n.d(t,{I:()=>r,n:()=>a});var r={set:function(e,t,n){var r={value:t,expiryTime:!n||isNaN(n)?0:this.getCurrentTimeStamp()+parseInt(1e3*n*60*60*24)};try{localStorage.setItem(e,JSON.stringify(r))}catch(a){!function(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}(a)?console.error("Error: \u4fdd\u5b58\u5230\u672c\u5730\u5b58\u50a8\u5931\u8d25"):(console.error("Error: \u672c\u5730\u5b58\u50a8\u8d85\u8fc7\u9650\u5236"),localStorage.clear())}},get:function(e){var t=localStorage[e];if(!t||"null"===t)return null;var n,r=this.getCurrentTimeStamp();try{n=JSON.parse(t)}catch(a){return null}return 0===n.expiryTime||n.expiryTime>r?n.value:void 0===n.expiryTime?n:null},remove:function(e){localStorage.removeItem(e)},getCurrentTimeStamp:function(){return Date.parse(new Date)}},a={get:function(e){var t=sessionStorage[e];return t&&"null"!==t?JSON.parse(t).value:null},set:function(e,t){var n={value:t};sessionStorage[e]=JSON.stringify(n)}}},13853:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r={"/login":"\u767b\u5f55","/noPermission":"\u65e0\u6743\u9650","/tourists/active":"\u8d26\u6237\u6fc0\u6d3b","/tourists":"\u91cd\u7f6e\u5bc6\u7801","/reset":"\u91cd\u7f6e\u5bc6\u7801","/set":"\u8bbe\u7f6e\u5bc6\u7801","/binded":"\u5df2\u7ed1\u5b9a\u5fae\u4fe1","/inbox/public":"\u5168\u90e8\u6d88\u606f","/inbox/personal":"\u79c1\u4eba\u6d88\u606f","/inbox/folder":"\u79c1\u4eba\u6d88\u606f","/inbox/archive":"\u5f52\u6863\u6d88\u606f","/overview":"\u9879\u76ee\u6982\u89c8","/product/overview":"\u6982\u89c8","/product/commentOverview":"\u8bc4\u8bba\u6982\u89c8","/product/analyze":"\u4ea7\u54c1\u5206\u6790","/product/selfAnalysis":"\u81ea\u4e3b\u5206\u6790","/product/customer":"\u5ba2\u6237\u5173\u6ce8","/product/compare":"\u7ade\u54c1\u5206\u6790","/product/service":"\u670d\u52a1\u5206\u6790","/product/marketing":"\u5e02\u573a\u5206\u6790","/product/aspectTrend":"\u6307\u6807\u8d8b\u52bf","/salesVolume":"\u6307\u6807\u4e0e\u9500\u91cf","/explore/opinion":"\u5178\u578b\u610f\u89c1","/opinionDetail":"\u5178\u578b\u610f\u89c1\u8be6\u60c5","/product/scene/SceneOverview":"\u573a\u666f\u6982\u89c8","/product/scene/SceneUser":"\u7528\u6237\u7b80\u753b","/product/scene/SceneUsage/SCENE_USE_SCENE":"\u4f7f\u7528\u573a\u5408","/product/scene/SceneUsage/SCENE_USE":"\u7528\u9014","/product/scene/SceneUsage/SCENE_BUY_DECISION":"\u8d2d\u4e70\u51b3\u7b56","/product/scene/SceneUsage/SCENE_MY_ADVICE":"\u7528\u6237\u5efa\u8bae","/account/project/comment/subscribe":"\u667a\u80fd\u8ba2\u9605","/account/project/comment/subscribe/recycling":"\u56de\u6536\u7ad9","/account/project/comment/subscribe/rules":"\u8ba2\u9605\u89c4\u5219","/account/project/comment/subscribe/rules/edit":"\u8ba2\u9605\u89c4\u5219","/account/project/comment/subscribe/linkMaintenance":"\u8ba2\u9605\u94fe\u63a5\u5f85\u7ef4\u62a4\u5217\u8868","/account/project/comment/link":"\u94fe\u63a5\u7ba1\u7406","/account/project/comment/link/linkMaintenance":"\u8ba2\u9605\u94fe\u63a5\u5f85\u7ef4\u62a4\u5217\u8868","/account/project/comment/maintainList":"\u5f85\u7ef4\u62a4\u5546\u54c1\u94fe\u63a5","/account/project/comment/batchAdd":"\u6279\u91cf\u4e0a\u4f20\u4efb\u52a1","/account/project/comment/addLink":"\u65b0\u589e\u94fe\u63a5\u4efb\u52a1","/account/project/base":"SPU\u77e5\u8bc6\u5e93","/account/project/base/sku":"SKU\u77e5\u8bc6\u5e93","/account/project/linkTopic":"\u4e3b\u9898","/account/project/linkTopic/value":"\u4e3b\u9898\u503c","/aspectWarning":"\u6307\u6807\u9884\u8b66","/tab/sceneAnalyze":"\u5206\u6790\u8be6\u60c5","/tab/detail":"\u5206\u6790\u8be6\u60c5","/price":"\u4ef7\u683c\u5217\u8868","/price/up":"\u4ef7\u683c\u4e0a\u5347\u5217\u8868","/price/down":"\u4ef7\u683c\u4e0b\u964d\u5217\u8868","/price/priceDetail":"\u4ef7\u683c\u8d8b\u52bf","/priceMonitorChart":"\u4ef7\u683c\u56fe\u8868","/priceCompare":"\u4ef7\u683c\u6bd4\u8f83","/priceWarning":"\u7ade\u54c1\u6bd4\u4ef7","/priceWarning/add":"\u6dfb\u52a0\u9884\u8b66","/priceWarning/weChatPush":"\u63a8\u9001\u65e5\u5fd7","/price/overview":"\u6570\u636e\u6982\u89c8","/price/branding":"\u54c1\u724c\u5206\u6790","/price/product":"\u4ea7\u54c1\u5206\u6790","/price/spu":"SPU\u5206\u6790","/price/shop":"\u5e97\u94fa\u5206\u6790","/price/realTimePrice":"\u5b9e\u65f6\u4ef7\u683c","/priceHistory":"\u6bcf\u65e5\u6700\u4f4e\u4ef7","/account/project/price/subscribe":"\u667a\u80fd\u8ba2\u9605","/account/project/price/subscribe/recycling":"\u56de\u6536\u7ad9","/account/project/price/subscribe/rules":"\u8ba2\u9605\u89c4\u5219","/account/project/price/subscribe/rules/edit":"\u8ba2\u9605\u89c4\u5219","/account/project/price/subscribe/linkMaintenance":"\u8ba2\u9605\u94fe\u63a5\u5f85\u7ef4\u62a4\u5217\u8868","/account/project/price/link":"\u94fe\u63a5\u7ba1\u7406","/account/project/price/link/linkMaintenance":"\u8ba2\u9605\u94fe\u63a5\u5f85\u7ef4\u62a4\u5217\u8868","/account/project/price/maintainList":"\u5f85\u7ef4\u62a4\u5546\u54c1\u94fe\u63a5","/account/project/price/batchAdd":"\u6279\u91cf\u4e0a\u4f20\u4efb\u52a1","/account/project/price/addLink":"\u65b0\u589e\u94fe\u63a5\u4efb\u52a1","/account/project/price/base":"SPU\u77e5\u8bc6\u5e93","/account/project/price/base/sku":"SKU\u77e5\u8bc6\u5e93","/account/project/price/topic":"\u4e3b\u9898","/account/project/price/topic/value":"\u4e3b\u9898\u503c","/priceChaos":"\u6e20\u9053\u4e71\u4ef7","/priceChaos/screenshot":"\u622a\u56fe\u53d6\u8bc1","/priceChaos/pushLog":"\u63a8\u9001\u65e5\u5fd7","/priceChaos/ruleList":"\u89c4\u5219\u5217\u8868","/priceChaos/editRule":"\u89c4\u5219","/market/newMonitoring":"\u4e0a\u65b0\u76d1\u63a7","/market/hotDiscovery":"\u7206\u6b3e\u53d1\u73b0","/market/salesAnalysis":"\u9500\u91cf\u5206\u6790","/market/brandAnalysis":"\u54c1\u724c\u5206\u6790","/market/modelAnalysis":"\u578b\u53f7\u5206\u6790","/explore/free":"\u81ea\u7531\u63a2\u7d22","/explore/scene/overview":"\u573a\u666f\u6316\u6398","/explore/scene/user":"\u89d2\u8272\u4e0e\u5173\u7cfb","/explore/scene/useScene":"\u4f7f\u7528\u573a\u5408","/explore/scene/use":"\u7528\u9014","/explore/scene/buyDecision":"\u8d2d\u4e70\u51b3\u7b56","/explore/scene/myAdvice":"\u7528\u6237\u5efa\u8bae","/explore/scene/spokesmanAnalysis":"\u4ee3\u8a00\u4eba","/explore/scene/competingAnalysis":"\u7ade\u54c1\u5206\u6790","/brand/analyze/overview":"\u54c1\u724c\u603b\u89c8","/brand/analyzing":"\u7ef4\u5ea6\u6982\u89c8","/brand/interaction":"\u4e92\u52a8\u5206\u6790","/brand/channel":"\u6e20\u9053\u5206\u6790","/brand/content":"\u5185\u5bb9\u5206\u6790","/brand/index":"\u6307\u6570\u5206\u6790","/service/overview":"\u6570\u636e\u6982\u89c8","/service/concernAnalyze":"\u5173\u6ce8\u70b9\u5206\u6790","/service/spu":"\u5355\u54c1\u5206\u6790","/service/gombitAnalyze":"\u8bdd\u9898\u5206\u6790","/service/match":"\u5546\u54c1\u5bf9\u6bd4","/service/setting":"\u914d\u7f6e","/publicSentiment/overview":"\u8206\u60c5\u6982\u89c8","/publicSentiment/tagAnalysis":"\u6807\u7b7e\u5206\u6790","/publicSentiment/subjectOverview":"\u8206\u60c5\u4e13\u9898","/publicSentiment/subject/edit":"\u8206\u60c5\u4e13\u9898\u7f16\u8f91","/publicSentiment/warning/list":"\u8206\u60c5\u9884\u8b66","/publicSentiment/warning/edit":"\u8206\u60c5\u9884\u8b66\u7f16\u8f91","/publicSentiment/alert":"\u9884\u8b66\u63d0\u9192","/publicSentiment/alert/detail":"\u9884\u8b66\u63d0\u9192\u8be6\u60c5","/publicSentiment/subject":"\u6570\u636e\u6982\u51b5","/publicSentiment/subject/trend":"\u8d8b\u52bf\u5206\u6790","/publicSentiment/subject/channel":"\u6e20\u9053\u5206\u6790","/publicSentiment/subject/path":"\u4f20\u64ad\u5206\u6790","/publicSentiment/subject/point":"\u89c2\u70b9\u5206\u6790","/publicSentiment/event":"\u4e8b\u4ef6\u8109\u7edc","/publicSentiment/event/trend":"\u8d8b\u52bf\u5206\u6790","/publicSentiment/event/channel":"\u6e20\u9053\u5206\u6790","/publicSentiment/event/path":"\u4f20\u64ad\u5206\u6790","/publicSentiment/event/point":"\u89c2\u70b9\u5206\u6790","/social/overview":"\u8206\u60c5\u6982\u89c8","/social/models/top10":"\u673a\u578bTop10","/social/models/comparison":"\u673a\u578b\u5bf9\u6bd4","/social/tag/brand/top":"\u6807\u7b7eTop30\uff08\u54c1\u724c\uff09","/social/tag/brand/detail":"\u5206\u6790\u8be6\u60c5","/social/tag/brand/trend":"\u54c1\u724c\u8d70\u52bf","/social/tag/models/top":"\u6807\u7b7eTop30\uff08\u673a\u578b\uff09","/social/tag/models/detail":"\u5206\u6790\u8be6\u60c5","/social/tag/models/trend":"\u673a\u578b\u8d70\u52bf","/nps/overview":"NPS\u770b\u677f","/nps/edit":"NPS\u7f16\u8f91","/nps/manage":"NPS\u95ee\u5377\u7ba1\u7406","/nps/manage/dispatch":"\u95ee\u5377\u5206\u53d1","/nps/manage/detail":"NPS\u6570\u636e\u5206\u6790","/nps/contact":"\u8054\u7cfb\u4eba","/research/board/satisfaction":"\u6ee1\u610f\u5ea6\u770b\u677f","/research/board/nps":"NPS\u770b\u677f","/research/manage":"\u95ee\u5377\u7ba1\u7406","/research/contact":"\u8054\u7cfb\u4eba","/research/setting":"\u770b\u677f\u6a21\u677f","/research/setting/edit":"\u770b\u677f\u7f16\u8f91","/research/setting/template":"\u6a21\u677f\u7b7e\u540d\u7f16\u8f91","/research/questionnaireEdit/edit":"\u95ee\u5377\u7f16\u8f91","/research/questionnaireEdit/setting":"\u95ee\u5377\u7f16\u8f91","/research/questionnaireEdit/distribute":"\u95ee\u5377\u5206\u53d1","/research/manage/distribute":"\u95ee\u5377\u5206\u53d1","/dashboard":"\u4eea\u8868\u76d8","/personalSettings/overview":"\u4e2a\u4eba\u8d44\u6599","/personalSettings/password":"\u8d26\u53f7\u5bc6\u7801","/personalSettings/authorization":"\u6388\u6743\u7ba1\u7406","/personalSettings/smartFolder":"\u4e2a\u4eba\u6587\u4ef6\u5939","/personalSettings/privateMessageRule":"\u79c1\u4eba\u6d88\u606f\u5904\u7406","/personalSettings/download":"\u5bfc\u51fa\u8bb0\u5f55","/personalSettings/smartFolder/create":"\u6dfb\u52a0\u667a\u80fd\u6587\u4ef6\u5939","/personalSettings/smartFolder/setting":"\u7f16\u8f91\u667a\u80fd\u6587\u4ef6\u5939","/personalSettings/messageRemind":"\u6d88\u606f\u63d0\u9192","/personalSettings/filter":"\u7b5b\u9009\u5668\u7ba1\u7406","/personalSettings/filter/edit":"\u7f16\u8f91\u7b5b\u9009\u5668","/account/overview":"\u6743\u76ca\u6982\u89c8","/account/organization":"\u7ec4\u7ec7\u67b6\u6784","/account/businessManager":"\u7ba1\u7406\u5458","/account/businessRole":"\u89d2\u8272\u4e0e\u6743\u9650","/account/projectManager":"\u9879\u76ee\u7ba1\u7406\u5458","/account/project/preview":"\u9879\u76ee\u6982\u51b5","/account/user":"\u7528\u6237","/account/team":"\u56e2\u961f","/account/team/edit":"\u7f16\u8f91\u56e2\u961f","/account/project":"\u6240\u6709\u9879\u76ee","/account/project/usergroup":"\u7528\u6237\u7ec4\u7ba1\u7406","/account/project/member":"\u6210\u5458\u7ba1\u7406","/account/project/role":"\u89d2\u8272\u4e0e\u6743\u9650","/account/project/connection":"\u63d0\u53d6\u6570\u636e\u4efb\u52a1","/account/project/connection/edit":"\u6dfb\u52a0\u94fe\u63a5","/account/project/edit":"\u7f16\u8f91\u9879\u76ee","/account/project/topic":"\u4e3b\u9898","/account/project/topic/topicValue":"\u4e3b\u9898\u503c\u7ba1\u7406","/account/project/tag":"\u6807\u7b7e","/account/project/messageRule":"\u6d88\u606f\u8def\u7531","/account/project/uselessMsg/custom":"\u81ea\u5b9a\u4e49\u65e0\u6548\u6d88\u606f","/account/project/uselessMsg/smart":"\u667a\u80fd\u8bc6\u522b\u65e0\u6548\u6d88\u606f","/account/project/uselessMsg/detail":"\u8fd130\u5929\u65e0\u6548\u6d88\u606f\u8be6\u60c5","/account/project/aspectSystem/global":"\u5168\u5c40\u6307\u6807","/account/project/aspectSystem/tree":"\u6307\u6807\u6811","/account/project/aspectSystem/tree/edit":"\u6307\u6807\u6811\u7f16\u8f91","/account/project/alert":"\u9884\u8b66\u7ba1\u7406","/account/project/dataFeedback":"\u6570\u636e\u53cd\u9988","/account/project/alert/log":"\u63a8\u9001\u65e5\u5fd7","/account/auditLog":"\u5ba1\u8ba1\u65e5\u5fd7","/account/history":"\u64cd\u4f5c\u540d\u5355","/account/whiteList":"IP\u767d\u540d\u5355","/account/loginSetting":"\u767b\u5f55\u8bbe\u7f6e","/account/outboxSetting":"\u53d1\u4ef6\u7bb1\u914d\u7f6e","/account/customSetting":"\u81ea\u5b9a\u4e49\u8bbe\u7f6e","/account/template/email":"\u90ae\u4ef6\u6a21\u677f","/account/template/sms":"\u77ed\u4fe1\u6a21\u677f","/collection/manage":"\u5e97\u94fa\u7ba1\u7406","/collection/export":"\u6570\u636e\u5bfc\u51fa","/account/project/customerManage":"\u81ea\u5b9a\u4e49\u5b57\u6bb5\u8bbe\u7f6e","/workspace/subIntroduce":"\u5f85\u529e","/workspace/warning":"\u9884\u8b66","/workspace/warning/stat":"\u7edf\u8ba1","/workspace/ticket":"\u5de5\u5355","/workspace/ticket/stat":"\u7edf\u8ba1","/workOrderDetail":"\u5de5\u5355\u8be6\u60c5","/customerJourney/introduce":"\u5ba2\u6237\u65c5\u7a0b","/customerJourney/manage":"\u65c5\u7a0b\u7ba1\u7406","/appComment/commentOverview":"\u8bc4\u8bba\u6982\u89c8","/workOrder/dataOverview":"\u6570\u636e\u6982\u89c8","/productAnalysis/aspectAnalysis":"\u6307\u6807\u5206\u6790","/productAnalysis/compareProduct":"\u7ade\u54c1\u5206\u6790","/serviceAnalysis/aspectAnalysis":"\u6307\u6807\u5206\u6790","/serviceAnalysis/compareProduct":"\u7ade\u54c1\u5206\u6790","/marketAnalysis/aspectAnalysis":"\u6307\u6807\u5206\u6790","/marketAnalysis/compareProduct":"\u7ade\u54c1\u5206\u6790","/customerFile/customersList":"\u5ba2\u6237\u6863\u6848","/customerFile/customerDetail":"\u5ba2\u6237\u6863\u6848","/workspace/overview":"\u5f85\u529e","/workspace/warning/overview":"\u9884\u8b66","/workspace/warning/warningStatistics":"\u9884\u8b66\u7edf\u8ba1","/account/project/warning/overview":"\u9884\u8b66\u89c4\u5219","/account/project/warning/edit":"\u9884\u8b66\u7f16\u8f91","/account/project/warning/unsubscribe":"\u9000\u8ba2\u8bb0\u5f55","/account/project/webhookList":"webhook\u7ba1\u7406"}},42314:()=>{!function(e){var t,n='<svg><defs><clipPath id="clip-path"><path class="cls-1"d="M6 5h7a1 1 0 0 1 0 2H7a1 1 0 0 1-1-1z"/></clipPath><clipPath id="clip-path-2"><path fill="none"d="M.03.03h20v20h-20z"/></clipPath><clipPath id="clip-path-3"><path class="cls-1"d="M6 9h5a1 1 0 0 1 0 2H7a1 1 0 0 1-1-1z"/></clipPath><clipPath id="clip-path-5"><path class="cls-1"d="M6 13h4a1 1 0 0 1 0 2H7a1 1 0 0 1-1-1z"/></clipPath><clipPath id="clip-path-7"><path class="cls-1"d="M13 13a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/></clipPath></defs><symbol id="icon-cem-add-to"viewBox="0 0 20 20"><path d="M9 9V4h1a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 0 1-1-1V9z"fill="#bfbfbf"fill-rule="evenodd"/></symbol><symbol id="icon-cem-add-to-white"viewBox="0 0 20 20"><path d="M9 9V4h1a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 0 1-1-1V9z"fill="#fff"fill-rule="evenodd"/></symbol><symbol id="icon-cem-all-the-news"viewBox="0 0 20 20"><path class="cls-1"d="M2 2h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm2 2v3h3V4zm-1 7h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1zm1 2v3h3v-3zm8-11h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm1 2v3h3V4z"/><path d="M12 11h5a1 1 0 0 1 1 1v6h-6a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1zm1 2v3h3v-3z"fill="#979797"/></symbol><symbol id="icon-cem-archival-mailbox"viewBox="0 0 20 20"><path d="M17 2H2v15a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zM4 16v-3h2.54a4 4 0 0 0 6.92 0H16v3zm8-5a2 2 0 0 1-4 0H4V4h12v7z"fill="#bfbfbf"/><path class="cls-2"d="M6 5h8v1a1 1 0 0 1-1 1H6zm0 3h5v1a1 1 0 0 1-1 1H6z"/></symbol><symbol id="icon-cem-audit-log"viewBox="0 0 20 20"><path d="M3.5 16.46h4v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-16h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-1v-4h-13z"fill="#bfbfbf"fill-rule="evenodd"/><path d="M18.23 16.77l-3.56-3.56a5 5 0 1 0-1.41 1.41l3.56 3.56zM7.5 10.46a3 3 0 1 1 3 3 3 3 0 0 1-3-3z"fill="#979797"/></symbol><symbol id="icon-cem-close-window"viewBox="0 0 20 20"><circle cx="10"cy="10"r="10"fill="#e0e0e0"/><path d="M10 8.59l3.54-3.54.71.71a1 1 0 0 1 0 1.41L11.41 10l3.54 3.54-.71.71a1 1 0 0 1-1.41 0L10 11.41l-3.54 3.54-.71-.71a1 1 0 0 1 0-1.41L8.59 10 5.05 6.46l.71-.71a1 1 0 0 1 1.41 0z"fill="#8c8c8c"fill-rule="evenodd"/></symbol><symbol id="icon-cem-data-overview"viewBox="0 0 20 20"><path class="cls-1"d="M1.5 8.46h4a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1zm2 2v5h1v-5zm4-5h4a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1zm2 2v8h1v-8z"/><path d="M13.5 2.46h4a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1zm2 2v11h1v-11z"fill="#979797"/></symbol><symbol id="icon-cem-delete"viewBox="0 0 20 20"><path d="M10 8.79l3.54-3.54.71.71a1 1 0 0 1 0 1.41l-2.83 2.83 2.86 2.8a1 1 0 0 1-1.41 1.41L10 11.62l-2.79 2.83A1 1 0 0 1 5.8 13l2.83-2.83L5.8 7.38A1 1 0 0 1 5.8 6l.71-.71z"fill="#bfbfbf"fill-rule="evenodd"/></symbol><symbol id="icon-cem-delete-white"viewBox="0 0 20 20"><path d="M10 8.79l3.54-3.54.71.71a1 1 0 0 1 0 1.41l-2.83 2.83 2.86 2.8a1 1 0 0 1-1.41 1.41L10 11.62l-2.79 2.83A1 1 0 0 1 5.8 13l2.83-2.83L5.8 7.38A1 1 0 0 1 5.8 6l.71-.71z"fill="#fff"fill-rule="evenodd"/></symbol><symbol id="icon-cem-edit"viewBox="0 0 20 20"><path d="M16.66 2a2 2 0 0 1 0 2.83L9.59 11.9a2 2 0 0 1-2.83 0zm-1.9 14v-6h1a1 1 0 0 1 1 1v7h-13a1 1 0 0 1-1-1V3h6a1 1 0 0 1 1 1v1h-5v11z"fill="#bfbfbf"fill-rule="evenodd"/></symbol><symbol id="icon-cem-expand-more"viewBox="0 0 20 20"><path class="cls-1"d="M17 17H4a1 1 0 0 1-1-1v-1h13a1 1 0 0 1 1 1z"/><path class="cls-2"d="M11 11H4a1 1 0 0 1-1-1V9h7a1 1 0 0 1 1 1z"/><path class="cls-1"d="M17 5H4a1 1 0 0 1-1-1V3h13a1 1 0 0 1 1 1z"/><path class="cls-2"d="M16.51 10.4l-2.67 2A.5.5 0 0 1 13 12V8a.5.5 0 0 1 .8-.4l2.67 2a.5.5 0 0 1 .1.7z"/></symbol><symbol id="icon-cem-historical-records"viewBox="0 0 20 20"><path d="M10 17a7 7 0 1 0-7-7 7 7 0 0 0 7 7zm0 2a9 9 0 1 1 9-9 9 9 0 0 1-9 9z"fill="#bfbfbf"/><path d="M11 9h3v1a1 1 0 0 1-1 1H9V6a1 1 0 0 1 1-1h1z"fill="#979797"fill-rule="evenodd"/></symbol><symbol id="icon-cem-link"viewBox="0 0 20 20"><path class="cls-1"d="M7.53 16.68l3.54-3.54.71.71a1 1 0 0 1 0 1.41L7.53 19.5l-5.66-5.65a2 2 0 0 1 0-2.83L4.7 8.19a1 1 0 0 1 1.41 0l.71.71-3.54 3.53zm4.94-13.44L8.94 6.78l-.71-.71a1 1 0 0 1 0-1.41L12.47.41l5.66 5.66a2 2 0 0 1 0 2.83l-2.83 2.83a1 1 0 0 1-1.41 0l-.71-.73 3.54-3.54z"/><path d="M11.77 6.78l.71.71a1 1 0 0 1 0 1.41l-4.25 4.24-.71-.71a1 1 0 0 1 0-1.41z"fill="#979797"fill-rule="evenodd"/></symbol><symbol id="icon-cem-lock"viewBox="0 0 20 20"><path class="cls-1"d="M2 6.5h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm2 2v8h12v-8zm11-2h-2a3 3 0 0 0-6 0H5a5 5 0 0 1 10 0z"/><circle class="cls-1"cx="10"cy="12.5"r="2"/></symbol><symbol id="icon-cem-locking"viewBox="0 0 20 20"><circle cx="10.04"cy="10"r="10"fill="#ff8373"/><path class="cls-2"d="M14 7h-2a2 2 0 0 0-4 0H6a4 4 0 0 1 8 0zm-4 6.52a2 2 0 1 0-2-2 2 2 0 0 0 2 2zM5 7h9a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1z"/></symbol><symbol id="icon-cem-market"viewBox="0 0 20 20"><path d="M9 7H4v5H2V5h7V2h1a1 1 0 0 1 1 1v2h6a1 1 0 0 1 1 1v6h-2V7h-5v9h5a1 1 0 0 1 1 1v1H4a1 1 0 0 1-1-1v-1h6z"fill="#bfbfbf"fill-rule="evenodd"/><path class="cls-2"d="M15.04 10.96h4v2h-4zm-14 0h4v2h-4z"/></symbol><symbol id="icon-cem-more"viewBox="0 0 20 20"><path class="cls-1"d="M3.5 8.5h3v3h-2a1 1 0 0 1-1-1z"/><path fill="#bfbfbf"d="M8.5 8.5h3v3h-3z"/><path class="cls-1"d="M13.5 11.5v-3h3v2a1 1 0 0 1-1 1z"/></symbol><symbol id="icon-cem-open"viewBox="0 0 20 20"><circle cx="9.96"cy="10"r="10"fill="#1890ff"/><path d="M14 7H9v-.46A1.52 1.52 0 0 1 10.46 5a1.47 1.47 0 0 1 1 .4 1 1 0 0 0 1.37-1.46A3.47 3.47 0 0 0 10.46 3 3.52 3.52 0 0 0 7 6.54V7H5v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zm-4 6.06a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"fill="#fff"/></symbol><symbol id="icon-cem-private-mailbox"viewBox="0 0 20 20"><path d="M6 1.53h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm2 2v4h4v-4z"fill="#bfbfbf"/><path d="M16 13.53H4v5H2v-7h15a1 1 0 0 1 1 1v6h-2z"fill="#979797"fill-rule="evenodd"/></symbol><symbol id="icon-cem-product"viewBox="0 0 20 20"><path d="M16.29 10.35a1 1 0 0 0-.56.9v2L11 15.58V9.51H9v6.06l-4.69-2.35v-2.59L2 9.5v5.1l7.66 3.81a.8.8 0 0 0 .72 0L18 14.62V9.5z"fill="#979797"/><path d="M10.47 1.6l7 3.51a1 1 0 0 1 0 1.79l-7 3.5a1 1 0 0 1-.89 0l-7-3.51a1 1 0 0 1 0-1.79l7-3.5a1 1 0 0 1 .89 0zM5.23 6L10 8.39 14.81 6 10 3.62z"fill="#bfbfbf"/></symbol><symbol id="icon-cem-project"viewBox="0 0 20 20"><path class="cls-1"d="M17 13.36a.93.93 0 0 0-.42.42A.92.92 0 0 0 17 15l-1.63-.83zm-6.57 3.75a1 1 0 0 0-.86 0l.43-.22zm-.43-.22l5.36-2.71-1.73-.87-.7-.33.86-1.81.7.33 3.41 1.72a1.08 1.08 0 0 1 .47 1.44 1.07 1.07 0 0 1-.47.48l-7.42 3.75a1 1 0 0 1-.94 0l-7.45-3.76a1.08 1.08 0 0 1-.48-1.44 1.07 1.07 0 0 1 .48-.48l3.38-1.7 1-.5.87 1.8-1 .48-1.74.88zm-7-3.55a.92.92 0 0 1 .42 1.23A.93.93 0 0 1 3 15l1.64-.83zM3 15a.93.93 0 0 0 .42-.42.92.92 0 0 0-.42-1.24l1.64.83zm7.46 2.11a1 1 0 0 0-.86 0l.43-.22zm3.2-3.8l-.7-.33.86-1.81.7.33 3.41 1.72a1.08 1.08 0 0 1 .47 1.44 1.07 1.07 0 0 1-.47.48l-7.42 3.75a1 1 0 0 1-.94 0l-7.48-3.76a1.08 1.08 0 0 1-.48-1.44 1.07 1.07 0 0 1 .48-.48l3.38-1.7 1-.5.87 1.8-1 .48-1.74.88 5.4 2.72 5.36-2.71zM17 15a.92.92 0 0 1-.42-1.23.93.93 0 0 1 .42-.42l-1.63.82z"/><path d="M17 9.36a.93.93 0 0 0-.42.42A.92.92 0 0 0 17 11l-1.63-.83zm-6.57 3.75a1 1 0 0 0-.86 0l.43-.22zm-.43-.22l5.36-2.71-1.73-.87-.68-.31.86-1.81.7.33 3.41 1.72a1.08 1.08 0 0 1 .47 1.44 1.07 1.07 0 0 1-.47.48l-7.42 3.75a1 1 0 0 1-.94 0l-7.47-3.78a1.08 1.08 0 0 1-.48-1.44 1.07 1.07 0 0 1 .48-.48L5.47 7.5l1-.5.87 1.8-1 .48-1.74.88zM3 9.34a.92.92 0 0 1 .42 1.23A.93.93 0 0 1 3 11l1.64-.83zM3 11a.93.93 0 0 0 .42-.42A.92.92 0 0 0 3 9.34l1.64.83zm7.46 2.11a1 1 0 0 0-.86 0l.43-.22zm3.2-3.8L12.95 9l.86-1.81.7.33 3.41 1.72a1.08 1.08 0 0 1 .47 1.44 1.07 1.07 0 0 1-.47.48l-7.42 3.75a1 1 0 0 1-.94 0l-7.47-3.78a1.08 1.08 0 0 1-.48-1.44 1.07 1.07 0 0 1 .48-.48L5.47 7.5l1-.5.87 1.8-1 .48-1.74.88 5.4 2.73 5.36-2.71zM17 11a.92.92 0 0 1-.42-1.23.93.93 0 0 1 .42-.41l-1.63.82z"fill="#979797"/><path class="cls-1"d="M10.46 1.11l7.69 4a1 1 0 0 1 0 1.77l-7.67 4a1 1 0 0 1-.92 0l-7.71-4a1 1 0 0 1 0-1.77l7.69-4a1 1 0 0 1 .92 0zm-.46 2L4.48 6 10 8.88 15.53 6z"/></symbol><symbol id="icon-cem-pull-down-or-take-up"viewBox="0 0 20 20"><path d="M16 6.45l.7.71-6.78 6.69L3.3 7.31 4 6.6a1 1 0 0 1 1.41 0L9.92 11l4.66-4.6a1 1 0 0 1 1.42.05z"fill="#bfbfbf"/></symbol><symbol id="icon-cem-question"viewBox="0 0 20 20"><circle cx="10.13"cy="10"r="10"fill="#8c8c8c"/><path d="M10 13.58a1.27 1.27 0 0 1 .9.34 1.24 1.24 0 0 1 0 1.74 1.23 1.23 0 0 1-.9.34 1.25 1.25 0 0 1-.88-.35 1.24 1.24 0 0 1 0-1.73 1.23 1.23 0 0 1 .88-.34zm.29-9.23a3.64 3.64 0 0 1 2.53.85 2.9 2.9 0 0 1 1 2.3 3.2 3.2 0 0 1-.59 2c-.14.16-.61.59-1.38 1.26a2.48 2.48 0 0 0-.64.8 2.26 2.26 0 0 0-.24 1v.22H9.1v-.22A3.39 3.39 0 0 1 9.42 11a8.7 8.7 0 0 1 1.87-2l.19-.22a1.77 1.77 0 0 0 .43-1.14 1.75 1.75 0 0 0-.45-1.25 1.74 1.74 0 0 0-1.28-.45 1.67 1.67 0 0 0-1.5.66 2.61 2.61 0 0 0-.4 1.57H6.46a3.66 3.66 0 0 1 1-2.78 3.83 3.83 0 0 1 2.84-1.04z"fill="#fff"fill-rule="evenodd"/></symbol><symbol id="icon-cem-return"viewBox="0 0 20 20"><path d="M18 4.79v13a1 1 0 0 1-1 1H4a2 2 0 0 1-2-2v-1h13v-9H7v-3h10a1 1 0 0 1 1 1z"fill-rule="evenodd"fill="#bfbfbf"/><path d="M2.25 5L8.14.88a.5.5 0 0 1 .79.41v8.24a.5.5 0 0 1-.79.41L2.25 5.82a.5.5 0 0 1 0-.82z"fill="#979797"fill-rule="evenodd"/></symbol><symbol id="icon-cem-role"viewBox="0 0 20 20"><path d="M6 1.5h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm2 2v4h4v-4z"fill="#bfbfbf"/><path fill-rule="evenodd"fill="#bfbfbf"d="M10 17.13L7.53 18.5 8 15.61l-2-2.05 2.76-.43L10 10.5l1.24 2.63 2.76.43-2 2.05.47 2.89L10 17.13z"/><path d="M16 9.5H4v9H2v-11h15a1 1 0 0 1 1 1v10h-2z"fill="#979797"fill-rule="evenodd"/></symbol><symbol id="icon-cem-screen"viewBox="0 0 20 20"><path d="M17.36 4.56a.92.92 0 0 0 .18-.56 1.1 1.1 0 0 0-1.17-1H3.71a1.3 1.3 0 0 0-.63.16.94.94 0 0 0-.36 1.4l3.53 4v4.33h2V7.84L5.76 5h8.56l-2.49 2.84v8.08l2 1.08V8.59z"fill="#bfbfbf"fill-rule="evenodd"/></symbol><symbol id="icon-cem-service"viewBox="0 0 20 20"><path d="M2 2h16v15a1 1 0 0 1-1.31 1L10 15.78 3.34 18A1 1 0 0 1 2 17zm2 2v11.62l6-2 6 2V4z"fill="#bfbfbf"/><path fill="#979797"fill-rule="evenodd"d="M10.03 11.31l-2.47 1.3.47-2.75-2-1.95L8.8 7.5 10.03 5l1.24 2.5 2.76.41-2 1.95.48 2.75-2.48-1.3z"/></symbol><symbol id="icon-cem-side-setting-spot"viewBox="0 0 20 20"><path class="cls-1"d="M4.64 4.09a8 8 0 0 1 3.08-1.76l.69-.21.42.59a1.49 1.49 0 0 0 2.43 0l.42-.59.69.21a8 8 0 0 1 3.08 1.75l.53.48-.29.66a1.49 1.49 0 0 0 1.23 2.08l.71.06.17.69a8.07 8.07 0 0 1 0 3.76l-.17.72-.74.05a1.49 1.49 0 0 0-1.23 2.12l.32.66-.54.5a8 8 0 0 1-3.2 1.81l-.65.19-.42-.54a1.49 1.49 0 0 0-2.35 0l-.42.54-.65-.19a8 8 0 0 1-3.2-1.81l-.54-.5.32-.66a1.49 1.49 0 0 0-1.23-2.12l-.74-.05-.17-.72a8.07 8.07 0 0 1 0-3.76l.17-.69.71-.06A1.49 1.49 0 0 0 4.4 5.22l-.29-.66zm1.88 1.73a3.49 3.49 0 0 1-2.43 3.32 6.1 6.1 0 0 0 0 1.6 3.49 3.49 0 0 1 2.36 4.07 6 6 0 0 0 1.36.77 3.49 3.49 0 0 1 4.48 0 6 6 0 0 0 1.36-.77A3.49 3.49 0 0 1 16 10.74a6.1 6.1 0 0 0 0-1.6 3.49 3.49 0 0 1-2.37-4 6 6 0 0 0-1.25-.72 3.49 3.49 0 0 1-4.65 0 6 6 0 0 0-1.25.72 3.5 3.5 0 0 1 .04.68z"/><path class="cls-1"d="M10 11.12a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm0 2a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></symbol><symbol id="icon-cem-side-setting"viewBox="0 0 20 20"><path d="M4.64 4.09a8 8 0 0 1 3.08-1.76l.69-.21.42.59a1.49 1.49 0 0 0 2.43 0l.42-.59.69.21a8 8 0 0 1 3.08 1.75l.53.48-.29.66a1.49 1.49 0 0 0 1.23 2.08l.71.06.17.69a8.07 8.07 0 0 1 0 3.76l-.17.72-.74.05a1.49 1.49 0 0 0-1.23 2.12l.32.66-.54.5a8 8 0 0 1-3.2 1.81l-.65.19-.42-.54a1.49 1.49 0 0 0-2.35 0l-.42.54-.65-.19a8 8 0 0 1-3.2-1.81l-.54-.5.32-.66a1.49 1.49 0 0 0-1.23-2.12l-.74-.05-.17-.72a8.07 8.07 0 0 1 0-3.76l.17-.69.71-.06A1.49 1.49 0 0 0 4.4 5.22l-.29-.66zm1.88 1.73a3.49 3.49 0 0 1-2.43 3.32 6.1 6.1 0 0 0 0 1.6 3.49 3.49 0 0 1 2.36 4.07 6 6 0 0 0 1.36.77 3.49 3.49 0 0 1 4.48 0 6 6 0 0 0 1.36-.77A3.49 3.49 0 0 1 16 10.74a6.1 6.1 0 0 0 0-1.6 3.49 3.49 0 0 1-2.37-4 6 6 0 0 0-1.25-.72 3.49 3.49 0 0 1-4.65 0 6 6 0 0 0-1.25.72 3.5 3.5 0 0 1 .04.68z"fill="#bfbfbf"/><path d="M10 11.12a1 1 0 1 0-1-1 1 1 0 0 0 1 1zm0 2a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"fill="#8c8c8c"/></symbol><symbol id="icon-cem-source"viewBox="0 0 20 20"><path d="M13.7 10.77l-4.9 4.08a1 1 0 0 1-1.64-.77V5.92a1 1 0 0 1 1.64-.77l4.9 4.08a1 1 0 0 1 .13 1.41z"fill="#8c8c8c"fill-rule="evenodd"/></symbol><symbol id="icon-cem-switch"viewBox="0 0 20 20"><path class="cls-1"d="M4 6.64l2.67-2a.5.5 0 0 1 .8.4V9a.5.5 0 0 1-.8.4L4 7.44a.5.5 0 0 1-.1-.7zM8.5 6h6a1 1 0 0 1 1 1v1h-6a1 1 0 0 1-1-1zm7.5 7.44l-2.67 2a.5.5 0 0 1-.8-.4V11a.5.5 0 0 1 .8-.4l2.67 2a.5.5 0 0 1 .1.7zm-4.5.56h-6a1 1 0 0 1-1-1v-1h6a1 1 0 0 1 1 1z"/></symbol><symbol id="icon-cem-switch-white"viewBox="0 0 20 20"><path class="cls-1"d="M4 6.64l2.67-2a.5.5 0 0 1 .8.4V9a.5.5 0 0 1-.8.4L4 7.44a.5.5 0 0 1-.1-.7zM8.5 6h6a1 1 0 0 1 1 1v1h-6a1 1 0 0 1-1-1zm7.5 7.44l-2.67 2a.5.5 0 0 1-.8-.4V11a.5.5 0 0 1 .8-.4l2.67 2a.5.5 0 0 1 .1.7zm-4.5.56h-6a1 1 0 0 1-1-1v-1h6a1 1 0 0 1 1 1z"/></symbol><symbol id="icon-cem-top-setting"viewBox="0 0 20 20"><path class="cls-1"d="M4 3.38a9 9 0 0 1 3.47-2l.78-.24.47.67a1.68 1.68 0 0 0 2.74 0l.47-.67.78.24a9 9 0 0 1 3.47 2l.59.54-.32.74A1.68 1.68 0 0 0 17.83 7l.8.07.2.78a9.09 9.09 0 0 1 0 4.24l-.19.81-.83.06a1.68 1.68 0 0 0-1.39 2.39l.36.75-.61.56a9 9 0 0 1-3.6 2l-.74.21-.47-.61a1.68 1.68 0 0 0-2.65 0l-.47.61-.74-.21a9 9 0 0 1-3.6-2l-.61-.56.36-.75A1.68 1.68 0 0 0 2.3 13l-.83-.06-.19-.81a9.09 9.09 0 0 1 0-4.24l.2-.78.84-.11a1.68 1.68 0 0 0 1.4-2.34l-.32-.74zm2.1 1.95a3.93 3.93 0 0 1-2.73 3.74 6.88 6.88 0 0 0 0 1.81A3.93 3.93 0 0 1 6 15.46a6.76 6.76 0 0 0 1.54.86 3.93 3.93 0 0 1 5 0 6.76 6.76 0 0 0 1.54-.86 3.93 3.93 0 0 1 2.66-4.59 6.88 6.88 0 0 0 0-1.81 3.93 3.93 0 0 1-2.63-4.46 6.76 6.76 0 0 0-1.41-.81 3.93 3.93 0 0 1-5.24 0A6.76 6.76 0 0 0 6 4.6a4 4 0 0 1 .1.73z"/><path class="cls-1"d="M10.06 12.16a2 2 0 1 0-2-2 2 2 0 0 0 2 2zm0 2a4 4 0 1 1 4-4 4 4 0 0 1-4 4z"/></symbol><symbol id="icon-cem-user"viewBox="0 0 20 20"><path class="cls-1"d="M2 2h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm2 2v3h3V4zm10.5-2A3.5 3.5 0 1 1 11 5.5 3.5 3.5 0 0 1 14.5 2zm0 2A1.5 1.5 0 1 0 16 5.5 1.5 1.5 0 0 0 14.5 4z"/><path fill="#979797"d="M9 11h2v7H9z"/><path d="M16 13H4v5H2v-7h15a1 1 0 0 1 1 1v6h-2z"fill-rule="evenodd"fill="#979797"/></symbol><symbol id="icon-cem-white-list"viewBox="0 0 20 20"><path d="M1.5 5.5h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zm2 2v9h9v-9z"fill="#bfbfbf"/><path d="M10 9.29l.71.71a1 1 0 0 1 0 1.41l-3.48 3.47-1.73-1.73a1 1 0 0 1 0-1.41l.71-.74 1 1z"fill="#979797"/><path d="M18.5 3.5v11a1 1 0 0 1-1 1h-1v-12h-12v-1a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"fill-rule="evenodd"fill="#bfbfbf"/></symbol><symbol id="icon-cem-negative-hover"viewBox="0 0 20 20"fill="#FF8373"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M13.83 13.95a1 1 0 1 1-1.67 1.1A2.59 2.59 0 0 0 10 14a2.6 2.6 0 0 0-2.16 1 1 1 0 0 1-1.66-1.12A4.59 4.59 0 0 1 10 12a4.58 4.58 0 0 1 3.83 1.95z"/></symbol><symbol id="icon-cem-negative-no-hover"viewBox="0 0 20 20"fill="#FF8373"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M13.83 13.95a1 1 0 1 1-1.67 1.1A2.59 2.59 0 0 0 10 14a2.6 2.6 0 0 0-2.16 1 1 1 0 0 1-1.66-1.12A4.59 4.59 0 0 1 10 12a4.58 4.58 0 0 1 3.83 1.95z"/></symbol><symbol id="icon-cem-negative"viewBox="0 0 20 20"fill="#FF8373"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M13.83 13.95a1 1 0 1 1-1.67 1.1A2.59 2.59 0 0 0 10 14a2.6 2.6 0 0 0-2.16 1 1 1 0 0 1-1.66-1.12A4.59 4.59 0 0 1 10 12a4.58 4.58 0 0 1 3.83 1.95z"/></symbol><symbol id="icon-cem-neutral-hover"viewBox="0 0 20 20"fill="#1890ff"><path d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z"/></symbol><symbol id="icon-cem-neutral-no-hover"viewBox="0 0 20 20"fill="#1890FF"><path d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z"/></symbol><symbol id="icon-cem-neutral"viewBox="0 0 20 20"fill="#1890ff"><path d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6zM7 13h6a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2z"/></symbol><symbol id="icon-cem-positive-no-hover"viewBox="0 0 20 20"fill="#49CD8B"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M6.17 13.55a1 1 0 0 1 1.67-1.1A2.59 2.59 0 0 0 10 13.5a2.6 2.6 0 0 0 2.16-1 1 1 0 0 1 1.66 1.12A4.59 4.59 0 0 1 10 15.5a4.58 4.58 0 0 1-3.83-1.95z"/></symbol><symbol id="icon-cem-positive-hover"viewBox="0 0 20 20"fill="#49CD8B"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M6.17 13.55a1 1 0 0 1 1.67-1.1A2.59 2.59 0 0 0 10 13.5a2.6 2.6 0 0 0 2.16-1 1 1 0 0 1 1.66 1.12A4.59 4.59 0 0 1 10 15.5a4.58 4.58 0 0 1-3.83-1.95z"/></symbol><symbol id="icon-cem-positive"viewBox="0 0 20 20"fill="#49CD8B"><path class="cls-1"d="M10 20a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/><path class="cls-2"d="M6.75 6A1.25 1.25 0 1 1 5.5 7.25 1.25 1.25 0 0 1 6.75 6zm6.5 0A1.25 1.25 0 1 1 12 7.25 1.25 1.25 0 0 1 13.25 6z"/><path class="cls-1"d="M6.17 13.55a1 1 0 0 1 1.67-1.1A2.59 2.59 0 0 0 10 13.5a2.6 2.6 0 0 0 2.16-1 1 1 0 0 1 1.66 1.12A4.59 4.59 0 0 1 10 15.5a4.58 4.58 0 0 1-3.83-1.95z"/></symbol><symbol id="icon-cem-reply"viewBox="0 0 20 20"><path d="M5 .5h14v12.37a4 4 0 0 1-4 4H4.07L1 19.5v-15a4 4 0 0 1 4-4zM3.34 14.87H15a2 2 0 0 0 2-2V2.5H5a2 2 0 0 0-2 2v10.66z"fill="#1890ff"/><path class="cls-2"d="M6 5.5h7v1a1 1 0 0 1-1 1H5v-1a1 1 0 0 1 1-1zm0 4h4v1a1 1 0 0 1-1 1H5v-1a1 1 0 0 1 1-1z"/></symbol></svg>';if((t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss")&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()}),!1)}else document.attachEvent&&(n=t,r=e.document,a=!1,i=function(){a||(a=!0,n())},(o=function(){try{r.documentElement.doScroll("left")}catch(t){return void setTimeout(o,50)}i()})(),r.onreadystatechange=function(){"complete"==r.readyState&&(r.onreadystatechange=null,i())});var n,r,a,i,o}((function(){var e,t;(e=document.createElement("div")).innerHTML=n,n=null,(t=e.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",function(e,t){t.firstChild?function(e,t){t.parentNode.insertBefore(e,t)}(e,t.firstChild):t.appendChild(e)}(t,document.body))}))}(window)},94680:()=>{!function(e){var t,n,r,a,i,o='<svg><symbol id="icon-bumen" viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#1890FF" ></path><path d="M554.666667 213.333333a42.666667 42.666667 0 0 1 42.666666 42.666667v85.333333a42.666667 42.666667 0 0 1-42.666666 42.666667h-85.333334a42.666667 42.666667 0 0 1-42.666666-42.666667V256a42.666667 42.666667 0 0 1 42.666666-42.666667h85.333334z m0 42.666667h-85.333334v85.333333h85.333334V256zM341.333333 640a42.666667 42.666667 0 0 1 42.666667 42.666667v85.333333a42.666667 42.666667 0 0 1-42.666667 42.666667H256a42.666667 42.666667 0 0 1-42.666667-42.666667v-85.333333a42.666667 42.666667 0 0 1 42.666667-42.666667h85.333333z m0 42.666667H256v85.333333h85.333333v-85.333333zM768 640a42.666667 42.666667 0 0 1 42.666667 42.666667v85.333333a42.666667 42.666667 0 0 1-42.666667 42.666667h-85.333333a42.666667 42.666667 0 0 1-42.666667-42.666667v-85.333333a42.666667 42.666667 0 0 1 42.666667-42.666667h85.333333z m0 42.666667h-85.333333v85.333333h85.333333v-85.333333z" fill="#FFFFFF" ></path><path d="M277.333333 512h42.666667v128h-42.666667zM704 512h42.666667v128h-42.666667zM490.666667 384h42.666666v85.333333h-42.666666zM277.333333 469.333333h469.333334v42.666667h-469.333334z" fill="#FFFFFF" ></path></symbol><symbol id="icon-zuidi" viewBox="0 0 1024 1024"><path d="M495.872 819.968a18.56 18.56 0 0 0 28.672 0l235.2-268.032c7.808-8.96 4.416-16.256-7.68-16.256h-88a21.76 21.76 0 0 1-21.952-21.44V342.4a21.76 21.76 0 0 0-22.016-21.504H400.32a21.76 21.76 0 0 0-22.016 21.504v171.776a21.76 21.76 0 0 1-21.952 21.44H268.352c-12.096 0-15.488 7.36-7.68 16.256l235.2 268.032z m58.304-584.832c0-23.744 19.712-42.944 43.968-42.944 24.32 0 44.032 19.2 44.032 42.88a43.456 43.456 0 0 1-44.032 43.008 43.456 43.456 0 0 1-43.968-42.944z m-175.936 0a43.52 43.52 0 0 1 44.032-42.944c24.32 0 43.968 19.2 43.968 42.88a43.456 43.456 0 0 1-43.968 43.008 43.456 43.456 0 0 1-44.032-42.944z m219.904 42.88H422.272V192.256h175.872v85.888z" fill="#FFFFFF" ></path><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#BFBFBF" ></path><path d="M497.536 825.216a18.752 18.752 0 0 0 28.928 0l237.312-270.336c7.872-8.96 4.48-16.448-7.808-16.448h-88.704a22.016 22.016 0 0 1-22.208-21.632V343.552a21.952 21.952 0 0 0-22.144-21.632H401.088a22.016 22.016 0 0 0-22.144 21.632v173.248a21.952 21.952 0 0 1-22.208 21.632H267.968c-12.16 0-15.616 7.424-7.68 16.448l237.248 270.336z m58.88-589.888A43.84 43.84 0 0 1 600.704 192a43.84 43.84 0 0 1 44.352 43.328c0 23.872-19.84 43.264-44.352 43.264a43.84 43.84 0 0 1-44.416-43.264z m-177.536 0A43.84 43.84 0 0 1 423.232 192a43.84 43.84 0 0 1 44.416 43.328c0 23.872-19.84 43.264-44.416 43.264a43.84 43.84 0 0 1-44.352-43.264z m221.888 43.264H423.232V192h177.536v86.592z" fill="#FFFFFF" ></path></symbol><symbol id="icon-wuxiao" viewBox="0 0 1024 1024"><path d="M504.064 950.4768c227.2256 0 411.392-184.8832 411.392-412.8768 0-227.9936-184.1664-412.8768-411.392-412.8768-227.328 0-411.4432 184.8832-411.4432 412.8768 0 227.9936 184.1664 412.8768 411.4432 412.8768z m0-90.112c-177.4592 0-321.3312-144.4352-321.3312-322.7648s143.872-322.7648 321.3312-322.7648c177.408 0 321.28 144.4352 321.28 322.7648s-143.872 322.7648-321.28 322.7648z" fill="#F34747" ></path><path d="M228.0448 329.0112l67.072-60.5696 444.1088 495.4624-67.0208 60.5696z" fill="#F34747" ></path></symbol><symbol id="icon-hoverguanbi" viewBox="0 0 1024 1024"><path d="M0 0m73.142857 0l877.714286 0q73.142857 0 73.142857 73.142857l0 877.714286q0 73.142857-73.142857 73.142857l-877.714286 0q-73.142857 0-73.142857-73.142857l0-877.714286q0-73.142857 73.142857-73.142857Z" fill="#ECEDF0" ></path><path d="M691.2 292.571429L329.142857 654.628571l51.712 51.712 362.057143-362.057142z" fill="#262626" ></path><path d="M329.142857 344.283429l362.057143 362.057142 51.712-51.748571L380.854857 292.571429z" fill="#262626" ></path></symbol><symbol id="icon-hoverdian" viewBox="0 0 1024 1024"><path d="M0 0m73.142857 0l877.714286 0q73.142857 0 73.142857 73.142857l0 877.714286q0 73.142857-73.142857 73.142857l-877.714286 0q-73.142857 0-73.142857-73.142857l0-877.714286q0-73.142857 73.142857-73.142857Z" fill="#ECEDF0" ></path><path d="M292.571429 512m-54.857143 0a54.857143 54.857143 0 1 0 109.714285 0 54.857143 54.857143 0 1 0-109.714285 0Z" fill="#8C8C8C" ></path><path d="M475.428571 512m-54.857142 0a54.857143 54.857143 0 1 0 109.714285 0 54.857143 54.857143 0 1 0-109.714285 0Z" fill="#8C8C8C" ></path><path d="M658.285714 512m-54.857143 0a54.857143 54.857143 0 1 0 109.714286 0 54.857143 54.857143 0 1 0-109.714286 0Z" fill="#8C8C8C" ></path></symbol><symbol id="icon-gao" viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FF8A1A" ></path><path d="M517.824 300.288l285.888 285.888a12.8 12.8 0 0 1-9.024 21.824H222.912a12.8 12.8 0 0 1-9.088-21.824l285.888-285.888a12.8 12.8 0 0 1 18.112 0z" fill="#FFFFFF" ></path></symbol><symbol id="icon-zuigao" viewBox="0 0 1024 1024"><path d="M524.032 198.72a18.56 18.56 0 0 0-28.608 0L260.224 466.688c-7.872 8.96-4.48 16.32 7.68 16.32H355.84a21.76 21.76 0 0 1 22.016 21.44v171.776a21.76 21.76 0 0 0 21.952 21.44h219.84a21.76 21.76 0 0 0 21.952-21.44V504.448a21.76 21.76 0 0 1 22.016-21.44h87.936c12.16 0 15.552-7.36 7.68-16.32L524.032 198.72z m-58.24 584.768a43.456 43.456 0 0 1-44.032 43.008c-24.256 0-43.968-19.2-43.968-42.944a43.456 43.456 0 0 1 43.968-42.944 43.456 43.456 0 0 1 43.968 42.944z m175.872 0a43.52 43.52 0 0 1-43.968 43.008c-24.32 0-43.968-19.2-43.968-42.944a43.456 43.456 0 0 1 43.968-42.944 43.456 43.456 0 0 1 43.968 42.944z m-219.904-42.88H597.76v85.888H421.76v-85.888z" fill="#FFFFFF" ></path><path d="M512 512m512 0a512 512 0 1 0-1024 0 512 512 0 1 0 1024 0Z" fill="#F34D3D" ></path><path d="M526.464 198.784a18.752 18.752 0 0 0-28.928 0L260.224 469.12c-7.872 8.96-4.48 16.448 7.808 16.448h88.704c12.16 0 22.208 9.728 22.208 21.632v173.248c0.128 12.096 10.048 21.76 22.144 21.632h221.824c12.16 0 22.144-9.792 22.144-21.632V507.2a21.952 21.952 0 0 1 22.208-21.632h88.768c12.16 0 15.616-7.424 7.68-16.448L526.528 198.784z m-58.88 589.888a43.84 43.84 0 0 1-44.352 43.328 43.84 43.84 0 0 1-44.352-43.328c0-23.872 19.84-43.264 44.352-43.264 24.576 0 44.416 19.328 44.416 43.264z m177.536 0a43.84 43.84 0 0 1-44.352 43.328 43.84 43.84 0 0 1-44.416-43.328c0-23.872 19.84-43.264 44.416-43.264 24.448 0 44.352 19.328 44.352 43.264z m-221.888-43.264h177.536V832H423.232v-86.592z" fill="#FFFFFF" ></path></symbol><symbol id="icon-zhong" viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FFBB00" ></path><path d="M256 448h512v128H256z" fill="#FFFFFF" ></path></symbol><symbol id="icon-di" viewBox="0 0 1024 1024"><path d="M512 512m512 0a512 512 0 1 0-1024 0 512 512 0 1 0 1024 0Z" fill="#488EFF" ></path><path d="M506.176 723.712L220.288 437.824a12.8 12.8 0 0 1 9.024-21.824h571.776a12.8 12.8 0 0 1 9.088 21.824l-285.888 285.888a12.8 12.8 0 0 1-18.112 0z" fill="#FFFFFF" ></path></symbol><symbol id="icon-xiajiang" viewBox="0 0 1024 1024"><path d="M508.859733 954.9824c11.127467 12.629333 29.354667 12.629333 40.413867 0l332.253867-378.538667c11.0592-12.629333 6.212267-23.005867-10.922667-23.005866h-124.177067a30.72 30.72 0 0 1-31.061333-30.3104V280.507733a30.72 30.72 0 0 0-31.061333-30.3104H373.828267a30.72 30.72 0 0 0-31.061334 30.3104v242.619734a30.72 30.72 0 0 1-31.061333 30.3104h-124.245333c-17.066667 0-21.9136 10.376533-10.8544 23.005866l332.253866 378.538667z m82.3296-826.026667c0-33.5872 27.784533-60.689067 62.122667-60.689066 34.269867 0 62.122667 27.101867 62.122667 60.6208a61.371733 61.371733 0 0 1-62.122667 60.689066 61.371733 61.371733 0 0 1-62.122667-60.689066z m-248.490666 0c0-33.5872 27.8528-60.689067 62.122666-60.689066 34.338133 0 62.122667 27.101867 62.122667 60.6208a61.371733 61.371733 0 0 1-62.122667 60.689066 61.371733 61.371733 0 0 1-62.122666-60.689066z m310.613333 60.6208H404.821333V68.266667h248.490667v121.309866z" fill="#49CD8B" ></path></symbol><symbol id="icon-shangsheng" viewBox="0 0 1024 1024"><path d="M549.2736 77.755733a26.282667 26.282667 0 0 0-40.413867 0L176.605867 456.2944c-11.0592 12.629333-6.212267 23.005867 10.922666 23.005867h124.177067c17.066667 0 31.061333 13.653333 31.061333 30.3104v242.551466a30.72 30.72 0 0 0 31.061334 30.3104h310.4768c17.066667 0 31.061333-13.653333 31.061333-30.3104V509.610667a30.72 30.72 0 0 1 31.061333-30.3104h124.245334c17.066667 0 21.9136-10.376533 10.8544-23.005867L549.2736 77.755733z m-82.3296 826.026667a61.371733 61.371733 0 0 1-62.122667 60.6208 61.371733 61.371733 0 0 1-62.122666-60.6208c0-33.450667 27.8528-60.6208 62.122666-60.6208 34.338133 0 62.122667 27.101867 62.122667 60.6208z m248.490667 0a61.371733 61.371733 0 0 1-62.122667 60.6208 61.371733 61.371733 0 0 1-62.122667-60.6208c0-33.450667 27.784533-60.6208 62.122667-60.6208 34.269867 0 62.122667 27.101867 62.122667 60.6208z m-310.613334-60.6208h248.490667v121.2416H404.821333v-121.2416z" fill="#F08A8A" ></path></symbol><symbol id="icon-shezhi" viewBox="0 0 1024 1024"><path d="M960.585143 399.36l-10.24-40.96h-40.96a86.016 86.016 0 0 1-71.68-119.808l16.310857-37.888-30.208-27.648a460.8 460.8 0 0 0-177.664-102.4L606.208 58.368l-24.064 34.304a86.016 86.016 0 0 1-140.288 0L417.865143 58.368l-39.936 12.288a460.8 460.8 0 0 0-177.664 102.4l-30.208 27.648 16.384 37.888a86.016 86.016 0 0 1-71.68 119.808h-40.96l-10.24 39.936a465.408 465.408 0 0 0 0 217.088l9.728 41.472 42.496 3.072a86.016 86.016 0 0 1 69.632 123.392l-18.432 38.4 31.232 28.672a460.8 460.8 0 0 0 184.32 102.4l37.888 10.752 24.137143-31.232a86.016 86.016 0 0 1 135.606857 0l24.137143 31.232 37.814857-10.752a460.8 460.8 0 0 0 184.32-102.4l31.232-28.672-18.432-38.4a86.016 86.016 0 0 1 71.168-122.368l42.496-3.072 9.728-41.472a465.408 465.408 0 0 0 0-217.088h-2.048z m-48.201143 204.8v4.608h-6.144a137.216 137.216 0 0 0-113.664 195.584v4.096l-3.584 3.072a409.6 409.6 0 0 1-163.84 93.184h-4.096l-2.56-3.584a137.216 137.216 0 0 0-216.502857 0l-2.633143 3.584h-4.096a409.6 409.6 0 0 1-163.84-93.184l-3.584-3.072v-4.096a137.216 137.216 0 0 0-110.08-194.56h-5.12v-4.608a414.208 414.208 0 0 1 0.512-195.584v-4.608h4.608A137.216 137.216 0 0 0 233.545143 216.064V211.968l3.657143-3.072A409.6 409.6 0 0 1 392.630857 118.784h4.608l2.56 3.584a137.216 137.216 0 0 0 224.256 0l2.56-3.584h4.608a409.6 409.6 0 0 1 157.696 90.112l3.657143 3.072v4.096a137.216 137.216 0 0 0 112.054857 193.536h4.608v4.608a414.208 414.208 0 0 1 0 193.024l3.072-3.072z" fill="#8C8C8C" ></path><path d="M512 338.944a179.2 179.2 0 1 0 0 358.4 179.2 179.2 0 0 0 0-358.4z m0 307.2a128 128 0 1 1 0-256 128 128 0 0 1 0 256z" fill="#8C8C8C" ></path><path d="M731.428571 731.428571m-219.428571 0a219.428571 219.428571 0 1 0 438.857143 0 219.428571 219.428571 0 1 0-438.857143 0Z" fill="#5FDCAA" ></path><path d="M860.233143 656.310857a18.285714 18.285714 0 0 1 0 25.892572L730.916571 811.446857a18.212571 18.212571 0 0 1-8.265142 4.827429l-4.681143 0.585143a18.285714 18.285714 0 0 1-12.946286-5.412572l-77.531429-77.531428a18.285714 18.285714 0 0 1 25.819429-25.892572l64.658286 64.585143 116.370285-116.297143a18.285714 18.285714 0 0 1 25.892572 0z" fill="#FFFFFF" ></path></symbol><symbol id="icon-bianzu3" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m0 204.8a307.2 307.2 0 1 0 0 614.4 307.2 307.2 0 0 0 0-614.4z" fill="#FFFFFF" ></path><path d="M512 512m-307.2 0a307.2 307.2 0 1 0 614.4 0 307.2 307.2 0 1 0-614.4 0Z" fill="#5A8EF8" ></path></symbol><symbol id="icon-qushixian" viewBox="0 0 2582 1024"><path d="M44.521739 934.956522h2493.217391v44.521739H44.521739z" fill="#CEDDFD" ></path><path d="M30.141217 316.950261c422.288696-358.310957 828.104348-362.362435 1208.987826-11.486609l13.133914 12.243478c260.630261 246.071652 490.095304 340.769391 709.231304 312.453566 173.857391-22.483478 334.046609-115.578435 542.452869-296.292174l19.099827-16.651131 29.384347 33.391305c-223.899826 197.097739-395.085913 299.141565-585.193739 323.673043-229.10887 29.606957-466.053565-65.625043-729.088-308.802782l-16.473043-15.36C858.112 6.856348 478.074435 2.893913 73.238261 338.899478l-14.336 12.02087-28.761044-33.970087z" fill="#5B8FF9" ></path></symbol><symbol id="icon-yuanjiaojuxing" viewBox="0 0 1024 1024"><path d="M249.376256 0m102.4 0l0 0q102.4 0 102.4 102.4l0 819.2q0 102.4-102.4 102.4l0 0q-102.4 0-102.4-102.4l0-819.2q0-102.4 102.4-102.4Z" fill="#7262FD" ></path></symbol><symbol id="icon-datazoom" viewBox="0 0 2662 1024"><path d="M30.703064 0m61.406129 0l1443.044016 0q61.406128 0 61.406129 61.406128l0 491.249027q0 61.406128-61.406129 61.406129l-1443.044016 0q-61.406128 0-61.406129-61.406129l0-491.249027q0-61.406128 61.406129-61.406128Z" fill="#7262FD" opacity=".3" ></path><path d="M0 0m61.406128 0l0 0q61.406128 0 61.406129 61.406128l0 491.249027q0 61.406128-61.406129 61.406129l0 0q-61.406128 0-61.406128-61.406129l0-491.249027q0-61.406128 61.406128-61.406128Z" fill="#7262FD" ></path><path d="M1473.747081 0m61.406128 0l0 0q61.406128 0 61.406129 61.406128l0 491.249027q0 61.406128-61.406129 61.406129l0 0q-61.406128 0-61.406128-61.406129l0-491.249027q0-61.406128 61.406128-61.406128Z" fill="#7262FD" ></path></symbol><symbol id="icon-cem_enlarge-the-picture" viewBox="0 0 1024 1024"><path d="M158.72 158.72a487.04 487.04 0 0 1 741.28 626.56l119.52 119.52-114.72 114.72-119.52-119.52A487.04 487.04 0 0 1 158.72 158.72z" fill="#FFFFFF" ></path><path d="M544 341.28v121.44h121.44V544H544v121.44h-81.76V544H340.8v-81.28h121.44v-121.44z m-298.72-96a365.28 365.28 0 1 0 516.64 0 365.28 365.28 0 0 0-517.12-0.48z m573.92-57.44a446.56 446.56 0 0 1 27.04 600.96l116 116.16-57.44 57.44-116-116.16a446.4 446.4 0 1 1 30.08-658.88z" fill="#262626" ></path></symbol><symbol id="icon-cem_delete-indicator-tree-fiben" viewBox="0 0 1024 1024"><path d="M441.92 86.08a35.04 35.04 0 0 0-35.04 35.04v34.88h210.24V121.12a35.04 35.04 0 0 0-28.8-34.4h-6.24z m280.16 350.08v210.08h-70.08V436.16z m-350.24 0v210.08h-69.92V436.16z m175.04-70.08v350.24h-69.92V366.24z m280.32-140H196.8v595.36a105.12 105.12 0 0 0 94.88 104.64h430.4a105.12 105.12 0 0 0 105.12-105.12zM582.08 16a105.12 105.12 0 0 1 105.12 105.12v34.88h315.2v70.08h-105.28v595.36a175.04 175.04 0 0 1-163.52 174.72H301.92A175.04 175.04 0 0 1 126.88 821.44V226.08H21.76V156h315.2V121.12A105.12 105.12 0 0 1 432 16h10.08z" fill="#E5E5E5" ></path></symbol><symbol id="icon-cem_create-subordinates-fiben" viewBox="0 0 1024 1024"><path d="M737.92 419.52h-48v72.64h-73.12v48h72.8v72.8h48v-72.32h72.64v-48h-72.32z m242.24-96.96v387.68H448V322.72z" fill="#BFBFBF" ></path><path d="M302.08 904a96.96 96.96 0 0 1-96.96 96.96H59.84V32h145.28a96.96 96.96 0 0 1 96.96 96.96v363.36H448v48h-145.92z" fill="#E5E5E5" ></path></symbol><symbol id="icon-cem_create-siblings-fiben" viewBox="0 0 1024 1024"><path d="M722.08 710.24h-48v72.64h-73.12v48h72.64v73.12h48V832h72.64v-48h-72.16z m242.24-96.96v387.68H432V613.44z" fill="#BFBFBF" ></path><path d="M964.32 32v387.52H431.36V250.08H213.28v532.8h218.08v48.48H164.8V540.64H43.68v-48.32h121.12V201.6h266.56V32h532.96z" fill="#E5E5E5" ></path></symbol><symbol id="icon-cem_narrow-new-color" viewBox="0 0 1024 1024"><path d="M495.04 533.44H96v-49.92h848v49.92H495.04z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_delete-indicator-tree-color" viewBox="0 0 1024 1024"><path d="M441.92 86.08a35.04 35.04 0 0 0-35.04 35.04v34.88h210.24V121.12a35.04 35.04 0 0 0-28.8-34.4h-6.24z m280.16 350.08v210.08h-70.08V436.16z m-350.24 0v210.08h-69.92V436.16z m175.04-70.08v350.24h-69.92V366.24z m280.32-140H196.8v595.36a105.12 105.12 0 0 0 94.88 104.64h430.4a105.12 105.12 0 0 0 105.12-105.12zM582.08 16a105.12 105.12 0 0 1 105.12 105.12v34.88h315.2v70.08h-105.28v595.36a175.04 175.04 0 0 1-163.52 174.72H301.92A175.04 175.04 0 0 1 126.88 821.44V226.08H21.76V156h315.2V121.12A105.12 105.12 0 0 1 432 16h10.08z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_narrow-new" viewBox="0 0 1024 1024"><path d="M495.04 533.44H96v-49.92h848v49.92H495.04z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_create-subordinates-color" viewBox="0 0 1024 1024"><path d="M737.92 419.52h-48v72.64h-73.12v48h72.8v72.8h48v-72.32h72.64v-48h-72.32z m242.24-96.96v387.68H448V322.72z" fill="#0847A6" ></path><path d="M302.08 904a96.96 96.96 0 0 1-96.96 96.96H59.84V32h145.28a96.96 96.96 0 0 1 96.96 96.96v363.36H448v48h-145.92z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_create-subordinates" viewBox="0 0 1024 1024"><path d="M737.92 419.52h-48v72.64h-73.12v48h72.8v72.8h48v-72.32h72.64v-48h-72.32z m242.24-96.96v387.68H448V322.72z" fill="#262626" ></path><path d="M302.08 904a96.96 96.96 0 0 1-96.96 96.96H59.84V32h145.28a96.96 96.96 0 0 1 96.96 96.96v363.36H448v48h-145.92z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_delete-indicator-tree" viewBox="0 0 1024 1024"><path d="M441.92 86.08a35.04 35.04 0 0 0-35.04 35.04v34.88h210.24V121.12a35.04 35.04 0 0 0-28.8-34.4h-6.24z m280.16 350.08v210.08h-70.08V436.16z m-350.24 0v210.08h-69.92V436.16z m175.04-70.08v350.24h-69.92V366.24z m280.32-140H196.8v595.36a105.12 105.12 0 0 0 94.88 104.64h430.4a105.12 105.12 0 0 0 105.12-105.12zM582.08 16a105.12 105.12 0 0 1 105.12 105.12v34.88h315.2v70.08h-105.28v595.36a175.04 175.04 0 0 1-163.52 174.72H301.92A175.04 175.04 0 0 1 126.88 821.44V226.08H21.76V156h315.2V121.12A105.12 105.12 0 0 1 432 16h10.08z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_create-siblings" viewBox="0 0 1024 1024"><path d="M722.08 710.24h-48v72.64h-73.12v48h72.64v73.12h48V832h72.64v-48h-72.16z m242.24-96.96v387.68H432V613.44z" fill="#262626" ></path><path d="M964.32 32v387.52H431.36V250.08H213.28v532.8h218.08v48.48H164.8V540.64H43.68v-48.32h121.12V201.6h266.56V32h532.96z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_enlarge-new-color" viewBox="0 0 1024 1024"><path d="M544.96 84.48v399.04H944v49.92H544.96v399.04h-49.92V533.44H96v-49.92h399.04V84.48h49.92z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_enlarge-new" viewBox="0 0 1024 1024"><path d="M544.96 84.48v399.04H944v49.92H544.96v399.04h-49.92V533.44H96v-49.92h399.04V84.48h49.92z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_create-siblings-color" viewBox="0 0 1024 1024"><path d="M722.08 710.24h-48v72.64h-73.12v48h72.64v73.12h48V832h72.64v-48h-72.16z m242.24-96.96v387.68H432V613.44z" fill="#0847A6" ></path><path d="M964.32 32v387.52H431.36V250.08H213.28v532.8h218.08v48.48H164.8V540.64H43.68v-48.32h121.12V201.6h266.56V32h532.96z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_word-list-color" viewBox="0 0 1024 1024"><path d="M752 272v96H560v-96z m-288 0v96H272v-96z m0 192v96H272v-96z m288 0v96H560v-96z m0 192v96H560v-96z m-288 0v96H272v-96z m384-480H176v672h672z m96-96v864H80V80z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_terms-color" viewBox="0 0 1024 1024"><path d="M993.76 625.12v93.28H760.48v-93.28z m0 186.56v93.28H620.64v-93.28zM584.64 112C806.08 112 987.04 282.72 993.6 496v12h-93.12c0-167.04-141.12-303.2-315.84-303.2a313.92 313.92 0 0 0-306.72 230.4l-2.56 10.88-6.24 28.8-29.12 7.36a168.96 168.96 0 0 0-132.8 162.24 170.72 170.72 0 0 0 165.92 166.88h266.72v93.28H282.4A264.32 264.32 0 0 1 14.24 644.48a260.96 260.96 0 0 1 173.12-243.52l3.68-1.28 2.24-7.68A407.68 407.68 0 0 1 572 112z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_terms" viewBox="0 0 1024 1024"><path d="M993.76 625.12v93.28H760.48v-93.28z m0 186.56v93.28H620.64v-93.28zM584.64 112C806.08 112 987.04 282.72 993.6 496v12h-93.12c0-167.04-141.12-303.2-315.84-303.2a313.92 313.92 0 0 0-306.72 230.4l-2.56 10.88-6.24 28.8-29.12 7.36a168.96 168.96 0 0 0-132.8 162.24 170.72 170.72 0 0 0 165.92 166.88h266.72v93.28H282.4A264.32 264.32 0 0 1 14.24 644.48a260.96 260.96 0 0 1 173.12-243.52l3.68-1.28 2.24-7.68A407.68 407.68 0 0 1 572 112z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_word-list" viewBox="0 0 1024 1024"><path d="M752 272v96H560v-96z m-288 0v96H272v-96z m0 192v96H272v-96z m288 0v96H560v-96z m0 192v96H560v-96z m-288 0v96H272v-96z m384-480H176v672h672z m96-96v864H80V80z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_sort-within-group-color" viewBox="0 0 1024 1024"><path d="M80 80h123.36v864H80z" fill="#0847A6" ></path><path d="M820.64 688H944v256h-123.36z" fill="#6B91CA" ></path><path d="M573.76 288h123.36v656h-123.36z" fill="#0847A6" ></path><path d="M326.88 480h123.36v464h-123.36z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_sort-within-group" viewBox="0 0 1024 1024"><path d="M80 80h123.36v864H80z" fill="#8C8C8C" ></path><path d="M820.64 688H944v256h-123.36z" fill="#BFBFBF" ></path><path d="M573.76 288h123.36v656h-123.36z" fill="#8C8C8C" ></path><path d="M326.88 480h123.36v464h-123.36z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_non-sort-within-group-color" viewBox="0 0 1024 1024"><path d="M80 80v864h123.36V80z m740.64 678.88V944H944V758.88z m-246.88-123.52V944h123.36V635.36zM326.88 388.64V944h123.36V388.64z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_non-sort-within-group" viewBox="0 0 1024 1024"><path d="M80 80v864h123.36V80z m740.64 678.88V944H944V758.88z m-246.88-123.52V944h123.36V635.36zM326.88 388.64V944h123.36V388.64z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_harmony-map" viewBox="0 0 1024 1024"><path d="M560.104186 414.124651a341.015814 341.015814 0 0 1-71.44186 16.669768 304.580465 304.580465 0 0 1-38.102326 102.4 432.461395 432.461395 0 0 1 104.781395 79.062325 323.393488 323.393488 0 0 1 61.916279-117.402791 232.900465 232.900465 0 0 1-57.153488-80.729302z m22.146977-307.438139l40.007442 15.24093-5.715349 15.47907c-30.95814 86.444651-41.19814 158.83907-29.767442 218.135814a404.837209 404.837209 0 0 0 148.122791-148.360931l3.333953-7.144186 36.673489 22.146977a446.987907 446.987907 0 0 1-176.699535 175.032558 193.369302 193.369302 0 0 0 46.199069 66.44093 526.764651 526.764651 0 0 1 217.421396-115.497674l8.573023-2.381395 11.668837 41.198139a498.664186 498.664186 0 0 0-203.371163 103.114419 466.03907 466.03907 0 0 0 191.940466 61.20186h8.096744L874.924651 595.348837a506.99907 506.99907 0 0 1-224.803721-73.585116 285.767442 285.767442 0 0 0-60.963721 130.024186 635.594419 635.594419 0 0 1 97.875349 186.463256l3.095814 9.049302-40.72186 13.573954a645.834419 645.834419 0 0 0-66.91721-144.312559 572.725581 572.725581 0 0 0 21.194419 155.266977l2.381395 8.334884-41.436279 11.430698a565.819535 565.819535 0 0 1-20.956279-227.661396 394.835349 394.835349 0 0 0-119.069767-95.255814 545.101395 545.101395 0 0 1-198.132093 149.075349l-8.096745 3.810233-18.098604-38.816744 15.717209-7.620466a505.808372 505.808372 0 0 0 168.602791-124.785116 540.576744 540.576744 0 0 0-236.234419-30.005581h-9.287442l-2.619535-41.674419a582.251163 582.251163 0 0 1 274.574884 36.197209 265.287442 265.287442 0 0 0 32.863256-80.967441 565.343256 565.343256 0 0 1-232.900465-56.200931l-8.573023-3.810232 18.098604-38.816744a523.906977 523.906977 0 0 0 229.328372 55.96279A442.225116 442.225116 0 0 0 392.930233 166.697674l-3.810233-7.382325 38.102326-19.765582a498.664186 498.664186 0 0 1 65.488372 247.188838 296.72186 296.72186 0 0 0 55.010232-13.573954c-15.955349-71.44186-5.477209-156.695814 31.910698-258.143256z" fill="#9CB0CD" ></path><path d="M523.906977 71.44186a427.222326 427.222326 0 0 1 174.08 36.911628l10.24 4.762791L671.315349 190.511628a343.15907 343.15907 0 0 0-421.745116 104.066977l-4.524652 6.429767-69.774883-50.009302A428.651163 428.651163 0 0 1 523.906977 71.44186z m225.994418 64.297675a428.651163 428.651163 0 0 1 156.933954 557.246512l-4.762791 9.287441-75.490232-40.483721a343.15907 343.15907 0 0 0-115.497675-449.131162l-6.429767-4.048372z m-602.493023 159.315349l75.252093 40.96a343.15907 343.15907 0 0 0 120.260465 455.56093l6.667907 4.048372-43.579535 73.823256a428.651163 428.651163 0 0 1-158.60093-574.392558z m655.36 404.837209l69.536744 50.009302a428.651163 428.651163 0 0 1-512.238139 146.455814l-10.24-4.286511 34.768372-78.347907a343.397209 343.397209 0 0 0 417.934884-113.830698z" fill="#61799B" ></path></symbol><symbol id="icon-cem_harmony-map-gray" viewBox="0 0 1024 1024"><path d="M560.104186 414.124651a341.015814 341.015814 0 0 1-71.44186 16.669768 304.580465 304.580465 0 0 1-38.102326 102.4 432.461395 432.461395 0 0 1 104.781395 79.062325 323.393488 323.393488 0 0 1 61.916279-117.402791 232.900465 232.900465 0 0 1-57.153488-80.729302z m22.146977-307.438139l40.007442 15.24093-5.715349 15.47907c-30.95814 86.444651-41.19814 158.83907-29.767442 218.135814a404.837209 404.837209 0 0 0 148.122791-148.360931l3.333953-7.144186 36.673489 22.146977a446.987907 446.987907 0 0 1-176.699535 175.032558 193.369302 193.369302 0 0 0 46.199069 66.44093 526.764651 526.764651 0 0 1 217.421396-115.497674l8.573023-2.381395 11.668837 41.198139a498.664186 498.664186 0 0 0-203.371163 103.114419 466.03907 466.03907 0 0 0 191.940466 61.20186h8.096744L874.924651 595.348837a506.99907 506.99907 0 0 1-224.803721-73.585116 285.767442 285.767442 0 0 0-60.963721 130.024186 635.594419 635.594419 0 0 1 97.875349 186.463256l3.095814 9.049302-40.72186 13.573954a645.834419 645.834419 0 0 0-66.91721-144.312559 572.725581 572.725581 0 0 0 21.194419 155.266977l2.381395 8.334884-41.436279 11.430698a565.819535 565.819535 0 0 1-20.956279-227.661396 394.835349 394.835349 0 0 0-119.069767-95.255814 545.101395 545.101395 0 0 1-198.132093 149.075349l-8.096745 3.810233-18.098604-38.816744 15.717209-7.620466a505.808372 505.808372 0 0 0 168.602791-124.785116 540.576744 540.576744 0 0 0-236.234419-30.005581h-9.287442l-2.619535-41.674419a582.251163 582.251163 0 0 1 274.574884 36.197209 265.287442 265.287442 0 0 0 32.863256-80.967441 565.343256 565.343256 0 0 1-232.900465-56.200931l-8.573023-3.810232 18.098604-38.816744a523.906977 523.906977 0 0 0 229.328372 55.96279A442.225116 442.225116 0 0 0 392.930233 166.697674l-3.810233-7.382325 38.102326-19.765582a498.664186 498.664186 0 0 1 65.488372 247.188838 296.72186 296.72186 0 0 0 55.010232-13.573954c-15.955349-71.44186-5.477209-156.695814 31.910698-258.143256z" fill="#BFBFBF" ></path><path d="M523.906977 71.44186a427.222326 427.222326 0 0 1 174.08 36.911628l10.24 4.762791L671.315349 190.511628a343.15907 343.15907 0 0 0-421.745116 104.066977l-4.524652 6.429767-69.774883-50.009302A428.651163 428.651163 0 0 1 523.906977 71.44186z m225.994418 64.297675a428.651163 428.651163 0 0 1 156.933954 557.246512l-4.762791 9.287441-75.490232-40.483721a343.15907 343.15907 0 0 0-115.497675-449.131162l-6.429767-4.048372z m-602.493023 159.315349l75.252093 40.96a343.15907 343.15907 0 0 0 120.260465 455.56093l6.667907 4.048372-43.579535 73.823256a428.651163 428.651163 0 0 1-158.60093-574.392558z m655.36 404.837209l69.536744 50.009302a428.651163 428.651163 0 0 1-512.238139 146.455814l-10.24-4.286511 34.768372-78.347907a343.397209 343.397209 0 0 0 417.934884-113.830698z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_asahi-chart--gray" viewBox="0 0 1024 1024"><path d="M404.837209 512a119.069767 119.069767 0 0 1 106.924651-116.212093v-95.255814A214.325581 214.325581 0 0 0 309.581395 512z" fill="#BFBFBF" ></path><path d="M535.813953 300.055814v95.255814a119.069767 119.069767 0 1 1-128.833488 140.026046H309.581395a214.325581 214.325581 0 1 0 225.041861-235.758139z" fill="#8C8C8C" ></path><path d="M512 228.613953v-142.88372A428.651163 428.651163 0 0 0 95.255814 512h142.883721A285.767442 285.767442 0 0 1 512 228.613953z" fill="#BFBFBF" ></path><path d="M952.55814 513.666977a428.651163 428.651163 0 0 0-416.744187-428.651163v142.883721a285.767442 285.767442 0 0 1 193.369303 483.661395l100.971163 100.971163A426.984186 426.984186 0 0 0 952.55814 513.666977z" fill="#8C8C8C" ></path><path d="M523.906977 799.434419A285.767442 285.767442 0 0 1 238.139535 535.813953H95.255814a428.651163 428.651163 0 0 0 717.514419 293.864187l-100.971163-100.971163A284.338605 284.338605 0 0 1 523.906977 799.434419z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_relation-diagram-gray" viewBox="0 0 1024 1024"><path d="M327.989581 217.20707l190.416372-95.208186 10.668652 21.289674-190.416372 95.232z" fill="#E5E5E5" ></path><path d="M344.349767 223.374884l117.402791 281.957209 252.189768 137.406512 184.558139-115.259535 12.859535 20.003721-196.465116 122.88-271.71721-148.122791-120.736744-289.815814 21.908837-9.049302z" fill="#E5E5E5" ></path><path d="M703.226047 660.551442l22.599441-7.525209 71.441861 214.397023-22.575628 7.525209zM443.653953 505.808372l17.622326 15.717209-181.224186 204.085582 131.453023 87.635349-13.335814 20.003721-154.314418-102.87628 199.799069-224.565581z" fill="#E5E5E5" ></path><path d="M90.493023 667.505116l9.525582-21.908837 180.271628 77.395349-127.642791 178.604651-19.527442-13.812093 110.496744-154.552558-153.123721-65.726512z" fill="#E5E5E5" ></path><path d="M452.465116 513.666977m-142.883721 0a142.883721 142.883721 0 1 0 285.767442 0 142.883721 142.883721 0 1 0-285.767442 0Z" fill="#8C8C8C" ></path><path d="M714.418605 656.550698m-95.255814 0a95.255814 95.255814 0 1 0 190.511628 0 95.255814 95.255814 0 1 0-190.511628 0Z" fill="#BFBFBF" ></path><path d="M333.395349 227.899535m-95.255814 0a95.255814 95.255814 0 1 0 190.511628 0 95.255814 95.255814 0 1 0-190.511628 0Z" fill="#BFBFBF" ></path><path d="M261.953488 727.992558m-71.44186 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#BFBFBF" ></path><path d="M785.860465 870.876279m-71.44186 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#8C8C8C" ></path><path d="M904.930233 537.48093m-71.441861 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#8C8C8C" ></path><path d="M95.255814 656.550698m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#8C8C8C" ></path><path d="M142.883721 894.690233m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#8C8C8C" ></path><path d="M404.837209 823.248372m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#8C8C8C" ></path><path d="M523.906977 132.643721m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_double-column-chart" viewBox="0 0 1024 1024"><path d="M285.767442 642.976744h95.255814v214.325582h-95.255814zM95.255814 595.348837h95.255814v261.953489H95.255814zM476.27907 714.418605h95.255814v142.883721h-95.255814zM666.790698 762.046512h95.255814v95.255814h-95.255814zM857.302326 809.674419h95.255814v47.627907h-95.255814z" fill="#61799B" ></path><path d="M285.767442 238.139535h95.255814v214.325581h-95.255814zM95.255814 190.511628h95.255814v261.953488H95.255814zM476.27907 309.581395h95.255814v142.883721h-95.255814zM666.790698 357.209302h95.255814v95.255814h-95.255814zM857.302326 404.837209h95.255814v47.627907h-95.255814z" fill="#9CB0CD" ></path><path d="M95.255814 500.093023h857.302326v47.627907H95.255814z" fill="#DDE4EF" ></path></symbol><symbol id="icon-cem_scatter-diagram" viewBox="0 0 1024 1024"><path d="M556.8 649.6a201.6 201.6 0 1 0 403.2 0 201.6 201.6 0 1 0-403.2 0zM624 280a100.8 100.8 0 1 0 201.6 0 100.8 100.8 0 1 0-201.6 0zM64 672a112 112 0 1 0 224 0 112 112 0 1 0-224 0zM870.4 179.2a44.8 44.8 0 1 0 89.6 0 44.8 44.8 0 1 0-89.6 0zM332.8 795.2a78.4 78.4 0 1 0 156.8 0 78.4 78.4 0 1 0-156.8 0z"  ></path></symbol><symbol id="icon-cem_line-chart1" viewBox="0 0 1024 1024"><path d="M47.627907 727.27814l130.738605-206.943256 103.114418 136.215814 154.314419-275.289303 105.257674 54.772093 106.448372-172.413023 119.784186 231.709768 110.973024-146.693954L1000.186047 538.909767v379.594419H47.627907v-191.226046z" fill="#9CB0CD" ></path><path d="M47.627907 918.504186h952.55814V645.596279l-120.022326-141.931163-128.357209 120.736744-81.205582-120.736744-100.733023 141.931163-132.88186-68.107907-154.314419 224.803721-101.209302-122.403721L47.627907 824.677209v93.826977z" fill="#61799B" ></path><path d="M514.619535 309.105116l134.548837-224.565581 127.404651 235.996279 111.449303-141.216744 132.88186 230.04279-41.436279 23.813954-97.637209-169.07907-112.64 142.883721-122.165582-226.232558-113.830697 190.511628-104.781396-51.2-152.409302 271.717209-97.16093-147.884651-110.973024 181.462326-40.48372-25.004652 150.027906-245.28372L272.907907 500.093023l135.977674-242.426046 105.733954 51.438139z" fill="#DDE4EF" ></path></symbol><symbol id="icon-cem_index-card" viewBox="0 0 1024 1024"><path d="M989.707907 360.305116h-52.152558v-15.479069h52.152558z m-65.726512 54.533954a83.348837 83.348837 0 0 0 13.335814-44.532093H1000.186047v-35.482791h-30.95814c-1.666977-4.286512-3.095814-8.334884-4.524651-11.906977l-10.954419 1.666977a88.111628 88.111628 0 0 1 5.00093 10.001861h-31.196279v32.386976a71.44186 71.44186 0 0 1-10.954418 40.721861z m-30.243721-40.96h-23.813953v-14.050233h23.813953z m-33.577674 0h-21.432558v-14.050233h21.432558z m0-23.813954h-21.432558v-13.812093h21.432558z m33.577674 0h-23.813953v-13.812093h23.813953z m-66.44093 63.106977a60.487442 60.487442 0 0 0 10.954419-30.243721h21.908837v27.624186h10.47814V383.404651h23.813953v13.573954c0 3.810233-1.666977 5.715349-4.524651 5.715348h-10.716279l2.857674 10.001861h11.192558a10.24 10.24 0 0 0 11.668838-11.430698v-73.823256h-76.680931v47.627907a55.010233 55.010233 0 0 1-8.811162 31.434419z m-51.438139-30.72h-17.860465v-20.24186h17.860465z m10.24 10.00186v-39.293023h-38.578605v39.769303z m-49.771163 21.670698v-74.061395h-10.47814v74.537674z m58.820465 0c8.811163 0 13.335814-3.810233 13.335814-11.668837v-74.061395H762.046512v10.00186h35.72093v60.963721c0 3.333953-1.666977 5.23907-5.00093 5.23907h-10.47814l2.857675 9.525581z m-47.627907-68.822325l9.287442-4.762791a108.591628 108.591628 0 0 0-11.668837-17.384186l-9.287442 4.286511a104.543256 104.543256 0 0 1 10.24 17.622326z m-108.115349 66.679069a159.315349 159.315349 0 0 0 19.765582-15.955348l-2.857675-10.71628-8.334884 7.858605v-40.245581H623.925581v9.763721h12.621396v34.053953a7.620465 7.620465 0 0 1-2.619535 5.715349z m7.858605-65.488372l7.144186-7.144186a123.594419 123.594419 0 0 0-15.955349-14.288372l-7.144186 6.667907a88.349767 88.349767 0 0 1 14.526512 14.526512z m15.002791 68.584186a76.204651 76.204651 0 0 0 20.48-43.579535h17.384186v28.814884a5.23907 5.23907 0 0 1-5.23907 4.286512h-12.859535l3.095814 9.287442h10.954418a12.145116 12.145116 0 0 0 12.383256-7.620465 256.714419 256.714419 0 0 0 2.857675-44.532094h-28.814884v-14.050232H714.418605v-10.001861h-23.813954a119.069767 119.069767 0 0 0-7.144186-14.764651l-10.00186 2.857675a112.163721 112.163721 0 0 1 6.667907 12.145116h-23.813954v10.00186h17.384186v11.906977a91.92186 91.92186 0 0 1-4.048372 23.813954 72.870698 72.870698 0 0 1-14.764651 23.813953z m-44.770233-5.477209v-10.00186h-31.196279a259.333953 259.333953 0 0 0 13.812093-44.293954l-10.954419-2.857674a267.668837 267.668837 0 0 1-14.764651 47.627907h-47.627907v10.00186z m-62.392558-11.192558l10.954418-2.857675a358.4 358.4 0 0 0-11.430697-43.341395l-10.716279 3.572093a359.590698 359.590698 0 0 1 9.763721 42.388837z m59.058604-50.009302v-10.001861h-35.72093c-1.428837-5.23907-2.619535-10.00186-4.048372-14.288372l-11.906977 1.905116a131.691163 131.691163 0 0 1 4.524652 12.383256h-35.720931v10.001861z m-128.833488 23.813953H476.27907v-23.813953h9.049302z m19.289302 0h-9.287441v-23.813953h9.287441z m-58.344186 41.436279a15.24093 15.24093 0 0 0 9.287442-2.619535c3.810233-3.333953 5.953488-12.859535 5.953489-29.053023a107.877209 107.877209 0 0 0-4.762791-33.815814l-1.190698-3.095814a91.683721 91.683721 0 0 0 11.668837-15.002791l-8.334883-5.239069a98.351628 98.351628 0 0 1-8.573024 11.430697 81.205581 81.205581 0 0 0-9.049302-10.716279l-8.096744 6.191628a55.248372 55.248372 0 0 1 10.00186 11.430698 63.821395 63.821395 0 0 1-12.621395 7.858604l5.477209 8.811163c4.286512-2.857674 8.334884-5.477209 11.906977-8.096744a60.487442 60.487442 0 0 1 2.381395 9.287442A67.393488 67.393488 0 0 1 428.651163 381.023256l5.715349 8.573023a71.44186 71.44186 0 0 0 15.479069-15.24093V381.023256a45.722791 45.722791 0 0 1-2.857674 21.432558 5.715349 5.715349 0 0 1-5.00093 1.666977h-9.287442l3.095814 9.525581z m63.821396 1.666977l9.287442-2.381396a216.945116 216.945116 0 0 0-8.811163-28.576744l-8.334884 2.857675c0 3.572093 2.381395 7.144186 3.333954 10.954418l-10.47814 1.905117V381.023256h19.051163v-41.674419h-19.289303v-15.00279h-10.24v15.00279h-18.574883V381.023256h18.813023v19.527442l-22.385116 1.666976 1.666976 10.24a357.209302 357.209302 0 0 0 43.817675-5.953488z m-121.451163-23.813954h-22.146977v-8.573023h22.146977z m9.763721 8.811163v-26.195349h-43.341395v25.95721z m3.572093-31.196279v-8.811163H381.023256v-7.144186h15.955349v-8.334883H381.023256v-6.191628h-10.001861v6.191628h-16.431628v8.334883h16.431628v7.144186h-18.574883v8.811163z m-62.630698 45.484651a103.828837 103.828837 0 0 0 10.47814-48.818604v-29.529303H404.837209v65.250233c0 2.143256 0 3.333953-3.572093 3.333953h-11.906976l2.619534 9.763721H404.837209c7.144186 0 10.716279-3.095814 10.716279-9.049302v-78.824186h-77.157209v39.531163a95.255814 95.255814 0 0 1-8.334884 41.198139z m-15.955349-41.198139v-10.24H233.138605v10.24z m-111.211162 41.674418l8.811162-5.953488a271.717209 271.717209 0 0 0-23.813953-33.101395L190.511628 381.023256c4.524651 5.953488 8.811163 11.906977 12.383256 17.384186-8.811163 0-23.813953 2.143256-42.865117 3.572093a121.213023 121.213023 0 0 0 18.336745-28.576744h45.246511v-10.001861H185.034419v-15.24093h32.386976v-10.00186H185.034419v-14.526512h-10.47814v14.526512H142.883721v10.00186h31.672558v15.24093H135.739535v10.001861H166.697674a69.536744 69.536744 0 0 1-23.813953 30.005581l1.666977 8.334884q30.243721-1.666977 64.059535-4.524651z m-166.697675 0c5.00093-9.049302 8.334884-13.573953 10.47814-13.573953a5.477209 5.477209 0 0 1 3.810232 2.381395 21.670698 21.670698 0 0 0 10.716279 6.667907 79.300465 79.300465 0 0 0 16.431628 1.666977h38.340465l2.381396-10.24h-45.246512a37.149767 37.149767 0 0 1-13.573953-2.381395 28.576744 28.576744 0 0 1-7.144186-5.715349V357.209302h-23.813954v9.525582h13.097674v26.195349a42.865116 42.865116 0 0 0-13.335813 15.24093z m38.816744-35.72093l8.334884-5.715349a162.887442 162.887442 0 0 0-13.812093-18.574883l-7.382326 5.00093a176.937674 176.937674 0 0 1 12.383256 19.527442z m-28.576744-32.386977l7.382326-7.382325a129.309767 129.309767 0 0 0-16.669768-15.24093l-6.906046 6.667906a100.733023 100.733023 0 0 1 15.955349 16.193489z m46.19907 52.152558a9.287442 9.287442 0 0 0 10.478139-10.478139v-40.007442h13.573954v-10.00186h-13.812093v-14.764652h-10.001861v14.764652H65.488372v10.00186h36.673488v37.864186a3.572093 3.572093 0 0 1-3.810232 3.810233h-12.383256l2.143256 9.763721z" fill="#9CB0CD" ></path><path d="M862.541395 674.649302a15.47907 15.47907 0 0 1-10.00186-3.572093 27.862326 27.862326 0 0 1-7.382326-14.288372 177.890233 177.890233 0 0 1-2.857674-39.531163 179.08093 179.08093 0 0 1 3.333953-40.96 23.813953 23.813953 0 0 1 6.906047-13.097674 15.717209 15.717209 0 0 1 10.24-3.572093 15.47907 15.47907 0 0 1 10.00186 3.572093 28.100465 28.100465 0 0 1 7.382326 14.288372 177.890233 177.890233 0 0 1 2.857674 39.531163 177.652093 177.652093 0 0 1-3.333953 40.72186 23.813953 23.813953 0 0 1-6.906047 13.097675 15.717209 15.717209 0 0 1-10.24 3.810232z m0 25.95721a44.532093 44.532093 0 0 0 36.911628-16.669768 108.353488 108.353488 0 0 0 15.955349-66.67907 108.115349 108.115349 0 0 0-15.955349-66.679069 49.294884 49.294884 0 0 0-74.061395 0A107.877209 107.877209 0 0 0 809.674419 616.781395a108.353488 108.353488 0 0 0 14.526511 65.488372 47.627907 47.627907 0 0 0 38.340465 18.336745z m-126.928372-25.95721a15.47907 15.47907 0 0 1-10.00186-3.572093 27.862326 27.862326 0 0 1-7.382326-14.288372 177.890233 177.890233 0 0 1-3.810232-39.769302 179.08093 179.08093 0 0 1 3.333953-40.96 23.813953 23.813953 0 0 1 6.906047-13.097675 15.717209 15.717209 0 0 1 10.24-3.572093 15.47907 15.47907 0 0 1 10.00186 3.572093 28.100465 28.100465 0 0 1 7.382326 14.288373 177.890233 177.890233 0 0 1 2.857674 39.531162 177.652093 177.652093 0 0 1-3.333953 40.721861 23.813953 23.813953 0 0 1-6.906047 13.097674 15.717209 15.717209 0 0 1-9.287442 4.048372z m0 25.95721a44.532093 44.532093 0 0 0 36.911628-16.669768 108.353488 108.353488 0 0 0 15.955349-66.67907 108.115349 108.115349 0 0 0-15.955349-66.679069 49.294884 49.294884 0 0 0-74.061395 0 107.877209 107.877209 0 0 0-15.955349 66.44093 108.353488 108.353488 0 0 0 14.526512 65.488372 47.627907 47.627907 0 0 0 38.578604 18.098605z m-127.88093-2.857675a192.416744 192.416744 0 0 1 7.144186-49.056744 218.373953 218.373953 0 0 1 20.956279-51.914419 168.602791 168.602791 0 0 1 26.909768-37.387907v-23.813953h-107.162791v29.053023h71.44186a230.28093 230.28093 0 0 0-35.244651 63.106977 210.03907 210.03907 0 0 0-14.050232 69.060465z m-106.210233 36.435349a45.722791 45.722791 0 0 0 16.669768-9.763721 32.148837 32.148837 0 0 0 8.811163-14.050232 78.109767 78.109767 0 0 0 2.381395-21.432559V666.790698h-31.434419v30.958139h15.240931a25.71907 25.71907 0 0 1-4.286512 15.002791 26.433488 26.433488 0 0 1-13.573953 8.573023z m-82.872558-58.820465a21.432558 21.432558 0 0 1-16.669767-7.144186 31.434419 31.434419 0 0 1 0-37.387907 19.527442 19.527442 0 0 1 17.146046-7.858605 21.432558 21.432558 0 0 1 16.431628 6.906047 25.957209 25.957209 0 0 1 6.429768 18.336744 28.814884 28.814884 0 0 1-6.429768 20.24186 20.71814 20.71814 0 0 1-16.907907 6.906047z m0-77.633488a19.289302 19.289302 0 0 1-14.050232-5.23907 19.527442 19.527442 0 0 1-5.23907-14.526512 19.051163 19.051163 0 0 1 5.23907-14.050232 19.527442 19.527442 0 0 1 14.288372-5.23907 18.098605 18.098605 0 0 1 19.289302 19.289302 19.765581 19.765581 0 0 1-5.23907 14.764651 19.289302 19.289302 0 0 1-15.00279 5.000931z m1.428838 102.876279a52.390698 52.390698 0 0 0 38.340465-14.050233 49.294884 49.294884 0 0 0 14.526511-36.911628 42.150698 42.150698 0 0 0-7.144186-23.813953 43.817674 43.817674 0 0 0-20.718139-15.955349 37.387907 37.387907 0 0 0 16.669767-13.573954 35.72093 35.72093 0 0 0 5.953489-20.24186 39.293023 39.293023 0 0 0-12.859535-30.243721 51.2 51.2 0 0 0-36.19721-11.906977 51.2 51.2 0 0 0-36.197209 11.906977 39.531163 39.531163 0 0 0-12.859535 30.243721 35.006512 35.006512 0 0 0 23.813954 33.815814 42.388837 42.388837 0 0 0-20.71814 17.146046 47.627907 47.627907 0 0 0-6.667907 23.813954 45.722791 45.722791 0 0 0 15.002791 38.102325 58.106047 58.106047 0 0 0 38.340465 11.668838zM288.386977 619.162791a19.527442 19.527442 0 0 1-15.71721-7.382326 35.72093 35.72093 0 0 1-6.191627-23.813953 35.006512 35.006512 0 0 1 5.715348-22.385117 18.098605 18.098605 0 0 1 13.573954-5.953488 20.48 20.48 0 0 1 16.193488 8.334884 35.72093 35.72093 0 0 1 6.906047 23.813953 31.196279 31.196279 0 0 1-6.191628 20.956279 19.289302 19.289302 0 0 1-14.288372 6.429768zM285.767442 700.606512a53.819535 53.819535 0 0 0 43.341395-19.765582 100.494884 100.494884 0 0 0 16.669768-64.773953 99.304186 99.304186 0 0 0-15.955349-63.345117 53.581395 53.581395 0 0 0-79.300465-5.00093 55.010233 55.010233 0 0 0-14.764651 40.007442 54.295814 54.295814 0 0 0 14.050232 38.816744 44.055814 44.055814 0 0 0 33.339535 15.002791 37.387907 37.387907 0 0 0 29.529302-13.812093 75.966512 75.966512 0 0 1-8.811162 39.054884 20.24186 20.24186 0 0 1-16.431628 8.811162 17.146047 17.146047 0 0 1-12.383256-4.524651 21.908837 21.908837 0 0 1-5.715349-13.812093l-31.196279 2.619535a49.294884 49.294884 0 0 0 15.717209 30.72 45.722791 45.722791 0 0 0 31.910698 10.001861z m-95.255814-2.857675v-164.078139H166.697674a57.867907 57.867907 0 0 1-19.765581 26.195349 90.493023 90.493023 0 0 1-27.862326 15.24093v28.338604a108.115349 108.115349 0 0 0 40.483721-23.813953v119.069767z" fill="#61799B" ></path></symbol><symbol id="icon-cem_asahi-chart" viewBox="0 0 1024 1024"><path d="M404.837209 512a119.069767 119.069767 0 0 1 106.924651-116.212093v-95.255814A214.325581 214.325581 0 0 0 309.581395 512z" fill="#9CB0CD" ></path><path d="M535.813953 300.055814v95.255814a119.069767 119.069767 0 1 1-128.833488 140.026046H309.581395a214.325581 214.325581 0 1 0 225.041861-235.758139z" fill="#61799B" ></path><path d="M512 228.613953v-142.88372A428.651163 428.651163 0 0 0 95.255814 512h142.883721A285.767442 285.767442 0 0 1 512 228.613953z" fill="#9CB0CD" ></path><path d="M952.55814 513.666977a428.651163 428.651163 0 0 0-416.744187-428.651163v142.883721a285.767442 285.767442 0 0 1 193.369303 483.661395l100.971163 100.971163A426.984186 426.984186 0 0 0 952.55814 513.666977z" fill="#61799B" ></path><path d="M523.906977 799.434419A285.767442 285.767442 0 0 1 238.139535 535.813953H95.255814a428.651163 428.651163 0 0 0 717.514419 293.864187l-100.971163-100.971163A284.338605 284.338605 0 0 1 523.906977 799.434419z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_pie-chart" viewBox="0 0 1024 1024"><path d="M535.813953 228.613953a285.767442 285.767442 0 0 1 273.860466 285.767442v10.24h142.883721v-10.24a428.651163 428.651163 0 0 0-416.744187-428.651162z" fill="#9CB0CD" ></path><path d="M238.139535 512A285.767442 285.767442 0 0 1 512 228.613953v-142.88372A428.651163 428.651163 0 0 0 95.255814 512zM807.531163 547.72093A285.767442 285.767442 0 0 1 535.813953 798.72v142.883721A428.651163 428.651163 0 0 0 950.891163 547.72093z" fill="#61799B" ></path><path d="M512 798.72A285.767442 285.767442 0 0 1 238.139535 535.813953H95.255814a428.651163 428.651163 0 0 0 415.553488 404.83721z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_histogram1" viewBox="0 0 1024 1024"><path d="M285.767442 333.395349h95.255814v523.906977h-95.255814zM95.255814 190.511628h95.255814v666.790698H95.255814zM476.27907 476.27907h95.255814v381.023256h-95.255814zM666.790698 619.162791h95.255814v238.139535h-95.255814zM857.302326 762.046512h95.255814v95.255814h-95.255814z" fill="#61799B" ></path></symbol><symbol id="icon-cem_form-chart" viewBox="0 0 1024 1024"><path d="M976.372093 166.697674H690.604651v666.790698h285.767442zM666.790698 166.697674H381.023256v666.790698h285.767442zM357.209302 166.697674H71.44186v666.790698h285.767442zM47.627907 857.302326V142.883721h952.55814v714.418605z" fill="#9CB0CD" ></path><path d="M47.627907 500.093023h952.55814v142.883721H47.627907z" fill="#9CB0CD" ></path><path d="M47.627907 142.883721h952.55814v166.697674H47.627907z" fill="#61799B" ></path><path d="M166.697674 381.023256h95.255814v47.627907H166.697674zM166.697674 714.418605h95.255814v47.627907H166.697674zM476.27907 381.023256h95.255814v47.627907h-95.255814zM476.27907 714.418605h95.255814v47.627907h-95.255814zM785.860465 381.023256h95.255814v47.627907h-95.255814zM785.860465 714.418605h95.255814v47.627907h-95.255814z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_side-by-side-bar-chart" viewBox="0 0 1024 1024"><path d="M0 190.511628h1024v95.255814H0z" fill="#61799B" ></path><path d="M0 381.023256h881.116279v95.255814H0z" fill="#9CB0CD" ></path><path d="M0 571.534884h571.534884v95.255814H0z" fill="#61799B" ></path><path d="M0 762.046512h357.209302v95.255814H0z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_radar-chart" viewBox="0 0 1024 1024"><path d="M523.906977 510.809302a47.627907 47.627907 0 1 0 47.627907 47.627907 47.627907 47.627907 0 0 0-47.627907-47.627907z m0-71.44186a119.069767 119.069767 0 1 1-119.069768 119.069767 119.069767 119.069767 0 0 1 119.069768-119.069767z m0-95.255814a214.325581 214.325581 0 1 0 214.325581 214.325581 214.325581 214.325581 0 0 0-214.325581-214.325581z m0-71.441861a285.767442 285.767442 0 1 1-285.767442 285.767442 285.767442 285.767442 0 0 1 285.767442-285.767442z m0-71.44186a357.209302 357.209302 0 1 0 357.209302 357.209302 357.209302 357.209302 0 0 0-357.209302-357.209302z m0-71.44186a428.651163 428.651163 0 1 1-428.651163 428.651162 428.651163 428.651163 0 0 1 428.651163-428.651162z" fill="#DDE4EF" ></path><path d="M309.581395 992.089302a23.813953 23.813953 0 0 1-23.813953-22.623255l-23.813954-432.223256a23.813953 23.813953 0 0 1 2.381396-11.906977l238.139535-474.612093a23.813953 23.813953 0 0 1 21.432558-13.335814 25.48093 25.48093 0 0 1 21.194418 12.145116l254.094884 452.465117a23.813953 23.813953 0 0 1 1.190698 20.718139l-107.87721 259.333954a23.813953 23.813953 0 0 1-10.716279 11.668837l-360.781395 195.512558a23.813953 23.813953 0 0 1-11.430698 2.857674z m0-451.274418L331.252093 928.744186l320.297674-173.603721 100.018605-239.568372L523.906977 111.925581z" fill="#9CB0CD" ></path><path d="M714.418605 918.980465a23.813953 23.813953 0 0 1-7.144186 0l-345.302326-111.449302a23.813953 23.813953 0 0 1-12.621395-9.763721L75.252093 376.736744a23.813953 23.813953 0 0 1 10.954419-35.006511l428.651162-176.937675a23.813953 23.813953 0 0 1 21.432559 1.666977l428.651162 256.714418a23.813953 23.813953 0 0 1 8.811163 31.434419l-238.139535 452.465116a23.813953 23.813953 0 0 1-21.194418 11.906977z m-330.061396-154.314418l318.392558 101.685581L920.885581 452.465116 522.00186 214.325581 130.976744 374.831628z" fill="#61799B" ></path></symbol><symbol id="icon-cem_funnel" viewBox="0 0 1024 1024"><path d="M519.620465 108.829767H23.813953L519.620465 945.413953 1015.426977 108.829767z" fill="#DDE4EF" ></path><path d="M673.458605 523.906977H359.828837a1741.276279 1741.276279 0 0 1 87.635349 190.511628h142.883721a1539.572093 1539.572093 0 0 1 83.110698-190.511628z" fill="#61799B" ></path><path d="M589.157209 714.418605h-142.883721a2076.338605 2076.338605 0 0 1 74.775814 230.995348 1803.668837 1803.668837 0 0 1 68.107907-230.995348zM238.139535 333.395349a1476.465116 1476.465116 0 0 1 121.213023 190.511628h314.106047a1349.060465 1349.060465 0 0 1 121.213023-190.511628z" fill="#9CB0CD" ></path><path d="M1015.426977 108.829767H23.813953A1296.669767 1296.669767 0 0 1 238.139535 333.395349h556.532093a1267.140465 1267.140465 0 0 1 220.755349-224.565582z" fill="#61799B" ></path></symbol><symbol id="icon-cem_dendrogram1" viewBox="0 0 1024 1024"><path d="M100.733023 534.385116l-10.954418-20.956279 407.933023-215.516279 404.837209-83.348837 4.762791 23.337674-403.170233 83.110698-403.408372 213.373023z" fill="#DDE4EF" ></path><path d="M491.662884 321.083535l6.001116-23.051907 410.123907 107.162791-6.001116 23.028093zM902.548837 833.250233l-407.933023-84.539535-404.837209-214.325582 10.954418-20.956279 403.408372 213.373023 403.170233 83.110698-4.762791 23.337675z" fill="#DDE4EF" ></path><path d="M497.163907 726.635163l404.956279-107.162791 6.096372 23.028093-404.956279 107.162791z" fill="#DDE4EF" ></path><path d="M23.813953 381.023256h142.883721v285.767442H23.813953zM428.651163 166.697674h142.883721v285.767442h-142.883721z" fill="#61799B" ></path><path d="M428.651163 595.348837h142.883721v285.767442h-142.883721z" fill="#9CB0CD" ></path><path d="M833.488372 166.697674h142.883721v119.069768h-142.883721z" fill="#61799B" ></path><path d="M833.488372 762.046512h142.883721v119.069767h-142.883721z" fill="#9CB0CD" ></path><path d="M833.488372 571.534884h142.883721v119.069767h-142.883721z" fill="#61799B" ></path><path d="M833.488372 357.209302h142.883721v119.069768h-142.883721z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_area-chart" viewBox="0 0 1024 1024"><path d="M47.627907 142.883721h547.72093v547.72093H47.627907zM762.046512 666.790698h238.139535v190.511628H762.046512z" fill="#61799B" ></path><path d="M642.976744 142.883721h357.209303v357.209302H642.976744zM47.627907 738.232558h547.72093v119.069768H47.627907zM642.976744 547.72093h71.441861v309.581396h-71.441861zM762.046512 547.72093h238.139535v71.441861H762.046512z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_parallel-graph" viewBox="0 0 1024 1024"><path d="M71.44186 142.883721h47.627907v714.418605H71.44186zM285.767442 142.883721h47.627907v714.418605h-47.627907zM500.093023 142.883721h47.627907v714.418605h-47.627907zM714.418605 142.883721h47.627907v714.418605h-47.627907zM928.744186 142.883721h47.627907v714.418605h-47.627907z" fill="#DDE4EF" ></path><path d="M309.581395 458.418605a23.813953 23.813953 0 0 1-13.573953-4.286512l-214.325582-148.837209 27.147907-39.054884L309.581395 404.837209l200.751628-139.311628a23.813953 23.813953 0 0 1 22.385117-2.619534L738.232558 344.349767l205.514419-80.729302 17.384186 44.293954-214.325582 84.301395a23.813953 23.813953 0 0 1-17.384186 0l-202.418604-79.538605-203.847442 141.454884a23.813953 23.813953 0 0 1-13.573954 4.286512z" fill="#9CB0CD" ></path><path d="M113.592558 797.767442l-36.673488-30.481861 214.325581-259.572093a23.813953 23.813953 0 0 1 11.192558-7.620465l214.325582-68.822325a23.813953 23.813953 0 0 1 16.669767 0l206.705116 89.778604 206.466977-54.057674 12.145116 46.19907-214.325581 56.20093a23.813953 23.813953 0 0 1-15.47907-1.190698l-205.990697-89.540465-199.084652 64.059535z" fill="#61799B" ></path><path d="M738.232558 730.612093a23.813953 23.813953 0 0 1-10.716279-2.619535L523.906977 624.163721l-204.085582 86.682791a23.813953 23.813953 0 0 1-18.574883 0L85.968372 619.162791l18.574884-43.817675L309.581395 662.980465l205.03814-87.15907a23.813953 23.813953 0 0 1 20.003721 0l203.609302 104.781396L943.508837 595.348837l18.336744 44.055814-214.325581 89.302326a23.813953 23.813953 0 0 1-9.287442 1.905116z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_dashboard" viewBox="0 0 1024 1024"><path d="M535.813953 260.048372A285.767442 285.767442 0 0 1 809.674419 523.906977h142.883721A428.651163 428.651163 0 0 0 535.813953 117.164651z" fill="#61799B" ></path><path d="M809.674419 547.72093a285.767442 285.767442 0 0 1-159.07721 253.856744L714.418605 928.744186l7.858604-4.048372A428.651163 428.651163 0 0 0 952.55814 547.72093zM238.139535 545.339535a285.767442 285.767442 0 0 1 273.860465-285.767442v-142.883721A428.651163 428.651163 0 0 0 333.395349 928.744186l63.583256-127.88093-6.667907-3.333954A285.767442 285.767442 0 0 1 238.139535 545.339535z" fill="#9CB0CD" ></path><path d="M523.906977 309.581395l71.44186 95.255814h-47.627907v75.490233a71.44186 71.44186 0 0 1 47.627907 63.106977V547.72093a71.44186 71.44186 0 1 1-95.255814-67.393488V404.837209h-47.627907z" fill="#61799B" ></path></symbol><symbol id="icon-cem_k-line-chart" viewBox="0 0 1024 1024"><path d="M452.465116 95.255814v71.44186h23.813954v666.790698h-23.813954v71.441861h-47.627907v-71.441861h-23.813953V166.697674h23.813953V95.255814h47.627907zM952.55814 142.883721v95.255814h23.813953v523.906977h-23.813953v95.255814h-47.627907v-95.255814h-23.813954V238.139535h23.813954V142.883721h47.627907z" fill="#61799B" ></path><path d="M785.860465 214.325581v119.069768h23.813954v333.395349h-23.813954v119.069767h-47.627907v-119.069767h-23.813953V333.395349h23.813953V214.325581h47.627907zM285.767442 214.325581v95.255814h23.813953v404.83721h-23.813953v71.44186h-47.627907v-71.44186H214.325581V309.581395h23.813954V214.325581h47.627907z" fill="#9CB0CD" ></path><path d="M619.162791 309.581395v95.255814h23.813953v190.511628h-23.813953v95.255814h-47.627907v-95.255814h-23.813954v-190.511628h23.813954v-95.255814h47.627907zM119.069767 309.581395v71.441861h23.813954v238.139535H119.069767v71.44186H71.44186v-71.44186H47.627907V381.023256h23.813953v-71.441861h47.627907z" fill="#61799B" ></path></symbol><symbol id="icon-cem_river-map" viewBox="0 0 1024 1024"><path d="M261.953488 202.656744c214.325581 260.524651 243.616744 71.44186 335.062326 71.441861S711.79907 476.27907 785.860465 476.27907s110.020465-257.190698 208.372093 37.864186H23.813953Q201.227907 127.88093 261.953488 202.656744z" fill="#61799B" ></path><path d="M261.953488 845.157209c214.325581-260.524651 243.616744-71.44186 335.062326-71.44186S711.79907 571.534884 785.860465 571.534884s110.020465 257.190698 208.372093-37.864186H23.813953q177.413953 386.262326 238.139535 311.486511z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_scatter-plot" viewBox="0 0 1024 1024"><path d="M245.045581 435.557209m-221.231628 0a221.231628 221.231628 0 1 0 442.463256 0 221.231628 221.231628 0 1 0-442.463256 0Z" fill="#61799B" ></path><path d="M797.767442 678.697674m-154.790698 0a154.790698 154.790698 0 1 0 309.581396 0 154.790698 154.790698 0 1 0-309.581396 0Z" fill="#61799B" ></path><path d="M886.117209 324.822326m-110.496744 0a110.496744 110.496744 0 1 0 220.993488 0 110.496744 110.496744 0 1 0-220.993488 0Z" fill="#61799B" ></path><path d="M79.062326 778.24m-55.248373 0a55.248372 55.248372 0 1 0 110.496745 0 55.248372 55.248372 0 1 0-110.496745 0Z" fill="#9CB0CD" ></path><path d="M587.728372 358.16186m-55.248372 0a55.248372 55.248372 0 1 0 110.496744 0 55.248372 55.248372 0 1 0-110.496744 0Z" fill="#9CB0CD" ></path><path d="M488.186047 745.138605m-88.349768 0a88.349767 88.349767 0 1 0 176.699535 0 88.349767 88.349767 0 1 0-176.699535 0Z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_relation-diagram" viewBox="0 0 1024 1024"><path d="M327.989581 217.20707l190.416372-95.208186 10.668652 21.289674-190.416372 95.232z" fill="#DDE4EF" ></path><path d="M344.349767 223.374884l117.402791 281.957209 252.189768 137.406512 184.558139-115.259535 12.859535 20.003721-196.465116 122.88-271.71721-148.122791-120.736744-289.815814 21.908837-9.049302z" fill="#DDE4EF" ></path><path d="M703.226047 660.551442l22.599441-7.525209 71.441861 214.397023-22.575628 7.525209zM443.653953 505.808372l17.622326 15.717209-181.224186 204.085582 131.453023 87.635349-13.335814 20.003721-154.314418-102.87628 199.799069-224.565581z" fill="#DDE4EF" ></path><path d="M90.493023 667.505116l9.525582-21.908837 180.271628 77.395349-127.642791 178.604651-19.527442-13.812093 110.496744-154.552558-153.123721-65.726512z" fill="#DDE4EF" ></path><path d="M452.465116 513.666977m-142.883721 0a142.883721 142.883721 0 1 0 285.767442 0 142.883721 142.883721 0 1 0-285.767442 0Z" fill="#61799B" ></path><path d="M714.418605 656.550698m-95.255814 0a95.255814 95.255814 0 1 0 190.511628 0 95.255814 95.255814 0 1 0-190.511628 0Z" fill="#9CB0CD" ></path><path d="M333.395349 227.899535m-95.255814 0a95.255814 95.255814 0 1 0 190.511628 0 95.255814 95.255814 0 1 0-190.511628 0Z" fill="#9CB0CD" ></path><path d="M261.953488 727.992558m-71.44186 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#9CB0CD" ></path><path d="M785.860465 870.876279m-71.44186 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#61799B" ></path><path d="M904.930233 537.48093m-71.441861 0a71.44186 71.44186 0 1 0 142.883721 0 71.44186 71.44186 0 1 0-142.883721 0Z" fill="#61799B" ></path><path d="M95.255814 656.550698m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#61799B" ></path><path d="M142.883721 894.690233m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#61799B" ></path><path d="M404.837209 823.248372m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#61799B" ></path><path d="M523.906977 132.643721m-47.627907 0a47.627907 47.627907 0 1 0 95.255814 0 47.627907 47.627907 0 1 0-95.255814 0Z" fill="#61799B" ></path></symbol><symbol id="icon-cem_thermodynamic-chart" viewBox="0 0 1024 1024"><path d="M785.860465 142.883721h190.511628v166.697674h-190.511628zM595.348837 142.883721h190.511628v166.697674h-190.511628z" fill="#61799B" ></path><path d="M785.860465 309.581395h190.511628v190.511628h-190.511628z" fill="#61799B" opacity=".8" ></path><path d="M595.348837 309.581395h190.511628v190.511628h-190.511628z" fill="#61799B" opacity=".3" ></path><path d="M785.860465 500.093023h190.511628v190.511628h-190.511628z" fill="#61799B" opacity=".5" ></path><path d="M595.348837 500.093023h190.511628v190.511628h-190.511628zM785.860465 690.604651h190.511628v166.697675h-190.511628z" fill="#61799B" ></path><path d="M595.348837 690.604651h190.511628v166.697675h-190.511628z" fill="#61799B" opacity=".3" ></path><path d="M404.837209 142.883721h190.511628v166.697674h-190.511628zM404.837209 309.581395h190.511628v190.511628h-190.511628zM404.837209 500.093023h190.511628v190.511628h-190.511628z" fill="#61799B" opacity=".8" ></path><path d="M404.837209 690.604651h190.511628v166.697675h-190.511628zM214.325581 142.883721h190.511628v166.697674H214.325581z" fill="#61799B" ></path><path d="M214.325581 309.581395h190.511628v190.511628H214.325581z" fill="#8093AE" ></path><path d="M214.325581 500.093023h190.511628v190.511628H214.325581z" fill="#61799B" ></path><path d="M214.325581 690.604651h190.511628v166.697675H214.325581z" fill="#61799B" opacity=".5" ></path><path d="M23.813953 142.883721h190.511628v166.697674H23.813953z" fill="#61799B" opacity=".3" ></path><path d="M23.813953 309.581395h190.511628v190.511628H23.813953zM23.813953 500.093023h190.511628v190.511628H23.813953z" fill="#61799B" opacity=".5" ></path><path d="M23.813953 690.604651h190.511628v166.697675H23.813953z" fill="#61799B" ></path></symbol><symbol id="icon-cem_calendar" viewBox="0 0 1024 1024"><path d="M976.372093 166.697674H71.44186v666.790698h904.930233z m23.813954-23.813953v714.418605H47.627907V142.883721z" fill="#9CB0CD" ></path><path d="M690.604651 381.023256h95.255814v95.255814h-95.255814zM690.604651 523.906977h95.255814v95.255814h-95.255814z" fill="#9CB0CD" ></path><path d="M547.72093 523.906977h95.255814v95.255814h-95.255814z" fill="#61799B" ></path><path d="M547.72093 666.790698h95.255814v95.255814h-95.255814zM404.837209 523.906977h95.255814v95.255814h-95.255814z" fill="#9CB0CD" ></path><path d="M404.837209 666.790698h95.255814v95.255814h-95.255814z" fill="#61799B" ></path><path d="M833.488372 381.023256h95.255814v95.255814h-95.255814zM833.488372 523.906977h95.255814v95.255814h-95.255814zM690.604651 666.790698h95.255814v95.255814h-95.255814z" fill="#9CB0CD" ></path><path d="M833.488372 666.790698h95.255814v95.255814h-95.255814zM47.627907 142.883721h952.55814v166.697674H47.627907z" fill="#61799B" ></path></symbol><symbol id="icon-cem_bar-chart1" viewBox="0 0 1024 1024"><path d="M0 190.511628h1024v95.255814H0zM0 381.023256h881.116279v95.255814H0zM0 571.534884h571.534884v95.255814H0zM0 762.046512h357.209302v95.255814H0z" fill="#61799B" ></path></symbol><symbol id="icon-cem_sankey" viewBox="0 0 1024 1024"><path d="M893.023256 156.457674q36.911628 49.294884 0 166.697675a1763.661395 1763.661395 0 0 0-762.046512 47.627907q-61.67814-64.059535 0-214.325582a2701.931163 2701.931163 0 0 0 762.046512 0z m27.862325 457.942326q25.957209-34.292093 38.816745 4.762791l-23.813954-1.666977h-15.24093z m-27.862325-235.75814l95.255814 142.883721q-342.206512-157.172093-809.674419 68.346047Q642.976744 428.651163 924.933953 532.71814q5.477209 62.868837-31.910697 76.204651Q637.261395 498.902326 95.255814 688.223256q-23.813953-26.195349 5.477209-69.060465l19.527442-7.382326 1.666977 7.382326q-42.626977-174.556279 8.811163-200.751628z m16.907907 238.139535h9.525581a307.676279 307.676279 0 0 0-25.71907 47.627907 4266.984186 4266.984186 0 0 0-762.046511 63.583256q-30.95814-31.672558-30.95814-39.769302a2532.137674 2532.137674 0 0 1 809.19814-72.394419z m-16.907907 88.349768q44.532093 20.003721 0 142.883721-509.380465-8.096744-762.046512 23.813953-39.293023-66.917209 0-95.255814 551.054884 12.383256 762.046512-72.394418z" fill="#DDE4EF" ></path><path d="M35.72093 156.457674h95.255814v214.325582h-95.255814z" fill="#9CB0CD" ></path><path d="M607.255814 180.271628h95.255814v309.581395h-95.255814zM35.72093 775.620465h95.255814v95.255814h-95.255814zM893.023256 704.178605h95.255814v166.697674h-95.255814z" fill="#61799B" ></path><path d="M893.023256 378.64186h95.255814v285.767442h-95.255814z" fill="#9CB0CD" ></path><path d="M893.023256 156.457674h95.255814v166.697675h-95.255814zM571.534884 561.294884h95.255814v95.255814h-95.255814z" fill="#61799B" ></path><path d="M416.744186 704.178605h95.255814v142.883721h-95.255814z" fill="#9CB0CD" ></path><path d="M35.72093 418.411163h95.255814v309.581395h-95.255814z" fill="#61799B" ></path></symbol><symbol id="icon-cem_word-cloud" viewBox="0 0 1024 1024"><path d="M803.006512 656.550698h-80.014884v-42.388838h80.014884z m-58.344186-142.883721h-59.058605v-33.339535h58.582326zM809.674419 447.464186h-123.832559v-27.862326H809.674419z m-166.697675 256.952558A421.030698 421.030698 0 0 0 684.174884 547.72093h60.487442v34.053954h-55.962791v122.403721h34.053953v-14.526512h80.014884v14.526512h34.053954v-122.641861h-55.962791V547.72093h71.44186v-34.292093h-71.44186v-33.339535h64.059535v-95.255814h-195.036279v119.069768a387.691163 387.691163 0 0 1-35.244651 174.556279z m-71.44186-3.810232a31.910698 31.910698 0 0 0 35.244651-36.673489v-95.255814l28.814884-14.288372v-37.387907c-9.287442 5.00093-18.813023 9.525581-28.814884 14.288372v-56.439069h30.243721v-35.95907h-30.005582v-63.106977H571.534884v62.868837h-39.293024v35.95907H571.534884v71.44186c-15.002791 5.00093-30.243721 9.287442-45.484651 12.859535l9.525581 36.673489c12.145116-3.810233 23.813953-8.096744 35.95907-12.383256v71.44186c0 8.811163-3.810233 13.573953-11.430698 13.573954a163.84 163.84 0 0 1-25.71907-2.381395l7.858605 34.768372z m-301.246512-71.441861c-11.430698-4.524651-23.813953-8.811163-34.053953-12.383256 5.00093-8.573023 10.00186-17.384186 14.526511-26.671628h52.628837a119.069767 119.069767 0 0 1-32.863255 40.007442z m-82.634419 73.823256A309.581395 309.581395 0 0 0 275.527442 666.790698a507.951628 507.951628 0 0 1 49.056744 25.719069l20.003721-29.053023c-13.097674-7.144186-26.671628-13.573953-40.483721-19.527442a126.928372 126.928372 0 0 0 32.386977-54.772093v-29.767442h-71.441861c1.666977-5.00093 3.572093-10.24 5.715349-15.717209l-34.768372-4.286511c-2.143256 6.429767-4.524651 12.859535-7.144186 20.00372H179.08093v31.672559H214.325581c-6.429767 13.097674-13.812093 27.147907-22.385116 41.198139 15.717209 5.953488 30.95814 12.145116 45.246512 18.098605a339.586977 339.586977 0 0 1-66.44093 21.670697z m233.376745-134.786977A501.283721 501.283721 0 0 1 391.739535 476.27907l3.810232-14.526512h43.341396a374.355349 374.355349 0 0 1-17.860465 106.448372z m-214.325582-134.072558l26.433489-11.668837A294.578605 294.578605 0 0 0 214.325581 379.832558l-28.814883 9.287442a357.209302 357.209302 0 0 1 22.146976 45.008372z m105.257675 1.428837a238.139535 238.139535 0 0 0 27.147907-43.817674l-25.95721-12.383256A214.325581 214.325581 0 0 1 285.767442 422.459535zM190.511628 544.863256a175.270698 175.270698 0 0 0 56.20093-63.583256v55.724651h34.053954V500.093023q15.002791 10.24 37.387907 27.624186l19.289302-29.053023q-28.814884-14.288372-56.43907-25.71907h59.534884v-33.339535h-60.487442v-64.297674h-34.053953v64.297674H179.795349v32.386977h42.388837a149.551628 149.551628 0 0 1-50.96186 43.103256z m291.72093 159.791628l20.71814-30.243721a209.80093 209.80093 0 0 1-60.725582-66.91721 379.356279 379.356279 0 0 0 31.196279-146.455813h19.527442v-36.19721h-89.778604c2.381395-13.812093 4.524651-28.338605 6.667907-44.055814l-36.19721-6.429767A461.514419 461.514419 0 0 1 333.395349 531.289302l23.813953 28.814884c5.715349-10.00186 11.430698-20.956279 16.669768-32.625116a508.189767 508.189767 0 0 0 30.958139 78.824186 190.511628 190.511628 0 0 1-61.44 66.44093l19.289303 31.196279a249.332093 249.332093 0 0 0 61.44-63.583256 236.472558 236.472558 0 0 0 57.153488 64.059535z" fill="#61799B" ></path><path d="M346.731163 306.96186V215.754419h23.813953V197.655814h-69.536744V171.460465a264.096744 264.096744 0 0 0 66.202791-11.668837L357.209302 142.883721a239.568372 239.568372 0 0 1-74.775814 12.621395V214.325581a133.35814 133.35814 0 0 1-23.813953 77.871628l13.097674 14.050233a158.124651 158.124651 0 0 0 27.624186-90.731163h27.147907v91.445581z m-93.112558 0V220.755349c3.810233 5.477209 8.811163 12.621395 14.050232 21.194418l10.24-15.00279c-8.096744-9.525581-15.955349-18.098605-23.813953-26.433489v-7.144186h22.146976v-17.622325h-22.146976V142.883721h-18.574884v32.863256h-23.813953v17.860465h23.813953a151.933023 151.933023 0 0 1-27.147907 52.866977l8.096744 20.48a206.466977 206.466977 0 0 0 20.003721-41.19814v81.443721z m-202.656745 0a125.499535 125.499535 0 0 0 40.96-35.006511 132.405581 132.405581 0 0 0 16.669768-43.341396h38.816744a179.31907 179.31907 0 0 1-5.477209 47.627907 16.907907 16.907907 0 0 1-17.146047 10.954419L95.255814 287.672558l5.00093 18.336744h33.815814a25.242791 25.242791 0 0 0 19.765582-8.811162 65.012093 65.012093 0 0 0 8.811162-29.767442c1.666977-14.288372 2.857674-32.625116 3.572093-55.724651H58.106047v17.860465h32.148837a104.543256 104.543256 0 0 1-14.764651 34.768372 113.830698 113.830698 0 0 1-36.19721 28.338604z m-10.24-85.730232A214.325581 214.325581 0 0 0 76.442791 190.511628a199.322791 199.322791 0 0 0 23.813953-35.95907l-15.955349-9.763721a187.892093 187.892093 0 0 1-23.813953 34.053954 119.069767 119.069767 0 0 1-29.767442 26.909767z m141.454884 0l12.621396-14.764651A119.069767 119.069767 0 0 1 140.978605 142.883721l-16.193489 9.049302a140.740465 140.740465 0 0 0 57.391628 69.298605zM949.462326 881.116279l9.287441-9.287442a178.366512 178.366512 0 0 0-19.289302-20.24186l-8.334884 8.096744a121.927442 121.927442 0 0 1 18.336745 21.432558z m-62.868838-1.666977c5.953488-14.288372 10.954419-29.767442 15.955349-45.96093l-11.668837-4.762791a459.371163 459.371163 0 0 1-16.669767 45.246512z m5.000931-58.820465l9.049302-9.049302a147.408372 147.408372 0 0 0-17.860465-19.527442l-9.287442 9.049302a114.068837 114.068837 0 0 1 18.098605 19.289303z m14.764651 60.487442a44.770233 44.770233 0 0 0 21.432558-19.765581 92.874419 92.874419 0 0 0 7.382325-37.149768v-41.674418h-11.192558v41.674418a77.157209 77.157209 0 0 1-5.477209 28.338605 39.293023 39.293023 0 0 1-19.289302 16.907907z m66.20279-29.767442V769.190698h-12.145116v82.158139z m-55.010232-4.048372v-71.44186h23.813953v71.44186h12.383256v-83.825116H904.930233v83.586977z m-23.813954-60.725581l9.049303-9.049303a158.60093 158.60093 0 0 0-18.336744-18.098604l-9.287442 9.049302a110.973023 110.973023 0 0 1 18.813023 17.384186z m86.444652 93.112558c8.334884 0 12.383256-4.524651 12.383255-13.573954v-107.877209h-13.097674v104.781395c0 3.095814-1.428837 5.00093-3.810233 5.000931a113.592558 113.592558 0 0 1-13.097674 0l2.857674 12.859535z m-144.312559-15.002791h-14.050232v-23.813953h14.050232z m-27.386046 0h-13.812093v-23.813953H809.674419z m-27.386047 0h-13.573953v-23.813953h13.573953z m81.205582 12.383256v-12.383256h-12.859535v-36.673488h-95.255814v36.911628h-13.573954v12.383256z m-26.671628-55.010233l11.668837-8.096744a205.03814 205.03814 0 0 0-15.717209-23.813953l-11.192558 7.144186a174.31814 174.31814 0 0 1 15.717209 24.766511zM762.046512 818.723721v-55.010233h-13.812093v55.248372z m27.624186 5.00093v-66.67907h-14.050233v66.67907z m11.430697-12.621395a83.825116 83.825116 0 0 0 16.431628-25.242791h41.912558v-13.573953h-37.387907c0-4.048372 2.143256-8.334884 3.095814-12.859535l-14.288372-2.619535a93.112558 93.112558 0 0 1-18.098604 43.817674zM266.47814 859.445581h-23.813954v-28.576744h23.813954z m-61.91628 0h-23.813953v-28.576744h23.813953z m37.387907 19.289303v-6.191628h23.813954v6.191628h13.812093v-60.725582H228.375814v60.725582z m-60.725581 0v-6.191628h23.813954v6.191628h13.573953v-60.725582H166.697674v60.725582z m67.155349-82.634419h-47.627907v-21.432558h47.627907zM261.953488 809.674419v-47.627907H185.748837v47.627907z m-159.077209-9.763721h-23.813953l-4.286512-16.193489h34.053953a100.971163 100.971163 0 0 1-5.477209 15.47907zM38.578605 881.116279a88.826047 88.826047 0 0 0 14.288372-50.485581v-17.384186h95.255814v-13.573954H116.926512a115.497674 115.497674 0 0 0 5.239069-16.193488h22.146977v-13.097675H98.113488a119.069767 119.069767 0 0 0-5.239069-14.050232l-14.764652 2.381395a95.255814 95.255814 0 0 1 5.715349 11.668837H37.626047v13.097675h23.813953l4.286512 16.193488H38.578605v30.72a73.346977 73.346977 0 0 1-10.716279 40.96zM658.693953 291.482791h-67.393488V285.767442h67.393488z m-67.393488 12.383256v-3.572094h67.393488v3.572094h13.573954v-26.671628h-95.255814v26.671628zM666.790698 272.431628v-7.858605h-84.301396v7.858605z m0-11.906977v-7.858604h-84.301396v7.858604z m-71.441861-34.530232h-9.287442v-5.715349H595.348837z m12.621396 1.190697h-2.619535V214.325581h-25.95721l2.143256-3.810232h32.625116a84.301395 84.301395 0 0 1 0 14.288372 4.762791 4.762791 0 0 1-5.239069 2.381395z m47.627907-16.669767a31.434419 31.434419 0 0 1-8.573024-12.145116h15.002791a35.006512 35.006512 0 0 1-6.429767 12.145116z m26.671627 38.102325V238.139535h-50.96186c0-2.619535-2.381395-5.23907-3.333954-7.382326h-6.191627l1.666976-1.905116a56.43907 56.43907 0 0 0 3.095814-22.623256l6.667907 8.334884a59.296744 59.296744 0 0 0 6.906047-7.144186 39.531163 39.531163 0 0 0 6.429767 8.811163 56.677209 56.677209 0 0 1-18.098604 6.667907l5.00093 11.192558a63.583256 63.583256 0 0 0 23.813953-9.763721 90.731163 90.731163 0 0 0 21.432558 10.00186l6.191628-10.954418a88.826047 88.826047 0 0 1-18.813023-7.620465 52.628837 52.628837 0 0 0 8.811163-20.003721h7.144186v-9.763721h-30.481861c0-1.666977 0-3.572093 1.428838-5.47721l-12.621396-2.143255a54.057674 54.057674 0 0 1-13.812093 27.147907v-5.000931h-41.198139v-1.905116h7.382325v-4.762791h10.954419v4.762791h11.430698v-4.762791h15.00279v-9.763721h-15.00279v-5.00093h-11.430698v5.00093h-10.954419v-5.00093h-11.430697v5.00093h-14.526512v9.763721h14.526512v3.333954l-6.906047-1.190698a35.244651 35.244651 0 0 1-11.668837 18.574884l7.382326 9.049302a49.533023 49.533023 0 0 0 6.429767-6.429767v15.717209h28.338605v3.095814H614.63814a23.813953 23.813953 0 0 1 2.143255 3.572093h-50.485581v9.763721z m-138.597209 54.057675l9.763721-9.763721a196.226977 196.226977 0 0 0-23.813953-21.432558l-9.049303 8.573023a142.883721 142.883721 0 0 1 23.099535 22.623256z m-57.391628 0a56.677209 56.677209 0 0 0 28.576744-18.574884 63.345116 63.345116 0 0 0 9.049303-34.530232v-23.813954h-13.335814v23.813954a52.152558 52.152558 0 0 1-7.144186 25.957209 50.96186 50.96186 0 0 1-25.71907 15.24093z m-37.626046 0c7.620465 0 11.668837-4.286512 11.668837-12.621396V238.139535h9.525581a99.066047 99.066047 0 0 1-5.715349 15.717209l11.430698 4.286512a110.020465 110.020465 0 0 0 7.382326-23.813954v-9.525581h-15.955349l-4.762791-5.953488a127.166512 127.166512 0 0 0 17.146047-23.813954v-11.430698h-46.19907v12.859535h31.434419a101.685581 101.685581 0 0 1-10.24 13.812093l-8.573024-9.049302-10.24 6.429767c6.191628 6.191628 11.668837 11.906977 16.431628 17.384186H428.651163V238.139535h17.622325v47.627907c0 2.857674 0 4.286512-3.095814 4.286511a85.492093 85.492093 0 0 1-11.430697 0l2.857674 12.621396z m53.105116-29.529302V219.802791h33.577674v52.628837H547.72093V207.657674h-23.813953c0-3.572093 1.428837-7.144186 1.905116-10.954418h25.71907v-13.097675h-66.67907v13.097675h27.386047c0 3.810233 0 7.382326-1.905117 10.954418h-21.908837v65.012093z" fill="#9CB0CD" ></path><path d="M973.03814 219.802791l3.333953-7.382326a216.468837 216.468837 0 0 0-33.577674-8.573023l-3.572093 6.906046a218.135814 218.135814 0 0 1 33.815814 9.049303z m-6.191628-14.288372l4.286511-6.667907a125.023256 125.023256 0 0 0-18.574883-7.144186l-4.048373 5.953488a98.827907 98.827907 0 0 1 18.336745 8.096744z m-7.382326-25.95721a56.915349 56.915349 0 0 1-9.763721-6.906046h17.860465a32.386977 32.386977 0 0 1-8.096744 7.144186z m-23.813953 16.431628a103.590698 103.590698 0 0 0 23.813953-8.334884 96.446512 96.446512 0 0 0 20.956279 8.096745l4.762791-6.906047a104.781395 104.781395 0 0 1-18.336744-5.715349 32.625116 32.625116 0 0 0 9.525581-10.954418V166.697674h-23.813953l1.666976-3.572093h-8.334883a34.292093 34.292093 0 0 1-15.47907 15.71721l5.00093 6.667907a58.820465 58.820465 0 0 0 7.858605-5.953489 53.819535 53.819535 0 0 0 9.287442 3.810233 102.876279 102.876279 0 0 1-21.194419 5.477209z m51.438139 23.813954H928.744186V160.506047h56.915349zM928.744186 231.471628V228.613953h56.915349v2.857675h9.049302V152.171163h-74.537674v79.300465z m-30.72 0l8.334884-5.953488a300.770233 300.770233 0 0 0-18.574884-31.19628l-6.667907 5.47721c3.095814 5.00093 6.191628 10.00186 8.811163 15.00279-13.812093 1.905116-27.862326 3.572093-41.912558 4.524652a162.649302 162.649302 0 0 0 19.527442-31.910698h42.150697v-9.525581h-81.205581v9.287441H857.302326a97.39907 97.39907 0 0 1-20.71814 31.672559h-2.143256l2.381396 9.525581q31.434419-2.381395 57.867907-5.953488c0.952558 3.810233 2.381395 6.667907 3.810232 9.763721z m2.857674-69.774884v-8.096744h-63.821395v9.049302z m-107.40093 44.532093h-12.383256v-13.573953h12.383256z m8.811163 8.096744V184.55814h-30.005581V214.325581z m-50.247442 14.764652a128.11907 128.11907 0 0 0 16.431628-14.764652l-2.619535-9.763721-6.191628 6.429768V175.508837H738.232558v8.811163h11.906977v31.434419a6.191628 6.191628 0 0 1-2.381395 5.00093z m52.866977-51.67628v-8.811162h-35.006512v8.811162z m2.143256 53.819535c7.382326 0 11.192558-3.572093 11.192558-10.24v-69.060465h-50.485582v8.811163H809.674419v57.391628c0 2.857674-1.428837 4.286512-3.810233 4.286512h-10.00186l2.381395 8.811162z m-47.627907-61.916279l6.429767-6.429767a124.546977 124.546977 0 0 0-14.288372-13.097675l-6.667907 6.429768a81.443721 81.443721 0 0 1 14.288372 13.097674zM624.40186 865.875349h-9.049302v-11.192558h9.049302z m-18.098604 0h-9.049303v-11.192558h9.049303z m-18.098605 0h-8.811163v-11.192558h8.811163z m54.295814 8.334884v-8.334884h-9.049302v-19.765582h-63.106977v19.765582h-8.334884v8.334884z m-38.578605-55.486512h-17.860465v-11.668837h11.668838l-4.048373 4.76279a56.20093 56.20093 0 0 1 10.24 6.667907z m16.193489 0h-12.859535l3.572093-4.524651a65.012093 65.012093 0 0 0-11.192558-7.144186H619.162791z m-45.96093 26.671628a31.910698 31.910698 0 0 0 11.192558-18.336744H595.348837l-4.524651 5.477209a59.296744 59.296744 0 0 1 13.573954 10.24l5.477209-6.667907a77.157209 77.157209 0 0 0-13.573954-9.049302h23.813954V833.488372c0 2.381395 0 3.572093-2.619535 3.572093h-5.953488l2.381395 8.334884H619.162791c6.191628 0 9.287442-2.857674 9.287442-8.334884v-8.811163h10.954418v-8.573023h-10.954418v-20.003721h-24.290233a20.48 20.48 0 0 0 2.143256-4.524651l-9.287442-1.190698a28.338605 28.338605 0 0 1-2.381395 5.715349h-17.622326v20.003721h-12.621395v8.573023h11.668837a23.813953 23.813953 0 0 1-9.049302 11.906977z m-84.301396 30.958139a234.329302 234.329302 0 0 0 29.529303-9.049302l-1.905117-8.573023c-5.953488 2.381395-11.906977 4.524651-17.860465 6.429767v-15.717209a59.773023 59.773023 0 0 0 10.954419-11.430698h1.905116A65.012093 65.012093 0 0 0 547.72093 875.877209l5.00093-8.096744a55.248372 55.248372 0 0 1-19.289302-11.906977 52.152558 52.152558 0 0 0 13.812093-9.763721l-6.429767-6.191627a45.96093 45.96093 0 0 1-12.621396 10.24 59.296744 59.296744 0 0 1-7.382325-12.383256h30.958139v-8.334884h-34.053953v-5.715349h25.957209v-8.573023h-25.957209V809.674419H547.72093v-8.573024h-30.958139v-6.667907h-9.525582v6.667907H476.27907V809.674419h30.958139v5.715348h-24.766511v8.573024h25.957209v5.715349h-34.292093v8.334883H500.093023a71.44186 71.44186 0 0 1-28.814883 16.431628l5.00093 8.096744a125.975814 125.975814 0 0 0 13.812093-6.906046v8.334884c0 2.143256-1.190698 3.572093-3.810233 4.524651z m-78.347907 0a74.537674 74.537674 0 0 0 23.813954-18.098604 83.586977 83.586977 0 0 0 23.813953 18.098604l5.715349-8.334883a82.396279 82.396279 0 0 1-23.813953-17.146047 115.021395 115.021395 0 0 0 17.860465-50.96186l-8.811163-1.905117a107.162791 107.162791 0 0 1-15.47907 45.008372 110.734884 110.734884 0 0 1-17.860465-37.626046l-8.096744 4.524651a130.738605 130.738605 0 0 0 20.24186 40.483721 65.964651 65.964651 0 0 1-23.813953 17.146047z m23.813954-58.582325l7.620465-5.23907a158.124651 158.124651 0 0 0-11.906977-19.289302l-7.144186 5.00093a169.07907 169.07907 0 0 1 10.47814 19.765581z m-33.101396 58.582325v-59.773023a103.114419 103.114419 0 0 0 8.811163-19.289302l-8.811163-4.048372A96.446512 96.446512 0 0 1 381.023256 828.725581l3.095814 10.001861 7.620465-8.573023v46.199069zM107.162791 518.429767a172.651163 172.651163 0 0 0-8.096744-29.767441h-8.811163a175.746977 175.746977 0 0 1 7.620465 30.958139z m1.905116-68.346046c0-5.23907-5.715349-9.049302-17.146047-11.668837l-5.239069 7.858604q11.906977 1.905116 11.906976 4.762791c0 1.905116-1.905116 4.048372-5.477209 6.429768a97.875349 97.875349 0 0 0-16.193488-13.812094l-5.47721 7.382326a80.253023 80.253023 0 0 1 12.621396 10.47814 76.204651 76.204651 0 0 1-10.716279 2.619534H71.44186l-3.572093-23.813953-8.811162 1.428837 3.572093 22.385116h-9.287442l-3.095814-21.908837-8.573023 1.428837 2.857674 20.71814h-17.146046v11.906977H47.627907v11.906977l8.573023-1.428838-0.952558-10.478139h9.525581l2.381396 15.00279 8.811163-1.428837-2.381396-15.00279h5.23907a66.67907 66.67907 0 0 0 11.906977-3.810233 73.108837 73.108837 0 0 1 10.478139 20.956279l7.382326-5.477209a68.346047 68.346047 0 0 0-9.763721-20.003721l1.905116-1.428837a16.907907 16.907907 0 0 0 8.096744-15.002791z m-66.44093 3.810232l-5.00093-7.382325a119.069767 119.069767 0 0 0-10.24 9.763721l4.524651 6.906046a86.206512 86.206512 0 0 1 10.716279-9.287442z m45.96093 63.345117a139.073488 139.073488 0 0 0-6.667907-27.386047H73.823256a135.977674 135.977674 0 0 1 4.524651 16.431628A220.993488 220.993488 0 0 0 47.627907 488.424186l-3.095814 8.334884 9.525581 4.524651v8.573023a152.409302 152.409302 0 0 0-25.48093-12.383256l-3.572093 8.811163a171.460465 171.460465 0 0 1 26.195349 10.47814 9.763721 9.763721 0 0 1 3.333953 3.810232l8.334884-2.143256-1.666977-12.621395a81.205581 81.205581 0 0 1 14.288373 9.525581 15.24093 15.24093 0 0 1 2.619534 4.286512z m20.48 84.301395a47.627907 47.627907 0 0 0-31.672558-12.145116v-8.334884h21.670698V571.534884h-21.432559v-8.096744h-9.049302V571.534884h-14.764651v9.049302h15.002791v8.096744h-15.002791v9.049303h15.002791v9.525581h8.811162v-9.049302a37.864186 37.864186 0 0 1 25.480931 10.24z m0-62.392558c0-5.953488-6.906047-9.763721-20.956279-11.668837l-4.048372 8.096744c10.24 0 15.24093 1.905116 15.47907 4.048372a16.669767 16.669767 0 0 1-10.716279 7.382326 97.16093 97.16093 0 0 0-31.672559-14.764652l-3.810232 8.334884a98.351628 98.351628 0 0 1 23.813953 9.287442 173.365581 173.365581 0 0 1-27.386046 2.619535v-22.385116h-8.811163v7.858604l-4.286512-4.286511a85.253953 85.253953 0 0 0-9.287441 10.954418l5.715348 5.715349a64.059535 64.059535 0 0 1 7.858605-9.049302v11.668837h-13.573953v9.525581h13.573953v45.246512h8.811163v-45.96093h4.524651a125.975814 125.975814 0 0 0 32.625116-5.23907 67.869767 67.869767 0 0 1 15.71721 18.098605l7.382325-5.000931a75.490233 75.490233 0 0 0-13.335814-16.669767c8.096744-5.23907 12.621395-8.573023 13.335814-14.050233z m-7.620465 95.255814v45.008372h-2.857675v-45.008372z m8.096744 45.008372h-2.381395v-45.008372h2.381395v-9.049302h-16.907907v63.106976h17.860465z m-20.956279-50.485581h-4.286512v56.439069h5.23907z m-8.096744 0h-4.048372v56.439069h5.239069zM59.296744 666.790698v1.666976h-9.049302v17.860466L47.627907 685.84186v-21.670697a56.20093 56.20093 0 0 1 9.525581 0 3.095814 3.095814 0 0 1 2.143256 2.619535zM47.627907 636.546977a20.956279 20.956279 0 0 1-8.096744 5.715349v-10.001861a23.813953 23.813953 0 0 1 8.096744 4.286512zM73.823256 619.162791h-6.667907v33.815814l-5.00093 2.143255v4.286512h-1.428838a37.626047 37.626047 0 0 0-13.097674-3.572093l5.715349-4.524651a39.531163 39.531163 0 0 0-4.762791-4.524651 26.433488 26.433488 0 0 0 4.524651-3.810233 37.626047 37.626047 0 0 1 4.524651 12.145116l7.382326-3.333953a42.388837 42.388837 0 0 0-6.667907-15.24093 60.487442 60.487442 0 0 0 6.667907-14.288372l-7.382326-4.286512a59.296744 59.296744 0 0 1-5.00093 12.621395 35.006512 35.006512 0 0 0-13.335814-5.953488V619.162791h-7.382325v19.765581h-3.572093l-1.428838 8.334884a35.95907 35.95907 0 0 1 18.098605 9.049302h-3.333953v27.147907H40.483721v-5.00093h-3.095814v-7.382326h3.095814v-7.620465h-3.095814v-10.00186h-6.667907v10.00186h-3.333953v7.620465h3.333953v7.382326h-3.333953v7.620465h3.333953v9.763721h6.667907v-10.001861h2.143256v4.524652a23.813953 23.813953 0 0 1 12.383256 7.620465l5.953488-5.00093a33.101395 33.101395 0 0 0-4.286512-4.286512h10.47814v-18.813023h2.143256V666.790698v-2.857675l2.381395-1.428837v34.292093h5.23907z" fill="#61799B" ></path><path d="M935.173953 641.071628c0-2.857674 2.143256-5.715349 3.095814-8.573023l6.667907 3.572093v13.097674a29.529302 29.529302 0 0 1-9.763721-8.096744z m-18.336744-20.71814a77.395349 77.395349 0 0 0 9.049303 21.908838 126.928372 126.928372 0 0 1-6.429768 12.383255l7.382326 5.000931c1.666977-3.333953 3.333953-6.667907 5.00093-10.24a31.672558 31.672558 0 0 0 13.573953 8.096744h7.144187v-17.860465l3.810232 1.428837v-8.811163l-3.810232-1.666977V619.162791h-7.858605v8.811162l-10.24-5.715348-4.524651 11.192558a84.777674 84.777674 0 0 1-5.47721-16.669768z m33.815814 58.344186a125.261395 125.261395 0 0 1 23.813954-7.382325h3.572093v10.954418a93.588837 93.588837 0 0 1-27.386047-3.572093z m33.577675-53.343255l2.857674 6.667907a73.585116 73.585116 0 0 0 10.716279-5.000931l-2.381395-7.144186a89.064186 89.064186 0 0 1-11.430698 5.47721z m0 26.433488a59.773023 59.773023 0 0 0 10.954418 6.667907l3.095814-6.429767a53.581395 53.581395 0 0 1-10.716279-6.667907z m-27.386047-30.72a43.817674 43.817674 0 0 0 15.955349 14.050233h-14.050233V642.976744h9.287442l-6.906046 9.287442 7.382325 4.762791q3.572093-7.144186 6.429768-14.050233v15.002791h8.096744V642.976744h16.193488v-8.573023h-16.193488V619.162791h-8.096744v10.478139a37.387907 37.387907 0 0 1-10.716279-12.621395z m-40.007442 72.870698l7.620465 5.239069a52.390698 52.390698 0 0 1 16.669768-15.24093A95.255814 95.255814 0 0 0 976.372093 690.604651v5.00093h9.049302v-22.146976l10.954419 1.666976L1000.186047 666.790698a115.259535 115.259535 0 0 1-39.293024-9.763721l-7.144186 5.715349 8.096744 4.286511a127.166512 127.166512 0 0 0-19.765581 7.382326 47.627907 47.627907 0 0 1-16.669767-15.47907l-7.858605 4.762791a62.392558 62.392558 0 0 0 15.955349 15.479069 59.058605 59.058605 0 0 0-16.907907 14.764652z m0-148.59907a75.252093 75.252093 0 0 0 30.481861 53.581395l3.810232-8.096744a72.870698 72.870698 0 0 1-27.147907-50.723721z m13.812093 0a69.774884 69.774884 0 0 0 22.146977 40.007442l4.762791-7.144186a60.011163 60.011163 0 0 1-19.765582-37.864186z m12.145117 0a60.725581 60.725581 0 0 0 17.860465 27.862325l4.286511-7.144186a53.581395 53.581395 0 0 1-15.00279-23.813953z m5.00093-15.47907a80.253023 80.253023 0 0 0 18.336744 30.72v15.47907a60.725581 60.725581 0 0 0-18.098605 27.862325l8.334884 4.048373a59.773023 59.773023 0 0 1 9.525581-21.670698v19.765581h8.334884v-37.626046l5.715349 2.857674v18.336744l-5.23907 5.23907 5.23907 7.620465a171.936744 171.936744 0 0 0 16.907907-20.003721l-4.524651-7.144186-5.00093 5.953489c0-8.811163 0-17.860465-1.428838-26.909768a121.689302 121.689302 0 0 0 10.954419 13.097675l3.095814-9.049303a47.627907 47.627907 0 0 1-14.050233-21.432558l-8.096744 1.428837v23.813954a35.482791 35.482791 0 0 1-5.23907-3.095814v-30.243721h-8.334883v20.956279a72.632558 72.632558 0 0 1-10.001861-23.813953z m-30.005582-16.431628l8.811163 5.47721a50.485581 50.485581 0 0 1 23.813954-32.863256v30.72h9.049302v-33.815814a90.254884 90.254884 0 0 0 11.668837 1.190697h2.143256v28.814884h9.049302v-16.431628a79.776744 79.776744 0 0 0 15.240931 6.906047l2.381395-9.049303a86.206512 86.206512 0 0 1-17.622326-8.334883v-17.622326l2.619535 5.23907a170.746047 170.746047 0 0 0 14.526512-9.525582l-4.048372-8.573023a106.924651 106.924651 0 0 1-13.097675 8.811163v-18.574884h-9.049302v28.814884h-2.143256a76.442791 76.442791 0 0 1-11.668837-1.428837v-32.148837h-9.049302v29.767441a42.388837 42.388837 0 0 1-7.382326-3.810232 53.581395 53.581395 0 0 1-16.669767-27.624186l-8.096744 5.00093a57.153488 57.153488 0 0 0 18.336744 29.529302 56.20093 56.20093 0 0 0 10.24 5.715349 60.249302 60.249302 0 0 0-30.243721 35.244651z m13.573954-95.255814v-24.290232h12.621395v25.48093z m21.194419 0v-24.290232h13.097674v25.48093z m21.670697 0v-24.290232h12.621396v25.48093z m-56.43907-25.48093h5.000931v25.48093h-5.000931V428.651163h77.633489v-43.579535h-78.824186z m0-22.385116h43.103256l-10.00186 6.667907 7.382325 5.00093c4.524651-3.810233 8.811163-7.620465 12.859535-11.668837h3.572093V381.023256h8.811163v-9.525582h16.431628v-9.049302h-16.431628v-11.430698h-8.811163v11.192559a75.728372 75.728372 0 0 1-26.433488-13.335814l-9.287442 3.572093a107.63907 107.63907 0 0 0 18.813023 9.763721h-41.198139z" fill="#9CB0CD" ></path></symbol><symbol id="icon-cem_relationship" viewBox="0 0 1024 1024"><path d="M870.4 102.4h-102.4v102.4h102.4z m0 358.4h-102.4v102.4h102.4zM256 460.8H153.6v102.4h102.4z m614.4 358.4h-102.4v102.4h102.4z m-307.2 102.4a102.4 102.4 0 0 1-102.4-94.72V563.2H358.4v7.68A102.4 102.4 0 0 1 256 665.6H153.6a102.4 102.4 0 0 1-102.4-102.4V460.8a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4h102.4V204.8a102.4 102.4 0 0 1 94.72-102.4H665.6a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4h-102.4v256h102.4a102.4 102.4 0 0 1 94.72-102.4H870.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4h-102.4v256h102.4a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_relationship-color" viewBox="0 0 1024 1024"><path d="M870.4 102.4h-102.4v102.4h102.4z m0 358.4h-102.4v102.4h102.4zM256 460.8H153.6v102.4h102.4z m614.4 358.4h-102.4v102.4h102.4z m-307.2 102.4a102.4 102.4 0 0 1-102.4-94.72V563.2H358.4v7.68A102.4 102.4 0 0 1 256 665.6H153.6a102.4 102.4 0 0 1-102.4-102.4V460.8a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4h102.4V204.8a102.4 102.4 0 0 1 94.72-102.4H665.6a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4h-102.4v256h102.4a102.4 102.4 0 0 1 94.72-102.4H870.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4h-102.4v256h102.4a102.4 102.4 0 0 1 102.4-102.4h102.4a102.4 102.4 0 0 1 102.4 102.4v102.4a102.4 102.4 0 0 1-102.4 102.4h-102.4a102.4 102.4 0 0 1-102.4-102.4z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_dendrogram" viewBox="0 0 1024 1024"><path d="M870.4 153.6a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2zM153.6 460.8a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2z m409.6-51.2a102.4 102.4 0 1 0 102.4 102.4 102.4 102.4 0 0 0-102.4-102.4z m307.2 358.4a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2z m0-716.8a153.6 153.6 0 1 1-62.464 293.888L741.888 409.6a204.8 204.8 0 0 1 0 200.704l5.12 4.608 61.952 61.44a153.6 153.6 0 1 1-74.752 70.144l-56.832-56.832-6.656-5.632a204.8 204.8 0 0 1-307.2-122.88H298.496a153.6 153.6 0 1 1 0-102.4h66.56a204.8 204.8 0 0 1 307.2-123.392l62.976-62.976A153.6 153.6 0 0 1 870.4 51.2z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_dendrogram-color" viewBox="0 0 1024 1024"><path d="M870.4 153.6a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2zM153.6 460.8a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2z m409.6-51.2a102.4 102.4 0 1 0 102.4 102.4 102.4 102.4 0 0 0-102.4-102.4z m307.2 358.4a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2z m0-716.8a153.6 153.6 0 1 1-62.464 293.888L741.888 409.6a204.8 204.8 0 0 1 0 200.704l5.12 4.608 61.952 61.44a153.6 153.6 0 1 1-74.752 70.144l-56.832-56.832-6.656-5.632a204.8 204.8 0 0 1-307.2-122.88H298.496a153.6 153.6 0 1 1 0-102.4h66.56a204.8 204.8 0 0 1 307.2-123.392l62.976-62.976A153.6 153.6 0 0 1 870.4 51.2z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_cumulate-colour-new" viewBox="0 0 1024 1024"><path d="M189.952 298.496c204.8 187.392 394.24 282.112 563.2 287.744H768v102.4c-197.12 0-406.528-99.84-628.736-296.448l-20.48-17.92z" fill="#8C8C8C" ></path><path d="M768 327.68v102.4c-138.752 0-327.168 88.064-563.2 265.728l-20.992 15.872-59.392-80.896c256-195.584 460.8-297.472 631.296-303.104z" fill="#8C8C8C" ></path><path d="M204.8 182.784v614.4h565.248v-614.4h102.4v716.8H102.4v-716.8h102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_cumulate-twocolour-new" viewBox="0 0 1024 1024"><path d="M189.952 298.496c204.8 187.392 394.24 282.112 563.2 287.744H768v102.4c-197.12 0-406.528-99.84-628.736-296.448l-20.48-17.92z" fill="#0847A6" ></path><path d="M768 327.68v102.4c-138.752 0-327.168 88.064-563.2 265.728l-20.992 15.872-59.392-80.896c256-195.584 460.8-297.472 631.296-303.104z" fill="#0847A6" ></path><path d="M204.8 182.784v614.4h565.248v-614.4h102.4v716.8H102.4v-716.8h102.4z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_broken-line-color" viewBox="0 0 1024 1024"><path d="M849.92 164.864l51.2 87.552-267.776 164.352a102.4 102.4 0 0 1-90.624 7.68l-8.192-3.584-153.6-77.312-224.256 138.752L102.4 395.264 324.096 256a102.4 102.4 0 0 1 91.648-8.704l8.192 3.584 153.6 77.312zM849.92 497.664l51.2 87.552-269.824 164.352a102.4 102.4 0 0 1-90.624 7.68l-8.192-3.584-153.6-77.312-221.696 138.24L102.4 728.064l221.696-138.24a102.4 102.4 0 0 1 91.648-8.704l8.192 3.584 153.6 77.312z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_broken-line" viewBox="0 0 1024 1024"><path d="M849.92 164.864l51.2 87.552-267.776 164.352a102.4 102.4 0 0 1-90.624 7.68l-8.192-3.584-153.6-77.312-224.256 138.752L102.4 395.264 324.096 256a102.4 102.4 0 0 1 91.648-8.704l8.192 3.584 153.6 77.312zM849.92 497.664l51.2 87.552-269.824 164.352a102.4 102.4 0 0 1-90.624 7.68l-8.192-3.584-153.6-77.312-221.696 138.24L102.4 728.064l221.696-138.24a102.4 102.4 0 0 1 91.648-8.704l8.192 3.584 153.6 77.312z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_hate" viewBox="0 0 1024 1024"><path d="M214.869532 627.56175h118.931475v-396.43825h-118.931475a45.590399 45.590399 0 0 0-39.643825 49.554781v297.328688a45.590399 45.590399 0 0 0 39.643825 49.554781z m69.376693-346.883469v297.328688h-59.465737v-297.328688zM426.171119 581.971351V281.867596H673.945025a52.329849 52.329849 0 0 1 51.140534 39.643825l70.169571 269.57801h-277.506775l49.951219 146.682152h-74.926829z m203.372822 57.483546h167.296942a51.536973 51.536973 0 0 0 52.726287-50.347657 48.365467 48.365467 0 0 0 0-12.289586L777.01897 307.636082A104.659698 104.659698 0 0 0 673.945025 231.1235H373.444832v396.43825l84.044909 158.5753h111.399148a51.536973 51.536973 0 0 0 52.726287-50.347658 48.365467 48.365467 0 0 0-2.775068-15.85753l-10.307394-29.732869-5.153697-16.253968-11.893148-34.886566z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_hate-full" viewBox="0 0 1024 1024"><path d="M175.225707 280.678281v297.328688a45.590399 45.590399 0 0 0 39.643825 49.554781h118.931475v-396.43825h-118.931475a45.590399 45.590399 0 0 0-39.643825 49.554781zM847.584979 577.214092l-70.566009-269.57801A104.659698 104.659698 0 0 0 673.945025 231.1235H373.444832v396.43825l84.044909 158.5753h111.399148a51.536973 51.536973 0 0 0 52.726287-50.347658 48.365467 48.365467 0 0 0-2.775068-15.85753l-10.307394-29.732869-5.153697-16.253968-11.893148-34.886566h204.958575a51.536973 51.536973 0 0 0 52.726288-50.347658 48.365467 48.365467 0 0 0-1.585753-11.496709z" fill="#d96969" ></path></symbol><symbol id="icon-cem_division" viewBox="0 0 1024 1024"><path d="M358.4 102.4h102.4v307.2H358.4z" fill="#BFBFBF" ></path><path d="M358.4 460.8h102.4v460.8H358.4z" fill="#8C8C8C" ></path><path d="M153.6 563.2h102.4v102.4H153.6z" fill="#BFBFBF" ></path><path d="M153.6 716.8h102.4v204.8H153.6z" fill="#8C8C8C" ></path><path d="M563.2 358.4h102.4v204.8h-102.4z" fill="#BFBFBF" ></path><path d="M563.2 614.4h102.4v307.2h-102.4z" fill="#8C8C8C" ></path><path d="M768 665.6h102.4v102.4h-102.4z" fill="#BFBFBF" ></path><path d="M768 819.2h102.4v102.4h-102.4z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_division-colour" viewBox="0 0 1024 1024"><path d="M358.4 102.4h102.4v307.2H358.4z" fill="#6B91CA" ></path><path d="M358.4 460.8h102.4v460.8H358.4z" fill="#0847A6" ></path><path d="M153.6 563.2h102.4v102.4H153.6z" fill="#6B91CA" ></path><path d="M153.6 716.8h102.4v204.8H153.6z" fill="#0847A6" ></path><path d="M563.2 358.4h102.4v204.8h-102.4z" fill="#6B91CA" ></path><path d="M563.2 614.4h102.4v307.2h-102.4z" fill="#0847A6" ></path><path d="M768 665.6h102.4v102.4h-102.4z" fill="#6B91CA" ></path><path d="M768 819.2h102.4v102.4h-102.4z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_area" viewBox="0 0 1024 1024"><path d="M358.4 256H204.8v102.4h153.6z m102.4-102.4v307.2H102.4V153.6z m307.2 102.4h-153.6v256h153.6z m102.4-102.4v460.8h-358.4V153.6z m-102.4 614.4h-153.6v51.2h153.6z m-409.6-153.6H204.8v204.8h153.6z m512 51.2v256h-358.4v-256z m-409.6-153.6v409.6H102.4v-409.6z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_form-new" viewBox="0 0 1024 1024"><path d="M768 256H204.8v102.4h563.2z m0 204.8h-102.4v102.4h102.4z m-204.8 0H409.6v102.4h153.6zM307.2 460.8H204.8v102.4h102.4z m460.8 204.8h-102.4v153.6h102.4z m-204.8 0H409.6v153.6h153.6z m-256 0H204.8v153.6h102.4z m-204.8 256V153.6h768v768z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_cumulate-col" viewBox="0 0 1024 1024"><path d="M398.848 259.072c-70.656 0-135.168 51.2-194.048 169.984v116.224c66.048-75.264 129.024-114.176 193.024-114.176a140.288 140.288 0 0 1 25.088 0A198.656 198.656 0 0 1 496.128 460.8l37.888 21.504c88.576 48.64 139.776 44.032 233.984-56.32V280.064v-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-33.28z m0 274.432c-47.104 0-117.248 63.488-201.216 197.12L204.8 716.8v87.552h563.2V563.2c-99.328 72.704-186.88 64-293.376 3.072l-30.72-17.408a241.152 241.152 0 0 0-24.064-11.776H404.992z m472.064-256v629.76H102.4v-501.76l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.048-9.216 87.04 40.448 90.112 137.728z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_area-col" viewBox="0 0 1024 1024"><path d="M358.4 256H204.8v102.4h153.6z m102.4-102.4v307.2H102.4V153.6z m307.2 102.4h-153.6v256h153.6z m102.4-102.4v460.8h-358.4V153.6z m-102.4 614.4h-153.6v51.2h153.6z m-409.6-153.6H204.8v204.8h153.6z m512 51.2v256h-358.4v-256z m-409.6-153.6v409.6H102.4v-409.6z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_histogram-col" viewBox="0 0 1024 1024"><path d="M870.4 665.6v256h-102.4v-256z m-204.8-307.2v563.2h-102.4V358.4z m-409.6 204.8v358.4H153.6v-358.4z m204.8-460.8v819.2H358.4V102.4z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_bar-chart-col" viewBox="0 0 1024 1024"><path d="M102.4 768h358.4v102.4H102.4zM102.4 563.2h512v102.4H102.4zM102.4 358.4h665.6v102.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_cumulate-alone-col" viewBox="0 0 1024 1024"><path d="M768 300.544v-20.48-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-32.768c-70.656 0-135.168 51.2-194.048 169.984v376.32h563.2z m102.4 607.232H102.4V405.504l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.56-9.216 87.552 40.448 90.112 137.728v629.76z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_form-new-col" viewBox="0 0 1024 1024"><path d="M768 256H204.8v102.4h563.2z m0 204.8h-102.4v102.4h102.4z m-204.8 0H409.6v102.4h153.6zM307.2 460.8H204.8v102.4h102.4z m460.8 204.8h-102.4v153.6h102.4z m-204.8 0H409.6v153.6h153.6z m-256 0H204.8v153.6h102.4z m-204.8 256V153.6h768v768z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_histogram-gray" viewBox="0 0 1024 1024"><path d="M358.4 102.4h102.4v819.2H358.4z" fill="#BFBFBF" ></path><path d="M153.6 563.2h102.4v358.4H153.6zM563.2 358.4h102.4v563.2h-102.4z" fill="#8C8C8C" ></path><path d="M768 665.6h102.4v256h-102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_bar-chart" viewBox="0 0 1024 1024"><path d="M102.4 768h358.4v102.4H102.4zM102.4 563.2h512v102.4H102.4zM102.4 358.4h665.6v102.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_histogram-colour" viewBox="0 0 1024 1024"><path d="M358.4 102.4h102.4v819.2H358.4z" fill="#6B91CA" ></path><path d="M153.6 563.2h102.4v358.4H153.6zM563.2 358.4h102.4v563.2h-102.4z" fill="#0847A6" ></path><path d="M768 665.6h102.4v256h-102.4z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_cumulate-twocolour" viewBox="0 0 1024 1024"><path d="M197.12 730.624c83.968-133.632 153.6-197.12 201.216-197.12H419.84a241.152 241.152 0 0 1 24.064 11.776l30.72 17.408c94.72 53.76 173.568 67.072 259.584 18.944a501.76 501.76 0 0 0 122.88-102.4l-75.776-66.048c-102.4 114.176-153.6 121.344-247.296 70.656L496.128 460.8a198.656 198.656 0 0 0-73.216-29.184 140.288 140.288 0 0 0-25.088 0c-93.696 0-186.368 83.968-287.744 245.248z" fill="#0847A6" ></path><path d="M768 300.544v-20.48-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-32.768c-70.656 0-135.168 51.2-194.048 169.984v376.32h563.2z m102.4 607.232H102.4V405.504l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.56-9.216 87.552 40.448 90.112 137.728v629.76z" fill="#6B91CA" ></path></symbol><symbol id="icon-cem_bar-type-colour" viewBox="0 0 1024 1024"><path d="M102.4 768h358.4v102.4H102.4z" fill="#6B91CA" ></path><path d="M102.4 563.2h512v102.4H102.4z" fill="#0847A6" ></path><path d="M102.4 358.4h665.6v102.4H102.4z" fill="#6B91CA" ></path><path d="M102.4 153.6h819.2v102.4H102.4z" fill="#0847A6" ></path></symbol><symbol id="icon-cem_histogram" viewBox="0 0 1024 1024"><path d="M870.4 665.6v256h-102.4v-256z m-204.8-307.2v563.2h-102.4V358.4z m-409.6 204.8v358.4H153.6v-358.4z m204.8-460.8v819.2H358.4V102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_cumulate-colour" viewBox="0 0 1024 1024"><path d="M197.12 730.624c83.968-133.632 153.6-197.12 201.216-197.12H419.84a241.152 241.152 0 0 1 24.064 11.776l30.72 17.408C614.4 646.144 716.8 637.952 857.088 481.792l-75.776-68.608c-102.4 114.176-153.6 121.344-247.296 70.656L496.128 460.8a198.656 198.656 0 0 0-73.216-29.184 140.288 140.288 0 0 0-25.088 0c-93.696 0-186.368 83.968-287.744 245.248z" fill="#8C8C8C" ></path><path d="M768 300.544v-20.48-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-32.768c-70.656 0-135.168 51.2-194.048 169.984v376.32h563.2z m102.4 607.232H102.4V405.504l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.56-9.216 87.552 40.448 90.112 137.728v629.76z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_cumulate" viewBox="0 0 1024 1024"><path d="M398.848 259.072c-70.656 0-135.168 51.2-194.048 169.984v116.224c66.048-75.264 129.024-114.176 193.024-114.176a140.288 140.288 0 0 1 25.088 0A198.656 198.656 0 0 1 496.128 460.8l37.888 21.504c88.576 48.64 139.776 44.032 233.984-56.32V280.064v-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-33.28z m0 274.432c-47.104 0-117.248 63.488-201.216 197.12L204.8 716.8v87.552h563.2V563.2c-99.328 72.704-186.88 64-293.376 3.072l-30.72-17.408a241.152 241.152 0 0 0-24.064-11.776H404.992z m472.064-256v629.76H102.4v-501.76l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.048-9.216 87.04 40.448 90.112 137.728z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_bar-type" viewBox="0 0 1024 1024"><path d="M102.4 768h358.4v102.4H102.4z" fill="#BFBFBF" ></path><path d="M102.4 563.2h512v102.4H102.4z" fill="#8C8C8C" ></path><path d="M102.4 358.4h665.6v102.4H102.4z" fill="#BFBFBF" ></path><path d="M102.4 153.6h819.2v102.4H102.4z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_cumulate-alone" viewBox="0 0 1024 1024"><path d="M768 300.544v-20.48-9.216l-11.264 11.776-29.184 30.208a318.976 318.976 0 0 1-46.592 39.424 128 128 0 0 1-182.272-31.744l-22.016-28.16a82.944 82.944 0 0 0-77.824-32.768c-70.656 0-135.168 51.2-194.048 169.984v376.32h563.2z m102.4 607.232H102.4V405.504l5.12-10.752c75.776-153.6 172.544-238.08 291.328-238.08a182.272 182.272 0 0 1 156.16 69.632l8.192 9.216 15.36 20.48c12.288 15.872 17.408 18.432 30.72 18.432a40.448 40.448 0 0 0 14.848-7.168 314.368 314.368 0 0 0 48.128-44.032l28.672-30.208 11.264-11.264 5.12-5.12a114.688 114.688 0 0 1 62.976-35.84c66.56-9.216 87.552 40.448 90.112 137.728v629.76z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_new-more-sel" viewBox="0 0 1024 1024"><path d="M435.2 742.4h153.6v153.6h-102.4a51.2 51.2 0 0 1-51.2-51.2z m0-153.6v-153.6h153.6v153.6z m153.6-460.8v153.6h-153.6v-102.4a51.2 51.2 0 0 1 51.2-51.2z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_new-more" viewBox="0 0 1024 1024"><path d="M435.2 742.4h153.6v153.6h-102.4a51.2 51.2 0 0 1-51.2-51.2z m0-153.6v-153.6h153.6v153.6z m153.6-460.8v153.6h-153.6v-102.4a51.2 51.2 0 0 1 51.2-51.2z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_more-two" viewBox="0 0 1024 1024"><path d="M512 726.528a204.8 204.8 0 1 1 204.8-204.8 204.8 204.8 0 0 1-204.8 204.8z m0-102.4a102.4 102.4 0 1 0-102.4-102.4 102.4 102.4 0 0 0 102.4 102.4zM200.192 174.08a460.8 460.8 0 0 1 177.664-102.4l39.936-12.288 24.064 34.304a86.016 86.016 0 0 0 140.288 0l24.064-34.304 39.936 12.288a460.8 460.8 0 0 1 177.664 102.4l30.208 27.648-16.384 37.888A86.016 86.016 0 0 0 909.312 358.4l40.96 3.584 10.24 39.936a465.408 465.408 0 0 1 0 217.088l-9.728 41.472-42.496 3.072a86.016 86.016 0 0 0-71.168 122.368l18.432 38.4-31.232 28.672a460.8 460.8 0 0 1-184.32 102.4l-37.888 10.752-24.064-31.232a86.016 86.016 0 0 0-135.68 0l-24.064 31.232-37.888-10.752a460.8 460.8 0 0 1-184.32-102.4l-31.232-28.672 18.432-38.4A86.016 86.016 0 0 0 114.176 665.6l-42.496-3.072-9.728-41.472a465.408 465.408 0 0 1 0-217.088l10.24-39.936 42.496-5.632a86.016 86.016 0 0 0 71.68-119.808l-16.384-37.888z m95.744 99.84a188.416 188.416 0 0 1-138.752 181.248 364.544 364.544 0 0 0 0 112.64 188.416 188.416 0 0 1 133.632 229.888 358.4 358.4 0 0 0 95.744 54.272 188.416 188.416 0 0 1 252.928 0 358.4 358.4 0 0 0 95.744-54.272 188.416 188.416 0 0 1 133.632-229.888 364.544 364.544 0 0 0 0-112.64 188.416 188.416 0 0 1-133.632-224.256 358.4 358.4 0 0 0-89.6-51.2 188.416 188.416 0 0 1-262.656 0 358.4 358.4 0 0 0-89.6 51.2 188.928 188.928 0 0 1 2.56 43.008z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_line-chart" viewBox="0 0 1024 1024"><path d="M624.64 955.904l173.568-404.992H921.6v-102.4h-190.976l-99.84 231.936L399.872 61.44l-153.6 387.072H102.4v102.4h213.504l80.896-204.288 227.84 609.28z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_line-chart-color" viewBox="0 0 1024 1024"><path d="M624.64 955.904l173.568-404.992H921.6v-102.4h-190.976l-99.84 231.936L399.872 61.44l-153.6 387.072H102.4v102.4h213.504l80.896-204.288 227.84 609.28z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_chart-setting" viewBox="0 0 1024 1024"><path d="M512 726.528a204.8 204.8 0 1 1 204.8-204.8 204.8 204.8 0 0 1-204.8 204.8z m0-102.4a102.4 102.4 0 1 0-102.4-102.4 102.4 102.4 0 0 0 102.4 102.4zM200.192 174.08a460.8 460.8 0 0 1 177.664-102.4l39.936-12.288 24.064 34.304a86.016 86.016 0 0 0 140.288 0l24.064-34.304 39.936 12.288a460.8 460.8 0 0 1 177.664 102.4l30.208 27.648-16.384 37.888A86.016 86.016 0 0 0 909.312 358.4l40.96 3.584 10.24 39.936a465.408 465.408 0 0 1 0 217.088l-9.728 41.472-42.496 3.072a86.016 86.016 0 0 0-71.168 122.368l18.432 38.4-31.232 28.672a460.8 460.8 0 0 1-184.32 102.4l-37.888 10.752-24.064-31.232a86.016 86.016 0 0 0-135.68 0l-24.064 31.232-37.888-10.752a460.8 460.8 0 0 1-184.32-102.4l-31.232-28.672 18.432-38.4A86.016 86.016 0 0 0 114.176 665.6l-42.496-3.072-9.728-41.472a465.408 465.408 0 0 1 0-217.088l10.24-39.936 42.496-5.632a86.016 86.016 0 0 0 71.68-119.808l-16.384-37.888z m95.744 99.84a188.416 188.416 0 0 1-138.752 181.248 364.544 364.544 0 0 0 0 112.64 188.416 188.416 0 0 1 133.632 229.888 358.4 358.4 0 0 0 95.744 54.272 188.416 188.416 0 0 1 252.928 0 358.4 358.4 0 0 0 95.744-54.272 188.416 188.416 0 0 1 133.632-229.888 364.544 364.544 0 0 0 0-112.64 188.416 188.416 0 0 1-133.632-224.256 358.4 358.4 0 0 0-89.6-51.2 188.416 188.416 0 0 1-262.656 0 358.4 358.4 0 0 0-89.6 51.2 188.928 188.928 0 0 1 2.56 43.008z" fill="#A6CAE2" ></path><path d="M512 728.064a204.8 204.8 0 1 1 204.8-204.8 204.8 204.8 0 0 1-204.8 204.8z m0-307.2a102.4 102.4 0 1 0 102.4 102.4 102.4 102.4 0 0 0-102.4-103.936z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_radar" viewBox="0 0 1024 1024"><path d="M186.368 324.096v376.32L512 888.32l325.632-187.904V324.096L512 135.68zM512 17.92l428.032 247.296v494.08L512 1006.08l-428.032-246.784V264.704z" fill="#A6CAE2" ></path><path d="M570.368 291.84l-194.048 49.152-71.168 199.68 215.04 211.968 194.56-279.04-144.384-181.76z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_radar-gray" viewBox="0 0 1024 1024"><path d="M186.368 324.096v376.32L512 888.32l325.632-187.904V324.096L512 135.68zM512 17.92l428.032 247.296v494.08L512 1006.08l-428.032-246.784V264.704z" fill="#BFBFBF" ></path><path d="M570.368 291.84l-194.048 49.152-71.168 199.68 215.04 211.968 194.56-279.04-144.384-181.76z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_multi-graph-withcolor1" viewBox="0 0 1024 1024"><path d="M460.8 134.144h102.4v755.712H460.8zM206.848 651.776h149.504v149.504H206.848zM207.36 223.232h148.48v148.48h-148.48zM668.16 223.232h148.48v148.48h-148.48zM667.648 651.776h149.504v149.504h-149.504z" fill="#BFBFBF" ></path><path d="M102.4 460.8h819.2v102.4H102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_multi-graph" viewBox="0 0 1024 1024"><path d="M460.8 134.144h102.4v755.712H460.8z" fill="#D96969" ></path><path d="M206.848 651.776h149.504v149.504H206.848z" fill="#15B374" ></path><path d="M207.36 223.232h148.48v148.48h-148.48z" fill="#D96969" ></path><path d="M668.16 223.232h148.48v148.48h-148.48z" fill="#15B374" ></path><path d="M667.648 651.776h149.504v149.504h-149.504z" fill="#D96969" ></path><path d="M102.4 460.8h819.2v102.4H102.4z" fill="#15B374" ></path></symbol><symbol id="icon-cem_user-voice1" viewBox="0 0 1024 1024"><path d="M859.993918 837.936138H150.511911l328.271667-320.227066L151.030917 198.001014h708.963001v51.900659H278.447035l274.813989 267.807399-275.073492 268.326407h581.806386v51.900659z" fill="#15B374" ></path><path d="M808.093259 198.001014h51.900659v159.854029h-51.900659zM808.093259 678.082108h51.900659v159.85403h-51.900659z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_twocolor-separat" viewBox="0 0 1024 1024"><path d="M206.336 768h204.8v102.4h-204.8zM103.936 358.4h307.2v102.4h-307.2zM103.936 563.2h307.2v102.4h-307.2z" fill="#8C8C8C" ></path><path d="M462.336 768h307.2v102.4h-307.2zM462.336 460.8V358.4h460.8v102.4h-460.8zM462.336 563.2h460.8v102.4h-460.8z" fill="#BFBFBF" ></path><path d="M206.336 153.6h204.8v102.4h-204.8z" fill="#8C8C8C" ></path><path d="M462.336 153.6h307.2v102.4h-307.2z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_green-front-with" viewBox="0 0 1024 1024"><path d="M102.4 563.2h460.8v102.4H102.4zM102.4 768h307.2v102.4H102.4zM102.4 358.4v102.4h614.4V358.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#15B374" ></path></symbol><symbol id="icon-cem_red-negative-noc" viewBox="0 0 1024 1024"><path d="M102.4 563.2h460.8v102.4H102.4zM102.4 768h307.2v102.4H102.4zM102.4 358.4v102.4h614.4V358.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_doublecolor-upan" viewBox="0 0 1024 1024"><path d="M102.4 153.6h819.2v102.4H102.4zM102.4 563.2h716.8v102.4H102.4z" fill="#BFBFBF" ></path><path d="M102.4 768h409.6v102.4H102.4zM102.4 358.4h512v102.4H102.4z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_twocolor-oneway-" viewBox="0 0 1024 1024"><path d="M102.4 768h153.6v102.4H102.4zM102.4 153.6h153.6v102.4H102.4zM102.4 358.4h256v102.4H102.4zM102.4 563.2h256v102.4H102.4z" fill="#8C8C8C" ></path><path d="M307.2 768h409.6v102.4H307.2zM307.2 153.6h409.6v102.4H307.2zM409.6 460.8V358.4h512v102.4H409.6zM409.6 563.2h512v102.4H409.6z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_red-negative-wit" viewBox="0 0 1024 1024"><path d="M102.4 563.2h460.8v102.4H102.4zM102.4 768h307.2v102.4H102.4zM102.4 358.4v102.4h614.4V358.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#D96969" ></path></symbol><symbol id="icon-cem_twocolor-separat1" viewBox="0 0 1024 1024"><path d="M206.336 768h204.8v102.4h-204.8zM103.936 358.4h307.2v102.4h-307.2zM103.936 563.2h307.2v102.4h-307.2z" fill="#D96969" ></path><path d="M462.336 768h307.2v102.4h-307.2zM462.336 460.8V358.4h460.8v102.4h-460.8zM462.336 563.2h460.8v102.4h-460.8z" fill="#15B374" ></path><path d="M206.336 153.6h204.8v102.4h-204.8z" fill="#D96969" ></path><path d="M462.336 153.6h307.2v102.4h-307.2z" fill="#15B374" ></path></symbol><symbol id="icon-cem_twocolor-oneway-1" viewBox="0 0 1024 1024"><path d="M102.4 768h153.6v102.4H102.4zM102.4 153.6h153.6v102.4H102.4zM102.4 358.4h256v102.4H102.4zM102.4 563.2h256v102.4H102.4z" fill="#D96969" ></path><path d="M307.2 768h409.6v102.4H307.2zM307.2 153.6h409.6v102.4H307.2zM409.6 460.8V358.4h512v102.4H409.6zM409.6 563.2h512v102.4H409.6z" fill="#15B374" ></path></symbol><symbol id="icon-cem_doublecolor-upan1" viewBox="0 0 1024 1024"><path d="M102.4 153.6h819.2v102.4H102.4zM102.4 563.2h716.8v102.4H102.4z" fill="#15B374" ></path><path d="M102.4 768h409.6v102.4H102.4zM102.4 358.4h512v102.4H102.4z" fill="#D96969" ></path></symbol><symbol id="icon-cem_red-negative-dee" viewBox="0 0 1024 1024"><path d="M102.4 563.2h460.8v102.4H102.4zM102.4 768h307.2v102.4H102.4zM102.4 358.4v102.4h614.4V358.4H102.4zM102.4 153.6h819.2v102.4H102.4z" fill="#8C8C8C" ></path></symbol><symbol id="icon-cem_geometry" viewBox="0 0 1024 1024"><path d="M271.440446 847.53776l-228.881906-130.789661 25.690826-44.89407 177.759757 101.465789 219.799291-533.798277h515.892549v51.900659H500.581855l-229.141409 556.11556z" fill="#15B374" ></path><path d="M618.396351 845.98074h-51.900659V447.124176h311.403953V845.98074h-51.900659V499.024835h-207.602635V845.98074z" fill="#1574B3" ></path></symbol><symbol id="icon-cem_total-proportion" viewBox="0 0 1024 1024"><path d="M304.397364 758.52813h155.701977v51.900659h-155.701977zM200.596047 576.875824h259.503294v51.900659h-259.503294zM122.745058 395.223517h337.354283v51.900659h-337.354283z" fill="#15B374" ></path><path d="M44.89407 213.571211h415.205271v51.900659h-415.205271z" fill="#1574B3" ></path><path d="M563.900659 213.571211h415.205271v51.900659h-415.205271zM563.900659 395.223517h337.354283v51.900659h-337.354283zM563.900659 576.875824h259.503294v51.900659h-259.503294zM563.900659 758.52813h155.701977v51.900659h-155.701977z" fill="#15B374" ></path></symbol><symbol id="icon-cem_index" viewBox="0 0 1024 1024"><path d="M304.397364 758.52813h155.701977v51.900659h-155.701977zM200.596047 576.875824h259.503294v51.900659h-259.503294zM122.745058 395.223517h337.354283v51.900659h-337.354283z" fill="#BFBFBF" ></path><path d="M44.89407 213.571211h415.205271v51.900659h-415.205271z" fill="#1574B3" ></path><path d="M563.900659 213.571211h415.205271v51.900659h-415.205271z" fill="#15B374" ></path><path d="M563.900659 395.223517h337.354283v51.900659h-337.354283zM563.900659 576.875824h259.503294v51.900659h-259.503294zM563.900659 758.52813h155.701977v51.900659h-155.701977z" fill="#BFBFBF" ></path></symbol><symbol id="icon-cem_special-emotions" viewBox="0 0 1024 1024"><path d="M304.397364 758.52813h155.701977v51.900659h-155.701977zM200.596047 576.875824h259.503294v51.900659h-259.503294zM122.745058 395.223517h337.354283v51.900659h-337.354283z" fill="#15B374" ></path><path d="M44.89407 213.571211h415.205271v51.900659h-415.205271z" fill="#1574B3" ></path><path d="M563.900659 213.571211h415.205271v51.900659h-415.205271zM563.900659 395.223517h337.354283v51.900659h-337.354283zM563.900659 576.875824h259.503294v51.900659h-259.503294zM563.900659 758.52813h155.701977v51.900659h-155.701977z" fill="#BFBFBF" ></path></symbol></svg>',c=(c=document.getElementsByTagName("script"))[c.length-1].getAttribute("data-injectcss");if(c&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console}}function s(){i||(i=!0,r())}t=function(){var e,t;(t=document.createElement("div")).innerHTML=o,o=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",t=e,(e=document.body).firstChild?function(e,t){t.parentNode.insertBefore(e,t)}(t,e.firstChild):e.appendChild(t))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(r=t,a=e.document,i=!1,function t(){try{a.documentElement.doScroll("left")}catch(e){return void setTimeout(t,50)}s()}(),a.onreadystatechange=function(){"complete"==a.readyState&&(a.onreadystatechange=null,s())})}(window)},78924:e=>{e.exports={"primary-color":"#7262fd","link-color":"unset","success-color":"#60dda9","warning-color":"#f6bd15","error-color":"#f08a8a","font-size-base":"14px","heading-color":"rgba(0, 0, 0, 0.85)","text-color":"#262626","text-color-secondary":"#626262","disabled-color":"rgba(0, 0, 0, 0.25)","border-radius-base":"2px","border-color-base":"#e5e5e5","box-shadow-base":"0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05)","@height-lg":"44px","@text-selection-bg":"#1890ff","@item-active-bg":"#E6F3FF","@input-height-lg":"44px","@slider-track-background-color":"#ceddfd","@slider-track-background-color-hover":"#5b8ff9","@slider-dot-border-color":"#ceddfd","@slider-dot-border-color-active":"#5b8ff9","@slider-handle-color":"#ceddfd","@slider-handle-color-hover":"#5B8FF9","@slider-handle-color-focus":"#5B8FF9","@slider-handle-color-tooltip-open":"#5B8FF9","@select-single-item-height-lg":"44px","@picker-basic-cell-active-with-range-color":"#E6F3FF","@picker-basic-cell-hover-with-range-color":"#D0E9FF","@zindex-message":1050,"@btn-font-weight":"400","@btn-border-radius-base":"4px","@btn-border-radius-sm":"2px","@btn-border-width":"1px","@btn-border-style":"solid","@btn-shadow":"0 2px 0 rgba(0, 0, 0, 0.015)","@btn-primary-shadow":"0 2px 0 rgba(0, 0, 0, 0.045)","@btn-text-shadow":"0 -1px 0 rgba(0, 0, 0, 0.12)","@btn-primary-color":"#fff","@btn-primary-bg":"#7262FD","@btn-default-color":"#626262","@btn-default-bg":"#fff","@btn-default-border":"#E5E5E5","@btn-danger-color":"#fff","@btn-danger-bg":"transparent","@btn-danger-border":"transparent","@btn-disable-color":"#BFBFBF","@btn-disable-bg":"#F3F5F8","@btn-disable-border":"transparent","@btn-default-ghost-color":"transparent","@btn-default-ghost-bg":"transparent","@btn-default-ghost-border":"#E5E5E5","@btn-height-base":"28px","@btn-height-lg":"32px","@btn-height-sm":"24px","@btn-group-border":"#E5E5E5","@btn-link-hover-bg":"transparent","@btn-text-hover-bg":"rgba(0, 0, 0, 0.018)","@table-header-bg":"#F1F3F4","@table-header-color":"#8C8C8C","@table-border-color":"#E5E5E5","@table-row-hover-bg":"#F4F0FF","@table-sticky-scroll-bar-bg":"fade(#fff, 0%)","@pagination-item-bg-active":"#F0F2F5","@tooltip-color":"#262626","@tooltip-bg":"#fff","@progress-default-color":"#7262fd","@drawer-header-padding":"16px 24px 0 24px","@drawer-body-padding":"16px 24px","@drawer-footer-padding-vertical":"16px","@radio-size":"14px","@radio-button-color":"#262626","@radio-disabled-button-checked-bg":"#F1F3F4","@checkbox-size":"14px","@switch-min-width":"42px"}},39432:(e,t,n)=>{"use strict";n.d(t,{jD:()=>m,zp:()=>D,ZP:()=>h,gw:()=>v,Wk:()=>M,Go:()=>A,uf:()=>p,bC:()=>j,hE:()=>d,fy:()=>f,LV:()=>y,Ue:()=>P,O8:()=>T,AV:()=>R,Lh:()=>L,Li:()=>_,BB:()=>E,B1:()=>b,Sn:()=>x,qS:()=>I,yV:()=>g,QM:()=>N,Nn:()=>F});n(75314);var r=n(11187),a=n(87462),i=n(30381),o=n.n(i),c={a:"\u554a\u963f\u9515",ai:"\u57c3\u6328\u54ce\u5509\u54c0\u7691\u764c\u853c\u77ee\u827e\u788d\u7231\u9698\u8bf6\u6371\u55f3\u55cc\u5ad2\u7477\u66a7\u7839\u953f\u972d",an:"\u978d\u6c28\u5b89\u4ffa\u6309\u6697\u5cb8\u80fa\u6848\u8c19\u57ef\u63de\u72b4\u5eb5\u6849\u94f5\u9e4c\u9878\u9eef",ang:"\u80ae\u6602\u76ce",ao:"\u51f9\u6556\u71ac\u7ff1\u8884\u50b2\u5965\u61ca\u6fb3\u5773\u62d7\u55f7\u5662\u5c99\u5ed2\u9068\u5aaa\u9a9c\u8071\u87af\u93ca\u9ccc\u93d6",ba:"\u82ad\u634c\u6252\u53ed\u5427\u7b06\u516b\u75a4\u5df4\u62d4\u8dcb\u9776\u628a\u8019\u575d\u9738\u7f62\u7238\u8307\u83dd\u8406\u636d\u5c9c\u705e\u6777\u94af\u7c91\u9c85\u9b43",bai:"\u767d\u67cf\u767e\u6446\u4f70\u8d25\u62dc\u7a17\u859c\u63b0\u97b4",ban:"\u6591\u73ed\u642c\u6273\u822c\u9881\u677f\u7248\u626e\u62cc\u4f34\u74e3\u534a\u529e\u7eca\u962a\u5742\u8c73\u94a3\u7622\u764d\u8228",bang:"\u90a6\u5e2e\u6886\u699c\u8180\u7ed1\u68d2\u78c5\u868c\u9551\u508d\u8c24\u84a1\u8783",bao:"\u82de\u80de\u5305\u8912\u96f9\u4fdd\u5821\u9971\u5b9d\u62b1\u62a5\u66b4\u8c79\u9c8d\u7206\u52f9\u8446\u5b80\u5b62\u7172\u9e28\u8913\u8db5\u9f85",bo:"\u5265\u8584\u73bb\u83e0\u64ad\u62e8\u94b5\u6ce2\u535a\u52c3\u640f\u94c2\u7b94\u4f2f\u5e1b\u8236\u8116\u818a\u6e24\u6cca\u9a73\u4eb3\u8543\u5575\u997d\u6a97\u64d8\u7934\u94b9\u9e41\u7c38\u8ddb",bei:"\u676f\u7891\u60b2\u5351\u5317\u8f88\u80cc\u8d1d\u94a1\u500d\u72c8\u5907\u60eb\u7119\u88ab\u5b5b\u9642\u90b6\u57e4\u84d3\u5457\u602b\u6096\u789a\u9e4e\u8919\u943e",ben:"\u5954\u82ef\u672c\u7b28\u755a\u574c\u951b",beng:"\u5d29\u7ef7\u752d\u6cf5\u8e66\u8ff8\u552a\u5623\u750f",bi:"\u903c\u9f3b\u6bd4\u9119\u7b14\u5f7c\u78a7\u84d6\u853d\u6bd5\u6bd9\u6bd6\u5e01\u5e87\u75f9\u95ed\u655d\u5f0a\u5fc5\u8f9f\u58c1\u81c2\u907f\u965b\u5315\u4ef3\u4ffe\u8298\u835c\u8378\u5421\u54d4\u72f4\u5eb3\u610e\u6ed7\u6fde\u5f3c\u59a3\u5a62\u5b16\u74a7\u8d32\u7540\u94cb\u79d5\u88e8\u7b5a\u7b85\u7be6\u822d\u895e\u8df8\u9ac0",bian:"\u97ad\u8fb9\u7f16\u8d2c\u6241\u4fbf\u53d8\u535e\u8fa8\u8fa9\u8fab\u904d\u533e\u5f01\u82c4\u5fed\u6c74\u7f0f\u7178\u782d\u78a5\u7a39\u7a86\u8759\u7b3e\u9cca",biao:"\u6807\u5f6a\u8198\u8868\u5a4a\u9aa0\u98d1\u98d9\u98da\u706c\u9556\u9573\u762d\u88f1\u9cd4",bie:"\u9cd6\u618b\u522b\u762a\u8e69\u9cd8",bin:"\u5f6c\u658c\u6fd2\u6ee8\u5bbe\u6448\u50a7\u6d5c\u7f24\u73a2\u6ba1\u8191\u9554\u9acc\u9b13",bing:"\u5175\u51b0\u67c4\u4e19\u79c9\u997c\u70b3\u75c5\u5e76\u7980\u90b4\u6452\u7ee0\u678b\u69df\u71f9",bu:"\u6355\u535c\u54fa\u8865\u57e0\u4e0d\u5e03\u6b65\u7c3f\u90e8\u6016\u62ca\u535f\u900b\u74ff\u6661\u949a\u91ad",ca:"\u64e6\u5693\u7924",cai:"\u731c\u88c1\u6750\u624d\u8d22\u776c\u8e29\u91c7\u5f69\u83dc\u8521",can:"\u9910\u53c2\u8695\u6b8b\u60ed\u60e8\u707f\u9a96\u74a8\u7cb2\u9eea",cang:"\u82cd\u8231\u4ed3\u6ca7\u85cf\u4f27",cao:"\u64cd\u7cd9\u69fd\u66f9\u8349\u8279\u5608\u6f15\u87ac\u825a",ce:"\u5395\u7b56\u4fa7\u518c\u6d4b\u5202\u5e3b\u607b",ceng:"\u5c42\u8e6d\u564c",cha:"\u63d2\u53c9\u832c\u8336\u67e5\u78b4\u643d\u5bdf\u5c94\u5dee\u8be7\u7339\u9987\u6c4a\u59f9\u6748\u6942\u69ce\u6aab\u9497\u9538\u9572\u8869",chai:"\u62c6\u67f4\u8c7a\u4faa\u8308\u7625\u867f\u9f87",chan:"\u6400\u63ba\u8749\u998b\u8c17\u7f20\u94f2\u4ea7\u9610\u98a4\u5181\u8c04\u8c36\u8487\u5edb\u5fcf\u6f7a\u6fb6\u5b71\u7fbc\u5a75\u5b17\u9aa3\u89c7\u7985\u9561\u88e3\u87fe\u8e94",chang:"\u660c\u7316\u573a\u5c1d\u5e38\u957f\u507f\u80a0\u5382\u655e\u7545\u5531\u5021\u4f25\u9b2f\u82cc\u83d6\u5f9c\u6005\u60dd\u960a\u5a3c\u5ae6\u6636\u6c05\u9cb3",chao:"\u8d85\u6284\u949e\u671d\u5632\u6f6e\u5de2\u5435\u7092\u600a\u7ec9\u6641\u8016",che:"\u8f66\u626f\u64a4\u63a3\u5f7b\u6f88\u577c\u5c6e\u7817",chen:"\u90f4\u81e3\u8fb0\u5c18\u6668\u5ff1\u6c89\u9648\u8d81\u886c\u79f0\u8c0c\u62bb\u55d4\u5bb8\u741b\u6987\u809c\u80c2\u789c\u9f80",cheng:"\u6491\u57ce\u6a59\u6210\u5448\u4e58\u7a0b\u60e9\u6f84\u8bda\u627f\u901e\u9a8b\u79e4\u57d5\u5d4a\u5fb5\u6d48\u67a8\u67fd\u6a18\u665f\u584d\u77a0\u94d6\u88ce\u86cf\u9172",chi:"\u5403\u75f4\u6301\u5319\u6c60\u8fdf\u5f1b\u9a70\u803b\u9f7f\u4f88\u5c3a\u8d64\u7fc5\u65a5\u70bd\u50ba\u5880\u82aa\u830c\u640b\u53f1\u54e7\u557b\u55e4\u5f73\u996c\u6cb2\u5ab8\u6555\u80dd\u7719\u7735\u9e31\u761b\u892b\u86a9\u87ad\u7b1e\u7bea\u8c49\u8e05\u8e1f\u9b51",chong:"\u5145\u51b2\u866b\u5d07\u5ba0\u833a\u5fe1\u61a7\u94f3\u825f",chou:"\u62bd\u916c\u7574\u8e0c\u7a20\u6101\u7b79\u4ec7\u7ef8\u7785\u4e11\u4fe6\u5733\u5e31\u60c6\u6eb4\u59af\u7633\u96e0\u9c8b",chu:"\u81ed\u521d\u51fa\u6a71\u53a8\u8e87\u9504\u96cf\u6ec1\u9664\u695a\u7840\u50a8\u77d7\u6410\u89e6\u5904\u4e8d\u520d\u61b7\u7ecc\u6775\u696e\u6a17\u870d\u8e70\u9edc",chuan:"\u63e3\u5ddd\u7a7f\u693d\u4f20\u8239\u5598\u4e32\u63be\u821b\u60f4\u9044\u5ddb\u6c1a\u948f\u9569\u8221",chuang:"\u75ae\u7a97\u5e62\u5e8a\u95ef\u521b\u6006",chui:"\u5439\u708a\u6376\u9524\u5782\u9672\u68f0\u69cc",chun:"\u6625\u693f\u9187\u5507\u6df3\u7eaf\u8822\u4fc3\u83bc\u6c8c\u80ab\u6710\u9e51\u877d",chuo:"\u6233\u7ef0\u851f\u8fb6\u8f8d\u955e\u8e14\u9f8a",ci:"\u75b5\u8328\u78c1\u96cc\u8f9e\u6148\u74f7\u8bcd\u6b64\u523a\u8d50\u6b21\u8360\u5472\u5d6f\u9e5a\u8785\u7ccd\u8d91",cong:"\u806a\u8471\u56f1\u5306\u4ece\u4e1b\u506c\u82c1\u6dd9\u9aa2\u742e\u7481\u679e",cu:"\u51d1\u7c97\u918b\u7c07\u731d\u6b82\u8e59",cuan:"\u8e7f\u7be1\u7a9c\u6c46\u64ba\u6615\u7228",cui:"\u6467\u5d14\u50ac\u8106\u7601\u7cb9\u6dec\u7fe0\u8403\u60b4\u7480\u69b1\u96b9",cun:"\u6751\u5b58\u5bf8\u78cb\u5fd6\u76b4",cuo:"\u64ae\u6413\u63aa\u632b\u9519\u539d\u811e\u9509\u77ec\u75e4\u9e7e\u8e49\u8e9c",da:"\u642d\u8fbe\u7b54\u7629\u6253\u5927\u8037\u54d2\u55d2\u601b\u59b2\u75b8\u8921\u7b2a\u977c\u9791",dai:"\u5446\u6b79\u50a3\u6234\u5e26\u6b86\u4ee3\u8d37\u888b\u5f85\u902e\u6020\u57ed\u7519\u5454\u5cb1\u8fe8\u902f\u9a80\u7ed0\u73b3\u9edb",dan:"\u803d\u62c5\u4e39\u5355\u90f8\u63b8\u80c6\u65e6\u6c2e\u4f46\u60ee\u6de1\u8bde\u5f39\u86cb\u4ebb\u510b\u5369\u840f\u5556\u6fb9\u6a90\u6b9a\u8d55\u7708\u7605\u8043\u7baa",dang:"\u5f53\u6321\u515a\u8361\u6863\u8c20\u51fc\u83ea\u5b95\u7800\u94db\u88c6",dao:"\u5200\u6363\u8e48\u5012\u5c9b\u7977\u5bfc\u5230\u7a3b\u60bc\u9053\u76d7\u53e8\u5541\u5fc9\u6d2e\u6c18\u7118\u5fd1\u7e9b",de:"\u5fb7\u5f97\u7684\u951d",deng:"\u8e6c\u706f\u767b\u7b49\u77aa\u51f3\u9093\u5654\u5d9d\u6225\u78f4\u956b\u7c26",di:"\u5824\u4f4e\u6ef4\u8fea\u654c\u7b1b\u72c4\u6da4\u7fdf\u5ae1\u62b5\u5e95\u5730\u8482\u7b2c\u5e1d\u5f1f\u9012\u7f14\u6c10\u7c74\u8bcb\u8c1b\u90b8\u577b\u839c\u837b\u5600\u5a23\u67e2\u68e3\u89cc\u7825\u78b2\u7747\u955d\u7f9d\u9ab6",dian:"\u98a0\u6382\u6ec7\u7898\u70b9\u5178\u975b\u57ab\u7535\u4f43\u7538\u5e97\u60e6\u5960\u6dc0\u6bbf\u4e36\u963d\u576b\u57dd\u5dc5\u73b7\u765c\u766b\u7c1f\u8e2e",diao:"\u7889\u53fc\u96d5\u51cb\u5201\u6389\u540a\u9493\u8c03\u8f7a\u94de\u8729\u7c9c\u8c82",die:"\u8dcc\u7239\u789f\u8776\u8fed\u8c0d\u53e0\u4f5a\u57a4\u581e\u63f2\u558b\u6e2b\u8f76\u7252\u74de\u8936\u800b\u8e40\u9cbd\u9cce",ding:"\u4e01\u76ef\u53ee\u9489\u9876\u9f0e\u952d\u5b9a\u8ba2\u4e22\u4ec3\u5576\u738e\u815a\u7887\u753a\u94e4\u7594\u8035\u914a",dong:"\u4e1c\u51ac\u8463\u61c2\u52a8\u680b\u4f97\u606b\u51bb\u6d1e\u578c\u549a\u5cbd\u5cd2\u5902\u6c21\u80e8\u80f4\u7850\u9e2b",dou:"\u515c\u6296\u6597\u9661\u8c46\u9017\u75d8\u8538\u94ad\u7aa6\u7aac\u86aa\u7bfc\u9161",du:"\u90fd\u7763\u6bd2\u728a\u72ec\u8bfb\u5835\u7779\u8d4c\u675c\u9540\u809a\u5ea6\u6e21\u5992\u828f\u561f\u6e0e\u691f\u6a50\u724d\u8839\u7b03\u9ad1\u9ee9",duan:"\u7aef\u77ed\u953b\u6bb5\u65ad\u7f0e\u5f56\u6934\u7145\u7c16",dui:"\u5806\u5151\u961f\u5bf9\u603c\u619d\u7893",dun:"\u58a9\u5428\u8e72\u6566\u987f\u56e4\u949d\u76fe\u9041\u7096\u7818\u7905\u76f9\u9566\u8db8",duo:"\u6387\u54c6\u591a\u593a\u579b\u8eb2\u6735\u8dfa\u8235\u5241\u60f0\u5815\u5484\u54da\u7f0d\u67c1\u94ce\u88f0\u8e31",e:"\u86fe\u5ce8\u9e45\u4fc4\u989d\u8bb9\u5a25\u6076\u5384\u627c\u904f\u9102\u997f\u5669\u8c14\u57a9\u57ad\u82ca\u83aa\u843c\u5443\u6115\u5c59\u5a40\u8f6d\u66f7\u816d\u786a\u9507\u9537\u9e57\u989a\u9cc4",en:"\u6069\u84bd\u6441\u5514\u55ef",er:"\u800c\u513f\u8033\u5c14\u9975\u6d31\u4e8c\u8d30\u8fe9\u73e5\u94d2\u9e38\u9c95",fa:"\u53d1\u7f5a\u7b4f\u4f10\u4e4f\u9600\u6cd5\u73d0\u57a1\u781d",fan:"\u85e9\u5e06\u756a\u7ffb\u6a0a\u77fe\u9492\u7e41\u51e1\u70e6\u53cd\u8fd4\u8303\u8d29\u72af\u996d\u6cdb\u8629\u5e61\u72ad\u68b5\u6535\u71d4\u7548\u8e6f",fang:"\u574a\u82b3\u65b9\u80aa\u623f\u9632\u59a8\u4eff\u8bbf\u7eba\u653e\u531a\u90a1\u5f77\u94ab\u822b\u9c82",fei:"\u83f2\u975e\u5561\u98de\u80a5\u532a\u8bfd\u5420\u80ba\u5e9f\u6cb8\u8d39\u82be\u72d2\u60b1\u6ddd\u5983\u7ecb\u7eef\u69a7\u8153\u6590\u6249\u7953\u7829\u9544\u75f1\u871a\u7bda\u7fe1\u970f\u9cb1",fen:"\u82ac\u915a\u5429\u6c1b\u5206\u7eb7\u575f\u711a\u6c7e\u7c89\u594b\u4efd\u5fff\u6124\u7caa\u507e\u7035\u68fc\u610d\u9cbc\u9f22",feng:"\u4e30\u5c01\u67ab\u8702\u5cf0\u950b\u98ce\u75af\u70fd\u9022\u51af\u7f1d\u8bbd\u5949\u51e4\u4ff8\u9146\u8451\u6ca3\u781c",fu:"\u4f5b\u5426\u592b\u6577\u80a4\u5b75\u6276\u62c2\u8f90\u5e45\u6c1f\u7b26\u4f0f\u4fd8\u670d\u6d6e\u6daa\u798f\u88b1\u5f17\u752b\u629a\u8f85\u4fef\u91dc\u65a7\u812f\u8151\u5e9c\u8150\u8d74\u526f\u8986\u8d4b\u590d\u5085\u4ed8\u961c\u7236\u8179\u8d1f\u5bcc\u8ba3\u9644\u5987\u7f1a\u5490\u5310\u51eb\u90db\u8299\u82fb\u832f\u83a9\u83d4\u544b\u5e5e\u6ecf\u8274\u5b5a\u9a78\u7ec2\u6874\u8d59\u9efb\u9efc\u7f58\u7a03\u99a5\u864d\u86a8\u8709\u8760\u876e\u9eb8\u8dba\u8dd7\u9cc6",ga:"\u5676\u560e\u86e4\u5c2c\u5477\u5c15\u5c1c\u65ee\u9486",gai:"\u8be5\u6539\u6982\u9499\u76d6\u6e89\u4e10\u9654\u5793\u6224\u8d45\u80f2",gan:"\u5e72\u7518\u6746\u67d1\u7aff\u809d\u8d76\u611f\u79c6\u6562\u8d63\u5769\u82f7\u5c34\u64c0\u6cd4\u6de6\u6f89\u7ec0\u6a44\u65f0\u77f8\u75b3\u9150",gang:"\u5188\u521a\u94a2\u7f38\u809b\u7eb2\u5c97\u6e2f\u6206\u7f61\u9883\u7b7b",gong:"\u6760\u5de5\u653b\u529f\u606d\u9f9a\u4f9b\u8eac\u516c\u5bab\u5f13\u5de9\u6c5e\u62f1\u8d21\u5171\u857b\u5efe\u54a3\u73d9\u80b1\u86a3\u86e9\u89e5",gao:"\u7bd9\u768b\u9ad8\u818f\u7f94\u7cd5\u641e\u9550\u7a3f\u544a\u777e\u8bf0\u90dc\u84bf\u85c1\u7f1f\u69d4\u69c1\u6772\u9506",ge:"\u54e5\u6b4c\u6401\u6208\u9e3d\u80f3\u7599\u5272\u9769\u845b\u683c\u9601\u9694\u94ec\u4e2a\u5404\u9b32\u4ee1\u54ff\u5865\u55dd\u7ea5\u643f\u8188\u784c\u94ea\u9549\u88bc\u988c\u867c\u8238\u9abc\u9ac2",gei:"\u7ed9",gen:"\u6839\u8ddf\u4e98\u831b\u54cf\u826e",geng:"\u8015\u66f4\u5e9a\u7fb9\u57c2\u803f\u6897\u54fd\u8d53\u9ca0",gou:"\u94a9\u52fe\u6c9f\u82df\u72d7\u57a2\u6784\u8d2d\u591f\u4f5d\u8bdf\u5ca3\u9058\u5abe\u7f11\u89cf\u5f40\u9e32\u7b31\u7bdd\u97b2",gu:"\u8f9c\u83c7\u5495\u7b8d\u4f30\u6cbd\u5b64\u59d1\u9f13\u53e4\u86ca\u9aa8\u8c37\u80a1\u6545\u987e\u56fa\u96c7\u560f\u8bc2\u83f0\u54cc\u5d2e\u6c69\u688f\u8f71\u726f\u727f\u80cd\u81cc\u6bc2\u77bd\u7f5f\u94b4\u9522\u74e0\u9e2a\u9e44\u75fc\u86c4\u9164\u89da\u9cb4\u9ab0\u9e58",gua:"\u522e\u74dc\u5250\u5be1\u6302\u8902\u5366\u8bd6\u5471\u681d\u9e39",guai:"\u4e56\u62d0\u602a\u54d9",guan:"\u68fa\u5173\u5b98\u51a0\u89c2\u7ba1\u9986\u7f50\u60ef\u704c\u8d2f\u500c\u839e\u63bc\u6dab\u76e5\u9e73\u9ccf",guang:"\u5149\u5e7f\u901b\u72b7\u6844\u80f1\u7592",gui:"\u7470\u89c4\u572d\u7845\u5f52\u9f9f\u95fa\u8f68\u9b3c\u8be1\u7678\u6842\u67dc\u8dea\u8d35\u523d\u5326\u523f\u5e8b\u5b84\u59ab\u6867\u7085\u6677\u7688\u7c0b\u9c91\u9cdc",gun:"\u8f8a\u6eda\u68cd\u4e28\u886e\u7ef2\u78d9\u9ca7",guo:"\u9505\u90ed\u56fd\u679c\u88f9\u8fc7\u9998\u8803\u57da\u63b4\u5459\u56d7\u5e3c\u5d1e\u7313\u6901\u8662\u951e\u8052\u872e\u873e\u8748",ha:"\u54c8",hai:"\u9ab8\u5b69\u6d77\u6c26\u4ea5\u5bb3\u9a87\u54b4\u55e8\u988f\u91a2",han:"\u9163\u61a8\u90af\u97e9\u542b\u6db5\u5bd2\u51fd\u558a\u7f55\u7ff0\u64bc\u634d\u65f1\u61be\u608d\u710a\u6c57\u6c49\u9097\u83e1\u6496\u961a\u701a\u6657\u7113\u9894\u86b6\u9f3e",hen:"\u592f\u75d5\u5f88\u72e0\u6068",hang:"\u676d\u822a\u6c86\u7ed7\u73e9\u6841",hao:"\u58d5\u568e\u8c6a\u6beb\u90dd\u597d\u8017\u53f7\u6d69\u8585\u55e5\u5686\u6fe0\u704f\u660a\u7693\u98a2\u869d",he:"\u5475\u559d\u8377\u83cf\u6838\u79be\u548c\u4f55\u5408\u76d2\u8c89\u9602\u6cb3\u6db8\u8d6b\u8910\u9e64\u8d3a\u8bc3\u52be\u58d1\u85ff\u55d1\u55ec\u9616\u76cd\u86b5\u7fee",hei:"\u563f\u9ed1",heng:"\u54fc\u4ea8\u6a2a\u8861\u6052\u8a07\u8605",hong:"\u8f70\u54c4\u70d8\u8679\u9e3f\u6d2a\u5b8f\u5f18\u7ea2\u9ec9\u8ba7\u836d\u85a8\u95f3\u6cd3",hou:"\u5589\u4faf\u7334\u543c\u539a\u5019\u540e\u5820\u5f8c\u9005\u760a\u7bcc\u7cc7\u9c8e\u9aba",hu:"\u547c\u4e4e\u5ffd\u745a\u58f6\u846b\u80e1\u8774\u72d0\u7cca\u6e56\u5f27\u864e\u552c\u62a4\u4e92\u6caa\u6237\u51b1\u553f\u56eb\u5cb5\u7322\u6019\u60da\u6d52\u6ef9\u7425\u69f2\u8f77\u89f3\u70c0\u7173\u623d\u6248\u795c\u9e55\u9e71\u7b0f\u9190\u659b",hua:"\u82b1\u54d7\u534e\u733e\u6ed1\u753b\u5212\u5316\u8bdd\u5290\u6d4d\u9a85\u6866\u94e7\u7a1e",huai:"\u69d0\u5f8a\u6000\u6dee\u574f\u8fd8\u8e1d",huan:"\u6b22\u73af\u6853\u7f13\u6362\u60a3\u5524\u75ea\u8c62\u7115\u6da3\u5ba6\u5e7b\u90c7\u5942\u57b8\u64d0\u571c\u6d39\u6d63\u6f36\u5bf0\u902d\u7f33\u953e\u9ca9\u9b1f",huang:"\u8352\u614c\u9ec4\u78fa\u8757\u7c27\u7687\u51f0\u60f6\u714c\u6643\u5e4c\u604d\u8c0e\u968d\u5fa8\u6e5f\u6f62\u9051\u749c\u8093\u7640\u87e5\u7bc1\u9cc7",hui:"\u7070\u6325\u8f89\u5fbd\u6062\u86d4\u56de\u6bc1\u6094\u6167\u5349\u60e0\u6666\u8d3f\u79fd\u4f1a\u70e9\u6c47\u8bb3\u8bf2\u7ed8\u8bd9\u8334\u835f\u8559\u54d5\u5599\u96b3\u6d04\u5f57\u7f0b\u73f2\u6656\u605a\u867a\u87ea\u9ebe",hun:"\u8364\u660f\u5a5a\u9b42\u6d51\u6df7\u8be8\u9984\u960d\u6eb7\u7f17",huo:"\u8c41\u6d3b\u4f19\u706b\u83b7\u6216\u60d1\u970d\u8d27\u7978\u6509\u56af\u5925\u94ac\u952a\u956c\u8020\u8816",ji:"\u51fb\u573e\u57fa\u673a\u7578\u7a3d\u79ef\u7b95\u808c\u9965\u8ff9\u6fc0\u8ba5\u9e21\u59ec\u7ee9\u7f09\u5409\u6781\u68d8\u8f91\u7c4d\u96c6\u53ca\u6025\u75be\u6c72\u5373\u5ac9\u7ea7\u6324\u51e0\u810a\u5df1\u84df\u6280\u5180\u5b63\u4f0e\u796d\u5242\u60b8\u6d4e\u5bc4\u5bc2\u8ba1\u8bb0\u65e2\u5fcc\u9645\u5993\u7ee7\u7eaa\u5c45\u4e0c\u4e69\u525e\u4f76\u4f74\u8114\u58bc\u82a8\u82b0\u8401\u84ba\u857a\u638e\u53fd\u54ad\u54dc\u5527\u5c8c\u5d74\u6d0e\u5f50\u5c50\u9aa5\u757f\u7391\u696b\u6b9b\u621f\u6222\u8d4d\u89ca\u7284\u9f51\u77f6\u7f81\u5d47\u7a37\u7620\u7635\u866e\u7b08\u7b04\u66a8\u8dfb\u8dfd\u9701\u9c9a\u9cab\u9afb\u9e82",jia:"\u5609\u67b7\u5939\u4f73\u5bb6\u52a0\u835a\u988a\u8d3e\u7532\u94be\u5047\u7a3c\u4ef7\u67b6\u9a7e\u5ac1\u4f3d\u90cf\u62ee\u5cac\u6d43\u8fe6\u73c8\u621b\u80db\u605d\u94d7\u9553\u75c2\u86f1\u7b33\u8888\u8dcf",jian:"\u6b7c\u76d1\u575a\u5c16\u7b3a\u95f4\u714e\u517c\u80a9\u8270\u5978\u7f04\u8327\u68c0\u67ec\u78b1\u7877\u62e3\u6361\u7b80\u4fed\u526a\u51cf\u8350\u69db\u9274\u8df5\u8d31\u89c1\u952e\u7bad\u4ef6\u5065\u8230\u5251\u996f\u6e10\u6e85\u6da7\u5efa\u50ed\u8c0f\u8c2b\u83c5\u84b9\u641b\u56dd\u6e54\u8e47\u8b07\u7f23\u67a7\u67d9\u6957\u620b\u622c\u726e\u728d\u6bfd\u8171\u7751\u950f\u9e63\u88e5\u7b15\u7bb4\u7fe6\u8dbc\u8e3a\u9ca3\u97af",jiang:"\u50f5\u59dc\u5c06\u6d46\u6c5f\u7586\u848b\u6868\u5956\u8bb2\u5320\u9171\u964d\u8333\u6d1a\u7edb\u7f30\u729f\u7913\u8029\u7ce8\u8c47",jiao:"\u8549\u6912\u7901\u7126\u80f6\u4ea4\u90ca\u6d47\u9a84\u5a07\u56bc\u6405\u94f0\u77eb\u4fa5\u811a\u72e1\u89d2\u997a\u7f34\u7ede\u527f\u6559\u9175\u8f7f\u8f83\u53eb\u4f7c\u50ec\u832d\u6322\u564d\u5ce4\u5fbc\u59e3\u7e9f\u656b\u768e\u9e6a\u86df\u91ae\u8de4\u9c9b",jie:"\u7a96\u63ed\u63a5\u7686\u79f8\u8857\u9636\u622a\u52ab\u8282\u6854\u6770\u6377\u776b\u7aed\u6d01\u7ed3\u89e3\u59d0\u6212\u85c9\u82a5\u754c\u501f\u4ecb\u75a5\u8beb\u5c4a\u5048\u8ba6\u8bd8\u5588\u55df\u736c\u5a55\u5b51\u6840\u7352\u78a3\u9534\u7596\u88b7\u9889\u86a7\u7faf\u9c92\u9ab1\u9aeb",jin:"\u5dfe\u7b4b\u65a4\u91d1\u4eca\u6d25\u895f\u7d27\u9526\u4ec5\u8c28\u8fdb\u9773\u664b\u7981\u8fd1\u70ec\u6d78\u5c3d\u537a\u8369\u5807\u5664\u9991\u5ed1\u5997\u7f19\u747e\u69ff\u8d46\u89d0\u9485\u9513\u887f\u77dc",jing:"\u52b2\u8346\u5162\u830e\u775b\u6676\u9cb8\u4eac\u60ca\u7cbe\u7cb3\u7ecf\u4e95\u8b66\u666f\u9888\u9759\u5883\u656c\u955c\u5f84\u75c9\u9756\u7adf\u7ade\u51c0\u522d\u5106\u9631\u83c1\u734d\u61ac\u6cfe\u8ff3\u5f2a\u5a67\u80bc\u80eb\u8148\u65cc",jiong:"\u70af\u7a98\u5182\u8fe5\u6243",jiu:"\u63ea\u7a76\u7ea0\u7396\u97ed\u4e45\u7078\u4e5d\u9152\u53a9\u6551\u65e7\u81fc\u8205\u548e\u5c31\u759a\u50e6\u557e\u9604\u67e9\u6855\u9e6b\u8d73\u9b0f",ju:"\u97a0\u62d8\u72d9\u75bd\u9a79\u83ca\u5c40\u5480\u77e9\u4e3e\u6cae\u805a\u62d2\u636e\u5de8\u5177\u8ddd\u8e1e\u952f\u4ff1\u53e5\u60e7\u70ac\u5267\u5028\u8bb5\u82e3\u82f4\u8392\u63ac\u907d\u5c66\u741a\u67b8\u6910\u6998\u6989\u6a58\u728b\u98d3\u949c\u9514\u7aad\u88fe\u8d84\u91b5\u8e3d\u9f83\u96ce\u97ab",juan:"\u6350\u9e43\u5a1f\u5026\u7737\u5377\u7ee2\u9104\u72f7\u6d93\u684a\u8832\u9529\u954c\u96bd",jue:"\u6485\u652b\u6289\u6398\u5014\u7235\u89c9\u51b3\u8bc0\u7edd\u53a5\u5282\u8c32\u77cd\u8568\u5658\u5d1b\u7357\u5b53\u73cf\u6877\u6a5b\u721d\u9562\u8e76\u89d6",jun:"\u5747\u83cc\u94a7\u519b\u541b\u5cfb\u4fca\u7ae3\u6d5a\u90e1\u9a8f\u6343\u72fb\u76b2\u7b60\u9e87",ka:"\u5580\u5496\u5361\u4f67\u5494\u80e9",ke:"\u54af\u5777\u82db\u67ef\u68f5\u78d5\u9897\u79d1\u58f3\u54b3\u53ef\u6e34\u514b\u523b\u5ba2\u8bfe\u5ca2\u606a\u6e98\u9a92\u7f02\u73c2\u8f72\u6c2a\u778c\u94b6\u75b4\u7aa0\u874c\u9ac1",kai:"\u5f00\u63e9\u6977\u51ef\u6168\u5240\u57b2\u8488\u5ffe\u607a\u94e0\u950e",kan:"\u520a\u582a\u52d8\u574e\u780d\u770b\u4f83\u51f5\u83b0\u83b6\u6221\u9f9b\u77b0",kang:"\u5eb7\u6177\u7ce0\u625b\u6297\u4ea2\u7095\u5751\u4f09\u95f6\u94aa",kao:"\u8003\u62f7\u70e4\u9760\u5c3b\u6832\u7292\u94d0",ken:"\u80af\u5543\u57a6\u6073\u57a0\u88c9\u9880",keng:"\u542d\u5fd0\u94ff",kong:"\u7a7a\u6050\u5b54\u63a7\u5025\u5d06\u7b9c",kou:"\u62a0\u53e3\u6263\u5bc7\u82a4\u853b\u53e9\u770d\u7b58",ku:"\u67af\u54ed\u7a9f\u82e6\u9177\u5e93\u88e4\u5233\u5800\u55be\u7ed4\u9ab7",kua:"\u5938\u57ae\u630e\u8de8\u80ef\u4f89",kuai:"\u5757\u7b77\u4fa9\u5feb\u84af\u90d0\u8489\u72ef\u810d",kuan:"\u5bbd\u6b3e\u9acb",kuang:"\u5321\u7b50\u72c2\u6846\u77ff\u7736\u65f7\u51b5\u8bd3\u8bf3\u909d\u5739\u593c\u54d0\u7ea9\u8d36",kui:"\u4e8f\u76d4\u5cbf\u7aa5\u8475\u594e\u9b41\u5080\u9988\u6127\u6e83\u9997\u532e\u5914\u9697\u63c6\u55b9\u559f\u609d\u6126\u9615\u9035\u668c\u777d\u8069\u8770\u7bd1\u81fe\u8dec",kun:"\u5764\u6606\u6346\u56f0\u6083\u9603\u7428\u951f\u918c\u9cb2\u9ae1",kuo:"\u62ec\u6269\u5ed3\u9614\u86de",la:"\u5783\u62c9\u5587\u8721\u814a\u8fa3\u5566\u524c\u647a\u908b\u65ef\u782c\u760c",lai:"\u83b1\u6765\u8d56\u5d03\u5f95\u6d9e\u6fd1\u8d49\u7750\u94fc\u765e\u7c41",lan:"\u84dd\u5a6a\u680f\u62e6\u7bee\u9611\u5170\u6f9c\u8c30\u63fd\u89c8\u61d2\u7f06\u70c2\u6ee5\u5549\u5c9a\u61d4\u6f24\u6984\u6593\u7f71\u9567\u8934",lang:"\u7405\u6994\u72fc\u5eca\u90ce\u6717\u6d6a\u83a8\u8497\u5577\u9606\u9512\u7a02\u8782",lao:"\u635e\u52b3\u7262\u8001\u4f6c\u59e5\u916a\u70d9\u6d9d\u5520\u5d02\u6833\u94d1\u94f9\u75e8\u91aa",le:"\u52d2\u4e50\u808b\u4ec2\u53fb\u561e\u6cd0\u9cd3",lei:"\u96f7\u956d\u857e\u78ca\u7d2f\u5121\u5792\u64c2\u7c7b\u6cea\u7fb8\u8bd4\u837d\u54a7\u6f2f\u5ad8\u7f27\u6a91\u8012\u9179",ling:"\u68f1\u51b7\u62ce\u73b2\u83f1\u96f6\u9f84\u94c3\u4f36\u7f9a\u51cc\u7075\u9675\u5cad\u9886\u53e6\u4ee4\u9143\u5844\u82d3\u5464\u56f9\u6ce0\u7eeb\u67c3\u68c2\u74f4\u8046\u86c9\u7fce\u9cae",leng:"\u695e\u6123",li:"\u5398\u68a8\u7281\u9ece\u7bf1\u72f8\u79bb\u6f13\u7406\u674e\u91cc\u9ca4\u793c\u8389\u8354\u540f\u6817\u4e3d\u5389\u52b1\u783e\u5386\u5229\u5088\u4f8b\u4fd0\u75e2\u7acb\u7c92\u6ca5\u96b6\u529b\u7483\u54e9\u4fea\u4fda\u90e6\u575c\u82c8\u8385\u84e0\u85dc\u6369\u5456\u5533\u55b1\u7301\u6ea7\u6fa7\u9026\u5a0c\u5ae0\u9a8a\u7f21\u73de\u67a5\u680e\u8f79\u623e\u783a\u8a48\u7f79\u9502\u9e42\u75a0\u75ac\u86ce\u870a\u8821\u7b20\u7be5\u7c9d\u91b4\u8dde\u96f3\u9ca1\u9ce2\u9ee7",lian:"\u4fe9\u8054\u83b2\u8fde\u9570\u5ec9\u601c\u6d9f\u5e18\u655b\u8138\u94fe\u604b\u70bc\u7ec3\u631b\u8539\u5941\u6f4b\u6fc2\u5a08\u740f\u695d\u6b93\u81c1\u81a6\u88e2\u880a\u9ca2",liang:"\u7cae\u51c9\u6881\u7cb1\u826f\u4e24\u8f86\u91cf\u667e\u4eae\u8c05\u589a\u690b\u8e09\u9753\u9b49",liao:"\u64a9\u804a\u50da\u7597\u71ce\u5be5\u8fbd\u6f66\u4e86\u6482\u9563\u5ed6\u6599\u84fc\u5c25\u5639\u7360\u5bee\u7f2d\u948c\u9e69\u8022",lie:"\u5217\u88c2\u70c8\u52a3\u730e\u51bd\u57d2\u6d0c\u8d94\u8e90\u9b23",lin:"\u7433\u6797\u78f7\u9716\u4e34\u90bb\u9cde\u6dcb\u51db\u8d41\u541d\u853a\u5d99\u5eea\u9074\u6aa9\u8f9a\u77b5\u7cbc\u8e8f\u9e9f",liu:"\u6e9c\u7409\u69b4\u786b\u998f\u7559\u5218\u7624\u6d41\u67f3\u516d\u62a1\u507b\u848c\u6cd6\u6d4f\u905b\u9a9d\u7efa\u65d2\u7198\u950d\u954f\u9e68\u938f",long:"\u9f99\u804b\u5499\u7b3c\u7abf\u9686\u5784\u62e2\u9647\u5f04\u5785\u830f\u6cf7\u73d1\u680a\u80e7\u783b\u7643",lou:"\u697c\u5a04\u6402\u7bd3\u6f0f\u964b\u55bd\u5d5d\u9542\u7618\u8027\u877c\u9ac5",lu:"\u82a6\u5362\u9885\u5e90\u7089\u63b3\u5364\u864f\u9c81\u9e93\u788c\u9732\u8def\u8d42\u9e7f\u6f5e\u7984\u5f55\u9646\u622e\u5786\u6445\u64b8\u565c\u6cf8\u6e0c\u6f09\u7490\u680c\u6a79\u8f73\u8f82\u8f98\u6c07\u80ea\u9565\u9e2c\u9e6d\u7c0f\u823b\u9c88",lv:"\u9a74\u5415\u94dd\u4fa3\u65c5\u5c65\u5c61\u7f15\u8651\u6c2f\u5f8b\u7387\u6ee4\u7eff\u634b\u95fe\u6988\u8182\u7a06\u891b",luan:"\u5ce6\u5b6a\u6ee6\u5375\u4e71\u683e\u9e3e\u92ae",lue:"\u63a0\u7565\u950a",lun:"\u8f6e\u4f26\u4ed1\u6ca6\u7eb6\u8bba\u56f5",luo:"\u841d\u87ba\u7f57\u903b\u9523\u7ba9\u9aa1\u88f8\u843d\u6d1b\u9a86\u7edc\u502e\u8366\u645e\u7321\u6cfa\u6924\u8136\u9559\u7630\u96d2",ma:"\u5988\u9ebb\u739b\u7801\u8682\u9a6c\u9a82\u561b\u5417\u551b\u72b8\u5b37\u6769\u9ebd",mai:"\u57cb\u4e70\u9ea6\u5356\u8fc8\u8109\u52a2\u836c\u54aa\u973e",man:"\u7792\u9992\u86ee\u6ee1\u8513\u66fc\u6162\u6f2b\u8c29\u5881\u5e54\u7f26\u71b3\u9558\u989f\u87a8\u9cd7\u9794",mang:"\u8292\u832b\u76f2\u5fd9\u83bd\u9099\u6f2d\u6726\u786d\u87d2",meng:"\u6c13\u840c\u8499\u6aac\u76df\u9530\u731b\u68a6\u5b5f\u52d0\u750d\u77a2\u61f5\u791e\u867b\u8722\u8813\u824b\u8268\u9efe",miao:"\u732b\u82d7\u63cf\u7784\u85d0\u79d2\u6e3a\u5e99\u5999\u55b5\u9088\u7f08\u7f2a\u676a\u6dfc\u7707\u9e4b\u8731",mao:"\u8305\u951a\u6bdb\u77db\u94c6\u536f\u8302\u5192\u5e3d\u8c8c\u8d38\u4f94\u88a4\u52d6\u8306\u5cc1\u7441\u6634\u7266\u8004\u65c4\u61cb\u7780\u86d1\u8765\u87ca\u9ae6",me:"\u4e48",mei:"\u73ab\u679a\u6885\u9176\u9709\u7164\u6ca1\u7709\u5a92\u9541\u6bcf\u7f8e\u6627\u5bd0\u59b9\u5a9a\u5776\u8393\u5d4b\u7338\u6d7c\u6e44\u6963\u9545\u9e5b\u8882\u9b45",men:"\u95e8\u95f7\u4eec\u626a\u739f\u7116\u61d1\u9494",mi:"\u772f\u919a\u9761\u7cdc\u8ff7\u8c1c\u5f25\u7c73\u79d8\u89c5\u6ccc\u871c\u5bc6\u5e42\u8288\u5196\u8c27\u863c\u5627\u7315\u736f\u6c68\u5b93\u5f2d\u8112\u6549\u7cf8\u7e3b\u9e8b",mian:"\u68c9\u7720\u7ef5\u5195\u514d\u52c9\u5a29\u7f05\u9762\u6c94\u6e4e\u817c\u7704",mie:"\u8511\u706d\u54a9\u881b\u7bfe",min:"\u6c11\u62bf\u76bf\u654f\u60af\u95fd\u82e0\u5cb7\u95f5\u6cef\u73c9",ming:"\u660e\u879f\u9e23\u94ed\u540d\u547d\u51a5\u8317\u6e9f\u669d\u7791\u9169",miu:"\u8c2c",mo:"\u6478\u6479\u8611\u6a21\u819c\u78e8\u6469\u9b54\u62b9\u672b\u83ab\u58a8\u9ed8\u6cab\u6f20\u5bde\u964c\u8c1f\u8309\u84e6\u998d\u5aeb\u9546\u79e3\u763c\u8031\u87c6\u8c8a\u8c98",mou:"\u8c0b\u725f\u67d0\u53b6\u54de\u5a7a\u7738\u936a",mu:"\u62c7\u7261\u4ea9\u59c6\u6bcd\u5893\u66ae\u5e55\u52df\u6155\u6728\u76ee\u7766\u7267\u7a46\u4eeb\u82dc\u5452\u6c90\u6bea\u94bc",na:"\u62ff\u54ea\u5450\u94a0\u90a3\u5a1c\u7eb3\u5185\u637a\u80ad\u954e\u8872\u7bac",nai:"\u6c16\u4e43\u5976\u8010\u5948\u9f10\u827f\u8418\u67f0",nan:"\u5357\u7537\u96be\u56ca\u5583\u56e1\u6960\u8169\u877b\u8d67",nao:"\u6320\u8111\u607c\u95f9\u5b6c\u57b4\u7331\u7459\u7847\u94d9\u86f2",ne:"\u6dd6\u5462\u8bb7",nei:"\u9981",nen:"\u5ae9\u80fd\u6798\u6041",ni:"\u59ae\u9713\u502a\u6ce5\u5c3c\u62df\u4f60\u533f\u817b\u9006\u6eba\u4f32\u576d\u730a\u6029\u6ee0\u6635\u65ce\u7962\u615d\u7768\u94cc\u9cb5",nian:"\u852b\u62c8\u5e74\u78be\u64b5\u637b\u5ff5\u5eff\u8f87\u9ecf\u9c87\u9cb6",niang:"\u5a18\u917f",niao:"\u9e1f\u5c3f\u8311\u5b32\u8132\u8885",nie:"\u634f\u8042\u5b7d\u556e\u954a\u954d\u6d85\u4e5c\u9667\u8616\u55eb\u8080\u989e\u81ec\u8e51",nin:"\u60a8\u67e0",ning:"\u72de\u51dd\u5b81\u62e7\u6cde\u4f5e\u84e5\u549b\u752f\u804d",niu:"\u725b\u626d\u94ae\u7ebd\u72c3\u5ff8\u599e\u86b4",nong:"\u8113\u6d53\u519c\u4fac",nu:"\u5974\u52aa\u6012\u5476\u5e11\u5f29\u80ec\u5b65\u9a7d",nv:"\u5973\u6067\u9495\u8844",nuan:"\u6696",nuenue:"\u8650",nue:"\u759f\u8c11",nuo:"\u632a\u61e6\u7cef\u8bfa\u50a9\u6426\u558f\u9518",ou:"\u54e6\u6b27\u9e25\u6bb4\u85d5\u5455\u5076\u6ca4\u6004\u74ef\u8026",pa:"\u556a\u8db4\u722c\u5e15\u6015\u7436\u8469\u7b62",pai:"\u62cd\u6392\u724c\u5f98\u6e43\u6d3e\u4ff3\u848e",pan:"\u6500\u6f58\u76d8\u78d0\u76fc\u7554\u5224\u53db\u723f\u6cee\u88a2\u897b\u87e0\u8e52",pang:"\u4e53\u5e9e\u65c1\u802a\u80d6\u6ec2\u9004",pao:"\u629b\u5486\u5228\u70ae\u888d\u8dd1\u6ce1\u530f\u72cd\u5e96\u812c\u75b1",pei:"\u5478\u80da\u57f9\u88f4\u8d54\u966a\u914d\u4f69\u6c9b\u638a\u8f94\u5e14\u6de0\u65c6\u952b\u9185\u9708",pen:"\u55b7\u76c6\u6e53",peng:"\u7830\u62a8\u70f9\u6f8e\u5f6d\u84ec\u68da\u787c\u7bf7\u81a8\u670b\u9e4f\u6367\u78b0\u576f\u580b\u562d\u6026\u87db",pi:"\u7812\u9739\u6279\u62ab\u5288\u7435\u6bd7\u5564\u813e\u75b2\u76ae\u5339\u75de\u50fb\u5c41\u8b6c\u4e15\u9674\u90b3\u90eb\u572e\u9f19\u64d7\u567c\u5e80\u5ab2\u7eb0\u6787\u7513\u7765\u7f74\u94cd\u75e6\u7656\u758b\u868d\u8c94",pian:"\u7bc7\u504f\u7247\u9a97\u8c1d\u9a88\u728f\u80fc\u890a\u7fe9\u8e41",piao:"\u98d8\u6f02\u74e2\u7968\u527d\u560c\u5ad6\u7f25\u6b8d\u779f\u87b5",pie:"\u6487\u77a5\u4e3f\u82e4\u6c15",pin:"\u62fc\u9891\u8d2b\u54c1\u8058\u62da\u59d8\u5ad4\u6980\u725d\u98a6",ping:"\u4e52\u576a\u82f9\u840d\u5e73\u51ed\u74f6\u8bc4\u5c4f\u4fdc\u5a09\u67b0\u9c86",po:"\u5761\u6cfc\u9887\u5a46\u7834\u9b44\u8feb\u7c95\u53f5\u9131\u6ea5\u73c0\u948b\u94b7\u76a4\u7b38",pou:"\u5256\u88d2\u8e23",pu:"\u6251\u94fa\u4ec6\u8386\u8461\u83e9\u84b2\u57d4\u6734\u5703\u666e\u6d66\u8c31\u66dd\u7011\u530d\u5657\u6fee\u749e\u6c06\u9564\u9568\u8e7c",qi:"\u671f\u6b3a\u6816\u621a\u59bb\u4e03\u51c4\u6f06\u67d2\u6c8f\u5176\u68cb\u5947\u6b67\u7566\u5d0e\u8110\u9f50\u65d7\u7948\u7941\u9a91\u8d77\u5c82\u4e5e\u4f01\u542f\u5951\u780c\u5668\u6c14\u8fc4\u5f03\u6c7d\u6ce3\u8bab\u4e9f\u4e93\u573b\u8291\u840b\u847a\u5601\u5c7a\u5c90\u6c54\u6dc7\u9a90\u7eee\u742a\u7426\u675e\u6864\u69ed\u6b39\u797a\u61a9\u789b\u86f4\u871e\u7da6\u7dae\u8dbf\u8e4a\u9ccd\u9e92",qia:"\u6390\u6070\u6d3d\u845c",qian:"\u7275\u6266\u948e\u94c5\u5343\u8fc1\u7b7e\u4edf\u8c26\u4e7e\u9ed4\u94b1\u94b3\u524d\u6f5c\u9063\u6d45\u8c34\u5811\u5d4c\u6b20\u6b49\u4f65\u9621\u828a\u82a1\u8368\u63ae\u5c8d\u60ad\u614a\u9a9e\u6434\u8930\u7f31\u6920\u80b7\u6106\u94a4\u8654\u7b9d",qiang:"\u67aa\u545b\u8154\u7f8c\u5899\u8537\u5f3a\u62a2\u5af1\u6a2f\u6217\u709d\u9516\u9535\u956a\u8941\u8723\u7f9f\u8deb\u8dc4",qiao:"\u6a47\u9539\u6572\u6084\u6865\u77a7\u4e54\u4fa8\u5de7\u9798\u64ac\u7fd8\u5ced\u4fcf\u7a8d\u5281\u8bee\u8c2f\u835e\u6100\u6194\u7f32\u6a35\u6bf3\u7857\u8df7\u9792",qie:"\u5207\u8304\u4e14\u602f\u7a83\u90c4\u553c\u60ec\u59be\u6308\u9532\u7ba7",qin:"\u94a6\u4fb5\u4eb2\u79e6\u7434\u52e4\u82b9\u64d2\u79bd\u5bdd\u6c81\u82a9\u84c1\u8572\u63ff\u5423\u55ea\u5659\u6eb1\u6a8e\u8793\u887e",qing:"\u9752\u8f7b\u6c22\u503e\u537f\u6e05\u64ce\u6674\u6c30\u60c5\u9877\u8bf7\u5e86\u5029\u82d8\u570a\u6aa0\u78ec\u873b\u7f44\u7b90\u8b26\u9cad\u9ee5",qiong:"\u743c\u7a77\u909b\u8315\u7a79\u7b47\u928e",qiu:"\u79cb\u4e18\u90b1\u7403\u6c42\u56da\u914b\u6cc5\u4fc5\u6c3d\u5def\u827d\u72b0\u6e6b\u9011\u9052\u6978\u8d47\u9e20\u866c\u86af\u8764\u88d8\u7cd7\u9cc5\u9f3d",qu:"\u8d8b\u533a\u86c6\u66f2\u8eaf\u5c48\u9a71\u6e20\u53d6\u5a36\u9f8b\u8da3\u53bb\u8bce\u52ac\u8556\u8627\u5c96\u8862\u9612\u74a9\u89d1\u6c0d\u795b\u78f2\u766f\u86d0\u883c\u9eb4\u77bf\u9ee2",quan:"\u5708\u98a7\u6743\u919b\u6cc9\u5168\u75ca\u62f3\u72ac\u5238\u529d\u8be0\u8343\u737e\u609b\u7efb\u8f81\u754e\u94e8\u8737\u7b4c\u9b08",que:"\u7f3a\u7094\u7638\u5374\u9e4a\u69b7\u786e\u96c0\u9619\u60ab",qun:"\u88d9\u7fa4\u9021",ran:"\u7136\u71c3\u5189\u67d3\u82d2\u9aef",rang:"\u74e4\u58e4\u6518\u56b7\u8ba9\u79b3\u7a70",rao:"\u9976\u6270\u7ed5\u835b\u5a06\u6861",ruo:"\u60f9\u82e5\u5f31",re:"\u70ed\u504c",ren:"\u58ec\u4ec1\u4eba\u5fcd\u97e7\u4efb\u8ba4\u5203\u598a\u7eab\u4ede\u834f\u845a\u996a\u8f6b\u7a14\u887d",reng:"\u6254\u4ecd",ri:"\u65e5",rong:"\u620e\u8338\u84c9\u8363\u878d\u7194\u6eb6\u5bb9\u7ed2\u5197\u5d58\u72e8\u7f1b\u6995\u877e",rou:"\u63c9\u67d4\u8089\u7cc5\u8e42\u97a3",ru:"\u8339\u8815\u5112\u5b7a\u5982\u8fb1\u4e73\u6c5d\u5165\u8925\u84d0\u85b7\u5685\u6d33\u6ebd\u6fe1\u94f7\u8966\u98a5",ruan:"\u8f6f\u962e\u670a",rui:"\u854a\u745e\u9510\u82ae\u8564\u777f\u868b",run:"\u95f0\u6da6",sa:"\u6492\u6d12\u8428\u5345\u4ee8\u6332\u98d2",sai:"\u816e\u9cc3\u585e\u8d5b\u567b",san:"\u4e09\u53c1\u4f1e\u6563\u5f61\u9993\u6c35\u6bf5\u7cc1\u9730",sang:"\u6851\u55d3\u4e27\u6421\u78c9\u98a1",sao:"\u6414\u9a9a\u626b\u5ac2\u57fd\u81ca\u7619\u9ccb",se:"\u745f\u8272\u6da9\u556c\u94e9\u94ef\u7a51",sen:"\u68ee",seng:"\u50e7",sha:"\u838e\u7802\u6740\u5239\u6c99\u7eb1\u50bb\u5565\u715e\u810e\u6b43\u75e7\u88df\u970e\u9ca8",shai:"\u7b5b\u6652\u917e",shan:"\u73ca\u82eb\u6749\u5c71\u5220\u717d\u886b\u95ea\u9655\u64c5\u8d61\u81b3\u5584\u6c55\u6247\u7f2e\u5261\u8baa\u912f\u57cf\u829f\u6f78\u59d7\u9a9f\u81bb\u9490\u759d\u87ee\u8222\u8dda\u9cdd",shang:"\u5892\u4f24\u5546\u8d4f\u664c\u4e0a\u5c1a\u88f3\u57a7\u7ef1\u6b87\u71b5\u89de",shao:"\u68a2\u634e\u7a0d\u70e7\u828d\u52fa\u97f6\u5c11\u54e8\u90b5\u7ecd\u52ad\u82d5\u6f72\u86f8\u7b24\u7b72\u8244",she:"\u5962\u8d4a\u86c7\u820c\u820d\u8d66\u6444\u5c04\u6151\u6d89\u793e\u8bbe\u538d\u4f58\u731e\u7572\u9e9d",shen:"\u7837\u7533\u547b\u4f38\u8eab\u6df1\u5a20\u7ec5\u795e\u6c88\u5ba1\u5a76\u751a\u80be\u614e\u6e17\u8bdc\u8c02\u5432\u54c2\u6e16\u6939\u77e7\u8703",sheng:"\u58f0\u751f\u7525\u7272\u5347\u7ef3\u7701\u76db\u5269\u80dc\u5723\u4e1e\u6e11\u5ab5\u771a\u7b19",shi:"\u5e08\u5931\u72ee\u65bd\u6e7f\u8bd7\u5c38\u8671\u5341\u77f3\u62fe\u65f6\u4ec0\u98df\u8680\u5b9e\u8bc6\u53f2\u77e2\u4f7f\u5c4e\u9a76\u59cb\u5f0f\u793a\u58eb\u4e16\u67ff\u4e8b\u62ed\u8a93\u901d\u52bf\u662f\u55dc\u566c\u9002\u4ed5\u4f8d\u91ca\u9970\u6c0f\u5e02\u6043\u5ba4\u89c6\u8bd5\u8c25\u57d8\u83b3\u84cd\u5f11\u5511\u9963\u8f7c\u8006\u8d33\u70bb\u793b\u94c8\u94ca\u87ab\u8210\u7b6e\u8c55\u9ca5\u9cba",shou:"\u6536\u624b\u9996\u5b88\u5bff\u6388\u552e\u53d7\u7626\u517d\u624c\u72e9\u7ef6\u824f",shu:"\u852c\u67a2\u68b3\u6b8a\u6292\u8f93\u53d4\u8212\u6dd1\u758f\u4e66\u8d4e\u5b70\u719f\u85af\u6691\u66d9\u7f72\u8700\u9ecd\u9f20\u5c5e\u672f\u8ff0\u6811\u675f\u620d\u7ad6\u5885\u5eb6\u6570\u6f31\u6055\u500f\u587e\u83fd\u5fc4\u6cad\u6d91\u6f8d\u59dd\u7ebe\u6bf9\u8167\u6bb3\u956f\u79eb\u9e6c",shua:"\u5237\u800d\u5530\u6dae",shuai:"\u6454\u8870\u7529\u5e05\u87c0",shuan:"\u6813\u62f4\u95e9",shuang:"\u971c\u53cc\u723d\u5b40",shui:"\u8c01\u6c34\u7761\u7a0e",shun:"\u542e\u77ac\u987a\u821c\u6042",shuo:"\u8bf4\u7855\u6714\u70c1\u84b4\u6420\u55cd\u6fef\u5981\u69ca\u94c4",si:"\u65af\u6495\u5636\u601d\u79c1\u53f8\u4e1d\u6b7b\u8086\u5bfa\u55e3\u56db\u4f3a\u4f3c\u9972\u5df3\u53ae\u4fdf\u5155\u83e5\u549d\u6c5c\u6cd7\u6f8c\u59d2\u9a77\u7f0c\u7940\u7960\u9536\u9e36\u801c\u86f3\u7b25",song:"\u677e\u8038\u6002\u9882\u9001\u5b8b\u8bbc\u8bf5\u51c7\u83d8\u5d27\u5d69\u5fea\u609a\u6dde\u7ae6",sou:"\u641c\u8258\u64de\u55fd\u53df\u55d6\u55fe\u998a\u6eb2\u98d5\u778d\u953c\u878b",su:"\u82cf\u9165\u4fd7\u7d20\u901f\u7c9f\u50f3\u5851\u6eaf\u5bbf\u8bc9\u8083\u5919\u8c21\u850c\u55c9\u612b\u7c0c\u89eb\u7a23",suan:"\u9178\u849c\u7b97",sui:"\u867d\u968b\u968f\u7ee5\u9ad3\u788e\u5c81\u7a57\u9042\u96a7\u795f\u84d1\u51ab\u8c07\u6fc9\u9083\u71e7\u772d\u7762",sun:"\u5b59\u635f\u7b0b\u836a\u72f2\u98e7\u69ab\u8de3\u96bc",suo:"\u68ad\u5506\u7f29\u7410\u7d22\u9501\u6240\u5522\u55e6\u5a11\u686b\u7743\u7fa7",ta:"\u584c\u4ed6\u5b83\u5979\u5854\u736d\u631e\u8e4b\u8e0f\u95fc\u6ebb\u9062\u69bb\u6c93",tai:"\u80ce\u82d4\u62ac\u53f0\u6cf0\u915e\u592a\u6001\u6c70\u90b0\u85b9\u80bd\u70b1\u949b\u8dc6\u9c90",tan:"\u574d\u644a\u8d2a\u762b\u6ee9\u575b\u6a80\u75f0\u6f6d\u8c2d\u8c08\u5766\u6bef\u8892\u78b3\u63a2\u53f9\u70ad\u90ef\u8548\u6619\u94bd\u952c\u8983",tang:"\u6c64\u5858\u642a\u5802\u68e0\u819b\u5510\u7cd6\u50a5\u9967\u6e8f\u746d\u94f4\u9557\u8025\u8797\u87b3\u7fb0\u91a3",thang:"\u5018\u8eba\u6dcc",theng:"\u8d9f\u70eb",tao:"\u638f\u6d9b\u6ed4\u7ee6\u8404\u6843\u9003\u6dd8\u9676\u8ba8\u5957\u6311\u9f17\u5555\u97ec\u9955",te:"\u7279",teng:"\u85e4\u817e\u75bc\u8a8a\u6ed5",ti:"\u68af\u5254\u8e22\u9511\u63d0\u9898\u8e44\u557c\u4f53\u66ff\u568f\u60d5\u6d95\u5243\u5c49\u8351\u608c\u9016\u7ee8\u7f07\u9e48\u88fc\u918d",tian:"\u5929\u6dfb\u586b\u7530\u751c\u606c\u8214\u8146\u63ad\u5fdd\u9617\u6b84\u754b\u94bf\u86ba",tiao:"\u6761\u8fe2\u773a\u8df3\u4f7b\u7967\u94eb\u7a95\u9f86\u9ca6",tie:"\u8d34\u94c1\u5e16\u841c\u992e",ting:"\u5385\u542c\u70c3\u6c40\u5ef7\u505c\u4ead\u5ead\u633a\u8247\u839b\u8476\u5a77\u6883\u8713\u9706",tong:"\u901a\u6850\u916e\u77b3\u540c\u94dc\u5f64\u7ae5\u6876\u6345\u7b52\u7edf\u75db\u4f5f\u50ee\u4edd\u833c\u55f5\u6078\u6f7c\u783c",tou:"\u5077\u6295\u5934\u900f\u4ea0",tu:"\u51f8\u79c3\u7a81\u56fe\u5f92\u9014\u6d82\u5c60\u571f\u5410\u5154\u580d\u837c\u83df\u948d\u9174",tuan:"\u6e4d\u56e2\u7583",tui:"\u63a8\u9893\u817f\u8715\u892a\u9000\u5fd2\u717a",tun:"\u541e\u5c6f\u81c0\u9968\u66be\u8c5a\u7a80",tuo:"\u62d6\u6258\u8131\u9e35\u9640\u9a6e\u9a7c\u692d\u59a5\u62d3\u553e\u4e47\u4f57\u5768\u5eb9\u6cb1\u67dd\u7823\u7ba8\u8204\u8dce\u9f0d",wa:"\u6316\u54c7\u86d9\u6d3c\u5a03\u74e6\u889c\u4f64\u5a32\u817d",wai:"\u6b6a\u5916",wan:"\u8c4c\u5f2f\u6e7e\u73a9\u987d\u4e38\u70f7\u5b8c\u7897\u633d\u665a\u7696\u60cb\u5b9b\u5a49\u4e07\u8155\u525c\u8284\u82cb\u83c0\u7ea8\u7efe\u742c\u8118\u7579\u873f\u7ba2",wang:"\u6c6a\u738b\u4ea1\u6789\u7f51\u5f80\u65fa\u671b\u5fd8\u5984\u7f54\u5c22\u60d8\u8f8b\u9b4d",wei:"\u5a01\u5dcd\u5fae\u5371\u97e6\u8fdd\u6845\u56f4\u552f\u60df\u4e3a\u6f4d\u7ef4\u82c7\u840e\u59d4\u4f1f\u4f2a\u5c3e\u7eac\u672a\u851a\u5473\u754f\u80c3\u5582\u9b4f\u4f4d\u6e2d\u8c13\u5c09\u6170\u536b\u502d\u504e\u8bff\u9688\u8473\u8587\u5e0f\u5e37\u5d34\u5d6c\u7325\u732c\u95f1\u6ca9\u6d27\u6da0\u9036\u5a13\u73ae\u97ea\u8ece\u709c\u7168\u71a8\u75ff\u8249\u9c94",wen:"\u761f\u6e29\u868a\u6587\u95fb\u7eb9\u543b\u7a33\u7d0a\u95ee\u520e\u6120\u960c\u6c76\u74ba\u97eb\u6b81\u96ef",weng:"\u55e1\u7fc1\u74ee\u84ca\u8579",wo:"\u631d\u8717\u6da1\u7a9d\u6211\u65a1\u5367\u63e1\u6c83\u83b4\u5e44\u6e25\u674c\u809f\u9f8c",wu:"\u5deb\u545c\u94a8\u4e4c\u6c61\u8bec\u5c4b\u65e0\u829c\u68a7\u543e\u5434\u6bcb\u6b66\u4e94\u6342\u5348\u821e\u4f0d\u4fae\u575e\u620a\u96fe\u6664\u7269\u52ff\u52a1\u609f\u8bef\u5140\u4ef5\u9622\u90ac\u572c\u82b4\u5e91\u6003\u5fe4\u6d6f\u5be4\u8fd5\u59a9\u9a9b\u727e\u7110\u9e49\u9e5c\u8708\u92c8\u9f2f",xi:"\u6614\u7199\u6790\u897f\u7852\u77fd\u6670\u563b\u5438\u9521\u727a\u7a00\u606f\u5e0c\u6089\u819d\u5915\u60dc\u7184\u70ef\u6eaa\u6c50\u7280\u6a84\u88ad\u5e2d\u4e60\u5ab3\u559c\u94e3\u6d17\u7cfb\u9699\u620f\u7ec6\u50d6\u516e\u96b0\u90d7\u831c\u8478\u84f0\u595a\u550f\u5f99\u9969\u960b\u6d60\u6dc5\u5c63\u5b09\u73ba\u6a28\u66e6\u89cb\u6b37\u71b9\u798a\u79a7\u94b8\u7699\u7a78\u8725\u87cb\u823e\u7fb2\u7c9e\u7fd5\u91af\u9f37",xia:"\u778e\u867e\u5323\u971e\u8f96\u6687\u5ce1\u4fa0\u72ed\u4e0b\u53a6\u590f\u5413\u6380\u846d\u55c4\u72ce\u9050\u7455\u7856\u7615\u7f45\u9ee0",xian:"\u9528\u5148\u4ed9\u9c9c\u7ea4\u54b8\u8d24\u8854\u8237\u95f2\u6d8e\u5f26\u5acc\u663e\u9669\u73b0\u732e\u53bf\u817a\u9985\u7fa1\u5baa\u9677\u9650\u7ebf\u51bc\u85d3\u5c98\u7303\u66b9\u5a34\u6c19\u7946\u9e47\u75eb\u86ac\u7b45\u7c7c\u9170\u8df9",xiang:"\u76f8\u53a2\u9576\u9999\u7bb1\u8944\u6e58\u4e61\u7fd4\u7965\u8be6\u60f3\u54cd\u4eab\u9879\u5df7\u6a61\u50cf\u5411\u8c61\u8297\u8459\u9977\u5ea0\u9aa7\u7f03\u87d3\u9c9e\u98e8",xiao:"\u8427\u785d\u9704\u524a\u54ee\u56a3\u9500\u6d88\u5bb5\u6dc6\u6653\u5c0f\u5b5d\u6821\u8096\u5578\u7b11\u6548\u54d3\u54bb\u5d24\u6f47\u900d\u9a81\u7ee1\u67ad\u67b5\u7b71\u7bab\u9b48",xie:"\u6954\u4e9b\u6b47\u874e\u978b\u534f\u631f\u643a\u90aa\u659c\u80c1\u8c10\u5199\u68b0\u5378\u87f9\u61c8\u6cc4\u6cfb\u8c22\u5c51\u5055\u4eb5\u52f0\u71ee\u85a4\u64b7\u5ee8\u7023\u9082\u7ec1\u7f2c\u69ad\u698d\u6b59\u8e9e",xin:"\u85aa\u82af\u950c\u6b23\u8f9b\u65b0\u5ffb\u5fc3\u4fe1\u8845\u56df\u99a8\u8398\u6b46\u94fd\u946b",xing:"\u661f\u8165\u7329\u60fa\u5174\u5211\u578b\u5f62\u90a2\u884c\u9192\u5e78\u674f\u6027\u59d3\u9649\u8347\u8365\u64e4\u60bb\u784e",xiong:"\u5144\u51f6\u80f8\u5308\u6c79\u96c4\u718a\u828e",xiu:"\u4f11\u4fee\u7f9e\u673d\u55c5\u9508\u79c0\u8896\u7ee3\u83a0\u5cab\u9990\u5ea5\u9e3a\u8c85\u9af9",xu:"\u589f\u620c\u9700\u865a\u5618\u987b\u5f90\u8bb8\u84c4\u9157\u53d9\u65ed\u5e8f\u755c\u6064\u7d6e\u5a7f\u7eea\u7eed\u8bb4\u8be9\u5729\u84ff\u6035\u6d2b\u6e86\u987c\u6829\u7166\u7809\u76f1\u80e5\u7cc8\u9191",xuan:"\u8f69\u55a7\u5ba3\u60ac\u65cb\u7384\u9009\u7663\u7729\u7eda\u5107\u8c16\u8431\u63ce\u9994\u6ceb\u6d35\u6e32\u6f29\u7487\u6966\u6684\u70ab\u714a\u78b9\u94c9\u955f\u75c3",xue:"\u9774\u859b\u5b66\u7a74\u96ea\u8840\u5671\u6cf6\u9cd5",xun:"\u52cb\u718f\u5faa\u65ec\u8be2\u5bfb\u9a6f\u5de1\u6b89\u6c5b\u8bad\u8baf\u900a\u8fc5\u5dfd\u57d9\u8340\u85b0\u5ccb\u5f87\u6d54\u66db\u7aa8\u91ba\u9c9f",ya:"\u538b\u62bc\u9e26\u9e2d\u5440\u4e2b\u82bd\u7259\u869c\u5d16\u8859\u6daf\u96c5\u54d1\u4e9a\u8bb6\u4f22\u63e0\u5416\u5c88\u8fd3\u5a05\u740a\u6860\u6c29\u7811\u775a\u75d6",yan:"\u7109\u54bd\u9609\u70df\u6df9\u76d0\u4e25\u7814\u8712\u5ca9\u5ef6\u8a00\u989c\u960e\u708e\u6cbf\u5944\u63a9\u773c\u884d\u6f14\u8273\u5830\u71d5\u538c\u781a\u96c1\u5501\u5f66\u7130\u5bb4\u8c1a\u9a8c\u53a3\u9765\u8d5d\u4fe8\u5043\u5156\u8ba0\u8c33\u90fe\u9122\u82ab\u83f8\u5d26\u6079\u95eb\u960f\u6d07\u6e6e\u6edf\u598d\u5ae3\u7430\u664f\u80ed\u814c\u7131\u7f68\u7b75\u917d\u9b47\u990d\u9f39",yang:"\u6b83\u592e\u9e2f\u79e7\u6768\u626c\u4f6f\u75a1\u7f8a\u6d0b\u9633\u6c27\u4ef0\u75d2\u517b\u6837\u6f3e\u5f89\u600f\u6cf1\u7080\u70ca\u6059\u86d8\u9785",yao:"\u9080\u8170\u5996\u7476\u6447\u5c27\u9065\u7a91\u8c23\u59da\u54ac\u8200\u836f\u8981\u8000\u592d\u723b\u5406\u5d3e\u5fad\u7039\u5e7a\u73e7\u6773\u66dc\u80b4\u9e5e\u7a88\u7e47\u9cd0",ye:"\u6930\u564e\u8036\u7237\u91ce\u51b6\u4e5f\u9875\u6396\u4e1a\u53f6\u66f3\u814b\u591c\u6db2\u8c12\u90ba\u63f6\u9980\u6654\u70e8\u94d8",yi:"\u4e00\u58f9\u533b\u63d6\u94f1\u4f9d\u4f0a\u8863\u9890\u5937\u9057\u79fb\u4eea\u80f0\u7591\u6c82\u5b9c\u59e8\u5f5d\u6905\u8681\u501a\u5df2\u4e59\u77e3\u4ee5\u827a\u6291\u6613\u9091\u5c79\u4ebf\u5f79\u81c6\u9038\u8084\u75ab\u4ea6\u88d4\u610f\u6bc5\u5fc6\u4e49\u76ca\u6ea2\u8be3\u8bae\u8c0a\u8bd1\u5f02\u7ffc\u7fcc\u7ece\u5208\u5293\u4f7e\u8bd2\u572a\u572f\u57f8\u61ff\u82e1\u858f\u5f08\u5955\u6339\u5f0b\u5453\u54a6\u54bf\u566b\u5cc4\u5db7\u7317\u9974\u603f\u6021\u6092\u6f2a\u8fe4\u9a7f\u7f22\u6baa\u8d3b\u65d6\u71a0\u9487\u9552\u9571\u75cd\u7617\u7654\u7fca\u8864\u8734\u8223\u7fbf\u7ff3\u914f\u9edf",yin:"\u8335\u836b\u56e0\u6bb7\u97f3\u9634\u59fb\u541f\u94f6\u6deb\u5bc5\u996e\u5c39\u5f15\u9690\u5370\u80e4\u911e\u5819\u831a\u5591\u72fa\u5924\u6c24\u94df\u763e\u8693\u972a\u9f88",ying:"\u82f1\u6a31\u5a74\u9e70\u5e94\u7f28\u83b9\u8424\u8425\u8367\u8747\u8fce\u8d62\u76c8\u5f71\u9896\u786c\u6620\u5b34\u90e2\u8314\u83ba\u8426\u6484\u5624\u81ba\u6ee2\u6f46\u701b\u745b\u748e\u6979\u9e66\u763f\u988d\u7f42",yo:"\u54df\u5537",yong:"\u62e5\u4f63\u81c3\u75c8\u5eb8\u96cd\u8e0a\u86f9\u548f\u6cf3\u6d8c\u6c38\u607f\u52c7\u7528\u4fd1\u58c5\u5889\u6175\u9095\u955b\u752c\u9cd9\u9954",you:"\u5e7d\u4f18\u60a0\u5fe7\u5c24\u7531\u90ae\u94c0\u72b9\u6cb9\u6e38\u9149\u6709\u53cb\u53f3\u4f51\u91c9\u8bf1\u53c8\u5e7c\u5363\u6538\u4f91\u83b8\u5466\u56ff\u5ba5\u67da\u7337\u7256\u94d5\u75a3\u8763\u9c7f\u9edd\u9f2c",yu:"\u8fc2\u6de4\u4e8e\u76c2\u6986\u865e\u611a\u8206\u4f59\u4fde\u903e\u9c7c\u6109\u6e1d\u6e14\u9685\u4e88\u5a31\u96e8\u4e0e\u5c7f\u79b9\u5b87\u8bed\u7fbd\u7389\u57df\u828b\u90c1\u5401\u9047\u55bb\u5cea\u5fa1\u6108\u6b32\u72f1\u80b2\u8a89\u6d74\u5bd3\u88d5\u9884\u8c6b\u9a6d\u79ba\u6bd3\u4f1b\u4fe3\u8c00\u8c15\u8438\u84e3\u63c4\u5581\u5704\u5709\u5d5b\u72f3\u996b\u5ebe\u9608\u59aa\u59a4\u7ea1\u745c\u6631\u89ce\u8174\u6b24\u65bc\u715c\u71e0\u807f\u94b0\u9e46\u7610\u7600\u7ab3\u8753\u7afd\u8201\u96e9\u9f89",yuan:"\u9e33\u6e0a\u51a4\u5143\u57a3\u8881\u539f\u63f4\u8f95\u56ed\u5458\u5706\u733f\u6e90\u7f18\u8fdc\u82d1\u613f\u6028\u9662\u586c\u6c85\u5a9b\u7457\u6a7c\u7230\u7722\u9e22\u8788\u9f0b",yue:"\u66f0\u7ea6\u8d8a\u8dc3\u94a5\u5cb3\u7ca4\u6708\u60a6\u9605\u9fa0\u6a3e\u5216\u94ba",yun:"\u8018\u4e91\u90e7\u5300\u9668\u5141\u8fd0\u8574\u915d\u6655\u97f5\u5b55\u90d3\u82b8\u72c1\u607d\u7ead\u6b92\u6600\u6c32",za:"\u531d\u7838\u6742\u62f6\u5482",zai:"\u683d\u54c9\u707e\u5bb0\u8f7d\u518d\u5728\u54b1\u5d3d\u753e",zan:"\u6512\u6682\u8d5e\u74d2\u661d\u7c2a\u7ccc\u8db1\u933e",zang:"\u8d43\u810f\u846c\u5958\u6215\u81e7",zao:"\u906d\u7cdf\u51ff\u85fb\u67a3\u65e9\u6fa1\u86a4\u8e81\u566a\u9020\u7682\u7076\u71e5\u5523\u7f2b",ze:"\u8d23\u62e9\u5219\u6cfd\u4ec4\u8d5c\u5567\u8fee\u6603\u7b2e\u7ba6\u8234",zei:"\u8d3c",zen:"\u600e\u8c2e",zeng:"\u589e\u618e\u66fe\u8d60\u7f2f\u7511\u7f7e\u9503",zha:"\u624e\u55b3\u6e23\u672d\u8f67\u94e1\u95f8\u7728\u6805\u69a8\u548b\u4e4d\u70b8\u8bc8\u63f8\u5412\u54a4\u54f3\u600d\u781f\u75c4\u86b1\u9f44",zhai:"\u6458\u658b\u5b85\u7a84\u503a\u5be8\u7826",zhan:"\u77bb\u6be1\u8a79\u7c98\u6cbe\u76cf\u65a9\u8f97\u5d2d\u5c55\u8638\u6808\u5360\u6218\u7ad9\u6e5b\u7efd\u8c35\u640c\u65c3",zhang:"\u6a1f\u7ae0\u5f70\u6f33\u5f20\u638c\u6da8\u6756\u4e08\u5e10\u8d26\u4ed7\u80c0\u7634\u969c\u4ec9\u9123\u5e5b\u5d82\u7350\u5adc\u748b\u87d1",zhao:"\u62db\u662d\u627e\u6cbc\u8d75\u7167\u7f69\u5146\u8087\u53ec\u722a\u8bcf\u68f9\u948a\u7b0a",zhe:"\u906e\u6298\u54f2\u86f0\u8f99\u8005\u9517\u8517\u8fd9\u6d59\u8c2a\u966c\u67d8\u8f84\u78d4\u9e67\u891a\u8707\u8d6d",zhen:"\u73cd\u659f\u771f\u7504\u7827\u81fb\u8d1e\u9488\u4fa6\u6795\u75b9\u8bca\u9707\u632f\u9547\u9635\u7f1c\u6862\u699b\u8f78\u8d48\u80d7\u6715\u796f\u755b\u9e29",zheng:"\u84b8\u6323\u7741\u5f81\u72f0\u4e89\u6014\u6574\u62ef\u6b63\u653f\u5e27\u75c7\u90d1\u8bc1\u8be4\u5ce5\u94b2\u94ee\u7b5d",zhi:"\u829d\u679d\u652f\u5431\u8718\u77e5\u80a2\u8102\u6c41\u4e4b\u7ec7\u804c\u76f4\u690d\u6b96\u6267\u503c\u4f84\u5740\u6307\u6b62\u8dbe\u53ea\u65e8\u7eb8\u5fd7\u631a\u63b7\u81f3\u81f4\u7f6e\u5e1c\u5cd9\u5236\u667a\u79e9\u7a1a\u8d28\u7099\u75d4\u6ede\u6cbb\u7a92\u536e\u965f\u90c5\u57f4\u82b7\u646d\u5e19\u5fee\u5f58\u54ab\u9a98\u6809\u67b3\u6800\u684e\u8f75\u8f7e\u6534\u8d3d\u81a3\u7949\u7957\u9ef9\u96c9\u9e37\u75e3\u86ed\u7d77\u916f\u8dd6\u8e2c\u8e2f\u8c78\u89ef",zhong:"\u4e2d\u76c5\u5fe0\u949f\u8877\u7ec8\u79cd\u80bf\u91cd\u4ef2\u4f17\u51a2\u953a\u87bd\u8202\u822f\u8e35",zhou:"\u821f\u5468\u5dde\u6d32\u8bcc\u7ca5\u8f74\u8098\u5e1a\u5492\u76b1\u5b99\u663c\u9aa4\u5544\u7740\u501c\u8bf9\u836e\u9b3b\u7ea3\u80c4\u78a1\u7c40\u8233\u914e\u9cb7",zhu:"\u73e0\u682a\u86db\u6731\u732a\u8bf8\u8bdb\u9010\u7af9\u70db\u716e\u62c4\u77a9\u5631\u4e3b\u8457\u67f1\u52a9\u86c0\u8d2e\u94f8\u7b51\u4f4f\u6ce8\u795d\u9a7b\u4f2b\u4f8f\u90be\u82ce\u8331\u6d19\u6e1a\u6f74\u9a7a\u677c\u69e0\u6a65\u70b7\u94e2\u75b0\u7603\u86b0\u7afa\u7bb8\u7fe5\u8e85\u9e88",zhua:"\u6293",zhuai:"\u62fd",zhuan:"\u4e13\u7816\u8f6c\u64b0\u8d5a\u7bc6\u629f\u556d\u989b",zhuang:"\u6869\u5e84\u88c5\u5986\u649e\u58ee\u72b6\u4e2c",zhui:"\u690e\u9525\u8ffd\u8d58\u5760\u7f00\u8411\u9a93\u7f12",zhun:"\u8c06\u51c6",zhuo:"\u6349\u62d9\u5353\u684c\u7422\u8301\u914c\u707c\u6d4a\u502c\u8bfc\u5ef4\u855e\u64e2\u555c\u6d5e\u6dbf\u6753\u712f\u799a\u65ab",zi:"\u5179\u54a8\u8d44\u59ff\u6ecb\u6dc4\u5b5c\u7d2b\u4ed4\u7c7d\u6ed3\u5b50\u81ea\u6e0d\u5b57\u8c18\u5d6b\u59ca\u5b73\u7f01\u6893\u8f8e\u8d40\u6063\u7726\u9531\u79ed\u8014\u7b2b\u7ca2\u89dc\u8a3e\u9cbb\u9aed",zong:"\u9b03\u68d5\u8e2a\u5b97\u7efc\u603b\u7eb5\u8159\u7cbd",zou:"\u90b9\u8d70\u594f\u63cd\u9139\u9cb0",zu:"\u79df\u8db3\u5352\u65cf\u7956\u8bc5\u963b\u7ec4\u4fce\u83f9\u5550\u5f82\u9a75\u8e74",zuan:"\u94bb\u7e82\u6525\u7f35",zui:"\u5634\u9189\u6700\u7f6a",zun:"\u5c0a\u9075\u6499\u6a3d\u9cdf",zuo:"\u6628\u5de6\u4f50\u67de\u505a\u4f5c\u5750\u5ea7\u961d\u963c\u80d9\u795a\u9162",cou:"\u85ae\u6971\u8f8f\u8160",nang:"\u652e\u54dd\u56d4\u9995\u66e9",o:"\u5594",dia:"\u55f2",chuai:"\u562c\u81aa\u8e39",cen:"\u5c91\u6d94",diu:"\u94e5",nou:"\u8028",fou:"\u7f36",bia:"\u9adf"},s={a:"\u51f9",b:"\u82ad",c:"\u64e6",d:"\u642d",e:"\u86fe",f:"\u85e9",g:"\u5676",h:"\u547c",i:"\u8c41",j:"\u51fb",k:"\u5580",l:"\u5783",m:"\u62c7",n:"\u5973",o:"\u54e6",p:"\u556a",q:"\u671f",r:"\u7136",s:"\u6492",t:"\u51f8",u:"\u541e",v:"\u62d6",w:"\u6316",x:"\u6614",y:"\u538b",z:"\u531d"},u=function(e){switch(e){case"yyyy":return"year";case"yyyy-MM":return"month";case"yyyy-MM-dd":return"day";case"yyyy-qq":return"quarter";case"yyyy-MM-dd HH":case"HH":return"hour";case"yyyy-MM-dd HH:mm":case"HH:mm":return"minute";case"yyyy-MM-dd HH:mm:ss":case"HH:mm:ss":return"second"}return""};Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":this.getMonth(),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(""+this.getFullYear()).substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Date.prototype.parse=function(e,t){switch(t){case"yyyy-MM-dd HH:mm:ss":this.setSeconds(+e.substr(17,2));break;case"yyyy-MM-dd HH:mm":this.setMinutes(+e.substr(14,2));break;case"yyyy-MM-dd HH":this.setHours(+e.substr(11,2));break;case"yyyy-MM-dd":this.setDate(+e.substr(8,2));break;case"yyyy-MM":this.setMonth(+e.substr(5,2)-1);break;case"yyyy-qq":this.setMonth(3*+e.substr(5,2))}this.setFullYear(+e.substr(0,4))},Date.prototype.endAdd=function(e){switch(e){case"yyyy":this.setFullYear(this.getFullYear()+1);break;case"yyyy-MM":this.setMonth(this.getMonth()+1);break;case"yyyy-MM-dd":this.setDate(this.getDate()+1);break;case"yyyy-qq":this.setMonth(this.getMonth()+3);break;case"yyyy-MM-dd HH":this.setHours(this.getHours()+1);break;case"yyyy-MM-dd HH:mm":this.setMinutes(this.getMinutes()+1);break;case"yyyy-MM-dd HH:mm:ss":this.setSeconds(this.getSeconds()+1)}};var l=function(e,t){if(!e.calType)return e.format?{date_histogram:{field:e.remoteName,interval:u(e.format),format:"yyyy-qq"===e.format?"yyyy-MM":e.format,min_doc_count:0,extended_bounds:{min:t.dateRange[0],max:t.dateRange[1]}}}:{terms:{field:e.remoteName,size:e.size||100}};if(e.calType)switch(e.calType){case"count":return{value_count:{field:e.remoteName}};case"rangesGroup":return{range:{field:e.remoteName,keyed:!0,ranges:e.ranges}};default:return{extended_stats:{field:e.remoteName}}}return{}},p=function(e){if(0===e)return e;if(e){var t,n=(e=e.toString()).indexOf("."),r=[],a="",i="",o=0;-1!==n?(a=e.substring(0,n),i=e.substring(n,e.length),o=a.length):o=e.length,t=Math.ceil(o/3);for(var c=0;c<t-1;c++)r[t-1-c]=e.slice(o-3*(c+1),o-3*c);return r[0]=e.slice(0,o-3*(t-1)),-1!==n?r.toString()+i:r.toString()}};function d(e){if(Number(e)===parseFloat(e)){var t=Number(e);if(t>=1e8)return(t/1e8).toFixed(2)+"\u4ebf";if(t>=1e4&&t<1e8)return p((t/1e4).toFixed(2))+"\u4e07";if(t>=1e3)return p(t);if(0<=t&&t<1e3)return t}return"--"}function f(e){if(Number(e)===parseFloat(e)){var t=Number(e);if(t>=1e8)return Math.round(t/1e8)+"\u4ebf";if(t>=1e4&&t<1e8)return p(Math.round(t/1e4))+"\u4e07";if(t>=1e3)return p(t);if(0<=t&&t<1e3)return t}return"--"}const h={findDateInterval:u,findDateRange:function(e,t,n){var r=new Date;r.parse(e[0],"yyyy-MM");var a=r.format(t);return r.parse(e[1],"yyyy-MM"),n&&r.endAdd(t),{min:a,max:r.format(t)}},findAggs:function(e,t){var n={},r={};return r[e.name]=l(e,t),e.children?n[e.children]={children:{type:e.children},aggs:r}:n[t.category]={filter:{term:{flag:t.category}},aggs:r},n},formatNumber:p,getApproximateNum:d};var m=function(e,t){void 0===t&&(t=14);var n=document.createElement("canvas").getContext("2d");return n?(n.font=t+"px 'PingFang SC','Microsoft Yahei', 'Helvetica Neue', Helvetica, Tahoma, Arial, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif",n.measureText(e).width):0},v=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function y(e,t){switch(t){case"HOUR":return{from:o()(e).format("YYYY-MM-DD HH:00:00"),to:o()(e).format("YYYY-MM-DD HH:59:59")};case"YEAR":var n=o()(e);return{from:n.startOf("year").format("YYYY-MM-DD"),to:n.endOf("year").format("YYYY-MM-DD")};case"QUARTER":var r=e.split("-"),a=o()().year(r[0]).quarter(r[1]);return{from:a.startOf("quarter").format("YYYY-MM-DD"),to:a.endOf("quarter").format("YYYY-MM-DD")};case"MONTH":var i=o()(e);return{from:i.startOf("month").format("YYYY-MM-DD"),to:i.endOf("month").format("YYYY-MM-DD")};case"WEEK":var c=e.split("-"),s=c[0],u=c[1],l=o()().year(s).week(u);return{from:l.startOf("week").format("YYYY-MM-DD"),to:l.endOf("week").format("YYYY-MM-DD")};default:return{from:e,to:e}}}function g(e,t){switch(e){case"YEAR":return t+"\u5e74";case"QUARTER":return o()(t).format("YYYY\u5e74\u7b2cM\u5b63\u5ea6");case"WEEK":return t.substr(0,4)+"\u5e74\u7b2c"+Number(t.substr(t.length-2,t.length))+"\u5468";case"MONTH":return o()(t).format("YYYY\u5e74M\u6708");case"HOUR":return o()(t).format("M\u6708D\u65e5H\u65f6");default:return o()(t).format("YYYY\u5e74M\u6708D\u65e5")}}function x(e,t){switch(e){case"YEAR":return t+"\u5e74";case"QUARTER":return o()(t).format("YYYY\u5e74\u7b2cM\u5b63\u5ea6");case"WEEK":return t.substr(0,4)+"\u5e74\u7b2c"+Number(t.substr(t.length-2,t.length))+"\u5468";case"MONTH":return o()(t).format("YYYY\u5e74MM\u6708");case"HOUR":return o()(t).format("MM\u6708DD\u65e5HH\u65f6");default:return o()(t).format("YYYY/MM/DD")}}function I(e){return e.replaceAll("-","/")}function b(e,t){return void 0===t&&(t=!1),/:/.test(e)?e:t?o()(e).endOf("day").format("YYYY/MM/DD  HH:ss:mm"):o()(e).format("YYYY/MM/DD  HH:ss:mm")}function T(e){try{var t=e.indexOf("?"),n=e;return t>-1&&(n=e.substring(t+1)),n.split("&").reduce((function(e,t){var n,r=t.split("=");return(0,a.Z)({},e,((n={})[r[0]]=r[1],n))}),{})}catch(r){return{}}}function E(e){try{return"?"+Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}catch(t){return""}}function w(e){return e.replace(/[a-zA-Z]/g,(function(e){return s[e.toLowerCase()]}))}function k(e){for(var t="",n=new RegExp("[a-zA-Z0-9- ]"),r=0;r<e.length;r++){var a=e.substr(r,1),i=C(a);n.test(a)?t+=a:!1!==i&&(t+=i)}for(t=t.replace(/ /g,"-");t.indexOf("--")>0;)t=t.replace("--","-");return t}function C(e){for(var t in c)if(-1!==c[t].indexOf(e))return S(t);return!1}function S(e){if(e.length>0)return e.substr(0,1).toUpperCase()+e.substr(1,e.length)}function N(e,t,n,r){void 0===t&&(t="name"),void 0===n&&(n="z_p");var i=[],o=[];if(e.length&&e instanceof Array){if(["COMMENT_SCORE","PRODUCT_LANGUAGE","MESSAGE_TYPE"].includes(r))return e;var c=e.filter((function(e){return!(!parseFloat(e[t])&&0!==parseFloat(e[t]))||(i.push(e),!1)})).sort((function(e,n){return parseFloat(e[t])-parseFloat(n[t])}));i=i.filter((function(e){return!/^[a-z\d\u4E00-\u9FA5]+$/i.test(e[t])||!e[t]||(o.push(e),!1)})).sort((function(e,n){return e[t]&&n[t]?e[t].localeCompare(n[t]):0}));var s,u=[];if(1===(o=o.map((function(e){return(0,a.Z)({},e,{compareName:"p_z"===n?k(e[t].trim()||""):w(e[t].trim()||"")})})).sort((function(e,t){return"p_z"===n?e.compareName.localeCompare(t.compareName):e.compareName.localeCompare(t.compareName,"zh")})).map((function(e){return delete e.compareName,e}))).length&&"\u672a\u77e5"===o[0].id)u=[].concat(c,i,o);else u=(s=o).concat.apply(s,c.concat(i));return u.map((function(e){return["CUSTOMER_PROPERTY"].includes(r)?(0,a.Z)({},e,{originId:e.id,id:e.label}):e}))}return["CUSTOMER_PROPERTY"].includes(r)?(0,a.Z)({},e,{originId:e.id,id:e.label}):e}var O=function(){return console.error("\u4e0d\u53ef\u4ee5\u901a\u8fc7js\u8bbe\u7f6enames\u54e6\uff01\u8bf7\u624b\u52a8\u5728names\u4e2d\u6dfb\u52a0\u5b57\u6bb5\uff01\uff01"),!0},_=function e(t,n){return void 0===n&&(n=""),new Proxy(t,{get:function(t,r){if("$$typeof"!==r){var a=""+(n||"")+(n?r.replace(r[0],r[0].toUpperCase()):r);if(t[r])return t[r]instanceof Object?e(t[r],a):a;console.error("names\u4e2d\u4e0d\u5305\u542b "+r+" \u952e\u540d\uff0c\u8bf7\u68c0\u67e5names\u6587\u4ef6\uff08\u952e\u540d\u8def\u5f84\uff1a"+a+"\uff09")}},set:O,defineProperty:O,deleteProperty:O,preventExtensions:O,setPrototypeOf:O})},j=function(e){var t=100*e;return t<.01?t.toExponential(2):t.toFixed(2)},A=function(e){if(!e)return null;var t=new Date,n=new Date(e.substring(0,19).replace(/-/g,"/").replace(/T/," ")),r=t.getTime()-n.getTime(),a=36e5,i=864e5;switch(!0){case r<a:var o=Math.abs(Math.floor(r/6e4));return o?o+"\u5206\u949f\u524d":"\u521a\u521a";case r<i:return Math.floor(r/a)+"\u5c0f\u65f6\u524d";default:return Math.floor(r/i)+"\u5929\u524d"}},D=function(e){var t,n,a,i=document.querySelector("."+e),o=document.createRange();null==(t=window.getSelection())||t.removeAllRanges(),i&&o.selectNode(i),null==(n=window.getSelection())||n.addRange(o),document.execCommand("Copy")?r.default.success("\u590d\u5236\u6210\u529f"):r.default.error("\u590d\u5236\u5931\u8d25"),null==(a=window.getSelection())||a.removeAllRanges()};function M(e){var t=["!DOCTYPE","a","abbr","address","applet","acronym","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","keygen","kbd","label","legend","li","link","map","mark","menu","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","ruby","s","samp","script","select","small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","rt","section","isindex"],n="";if(arguments.length>0)for(var r=0;r<arguments.length;r++){var a=t.indexOf(arguments[r]);-1!==a&&t.splice(a,1)}n=t.join("|");var i=new RegExp("(?=<[/]?("+n+"){1}?(>|[s]+))[^>]+?>","g");return e.replace(i,"")}var R=function(){var e=location.origin,t=e.slice(e.indexOf("//")+2,e.indexOf("."));return"192"===t?"server"+location.port.slice(-1):t},L=function(e){var t=document.createElement("p");return e.replace(/&#?\w+;/g,(function(e,n){return t.innerHTML=e,t.textContent}))},P=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.slice(1).match(t);return null!=n?n[2]:null};function F(e,t){var n=e.username,r=e.phoneNumber,a=e.email;switch(t){case"showAll":return{username:"null"!==n&&n?n:"--",phoneNumber:"null"!==r&&r?r:"--",email:"null"!==a&&a?a:"--"};case"showPart":if(n=n&&n.substring(0,1)+new Array(n.length).join("*"),r=r&&"null"!==r?r.substring(0,3)+"****"+r.substring(7):"--",a){var i,o=null==(i=a)?void 0:i.split("@"),c=o[0],s=o[1],u=c.length>2?c.substring(0,2):"";a="null"===a?"--":s?u+"***@"+s:u}return{username:n,phoneNumber:r,email:a};case"hide":return{username:"***",phoneNumber:"***",email:"***"};default:throw new Error("\u6743\u9650 type \u4e0d\u5339\u914d")}}},19635:(e,t,n)=>{var r={"./bdtb.png":83005,"./bdxw.png":1169,"./bdzd.png":57669,"./bilibili.png":28760,"./chuangwei.png":19357,"./coloros_bbs.png":32300,"./custom.png":12770,"./douyin.png":2257,"./dy.png":25562,"./dzdp.png":37273,"./ecovacs.png":23079,"./ggstore.png":67470,"./gm.png":81883,"./haixin.png":37027,"./hmts.png":99981,"./htsc.png":65644,"./huawei.png":69506,"./iosapp.png":91890,"./jd.png":64796,"./jrtt.png":64078,"./jts.png":39357,"./jx.png":64290,"./ks.png":91304,"./nps.png":80747,"./opposq.png":93273,"./pdd.png":36627,"./smzdm.png":4494,"./snyg.png":41872,"./tb.png":35809,"./tm.png":76518,"./tsyyb.png":71325,"./txxw.png":44817,"./vivo.png":71578,"./vivo_bbs.png":68849,"./wph.png":16602,"./wx.png":42561,"./wyxw.png":99420,"./xhs.png":86711,"./xl.png":8604,"./xlxw.png":22089,"./xm.png":63357,"./xm_bbs.png":98981,"./xm_bbs1.png":71148,"./xw.png":73724,"./yd.png":13538,"./yhd.png":16781,"./ymx.png":84322,"./yp.png":32815,"./zendesk.png":71330,"./zh.png":42832};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=19635},50757:(e,t,n)=>{"use strict"},25365:(e,t,n)=>{"use strict"},97126:(e,t,n)=>{var r={"./":[34286],"./MATRIX_MULTIPLE_CHOICE":[18797,8797],"./MATRIX_MULTIPLE_CHOICE.tsx":[18797,8797],"./MATRIX_SCALE":[24076,4076],"./MATRIX_SCALE.tsx":[24076,4076],"./MATRIX_SINGLE_CHOICE":[45203,5203],"./MATRIX_SINGLE_CHOICE.tsx":[45203,5203],"./MULTI_SELECTION":[68037,8037],"./MULTI_SELECTION.tsx":[68037,8037],"./SCALE":[41967,1967],"./SCALE.tsx":[41967,1967],"./SINGLE_PULL_DOWN":[61350,1350],"./SINGLE_PULL_DOWN.tsx":[61350,1350],"./SINGLE_SELECTION":[42307,2307],"./SINGLE_SELECTION.tsx":[42307,2307],"./index":[34286],"./index.less":[34405,4405],"./index.tsx":[34286]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(a)))}a.keys=()=>Object.keys(r),a.id=97126,e.exports=a},20431:(e,t,n)=>{var r={"./account/audit/DatePicker/model.js":12621,"./appComment/commentOverview/model.ts":54327,"./aspectDetail/components/chart/model.js":55122,"./aspectDetail/model.js":81777,"./aspectWarning/model.js":4878,"./brand/overview/model.js":23061,"./brand/subjectAnalyze/analyzeOfIndex/model.js":56685,"./brand/subjectAnalyze/model.js":52653,"./collection/manage/model.js":92765,"./conversation/commodityAnalyze/model.js":27664,"./conversation/components/Conversation/model.js":74857,"./conversation/concernAnalyze/model.js":63102,"./conversation/detail/model.js":67918,"./conversation/overview/model.js":36757,"./conversation/setting/pages/Edit/model.js":42042,"./customerFile/customerDetail/model.ts":3720,"./customerFile/customersList/model.js":32481,"./customerJourney/edit/dataSourceSetting/model.ts":54287,"./customerJourney/manage/model.ts":81907,"./dashboard/model.js":63123,"./dashboard/template/edit/model.js":31185,"./dashboard/template/list/model.js":62529,"./detail/components/chart/model.js":3171,"./detail/model.js":57585,"./drillDown/sceneAnalyze/model.js":58334,"./explore/free/components/FilterTable/model.js":19706,"./explore/free/components/ResultTable/model.js":31155,"./explore/free/model.js":73630,"./explore/free/result/model.js":16235,"./explore/scene/advice/model.ts":4270,"./explore/scene/competingAnalysis/model.js":81236,"./explore/scene/overview/model.js":43226,"./explore/scene/relation/model.js":3226,"./explore/scene/spokesperson/model.js":16851,"./explore/scene/usage/model.js":50537,"./market/bmAnalysis/models/brandAnalysis/model.js":66853,"./market/bmAnalysis/models/modelAnalysis/model.js":38739,"./market/hotDiscovery/model.js":75919,"./market/newMonitoring/model.js":52861,"./market/salesAnalysis/model.js":43637,"./marketAnalysis/aspectAnalysis/model.js":17238,"./marketAnalysis/compareProduct/model.js":58377,"./message/components/MsgDetail/model.js":89132,"./message/components/ServiceFilter/model.js":42624,"./message/model.js":37361,"./opinion/components/EverydayTable/IDBHeaderScreening/model.js":2832,"./opinion/components/EverydayTable/model.js":91797,"./opinion/components/FilterTable/model.js":88278,"./opinion/components/ResultTable/model.js":86878,"./opinion/components/Screen/components/DatePicker/model.js":59348,"./opinion/components/Screen/model.js":48556,"./opinion/model.js":60597,"./opinion/original/model.js":44334,"./opinionDetail/components/chart/model.js":21596,"./opinionDetail/model.js":25822,"./personalSet/messageRulePrivate/model.js":39842,"./price/branding/model.js":27338,"./price/chaos/components/EditRule/model.js":41195,"./price/chaos/components/PricePushLog/model.js":81538,"./price/chaos/components/PriceRuleList/model.js":66697,"./price/chaos/components/PriceScreenshot/model.js":93890,"./price/chaos/model.js":85876,"./price/overview/model.js":74681,"./price/priceHistory/model.js":26365,"./price/priceWarning/model.js":12455,"./price/product_shop/model.js":75335,"./product/aspectTrend/model.js":46290,"./product/commentOverview/model.ts":58794,"./product/compareProduct/model.js":88820,"./product/customer/model.js":24974,"./product/overview/model.js":13419,"./product/scene/overview/model.js":94134,"./product/scene/usageOccasion/model.js":79405,"./product/scene/user/model.js":78155,"./product/selfAnalysis/model.js":6861,"./productAnalysis/aspectAnalysis/model.js":89316,"./productAnalysis/compareProduct/model.js":35836,"./project/aspectSystem/global/model.js":31290,"./project/aspectSystem/tree/edit/model.js":85027,"./project/aspectSystem/tree/list/model.js":23413,"./project/base/entryDrawer/model.js":45039,"./project/base/skuList/model.js":91903,"./project/base/spuList/model.js":47911,"./project/connection/maintainList/model.js":55988,"./project/customerManage/model.ts":55041,"./project/dataFeedback/model.js":78813,"./project/dataUrl/edit/model.js":6019,"./project/dataUrl/list/model.js":54754,"./project/linkTopic/overview/model.js":40748,"./project/linkTopic/topicValue/model.js":70019,"./project/messageRule/model.js":51417,"./project/model.js":67431,"./project/setting/linkMaintenance/model.js":28383,"./project/setting/linkManagement/model.js":47501,"./project/setting/model.js":4083,"./project/setting/pages/link/model.js":3680,"./project/setting/pages/subscribeOverview/overview/model.js":10952,"./project/setting/pages/subscribeOverview/recycling/model.js":18460,"./project/setting/pages/subscribeOverview/rules/model.js":24773,"./project/setting/smartSubscribe/components/subscribeLink/model.js":59134,"./project/setting/smartSubscribe/model.js":90430,"./project/tag/model.js":4167,"./project/warning/edit/model.ts":67497,"./project/warning/log/model.ts":57831,"./project/warning/overview/model.ts":70683,"./project/warning/unsubscribe/model.ts":44091,"./project/weebhook/model.ts":92222,"./project/workOrder/board/model.ts":24504,"./project/workOrder/detail/model.ts":71883,"./project/workOrder/field/model.ts":78258,"./project/workOrder/notice/model.ts":2075,"./publicModel/model.js":75016,"./publicSentiment/alert/list/model.js":3896,"./publicSentiment/analysis/channel/model.js":41263,"./publicSentiment/analysis/event/model.js":57847,"./publicSentiment/analysis/path/model.js":38303,"./publicSentiment/analysis/point/model.js":40267,"./publicSentiment/analysis/subject/model.js":79599,"./publicSentiment/analysis/trend/model.js":80721,"./publicSentiment/overview/model.js":44098,"./publicSentiment/subjectOverview/edit/model.js":74660,"./publicSentiment/subjectOverview/list/model.js":59615,"./publicSentiment/tagAnalysis/model.js":92609,"./publicSentiment/warning/edit/model.js":52315,"./publicSentiment/warning/list/model.js":54465,"./research/contact/model.js":86556,"./research/manage/analysis/answer/model.ts":70733,"./research/manage/analysis/answerDetail/model.js":79041,"./research/manage/analysis/nps/model.js":96237,"./research/manage/analysis/record/model.js":75778,"./research/manage/analysis/satisfaction/model.js":69253,"./research/manage/analysis/text/model.ts":66321,"./research/manage/answer/model.js":50337,"./research/manage/components/AddContact/model.js":98960,"./research/manage/distribute/DistributeMission/model.js":15679,"./research/manage/distribute/model.js":27591,"./research/manage/npsManage/model.js":16983,"./research/manage/questionnaireAnswer/model.ts":48131,"./research/manage/questionnaireEdit/model.ts":42370,"./research/overview/model.js":10242,"./research/setting/pages/ApiManage/model.ts":98170,"./research/setting/pages/appManagement/model.ts":64642,"./research/setting/pages/dashboard/model.js":10938,"./research/setting/pages/template/list/model.js":88938,"./research/settingEdit/model.js":4714,"./research/templateEdit/model.js":74023,"./serviceAnalysis/aspectAnalysis/model.js":67999,"./serviceAnalysis/compareProduct/model.js":72208,"./serviceInsight/concernAnalyze/model.ts":1048,"./serviceInsight/gombitAnalyze/model.ts":92208,"./serviceInsight/match/model.ts":58598,"./serviceInsight/overview/model.ts":76751,"./serviceInsight/spu/model.ts":33604,"./social/analysis/models/comparison/model.js":91568,"./social/analysis/models/top10/model.js":61888,"./social/analysis/tag/detail/model.js":89259,"./social/analysis/tag/top/model.js":56847,"./social/analysis/tag/trend/model.js":13885,"./social/overview/model.js":57835,"./userHelpCenter/model.js":64981,"./workOrder/dataOverview/model.ts":30538,"./workspace/warning/model.ts":422,"./workspace/warningDetail/model.ts":67813,"./workspace/warningStatistics/model.ts":25407,"./workspace/workOrder/Statistics/model.ts":54993,"./workspace/workOrder/components/EditModalContainer/model.ts":83481};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=20431},20402:(e,t,n)=>{var r={"./Header/model.js":30674,"./HeaderScreening/model.js":73702,"./IDBHeaderScreening/components/DatePicker/model.js":41183,"./IDBHeaderScreening/components/QuickDatePicker/model.ts":93310,"./IDBHeaderScreening/components/SavedFilter/model.js":91780,"./IDBHeaderScreening/components/Screening/Screening/model.js":33488,"./IDBHeaderScreening/model.js":94052,"./Left/model.js":7200,"./Login/model.js":953,"./PushRule/model.js":63023,"./Screening/model.js":31799,"./SettingScreening/model.tsx":7161,"./UserState/model.js":44031};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=20402},23066:(e,t,n)=>{"use strict";e.exports=n.p+"img/efa6ed59795721e67957.png"},33185:(e,t,n)=>{"use strict";e.exports=n.p+"img/63d180be1f8e7f884ab4.png"},50713:(e,t,n)=>{"use strict";e.exports=n.p+"img/2e5ba7f6a35cc7022732.png"},9643:(e,t,n)=>{"use strict";e.exports=n.p+"img/f77cda08b6fa66c9627c.png"},57305:(e,t,n)=>{"use strict";e.exports=n.p+"img/a2d4b071540785c0fbe2.png"},60909:(e,t,n)=>{"use strict";e.exports=n.p+"img/774e41faf3e5255091c4.png"},62658:(e,t,n)=>{"use strict";e.exports=n.p+"img/b9875ddff2a9b79f3ae6.png"},22737:(e,t,n)=>{"use strict";e.exports=n.p+"img/4c2caccef7e69a504fa9.png"},875:(e,t,n)=>{"use strict";e.exports=n.p+"img/463ebdb20e8931d810ea.png"},15341:(e,t,n)=>{"use strict";e.exports=n.p+"img/2ee38fb45afcfac366df.png"},83005:(e,t,n)=>{"use strict";e.exports=n.p+"img/a0802698130f1febf7d3.png"},1169:(e,t,n)=>{"use strict";e.exports=n.p+"img/6b6aacd2fd65f637b6c6.png"},57669:(e,t,n)=>{"use strict";e.exports=n.p+"img/f45cd581342d8ce18320.png"},28760:(e,t,n)=>{"use strict";e.exports=n.p+"img/52b0f3bf40a0f434a338.png"},19357:(e,t,n)=>{"use strict";e.exports=n.p+"img/ef99e27b46020a77bea7.png"},32300:(e,t,n)=>{"use strict";e.exports=n.p+"img/067d4427fde875847f82.png"},12770:(e,t,n)=>{"use strict";e.exports=n.p+"img/f3d3ec3a330356e843f2.png"},2257:(e,t,n)=>{"use strict";e.exports=n.p+"img/5c433ad2ea10a0549a0b.png"},25562:(e,t,n)=>{"use strict";e.exports=n.p+"img/2a4834eccabbe194f462.png"},37273:(e,t,n)=>{"use strict";e.exports=n.p+"img/21265f7bbe74af25365f.png"},23079:(e,t,n)=>{"use strict";e.exports=n.p+"img/af154586f2a98971c604.png"},67470:(e,t,n)=>{"use strict";e.exports=n.p+"img/115a1ffa7312967a93bd.png"},81883:(e,t,n)=>{"use strict";e.exports=n.p+"img/d6ff116a17be9fe6fe41.png"},37027:(e,t,n)=>{"use strict";e.exports=n.p+"img/efdd5e0bb5d522c28e2f.png"},99981:(e,t,n)=>{"use strict";e.exports=n.p+"img/2629fb47cb227007fa38.png"},65644:(e,t,n)=>{"use strict";e.exports=n.p+"img/440202e9c46e46dd664c.png"},69506:(e,t,n)=>{"use strict";e.exports=n.p+"img/0fffa5f3c0f57c614e69.png"},91890:(e,t,n)=>{"use strict";e.exports=n.p+"img/83e36b56f54711ed2382.png"},64796:(e,t,n)=>{"use strict";e.exports=n.p+"img/f2bfecd0a3628e0444da.png"},64078:(e,t,n)=>{"use strict";e.exports=n.p+"img/8c0d45040f16ddea1f9c.png"},39357:(e,t,n)=>{"use strict";e.exports=n.p+"img/8c2dc8943b3f08ae7acb.png"},64290:(e,t,n)=>{"use strict";e.exports=n.p+"img/64d144deab7f1d5a0708.png"},91304:(e,t,n)=>{"use strict";e.exports=n.p+"img/696076a1585bf1adf493.png"},80747:(e,t,n)=>{"use strict";e.exports=n.p+"img/4ec1d6ca82636e3d2975.png"},93273:(e,t,n)=>{"use strict";e.exports=n.p+"img/0df823f4f46ca601f9d7.png"},36627:(e,t,n)=>{"use strict";e.exports=n.p+"img/887f3fff1e36418516f6.png"},4494:(e,t,n)=>{"use strict";e.exports=n.p+"img/57283c7a48b606438fa8.png"},41872:(e,t,n)=>{"use strict";e.exports=n.p+"img/f0c55208bb402a673f4a.png"},35809:(e,t,n)=>{"use strict";e.exports=n.p+"img/6cd5c0bd6cc7ce30792c.png"},76518:(e,t,n)=>{"use strict";e.exports=n.p+"img/cd8a9c08ec8a6caa466a.png"},71325:(e,t,n)=>{"use strict";e.exports=n.p+"img/f04a18dc34747c53a782.png"},44817:(e,t,n)=>{"use strict";e.exports=n.p+"img/b739188fecb059a434f8.png"},71578:(e,t,n)=>{"use strict";e.exports=n.p+"img/16fed066442624bb6aa8.png"},68849:(e,t,n)=>{"use strict";e.exports=n.p+"img/ffff101a59074bf371b2.png"},16602:(e,t,n)=>{"use strict";e.exports=n.p+"img/6c8a1524c65ff32e21d2.png"},42561:(e,t,n)=>{"use strict";e.exports=n.p+"img/b4800c20cedff32d5aa7.png"},99420:(e,t,n)=>{"use strict";e.exports=n.p+"img/77df855d358d29571b39.png"},86711:(e,t,n)=>{"use strict";e.exports=n.p+"img/dc12b75331d19e236b4d.png"},8604:(e,t,n)=>{"use strict";e.exports=n.p+"img/9ac77d5c919db2883b86.png"},22089:(e,t,n)=>{"use strict";e.exports=n.p+"img/b56710b5c42b4b97d368.png"},63357:(e,t,n)=>{"use strict";e.exports=n.p+"img/44ec63ce8427949b7dfc.png"},98981:(e,t,n)=>{"use strict";e.exports=n.p+"img/4f587b8531e9717f7120.png"},71148:(e,t,n)=>{"use strict";e.exports=n.p+"img/c41b91cdc5c5f2157ca0.png"},73724:(e,t,n)=>{"use strict";e.exports=n.p+"img/1e5b92fa7ce8feb4ad53.png"},13538:(e,t,n)=>{"use strict";e.exports=n.p+"img/427ffee181f9eac76500.png"},16781:(e,t,n)=>{"use strict";e.exports=n.p+"img/5e198c8d289a851f86fd.png"},84322:(e,t,n)=>{"use strict";e.exports=n.p+"img/e7d6c5f57b2a820f05f2.png"},32815:(e,t,n)=>{"use strict";e.exports=n.p+"img/2588fa1d7c61d55cd4c3.png"},71330:(e,t,n)=>{"use strict";e.exports=n.p+"img/3ad291b220504e21f139.png"},42832:(e,t,n)=>{"use strict";e.exports=n.p+"img/67c765eebd09277fcc80.png"},7732:(e,t,n)=>{"use strict";e.exports=n.p+"img/c51764ce4120e50d299d.png"},27246:(e,t,n)=>{"use strict";e.exports=n.p+"img/380011f74fa1a5f931e5.png"},68286:(e,t,n)=>{"use strict";e.exports=n.p+"img/ac7ae50db04ac4a49be6.png"},41289:(e,t,n)=>{"use strict";e.exports=n.p+"img/bf2074a634a142eeecea.png"},98422:(e,t,n)=>{"use strict";e.exports=n.p+"img/854c79fd78a4f42a041c.png"},76237:(e,t,n)=>{"use strict";e.exports=n.p+"img/2faec0f68f48ae6529c7.png"},82770:(e,t,n)=>{"use strict";e.exports=n.p+"img/0d67dabc5307e9d6f387.png"},88956:(e,t,n)=>{"use strict";e.exports=n.p+"img/cc56a20f200b3e3f96ad.png"},57434:(e,t,n)=>{"use strict";e.exports=n.p+"img/76ed7c8948d535ffaf7d.png"},45661:(e,t,n)=>{"use strict";e.exports=n.p+"img/59e113678dfe5c7269f0.png"},4309:(e,t,n)=>{"use strict";e.exports=n.p+"img/90e1762d491a06680571.png"},2467:(e,t,n)=>{"use strict";e.exports=n.p+"img/81a08a1a1e7ba2cf5e4e.png"},9645:(e,t,n)=>{"use strict";e.exports=n.p+"img/b0f923202eae3cc38fe5.png"},76463:(e,t,n)=>{"use strict";e.exports=n.p+"img/6d7def1b9ea1e955caca.png"},42480:()=>{},25893:()=>{},55382:()=>{},72095:()=>{},91298:()=>{}},e=>{e.O(0,[3759,8741,5554],(()=>{return t=33583,e(e.s=t);var t}));e.O()}]);
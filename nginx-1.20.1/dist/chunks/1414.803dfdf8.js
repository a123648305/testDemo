"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[1414],{81414:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var i=n(63366),a=n(87462),r=n(15861),c=n(94578),o=n(87757),l=n.n(o),s=n(67294),u=n(55609),d=n(64396),p=(n(30467),n(55673)),f=(n(89626),n(70302)),m=(n(29809),n(97538)),g=(n(58136),n(5789)),h=(n(9405),n(89552)),E=n(23279),y=n.n(E),v=n(35239),T=n(5133),k=(n(54277),n(74048)),L=(n(89858),n(51024)),I=(n(1025),n(65400)),S=(n(92871),n(35928)),C=(n(15086),n(94055));const N=function(e){var t=e.title,n=e.item,i=e.maxWidth,a=e.father;return s.createElement(C.default,{overlayClassName:"blackStyle",overlayStyle:{maxWidth:i||"auto"},color:"rgba(0,0,0,0.75)",title:t,mouseEnterDelay:.7,getPopupContainer:function(){return a&&a.current||document.body}},n||t)};const x=function(e){var t=e.totalListCount,n=e.handleCount,i=e.currentIndex,a=e.loading,r=e.ignoring,c=e.isShow,o=e.isAdd,l=e.isAdded,u=e.isIgnored,d=e.isLastLink,p=e.isControlBtnShow,f=e.macOption,m=e.onSubmitReturn,g=e.onSubmit,h=e.onIgnore,E=e.onPrevNext,v=e.onIndexChange,T=(0,s.useState)(void 0),C=T[0],x=T[1],b=(0,s.useRef)(null),w=y()((function(e){var n=e.keyCode||e.which||e.charCode;if(e.altKey&&!a)switch(e.preventDefault(),n){case 37:p&&i>0&&E(-1);break;case 39:p&&i<t&&E(1);break;case 87:history.back();break;case 83:o&&!l&&h();break;case 69:m();break;case 67:o&&!d&&g()}}),500);return(0,s.useEffect)((function(){return window.addEventListener("keydown",w),function(){window.removeEventListener("keydown",w)}}),[p,t,i,o,l,d,a]),(0,s.useEffect)((function(){return function(){a&&x(void 0)}}),[C,a]),s.createElement("div",{className:"bottom",ref:b},s.createElement("div",{className:"link_progress "+(/(isB)/g.exec(c)?"bold_style":"")},/(isB)/g.exec(c)&&t>0&&s.createElement(s.Fragment,null,s.createElement("span",null,"\u94fe\u63a5\u6570"),s.createElement(S.default,{percent:Number(n/t*100|0),showInfo:!1}),s.createElement("span",{className:"handle_progress"},s.createElement("span",null,n)," / ",t)),p&&t>1&&s.createElement(s.Fragment,null,s.createElement(k.default,null,s.createElement(N,{title:"\u6309"+f+"+\u2190\u8fd4\u56de\u4e0a\u4e00\u6761",item:s.createElement(I.default,{htmlType:"button",disabled:a||0===i,onClick:function(){return E(-1)}},"\u4e0a\u4e00\u6761")}),/(isB)/g.exec(c)&&s.createElement(I.default,{type:"text"},i+1),s.createElement(N,{title:"\u6309"+f+"+\u2192\u524d\u5f80\u4e0b\u4e00\u6761",item:s.createElement(I.default,{htmlType:"button",disabled:a||i===t-1,onClick:function(){return E(1)}},"\u4e0b\u4e00\u6761")}),/(isB)/g.exec(c)&&s.createElement(s.Fragment,null,s.createElement("span",null,"\u8df3\u81f3"),s.createElement(L.default,{disabled:a,onBlur:function(e){return v(e.target.value)},onPressEnter:function(e){return v(e.target.value)}}),s.createElement("span",null,"\u6761"))))),s.createElement("div",{className:"operate_btn"},c&&s.createElement(k.default,null,s.createElement(N,{title:"\u6309"+f+"+W\u8fd4\u56de"+(/(isB)/g.exec(c)?"":"\u5217\u8868\u9875\u9762"),item:s.createElement(I.default,{htmlType:"button",disabled:a,onClick:function(){return history.back()}},"\u8fd4\u56de")}),/(isP)/g.exec(c)&&!l&&s.createElement(N,{title:"\u6309"+f+"+S\u5ffd\u7565\u672c\u6761\u94fe\u63a5",item:s.createElement(I.default,{htmlType:"button",loading:r,disabled:a||r||u,onClick:h},"\u5ffd\u7565")}),s.createElement(N,{title:"\u6309"+f+"+E"+(o&&!l?"\u6dfb\u52a0":"\u66f4\u65b0")+"\u672c\u6761\u94fe\u63a5\u5e76\u8fd4\u56de"+(/(isB)/g.exec(c)?"":"\u5217\u8868\u9875\u9762"),item:s.createElement(I.default,{type:!o||d&&!/(isS)/g.exec(c)?"primary":"default",loading:a&&"enterReturn"===C,disabled:a||r,onClick:function(){x("enterReturn"),m()}},(o&&!l?"\u6dfb\u52a0":"\u66f4\u65b0")+"\u5e76\u8fd4\u56de"),key:"btn_add1",maxWidth:"126px",father:b}),o&&(!d||/(isS)/g.exec(c))&&s.createElement(N,{title:"\u6309"+f+"+C"+(o&&!l?"\u6dfb\u52a0":"\u66f4\u65b0")+"\u672c\u6761\u94fe\u63a5\u5e76\u7ee7\u7eed\u6dfb\u52a0",item:s.createElement(I.default,{type:"primary",loading:a&&"enterNext"===C,disabled:a||r,onClick:function(){x("enterNext"),g()}},(o&&!l?"\u6dfb\u52a0":"\u66f4\u65b0")+"\u5e76\u7ee7\u7eed"),key:"btn_add2",maxWidth:"128px",father:b}))))};n(70643);var b=n(68469),w=b.Z.Panel;const _=function(e){var t=e.statusList,n=e.currentIndex,i=e.totalListCount,a=e.handleCount,r=e.linkTopicList,c=e.handleListItemClick,o=e.handleCollapseHeight,l=(0,s.useState)("\u6536\u8d77"),u=l[0],d=l[1],p=(0,s.useState)(0),f=p[0],m=p[1],g=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e=g&&g.current,t=g&&g.current&&g.current.children;if(t&&t[n]&&n<i){var a=e.clientHeight,r=e.scrollTop,c=t[n],o=c.offsetTop,l=c.offsetHeight;(o>r+a||r-o>0)&&(e.scrollTop=o-a+(l<50?0:18))}}),[n,r,g]),(0,s.useEffect)((function(){g&&(m(g.current.offsetHeight),o(g.current.offsetHeight))}),[g,r]),s.createElement(b.Z,{defaultActiveKey:["1"],onChange:function(e){o(e.length>0?f:0),d("\u6536\u8d77"!==u?"\u6536\u8d77":"\u5c55\u5f00")}},s.createElement(w,{showArrow:!1,header:s.createElement("span",null,"\u5f53\u524d\u5546\u54c1\u5171\u6709",i,"\u6761SKU\u94fe\u63a5\uff0c\u5df2\u6dfb\u52a0",a,"\u6761SKU\u94fe\u63a5",s.createElement("span",null,u)),key:"1"},s.createElement("ul",{ref:g},r&&r.map((function(e,i){return s.createElement("li",{key:"link_"+i,className:("IGNORE"===t[i]?"ignore":"")+" "+(i===n?"active":""),onClick:function(){return c(i)}},s.createElement("span",{className:"icon_columns",style:{display:0===t.filter((function(e){return e})).length?"none":"block"}},s.createElement(N,{title:t[i]?"ADD"===t[i]?"\u5df2\u6dfb\u52a0":"\u5df2\u5ffd\u7565":"",item:t[i]&&s.createElement("i",{className:"ADD"===t[i]?"icon-yitianjia":"icon-yihulve"})})),s.createElement("span",null,e.title),s.createElement("span",{className:"id_columns"},e.skuId))})))))};n(45673);var D=n(8448),V=(n(23461),n(53740).Z.Paragraph);const A=function(e){var t,n=e.macOption,i=e.isImageShow,a=e.linkTopicListCurrentItem,r=e.batchlinkTopicListCurrentItem,c=e.collapseHeight,o=e.defaultImg,l=e.initLeftLoading,u=e.focusInput,d=e.onFillTopicValue,p=function(e,t){return s.createElement(V,{ellipsis:{rows:1},copyable:{text:""+t,icon:[s.createElement(N,{title:"\u6309"+n+"+C \u590d\u5236",item:s.createElement("i",{className:"icon-fuzhi"}),key:"copy-icon1"}),s.createElement(N,{title:"\u6309"+n+"+C \u590d\u5236",item:s.createElement("i",{className:"icon-fuzhi"}),key:"copy-icon2"})],tooltips:!1,onCopy:function(){d(t,void 0,e),T.Z.success("\u5df2\u6210\u529f\u590d\u5236"+e)}}},t)},m=function(e){var t=e.keyCode||e.which||e.charCode;if(e.ctrlKey&&u&&67===t)e.preventDefault(),d(u.name,u.topicId),T.Z.success("\u5df2\u6210\u529f\u590d\u5236"+u.id)};return(0,s.useEffect)((function(){var e=document.querySelector(".ant-card.left-card .ant-card-body"),t=document.querySelector(".base"),n=document.querySelector(".base .ant-descriptions-row")&&document.querySelector(".base .ant-descriptions-row").clientHeight,i=document.querySelector(".urlTopic .ant-descriptions-row")&&document.querySelector(".urlTopic .ant-descriptions-row").clientHeight;if(u&&n&&i){var a=u.index,r=t.offsetTop;e.scrollTop=a>=0?r+n*a-22:r+i*(a-1)-26}var c=y()(m,500);return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}),[u]),(0,s.useEffect)((function(){document.querySelector(".ant-card.left-card .ant-card-body").scrollTop=0}),[a]),s.createElement(f.Z,{title:"\u5546\u54c1\u5c5e\u6027",extra:s.createElement("a",{href:""+(a?a.url:r?r.url:""),target:"_blank",rel:"noopener noreferrer"},a||r?"\u6253\u5f00\u94fe\u63a5":""),bordered:!1,className:"left-card",style:{height:"calc(100% - "+c+"px)"}},a||r?s.createElement(s.Fragment,null,s.createElement("span",{className:"link-title"},i&&s.createElement("img",{src:a&&a.imgUrl?a.imgUrl:o}),a&&(a.title||a.urlTitle)||r&&r.name),s.createElement(D.default,{column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1},className:"urlTopic"},a&&a.urlTopics&&a.urlTopics.map((function(e,t){return s.createElement(D.default.Item,{key:t+"_msgRow",className:u&&String(u.id)===String(e.id)?"active":""},s.createElement("span",{className:"topic_id"},e.id),s.createElement("span",{className:"urlTopic_name"},p(e.id,e.name)))}))),s.createElement(D.default,{title:"\u57fa\u672c\u53c2\u6570",column:{xxl:2,xl:2,lg:2,md:2,sm:2,xs:2},className:"base"},(null==a||null==(t=a.prop)?void 0:t.length)>0?a.prop.map((function(e,t){return s.createElement(D.default.Item,{key:t+"_topicRow",span:1,className:u&&String(u.id)===String(e.id)?"active":""},s.createElement("span",{className:"topic_id"},s.createElement(V,{ellipsis:!0},s.createElement(N,{title:e.id}))),s.createElement("span",null,p(e.id,e.name)))})):!l&&s.createElement("li",{className:"no_match_data "+(c?"has_height":"")}))):!l&&s.createElement("li",{className:"no_match_data"}))};n(69909);var Z=n(17669),F=n(18446),B=n.n(F),P=n(50361),R=n.n(P),O=Z.Z.Option;const H=function(e){var t=e.formRef,n=e.item,i=e.entryType,r=e.changeInputId,c=e.linkTopicNameList,o=e.defaultEnterTopic,l=e.save,u=e.handleTopicChange,d=e.handleTopicTip,p=e.setFocusInput,f=e.setDefaultValue,g=e.options,h=e.isTipShow,E=function(e){var n=c.findIndex((function(t){return String(e).indexOf(t.id)>-1})),i=c[n+1>=c.length?n:n+1].id;t.current.getFieldInstance(i).focus()},v=y()((function(e){var t=e.keyCode||e.which||e.charCode;13!==t&&t||"input"===e.target.localName&&E(e.target.id)}),500);return(0,s.useEffect)((function(){return window.addEventListener("keydown",v),function(){window.removeEventListener("keydown",v)}}),[c]),s.createElement(s.Fragment,null,s.createElement("div",{className:"topic_input_filed"},s.createElement("span",null,n.name),"isBatch"===i&&s.createElement("span",{className:"showTopic"},n.topicValueName),s.createElement(m.Z.Item,{name:n.id,validateStatus:"validating"},s.createElement(Z.Z,{allowClear:!0,onSearch:function(e){return u(e,n.id,n.referenceId)},notFoundContent:null,onFocus:function(e){e.target.select(),p(n.connectionTopicName)},onBlur:function(){p(void 0),function(e,t){var n=t&&t.trim();if(n){var i,r=R()(o),c=o[e]&&o[e].indexOf(n);c>=0&&o[e].splice(c,1)&&(o[e]=[n].concat(o[e]));var s=!o[e]||c<0?(0,a.Z)({},o,((i={})[e]=[n].concat(o[e]?o[e]:[]).slice(0,10),i)):o;B()(s,r)||(l({defaultEnterTopic:s}),f({key:"LINK_FORM_DEFAULT",value:JSON.stringify(s)})),d(e,!0)}}(n.id,t.current.getFieldValue(n.id))},onSelect:function(e){return function(e,t,n){E(e),t&&(r!==e&&u(t,e,n),r===e&&d(e))}(n.id,e)}},Array.isArray(g)&&g.map((function(e){return s.createElement(O,{key:e},e)}))))),s.createElement("p",{id:n.id,style:{display:h?"block":"none"}},s.createElement("span",null,"\u65b0\u4e3b\u9898\u503c")))};var U=n(97753);const q=function(e){var t=e.connectionType,n=e.linkTopicList,i=e.linkTopicListCurrentItem,r=e.linkTopicNameList,c=e.linkAddedTopicValueList,o=e.statusList,l=e.totalListCount,u=e.topicSuggestValue,d=e.batchlinkTopicListCurrentItem,E=e.currentIndex,k=e.handleCount,L=e.nextSpu,I=e.onTopicValueChange,S=e.onAddSingleLinkTopic,C=e.onDefualtTopicChange,N=e.setCurrentTopicList,b=e.setDefaultValue,w=e.fetchIgnoreSingle,D=e.save,V=e.entryType,Z=e.defaultEnterTopic,F=e.loading,B=e.ignoring,P=e.initLeftLoading,R=e.initRightLoading,O=e.location,q=(0,s.useRef)(null),K=(0,s.useState)(void 0),M=K[0],W=K[1],z=(0,s.useState)({}),j=z[0],G=z[1],J=(0,s.useState)({}),Q=J[0],X=J[1],Y=(0,s.useState)(void 0),$=Y[0],ee=Y[1],te=(0,s.useState)(0),ne=te[0],ie=te[1],ae=(0,s.useState)(!1),re=ae[0],ce=ae[1],oe=(0,s.useState)(!1),le=oe[0],se=oe[1],ue=/macintosh|mac os x/i.test(navigator.userAgent)?"Control":"Ctrl",de=y()((function(e,t,n){var i=e&&"string"===typeof e&&e.trim(),r={values:[{topicId:t,value:i,referenceId:n}]};r.referenceId||delete r.referenceId;var c={};I(r).then((function(n){var i,r=Array.isArray(n)?n.filter((function(e){return e.value})).slice(0,20):n,o=Z[t]&&Z[t].find((function(t){return t.indexOf(e)>=0}));r&&(!c[t]&&(c[t]=o?[o]:[]),r.length>0?r.forEach((function(n){n.value!==e&&n.value!==c[t][0]&&c[t].push(n.value)})):c[t]={tip:!0}),X(Array.isArray(r)&&!r.find((function(t){return t.value===e}))?(0,a.Z)({},((i={})[t]={tip:!0},i),Q):delete Q[t]&&(0,a.Z)({},Q)),G((function(e){return(0,a.Z)({},e,c)}))}))}),500),pe=function(e,t,n){e?de(e,t,n):setTimeout((function(){return fe(t)}),500),C({id:t,value:e})},fe=function(e,t){G(delete j[e]&&(0,a.Z)({},j)),!t&&X(delete Q[e]&&(0,a.Z)({},Q))},me=function(e,t){var n=e?E+e<=0?0:E+e>=l?l-1:E+e:t;N({currentIndex:n}),D({currentIndex:n})};return(0,s.useEffect)((function(){return function(){G({})}}),[]),(0,s.useEffect)((function(){o.length>0&&o.filter((function(e){return!e})).length<=1&&se(!0)}),[o]),(0,s.useEffect)((function(){if(r&&r.forEach((function(e){var t={};t[e.id]=e.topicValueName,q.current&&q.current.setFieldsValue(t)})),u&&r){var e={};u.forEach((function(t){var n=r.filter((function(e){return Number(e.id)===Number(t.topicId)}));n[0]&&n[0].topicValueName!==t.value&&(e[t.topicId]={tip:t.value})})),G(e)}else("{}"===JSON.stringify(j)||!/(isS|isP)/g.exec(V))&&G({})}),[r,u]),s.createElement("div",{className:"yt_product_comment_linkMaintenance_wrapper"},s.createElement(p.default,{gutter:24,className:"linkMaintenance_row"},s.createElement(g.default,{span:12},/(isS|isP)/g.exec(V)&&n&&n.length>0&&s.createElement(_,{statusList:o,currentIndex:E,totalListCount:l,handleCount:k,linkTopicList:n,handleListItemClick:function(e){return me(void 0,e)},handleCollapseHeight:function(e){return ie(e>0?e+82:60)}}),s.createElement(h.default,{wrapperClassName:"spin-wrapper",spinning:P,tip:"\u6b63\u5728\u52a0\u8f7d\u4e2d...",size:"large"},s.createElement(A,{macOption:ue,isImageShow:/(isE|isP)/g.exec(V),linkTopicListCurrentItem:i,batchlinkTopicListCurrentItem:d,collapseHeight:ne,defaultImg:U,initLeftLoading:P,focusInput:M,onFillTopicValue:function(e,t,n){var i={},a=void 0;t&&(i[t]=e),n&&(a=r.filter((function(e){return e.connectionTopicName})).find((function(e){return e.connectionTopicName.id===n})))&&a&&(i[a.id]=e),q.current.setFieldsValue(i),(t||a&&a.id)&&pe(e,t||a.id,a&&a.referenceId)}}))),s.createElement(g.default,{span:12},s.createElement(h.default,{wrapperClassName:"spin-wrapper",spinning:(P||R)&&!r,tip:"\u6b63\u5728\u52a0\u8f7d\u4e2d...",size:"large"},s.createElement(f.Z,{title:"\u4e3b\u9898\u503c\u7ef4\u62a4",bordered:!1,className:"right-card "+("isBatch"===V?"turn_right":"")},r?s.createElement(s.Fragment,null,s.createElement("div",{className:"form_head"},s.createElement("span",null,"\u4e3b\u9898"),"isBatch"===V&&s.createElement("span",null,"\u4e0a\u4f20\u7684\u503c"),s.createElement("span",null,"\u5f85\u786e\u8ba4\u4e3b\u9898\u503c")),s.createElement(m.Z,{ref:q,name:"control-ref",onFieldsChange:function(e){var t=e&&e[0];if(t){var n=t.name,i=t.value;ee(i?n[0]:void 0),C({id:n[0],value:i})}},onFinish:function(e){var n=r.map((function(t){return{topicId:t.id,topicName:t.name,topicValueId:t.topicValueId,topicValueName:e[t.id]}}));c&&c.forEach((function(e){var t=n.filter((function(t){return t.id===e.id}));t.topicValueId=e.topicValueId,t.topicValueName=e.topicValueName}));var a=i||d;S({connectionId:a.id,userConnectionId:/(isE)/g.exec(V)?O.state.linkList[0]:a.id,connectionType:t,topicList:n,prop:a.prop,name:a.title||a.urlTitle||a.name,url:a.url,esId:a.esId,urlTopics:a.urlTopics}).then((function(e){if(e){if(G({}),X({}),o.filter((function(e){return!e})).length<1&&"isSingle"!==V&&!L||re)return T.Z.success("isEdit"===V?"\u64cd\u4f5c\u6210\u529f":(o.filter((function(e){return"ADD"===e})).length===l?"\u6240\u6709\u94fe\u63a5\u6dfb\u52a0\u5b8c\u6210":"\u64cd\u4f5c\u6210\u529f")+("isBatch"!==V?"\uff0c\u8fd4\u56de\u5230\u5217\u8868\u9875\u9762":"")),void history.back();T.Z.success("\u94fe\u63a5"+("ADD"===e.status?"\u66f4\u65b0":"\u6dfb\u52a0")+"\u6210\u529f")}}))}},r.map((function(e,t){return s.createElement(H,{key:t+"_topicInput",formRef:q,item:e,entryType:V,changeInputId:$,linkTopicNameList:r,defaultEnterTopic:Z,save:D,handleTopicChange:pe,handleTopicTip:function(e,t){return fe(e,t)},setFocusInput:W,setDefaultValue:b,options:j[e.id]||q&&q.current&&!q.current.getFieldValue(e.id)&&!($===e.id)&&Z[e.id]||[],isTipShow:j[e.id]&&j[e.id].tip||Q[e.id]})})))):!(P||R)&&s.createElement("li",{className:"no_match_data"}))))),s.createElement(x,{totalListCount:l,handleCount:k,currentIndex:E,loading:F,ignoring:B,isShow:V,isAdd:!/(isE)/g.exec(V),isAdded:"ADD"===o[E],isIgnored:"IGNORE"===o[E],isLastLink:!/(isP)/g.exec(V)&&le&&!L,isControlBtnShow:/(isS|isP|isB)/g.exec(V)&&l>1,macOption:ue,onSubmitReturn:function(){ce(!0),q.current.submit()},onSubmit:function(){q.current.submit()},onIgnore:function(){w({batchIgnoreId:[i.id||i.esId],projectId:v.t.get(v.V.backProjectConfig).id,connectionType:e.location.pathname.includes("/price")?"PRICE":"DEFAULT"}).then((function(e){if(e&&2e4===e.code){if(le&&!L)return T.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c"+("isBatch"!==V?"\uff0c\u8fd4\u56de\u5230\u5217\u8868\u9875\u9762":"")),void history.back();T.Z.success("\u64cd\u4f5c\u6210\u529f\uff0c\u8be5\u5546\u54c1\u94fe\u63a5\u5c06\u6807\u8bc6\u4e3a\u201c\u5df2\u5ffd\u7565\u201d"),N({success:"IGNORE"})}}))},onSearchList:O&&O.state&&O.state.searchList?{title:O.state.ruleNameObj.state.title,searchList:O.state.searchList,pathname:O.pathname.split("/")[3]}:void 0,onPrevNext:function(e){return me(e)},onIndexChange:function(e){return!isNaN(e)&&e>=0&&e<=l&&me(void 0,e-1>=0?e-1:0)}}))};var K=["loading"],M=d.Z.product.comment.linkMaintenance,W=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={connectionType:t.location.pathname.includes("/price")?"PRICE":"DEFAULT"},n.event={onTopicValueChange:n.props.getTopicSuggestValue,onAddSingleLinkTopic:n.props.addSingleLinkTopic},n}(0,c.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.location.state,t=this.props,n=t.save,i=t.getSingleLinkList,a=t.getBatchTopics,c=t.getListTopics,o=t.getAddedTopics,s=t.fetchLinkList,u=t.getDefaultValue,d=this.state.connectionType;n({entryType:e?e.targetLink?"isSingle":e.batchNo?"isBatch":e.maintainParams?"isProduct":e.linkList?"isEdit":void 0:void 0,connectionType:d}),e&&e.targetLink?i({hideExistsTasks:!1,pageIndex:1,pageSize:100,sortModel:null,url:e.targetLink,cookie:e.cookie}):e&&e.batchNo?a({batchNo:e.batchNo}):e&&e.linkList?(0,r.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o({connectionId:e.linkList[0],userConnectionId:e.linkList[0]});case 2:return t.next=4,c({isEdit:"isEdit",listIds:e.linkList});case 4:case"end":return t.stop()}}),t)})))():e&&e.maintainParams&&(0,r.Z)(l().mark((function t(){var i,a,r,o,u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.maintainParams,a=i.id,r=i.esId,(o=i.params).pageIndex=1,o.status=["INIT"],t.next=5,n({maintainParams:o,proInitStatus:r});case 5:return t.next=7,s({spuId:a,connectionType:d});case 7:if(u=t.sent,t.t0=u&&u.length>0,!t.t0){t.next=12;break}return t.next=12,c({unprocessed:!0});case 12:case"end":return t.stop()}}),t)})))(),u({key:"LINK_FORM_DEFAULT"})},n.componentWillUnmount=function(){this.props.resetDataDispatch()},n.render=function(){return s.createElement(q,(0,a.Z)({},this.props,this.state,this.event))},t}(s.PureComponent);const z=(0,u.connect)((function(e){var t=e.loading,n=(0,i.Z)(e,K);return t.effects[M+"/getSingleLinkList"],t.effects[M+"/getBatchTopics"],t.effects[M+"/getAddedTopics"],t.effects[M+"/fetchLinkList"],t.effects[M+"/getLinkSalesTopics"],(0,a.Z)({},n[M],{initLeftLoading:t.effects[M+"/getSingleLinkList"]||t.effects[M+"/getBatchTopics"]||t.effects[M+"/getAddedTopics"]||t.effects[M+"/fetchLinkList"]||t.effects[M+"/getLinkSalesTopics"]||!1,initRightLoading:t.effects[M+"/getListTopics"]||t.effects[M+"/getTopicsList"]||!1,loading:t.effects[M+"/addSingleLinkTopic"]||t.effects[M+"/setCurrentTopicList"]||!1,ignoring:t.effects[M+"/fetchIgnoreSingle"]||!1})}),(function(e){return{save:function(t){return e({type:M+"/save",payload:t})},resetDataDispatch:function(t){return e({type:M+"/resetDataDispatch",payload:t})},onDefualtTopicChange:function(t){return e({type:M+"/onDefualtTopicChange",payload:t})},getTopicSuggestValue:function(t){return e({type:M+"/getTopicSuggestValue",payload:t})},addSingleLinkTopic:function(t){return e({type:M+"/addSingleLinkTopic",payload:t})},getSingleLinkList:function(t){return e({type:M+"/getSingleLinkList",payload:t})},getLinkSalesTopics:function(t){return e({type:M+"/getLinkSalesTopics",payload:t})},getAddedTopics:function(t){return e({type:M+"/getAddedTopics",payload:t})},getBatchTopics:function(t){return e({type:M+"/getBatchTopics",payload:t})},getListTopics:function(t){return e({type:M+"/getListTopics",payload:t})},fetchLinkList:function(t){return e({type:M+"/fetchLinkList",payload:t})},setCurrentTopicList:function(t){return e({type:M+"/setCurrentTopicList",payload:t})},fetchIgnoreSingle:function(t){return e({type:M+"/fetchIgnore",payload:t})},setDefaultValue:function(t){return e({type:M+"/setDefaultValue",payload:t})},getDefaultValue:function(t){return e({type:M+"/getDefaultValue",payload:t})}}}))(W)},97753:(e,t,n)=>{e.exports=n.p+"img/910a95789a4767e8719c.png"}}]);
"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[9811],{10723:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(63366),r=n(87462),i=n(94578),o=n(67294),c=n(61918),l=n(37841),p=n(43036),s=n(61409),u=n(92360),d=n(35535),h=n(1145),g={"\u5168\u90e8":"ALL","\u4e91\u542c":"YT","\u5f53\u524d\u9879\u76ee":"CURRENT"},f=Object.keys(g).map((function(e){return{key:e,value:g[e]}}));const m=function(e){var t=e.drawerVisible,n=e.spuId,a=e.loading,r=e.name,i=e.onFilterChange,g=e.type,m=e.entryList,y=e.total,v=e.pageIndex,b=e.pageSize,C=e.onDelete,_=e.onPageChange,E=e.onPageSizeChange,w=o.useState("ALL"),P=w[0],S=w[1],I=o.useState(void 0),L=I[0],j=I[1],k=o.useState(!1),z=k[0],Z=k[1],D=o.useState(""),O=D[0],V=D[1],N=o.useState(""),T=N[0],x=N[1];return o.useEffect((function(){L&&t&&L.wrappedInstance.show({spuId:n,type:g})}),[L,t]),o.createElement("div",{className:"project_base_spu"},o.createElement("div",{className:"yt_product_setting_subscribe_base_list_wrapper"},o.createElement("div",{className:"top_zone"},o.createElement("div",{className:"left_zone"},o.createElement(c.Z,{onSearch:function(e){return i({name:e})},onClear:function(e){return i({name:e})},placeholder:"\u641c\u7d22\u8bcd\u6761",defValue:r,style:{width:168}}),o.createElement(l.Z,{options:f,activeKey:P,onTabClick:function(e){S(e),i({tabType:e})}})),o.createElement("div",{className:"right_zone"},o.createElement(p.Z,{overlay:o.createElement("div",null,"\u5173\u4e8e\u8bcd\u6761\u5e93\uff0c",o.createElement(s.rU,{className:"yt-feedback-read-more",to:"https://www.yuque.com/docs/share/b6548b05-b10c-4c4a-a55c-be008b5672fa?# \u300a\u884c\u4e1a\u8bcd\u6761\u7ed3\u6784\u529f\u80fd\u8bf4\u660e\u300b",target:"_blank"},"\u4e86\u89e3\u66f4\u591a")),placement:"top"},o.createElement("i",{className:"icon-cem_file1",style:{marginRight:10,fontSize:14,color:"#979797"}})),o.createElement(u.Button,{type:"primary",onClick:function(){L.wrappedInstance.show({spuId:n,type:g})}},"\u7533\u8bf7"+g+"\u8bcd\u6761"))),g&&o.createElement(h.Z,{loading:a,data:m,total:y,pageIndex:v,pageSize:b,onPageChange:_,onPageSizeChange:E,onEdit:function(e,t){L&&L.wrappedInstance.show({id:e.id,copy:"copy"===t,type:g})},onDelete:function(){C(T),Z(!1)},onClickDelete:function(e){Z(!0),V(e.name),x(e.id)},entryVisible:z,entryName:O,onCancel:function(){Z(!1),V(""),x("")},type:g}),o.createElement(d.Z,{ref:j,type:g})))};var y=n(35239),v=n(55609),b=n(64396),C=n(55815),_=n(13713),E=["loading"],w=b.Z.product.setting.public,P=b.Z.product.setting.base.spu,S=function(e){function t(t){var n;(n=e.call(this,t)||this)._handleOnFilterChange=function(e){void 0!==e.name?n.props.fetchList({name:e.name,pageIndex:1}):e.tabType&&n.props.fetchList({projectIds:"ALL"===e.tabType?["yt",y.t.get(y.V.curProject).id]:"YT"===e.tabType?["yt"]:[y.t.get(y.V.curProject).id],name:n.props.name,pageIndex:1})},n._handleOnPageChange=function(e){n.props.fetchList({pageIndex:e,name:n.props.name})},n._handleOnPageSizeChange=function(e){n.props.fetchList({pageIndex:1,pageSize:e,name:n.props.name})},n._handleOnDelete=function(e){n.props.fetchDelete({ids:[e]})};var a=t.location;return n.state={},n.event={onFilterChange:n._handleOnFilterChange,onPageChange:n._handleOnPageChange,onPageSizeChange:n._handleOnPageSizeChange,onDelete:n._handleOnDelete},t.save({drawerVisible:a.query&&a.query.drawerVisible}),t.titleChange([{title:"\u77e5\u8bc6\u5e93",state:{type:""}}]),n}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.location;this.props.fetchList({projectId:y.t.get(y.V.curProject).id,type:"SPU",projectIds:["yt",y.t.get(y.V.curProject).id]})},n.componentWillUnmount=function(){this.props.clean()},n.render=function(){return o.createElement("div",{style:{height:"100%"}},o.createElement(C.Z,{title:(0,_.u)({title:"\u77e5\u8bc6\u5e93"})}),o.createElement(m,(0,r.Z)({},this.props,this.state,this.event)))},t}(o.PureComponent);const I=(0,v.connect)((function(e){var t=e.loading,n=(0,a.Z)(e,E);return(0,r.Z)({},n[P],{loading:t.effects[P+"/fetchList"]||!1})}),(function(e){return{save:function(t){return e({type:P+"/save",payload:t})},clean:function(t){return e({type:P+"/clean",payload:t})},fetchList:function(t){return e({type:P+"/fetchList",payload:t})},fetchDelete:function(t){return e({type:P+"/fetchDelete",payload:t})},titleChange:function(t){return e({type:w+"/titleChange",payload:t})}}}))(S)},13713:(e,t,n)=>{n.d(t,{u:()=>r});var a=n(35239),r=function(e){var t=e.title,n=e.url,r=a.t.get(a.V.backProjectConfig).name;return n&&-1!==n.indexOf("memberlist")?[{title:r,url:"/account/project/preview"},{title:"\u7528\u6237\u7ec4",url:"/account/project/usergroup"},{title:t,url:n}]:[{title:r,url:"/account/project/preview"},{title:t,url:n}]}}}]);
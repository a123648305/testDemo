"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[8938],{32610:(e,a,t)=>{t.r(a),t.d(a,{default:()=>v});var n=t(63366),l=t(87462),r=t(94578),i=t(67294),o=t(55609),p=t(35103),c=t(67133),s=t(19731),f=t(89604),u={SCENE_USE_SCENE:"\u300c\u4f7f\u7528\u573a\u5408\u300d\u4ece\u6d88\u606f\u4e2d\u63d0\u53d6\u51fa\u4e0e\u300c\u4f7f\u7528\u573a\u5408\u300d\u76f8\u5173\u7684\u4fe1\u606f\u3002\u4f8b\u5982\u300c\u4e70\u4e86\u8fd9\u4e2a\u5438\u5c18\u5668\uff0c\u62d6\u5730\u677f\u5f88\u5e72\u51c0\u300d\uff0c\u8bf4\u660e\u4f7f\u7528\u573a\u666f\u662f\u300c\u5730\u677f\u300d\u3002",SCENE_USE:"\u300c\u7528\u9014\u300d\u4ece\u6d88\u606f\u4e2d\u63d0\u53d6\u51fa\u4e0e\u300c\u7528\u9014\u300d\u76f8\u5173\u7684\u4fe1\u606f\u3002\u4f8b\u5982\u300c\u6211\u4e70\u6765\u6253\u6e38\u620f\u7684\u300d\uff0c\u8bf4\u660e\u7528\u9014\u662f\u300c\u6e38\u620f\u300d\u3002",SCENE_BUY_DECISION:"\u300c\u8d2d\u4e70\u51b3\u7b56\u300d\u4ece\u6d88\u606f\u4e2d\u63d0\u53d6\u51fa\u4e0e\u300c\u8d2d\u4e70\u51b3\u7b56\u300d\u76f8\u5173\u7684\u4fe1\u606f\u3002\u4f8b\u5982\u300c\u597d\u7528\uff0c\u771f\u7684\u597d\u7528\u3002\u540c\u4e8b\u4e00\u76f4\u63a8\u8350\u300d\uff0c\u8bf4\u660e\u8d2d\u4e70\u51b3\u7b56\u662f\u300c\u63a8\u8350\u300d\u3002"};const y=function(e){var a=e.type,t=e.dateOptions,n=e.filterReady,l=e.filterChange,r=e.onFilterChange,o=e.onFlavorChange,y=e.onMsgClick,h=e.trendData,d=e.fetchingTrendData,g=e.timeType,m=e.fTimeType,D=e.analyzeLineData,T=e.analyzeBarData,C=e.fetchingAnalyzeLineData,z=e.fetchingAnalyzeBarData,v=e.alzName,F=e.alzOptions,O=e.alzTimeType,E=e.alzFTimeType,_=e.barData,N=e.fetchingBarData;return i.createElement("div",{className:"yt_explore_scene_usage_wrapper"},i.createElement(p.Z,{onReady:n,onChange:l,pageType:a,advanceAuthority:!1,touchData:["\u7535\u5546\u8bc4\u8bba"],selectValue:"\u7535\u5546\u8bc4\u8bba",valueConf:["fullInfo"],showList:["fullDate","screening","save","sourceSearch"],hasHour:!0},i.createElement("div",{className:"content"},i.createElement(s.Z,{data:h,loading:d,timeType:g,fTimeType:m,timeOptions:t,onFilterChange:r,onFlavorChange:o,onMsgClick:y,title:"\u6807\u7b7e\u6570\u91cf",titleOverlay:i.createElement("div",null,i.createElement("p",null,"\u573a\u666f\u6807\u7b7e\u63d0\u53ca\u7387 = \u63d0\u53ca\u4e86\u573a\u666f\u6807\u7b7e\u53bb\u91cd\u540e\u7684\u6d88\u606f\u6570\u91cf \xf7 \u6d88\u606f\u603b\u91cf"),i.createElement("p",null,"\u6807\u7b7e\u6570\u91cf\u8ba1\u7b97\u8bf4\u660e\uff1a\u5982\u679c\u4e00\u6761\u6d88\u606f\u4e2d\u51fa\u73b0\u4e00\u4e2a\u573a\u666f\u6807\u7b7e\u5c31\u8ba11\uff0c\u540c\u4e00\u4e2a\u573a\u666f\u6807\u7b7e\u5728\u4e00\u4e2a\u6d88\u606f\u4e2d\u4e0d\u91cd\u590d\u8ba1\u6570\u3002"))}),i.createElement(c.Z,{title:"\u6807\u7b7e\u5206\u5e03",tips:u[a],data:_,loading:N,onMsgClick:y}),i.createElement(f.Z,{analyzeLineData:D,analyzeBarData:T,fetchingAnalyzeLineData:C,fetchingAnalyzeBarData:z,timeOptions:t,alzTimeType:O,alzFTimeType:E,alzOptions:F,alzName:v,onFilterChange:r,onFlavorChange:o,onMsgClick:y}))))};var h=t(35239),d=t(53113),g=t(81408),m=t(2786),D=t(64396),T=["loading"],C=D.Z.explore.scene.usage,z=function(e){function a(a){var t;return(t=e.call(this,a)||this)._handleFilterReady=function(e,a){var n=(0,d.X)(e.dateFilter.numOfDays,!0),l=n.dateOptions,r=n.defaultDateType;t.props.fetchParams({projectId:h.t.get(h.V.curProject).id,headerFilterParamsNew:e.headerFilterParamsNew,dateFilter:e.dateFilter,dateOptions:l,defaultDateType:r,pageType:t.props.type,alzIdKey:g.v1[t.props.type],filterValues:a.fullInfo.filterValue})},t._handleFilterChange=function(e,a,n){var r=(0,d.X)(e.dateFilter.numOfDays,!0),i=r.dateOptions,o=r.defaultDateType;t.props.fetchDatas((0,l.Z)({},e,{dateOptions:i,defaultDateType:o,timeType:o,alzTimeType:o,filterValues:a.fullInfo.filterValue}))},t._handleOnFilterChange=function(e){var a=t.props,n=a.oLineData,r=a.oBarData,i=a.alzOptions;if(e.timeType&&t.props.fetchTrendData(e),e.alzTimeType&&t.props.fetchAnalyzeLineData(e),e.alzName){var o=(0,g.dR)((0,l.Z)({oLineData:n,oBarData:r,alzOptions:i},e));t.props.save((0,l.Z)({},e,o))}},t._handleOnFlavorChange=function(e){e.fTimeType||e.alzFTimeType,t.props.setDefaultValue(e)},t._handleOnMsgClick=function(e,a){var n=t.props,l=n.projectId,r=n.dateFilter,i=n.headerFilterParamsNew,o=n.type,p=n.oLineData,c=n.alzTimeType,s=n.alzName,f=n.filterValues,u=e.name,y=e.componentSubType,h=e.data,d={id:o,label:g.$5[o],values:[s]},D={projectId:l,dateFilter:(0,m.X_)(y,r,u,p[0].data.map((function(e){return e.name})),c),headerFilterParamsNew:"bar"===y&&"\u6807\u7b7e\u5206\u5e03"===a?(0,g.gt)(i,g.$5[o],u):"line"===y?(0,g.gt)(i,g.$5[o],s):"bar"===y&&"\u5171\u540c\u63d0\u53ca\u7684\u5176\u4ed6\u573a\u666f\u6807\u7b7e"===a?(0,g.gt)(i,h[0],u.split(":")[1],"",d):i,filterModel:{project:[l],messageCategory:["COMMENT"]},filterTip:null,filterValues:"bar"===y&&"\u6807\u7b7e\u5206\u5e03"===a?(0,g.gt)(f,g.$5[o],u,!0):"line"===y?(0,g.gt)(f,g.$5[o],s,!0):"bar"===y&&"\u5171\u540c\u63d0\u53ca\u7684\u5176\u4ed6\u573a\u666f\u6807\u7b7e"===a?(0,g.gt)(f,h[0],u.split(":")[1],!0,d):f};window.open("/inbox/public?"+encodeURIComponent(JSON.stringify(D)))},setTimeout((function(){return t.props.save({pageType:t.props.type})}),0),t.state={},t.events={filterReady:t._handleFilterReady,filterChange:t._handleFilterChange,onFilterChange:t._handleOnFilterChange,onFlavorChange:t._handleOnFlavorChange,onMsgClick:t._handleOnMsgClick},t}(0,r.Z)(a,e);var t=a.prototype;return t.componentWillUnmount=function(){this.props.clean()},t.render=function(){return i.createElement(y,(0,l.Z)({},this.props,this.state,this.events))},a}(i.Component);const v=(0,o.connect)((function(e){var a=e.loading,t=(0,n.Z)(e,T);return(0,l.Z)({},t[C],{fetchingTrendData:a.effects[C+"/fetchTrendData"]||!1,fetchingBarData:a.effects[C+"/fetchBarData"]||!1,fetchingAnalyzeLineData:a.effects[C+"/fetchAnalyzeLineData"]||!1,fetchingAnalyzeBarData:a.effects[C+"/fetchAnalyzeBarData"]||!1})}),(function(e){return{save:function(a){return e({type:C+"/save",payload:a})},clean:function(){return e({type:C+"/clean"})},setDefaultValue:function(a){return e({type:C+"/setDefaultValue",payload:a})},fetchDatas:function(a){return e({type:C+"/fetchDatas",payload:a})},fetchParams:function(a){return e({type:C+"/fetchParams",payload:a})},fetchTrendData:function(a){return e({type:C+"/fetchTrendData",payload:a})},fetchBarData:function(a){return e({type:C+"/fetchBarData",payload:a})},fetchAnalyzeLineData:function(a){return e({type:C+"/fetchAnalyzeLineData",payload:a})},fetchAnalyzeBarData:function(a){return e({type:C+"/fetchAnalyzeBarData",payload:a})}}}))(z)}}]);
"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[9851],{89851:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var a=n(94578),i=n(67294),r=n(61409),c=n(92360),s=n(5133),l=n(49722),o=function(e){function t(t){var n;return(n=e.call(this,t)||this).resetFontSize=function(){var e=document.documentElement.clientWidth/750,t=document.documentElement.clientHeight/690,n=Math.min(e,t);document.querySelector("html").style.fontSize=24*n+"px"},n.handleSubmit=function(){var e=n.state,t=e.activeTabIndex,a=e.warningValueInput,i=e.token;-1!==t?""!==a?l.h.post("/price/warning/token/change/price",{token:i,warningPrice:parseInt(a,10),priceCompareType:0===t?"GT":1===t?"LT":"LT_OR_GT"}).then((function(e){200===e.status&&(s.Z.success("\u4fee\u6539\u6210\u529f"),setTimeout((function(){return r.mW.goBack()}),1500))})):s.Z.warning("\u8bf7\u8f93\u5165\u9884\u8b66\u4fee\u6539\u503c"):s.Z.warning("\u8bf7\u9009\u62e9\u9884\u8b66\u503c\u6761\u4ef6")},n.state={currWarningValue:0,currWarningType:"",compareType:"",activeTabIndex:-1,warningValueInput:"",token:"",warningType:""},n}(0,a.Z)(t,e);var n=t.prototype;return n.componentWillMount=function(){window.addEventListener("resize",this.resetFontSize),this.resetFontSize()},n.componentDidMount=function(){for(var e=this.state,t=e.currWarningValue,n=e.currWarningType,a=e.compareType,i=e.token,r=e.warningType,c=window.location.search.substring(1).split("&"),s=c.length-1;s>=0;s--){var l=c[s].split("=");"alertValue"===l[0]&&(t=l[1]),"alertType"===l[0]&&(n=l[1]),"compareType"===l[0]&&(a=l[1]),"token"===l[0]&&(i=l[1]),"warningType"===l[0]&&(r=l[1])}this.setState({currWarningValue:t,currWarningType:n,compareType:a,token:i,warningType:r,activeTabIndex:"BREAK_BACK_PRICE"===r?1:-1})},n.componentWillUnmount=function(){window.removeEventListener("resize",this.resetFontSize)},n.switchTab=function(e){this.setState({activeTabIndex:e})},n.handleInput=function(){var e=this.refs.input.value;this.setState({warningValueInput:e})},n.render=function(){var e=this,t=this.state,n=t.currWarningValue,a=t.currWarningType,r=t.compareType,s=t.activeTabIndex,l="BREAK_BACK_PRICE"===t.warningType;return i.createElement("div",{className:"update_thresholdValue"},i.createElement("p",{className:"pageTitle"},"\u9884\u8b66\u503c\u4fee\u6539"),i.createElement("div",{className:"top"},i.createElement("p",{className:"title",style:{marginBottom:"0.667rem"}},"\u5f53\u524d\u9884\u8b66\u503c"),i.createElement("p",{style:{marginBottom:"2.33rem"}},i.createElement("span",{className:"flag"},"GT"===a?"\u9ad8\u4e8e":"LT"===a?"\u4f4e\u4e8e":"\u5dee\u4ef7\u9ad8\u4e8e"),i.createElement("span",{className:"value"},n)),i.createElement("p",{className:"title",style:{marginBottom:"1rem"}},"\u9884\u8b66\u503c\u6761\u4ef6"),i.createElement("div",{className:"tabs"},!l&&i.createElement("div",{className:0===s?"item active":"item",onClick:function(){return e.switchTab(0)}},"\u9ad8\u4e8e"),i.createElement("div",{className:l||1===s?"item active":"item",onClick:function(){return e.switchTab(1)}},"\u4f4e\u4e8e"),"PRODUCT"===r&&i.createElement("div",{className:2===s?"item active":"item",onClick:function(){return e.switchTab(2)}},"\u5dee\u4ef7\u9ad8\u4e8e")),i.createElement("p",{className:"title",style:{marginBottom:"1rem"}},"\u4fee\u6539\u9884\u8b66\u503c"),i.createElement("input",{className:"input",ref:"input",onInput:function(){return e.handleInput()}}),i.createElement("p",null,i.createElement(c.Button,{type:"primary",style:{marginBottom:"1.667rem",width:"100%",height:"3rem"},onClick:this.handleSubmit},"\u786e\u8ba4\u4fee\u6539"))))},t}(i.Component)}}]);
"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[4088],{70858:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var n=t(63366),l=t(87462),r=t(94578),i=t(67294),o=t(35103),c=t(67133),p=t(19731),f=t(89604);const s=function(e){var a=e.pageType,t=e.dateOptions,n=e.filterReady,l=e.filterChange,r=e.onFilterChange,s=e.onFlavorChange,u=e.onMsgClick,h=e.trendData,d=e.fetchingTrendData,y=e.timeType,g=e.fTimeType,m=e.barData,D=e.fetchingBarData,T=e.analyzeLineData,z=e.analyzeBarData,C=e.fetchingAnalyzeLineData,v=e.fetchingAnalyzeBarData,F=e.alzName,O=e.alzOptions,_=e.alzTimeType,B=e.alzFTimeType;return i.createElement("div",{className:"yt_explore_scene_spokesperson_wrapper"},i.createElement(o.Z,{onReady:n,onChange:l,pageType:a,advanceAuthority:!1,touchData:["\u7535\u5546\u8bc4\u8bba"],selectValue:"\u7535\u5546\u8bc4\u8bba",valueConf:["fullInfo"],showList:["fullDate","screening","save","sourceSearch"],hasHour:!0},i.createElement("div",{className:"content"},i.createElement(p.Z,{data:h,loading:d,timeType:y,fTimeType:g,timeOptions:t,onFilterChange:r,onFlavorChange:s,onMsgClick:u,title:"\u6807\u7b7e\u6570\u91cf",titleOverlay:i.createElement("div",null,i.createElement("p",null,"\u573a\u666f\u6807\u7b7e\u63d0\u53ca\u7387 = \u63d0\u53ca\u4e86\u573a\u666f\u6807\u7b7e\u53bb\u91cd\u540e\u7684\u6d88\u606f\u6570\u91cf \xf7 \u6d88\u606f\u603b\u91cf"),i.createElement("p",null,"\u6807\u7b7e\u6570\u91cf\u8ba1\u7b97\u8bf4\u660e\uff1a\u5982\u679c\u4e00\u6761\u6d88\u606f\u4e2d\u51fa\u73b0\u4e00\u4e2a\u4ee3\u8a00\u4eba\u5c31\u8ba11\uff0c\u540c\u4e00\u4e2a\u4ee3\u8a00\u4eba\u5728\u4e00\u6761\u6d88\u606f\u4e2d\u91cd\u590d\u63d0\u53ca\u65f6\uff0c\u6807\u7b7e\u6570\u91cf\u4e0d\u4f1a\u91cd\u590d\u8ba1\u6570\u3002"))}),i.createElement(c.Z,{title:"\u6807\u7b7e\u5206\u5e03",tips:"\u4e00\u4e2a\u4ee3\u8a00\u4eba\u4f1a\u6709\u4e00\u4e2a\u827a\u540d\u548c\u591a\u4e2a\u6635\u79f0\uff0c\u7edf\u8ba1\u6807\u7b7e\u6570\u91cf\u65f6\u4f1a\u5305\u542b\u827a\u540d\u548c\u6635\u79f0\u6765\u7edf\u8ba1\uff0c\u6807\u7b7e\u300c\u4ee3\u8a00\u4eba\u300d\u662f\u7edf\u8ba1\u5185\u5bb9\u4e2d\u547d\u4e2d\u5173\u952e\u8bcd \u201c\u4ee3\u8a00\u4eba\u201d\u201c\u6211\u7684\u5076\u50cf\u201d\u201c\u6211\u5076\u50cf\u201d\u201c\u81ea\u5df1\u5076\u50cf\u201d\u7b49\u7684\u6d88\u606f\u6570\u91cf\u3002",data:m,loading:D,onMsgClick:u}),i.createElement(f.Z,{analyzeLineData:T,analyzeBarData:z,fetchingAnalyzeLineData:C,fetchingAnalyzeBarData:v,timeOptions:t,alzTimeType:_,alzFTimeType:B,alzOptions:O,alzName:F,onFilterChange:r,onFlavorChange:s,onMsgClick:u}))))};var u=t(55609),h=t(35239),d=t(53113),y=t(81408),g=t(2786),m=t(64396),D=["loading"],T=m.Z.explore.scene.spokesperson,z=function(e){function a(a){var t;return(t=e.call(this,a)||this)._handleFilterReady=function(e,a){var n=(0,d.X)(e.dateFilter.numOfDays,!0),l=n.dateOptions,r=n.defaultDateType;t.props.fetchParams({projectId:h.t.get(h.V.curProject).id,headerFilterParamsNew:e.headerFilterParamsNew,dateFilter:e.dateFilter,dateOptions:l,defaultDateType:r,filterValues:a.fullInfo.filterValue})},t._handleFilterChange=function(e,a,n){var r=(0,d.X)(e.dateFilter.numOfDays,!0),i=r.dateOptions,o=r.defaultDateType;t.props.fetchDatas((0,l.Z)({},e,{dateOptions:i,defaultDateType:o,timeType:o,alzTimeType:o,filterValues:a.fullInfo.filterValue}))},t._handleOnFilterChange=function(e){var a=t.props,n=a.oLineData,r=a.oBarData,i=a.alzOptions;if(e.timeType&&t.props.fetchTrendData(e),e.alzTimeType&&t.props.fetchAnalyzeLineData(e),e.alzName){var o=(0,y.dR)((0,l.Z)({oLineData:n,oBarData:r,alzOptions:i},e));t.props.save((0,l.Z)({},e,o))}},t._handleOnFlavorChange=function(e){e.fTimeType||e.alzFTimeType,t.props.setDefaultValue(e)},t._handleOnMsgClick=function(e,a){var n=t.props,l=n.projectId,r=n.dateFilter,i=n.headerFilterParamsNew,o=n.oLineData,c=n.alzTimeType,p=n.alzName,f=n.filterValues,s=e.name,u=e.componentSubType,h=e.data,d={id:"SCENE_ENDORSER",label:"\u4ee3\u8a00\u4eba",values:[p]},m={projectId:l,dateFilter:(0,g.X_)(u,r,s,o[0].data.map((function(e){return e.name})),c),headerFilterParamsNew:"bar"===u&&"\u6807\u7b7e\u5206\u5e03"===a?(0,y.gt)(i,"\u4ee3\u8a00\u4eba",s):"line"===u?(0,y.gt)(i,"\u4ee3\u8a00\u4eba",p):"bar"===u&&"\u5171\u540c\u63d0\u53ca\u7684\u5176\u4ed6\u573a\u666f\u6807\u7b7e"===a?(0,y.gt)(i,h[0],s.split(":")[1],"",d):i,filterModel:{project:[l],messageCategory:["COMMENT"]},filterTip:null,filterValues:"bar"===u&&"\u6807\u7b7e\u5206\u5e03"===a?(0,y.gt)(f,"\u4ee3\u8a00\u4eba",s,!0):"line"===u?(0,y.gt)(f,"\u4ee3\u8a00\u4eba",p,!0):"bar"===u&&"\u5171\u540c\u63d0\u53ca\u7684\u5176\u4ed6\u573a\u666f\u6807\u7b7e"===a?(0,y.gt)(f,h[0],s.split(":")[1],!0,d):f};window.open("/inbox/public?"+encodeURIComponent(JSON.stringify(m)))},t.state={},t.events={filterReady:t._handleFilterReady,filterChange:t._handleFilterChange,onFilterChange:t._handleOnFilterChange,onFlavorChange:t._handleOnFlavorChange,onMsgClick:t._handleOnMsgClick},t}(0,r.Z)(a,e);var t=a.prototype;return t.componentWillUnmount=function(){this.props.clean()},t.render=function(){return i.createElement(s,(0,l.Z)({},this.props,this.state,this.events))},a}(i.Component);const C=(0,u.connect)((function(e){var a=e.loading,t=(0,n.Z)(e,D);return(0,l.Z)({},t[T],{fetchingTrendData:a.effects[T+"/fetchTrendData"]||!1,fetchingBarData:a.effects[T+"/fetchBarData"]||!1,fetchingAnalyzeLineData:a.effects[T+"/fetchAnalyzeLineData"]||!1,fetchingAnalyzeBarData:a.effects[T+"/fetchAnalyzeBarData"]||!1})}),(function(e){return{save:function(a){return e({type:T+"/save",payload:a})},clean:function(){return e({type:T+"/clean"})},setDefaultValue:function(a){return e({type:T+"/setDefaultValue",payload:a})},fetchParams:function(a){return e({type:T+"/fetchParams",payload:a})},fetchDatas:function(a){return e({type:T+"/fetchDatas",payload:a})},fetchTrendData:function(a){return e({type:T+"/fetchTrendData",payload:a})},fetchBarData:function(a){return e({type:T+"/fetchBarData",payload:a})},fetchAnalyzeLineData:function(a){return e({type:T+"/fetchAnalyzeLineData",payload:a})},fetchAnalyzeBarData:function(a){return e({type:T+"/fetchAnalyzeBarData",payload:a})}}}))(z)}}]);
"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[8011],{78436:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(94578),i=n(67294),r=n(94644),l=function(e){function t(){var t;return(t=e.call(this)||this).isEmpty=!0,t.group=function(e){t.myChart.group=e,t.echarts.connect(e)},t.refreshChart=function(e){t.setState(e)},t.setWidth=function(e){t.refs.chart.style.width=e,t.init()},t.loading=function(){t.myChart.clear(),t.myChart.showLoading({text:"\u62fc\u547d\u52a0\u8f7d\u4e2d",color:"#20a0ff",maskColor:"rgba(255, 255, 255, 0.9)",zlevel:0})},t.setOption=function(e){if(e.textStyle={fontFamily:"'PingFang SC','Microsoft Yahei', 'Helvetica Neue', Helvetica, Tahoma, Arial, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif"},e.legend&&(e.legend.data=e.legend.data.map((function(e){return{name:e,icon:"circle"}})),e.legend.itemWidth=10,e.legend.itemHeight=10),e.tooltip&&!e.tooltip.extraCssText?(e.tooltip.backgroundColor="rgba(255,255,255,0.9)",e.tooltip.textStyle={color:"#262626"},e.tooltip.extraCssText="box-shadow: 0 0 7px rgba(0, 0, 0, 0.3);"):e.tooltip&&(e.tooltip=e.tooltip),e.series.forEach((function(e){"line"===e.type&&(e.showAllSymbol=!0,e.symbol="circle",e.symbolSize=2,e.itemStyle={normal:{borderColor:"rgba(255,255,255,0)",borderWidth:5}})})),e.hoverLayerThreshold=500,e.progressiveThreshold=500,e.animationThreshold=500,t.myChart){var n;t.myChart.clear(),t.myChart.hideLoading();for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];(n=t.myChart).setOption.apply(n,[e].concat(i)),t.isEmpty=!1}},t.setEmptyOption=function(e){var a=t.myChart.getHeight(),i=t.myChart.getWidth(),r=Math.min(a/2,i/2,20),l={type:"pie",radius:[0,0],center:["50%","50%"],silent:!0,data:[{value:0,name:"",label:{normal:{show:!0,position:"center",backgroundColor:{image:n(3381)},padding:r,formatter:function(){return""}}}},{value:0,name:"",label:{normal:{show:!0,position:"center",formatter:function(){return"{a|\n}{b|"+e+"}"},rich:{a:{height:r+60},b:{fontSize:20,color:"#999"}}}}}]};t.myChart&&(t.myChart.clear(),t.myChart.hideLoading(),t.myChart.setOption({series:l,animation:!1},!0),t.isEmpty=!0)},t.init=function(){t.echarts.getInstanceByDom(t.refs.chart)&&t.echarts.dispose(t.refs.chart);var e=t.echarts.init(t.refs.chart);t.myChart=e,t.props.myChartClick&&e.on("click",(function(e){t.isEmpty||t.props.myChartClick(e)})),t.props.dataZoomChange&&e.on("dataZoom",(function(e){t.isEmpty||t.props.dataZoomChange(e)}))},t.downloadExcel=function(e,t){(0,r.aT)([[t].concat(e)],"")},t.echarts=n(70596),t}(0,a.Z)(t,e);var l=t.prototype;return l.componentDidMount=function(){this.init()},l.componentWillUnmount=function(){this.myChart.dispose()},l.render=function(){var e=this.props.minHeight,t=Object.assign({},e?{minHeight:e}:{});return i.createElement("div",{ref:"chart",className:"widget-chart",style:t})},t}(i.Component)},98011:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var a=n(67294),i=n(15861),r=n(87462),l=n(94578),c=n(19155),o=n.n(c),s=n(44908),d=n.n(s),u=n(87757),m=n.n(u),p=n(43036),h=(n(76405),n(69843)),f=(n(15144),n(2307)),g=n(63366),y=n(43144),v=["topArea","bottomArea","showPagination","dataSource","listSummary","rowKey","rowSelection","columns","scroll","loading","style"],k=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))||this).formatColumns=function(e){return e.filter((function(e){return e&&!e.disable})).map((function(e){return(e=(0,r.Z)({},e)).align=e.align?e.align:"center",e.timestamp&&!e.render&&(e.render=function(e){return a.createElement("span",null,e)}),e.ellipsis&&!e.render&&(e.render=function(e){return a.createElement("span",null,function(e){return e?Array.isArray(e)?e.join(","):"string"===typeof e?e:String(e):""}(e))}),e}))},t}return(0,l.Z)(t,e),t.prototype.render=function(){var e,t=this,n=this.props,i=n.topArea,l=n.bottomArea,c=(n.showPagination,n.dataSource),o=n.listSummary,s=o.current,d=o.pageSize,u=o.total,m=n.rowKey,p=n.rowSelection,y=n.columns,k=n.scroll,w=n.loading,E=n.style,C=(0,g.Z)(n,v);return a.createElement("div",{className:"y-table-warp"},i?a.createElement("div",{className:"y-table-header"},i):null,a.createElement("div",{className:"y-table-body flex h-full",style:E},a.createElement(f.Z,(0,r.Z)({pagination:!1,className:"y-table w-full",rowSelection:p,dataSource:c,rowKey:m,scroll:k,loading:null!=w?{spinning:!!w,tip:"\u62fc\u547d\u52a0\u8f7d\u4e2d..."}:void 0,columns:this.formatColumns(y)},C))),(null==c?void 0:c.length)>0&&a.createElement("div",{className:"y-table-footer"},a.createElement("div",{className:"flex flex-1"},u>0&&a.createElement("span",{className:"mr-15 color-tip"},a.createElement("i",{className:"color-title"},this.startCount," - ",this.endCount),"\u9879\uff0c\u5171 ",a.createElement("i",{className:"color-title"},u)," \u9879",p?a.createElement(a.Fragment,null,"\uff0c\u5df2\u9009\u62e9",a.createElement("i",{className:"color-title"},p.isSelectAll?u:(null==p||null==(e=p.selectedRowKeys)?void 0:e.length)||0),"\u9879"):null),l),a.createElement(h.default,{className:"y-pagination",showQuickJumper:!1,pageSizeOptions:["10","20","40","100"],showSizeChanger:!1,size:"small",current:s,pageSize:d,total:u,onChange:function(e,n){t.props.onPaginationChange&&t.props.onPaginationChange(e,n||d)}})))},(0,y.Z)(t,[{key:"startCount",get:function(){var e=this.props.listSummary;return(e.current-1)*e.pageSize+1}},{key:"endCount",get:function(){var e=this.props.listSummary,t=e.current,n=e.pageSize,a=e.total,i=t*n;return i>a?a:i}}]),t}(a.PureComponent);k.defaultProps={size:"small",rowKey:"id",showPagination:!0,listSummary:{current:1,pageSize:10,total:0},dataSource:[]};const w=k;var E=n(19586),C=n(68003),b=n(60496),S=n(92360),x=n(5133),N=n(38425),P=n(49722),T=n(23942),Z=n(35239),_=n(21694),L=n(6637),A=n(30381),O=n.n(A),I=function(e){return a.createElement("div",{style:{maxWidth:300}},e)};var R={"\u8d8b\u52bf":{title:a.createElement("span",null,"\u8d8b\u52bf",a.createElement(p.Z,{overlay:"12\u5c0f\u65f6\u5185\u4ef7\u683c\u53d8\u5316\u7ed3\u679c",placement:"top"},a.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c"}}))),dataindex:"flag",width:58,fixed:"left",align:"left",sorter:!1,render:function(e){var t=0===e.flag?"icon-cem_line":2===e.flag?"icon-cem_three-states-down":"icon-cem_three-states-up",n=0===e.flag?"#BFBFBF":2===e.flag?"#D96969":"#15B374";return a.createElement("i",{className:t,style:{color:n,fontSize:20}})}},"\u5546\u54c1\u6807\u9898":{title:"\u5546\u54c1\u6807\u9898",dataindex:"title",width:227,align:"left",sorter:!0,render:function(e){return a.createElement("div",{className:"ellipisis highlight",style:{maxWidth:230},title:e.title,onClick:function(t){t.stopPropagation(),function(e){var t=e.url;window.open(t,"_blank")}(e)}},e.title)}},"\u66f4\u65b0\u72b6\u6001":{title:"\u66f4\u65b0\u72b6\u6001",dataindex:"realtimePriceStatus",width:90,align:"left",render:function(e){var t=_.Se.find((function(t){return e.realtimePriceStatus===t.value}));return a.createElement("div",{className:"ellipisis"},(null==t?void 0:t.title)||"\u672a\u77e5")}},"\u6570\u636e\u66f4\u65b0\u65f6\u95f4":{title:"\u6570\u636e\u66f4\u65b0\u65f6\u95f4",dataindex:"ctime",align:"left",width:130,render:function(e){return a.createElement("div",{className:"ellipisis"},e.ctime?O()(e.ctime).format("YYYY/MM/DD HH:mm"):"")}},"\u5355\u54c1\u5230\u624b\u4ef7":{title:a.createElement("span",null,"\u5355\u54c1\u5230\u624b\u4ef7",a.createElement(p.Z,{overlay:I("\u53ea\u8d2d\u4e701\u4ef6\u5355\u54c1\u5c31\u80fd\u83b7\u5f97\u4f18\u60e0\u5bf9\u5e94\u7684\u5230\u624b\u4ef7\u3002"),placement:"top"},a.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c"}}))),dataindex:"takePrice",width:120,sorter:!0,align:"left",render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:56}},e.takePrice>=0?e.takePrice:"\u5df2\u4e0b\u67b6")}},"\u5355\u54c1\u5230\u624b\u4ef7\u4eca\u65e5\u6700\u4f4e":{title:"\u5355\u54c1\u5230\u624b\u4ef7\u4eca\u65e5\u6700\u4f4e",dataindex:"minTakePrice",width:162,sorter:!0,align:"left",render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:56}},e.takePrice>=0?e.minTakePrice:"\u5df2\u4e0b\u67b6")}},"\u5355\u54c1\u62fc\u5355\u4ef7":{title:a.createElement("span",null,"\u5355\u54c1\u62fc\u5355\u4ef7",a.createElement(p.Z,{overlay:I("\u8d2d\u4e70\u591a\u4ef6\u5355\u54c1\u65f6\u80fd\u591f\u83b7\u5f97\u7684\u6700\u5927\u4f18\u60e0\u5bf9\u5e94\u7684\u5230\u624b\u4ef7\u3002\u5176\u4e2d\uff0c\u6700\u5927\u4f18\u60e0\u6309\u5355\u54c1\u7684\u6302\u724c\u4ef7\u5206\u644a\u3002"),placement:"top"},a.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c"}}))),dataindex:"groupTakePrice",width:100,align:"left",render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:56}},e.takePrice>=0?e.groupTakePrice:"\u5df2\u4e0b\u67b6")}},"\u5355\u54c1\u62fc\u5355\u4ef7\u4eca\u65e5\u6700\u4f4e":{title:"\u5355\u54c1\u62fc\u5355\u4ef7\u4eca\u65e5\u6700\u4f4e",dataindex:"minGroupTakePrice",align:"left",width:130,render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:56}},e.takePrice>=0?e.minGroupTakePrice:"\u5df2\u4e0b\u67b6")}},"\u5b8c\u7f8e\u62fc\u5355\u4ef7":{title:a.createElement("span",null,"\u5b8c\u7f8e\u62fc\u5355\u4ef7",a.createElement(p.Z,{overlay:I("\u5728\u5e73\u53f0\u5238\u548c\u5e97\u94fa\u5238\u7b49\u57fa\u7840\u4e0a\uff0c\u4e0e\u5176\u4ed6\u5546\u54c1\u8fdb\u884c\u62fc\u5355\u65f6\u80fd\u591f\u83b7\u5f97\u7684\u6700\u5927\u4f18\u60e0\u5bf9\u5e94\u7684\u5230\u624b\u4ef7\u3002\u5176\u4e2d\uff0c\u6700\u5927\u4f18\u60e0\u6309\u5355\u54c1\u7684\u6302\u724c\u4ef7\u5206\u644a\u3002"),placement:"top"},a.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c"}}))),dataindex:"perfectGroupTakePrice",align:"left",width:100,render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:56}},e.takePrice>=0?e.perfectGroupTakePrice:"\u5df2\u4e0b\u67b6")}},"\u5b8c\u7f8e\u62fc\u5355\u4ef7\u4eca\u65e5\u6700\u4f4e":{title:"\u5b8c\u7f8e\u62fc\u5355\u4ef7\u4eca\u65e5\u6700\u4f4e",dataindex:"minPerfectGroupTakePrice",align:"left",width:130,render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:56}},e.takePrice>=0?e.minPerfectGroupTakePrice:"\u5df2\u4e0b\u67b6")}},"\u4eca\u65e5\u6700\u4f4e":{title:a.createElement("span",null,"\u4eca\u65e5\u6700\u4f4e",a.createElement(p.Z,{overlay:"\u5f53\u5929\u300c\u5355\u54c1\u5230\u624b\u4ef7\u300d\u3001\u300c\u5355\u54c1\u62fc\u5355\u4ef7\u300d\u548c\u300c\u5b8c\u7f8e\u62fc\u5355\u4ef7\u300d\u4e09\u4e2a\u4e2d\u6700\u4f4e\u7684\u4ef7\u683c\u3002",placement:"top"},a.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c"}}))),dataindex:"minPrice",align:"left",width:105,sorter:!0,render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:56}},e.takePrice<0?"\u5df2\u4e0b\u67b6":e.minPrice>=0?e.minPrice:"\u5df2\u4e0b\u67b6")}},"\u6302\u724c\u4ef7":{title:a.createElement("span",null,"\u6302\u724c\u4ef7",a.createElement(p.Z,{overlay:I("\u5728\u5404\u7535\u5546\u5e73\u53f0\u663e\u793a\u7684\u4ef7\u683c\uff0c\u5982\u4eac\u4e1c\u7684\u201c\u4eac\u4e1c\u4ef7\u201d\u3001\u5929\u732b\u805a\u5212\u7b97\u7684\u201c\u4ef7\u683c\u201d\uff0c\u5373\u4e0d\u5305\u542b\u4fc3\u9500\u4f18\u60e0\u7684\u4ef7\u683c\uff0c\u53d6\u7684\u662f\u5b9e\u65f6\u4ef7\u683c\u3002"),placement:"top"},a.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c"}}))),dataindex:"listPrice",align:"left",width:93,sorter:!0,render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:56}},e.listPrice>=0?e.listPrice:"\u5df2\u4e0b\u67b6")}},"\u5355\u54c1\u4f18\u60e0\u5238":{title:"\u5355\u54c1\u4f18\u60e0\u5238",dataindex:"skuQuan",width:73,align:"left",render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:84}},e.skuQuan&&a.createElement(p.Z,{placement:"topLeft",overlay:JSON.parse(e.skuQuan).map((function(e,t){return a.createElement("span",{key:t},e,a.createElement("br",null))}))},a.createElement("span",null,JSON.parse(e.skuQuan).map((function(e,t){return a.createElement("span",{key:t},e,"\xa0")})))))}},"\u5e97\u94fa\u4f18\u60e0\u5238":{title:"\u5e97\u94fa\u4f18\u60e0\u5238",dataindex:"storeQuan",align:"left",width:87,render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:84}},e.storeQuan&&a.createElement(p.Z,{placement:"topLeft",overlay:JSON.parse(e.storeQuan).map((function(e,t){return a.createElement("span",{key:t},e,a.createElement("br",null))}))},a.createElement("span",null,JSON.parse(e.storeQuan).map((function(e,t){return a.createElement("span",{key:t},e,"\xa0")})))))}},"\u884c\u4e1a\u4f18\u60e0\u5238":{title:"\u884c\u4e1a\u4f18\u60e0\u5238",dataindex:"industryQuan",align:"left",width:87,render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:84}},e.industryQuan&&a.createElement(p.Z,{placement:"topLeft",overlay:JSON.parse(e.industryQuan).map((function(e,t){return a.createElement("span",{key:t},e,a.createElement("br",null))}))},a.createElement("span",null,JSON.parse(e.industryQuan).map((function(e,t){return a.createElement("span",{key:t},e,"\xa0")})))))}},"\u4e0b\u67b6/\u7f3a\u8d27":{title:"\u4e0b\u67b6/\u7f3a\u8d27",dataindex:"stock",sorter:!1,align:"left",width:87,render:function(e){return a.createElement("div",{className:"ellipisis",style:{maxWidth:84}},e.takePrice>=0?e.noStockCityList&&e.noStockCityList.length>0?a.createElement(p.Z,{placement:"top",overlay:e.noStockCityList.join("").concat("\u7f3a\u8d27")},a.createElement("span",null,e.noStockCityList.join("").concat("\u7f3a\u8d27"))):a.createElement("span",null,a.createElement("i",{className:"icon-cem_line",style:{color:"#BFBFBF",fontSize:20}})):"\u5df2\u4e0b\u67b6")}},"\u8d8b\u52bf\u56fe":{title:"\u8d8b\u52bf\u56fe",width:103,align:"left",key:"chart",fixed:"right",sorter:!1,render:function(e,t,n){if(!e.data)return null;var i=e.data;return a.createElement("div",{style:{width:"100%",height:"22px"}},a.createElement(C.Z,{index:n,key:e.userConnectionId,data:i}))}},"\u6ee1\u51cf":{title:"\u6ee1\u51cf",dataindex:"trueReductionValue",width:73,align:"left",render:function(e){return e.trueReductionValue||"-"}},"\u8d60\u54c1":{title:"\u8d60\u54c1",align:"left",dataindex:"gift",width:73,render:function(e){return a.createElement("div",{className:"ellipisis",title:e.gift,style:{maxWidth:70}},e.gift)}},"\u514d\u606f\u6700\u957f\u5206\u671f":{title:"\u514d\u606f\u6700\u957f\u5206\u671f",dataindex:"freeByStages",width:100,align:"left",render:function(e){return e.freeByStages||"-"}},"\u5b9a\u91d1":{title:"\u5b9a\u91d1",dataindex:"deposit",width:73,align:"left",render:function(e){return e.deposit||"-"}},"\u9884\u5b9a\u6570\u91cf":{title:"\u9884\u5b9a\u6570\u91cf",dataindex:"orderAmount",align:"left",width:73,render:function(e){return e.orderAmount||"-"}},"\u6dd8\u5b9d\u638c\u67dc":{title:"\u6dd8\u5b9d\u638c\u67dc",dataindex:"sellerNick",align:"left",width:83,render:function(e){return a.createElement("div",{className:"ellipisis",title:e.sellerNick,style:{maxWidth:80}},""!==e.sellerNick?e.sellerNick:"-")}},"\u4f18\u60e0\u5408\u8ba1":{title:"\u4f18\u60e0\u5408\u8ba1",dataindex:"rateCount",align:"left",width:73,render:function(e){return e.rateCount||"-"}},"\u91c7\u7eb3\u4f18\u60e0\u7b56\u7565":{title:"\u91c7\u7eb3\u4f18\u60e0\u7b56\u7565",dataindex:"trueRate",align:"left",width:100,render:function(e){return a.createElement(p.Z,{overlay:a.createElement("div",{style:{maxWidth:260,wordBreak:"break-all"}},e.trueRate),placement:"top"},a.createElement("p",{className:"slogan"},e.trueRate))}},"\u4f18\u60e0\u653f\u7b56":{title:"\u4f18\u60e0\u653f\u7b56",dataindex:"rate",width:73,align:"left",render:function(e){return a.createElement(p.Z,{overlay:a.createElement("div",{style:{maxWidth:260,wordBreak:"break-all"}},e.rate),placement:"top"},a.createElement("p",{className:"slogan"},e.rate))}},"\u5546\u54c1\u526f\u6807\u9898":{title:"\u5546\u54c1\u526f\u6807\u9898",dataindex:"slogan",align:"left",width:86,render:function(e){return a.createElement(p.Z,{overlay:a.createElement("div",{style:{maxWidth:260,wordBreak:"break-all"}},e.slogan),placement:"top"},a.createElement("p",{className:"slogan"},e.slogan))}},SKU:{title:"SKU",dataindex:"sku",width:73,align:"left",render:function(e){return a.createElement(p.Z,{overlay:a.createElement("div",{style:{maxWidth:260,wordBreak:"break-all"}},e.sku),placement:"top"},a.createElement("p",{className:"slogan"},e.sku))}},"\u5546\u54c1\u94fe\u63a5":{title:"\u5546\u54c1\u94fe\u63a5",dataindex:"url",width:83,align:"left",ellipsis:"true",render:function(e){return a.createElement(p.Z,{overlay:a.createElement("div",{style:{maxWidth:260,wordBreak:"break-all"}},e.url),placement:"top"},a.createElement("p",{className:"slogan"},e.url))}},"\u4f18\u60e0\u5238\u91d1\u989d":{title:"\u4f18\u60e0\u5238\u91d1\u989d",dataindex:"trueCouponValue",width:100,align:"left",render:function(e){return e.trueCouponValue||"-"}},"\u65e5\u671f":{title:"\u65e5\u671f",align:"left",dataindex:"ctime",width:103,render:function(e){return e.ctime?O()(e.ctime).format("YYYY-MM-DD"):""}}},W=function(e){function t(t){var n;(n=e.call(this,t)||this).filter=null,n.getPriceList=function(){var e=n.state,t=e.sortAttr,a=e.sortType,i=e.type,l=e.pageIndex,c=e.pageSize,o=e.updateTime,s=e.updateStatus,d=Z.t.get(Z.V.curProject).id;if(d){var u=n.filter.getValue();n.setState({loading:!0},(function(){P.h.post("/price/list",(0,r.Z)({type:i,id:d},u,{pageIndex:l,pageSize:c,sortAttr:t,sortType:a,realtimePriceTimeRange:o,realtimePriceStatus:s})).then((function(e){var i=e.data.result;n.setState({data:i.result,from:0===i.from?1:i.from,to:i.to,count:i.count,sortAttr:t,sortType:a,loading:!1,selectedRowKeys:n.state.selectedAll?i.result.map((function(e){return e.userConnectionId})):n.state.selectedRowKeys,selectedRows:n.state.selectedAll?i.result:n.state.selectedRows},(function(){var e=n.state.data;e&&e.length>0&&(n.getPriceTrend(),n.getStockInfo())}))}))}))}},n.getPriceTrend=function(){var e=n.state.data;P.h.post("/price/bar/list",{userConnectionIds:e.map((function(e){return e.userConnectionId}))}).then((function(t){e.forEach((function(e){var n=t.data.result.filter((function(t){return t.id===e.userConnectionId}));n&&n.length&&(e.data=n[0].list.map((function(e){return e.takePrice})))})),n.setState({data:e})}))},n.getStockInfo=function(){var e=Z.t.get(Z.V.curProject).id,t=n.state.data;P.h.post("/stock/list",{projectId:e,userConnectionIds:t.map((function(e){return e.userConnectionId}))}).then((function(e){e.data.result&&e.data.result.length>0&&(t.forEach((function(t){t.noStockCityList=[];var n=e.data.result.filter((function(e){return e.userConnectionId===t.userConnectionId}));if(n&&n.length>0)for(var a=n[0].cityStockModels.filter((function(e){return"\u65e0\u8d27"===e.stockState})).map((function(e){return e.city})),i=0;i<a.length;i++)for(var r=0;r<_.Q1.length;r++)_.Q1[r].fullName===a[i]&&t.noStockCityList.push(_.Q1[r].simplifiedName)})),n.setState({data:t}))}))},n.handleSort=function(e,t,a,i){var r="ascend"===a.order?-1:"descend"===a.order?1:"";n.setState({sortAttr:a.column?a.column.dataindex:"",sortType:r},(function(){return n.getPriceList()}))},n.goDetail=function(e){window.windowPool=[];var t=window.open("/price/realTimePrice/priceDetail");window.windowPool.push({window:t,parameter:{source:1,data:e}})},n.getTableHeight=function(){var e=document.documentElement.clientHeight-46-48-24-62-55-40-5;n.setState({maxHeight:e})},n.refreshPrice=function(){n.setState({pageIndex:1},(function(){return n.getPriceList()}))},n.getPageTable=function(e){n.setState({pageIndex:e},(function(){return n.getPriceList()}))},n.exportData=function(){if(n.state.count>2e4)n.setState({dialogVisible:!0});else{var e=n.state.rangedColumns.filter((function(e){return!["\u8d8b\u52bf\u56fe","\u4e0b\u67b6/\u7f3a\u8d27","\u66f4\u65b0\u72b6\u6001"].includes(e.name)}));(0,L.u)({options:e,value:e.filter((function(e){return e.checked})).map((function(e){return e.id}))}).then((function(e){n.handleDownload(e)})).catch((function(e){console.error(e)}))}},n.handleDownload=function(e){var t=Z.t.get(Z.V.curProject).id;if(t){var a=n.filter.getValue(),i=n.state,l=i.sortAttr,c=i.sortType,o=i.type;a.id=t,N.Z.downloadPrice((0,r.Z)({},a,{pageSize:1e5,pageIndex:1,sortAttr:l,sortType:c,type:o,exportFields:e}),(function(e){var t=e;2e4===t.code?x.Z.success(t.msg+"\uff0c\u8bf7\u5230\u4e2a\u4eba\u4e2d\u5fc3\u7684\u4e0b\u8f7d\u5217\u8868\u6216\u8005\u70b9\u51fb\u53f3\u4e0a\u89d2\u201c\u5c0f\u94c3\u94db\u201d\u4e0b\u8f7d"):x.Z.error(t.msg)}))}},n.afterChange=function(){n.getPriceList(),n.getConfigList(),n.getTableHeight(),window.addEventListener("resize",n.getTableHeight)},n.handleOnTypeChange=function(e){n.setState({type:e,pageIndex:1},n.afterChange)},n.handleUpdateTimeChange=function(e){n.setState({updateTime:e,pageIndex:1},n.afterChange)},n.handleUpdateStatusChange=function(e){n.setState({updateStatus:e,pageIndex:1},n.afterChange)},n.getRemainder=(0,i.Z)(m().mark((function e(){var t,a,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.h.get("/price/realtime/limit/remainder/get");case 2:t=e.sent,2e4===(a=t.data).code&&(i=a.result.remainder,n.setState({remainder:i}));case 5:case"end":return e.stop()}}),e)}))),n.updateImmediately=(0,i.Z)(m().mark((function e(){var t,a,i,l,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z.t.get(Z.V.curProject).id,a=n.filter.getValue(),n.setState({isFetching:!0}),i=n.state.selectedRows.map((function(e){return{connectionId:e.userConnectionId,sku:e.sku}})),e.next=6,P.h.post("/price/realtime/update",(0,r.Z)({},a,{connectionDataModel:i,id:t,selectedAll:n.state.selectedAll,realtimePriceTimeRange:n.state.updateTime,realtimePriceStatus:n.state.updateStatus})).catch((function(e){return e}));case 6:if(l=e.sent,c=l.data,n.setState({isFetching:!1}),2e4!==c.code){e.next=15;break}return x.Z.success("\u7acb\u5373\u66f4\u65b0\u6210\u529f!"),n.setState({selectedRowKeys:[],selectedRows:[]}),n.getRemainder(),n.getPriceList(),e.abrupt("return");case 15:case"end":return e.stop()}}),e)}))),n.onSelectChange=function(e,t){var a=n.state.data.map((function(e){return e.userConnectionId})),i=n.state.selectedRowKeys.filter((function(e){return!a.includes(e)})),r=d()([].concat(i,e)),l=n.state.selectedRows.filter((function(e){return!a.includes(e.userConnectionId)})),c=o()([].concat(l,t),"userConnectionId");r.length>n.state.remainder?x.Z.error("\u52fe\u9009\u7684\u94fe\u63a5\u6570\u91cf\u8d85\u4e0a\u9650\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u94fe\u63a5!"):(n.setState({selectedRowKeys:r,selectedRows:c,selectedAll:!1}),n.getRemainder())},n._handleSortChange=function(e,t){Z.t.set(Z.V.realPriceTableTitleList,e),n.setState({loading:!0}),setTimeout((function(){n.setState({rangedColumns:e,columns:e.reduce((function(e,t){return t.checked?[].concat(e,[R[t.name]]):e}),[]).concat([{title:"",fixed:"right",width:"48"}])})}),0),setTimeout((function(){n.setState({loading:!1})}),"range"===t?500:2e3)};var a=Z.t.get(Z.V.realPriceTableTitleList)||[{name:"\u8d8b\u52bf",checked:!0,disabled:!0,id:"flag"},{name:"\u5546\u54c1\u6807\u9898",checked:!0,disabled:!1,id:"title"},{name:"\u66f4\u65b0\u72b6\u6001",checked:!0,disabled:!1,id:"realtimePriceStatus"},{name:"\u6570\u636e\u66f4\u65b0\u65f6\u95f4",checked:!0,disabled:!1,id:"ctime"},{name:"\u5355\u54c1\u5230\u624b\u4ef7",checked:!0,disabled:!1,id:"takePrice"},{name:"\u5355\u54c1\u5230\u624b\u4ef7\u4eca\u65e5\u6700\u4f4e",checked:!0,disabled:!1,id:"minTakePrice"},{name:"\u5355\u54c1\u62fc\u5355\u4ef7",checked:!0,disabled:!1,id:"groupTakePrice"},{name:"\u5355\u54c1\u62fc\u5355\u4ef7\u4eca\u65e5\u6700\u4f4e",checked:!1,disabled:!1,id:"minGroupTakePrice"},{name:"\u5b8c\u7f8e\u62fc\u5355\u4ef7",checked:!0,disabled:!1,id:"perfectGroupTakePrice"},{name:"\u5b8c\u7f8e\u62fc\u5355\u4ef7\u4eca\u65e5\u6700\u4f4e",checked:!1,disabled:!1,id:"minPerfectGroupTakePrice"},{name:"\u4eca\u65e5\u6700\u4f4e",checked:!0,disabled:!1,id:"minPrice"},{name:"\u6302\u724c\u4ef7",checked:!0,disabled:!1,id:"listPrice"},{name:"\u5355\u54c1\u4f18\u60e0\u5238",checked:!1,disabled:!1,id:"skuQuan"},{name:"\u5e97\u94fa\u4f18\u60e0\u5238",checked:!1,disabled:!1,id:"storeQuan"},{name:"\u884c\u4e1a\u4f18\u60e0\u5238",checked:!1,disabled:!1,id:"industryQuan"},{name:"\u4e0b\u67b6/\u7f3a\u8d27",checked:!0,disabled:!1},{name:"\u6ee1\u51cf",checked:!0,disabled:!1,id:"trueReductionValue"},{name:"\u8d60\u54c1",checked:!0,disabled:!1,id:"gift"},{name:"\u514d\u606f\u6700\u957f\u5206\u671f",checked:!0,disabled:!1,id:"freeByStages"},{name:"\u5b9a\u91d1",checked:!0,disabled:!1,id:"deposit"},{name:"\u9884\u5b9a\u6570\u91cf",checked:!0,disabled:!1,id:"orderAmount"},{name:"\u8d8b\u52bf\u56fe",checked:!0,disabled:!0},{name:"\u6dd8\u5b9d\u638c\u67dc",checked:!1,disabled:!1,id:"sellerNick"},{name:"\u4f18\u60e0\u5408\u8ba1",checked:!0,disabled:!1,id:"rateCount"},{name:"\u91c7\u7eb3\u4f18\u60e0\u7b56\u7565",checked:!0,disabled:!1,id:"trueRate"},{name:"\u4f18\u60e0\u653f\u7b56",checked:!0,disabled:!1,id:"rate"},{name:"\u5546\u54c1\u526f\u6807\u9898",checked:!0,disabled:!1,id:"slogan"},{name:"SKU",checked:!0,disabled:!1,id:"sku"},{name:"\u5546\u54c1\u94fe\u63a5",checked:!0,disabled:!1,id:"url"},{name:"\u4f18\u60e0\u5238\u91d1\u989d",checked:!0,disabled:!1,id:"trueCouponValue"}];return n.state={maxHeight:0,rangedColumns:a,columns:[],data:[],type:"ALL",filter:{},pageIndex:1,pageSize:40,sortAttr:"",sortType:"",loading:!1,count:0,updateTime:12,updateStatus:"ALL",selectedRowKeys:[],selectedRows:[],remainder:0,dialogVisible:!1,isFetching:!1,selectedAll:!1},n}(0,l.Z)(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){this.setState((0,r.Z)({},e))},n.componentDidMount=function(){this.getTableHeight(),window.addEventListener("resize",this.getTableHeight)},n.componentWillUnmount=function(){window.removeEventListener("resize",this.getTableHeight)},n.getConfigList=function(){var e=(0,i.Z)(m().mark((function e(){var t,n,i,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.rangedColumns.slice(),n=Z.t.get(Z.V.curProject).id,e.next=4,P.h.post("/projects/config/list",[n]).then((function(e){e.data.result.forEach((function(e,n){var i;switch(n){case 0:i=70;break;case 1:i=128;break;default:i=96}var r=!1;if(!R[e.configName]&&(R[e.configName]={title:e.configName,dataindex:e.id,checked:!0,sorter:!0,width:i,fixed:"",render:function(t){var n=t.configDetailVoList.filter((function(t){return t.topicTypeId===e.id}));return a.createElement("div",{className:"ellipisis",style:{maxWidth:i},title:n.length>0?n[0].topicValue:""},n.length>0?n[0].topicValue:"")}}),!t.find((function(t){return t.name===e.configName}))){t.splice(-2,0,{name:e.configName,checked:r,disabled:r,id:"config:"+e.id})}}))}));case 4:i=function(e,t,n){return e.splice(n,0,e.splice(t,1)[0])},(r=t.findIndex((function(e){return"\u8d8b\u52bf\u56fe"===e.name})))&&i(t,r,t.length-1),this.setState({rangedColumns:t,columns:t.reduce((function(e,t){return t.checked?[].concat(e,[R[t.name]]):e}),[]).concat([{title:"",fixed:"right",width:"48"}])});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getRowStyle=function(){return{cursor:"pointer"}},n.render=function(){var e=this,t=this.state,n=t.columns,i=t.data,r=t.pageSize,l=t.pageIndex,c=t.count,o=t.maxHeight,s=t.loading,d=t.dialogVisible,u=t.rangedColumns,m=t.type,h=t.updateStatus,f=t.updateTime,g=t.selectedRowKeys,y=t.isFetching,v=t.remainder;return a.createElement("div",{className:i.length>0?"tableWrapper":"tableWrapper hideBottomScrollbar"},a.createElement(E.Z,{ref:function(t){return e.filter=t},showList:["condition","save"],filterCondition:{filter:["CONN_CONFIG","SOURCE","TAG"]},model:"PRICE_REAL_TIME_PRICE",onFilterReady:function(){e.getPriceList(),e.getConfigList(),e.getRemainder()},onChange:this.refreshPrice}),a.createElement("section",{className:"content"},a.createElement("div",{className:"table-zone"},a.createElement("div",{className:"top_zone flex items-center"},a.createElement("div",{className:"flex-1"},a.createElement(b.Z,{options:_.U7,onChange:this.handleOnTypeChange,preTitle:"\u4ef7\u683c\u8d8b\u52bf",divider:"none",type:"button",activeObj:m}),a.createElement(p.Z,{overlayClassName:"alert-log-tips",overlay:a.createElement("a",{href:"https://www.yuque.com/docs/share/8f83b8d5-8218-4549-8438-db411dad32ed?# \u300a\u5b9e\u65f6\u4ef7\u683c\u529f\u80fd\u8bf4\u660e\u300b",target:"_blank",rel:"noopener noreferrer",style:{color:"#0847A6"}},"\u4e86\u89e3\u66f4\u591a"),placement:"top"},a.createElement("i",{className:"icon-cem_file1",style:{marginLeft:4,color:"#979797"}})),a.createElement(b.Z,{className:"ml-10",options:_.QQ,onChange:this.handleUpdateTimeChange,preTitle:"\u65f6\u95f4\u8303\u56f4",divider:"none",type:"button",activeObj:f}),a.createElement(p.Z,{overlayClassName:"alert-log-tips",overlay:a.createElement("span",null,"\u4ece\u6b64\u523b\u65f6\u95f4\u5f80\u524d\u63a8\uff0c\u5982\u679c\u8d85\u8fc7\u5f53\u524d\u65f6\u95f4\uff0c\u67e5\u8be2\u4ece\u5f53\u5929\u768400:00:00~\u5f53\u524d\u65f6\u95f4\u7684\u6570\u636e"),placement:"top"},a.createElement("i",{className:"icon-cem_file1",style:{marginLeft:4,color:"#979797"}})),a.createElement(b.Z,{className:"ml-10",options:_.Se,onChange:this.handleUpdateStatusChange,preTitle:"\u66f4\u65b0\u72b6\u6001",divider:"none",type:"button",activeObj:h})),a.createElement("div",{className:"mr-10"},"\u60a8\u8fd8\u53ef\u4ee5\u66f4\u65b0",v,"\u6761\u94fe\u63a5"),a.createElement(S.Button,{disabled:!g.length||y,type:"primary",onClick:this.updateImmediately},"\u624b\u52a8\u66f4\u65b0"),a.createElement(p.Z,{overlayClassName:"alert-log-tips",overlay:a.createElement("span",null,"\u7cfb\u7edf\u4f1a\u6309\u7167\u66f4\u65b0\u9891\u7387\u81ea\u52a8\u91c7\u96c6\u4ef7\u683c\uff0c\u4f46\u5982\u679c\u60a8\u60f3\u4e86\u89e3\u6700\u65b0\u4ef7\u683c\u6570\u636e\uff0c\u8bf7\u52fe\u9009\u94fe\u63a5\u624b\u52a8\u66f4\u65b0"),placement:"left"},a.createElement("i",{className:"icon-cem_file1",style:{marginLeft:4,color:"#979797"}}))),a.createElement(T.Z,{title:"\u5217",options:u,onChange:this._handleSortChange,leftFixedNum:1,rightFixedNum:1}),a.createElement(w,{tableLayout:"fixed",columns:n,rowKey:"userConnectionId",rowSelection:{selectedRowKeys:g,onChange:this.onSelectChange,columnWidth:80,isSelectAll:this.state.selectedAll,selections:[{key:"SELECT_All",text:"\u5168\u9009\u6240\u6709",onSelect:function(t){e.setState({selectedAll:!0,selectedRowKeys:t,selectedRows:e.state.data})}},{key:"CLEAR_ALL",text:"\u6e05\u7a7a\u6240\u6709",onSelect:function(){e.setState({selectedRowKeys:[],selectedRows:[],selectedAll:!1})}}],getCheckboxProps:function(e){return{disabled:"UPDATING"===e.realtimePriceStatus}}},onRow:function(t){return{onClick:function(n){return e.goDetail(t)}}},onPaginationChange:function(t){return e.getPageTable(t)},listSummary:{current:l,pageSize:r,total:c},scroll:{x:"100%",y:o},loading:s||y,rowClassName:"cursor-pointer",onChange:this.handleSort,dataSource:i,bottomArea:i.length>0&&a.createElement("span",{className:"download",onClick:function(){return e.exportData()}},a.createElement("i",{className:"cem-icon icon-cem_download"}),"\u4e0b\u8f7d")}),a.createElement(S.Dialog,{title:"\u63d0\u793a",size:"tiny",visible:d,onCancel:function(){return e.setState({dialogVisible:!1})},lockScroll:!0},a.createElement(S.Dialog.Body,null,a.createElement("span",null,"\u6700\u591a\u652f\u6301\u4e0b\u8f7d\u524d20000\u6761\u6570\u636e\u3002\u5982\u9700\u4e0b\u8f7d\u5168\u90e8\uff0c\u53ef\u8003\u8651\u8c03\u6574\u7b5b\u9009\u6761\u4ef6\u540e\u5206\u6279\u4e0b\u8f7d")),a.createElement(S.Dialog.Footer,{className:"dialog-footer"},a.createElement(S.Button,{type:"primary",onClick:function(){e.setState({dialogVisible:!1}),e.handleDownload()}},"\u786e\u5b9a"))))))},t}(a.Component);const D=function(e){var t=e.type;return a.createElement(W,{type:t,pagePosition:"bottom"})}},6637:(e,t,n)=>{n.d(t,{u:()=>u});var a=n(87462),i=n(67294),r=n(45697),l=n.n(r),c=n(92360),o=function(e){var t=e.value,n=e.options,a=e.getValue,r=n.length===t.length,l=i.useState(t),o=l[0],s=l[1],d=i.useState(r),u=d[0],m=d[1],p=i.useState(!r&&t.length>0),h=p[0],f=p[1];i.useEffect((function(){a(o)}),[o]);return i.createElement("div",{className:"yt_modal_price_download_wrapper"},i.createElement("div",{className:"content"},i.createElement("span",null,"\u5b57\u6bb5"),i.createElement(c.Checkbox,{checked:u,indeterminate:h,onChange:function(e){m(e),f(!1),s(e?n.map((function(e){return e.id})):[])}},"\u5168\u9009")),i.createElement("div",{className:"checkbox_group"},n.map((function(e,t){return i.createElement(c.Checkbox,{key:t,value:e.id,checked:o.includes(e.id),onChange:function(){return function(e){var t=o,a=t.indexOf(e);t=a>-1?t.filter((function(t){return t!==e})):[].concat(o,[e]),s(t),m(t.length===n.length),f(t.length>0&&t.length!==n.length&&t.length<n.length)}(e.id)}},e.name)}))))};const s=o;o.propTypes={value:l().object,getValue:l().func};var d=n(57522);function u(e){return new Promise((function(t,n){var r=e.value||[],l=(0,a.Z)({},e,{titleText:"\u4e0b\u8f7d\u6570\u636e",className:"yt_modal_price_download_modal",content:i.createElement(s,(0,a.Z)({},e,{getValue:function(e){r=e}})),top:"50%"});l.onOk=function(){return t(r)},l.onCancel=n,(0,d.Z)(l)}))}},21694:(e,t,n)=>{n.d(t,{U7:()=>a,QQ:()=>i,Se:()=>r,Q1:()=>l});var a=[{title:"\u4ef7\u683c\u4e0a\u5347",value:"UP"},{title:"\u4ef7\u683c\u4e0b\u964d",value:"DOWN"},{title:"\u5168\u90e8",value:"ALL"}],i=[{title:"1\u5c0f\u65f6\u5185",value:1},{title:"2\u5c0f\u65f6\u5185",value:2},{title:"4\u5c0f\u65f6\u5185",value:4},{title:"12\u5c0f\u65f6\u5185",value:12},{title:"\u5f53\u5929",value:0}],r=[{title:"\u5df2\u66f4\u65b0",value:"UPDATED"},{title:"\u672a\u66f4\u65b0",value:"UN_UPDATED"},{title:"\u624b\u52a8\u66f4\u65b0\u4e2d",value:"UPDATING"},{title:"\u5168\u90e8",value:"ALL"}],l=[{fullName:"\u5317\u4eac",simplifiedName:"\u4eac"},{fullName:"\u4e0a\u6d77",simplifiedName:"\u6caa"},{fullName:"\u5e7f\u5dde",simplifiedName:"\u7a57"},{fullName:"\u6df1\u5733",simplifiedName:"\u6df1"}]},38425:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(49722);const i={fetchWidgetList:function(e,t){a.h.post("/widget/list",e).then((function(e){t&&t(e.data.result)}))},fetchWidgetTemp:function(e,t){a.h.get("/widget/temp/find?type="+e).then((function(e){t&&t(e.data.result)}))},fetchWidgetTempById:function(e,t){a.h.get("/widget/edit_temp/find?id="+e).then((function(e){t&&t(e.data.result)}))},addWidget:function(e,t){a.h.post("dashboard/widget/add",e).then((function(e){t&&t(e.data.result)}))},searchData:function(e,t){a.h.post("/widget/data/find",e).then((function(e){t&&t(e.data.result)}),(function(e){t&&t(e.data.result)}))},fetchProjectTopics:function(e,t){a.h.post("/widget/project_topics/find",e).then((function(e){t&&t(e.data.result)}))},editWidget:function(e,t){a.h.post("/widget/edit",e).then((function(e){t&&t(e.data.result)}))},findModel:function(e,t){a.h.get("/widget/model/list?project="+e.project).then((function(e){t&&t(e.data.result)}))},exportData:function(e,t){a.h.post("/data/export",e).then((function(e){t&&t(e.data)}))},findMessage:function(e,t){a.h.post("/widget/aspect/find",e).then((function(e){t&&t(e.data.result)}))},findAspectLabel:function(e,t){a.h.post("/widget/aspectLabel",e).then((function(e){t&&t(e.data.result)}))},downloadPrice:function(e,t){a.h.post("/data/price/export",e).then((function(e){t&&t(e.data)}))}}},68003:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(94578),i=n(67294),r=n(78436),l=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).buildChart=function(){var e=t.props.data;e&&e.length||(e=[]);var n=[];e.forEach((function(e){(!n.length||n[n.length-1]!==e)&&n.push(e)})),1===n.length?n.push(n[0]):0===n.length&&(n=[1,1]);var a=n.map((function(e,t){return[""+t,""+e]})),i={animation:!1,color:["#0747A6"],grid:{left:5,right:5,bottom:0,top:0,containLabel:!1},xAxis:[{show:!1,type:"category",data:a.map((function(e){return e[0]}))}],yAxis:[{show:!1,type:"category",data:n.sort((function(e,t){return e-t})).map((function(e){return""+e}))}],series:[{name:"",type:"line",step:"middle",data:a}]};t.refs.chart.setOption(i)},t}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.width=this.refs.widget.offsetWidth,this.height=this.refs.widget.offsetHeight,this.buildChart()},n.shouldComponentUpdate=function(e,t){return JSON.stringify(e)!==JSON.stringify(this.props)},n.componentDidUpdate=function(){this.buildChart()},n.render=function(){var e=this.props.data;return i.createElement("div",{ref:"widget",className:"widget-container widget-container-wrap"},i.createElement("div",{className:"widget-body "+(e&&e.length?"middle_line":"line")},i.createElement(r.Z,{ref:"chart",className:"widget-chart",minHeight:22})))},t}(i.Component)},23942:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(87462),i=n(94578),r=n(67294),l=n(92360),c=n(45697),o=n.n(c),s=function(e){function t(t){var n;(n=e.call(this,t)||this)._setPadShowFalse=function(){n.state.show&&n.setState({show:!1})},n._handleOnClick=function(e){var t=n.state.show;t&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),setTimeout((function(){n.setState({show:!t})}),0)},n._handleOnPanelClick=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n._handleOnRangeClick=function(e,t,a){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var i=n.state,r=i.checkedOpts,l=i.unCheckedOpts,c=n.props,o=c.onChange,s=c.leftFixedNum,d=r.slice(),u=d.findIndex((function(e){return e.name===a.name}));switch(d.splice(u,1),t){case"top":d.splice(s,0,a);break;case"up":d.splice(u-1,0,a);break;case"down":d.splice(u+1,0,a)}n.setState({checkedOpts:d},(function(){setTimeout((function(){var e=d.concat(l);o(e,"range")}),0)}))},n._handleOnItemChange=function(e,t){var i=n.props,r=i.onChange,l=i.rightFixedNum,c=n.state,o=c.checkedOpts,s=c.unCheckedOpts,d=o.slice(),u=s.slice();e?(d.splice(d.length-l,0,(0,a.Z)({},t,{checked:!0})),u=s.filter((function(e){return t.name!==e.name}))):(d=o.filter((function(e){return t.name!==e.name})),u.splice(0,0,(0,a.Z)({},t,{checked:!1}))),n.setState({checkedOpts:d,unCheckedOpts:u},(function(){setTimeout((function(){var e=d.concat(u);r(e,"check")}),0)}))};var i=t.options?t.options.filter((function(e){return e.checked})):[],r=t.options?t.options.filter((function(e){return!e.checked})):[];return n.state={show:!1,checkedOpts:i,unCheckedOpts:r},n}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("click",this._setPadShowFalse)},n.componentWillUnmount=function(){window.removeEventListener("click",this._setPadShowFalse)},n.componentDidUpdate=function(e,t){var n=e.options,a=this.props.options;JSON.stringify(a)!==JSON.stringify(n)&&this.setState({checkedOpts:a.filter((function(e){return e.checked})),unCheckedOpts:a.filter((function(e){return!e.checked}))})},n.render=function(){var e=this,t=this.state,n=t.show,a=t.checkedOpts,i=t.unCheckedOpts,c=this.props,o=c.title,s=c.leftFixedNum,d=c.rightFixedNum;return r.createElement("div",{className:"sortable-checklist-button-wrapper",onClick:this._handleOnClick},r.createElement("span",{className:"scl-button-trigger "+(n?"sel":"")},o,r.createElement("i",{className:"icon-cem_arrow-launches",style:{transform:n?"rotate(-180deg)":""}})),r.createElement("div",{className:"scl-panel",id:"sorableList",style:{display:n?"block":"none"},onClick:this._handleOnPanelClick},a.map((function(t,n){return r.createElement("div",{key:t.name,className:"scl-panel-item"},r.createElement(l.Checkbox,{style:{width:"calc(100% - "+(5===n?14:a.length-2?34:48)+"px)"},checked:t.checked,disabled:t.disabled,onChange:function(n){return e._handleOnItemChange(n,t)}},t.name),!t.disabled&&r.createElement("span",{className:"range-button-zone"},n!==s&&r.createElement("i",{className:"icon-cem_roof-placement",onClick:function(n){return e._handleOnRangeClick(n,"top",t)}}),n!==s&&r.createElement("i",{className:"icon-cem_upper",onClick:function(n){return e._handleOnRangeClick(n,"up",t)}}),n!==a.length-1-d&&r.createElement("i",{className:"icon-cem_lower",onClick:function(n){return e._handleOnRangeClick(n,"down",t)}})))})),i.reduce((function(t,n){return[].concat(t,[r.createElement("div",{key:n.name,className:"scl-panel-item"},r.createElement(l.Checkbox,{style:{width:"100%"},checked:n.checked,disabled:n.disabled,onChange:function(t){return e._handleOnItemChange(t,n)}},n.name))])}),[0===i.length?null:r.createElement("div",{key:"divider",className:"h-divider"})])))},t}(r.PureComponent);s.propTypes={options:o().array,onChange:o().func,leftFixedNum:o().number,rightFixedNum:o().number};const d=s},3381:(e,t,n)=>{e.exports=n.p+"img/459a43effdbcbdd83095.png"}}]);
"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[1652],{56390:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(67294),i=n(50976),o=n(90646),r=n(8201),l=n(98191),s=n(45697),c=n.n(s),u=function(e){var t=e.data,n=e.title,s=(e.onMoreClick,e.loading),c=(e.onClick,e.selObj),u=a.useState(void 0),d=u[0],m=u[1],p=a.useState(void 0),f=p[0],g=p[1];return a.useEffect((function(){if(d)if((0,r.P)(t)){var e=d.getHeight()-60,a=d.getWidth()-60,i=a>e?e:a;f?new Promise((function(e){e((0,o.p9)(t,n,f,i,c))})).then((function(e){d.clear(),d.setOption(e)})):new Promise((function(e){e((0,o.Oq)(t,i))})).then((function(e){d.clear(),d.setOption(e);var t=d._zr.storage._displayList.map((function(e){return d.convertToPixel({seriesIndex:0},[e.transform[4]+30,e.transform[5]+30])}));g(t)}))}else m(void 0)}),[t,d,f,c]),a.createElement(r.Z,{className:"yt_bubble_chart_wrapper",data:t,loading:s,renderTitle:a.createElement(l.Z,{title:n,data:t,onMoreClick:function(e){return(0,o.kQ)(d,e,t,n)}})},a.createElement(i.Z,{theme:"yunting_pos_neu_neg",option:{},style:{width:"100%",height:"100%"},onChartReady:function(e){return m(e)}}))};const d=u;u.propTypes={data:c().object,title:c().string}},91476:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(67294),i=n(50976),o=n(60496),r=n(8201),l=n(98191),s=n(87462),c=n(70715),u=n(39432),d=n(94644),m=["positive","negative"],p=[{title:"\u6bd4\u4f8b",value:"ratio"},{title:"\u6570\u91cf",value:"count"}];const f=function(e){var t=e.data,n=e.loading,f=e.title,g=a.useState("count"),h=g[0],v=g[1],y=a.useState(void 0),C=y[0],E=y[1];return a.useEffect((function(){if(C)if((0,r.P)(t)){var e=function(e,t,n){var a={positiveData:"count"===n?e.slice().sort((function(e,t){return t.positiveCount-e.positiveCount})).slice(0,10).filter((function(e){return e.positiveCount>0})):e.slice().sort((function(e,t){return t.posRate-e.posRate})).slice(0,10).filter((function(e){return e.posRate>0})),negativeData:"count"===n?e.slice().sort((function(e,t){return t.negativeCount-e.negativeCount})).slice(0,10).filter((function(e){return e.negativeCount>0})):e.slice().sort((function(e,t){return t.negRate-e.negRate})).slice(0,10).filter((function(e){return e.negRate>0}))};return{title:{text:t},grid:[{x:"5%",y:"20%",width:"90%",height:"25%"},{x:"5%",y2:"8%",width:"90%",height:"25%"}],tooltip:{formatter:function(e){var t=e.seriesName,n=e.marker,a=e.data;return[n+" "+a.name,("positive"===t?"\u63a8\u8350\u8005":"\u8d2c\u635f\u8005")+"\u58f0\u91cf\uff1a"+a[t+"Count"],"\u58f0\u91cf\u5360\u6bd4\uff1a"+(100*a[t.substring(0,3)+"Rate"]).toFixed(2)+"%"].join("<br>")}},graphic:[{type:"group",top:"13%",silent:!0,children:[{type:"text",left:22,style:{text:"TOP 10\u70ed\u8bcd",font:"bolder 12px "+c.I8,fill:"#262626"}},{type:"text",left:(0,u.jD)("TOP 10\u70ed\u8bcd",12)+8+20,style:{text:"(\u6b63\u9762\u6d88\u606f"+("count"===n?"\u6570\u91cf":"\u6bd4\u4f8b")+")",font:"bolder 12px "+c.I8,fill:"#8c8c8c"}}]},{type:"group",top:"58%",silent:!0,children:[{type:"text",left:22,style:{text:"TOP 10\u70ed\u8bcd",font:"bolder 12px "+c.I8,fill:"#262626"}},{type:"text",left:(0,u.jD)("TOP 10\u70ed\u8bcd",12)+8+20,style:{text:"(\u8d1f\u9762\u6d88\u606f"+("count"===n?"\u6570\u91cf":"\u6bd4\u4f8b")+")",font:"bolder 12px "+c.I8,fill:"#8c8c8c"}}]}],xAxis:m.map((function(e,t){return{gridIndex:t,axisTick:{show:!0,alignWithLabel:!0},axisLabel:{interval:0},data:a[e+"Data"].map((function(e){return e.name}))}})),yAxis:m.map((function(e,t){return{gridIndex:t,axisLabel:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:"#E8E8E8",type:"dashed"}}}})),series:m.map((function(e,t){var i="positive"===e?"PROMOTER":"DETRACTOR";return{type:"bar",name:e,barWidth:30,xAxisIndex:t,yAxisIndex:t,data:a[e+"Data"].map((function(t){return(0,s.Z)({},t,{value:"count"===n?t[e+"Count"]:t[e.substring(0,3)+"Rate"],selEmotion:[i],type:"bar",selName:t.name})}))}}))}}(t,f,h);C.clear(),C.setOption(e)}else E(void 0)}),[t,h,C]),a.createElement(r.Z,{className:"yt_double_bar_chart_wrapper",loading:n,data:t,renderTitle:a.createElement(l.Z,{title:f,data:t,onMoreClick:function(e){return function(e,t,n,a){if("image"===t)(0,d._v)(e,a);else if("data"===t){var i=[n.reduce((function(e,t){return[].concat(e,[[t.name,t.total,t.positiveCount,t.neutralCount,t.negativeCount]])}),[["\u5173\u952e\u8bcd","\u58f0\u91cf\u603b\u6570","\u6b63\u9762","\u4e2d\u6027","\u8d1f\u9762"]])];(0,d.aT)(i,a)}}(C,e,t,f)}},a.createElement(o.Z,{options:p,activeObj:h,objName:"formula",onChange:function(e){return v(e.formula)},overlay:"ratio"===h?"\u4e00\u822c\u800c\u8a00\uff0c\u4efb\u4f55\u4e00\u4e2a\u8bcd\u90fd\u6709\u53ef\u80fd\u88ab\u63a8\u8350\u8005\u3001\u4e2d\u7acb\u8005\u548c\u8d2c\u635f\u8005\u63d0\u53ca\u3002\u201c\u6bd4\u4f8b\u201d\u516c\u5f0f\u662f\u8ba1\u7b97\u5177\u4f53\u8bcd\u88ab\u63a8\u8350\u8005\u6216\u8005\u8d2c\u635f\u8005\u63d0\u53ca\u7684\u58f0\u91cf\u5360\u8be5\u8bcd\u5168\u90e8\u58f0\u91cf\u6bd4\u91cd\u3002":""}))},a.createElement(i.Z,{theme:"yunting_pos_neg",option:{},style:{width:"100%",height:"100%"},onChartReady:function(e){return E(e)}}))}},21652:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var a=n(63366),i=n(87462),o=n(94578),r=n(67294),l=n(55609),s=n(19586),c=n(45697),u=n.n(c),d=n(50976),m=n(8201),p=n(98191),f=n(70715),g=["#D96969","#D07B49","#CDB446","#15B374"],h=function(e){var t=e.data,n=e.onMoreClick,a=e.loading,i=e.titleOverlay,o=e.title,l=r.useState(void 0),s=l[0],c=l[1];return r.useEffect((function(){if(s)if((0,m.P)(t)){var e=function(e,t){var n={value:(100*e.satisfactionNumber).toFixed(2)-0};return{title:{text:t},tooltip:{formatter:function(e){e.seriesName;var n=e.data.value,a="";return n<25?a=g[0]:25<=n&&n<50?a=g[1]:50<=n&&n<75?a=g[2]:n<=100&&(a=g[3]),['<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+a+';"></span><span style="font-size: 16px; line-height: 30px">'+t+"</span>","\u6ee1\u610f\u5ea6\uff1a"+n+"%"].join("<br/>")}},series:[{name:"\u6ee1\u610f\u5ea6",type:"gauge",min:0,max:100,center:["50%","52%"],splitNumber:4,radius:"60%",axisLine:{show:!0,lineStyle:{color:[[.25,"#D96969"],[.5,"#D07B49"],[.75,"#CDB446"],[1,"#15B374"]],width:20}},splitLine:{show:!0,length:20},axisTick:{show:!1},axisLabel:{color:"#262626",font:"12px "+f.I8+" 500"},detail:{offsetCenter:[0,"95%"],formatter:["{a|"+n.value+"%}","{b|\u6ee1\u610f\u5ea6}"].join("\n"),rich:{a:{color:"#262626",fontSize:24,lineHeight:33,fontFamily:f.I8,fontWeight:500},b:{color:"#262626",fontSize:12,lineHeight:17,fontFamily:f.I8}}},title:{show:!1},pointer:{length:"80%",width:6},itemStyle:{color:"#1574B3"},data:[{value:n.value}]}]}}(t,o);s.clear(),s.setOption(e)}else c(void 0)}),[t,s]),r.createElement(m.Z,{className:"satis-chart-wrapper",data:t,loading:a,renderTitle:r.createElement(p.Z,{title:o,data:t,titleOverlay:i,onMoreClick:function(e){return function(e,t,n,a){var i,o=void 0;"image"===t?o=e:"data"===t&&(o=[[["\u6ee1\u610f\u5ea6"],[(0===(i=n.satisfactionNumber)?0:(100*i).toFixed(2)-0)+"%"]]]);a({type:t,obj:o,name:e.getOption().title[0].text})}(s,e,t,n)}})},r.createElement(d.Z,{theme:"yunting_pos_neu_neg",loadingOption:{text:"",color:"#20a0ff"},option:{},style:{width:"100%",height:"100%"},onChartReady:function(e){return c(e)}}))};h.propTypes={title:u().string.isRequired,loading:u().bool.isRequired,data:u().object};const v=h;var y=n(39432),C=function(e){var t=e.data,n=e.onMoreClick,a=e.onClick,i=e.loading,o=e.title,l=r.useState(void 0),s=l[0],c=l[1];return r.useEffect((function(){if(s)if((0,m.P)(t)){var e=function(e,t){var n=[{type:e.positive?"\u6b63\u9762":null,count:e.positive?e.positive:null},{type:e.neutral?"\u4e2d\u6027":null,count:e.neutral?e.neutral:null},{type:e.negative?"\u8d1f\u9762":null,count:e.negative?e.negative:null}];return{title:{text:t},tooltip:{triger:"item",formatter:function(e){return e.marker+" "+e.name+"\uff1a"+e.value+"\uff08"+e.percent+"%\uff09"}},legend:{left:20,top:42,itemWidth:10,itemHeight:10,itemGap:16,data:n.map((function(e){return{name:e.type,icon:f.W4.square}}))},series:[{type:"pie",radius:75,hoverAnimation:!1,center:["50%","62%"],data:n.map((function(e){return{name:e.type,value:e.count}})),label:{position:"outside",color:"#000",formatter:function(e){var t=e.data,n=t.name,a=t.value;return[""+n,"{value|"+y.ZP.getApproximateNum(a)+"}"].join("\n")},rich:{value:{fontSize:12,lineHeight:18,color:"#8c8c8c",align:"left"}}},labelLine:{smooth:!0,length:5,lineStyle:{color:"#bfbfbf"}}}]}}(t,o);s.clear(),s.setOption(e)}else c(void 0)}),[t,s]),r.createElement(m.Z,{className:"emotion-pie-wrapper",data:t,loading:i,renderTitle:r.createElement(p.Z,{title:o,data:t,onMoreClick:function(e){return function(e,t,n,a){var i=void 0,o=[{type:"\u6b63\u9762",count:n.positive?n.positive:0},{type:"\u4e2d\u6027",count:n.neutral?n.neutral:0},{type:"\u8d1f\u9762",count:n.negative?n.negative:0}];if("image"===t)i=e;else if("data"===t){var r=o.map((function(e){return[e.type,e.count]}));r.splice(0,0,["\u60c5\u611f","\u60c5\u611f\u4e92\u52a8\u91cf"]),i=[r]}a({type:t,obj:i,name:e.getOption().title[0].text})}(s,e,t,n)}})},r.createElement(d.Z,{theme:"yunting_pos_neu_neg",style:{width:"100%",height:"100%"},option:{},onChartReady:function(e){return c(e)},onEvents:{click:a}}))};C.propTypes={title:u().string.isRequired,loading:u().bool.isRequired,data:u().object};const E=C;var T=n(49975),b=n(60496),x=n(70018),S=function(e){var t=e.data,n=e.title,a=e.onMoreClick,i=e.onClick,o=e.loading,l=e.dateRange,s=e.timeType,c=e.onFilterChange,u=e.formulaType,f=r.useState(void 0),g=f[0],h=f[1],v=r.useState(u),y=v[0],C=v[1];return r.useEffect((function(){if(g)if((0,m.P)(t)){var e=(0,x.Rl)(t,n,u,g.getWidth());g.clear(),g.setOption(e)}else h(void 0)}),[t,g,y]),r.createElement(m.Z,{data:t,className:"emotion-trend-wrapper",loading:o,renderTitle:r.createElement(p.Z,{title:n,data:t,onMoreClick:function(e){return(0,x.kQ)(g,e,t,a,y)}},r.createElement(b.Z,{onChange:function(e){var t=e.formulaType;C(t)},objName:"formulaType",activeObj:y,options:x.Gn}),r.createElement(T.Z,{dateRange:l,defaultValue:s,onChange:c}))},r.createElement(d.Z,{theme:"yunting_pos_neu_neg",loadingOption:{text:"",color:"#20a0ff"},option:{},style:{width:"100%",height:"100%"},onChartReady:function(e){return h(e)},onEvents:{click:i}}))};S.propTypes={title:u().string.isRequired,loading:u().bool.isRequired,data:u().object};const N=S;var O=n(43036),_=n(30133),w=n(40086),k=n(31705),D=n(94644),I=function(e){return e&&e.length>14?e.slice(0,7)+"\n"+e.slice(7,14)+"...#":e||""},R=function(e){var t=e.isInitial,n=e.loading,a=e.type,i=e.onTypeChange,o=e.analysisObjName,l=e.chartData,s=e.activeSeriesIndex,c=e.activeDataIndex,u=e.onChartClick,m=r.useState(void 0),p=m[0],f=m[1];r.useEffect((function(){if(!n&&p&&l.length>0){var e=function(e,t,n,a){return{tooltip:{trigger:"item",formatter:function(e){var t=e.marker;return e.name+"<br>"+t+e.seriesName+"\uff1a"+e.value}},grid:{show:!1,left:0,right:32,top:42,bottom:0,containLabel:!0},legend:{icon:"rect",itemWidth:12,itemHeight:12,itemGap:16,left:0,top:6,textStyle:{padding:[4,0,0,0]}},xAxis:{type:"value"},yAxis:{type:"category",data:e.map((function(e){var t=e.topicName;return t.includes("SUP_TOC")?"#"+t.split("SUP_TOC")[1]+"#":t.match(/#.*#/)[0]})),axisLabel:{formatter:function(e){return e.match(/#.*#/).length>0?I(e.match(/#.*#/)[0]):""+I(""+e)}}},series:[{name:"\u4e0e"+a+"\u76f8\u5173\u7684\u58f0\u91cf",type:"bar",data:e.map((function(e,a){return{value:e.aspectTotal,itemStyle:{color:-1===n||0===t&&n===a?"#1574B3":"#D2D2D2"}}})),barWidth:20},{name:"\u8bdd\u9898\u58f0\u91cf",type:"bar",data:e.map((function(e,a){return{value:e.topicTotal,itemStyle:{color:-1===n||1===t&&n===a?"#A1C7E1":"#D2D2D2"}}})),barWidth:20}],color:["#1574B3","#A1C7E1"]}}(l,s,c,o);p.clear(),p.setOption(e)}}),[p,t,n,l,a,s,c]);var g={value:a,placeholder:a.name,list:[{id:"weiboTopics",name:"\u5fae\u535a\u8bdd\u9898"},{id:"weiboSupTopics",name:"\u5fae\u535a\u8d85\u8bdd"}],onChange:i},h=a.name+"Top10";return r.createElement("div",{className:"content-chart-wrapper"},r.createElement("div",{className:"content-chart-header"},r.createElement(w.Z,g),r.createElement(O.Z,{overlay:"\u6309\u4e0e\u5934\u90e8\u7b5b\u9009\u6240\u9009\u7684"+o+"\u58f0\u91cf\u7531\u5927\u5230\u5c0f\u53d6Top10",placement:"top"},r.createElement("span",null,r.createElement("i",{className:"icon-cem_file1"}))),r.createElement(k.Z,{onDownChartClick:function(){return e=p,t=h,void(0,D._v)(e,t);var e,t},onDownExcelClick:function(){return function(e,t,n){var a=e.map((function(e){return Object.values(e)}));a.splice(0,0,["\u8bdd\u9898","\u8bdd\u9898\u58f0\u91cf","\u4e0e"+t+"\u76f8\u5173\u7684\u58f0\u91cf"]),(0,D.aT)([a],n)}(l,o,h)}})),r.createElement("div",{className:"content-chart-body"},t?r.createElement(_.Z,null):n||l&&0!==l.length?r.createElement(d.Z,{theme:"yunting_multi_color",option:{},showLoading:n,style:{width:"100%",height:"682px",display:l.length>0?"block":"none"},loadingOption:{text:"",color:"#1574B3"},onChartReady:f,onEvents:{click:u}}):r.createElement("div",{className:"empty-block"},"\u6682\u65e0\u6570\u636e")))};const M=R;R.propTypes={isInitial:u().bool,loading:u().bool,type:u().oneOf(["WEIBO","ZHIHU"]).isRequired,onTypeChange:u().func.isRequired,analysisObjName:u().string.isRequired,chartData:u().array,chartSelectedItem:u().string};var L=n(92360),P=n(29030),Z=n(30381),j=n.n(Z),A=function(e){try{return n(19635)("./"+e+".png")}catch(t){return n(12770)}},F={"\u6b63\u9762":1,"\u4e2d\u6027":0,"\u8d1f\u9762":-1},W=function(e){var t=e.isInitial,n=e.loading,a=e.orderType,i=e.onOrderTypeChange,o=e.msgList,l=e.onMoreMsgClick,s={value:a,placeholder:a.name,list:[{id:"cTime_DESC",name:"\u65f6\u95f4\u7531\u5927\u5230\u5c0f"},{id:"cTime_ASC",name:"\u65f6\u95f4\u7531\u5c0f\u5230\u5927"},{id:"repostsCount_DESC",name:"\u8f6c\u53d1\u91cf\u7531\u5927\u5230\u5c0f"},{id:"repostsCount_ASC",name:"\u8f6c\u53d1\u91cf\u7531\u5c0f\u5230\u5927"},{id:"attitudesCount_DESC",name:"\u70b9\u8d5e\u91cf\u7531\u5927\u5230\u5c0f"},{id:"attitudesCount_ASC",name:"\u70b9\u8d5e\u91cf\u7531\u5c0f\u5230\u5927"},{id:"commentsCount_DESC",name:"\u8bc4\u8bba\u91cf\u7531\u5927\u5230\u5c0f"},{id:"commentsCount_ASC",name:"\u8bc4\u8bba\u91cf\u7531\u5c0f\u5230\u5927"}],onChange:i};return r.createElement("div",{className:"content-msg-list-wrapper"},r.createElement("div",{className:"content-msg-list-header"},r.createElement("span",null,"\u539f\u8d34"),r.createElement(w.Z,s)),r.createElement(L.Loading,{loading:!t&&n},r.createElement("ul",{className:"content-msg-list-body"},t?r.createElement(_.Z,null):o&&0!==o.length?o.map((function(e,t){return r.createElement("li",{className:"msg-wrapper",key:t},r.createElement("div",{className:"msg-header"},r.createElement("span",{className:"msg-header-left"},r.createElement("img",{src:A(P.z[e.sourceName]),alt:e.sourceName}),r.createElement("span",{className:"username"},e.username)),Object.values(F).includes(e.escore)&&r.createElement("div",{className:"msg-header-center"},r.createElement("i",{className:"cem-icon icon-cem_"+(-1===e.escore?"negative":0===e.escore?"neutral":"positive")})),r.createElement("span",{className:"msg-header-right"},function(e){var t=j()(e).format("MM-DD").split("-");return t[0]+"\u6708"+t[1]+"\u65e5"}(e.ctime))),r.createElement("div",{className:"msg-body content"},e.content.replace(/<.*?>/gi,"")),e.originSource&&r.createElement("div",{className:"msg-footer"},r.createElement("span",null,"\u6765\u81ea ",e.originSource),r.createElement("span",{className:"staics"},r.createElement("i",{className:"icon-cem_forward"}),r.createElement("span",null,e.repostsCount||0),r.createElement("i",{className:"icon-cem_reply"}),r.createElement("span",null,e.commentsCount||0),r.createElement("i",{className:"icon-cem_weibo-fabulous"}),r.createElement("span",null,e.attitudesCount||0))))})):r.createElement("div",{className:"empty-block"},"\u6682\u65e0\u6570\u636e"))),o&&o.length>=100&&r.createElement("div",{className:"content-msg-list-footer"},r.createElement("span",null,r.createElement("span",null,"\u6700\u591a\u5c55\u793a\u6700\u65b0100\u6761\uff0c"),r.createElement("span",{onClick:l},"\u67e5\u770b\u66f4\u591a"))))};const q=W;W.propTypes={isInitial:u().bool,loading:u().bool,orderType:u().shape({id:u().string.isRequired,name:u().string.isRequired}),onOrderTypeChange:u().func.isRequired,msgList:u().array.isRequired,onMoreMsgClick:u().func.isRequired};var U=function(e){var t=e.isInitial,n=e.type,a=e.chartLoading,i=e.msgListLoading,o=e.onTypeChange,l=e.chartData,s=e.analysisObjName,c=e.activeSeriesIndex,u=e.activeDataIndex,d=e.orderType,m=e.onOrderTypeChange,p=e.msgList,f=e.onChartClick,g=e.onMoreMsgClick;return r.createElement("div",{className:"brand_analysis_content_wrapper",style:{marginRight:0}},r.createElement(M,{isInitial:t,loading:a,type:n,onTypeChange:o,chartData:l,analysisObjName:s,activeSeriesIndex:c,activeDataIndex:u,onChartClick:f}),r.createElement(q,{isInitial:t,loading:i,msgList:p,orderType:d,onOrderTypeChange:m,onMoreMsgClick:g}))};const B=U;U.propTypes={isInitial:u().bool,chartLoading:u().bool,msgListLoading:u().bool,type:u().shape({id:u().string.isRequired,name:u().string.isRequired}),onTypeChange:u().func.isRequired,analysisObjName:u().string.isRequired,chartData:u().array,selectedBarIndex:u().number,onChartClick:u().func,orderType:u().shape({id:u().string.isRequired,name:u().string.isRequired}),onOrderTypeChange:u().func.isRequired,msgList:u().array,onMoreMsgClick:u().func.isRequired};var H=n(97189),z=n.n(H),Q=n(56390),V=n(91476);const G=function(e){var t=e.isInitial,n=e.filterParams,a=e.onMoreClick,i=e.dateRange,o=e.satisChartData,l=e.satisChartLoading,c=e.curDimensionValName,u=e.emoTrendData,d=e.satisTrendLoading,m=e.onTrendFilterChange,p=e.trendTimeType,f=e.formulaType,g=e.onEmoClick,h=e.topicLoading,y=e.topicType,C=e.activeSeriesIndex,T=e.activeDataIndex,b=e.topTenTopicData,x=e.hotWordBubbleData,S=e.hotWordDoubleData,O=e.fetchingHotWordData,_=e.msgListLoading,w=e.postList,k=e.postOrder,D=e.fetchTopTenTopic,I=e.fetchPostList,R=e.onFilterChange,M=e.onChartClick,L=e.onMoreMsgClick,P=e.getFilterRef;e.getParams;return r.createElement("div",{className:"yt_brand_analyze_of_content_wrapper"},r.createElement(s.Z,{ref:P,values:n,model:"BRAND_CONTENT_ANALYSIS",showList:["condition","time","save"],filterCondition:{filter:["TAG","MESSAGE_RELATION","DIMENSION"],filterConfig:["CHAOHUA","TOPICS"],dimension:z().getQuery("id")},onFilterReady:R,onChange:R}),r.createElement("div",{className:"con_content"},r.createElement("div",{className:"con_content_284"},r.createElement(v,{title:c+"\u6ee1\u610f\u5ea6",titleOverlay:"\u6ee1\u610f\u5ea6=\u6b63\u9762\u58f0\u91cf\xf7\u5168\u90e8\u58f0\u91cf",data:o,onMoreClick:a,loading:l}),r.createElement(E,{title:c+"\u60c5\u611f\u5360\u6bd4",data:o,loading:l,onMoreClick:a,onClick:g}),r.createElement(N,{title:c+"\u60c5\u611f\u8d70\u52bf\u5206\u6790",data:u,onMoreClick:a,loading:d,dateRange:i,timeType:p,formulaType:f,onFilterChange:function(e){return m({trendTimeType:e})},onClick:g})),r.createElement("div",{className:"con_content_500"},r.createElement(Q.Z,{data:x,loading:O,title:c+"\u7684Top10\u70ed\u8bcd\u60c5\u611f"}),r.createElement(V.Z,{data:S,loading:O,title:c+"\u7684\u53cd\u9988\u7126\u70b9"})),r.createElement("div",{className:"con_content_750"},r.createElement(B,{isInitial:t,chartLoading:h,msgListLoading:_,analysisObjName:c,type:y,onTypeChange:function(e){return D({topicType:e})},chartData:b,activeSeriesIndex:C,activeDataIndex:T,orderType:k,onOrderTypeChange:function(e){return I({postOrder:e})},msgList:w,onChartClick:M,onMoreMsgClick:L}))))};var J=n(35239),X=n(87219),Y=n(64396),K=["loading"],$=Y.Z.brand.brandAnalysis,ee=Y.Z.brand.brandAnalysisSub.content,te=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleFilterChange=function(e){var t=e.dateFilter.numOfDays;n.props.fetchContentDatas({filterParams:e,projectId:J.t.get(J.V.curProject).id,dimensionId:n.state.dimensionId,dateRange:t+Math.random()}),n.getAnalysisObjName()},n.getAnalysisObjName=function(){var e=n.props.saveState,t=n.filter.refs.FilterCondition.getValue(),a=n.filter.refs.FilterCondition.getFilterList(),i=t.filter((function(e){return"dimension"===e.special}))[0].values[0];if(a&&a.length>0)for(var o=0;o<a.length;o++){var r=a[o].values;if("dimension"===a[o].special){e({curDimensionValName:r.filter((function(e){return String(e.id)===String(i)}))[0].name});break}}},n.handleOnChartClick=function(e){var t=n.props,a=t.activeSeriesIndex,i=t.activeDataIndex,o=t.fetchTopTenTopic,r=t.fetchPostList,l=e.dataIndex,s=e.seriesIndex;a===s&&i===l?o():r({activeSeriesIndex:s,activeDataIndex:l})},n._handleOnTrendFilterChange=function(e){n.props.fetchEmotionTrendData((0,i.Z)({},e))},n._handleOnMoreClick=function(e){"image"===e.type?(0,D._v)(e.obj,e.name):"data"===e.type&&(0,D.aT)(e.obj,e.name)},n._handleOnMoreMsgClick=function(){var e=n.props,t=e.filterParams,a=e.projectId,o=e.topicType,r=e.topTenTopicData,l=e.activeSeriesIndex,s=e.activeDataIndex,c=(-1===s?"":r[s]).topicName,u=-1===s?r.map((function(e){var t=e.topicName;return t.includes("SUP_TOC")?t.split("SUP_TOC")[1]:t.split("#")[1]})):[c.includes("SUP_TOC")?c.split("SUP_TOC")[1]:c.split("#")[1]],d={dateFilter:t.dateFilter,filterModel:(0,i.Z)({},t.filterModel,{dimension:0===l?t.filterModel.dimension:[],messageType:t.filterModel.messageType||["QUE_ANS_QUESTION","QUE_ANS_ANSWER","WEIBO","WEIBO_REPORT","COMMON_POST","NEWS_TEXT"]}),projectId:a};"weiboSupTopics"===o.id?d.filterModel.superTopics=[{contain:u}]:d.filterModel.topics=[{contain:u}],window.open("/inbox/public?"+encodeURIComponent(JSON.stringify(d)))},n.getEmoParams=function(e,t){var a=n.props,o=a.filterParams,r=a.trendTimeType,l=a.emoTrendData,s=JSON.parse(JSON.stringify(o));return s.projectId=n.props.projectId,s.filterModel.messageType||(s.filterModel.messageType=["QUE_ANS_QUESTION","QUE_ANS_ANSWER","WEIBO","WEIBO_REPORT","COMMON_POST","NEWS_TEXT"]),e&&(s.dateFilter=(0,i.Z)({},(0,X.ZP)(o.dateFilter,(function(t){var n=r,a=l.datasets[0].source.slice(1).map((function(e){return e[0]})),i=(0,y.LV)(e,n),o=i.from,s=i.to;"DAY"!==n&&"HOUR"!==n&&(String(e)===String(a[0])?o=t.from:String(e)===String(a[a.length-1])&&(s=t.to)),t.from=o,t.to=s})))),t&&(s.filterModel.escore=["\u6b63\u9762"===t?"1":"\u8d1f\u9762"===t?"-1":"0"]),s},n._handleOnEmoClick=function(e){if(e&&"series"===e.componentType)if("pie"===e.componentSubType){var t=e.name,a=n.getEmoParams(null,t);window.open("/inbox/public?"+encodeURIComponent(JSON.stringify(a)))}else{var i=e.name,o=e.seriesName,r=n.getEmoParams(i,o);window.open("/inbox/public?"+encodeURIComponent(JSON.stringify(r)))}},n.state={dimensionId:z().getQuery("id")},n.event={onChartClick:n.handleOnChartClick,onFilterChange:n.handleFilterChange,onMoreClick:n._handleOnMoreClick,onEmoClick:n._handleOnEmoClick,getFilterRef:function(e){return n.filter=e},onTrendFilterChange:n._handleOnTrendFilterChange,onMoreMsgClick:n._handleOnMoreMsgClick},n}(0,o.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){},n.componentWillUnmount=function(){},n.render=function(){return r.createElement(G,(0,i.Z)({},this.props,this.state,this.event))},t}(r.PureComponent);const ne=(0,l.connect)((function(e){var t=e.loading,n=(0,a.Z)(e,K);return(0,i.Z)({},n[$][ee],{topicLoading:t.effects[$+"/fetchTopTenTopic"]||!1,msgListLoading:t.effects[$+"/fetchPostList"]||!1,fetchingHotWordData:t.effects[$+"/fetchHotWordData"]||!1,satisChartLoading:t.effects[$+"/fetchSatisChartData"]||!1,satisTrendLoading:t.effects[$+"/fetchEmotionTrendData"]||!1})}),(function(e){return{fetchContentDatas:function(t){return e({type:$+"/fetchContentDatas",payload:t})},fetchSatisChartData:function(t){return e({type:$+"/fetchSatisChartData",payload:t})},fetchEmotionTrendData:function(t){return e({type:$+"/fetchEmotionTrendData",payload:t})},fetchTopTenTopic:function(t){return e({type:$+"/fetchTopTenTopic",payload:t})},fetchPostList:function(t){return e({type:$+"/fetchPostList",payload:t})},saveState:function(t){return e({type:$+"/saveContentState",payload:t})}}}))(te)},40086:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(87462),i=n(94578),o=n(67294),r=n(45697),l=n.n(r),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).stop=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n._setEvent=function(e){return 0===e?{onMouseEnter:function(){n.setState({firstLiHover:!0})},onMouseLeave:function(){n.setState({firstLiHover:!1})}}:{}},n.setShowSelFalse=function(){n.setState({show:!1})},n.state={show:!1,firstSelected:!1},n}(0,i.Z)(t,e);var n=t.prototype;return n.changeShow=function(e){var t=this;this.state.show&&this.stop(e),setTimeout((function(){t.setState({show:!t.state.show})}),0)},n.componentDidMount=function(){window.addEventListener("click",this.setShowSelFalse)},n.componentWillUnmount=function(){window.removeEventListener("click",this.setShowSelFalse)},n.render=function(){var e=this,t=this.state.show,n=this.props,i=n.placeholder,r=n.list,l=n.value,s=n.onChange,c=n.style,u=n.partingLine,d=r[0]&&r[0].id===l.id;return o.createElement("div",{className:"chart-select",style:c||{}},o.createElement("div",{className:"select "+(u?"line":""),onClick:function(t){return e.changeShow(t)}},o.createElement("div",{className:"infor "+(t?"sel":"")},o.createElement("span",{className:"placeholder"},i),o.createElement("i",{className:"icon icon-cem_arrow-launches",style:{transform:t?"rotate(-180deg)":"",top:t?"3px":""}}))),t&&o.createElement("div",{className:"position-wrap"},o.createElement("div",{className:"selItem "+(this.state.firstLiHover||d?"selPadHover":""),onClick:function(t){return e.stop(t)}},o.createElement("div",{className:"wrap"},o.createElement("ul",null,r.length>0?r.map((function(t,n){return o.createElement("li",(0,a.Z)({className:t.id===l.id?"sel":"",key:n,onClick:function(){e.setShowSelFalse(),s&&s(t,n)}},e._setEvent(n)),o.createElement("span",null,t.name))})):o.createElement("div",{className:"noData"},"\u65e0\u6570\u636e"))))))},t}(o.Component);s.defaultProps={placeholder:"\u8bf7\u9009\u62e9",list:[{name:"\u5468",id:"week"},{name:"\u6708",id:"month"}],value:{}},s.propTypes={placeholder:l().oneOfType([l().string,l().element]),list:l().array,value:l().object,onChange:l().func,style:l().object,partingLine:l().bool}},29030:(e,t,n)=>{n.d(t,{z:()=>a});var a={"\u767e\u5ea6\u77e5\u9053":"bdzd","\u767e\u5ea6\u8d34\u5427":"bdtb","\u516b\u722a\u9c7c":"bzy","nps\u95ee\u5377":"nps","\u79d1\u6c83\u65af":"ecovacs","\u79d1\u6c83\u65af\u5b98\u7f51":"ecovacs","\u79d1\u6c83\u65af\u5546\u57ce":"ecovacs","\u56fd\u7f8e":"gm","\u4eac\u4e1c":"jd","\u82cf\u5b81\u6613\u8d2d":"snyg","\u82cf\u5b81":"snyg","\u5929\u732b":"tm","\u6dd8\u5b9d":"tb","\u552f\u54c1\u4f1a":"wph","\u5fae\u4fe1":"wx","\u516c\u4f17\u53f7":"wx","\u5fae\u4fe1\u516c\u4f17\u53f7":"wx","\u65b0\u6d6a":"xl","\u65b0\u6d6a\u5fae\u535a":"xl","\u5fae\u535a":"xl","\u65b0\u6d6a\u65b0\u95fb":"xlxw","\u5c0f\u7c73\u5546\u57ce":"xm","\u5c0f\u7c73\u793e\u533a":"xm_bbs","\u4e9a\u9a6c\u900a":"ymx","\u7c73\u5bb6\u6709\u54c1":"yp","\u77e5\u4e4e":"zh","\u767e\u5ea6":"bd","VIVO\u5b98\u7f51":"vivo","\u6d77\u4fe1":"haixin","1\u53f7\u5e97":"yhd","\u521b\u7ef4":"chuangwei","\u6b22\u592a\u5546\u57ce":"htsc","\u81ea\u5b9a\u4e49":"custom","\u4e91\u542cCEM":"nps","\u82b1\u7c89\u4ff1\u4e50\u90e8":"huawei","vivo\u793e\u533a":"vivo_bbs","coloros\u793e\u533a":"coloros_bbs","\u9152\u4ed9":"jx","\u4e00\u70b9\u8d44\u8baf":"yd","\u5c0f\u7ea2\u4e66":"xhs","\u4ec0\u4e48\u503c\u5f97\u4e70":"smzdm",bilibili:"bilibili","\u4eca\u65e5\u5934\u6761":"jrtt","\u7f51\u6613\u65b0\u95fb":"wyxw","\u767e\u5ea6\u65b0\u95fb":"bdxw","\u817e\u8baf\u65b0\u95fb":"txxw","\u6296\u97f3":"dy","\u65b0\u95fb":"xw","\u805a\u6295\u8bc9":"jts","\u9ed1\u732b\u6295\u8bc9":"hmts","\u62fc\u591a\u591a":"pdd","OPPO\u793e\u533a":"opposq","\u5927\u4f17\u70b9\u8bc4":"dzdp","\u5fae\u535a\u8bc4\u8bba":"xl","\u6296\u97f3\u5c0f\u5e97":"douyin","\u4e9a\u9a6c\u900a\u56fd\u9645":"ymx","\u5feb\u624b\u5c0f\u5e97":"ks","Google Play":"ggstore","App Store(iOS)":"iosapp","App Store(Mac)":"iosapp","\u817e\u8baf\u5e94\u7528\u5b9d":"tsyyb",Zendesk:"zendesk"}}}]);
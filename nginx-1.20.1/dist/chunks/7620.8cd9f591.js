"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[7620],{13713:(e,t,n)=>{n.d(t,{u:()=>r});var a=n(35239),r=function(e){var t=e.title,n=e.url,r=a.t.get(a.V.backProjectConfig).name;return n&&-1!==n.indexOf("memberlist")?[{title:r,url:"/account/project/preview"},{title:"\u7528\u6237\u7ec4",url:"/account/project/usergroup"},{title:t,url:n}]:[{title:r,url:"/account/project/preview"},{title:t,url:n}]}},57620:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(87462),r=n(63366),c=(n(7940),n(31059)),l=(n(15086),n(94055)),i=(n(43378),n(62443)),o=n(94578),s=n(67294),u=n(55609),m=n(64396),d=n(55815),E=n(35239),f=n(13713),p=["loading"],h=n(7732),v=m.Z.workOrder.board,g=m.Z.workOrder.field,N=function(e){function t(t){var n;return(n=e.call(this,t)||this).onChangeCheckBox=function(e,t){var a=e.target.checked;n.props.fetchShow({id:t,isBoardVisible:a}).then((function(){n.props.fetchList()}))},n.getIconName=function(e){switch(e){case"CREATED_TIME":case"UPDATED_TIME":case"DATE_TIME":return"icon-jinhangzhong";case"RADIO":return"icon-cem_single-choice";case"CHECKBOX":return"icon-duoxuan";case"NUMERIC":return"icon-shuzi";case"ASSIGNEE":case"CREATOR":case"UPDATER":return"icon-jiaose";default:return"icon-wenben"}},n.fieldDefault=function(e){switch(e){case"ASSIGNEE":case"CREATOR":case"UPDATER":return"\u5f20\u4e09";case"DUE_TIME":case"CREATED_TIME":case"UPDATED_TIME":case"FINISHED_TIME":case"DATE_TIME":return"09/01 18:00";case"CHECKBOX":return"\u9009\u98791\uff0c\u9009\u98792";case"RADIO":return"\u9009\u98791";case"NUMERIC":return"-13.02";default:return"\u63cf\u8ff0\u6587\u672c"}},n.state={},t.save({projectId:E.t.get(E.V.backProjectConfig).id}),n}(0,o.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.fetchList()},n.componentWillUnmount=function(){this.props.clean()},n.render=function(){var e=this,t=this.props.fieldList,n=null==t?void 0:t.filter((function(e){return"STATE"!==e.kind&&"ASSIGNEE"!==e.kind&&"DUE_TIME"!==e.kind&&"MESSAGE"!==e.kind&&"PRIORITY"!==e.kind&&"FINISHED_TIME"!==e.kind&&"DESCRIPTION"!==e.kind&&"WARNING"!==e.kind}));return s.createElement("div",{className:"workOrder-board-wrapper"},s.createElement(d.Z,{title:(0,f.u)({title:"\u770b\u677f\u5361\u7247\u663e\u793a\u914d\u7f6e",url:""})}),s.createElement("div",{className:"workOrder-board-container"},s.createElement("div",{className:"workOrder-board-content"},s.createElement("div",{className:"left"},s.createElement("div",{className:"title"},"\u5361\u7247\u9884\u89c8"),s.createElement("div",{className:"card"},s.createElement(i.default,{mouseLeaveDelay:0,content:"\u4f18\u5148\u7ea7\uff1a\u4f4e"},s.createElement("div",{className:"kanban-left-border",style:{background:"rgb(140, 140, 140)"}})),s.createElement("div",{className:"card_title"},s.createElement("div",null,"\u4e86\u89e3\u5f00\u53d1\u4e0e\u524d\u7aef\u7684\u5b9e\u73b0\u539f\u7406\uff0c \u5b89\u6392\u5f00\u53d1\u4e8b\u5b9c"),s.createElement("img",{src:h})),s.createElement("div",{className:"card_time"},"\u622a\u6b62\u65f6\u95f4\uff1a09/01 18:00"),s.createElement("div",null,null==n?void 0:n.filter((function(e){return"ATTACHMENT"!==e.kind&&"REMARK"!==e.kind})).map((function(t){return t.isBoardVisible?s.createElement("div",{key:t.id,className:"card_item"},s.createElement("i",{className:e.getIconName(t.kind),style:{marginRight:"8px"}}),t.name,"\uff1a",e.fieldDefault(t.kind)):null}))),s.createElement("div",{className:"card_footer"},s.createElement(l.default,{title:"\u5173\u8054\u7684\u6d88\u606f",mouseEnterDelay:.5},s.createElement("span",null,s.createElement("i",{className:"icon-huatifenxi"}),"12")),s.createElement(l.default,{title:"\u5173\u8054\u7684\u9884\u8b66\u901a\u77e5",mouseEnterDelay:.5},s.createElement("span",null,s.createElement("i",{className:"icon-yujing"}),"6")),(null==n?void 0:n.some((function(e){return"REMARK"===e.kind&&e.isBoardVisible})))&&s.createElement(l.default,{title:"\u5907\u6ce8",mouseEnterDelay:.5},s.createElement("span",null,s.createElement("i",{className:"icon-wenjian"}),"4")),(null==n?void 0:n.some((function(e){return"ATTACHMENT"===e.kind&&e.isBoardVisible})))&&s.createElement(l.default,{title:"\u6587\u4ef6",mouseEnterDelay:.5},s.createElement("span",null,s.createElement("i",{className:"icon-cem_file-links"}),"2"))))),s.createElement("div",{className:"right"},s.createElement("div",{className:"title"},"\u53ef\u914d\u7f6e\u5b57\u6bb5"),s.createElement("ul",null,null==n?void 0:n.map((function(t){return s.createElement("li",{key:t.id},t.name,s.createElement(c.default,{defaultChecked:t.isBoardVisible,onChange:function(n){e.onChangeCheckBox(n,t.id)}}))})))))))},t}(s.Component);const k=(0,u.connect)((function(e){var t=e.loading,n=(0,r.Z)(e,p);return(0,a.Z)({},n[v],{loading:t.effects[g+"/fetchList"]||!1})}),(function(e){return{save:function(t){return e({type:v+"/save",payload:t})},clean:function(){return e({type:v+"/clean"})},fetchList:function(t){return e({type:v+"/fetchList",payload:t})},fetchShow:function(t){return e({type:v+"/fetchShow",payload:t})}}}))(N)},55815:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(94578),r=n(67294),c=n(45697),l=n.n(c),i=n(43036),o=n(61409),s=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this)._handleBreadcrumbClick=function(e){var n=t.props,a=n.title,r=n.beforeJump;e!==a.length-1&&(r?new Promise((function(e,t){return r(e,t)})).then((function(){o.mW.push({pathname:a[e].url,state:a[e].state})})):o.mW.push({pathname:a[e].url,state:a[e].state}))},t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,a=t.mainTitle,c=t.rightContent,l=t.className,o=t.overlay;return r.createElement("div",{className:"breadcumb-wrapper "+l},n instanceof Array?r.createElement("div",{className:"breadcrumb-left"},r.createElement("div",null,n.map((function(t,a){return r.createElement("span",{className:t.url?"":"not_clickable",key:a,onClick:function(){return t.url&&a!==n.length-1&&e._handleBreadcrumbClick(a)}},t.title,a!==n.length-1&&" / ")}))),r.createElement("span",null,a||n[n.length-1].title,o&&r.createElement(i.Z,{placement:"top",overlay:o},r.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c",marginLeft:8}})))):r.createElement("div",{className:"normal-title"},n,o&&r.createElement(i.Z,{placement:"top",overlay:o},r.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c",marginLeft:8}}))),c||"")},t}(r.Component);s.propTypes={className:l().string,title:l().oneOfType([l().string,l().arrayOf(l().shape({title:l().string,url:l().string,state:l().object}))]).isRequired,overlay:l().oneOfType([l().string,l().node]),mainTitle:l().oneOfType([l().string,l().node]),beforeJump:l().func,rightContent:l().node};const u=s}}]);
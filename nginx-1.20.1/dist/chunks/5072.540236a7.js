"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[5072],{75072:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var n=a(63366),r=a(87462),i=a(94578),c=a(67294),l=a(55815),o=a(35239),s=a(61918),p=a(96889),d=a(8201);const u=function(e){function t(t){var a;return(a=e.call(this,t)||this)._handleOnPageChange=function(e){var t=a.state,n=t.dataList,r=t.filteredDataList,i=t.pageSize,c=r||n;a.setState({pageIndex:e,clusterDataList:c.slice((e-1)*i,e*i)})},a._handleOnPageSizeChange=function(e){var t=a.state,n=t.dataList,r=t.filteredDataList||n;a.setState({pageSize:e,pageIndex:1,clusterDataList:r.slice(0,e)})},a._handleOnSearch=function(e){var t=a.state,n=t.dataList,r=t.pageSize,i=e?function(e,t){for(var a=new RegExp(t.toLocaleLowerCase()),n=[],r=0;r<e.length;r++)(a.test(e[r].detail.toLocaleLowerCase())||a.test(e[r].ytName.toLocaleLowerCase()))&&n.push(e[r]);return n}(n,e):void 0,c=i||n;a.setState({keyword:e,pageIndex:1,filteredDataList:i,clusterDataList:c.slice(0,r)})},a._handleTable=function(e){var t=e.current,n=e.pageSize;t===a.state.pageIndex?a._handleOnPageSizeChange(n):a._handleOnPageChange(t)},a.state={dataList:[],oriData:t.data,columnRenders:{},pageIndex:1,pageSize:10,keyword:"",clusterDataList:[],filteredDataList:void 0,columns:[{title:"\u6307\u6807\u540d\u79f0",dataIndex:"ytName",key:"ytName",width:"20%"},{title:"\u6307\u6807\u63cf\u8ff0",dataIndex:"detail",key:"ytName",width:"20%"},{title:"\u6b63\u9762\u53cd\u9988\u793a\u4f8b",dataIndex:"positiveFeedback",key:"positiveFeedback",width:"20%"},{title:"\u8d1f\u9762\u53cd\u9988\u793a\u4f8b",dataIndex:"negativeFeedback",key:"negativeFeedback",width:"20%"},{title:"\u76f8\u5173\u6307\u6807\u6811",dataIndex:"applyType",key:"applyType",width:"20%"}]},a}return(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){if((0,d.P)(e.data)&&JSON.stringify(t.oriData)!==JSON.stringify(e.data)){var a=e.data.map((function(e,t){return"NOT_PROVIDED"===e.overallRate,(0,r.Z)({id:e.id,nlpName:e.nlpName,ytName:e.ytName,detail:e.detail,negativeFeedback:e.negativeFeedback,positiveFeedback:e.positiveFeedback,applyType:e.applyType,overallRate:e.overallRate},e.categoryRates.reduce((function(e,t){return e[t.category]=t.rate,e}),{}))}));return{oriData:e.data,dataList:a,clusterDataList:a.slice((t.pageIndex-1)*t.pageSize,t.pageIndex*t.pageSize)}}return null},t.prototype.render=function(){var e=this.state,t=e.dataList,a=e.pageIndex,n=e.pageSize,r=e.clusterDataList,i=e.filteredDataList,l=e.columns,o=this.props,u=o.loading,m=o.data,f=m instanceof Array?r:m,h=i||t;return c.createElement("div",{className:"yt_aspect_content_list_wrapper"},c.createElement("div",{className:"title_header"},c.createElement(s.Z,{placeholder:"\u641c\u7d22\u6307\u6807\u6216\u63cf\u8ff0",onSearch:this._handleOnSearch,onClear:this._handleOnSearch})),c.createElement(p.ZP,{columns:l,loading:u,rowKey:"id",pagination:{pageSize:n,total:(0,d.P)(f)?h.length:0,current:a},onChange:this._handleTable,dataSource:f,search:!1,scroll:{y:500},options:!1}))},t}(c.PureComponent);var m=a(61409);const f=function(e){var t=e.aspectList,a=e.loading;return c.createElement("div",{className:"yt_project_aspect_system_wrapper"},c.createElement(l.Z,{title:[{title:o.t.get(o.V.backProjectConfig).name,url:"/account/project/preview"},{url:"",title:"\u5168\u5c40\u6307\u6807"}],overlay:c.createElement(m.rU,{className:"yt-feedback-read-more",to:"https://www.yuque.com/docs/share/e029a655-b744-47bf-a287-20817c1ac654?# \u300a\u5168\u5c40\u6307\u6807\u4f53\u7cfb\u8bf4\u660e\u300b",target:"_blank"},"\u4e86\u89e3\u66f4\u591a")}),c.createElement("div",{className:"content"},c.createElement(u,{data:t,loading:a})))};var h=a(55609),g=a(64396),y=["loading"],v=g.Z.productExperience.aspectSystem.global,k=function(e){function t(t){var a;return(a=e.call(this,t)||this).event={},a}(0,i.Z)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.fetchAspectData({projectId:o.t.get(o.V.backProjectConfig).id})},a.componentWillUnmount=function(){this.props.clean()},a.render=function(){return c.createElement(f,(0,r.Z)({},this.props,this.state,this.event))},t}(c.Component);const b=(0,h.connect)((function(e){var t=e.loading,a=(0,n.Z)(e,y);return(0,r.Z)({},a[v],{loading:t.effects[v+"/fetchAspectData"]||!1})}),(function(e){return{save:function(t){return e({type:v+"/save",payload:t})},clean:function(t){return e({type:v+"/clean",payload:t})},fetchAspectData:function(t){return e({type:v+"/fetchAspectData",payload:t})}}}))(k)},55815:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(94578),r=a(67294),i=a(45697),c=a.n(i),l=a(43036),o=a(61409),s=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._handleBreadcrumbClick=function(e){var a=t.props,n=a.title,r=a.beforeJump;e!==n.length-1&&(r?new Promise((function(e,t){return r(e,t)})).then((function(){o.mW.push({pathname:n[e].url,state:n[e].state})})):o.mW.push({pathname:n[e].url,state:n[e].state}))},t}return(0,n.Z)(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.title,n=t.mainTitle,i=t.rightContent,c=t.className,o=t.overlay;return r.createElement("div",{className:"breadcumb-wrapper "+c},a instanceof Array?r.createElement("div",{className:"breadcrumb-left"},r.createElement("div",null,a.map((function(t,n){return r.createElement("span",{className:t.url?"":"not_clickable",key:n,onClick:function(){return t.url&&n!==a.length-1&&e._handleBreadcrumbClick(n)}},t.title,n!==a.length-1&&" / ")}))),r.createElement("span",null,n||a[a.length-1].title,o&&r.createElement(l.Z,{placement:"top",overlay:o},r.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c",marginLeft:8}})))):r.createElement("div",{className:"normal-title"},a,o&&r.createElement(l.Z,{placement:"top",overlay:o},r.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c",marginLeft:8}}))),i||"")},t}(r.Component);s.propTypes={className:c().string,title:c().oneOfType([c().string,c().arrayOf(c().shape({title:c().string,url:c().string,state:c().object}))]).isRequired,overlay:c().oneOfType([c().string,c().node]),mainTitle:c().oneOfType([c().string,c().node]),beforeJump:c().func,rightContent:c().node};const p=s},61918:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(67294),r=a(45697),i=a.n(r),c=function(e){var t=e.className,a=e.onClear,r=e.onSearch,i=e.placeholder,c=e.style,l=e.defValue,o=e.signal,s=n.useState(l),p=s[0],d=s[1];n.useEffect((function(){d(l)}),[l,o]);return n.createElement("div",{style:c,className:"yt_search_input_wrapper "+(t||"")},n.createElement("input",{placeholder:i,value:p,onKeyDown:function(e){13===e.keyCode&&r(p)},onChange:function(e){return d(e.target.value)},autoComplete:"off"}),p&&n.createElement("i",{className:"icon-cem_log-off",onClick:function(){d(""),a&&a("")}}),n.createElement("i",{className:"icon-cem_small-search",onClick:function(){return r(p)}}))};c.propTypes={className:i().string,onSearch:i().func.isRequired,placeholder:i().string,style:i().object,defValue:i().string,signal:i().any,onClear:i().func};const l=c}}]);
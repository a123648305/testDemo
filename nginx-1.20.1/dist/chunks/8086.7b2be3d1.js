(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[8086],{68086:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(37316),r=a.n(n),t=a(67154),C=a.n(t),n=a(85354),l=a.n(n),t=a(67294),w=a.n(t),x=a(19586),E=a(8201),n=a(45697),t=a.n(n),i=a(98191),o=a(50976),c=a(94644),s=a(70715),u=a(39432),n=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(n=r.call.apply(r,[this].concat(t))||this).handleOnMoreClick=function(e){var t=n.props,a=t.title,t=t.data;"image"===e&&n.chartRef?(0,c._v)(n.chartRef,a):"data"===e&&(0,E.P)(t)&&(0,c.aT)([[n.dimensions].concat(n.source,["",["日同比",n.dayCompare],"",["周同比",n.weekCompare]])],a)},n}l()(e,r);var t=e.prototype;return t.componentDidUpdate=function(e){var t=e.data,e=this.props.data;(0,E.P)(e)&&JSON.stringify(t)!==JSON.stringify(e)&&this.renderChart(),!(0,E.P)(e)&&this.chartRef&&(this.chartRef=void 0)},t.componentDidMount=function(){this.renderChart()},t.renderChart=function(){var e=this.props,t=e.data,a=e.title,e=e.chartType;(0,E.P)(t)&&this.chartRef&&r.prototype.renderChart.call(this,t,a,e)},t.render=function(){var e=this.props,t=e.className,a=e.title,n=e.data,r=e.loading,e=e.titleOverlay;return w().createElement(E.Z,{className:"yt_price_chaos_bar_line_chart_wrapper "+t,data:n,loading:r,renderTitle:w().createElement(i.Z,{title:a,titleOverlay:e,data:n,onMoreClick:this.handleOnMoreClick})},w().createElement(o.Z,{onChartReady:this.getChartRef,theme:"yunting_multi_color",option:{},style:{height:"100%"}}))},e}(function(r){function e(){for(var t,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(t=r.call.apply(r,[this].concat(a))||this).dimensions=void 0,t.source=void 0,t.dayCompare=0,t.weekCompare=0,t.total=0,t.chartType="",t.chartRef=void 0,t.getChartRef=function(e){t.chartRef=e},t}l()(e,r);var t=e.prototype;return t.setValue=function(e,t,a){this.dimensions=["时间",t],this.source=e.values.map(function(e){return[e.date,parseInt(e.count)]}),this.dayCompare=e.dayCompare,this.weekCompare=e.weekCompare,this.chartType=a,this.total=e.total},t.renderChart=function(e,t,a){this.setValue(e,t,a),this.chartRef.clear(),this.chartRef.setOption(this.getOption(t))},t.getOption=function(e){return{title:{text:e,subtext:""+u.ZP.getApproximateNum(this.total),subtextStyle:{color:"#262626",fontSize:24,lineHeight:36,fontWeight:"bold"}},grid:[{top:86,bottom:68,left:20,right:20},{top:86,bottom:50,left:20,right:20}],dataset:{dimensions:this.dimensions,source:this.source},tooltip:{trigger:"axis",formatter:function(e){var t=e[0],a=t.name,n=t.seriesName,e=t.data,t=t.marker;return[(0,s.Zi)(a+"时"),t+" "+n+"："+u.ZP.getApproximateNum(e[1])].join("</br>")}},graphic:[{type:"group",bottom:20,left:20,silent:!0,children:[{type:"text",style:{text:"日同比",fontSize:14,fill:"#8C8C8C",font:s.I8}},{type:"text",left:50,style:{text:this.dayCompare,fontSize:14,fill:"#262626",font:s.I8}}]},{type:"group",bottom:20,left:"51%",silent:!0,children:[{type:"text",style:{text:"周同比",fontSize:14,fill:"#8C8C8C",font:s.I8}},{type:"text",left:50,style:{text:this.weekCompare,fontSize:14,fill:"#262626",font:s.I8}}]}],xAxis:[{type:"category",show:!1,position:"bottom",gridIndex:0,boundaryGap:"bar"===this.chartType,axisLabel:{show:!1}},{type:"category",gridIndex:1,position:"bottom",axisLine:{lineStyle:{type:"dashed",fill:"#E5E5E5"}},axisLabel:{show:!1}}],yAxis:[{type:"value",show:!1,gridIndex:0,max:"dataMax"},{type:"value",show:!1,gridIndex:1}],series:[{type:this.chartType,barWidth:6,symbolSize:0,areaStyle:{opacity:.1}}]}},e}(w().PureComponent));const k=n;n.propTypes={title:t().string,titleOverlay:t().string|t().node,className:t().string,data:t().any,loading:t().bool,chartType:t().string};n=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(n=r.call.apply(r,[this].concat(t))||this).handleOnMoreClick=function(e){var t=n.props,a=t.title,t=t.data;"image"===e&&n.chartRef?(0,c._v)(n.chartRef,a):"data"===e&&(0,E.P)(t)&&(0,c.aT)([[["今日破价率",(100*n.breakRate).toFixed(2)+"%"],"",["日同比",(100*n.daySameRate).toFixed(2)+"%"],"",["周同比",(100*n.weekSameRate).toFixed(2)+"%"]]],a)},n}l()(e,r);var t=e.prototype;return t.componentDidUpdate=function(e){var t=e.data,e=this.props.data;(0,E.P)(e)&&JSON.stringify(t)!==JSON.stringify(e)&&this.renderChart(),!(0,E.P)(e)&&this.chartRef&&(this.chartRef=void 0)},t.componentDidMount=function(){this.renderChart()},t.renderChart=function(){var e=this.props,t=e.data,e=e.title;(0,E.P)(t)&&this.chartRef&&r.prototype.renderChart.call(this,t,e)},t.render=function(){var e=this.props,t=e.className,a=e.title,n=e.data,r=e.loading,e=e.titleOverlay;return w().createElement(E.Z,{className:"yt_price_chaos_bar_line_chart_wrapper "+t,data:n,loading:r,renderTitle:w().createElement(i.Z,{title:a,data:n,titleOverlay:e,onMoreClick:this.handleOnMoreClick})},w().createElement(o.Z,{onChartReady:this.getChartRef,theme:"yunting_multi_color",option:{},style:{height:"100%"}}))},e}(function(r){function e(){for(var t,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(t=r.call.apply(r,[this].concat(a))||this).breakRate=0,t.averageBreakRate=0,t.daySameRate=0,t.weekSameRate=0,t.total=0,t.chartType="",t.chartRef=void 0,t.getChartRef=function(e){t.chartRef=e},t}l()(e,r);var t=e.prototype;return t.setValue=function(e){this.breakRate=parseFloat(e.breakRate),this.averageBreakRate=parseFloat(e.averageBreakRate),this.daySameRate=parseFloat(e.daySameRate),this.weekSameRate=parseFloat(e.weekSameRate)},t.renderChart=function(e,t,a){this.setValue(e,t,a),this.chartRef.clear(),this.chartRef.setOption(this.getOption(t))},t.getOption=function(e){return{title:{text:e,subtext:(100*this.breakRate).toFixed(2)+"%",subtextStyle:{color:"#262626",fontSize:24,lineHeight:36,fontWeight:"bold"}},grid:[{height:22,bottom:62,left:20,right:20},{bottom:50,left:20,right:20}],graphic:[{type:"group",bottom:20,left:20,silent:!0,children:[{type:"text",style:{text:"日同比",fontSize:14,fill:"#8C8C8C"}},{type:"text",left:50,style:{text:(100*this.daySameRate).toFixed(2)+"%",fontSize:14,fill:"#262626"}}]},{type:"group",bottom:20,left:"51%",silent:!0,children:[{type:"text",style:{text:"周同比",fontSize:14,fill:"#8C8C8C"}},{type:"text",left:50,style:{text:(100*this.weekSameRate).toFixed(2)+"%",fontSize:14,fill:"#262626"}}]}],xAxis:[{type:"value",max:1,gridIndex:0,show:!1},{type:"value",gridIndex:1,axisLabel:{show:!1},axisLine:{lineStyle:{type:"dashed",color:"#e5e5e5"}}}],yAxis:[{type:"category",show:!1,gridIndex:0},{type:"category",gridIndex:1,show:!1}],series:{type:"bar",zlevel:1,xAxisIndex:0,yAxisIndex:0,barWidth:8,silent:!0,showBackground:!0,backgroundStyle:{color:"#E5E5E5"},data:[{value:this.breakRate,itemStyle:{color:"#1574B3"}}],markLine:{zlevel:0,symbolSize:0,label:{color:"#262626",formatter:function(){return"7日均值"}},data:[{xAxis:this.averageBreakRate}],lineStyle:{type:"solid"}}}}},e}(w().PureComponent));const _=n;n.propTypes={title:t().string,titleOverlay:t().string|t().node,className:t().string,data:t().any,loading:t().bool};n=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(n=r.call.apply(r,[this].concat(t))||this).handleOnMoreClick=function(e){var t=n.props,a=t.title,t=t.data;"image"===e&&n.chartRef?(0,c._v)(n.chartRef,a):"data"===e&&(0,E.P)(t)&&(0,c.aT)([[n.dimensions].concat(n.source.map(function(e){return[e[0],e[1],e[2],(100*e[3]).toFixed(2)+"%"]}))],a)},n}l()(e,r);var t=e.prototype;return t.componentDidUpdate=function(e){var t=e.data,e=this.props.data;(0,E.P)(e)&&JSON.stringify(t)!==JSON.stringify(e)&&this.renderChart(),!(0,E.P)(e)&&this.chartRef&&(this.chartRef=void 0)},t.componentDidMount=function(){this.renderChart()},t.renderChart=function(){var e=this.props,t=e.data,e=e.title;(0,E.P)(t)&&this.chartRef&&r.prototype.renderChart.call(this,t,e)},t.render=function(){var e=this.props,t=e.className,a=e.title,n=e.data,e=e.loading;return w().createElement(E.Z,{className:"yt_price_chaos_bar_line_chart_wrapper "+t,data:n,loading:e,renderTitle:w().createElement(i.Z,{title:a,data:n,onMoreClick:this.handleOnMoreClick})},w().createElement(o.Z,{onChartReady:this.getChartRef,theme:"yunting_multi_color",option:{},style:{height:"100%"}}))},e}(function(r){function e(){for(var t,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(t=r.call.apply(r,[this].concat(a))||this).dimensions=void 0,t.source=void 0,t.chartRef=void 0,t.getChartRef=function(e){t.chartRef=e},t}l()(e,r);var t=e.prototype;return t.setValue=function(e){this.dimensions=["日期","破价商品数","仍未恢复商品数","破价率"],this.source=e.map(function(e){return[e.date,parseInt(e.breakCount),parseInt(e.unReplaceCount),parseFloat(e.breakRate)]})},t.renderChart=function(e,t){this.setValue(e),this.chartRef.clear(),this.chartRef.setOption(this.getOption(t))},t.getOption=function(e){return{title:{text:e},dataset:{dimensions:this.dimensions,source:this.source},legend:{left:20,top:50,itemWidth:10,itemHeight:10,textStyle:{lineHeight:12},data:[{name:"破价商品数",icon:s.W4.square},{name:"仍未恢复商品数",icon:s.W4.square},{name:"破价率",icon:s.W4.lineRing}]},tooltip:{trigger:"axis",formatter:function(e){var t=e[0],a=t.data,t=t.dimensionNames;return[(0,s.Zi)(a[0]),e[0].marker+" "+t[1]+"："+a[1],""+e[1].marker+t[2]+"："+a[2],""+e[2].marker+t[3]+"："+(100*a[3]).toFixed(2)+"%"].join("</br>")}},grid:{top:110,bottom:42,left:48,right:48,containLabel:!0},dataZoom:{show:"slider",bottom:16,xAxisIndex:0,height:16,handleSize:"100%",showDetail:!1},xAxis:{type:"category"},yAxis:[{type:"value",name:"数量",splitNumber:3,nameTextStyle:{color:"#262626"}},{type:"value",name:"比例",splitNumber:3,nameTextStyle:{color:"#262626"},axisLabel:{formatter:function(e){return(100*e).toFixed(2)+"%"}}}],series:[{type:"bar",barMaxWidth:24},{type:"bar",barGap:"2%",barMaxWidth:24},{type:"line",yAxisIndex:1}]}},e}(w().PureComponent));const N=n;n.propTypes={title:t().string,className:t().string,data:t().any,loading:t().bool};a(75314);var b=a(11187),S=a(92360),R=a(61918),P=a(71339),O=a(60496),I=a(43036),L=a(61409),n=a(30381),T=a.n(n),z=a(84849),Z=[{title:"全部",value:"ALL"},{title:"破价",value:"BREAK"},{title:"恢复破价",value:"BACK"}],n=function(e){function n(e,t){"title"===e?window.open(t.connectionUrl,"_blank"):"rule"===e?window.open("/priceChaos/editRule","_blank").ruleId=t.breakBackFilterId:"capture"===e?L.mW.push({pathname:"priceChaos/screenshot",state:t}):"log"===e&&L.mW.push({pathname:"priceChaos/pushLog",state:{pushId:t.breakBackFilterId}})}function t(){var e=document.getElementById("log_content");y(e.clientWidth)}var a=e.data,r=e.loading,l=e.pageSize,i=e.pageIndex,o=e.onPageChange,c=e.onPageSizeChange,s=e.onFilterChange,u=e.priceType,p=e.keyword,m=e.preferList,d=e.preferValue,h=e.save,f=e.submitPreferValue,g=w().useState(0),e=g[0],y=g[1],v=function(e){window.windowPool=[];var t=window.open("/price/realTimePrice/priceDetail");window.windowPool.push({window:t,parameter:{source:2,data:C()({},e,{userConnectionId:e.connectionId,title:e.connectionName,url:e.connectionUrl})}})};return w().useEffect(function(){return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}},[]),w().createElement(E.Z,{className:"yt_price_chaos_log_wrapper",data:{},loading:!1,renderTitle:w().createElement("span",null,w().createElement("span",{style:{fontWeight:"bold"}},"破价日志"),w().createElement(I.Z,{overlayClassName:"alert-log-tips",overlay:w().createElement(w().Fragment,null,w().createElement("p",null,"当系统监测到一个商品的价格低于某规则中设置的价格时就会生成一个日志，同时对页面用快照截图的方式完成取证。"),w().createElement("p",null,"注：破价提日和推送日志有区别，推送日志是依据规则设置的提醒间隔进行推送，用户收到的提醒会包含一段时间范围内汇总的破价日志或者破价恢复日志")),placement:"top"},w().createElement("i",{className:"icon-cem_file1",style:{marginLeft:4,color:"#979797"}})))},w().createElement("div",{className:"log_content",id:"log_content"},w().createElement("div",{style:{zIndex:1}},w().createElement("div",{className:"log_top_zone"},w().createElement(R.Z,{defValue:p,style:{width:186},placeholder:"请输入规则名称",onSearch:function(e){s&&s({keyword:e})}}),w().createElement(O.Z,{options:Z,onChange:s,objName:"priceType",preTitle:"价格",divider:"none",type:"button",activeObj:u,sufIcon:"icon-cem_pull-down-or-take-up"}),w().createElement("span",null,w().createElement(S.Button,{onClick:function(){window.open("/priceChaos/ruleList","_blank")}},"查看规则"),w().createElement(S.Button,{onClick:function(){window.open("/priceChaos/editRule","_blank")},type:"primary"},"创建规则"),w().createElement("i",{className:"icon-cem_collection-settings fun_icon",onClick:function(){(0,z.e)({value:d||{},list:m,onCancel:function(){}}).then(function(e){h({preferValue:e}),f({}).then(function(e){e.data&&2e4===e.data.code&&b.default.success("修改成功")})})},style:{marginRight:12}})))),w().createElement(P.Z,{data:a&&a.list instanceof Array?a.list:[],total:a?a.total:0,columns:function(e){e=e-200-32-5;return[{label:"商品标题",width:.35*e,render:function(e,t,a){return w().createElement("div",{className:"list_item control"},w().createElement(I.Z,{overlay:e.connectionName,overlayClassName:"alert-log-tips",placement:"top"},w().createElement("span",{onClick:function(){return n("title",e)}},e.connectionName)))}},{label:"类型",width:.1*e,render:function(e,t,a){return w().createElement("div",{className:"list_item"},w().createElement(I.Z,{overlay:w().createElement("span",{className:"to_history",onClick:function(){v(e)},style:{cursor:"pointer",color:"#0847a6"}},"查看历史价格"),overlayClassName:"alert-log-tips",placement:"top"},w().createElement("span",null,"BREAK"===e.breakBackType?"破价":"恢复破价")))}},{label:"提醒时间",width:.15*e,render:function(e,t,a){return w().createElement("div",{className:"list_item"},T()(e.createdAt).format("YYYY-MM-DD HH:mm:ss"))}},{label:"规则名称",width:.2*e,render:function(e,t,a){return w().createElement("div",{className:"list_item control"},w().createElement("span",{onClick:function(){return n("rule",e)}},e.priceCheckListName))}},{label:w().createElement("span",null,"处理人",w().createElement(I.Z,{overlayClassName:"alert-log-tips",overlay:"当一个提醒推给多个人处理时，只要有一个人点击“我会处理”按钮，则此乱价提醒即为已有人跟进处理了",placement:"top"},w().createElement("i",{className:"icon-cem_file1",style:{marginLeft:4}}))),width:.2*e,render:function(e,t,a){return w().createElement("div",{className:"list_item"},w().createElement("div",null,e.handlerEmail||w().createElement("span",{style:{color:"#8c8c8c"}},"- -")),w().createElement("div",null,e.handlerName||""))}},{label:"操作",width:200,render:function(e,t,a){return w().createElement("div",{className:"list_item control"},w().createElement("span",{onClick:function(){return n("capture",e)}},"截图取证"),w().createElement("span",{onClick:function(){return n("log",e)}},"查看推送日志"))}}]}(e),loading:!e||!a||r,pageSize:l,pageIndex:i,onPageChange:o,onPageSizeChange:c})))};const F=n;n.propTypes={data:t().any,loading:t().bool,pageSize:t().number,pageIndex:t().number,onPageChange:t().func,onPageSizeChange:t().func,onFilterChange:t().func,priceType:t().string,keyword:t().string};const p=function(e){var t=e.breakPriceData,a=e.replacePriceData,n=e.unReplacePriceData,r=e.fetchingPriceChaos,l=e.breakPriceRatedData,i=e.fetchingBreakPriceRate,o=e.breakPriceTrendData,c=e.fetchingBreakPriceTrendData,s=e.priceChaosLogData,u=e.fetchingPriceChaosLogData,p=e.pageIndex,m=e.pageSize,d=e.onPageChange,h=e.onPageSizeChange,f=e.priceType,g=e.keyword,y=e.onFilterReady,v=e.onFilterChange,C=e.preferList,E=e.preferValue,b=e.save,e=e.submitPreferValue;return w().createElement("div",{className:"yt_price_chaos_wrapper"},w().createElement(x.Z,{model:"BREAK_BACK_LIST",filterCondition:{filter:["CONN_CONFIG","SOURCE","TAG"]},showList:["condition","time","save"],onFilterReady:y,onChange:v}),w().createElement("section",{className:"content"},w().createElement("div",null,w().createElement(k,{key:"1",chartType:"bar",title:"今日破价商品数",titleOverlay:w().createElement("div",null,w().createElement("p",null,"「今日」是指筛选范围的endtime所在的“天”"),w().createElement("p",null,"「破价商品数」是指项目中今天发生过破价的商品数")),data:t,loading:r}),w().createElement(k,{key:"2",chartType:"bar",title:"今日破价恢复商品数",titleOverlay:w().createElement("div",null,w().createElement("p",null,"「破价商品数」是指项目中今天发生过破价的商品数"),w().createElement("p",null,"「仍未破价商品数」是指项目中今天发生过破价，但在各小时仍未恢复到破价线以上的商品数。"),w().createElement("p",null,"「破价率」破价商品数÷项目中商品数")),data:a,loading:r}),w().createElement(k,{key:"3",chartType:"line",title:"今日破价仍未恢复商品数",titleOverlay:w().createElement("div",null,w().createElement("p",null,"「今日」是指筛选范围的endtime所在的“天”"),w().createElement("p",null,"「仍未破价商品数」是指项目中今天发生过破价，但在各小时仍未恢复到破价线以上的商品数"),w().createElement("p",null,"「日同比」相对于今天而言，昨天的数值"),w().createElement("p",null,"「周同比」相对于今天而言，上周同天的数值")),data:n,loading:r}),w().createElement(_,{data:l,title:"今日商品破价率",titleOverlay:w().createElement("div",null,w().createElement("p",null,"「今日」是指筛选范围的endtime所在的“天”"),w().createElement("p",null,"「破价率」破价商品数÷项目中商品数"),w().createElement("p",null,"「日同比」相对于今天而言，昨天的数值"),w().createElement("p",null,"「周同比」相对于今天而言，上周同天的数值")),loading:i})),w().createElement(N,{data:o,loading:c,title:"破价走势"}),w().createElement(F,{submitPreferValue:e,save:b,preferList:C,preferValue:E,data:s,loading:u,pageIndex:p,pageSize:m,onFilterChange:v,onPageChange:d,onPageSizeChange:h,keyword:g,priceType:f})))};var t=a(55609),m=a(35239),d=a(64396).Z.price.chaos,a=function(e){function t(){var t=e.call(this)||this;return t._handleOnFilterReady=function(e){t.props.fetchDatas(C()({projectId:m.t.get(m.V.curProject).id},e))},t._handleOnFilterChange=function(e){e.filterModel?t.props.fetchDatas(e):(e.priceType||e.hasOwnProperty("keyword"))&&t.props.fetchChaosLogList(C()({},e,{pageIndex:1}))},t._handleOnPgeChange=function(e){t.props.fetchChaosLogList({pageIndex:e})},t._handleOnPageSizeChange=function(e){t.props.fetchChaosLogList({pageIndex:1,pageSize:e})},t.state={},t.event={onFilterReady:t._handleOnFilterReady,onFilterChange:t._handleOnFilterChange,onPageChange:t._handleOnPgeChange,onPageSizeChange:t._handleOnPageSizeChange},t}l()(t,e);var a=t.prototype;return a.componentDidMount=function(){},a.render=function(){return w().createElement(p,C()({},this.props,this.state,this.event))},t}(w().PureComponent);const h=(0,t.connect)(function(e){var t=e.loading,e=r()(e,["loading"]);return C()({},e[d],{fetchingPriceChaos:t.effects[d+"/fetchPriceChaos"]||!1,fetchingBreakPriceTrendData:t.effects[d+"/fetchChaosTrend"]||!1,fetchingPriceChaosLogData:t.effects[d+"/fetchChaosLogList"]||!1,fetchingBreakPriceRate:t.effects[d+"/fetchPriceChaosRate"]||!1})},function(t){return{fetchDatas:function(e){return t({type:d+"/fetchDatas",payload:e})},fetchChaosLogList:function(e){return t({type:d+"/fetchChaosLogList",payload:e})},save:function(e){return t({type:d+"/save",payload:e})},submitPreferValue:function(e){return t({type:d+"/submitPreferValue",payload:e})}}})(a)},84849:(e,t,a)=>{"use strict";a.d(t,{e:()=>function(r){return new Promise(function(e,t){var a=r.value||{},n=c()({},r,{titleText:"偏好设置",content:s().createElement(l,c()({},r,{getValue:function(e){a=e}})),top:"50%"});n.onOk=function(){return e(a)},n.onCancel=t,(0,i.Z)(n)})}});var n=a(67154),c=a.n(n),t=a(67294),s=a.n(t),n=a(45697),t=a.n(n),n=a(2258),u=a.n(n),p=a(92360),m=a(43036),d=[{value:"YES",label:"统一推送"},{value:"NO",label:"逐一推送"}],h=[{value:30,label:"每30分钟"},{value:60,label:"每1小时"},{value:180,label:"每3小时"}],f=[{value:"WORK",label:"工作时间"},{value:"ALL",label:"全天候"}],n=function(e){var t=e.value,a=e.list,n=e.getValue,r=s().useState(t),l=r[0],i=r[1];s().useEffect(function(){n(l)},[l]);var o=l.remindRepetition,e=l.unify,t=l.warningInterval,r=l.workType;return s().createElement("div",{className:"yt_modal_warning_rule_wrapper"},s().createElement("div",{className:"section"},s().createElement("span",null,"是否统一推送"," ",s().createElement(m.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:s().createElement("div",{style:{width:"142px"}},"「统一推送」是指将触发预警的规则统一推送给推送成员。",s().createElement("br",null),"「逐一推送」是指将触发预警的规则单个逐一推送给推送成员")},s().createElement("i",{className:"icon-cem_file1"}))),s().createElement("span",null,s().createElement(u(),{className:"content_item_select",value:e,onChange:function(e){return i(c()({},l,{unify:e}))},inputIcon:s().createElement("i",{className:"icon-cem_arrow-launches",style:{color:"#8C8C8C"}}),optionLabelProp:"label"},d.map(function(e){return s().createElement(u().Option,{value:e.value,key:e.value,label:e.label},e.label)})))),s().createElement("div",{className:"section time"},s().createElement("span",null,"预警间隔"),s().createElement("span",null,s().createElement(u(),{className:"content_item_select",value:t,onChange:function(e){return i(c()({},l,{warningInterval:e}))},inputIcon:s().createElement("i",{className:"icon-cem_arrow-launches",style:{color:"#8C8C8C"}}),optionLabelProp:"label"},h.map(function(e){return s().createElement(u().Option,{value:e.value,key:e.value,label:e.label},e.label)})),s().createElement("span",null,"更新数据计算"))),a.map(function(a){return s().createElement("div",{className:"section",key:a.id},s().createElement("span",null,a.title," ",s().createElement(m.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:s().createElement("div",null,s().createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{color:"#0847a6",cursor:"pointer"},href:"tableTitle"===a.id?"https://www.yuque.com/docs/share/43c35680-898f-45ac-b713-b9194950d7da?#《移动端价格表格展示设置》":"https://www.yuque.com/docs/share/9da3cbc0-c4fa-41da-8f94-99fc27cf928e?#《关于「提醒详情页」字段的说明》"},"了解更多"))},s().createElement("i",{className:"icon-cem_file1"}))),s().createElement("span",null,s().createElement(u(),{className:"content_item_select",value:l[a.id],onChange:function(e){var t;i(c()({},l,((t={})[a.id]=e,t)))},inputIcon:s().createElement("i",{className:"icon-cem_arrow-launches",style:{color:"#8C8C8C"}}),multiple:"detailTitle"!==a.id,tags:!1,optionLabelProp:"label"},(a.config||[]).map(function(e){return{label:e.name,value:e.id}}).map(function(e){return s().createElement(u().Option,{value:e.value,key:e.value,label:e.label},e.label)}))))}),s().createElement("div",{className:"section"},s().createElement("span",null,"提醒时间"," ",s().createElement(m.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:s().createElement("div",null,"「工作时间」是指只会在周一至周五的早上8：00~晚上10：00给用户推送预警提醒。在免打扰期间触发的预警会在早上8：00的时候集中推送给用户",s().createElement("br",null),"「全天候」是指微信用户7天 x 24小时都会在微信收到触发的预警提醒")},s().createElement("i",{className:"icon-cem_file1"}))),s().createElement("span",null,s().createElement(u(),{className:"content_item_select",value:r,onChange:function(e){return i(c()({},l,{workType:e}))},inputIcon:s().createElement("i",{className:"icon-cem_arrow-launches",style:{color:"#8C8C8C"}}),optionLabelProp:"label"},f.map(function(e){return s().createElement(u().Option,{value:e.value,key:e.value,label:e.label},e.label)})))),s().createElement("div",{className:"section repeat"},s().createElement("span",null,"重复提醒"),s().createElement("span",null,s().createElement(p.Checkbox,{checked:"NO"===o,onChange:function(e){i(c()({},l,{remindRepetition:e?"NO":"YES"}))}},"单个规则触发预警后当天不再重复推送"))))};const l=n;n.propTypes={value:t().object,getValue:t().func};var i=a(57522)},25022:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var t=a(67294),s=a.n(t),u=a(92360),p=a(35303),t=a(45697),t=a.n(t),m=[{label:"10项/页",value:10},{label:"20项/页",value:20},{label:"40项/页",value:40},{label:"100项/页",value:100}];const n=function(e){var t=e.onPageChange,a=e.onSizeChange,n=e.total,r=void 0===n?0:n,l=e.pageIndex,i=e.pageSize,o=e.layout,c=e.className,n=e.currLength,e=0===r?0:(l-1)*i+1,n=0===r?0:n?e+n-1:e+i-1;return 0===r?null:s().createElement("div",{className:"yt-awp-pagination "+(c||"")},s().createElement("span",{className:"total_num"},s().createElement("span",null,e+" - "+n+" "),"项，共",s().createElement("span",null," "+r+" "),"项"),s().createElement("div",{style:{textAlign:"right",float:"right"},className:"new_pagination"},s().createElement(u.Pagination,{small:!0,pageSize:i,currentPage:l,pageCount:Math.ceil(r/i),layout:0===r?"":"prev, pager, next",onCurrentChange:t}),void 0===o||o.includes("sizes")?s().createElement(p.RS,{multiple:!1,tags:!1,showSearch:!1,optionFilterProp:"label",optionLabelProp:"label",animation:"slide-up",dropdownClassName:"custom-pagination-dropdown",value:i||10,onChange:a},m.map(function(e,t){return s().createElement(p.Wx,{key:t,label:e.label,value:e.value},e.label)})):null))};t().propTypes={onPageChange:t().func,onSizeChange:t().func,total:t().number,pageIndex:t().number,pageSize:t().number,layout:t().string,className:t().string}},71339:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var t=a(67294),p=a.n(t),m=a(92360),d=a(25022),t=a(45697),a=a.n(t),t=function(e){var t=e.data,a=e.total,n=void 0===a?0:a,r=e.loading,l=e.pageIndex,i=e.columns,o=e.pageSize,c=e.onPageChange,a=e.onPageSizeChange,s=e.onSortChange,u=e.defaultSort,e=e.className,e=void 0===e?"":e;return p().useEffect(function(){var e=document.getElementsByClassName("is-sortable")[0];u&&e&&e.classList.add(u.order)},[u]),p().createElement("div",{className:"yt-awp-content-list "+e},p().createElement(m.Loading,{loading:r,className:"awp-content-loading"},p().createElement(m.Table,{defaultSort:u,columns:i,style:{width:"100%"},data:t,onSortChange:function(e){return s(e)}})),c&&p().createElement(d.Z,{onPageChange:c,onSizeChange:a,total:n,currLength:t.length,pageIndex:l,pageSize:o}))};t.propTypes={data:a().array,total:a().number,loading:a().bool,pageIndex:a().number,columns:a().array,pageSize:a().number,onPageChange:a().func,onPageSizeChange:a().func,onSortChange:a().func,defaultSort:a().any,className:a().string};const n=t},61918:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var t=a(67294),u=a.n(t),t=a(45697),a=a.n(t),t=function(e){var t=e.className,a=e.onClear,n=e.onSearch,r=e.placeholder,l=e.style,i=e.defValue,o=e.signal,e=u().useState(i),c=e[0],s=e[1];u().useEffect(function(){s(i)},[i,o]);return u().createElement("div",{style:l,className:"yt_search_input_wrapper "+(t||"")},u().createElement("input",{placeholder:r,value:c,onKeyDown:function(e){13===e.keyCode&&n(c)},onChange:function(e){return s(e.target.value)},autoComplete:"off"}),c&&u().createElement("i",{className:"icon-cem_log-off",onClick:function(){s(""),a&&a("")}}),u().createElement("i",{className:"icon-cem_small-search",onClick:function(){return n(c)}}))};t.propTypes={className:a().string,onSearch:a().func.isRequired,placeholder:a().string,style:a().object,defValue:a().string,signal:a().any,onClear:a().func};const n=t}}]);
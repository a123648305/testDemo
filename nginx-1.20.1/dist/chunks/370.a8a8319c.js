"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[370],{60370:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(63366),i=n(87462),o=n(94578),r=n(67294),c=n(35239),s=n(55609),l=n(55815),u=n(2271),p=n(8201),d=n(92360),f=n(61918),m=n(43036);const h=function(e){var t=e.data,n=e.detailList,a=e.onChooseSpu,i=e.onChooseSku,o=e.keywordSku,c=e.keywordSpu;return r.createElement("div",{className:"project_connection_maintainList_edit_left_wrap"},r.createElement("div",{className:"top"},r.createElement(m.Z,{overlay:r.createElement("div",{style:{maxWidth:260},onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},onMouseUp:function(){o&&document.querySelector(".project_connection_maintainList_edit_left_wrap")&&document.querySelector(".project_connection_maintainList_edit_left_wrap").click(),o&&i(""),a(window.getSelection().toString().trim())}},t.name),placement:"top"},r.createElement("div",{className:"title",onClick:function(){return window.open(""+t.url)}},t.name)),r.createElement("div",{className:"content_item"},n&&n.map((function(e,t){return r.createElement("div",{className:"product",key:e.id},r.createElement("span",null,e.topicName),r.createElement("div",{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},r.createElement("span",{onMouseUp:function(){c&&document.querySelector(".project_connection_maintainList_edit_left_wrap")&&document.querySelector(".project_connection_maintainList_edit_left_wrap").click(),c&&a(""),i(window.getSelection().toString().trim())},className:"checked"},e.topicValueName)))})))))};var g=n(35303),v=n(17190);const k=function(e){function t(t){var n;return(n=e.call(this,t)||this).getValue=function(){var e=n.state,t=e.spu,a=e.sku,i=e.spuName,o=e.skuName,r=e.topicList,c=[];return r.forEach((function(e){n.state["value"+e.id]&&c.push({id:e.id,name:n.state["id"+e.id]})})),{spuGroupId:t,skuGroupId:a,spuGroupName:i,skuGroupName:o,customizeConfig:c}},n._handleOnSelectChange=function(e,t,a){var i;if(e&&e.length){var o,r=e[e.length-1];if(n.state["topicValue"+t].find((function(e){return e.value===r})))n.setState(((o={})["value"+a.id]=[r],o["id"+a.id]=n.state["topicValue"+t].find((function(e){return e.value===r})).id,o));else n.props.fetchAddTopicValue({value:r,topicId:a.id}).then((function(e){var t;2e4===e.code&&n.setState(((t={})["value"+a.id]=[r],t["id"+a.id]=e.result,t))}))}!e.length&&n.setState(((i={})["value"+a.id]=void 0,i["id"+a.id]=void 0,i))},n.state={spu:t.data.spuId,spuName:null,sku:t.data.skuId,skuName:null,spuTip:t.spuTip,skuTip:t.skuTip,topicList:t.topicList,oddMaxLeng:0,evenMaxLeng:0},n}(0,o.Z)(t,e);var n=t.prototype;return n.setTopicList=function(e,t,n,a){var i=this;this.setState({topicList:[].concat(t.spuTitle.map((function(e,t){return{id:e,name:e,values:n&&i.props.spuList.find((function(e){return e.id===n}))?JSON.parse(i.props.spuList.find((function(e){return e.id===n})).config)[e]:""}})),t.skuTitle.map((function(e,t){return{id:e,name:e,values:a&&i.props.skuList.find((function(e){return e.id===a}))?JSON.parse(i.props.skuList.find((function(e){return e.id===a})).config)[e]:""}})),e)})},n.componentDidMount=function(){var e=this;this.props.data.spuName===this.state.spuName&&this.props.data.skuName===this.state.skuName||this.setState({spu:this.props.data.spuId,spuName:this.props.data.spuName,sku:this.props.data.skuId,skuName:this.props.data.skuName},(function(){e.setTopicList(e.props.topicList,e.props.data,e.props.data.spuId,e.props.data.skuId),setTimeout((function(){if(e.state.topicList){var t=e.state.topicList.filter((function(e,t){return t%2===0})).map((function(e){return e.name.length})),n=e.state.topicList.filter((function(e,t){return t%2!==0})).map((function(e){return e.name.length}));e.setState({oddMaxLeng:Math.max.apply(Math,t)>6?6:Math.max.apply(Math,t),evenMaxLeng:Math.max.apply(Math,n)>6?6:Math.max.apply(Math,n)})}}),0)})),this.props.topicOpts&&this.props.topicOpts.forEach((function(t,n){var a;e.props.topicList.find((function(e){return e.name===t.name}))&&(e.props.topicList.find((function(e){return e.name===t.name})).values&&e.setState(((a={})["value"+t.id]=[e.props.topicList.find((function(e){return e.name===t.name})).values],a["id"+t.id]=e.props.topicList.find((function(e){return e.name===t.name})).valuesId,a)))}))},n.componentDidUpdate=function(e,t){var n=this,a=e.data,i=e.spuTip,o=e.skuTip,r=this.props,c=r.data,s=r.topicList,l=r.spuTip,u=r.skuTip,p=r.topicOpts,d=t.spuName,f=t.skuName,m=(t.spu,t.sku,this.state),h=m.spuName,g=m.skuName,v=m.spu,k=m.sku;JSON.stringify(i)!==JSON.stringify(l)?this.setState({spuTip:l.substring(0,8)}):JSON.stringify(o)!==JSON.stringify(u)&&this.setState({skuTip:u.substring(0,8)}),JSON.stringify(d)===JSON.stringify(h)&&JSON.stringify(f)===JSON.stringify(g)||this.setTopicList([],c,v,k),JSON.stringify(a)!==JSON.stringify(c)&&this.setState({spu:c.spuId,spuName:c.spuName,sku:c.skuId,skuName:c.skuName,spuTip:"",skuTip:""},(function(){n.props.topicOpts&&n.props.topicOpts.forEach((function(e,t){var a,i;n.props.topicList.find((function(t){return t.name===e.name}))&&(n.props.topicList.find((function(t){return t.name===e.name})).values?n.setState(((a={})["value"+e.id]=[n.props.topicList.find((function(t){return t.name===e.name})).values],a["id"+e.id]=n.props.topicList.find((function(t){return t.name===e.name})).valuesId,a)):n.setState(((i={})["value"+e.id]=void 0,i["id"+e.id]=void 0,i)))})),n.setTopicList(s,c,v,k)})),p&&p.forEach((function(a,i){var o;n.props["topicValue"+i]&&JSON.stringify(e["topicValue"+i]!==JSON.stringify(n.props["topicValue"+i]))&&n.setState(((o={})["topicValue"+i]=n.props["topicValue"+i],o));JSON.stringify(t["value"+a.id])===JSON.stringify(n.state["value"+a.id])&&JSON.stringify(d)===JSON.stringify(h)&&JSON.stringify(f)===JSON.stringify(g)||n.setTopicList(p.map((function(e){return{id:e.id,name:e.name,values:e.id===a.id&&n.state["value"+a.id]&&n.state["value"+e.id]?n.state["value"+a.id][0]:n.state["value"+e.id]?n.state["value"+e.id][0]:""}})),c,v,k)}))},n.render=function(){var e=this,t=this.props,n=t.spuList,a=t.skuList,i=t.topicOpts,o=t.onFocus,c=t.keywordSpu,s=t.spuShow,l=t.keywordSku,u=t.skuShow,p=this.state,d=p.spu,f=p.spuName,m=p.sku,h=p.spuTip,k=p.skuTip,y=p.topicList,S=p.oddMaxLeng,E=p.evenMaxLeng;return r.createElement("div",{className:"project_connection_maintainList_edit_right_wrap"},r.createElement("div",{className:"top"},r.createElement("div",{className:"spu_sku_base"},r.createElement("span",null,"SPU\u8bcd\u6761"),r.createElement("div",null,n&&r.createElement(v.Z,{show:s,onChange:function(t){e.setState({spu:t.id,spuName:t.name,spuSplit:t.split})},trigger:"click",data:n,value:d,onTipClick:function(){h&&e.setState({spuTip:""}),o()},addText:"\u521b\u5efaSPU\u8bcd\u6761",onAddClick:function(){window.open("/account/project/base?drawerVisible=true")},className:h?"content-error":"",keyword:c}),h&&r.createElement("span",{className:"content-error-hint"},h))),r.createElement("div",{className:"spu_sku_base"},r.createElement("span",null,"SKU\u8bcd\u6761"),r.createElement("div",null,a&&r.createElement(v.Z,{show:u,onChange:function(t){e.setState({sku:t.id,skuName:t.name,skuSplit:t.split})},trigger:"click",data:d?a.filter((function(e){return e.parentId===d})):a,value:m,onTipClick:function(){k&&e.setState({skuTip:""}),o()},addText:"\u521b\u5efaSKU\u8bcd\u6761",disabled:!d,onAddClick:function(){window.open("/account/project/base/sku?spuId="+d+"&spuName="+f+"&drawerVisible=true")},className:k?"content-error":"",keyword:l}),k&&r.createElement("span",{className:"content-error-hint"},k)))),r.createElement("div",{className:"middle"},r.createElement("div",{className:"title"},r.createElement("h4",null,"\u81ea\u5b9a\u4e49\u4e3b\u9898"),r.createElement("i",{className:"icon-cem_collection-settings",onClick:function(){window.open("/product/config/topic?open=true")}})),r.createElement("div",{className:"topic_content"},i&&i.map((function(t,n){return r.createElement("div",{className:"item",key:t.id},r.createElement("span",{className:"ellipsis"},t.name),r.createElement(g.RS,{tags:!0,multiple:!1,onChange:function(a){e._handleOnSelectChange(a,n,t)},value:e.state["value"+t.id],optionLabelProp:"label",optionFilterProp:"label",placeholder:"\u8bf7\u9009\u62e9\u6216\u8005\u8f93\u5165",dropdownClassName:"project_connection_maintainList_edit_topic_opts"},e.state["topicValue"+n]&&e.state["topicValue"+n].map((function(e){return r.createElement(g.Wx,{key:e.id,value:e.value,label:e.value},e.value)}))))})))),r.createElement("div",{className:"bottom"},r.createElement("h4",null,"\u4e3b\u9898\u503c\u603b\u89c8"),r.createElement("div",null,r.createElement("div",{className:"topicValue_content"},y&&y.map((function(e,t){return r.createElement("span",{key:e.id},r.createElement("span",{className:"name",style:{width:t%2===0?12*S+16+"px":12*E+16+"px"}},e.name),r.createElement("span",{className:"value",style:{width:t%2===0?190-12*S-16-32+"px":190-12*E-16-32+"px"}},e.values))}))))))},t}(r.PureComponent);var y=n(5133),S=n(64396),E=S.Z.project.connection.maintainList,_={visible:!1,id:"",nextId:"",nextData:void 0,topicList:[],isNext:!0,data:{spuName:"",skuName:"",dataId:""},detailList:[],spuTip:"",skuTip:"",keywordSpu:"",spuShow:!1,keywordSku:"",skuShow:!1,keyword:""},N=function(e){function t(t){var n;return(n=e.call(this,t)||this).show=function(e){var t=e.id,a=e.nextId,i=e.nextData,o=e.topicList,r=e.data,c=e.detailList,s=e.keyword;n.setState({visible:!0,id:t,nextId:a,nextData:i,topicList:o,data:r,detailList:c,keyword:s})},n._handleOnCancel=function(){n.setState({visible:!1})},n._handleOnAddIgnore=function(e){var t=n.state,a=(t.id,t.isNext),o=t.nextId,r=t.data,s=t.keyword,l=n.props,u=(l.dataList,l.isEdit),p=l.topicOpts;if("add"===e){if(!n.contentRef.getValue().spuGroupId)return void n.setState({spuTip:"\u8bf7\u9009\u62e9SPU\u8bcd\u6761"+(new Date).getTime()});if(!n.contentRef.getValue().skuGroupId)return void n.setState({skuTip:"\u8bf7\u9009\u62e9SKU\u8bcd\u6761"+(new Date).getTime()});n.props.fetchAdd((0,i.Z)({id:r.id},n.contentRef.getValue())).then((function(t){if(2e4===t.data.code){y.Z.success("\u64cd\u4f5c\u6210\u529f");var r=n.contentRef.getValue().spuGroupId,l=n.contentRef.getValue().spuGroupName;if(c.t.setWidthProject(c.V.connectionLinkMaintainList,t.data.result,"session"),n.props.save({isEdit:!u}),a)if(o){n.setState({id:o});var d=s?t.data.result.filter((function(e){return e.name.trim().toLocaleLowerCase().includes(s.trim().toLocaleLowerCase())})):t.data.result,f=d.findIndex((function(e){return e.id===o}));d.length&&n.setState({data:(0,i.Z)({},d.find((function(e){return e.id===o})),{spuId:"add"===e&&!d.find((function(e){return e.id===o})).spuId&&r?r:d.find((function(e){return e.id===o})).spuId,spuName:"add"===e&&!d.find((function(e){return e.id===o})).spuId&&r?l:d.find((function(e){return e.id===o})).spuName}),topicList:[{id:"\u5e73\u53f0",name:"\u5e73\u53f0",values:d.find((function(e){return e.id===o})).sourceName}].concat(p.map((function(e){return{id:e.id,name:e.name,values:d[f+1].config&&d[f+1].config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).length&&d[f+1].config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).find((function(t){return t.topicName===e.name}))?d[f+1].config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).find((function(t){return t.topicName===e.name})).topicValueName:"",valuesId:d[f+1].config&&d[f+1].config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).length&&d[f+1].config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).find((function(t){return t.topicName===e.name}))?d[f+1].config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).find((function(t){return t.topicName===e.name})).topicValueIds[0]:void 0}}))),detailList:f!==d.length-1?d[f+1].config:[],nextId:f!==d.length-1?d[f+1].id:""})}else y.Z.error("\u5f53\u524d\u5df2\u662f\u6700\u540e\u4e00\u4e2a\u5546\u54c1"),n._handleOnCancel();else n._handleOnCancel()}}))}},n._handleOnNextChange=function(e){n.setState({isNext:e})},n._handleOnChooseSpu=function(e){var t=n.state,a=t.spuShow;t.skuShow;n.setState({keywordSpu:e,spuShow:!a,skuShow:!1})},n._handleOnChooseSku=function(e){var t=n.state,a=t.skuShow;t.spuShow;n.setState({keywordSku:e,skuShow:!a,spuShow:!1})},n.state=(0,i.Z)({},Object.assign({},_)),n}return(0,o.Z)(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.visible,a=t.isNext,o=t.topicList,c=t.data,s=t.detailList,l=t.spuTip,u=t.skuTip,p=t.keywordSpu,f=t.spuShow,m=t.keywordSku,g=t.skuShow,v=this.props,y=v.spuList,S=v.skuList;return n?r.createElement(d.Dialog,{className:"yt_product_setting_link_edit_dialog_wrapper",title:"\u5546\u54c1\u94fe\u63a5\u4e3b\u9898\u7ef4\u62a4",size:"tiny",visible:n,onCancel:this._handleOnCancel,lockScroll:!0},r.createElement(d.Dialog.Body,null,r.createElement("div",{style:{display:"flex"}},r.createElement(h,{data:c,detailList:s,onChooseSpu:function(t){return e._handleOnChooseSpu(t)},onChooseSku:function(t){return e._handleOnChooseSku(t)},keywordSku:m,keywordSpu:p}),r.createElement(k,(0,i.Z)({ref:function(t){return e.contentRef=t}},this.props,{data:c,spuList:y,skuList:S,topicList:o,spuTip:l,skuTip:u,keywordSpu:p,spuShow:f,keywordSku:m,skuShow:g})))),r.createElement(d.Dialog.Footer,null,r.createElement(d.Checkbox,{checked:a,onChange:this._handleOnNextChange},"\u4e0b\u4e00\u5546\u54c1"),r.createElement(d.Button,{type:"primary",onClick:function(){return e._handleOnAddIgnore("add")}},"\u6dfb\u52a0"))):null},t}(r.PureComponent);const C=(0,s.connect)((function(e){var t=(0,i.Z)({},e),n=t[E],a=n.skuList,o=n.spuList,r=n.dataList,c=n.list,s=n.topicOpts,l=n.details,u=n.isEdit;return(0,i.Z)({},t[E],{skuList:a,spuList:o,dataList:r,list:c,topicOpts:s,details:l,isEdit:u})}),(function(e){return{fetchLinkList:function(){return e({type:E+"/fetchLinkList"})},fetchAdd:function(t){return e({type:E+"/fetchAdd",payload:t})},fetchAddTopicValue:function(t){return e({type:E+"/fetchAddTopicValue",payload:t})},save:function(t){return e({type:E+"/save",payload:t})}}}),null,{withRef:!0})(N);const w=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleOnEdit=function(e){var t=n.props.data,a=n.state.keyword,i=(t=a?t.filter((function(e){return e.name.trim().toLocaleLowerCase().includes(a.trim().toLocaleLowerCase())})):t).findIndex((function(t){return t.id===e.id}));n.props.fetchTopicOpts().then((function(o){o.forEach((function(e,t){n.props.fetchTopicValue({topicId:e.id,projectId:c.t.get(c.V.curProject).id}).then((function(e){var a;2e4===e.data.code&&n.props.save(((a={})["topicValue"+t]=e.data.result.result,a))}))})),n.editModalRef.wrappedInstance.show({id:e.id,nextId:i!==t.length-1?t[i+1].id:"",data:e,topicList:[{id:"\u5e73\u53f0",name:"\u5e73\u53f0",values:e.sourceName}].concat(o.map((function(t){return{id:t.id,name:t.name,values:e.config&&e.config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).length&&e.config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).find((function(e){return e.topicName===t.name}))?e.config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).find((function(e){return e.topicName===t.name})).topicValueName:"",valuesId:e.config&&e.config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).length&&e.config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).find((function(e){return e.topicName===t.name}))?e.config.filter((function(e){return"USER_CUSTOMIZE"===e.topicType})).find((function(e){return e.topicName===t.name})).topicValueIds[0]:void 0}}))),detailList:e.config,keyword:a})}))},n._handleOnPageChange=function(e){var t=n.state.pageSize;n.setState({pageIndex:e,dataList:n.props.data.slice((e-1)*t,e*t)})},n._handleOnPageSizeChange=function(e){n.setState({pageIndex:1,pageSize:e,dataList:n.props.data.slice(0,e)})},n.state={oriData:"",columns:[],dataList:[],prefixColumns:[{fixed:"left",label:"",width:16}],keyword:"",pageIndex:1,pageSize:10},n.columns=[{label:"\u94fe\u63a5",prop:"name",width:210,fixed:"",checked:!0},{label:"\u64cd\u4f5c",prop:"control",width:120,fixed:"",checked:!0}],n.columnRenders={name:function(e){return r.createElement(m.Z,{overlay:r.createElement("div",{style:{maxWidth:210}},e.name),placement:"top"},r.createElement("div",{className:"title",onClick:function(){window.open(""+e.url)}},e.name))},control:function(e){return r.createElement("div",{className:"control"},r.createElement("span",{onClick:function(){return n._handleOnEdit(e)}},"\u7ef4\u62a4"),r.createElement("span",{onClick:function(){n.props.onDeleteVisible(e)}},"\u5220\u9664"))}},n}return(0,o.Z)(t,e),t.getDerivedStateFromProps=function(e,t){if((0,p.P)(e.data)&&JSON.stringify(t.oriData)!==JSON.stringify(e.data)){var n=[{label:"\u94fe\u63a5",prop:"name",width:180,fixed:"",checked:!0},{label:"\u64cd\u4f5c",prop:"control",width:120,fixed:"right",checked:!0}];return e.data&&e.data.forEach((function(e,t){if(e.config){if(0===t){var a=[];e.config.forEach((function(e){!a.some((function(t){return t.label===e.topicName}))&&a.push({label:e.topicName,prop:e.topicName,width:58,fixed:"",checked:!0})})),n.splice.apply(n,[1,0].concat(a))}e&&e.config.forEach((function(t){e[t.topicName]=r.createElement("span",{title:t.topicValueName},t.topicValueName)}))}})),{columns:n,dataList:e.data.slice((t.pageIndex-1)*t.pageSize,t.pageIndex*t.pageSize)}}return null},t.prototype.render=function(){var e=this,t=this.props,n=t.noticeShow,a=t.onCancel,o=t.onDelete,c=t.data,s=t.deleteVisible,l=(t.searchTitleWord,t.total,t.onFocus),p=(t.onSearch,this.state),m=p.prefixColumns,h=p.columns,g=p.pageIndex,v=p.pageSize,k=p.dataList,y=p.keyword;return r.createElement(r.Fragment,null,r.createElement("div",{className:"operate_zone",style:{top:n?72:16}}),r.createElement("div",{className:"top_zone"},r.createElement(f.Z,{onSearch:function(t){e.setState({pageIndex:1,keyword:t})},onClear:function(t){e.setState({pageIndex:1,keyword:t})},placeholder:"\u641c\u7d22\u94fe\u63a5",defValue:y,style:{width:198}})),r.createElement(u.Z,(0,i.Z)({},this.props,{data:k.length>0&&y?k.filter((function(e){return e.name.trim().toLocaleLowerCase().includes(y.trim().toLocaleLowerCase())})):k,prefixColumns:m,columns:h,columnRenders:this.columnRenders,headerRenders:this.headerRenders,savedKey:"project_connection_maintainList",rowKeyProp:"id",onPageChange:this._handleOnPageChange,onPageSizeChange:this._handleOnPageSizeChange,pageIndex:g,pageSize:v,total:c?c.length:0})),r.createElement(d.Dialog,{className:"yt_project_connection_maintainList_delete_dialog_wrapper",size:"tiny",visible:s,title:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u94fe\u63a5\uff1f",closeOnClickModal:!1,onCancel:a},r.createElement(d.Dialog.Body,null,"\u5220\u9664\u540e\uff0c\u4e0d\u53ef\u518d\u627e\u56de\u3002"),r.createElement(d.Dialog.Footer,null,r.createElement(d.Button,{onClick:a},"\u53d6\u6d88"),r.createElement(d.Button,{type:"primary",onClick:o},"\u786e\u5b9a"))),r.createElement(C,{ref:function(t){return e.editModalRef=t},onFocus:l}))},t}(r.PureComponent);var L=n(46701);const O=function(e){var t=r.useState(!0),n=t[0],a=t[1],i=r.useState(!1),o=i[0],s=i[1],u=r.useState(""),d=u[0],f=u[1],m=r.useState(c.t.getWidthProject(c.V.connectionLinkMaintainList,"session")&&c.t.getWidthProject(c.V.connectionLinkMaintainList,"session").length?c.t.getWidthProject(c.V.connectionLinkMaintainList,"session"):[]),h=m[0],g=m[1],v=e.onDelete,k=e.fetchTopicOpts,y=e.fetchTopicValue,S=e.save,E=e.isEdit,_=e.onFocus,N=e.location;r.useEffect((function(){(0,p.P)(c.t.getWidthProject(c.V.connectionLinkMaintainList,"session"))&&g(c.t.getWidthProject(c.V.connectionLinkMaintainList,"session"))}),[E]);var C=N.pathname.split("/")[3];return r.createElement("div",{className:"project_maintain_list_wrapper"},r.createElement(l.Z,{title:(0,L.u)({title:"\u5f85\u7ef4\u62a4\u5546\u54c1\u94fe\u63a5",url:"/account/project/"+C+"/batchAdd"})}),r.createElement("div",{className:"content"},r.createElement("div",{className:"tableList_wrap"},r.createElement("div",{className:"notice_zone",style:{display:n?"block":"none"}},"\u5173\u95ed\u6d4f\u89c8\u5668\u5c31\u4f1a\u6e05\u7a7a\u5f53\u524d\u5217\u8868\uff0c\u5237\u65b0\u6216\u8005\u91cd\u65b0\u6253\u5f00\u4e0d\u4f1a\u6e05\u7a7a\u3002",r.createElement("i",{className:"icon-cem_cancel",onClick:function(){a(!n)}})),r.createElement(w,{className:"list_content_wrap",noticeShow:n,data:h&&h.length?h:[],deleteVisible:o,onCancel:function(){s(!1)},onDeleteVisible:function(e){f(e.id),s(!0)},onDelete:function(){v(d),s(!1)},onFocus:_,fetchTopicOpts:k,fetchTopicValue:y,save:S}))))};var b=["loading"],x=S.Z.project.connection.maintainList,T=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleOnFocus=function(){var e=n.props,t=e.spuList,a=e.skuList,i=c.t.get(c.V.newEntry)||{},o=i.spuName,r=i.skuName,s=i.spuId,l=i.skuId;(o&&!t.find((function(e){return o.includes(e.name.replaceAll(e.split,"").replaceAll("|",""))}))||r&&!a.find((function(e){return r.includes(e.name.replaceAll(e.split,"").replaceAll("|",""))}))||s&&!t.find((function(e){return String(e.id)===String(s)}))||l&&!a.find((function(e){return String(e.id)===String(l)})))&&n.props.fetchEntryOpts({projectId:c.t.get(c.V.curProject).id,id:1})},n._handleOnSearch=function(e){n.props.fetchLinkList({searchTitleWord:e,pageIndex:1})},n._handleOnDelete=function(e){n.props.fetchDelete({id:e})},n.state={data:[]},n.event={onSearch:n._handleOnSearch,onDelete:n._handleOnDelete,onPageChange:n._handleOnPageChange,onPageSizeChange:n._handleOnPageSizeChange,onFocus:n._handleOnFocus},n}(0,o.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.fetchEntryOpts({batchNo:this.props.location.state&&this.props.location.state.batchNo?this.props.location.state.batchNo:"",projectId:c.t.get(c.V.curProject).id})},n.componentWillUnmount=function(){},n.render=function(){return r.createElement(O,(0,i.Z)({},this.props,this.state,this.event))},t}(r.PureComponent);const I=(0,s.connect)((function(e){var t=e.loading,n=(0,a.Z)(e,b);return(0,i.Z)({},n[x],{loading:t.effects[x+"/fetchLinkList"]||!1})}),(function(e){return{fetchLinkList:function(t){return e({type:x+"/fetchLinkList",payload:t})},fetchDelete:function(t){return e({type:x+"/fetchDelete",payload:t})},fetchAdd:function(t){return e({type:x+"/fetchAdd",payload:t})},fetchTopicOpts:function(){return e({type:x+"/fetchTopicOpts"})},fetchTopicValue:function(t){return e({type:x+"/fetchTopicValue",payload:t})},fetchAddTopicValue:function(t){return e({type:x+"/fetchAddTopicValue",payload:t})},fetchEntryOpts:function(t){return e({type:x+"/fetchEntryOpts",payload:t})},fetchClear:function(t){return e({type:x+"/fetchClear",payload:t})},save:function(t){return e({type:x+"/save",payload:t})},clean:function(t){return e({type:x+"/clean",payload:t})}}}))(T)},46701:(e,t,n)=>{n.d(t,{u:()=>i});var a=n(35239),i=function(e){var t=e.title,n=e.url;return[{title:a.t.get(a.V.backProjectConfig).name,url:"/account/project/preview"},{title:"comment"===n.split("/")[3]?"\u7535\u5546\u8bc4\u8bba":"price"===n.split("/")[3]?"\u7535\u5546\u76d1\u63a7":"\u6570\u636e\u94fe\u63a5",url:"/account/project/"+n.split("/")[3]},{title:t,url:n}]}},17190:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(87462),i=n(94578),o=n(67294),r=void 0;const c=function(e){var t=e.data.name,n=e.onCheck,a=e.checked,i=o.useState(a),c=i[0],s=i[1];return o.useEffect((function(){s(a)}),[a]),o.createElement("label",{className:"el-checkbox yt_product_subscribe_editable-radio",onClick:function(e){r=setTimeout((function(){r&&clearTimeout(r);var e=!c;s(e),n(e)}),100)}},o.createElement("input",{value:t,className:"ec-label "+(c?"is_checked":""),title:t,maxLength:6,style:{background:"transparent"}}))};var s=n(92360),l=void 0;const u=function(e){var t=e.keyword,n=e.onCloseClick,a=e.onChange,i=o.useState(t),r=i[0],c=i[1];return o.useEffect((function(){c(t)}),[t]),o.createElement(s.Input,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",value:r,icon:r&&"close",onIconClick:function(){c(""),n()},onChange:function(e){c(e),l&&clearTimeout(l),l=setTimeout((function(){a(e),l=void 0}),500)}})};const p=function(e){var t=e.className,n=e.onTipClick,a=e.show,i=e.onClick,r=e.onMouseEnter,s=e.onMouseLeave,l=e.addText,p=e.data,d=e.value,f=e.trigger,m=e.defaultValue,h=e.onTagChange,g=e.getTagListRef,v=e.onAddClick,k=e.disabled,y=e.keyword,S=d&&p.find((function(e){return e.id===d}))?p.find((function(e){return e.id===d})).name:m&&p&&p.some((function(e){return e.id===m}))?p&&p.find((function(e){return e.id===m})).name:p&&p.length?"\u8bf7\u9009\u62e9":"\u8bf7\u6dfb\u52a0",E=o.useState(y||""),_=E[0],N=E[1],C=o.useState(p),w=C[0],L=C[1];return o.useEffect((function(){L(p)}),[p]),o.useEffect((function(){var e=_?p.filter((function(e){return e.name.toLowerCase().indexOf(_.toLowerCase())>=0})):p;L(e)}),[_,p]),o.useEffect((function(){y&&N(y)}),[y]),o.createElement("div",{className:"yt_product_setting_edit_input_select_wraper "+t,onClick:"click"===f&&n,onMouseEnter:"hover"===f&&n,onMouseLeave:function(){"hover"===f&&(s(),_&&N(""))}},o.createElement("div",null,o.createElement("div",{className:"ets-trigger",onClick:function(){"click"===f&&(i(),_&&N(""))},onMouseEnter:function(){"hover"===f&&!a&&r()}},o.createElement("span",{className:"ets-trigger-title",style:{color:d||!p||p.find((function(e){return e.id===d}))||m?"#262626":"#bfbfbf"}},S),o.createElement("i",{className:"icon-cem_pull-down-or-take-up",style:{transform:a?"rotate(-180deg)":""}})),o.createElement("div",{className:"ets-option-panel "+(a?"ets-show":""),onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},o.createElement("div",{className:"ets-list",ref:g},p&&p.length>0?o.createElement(o.Fragment,null,o.createElement("div",{style:{maxHeight:260}},o.createElement("div",{className:"ets-search"},o.createElement(u,{keyword:_,onChange:N,onCloseClick:function(){return N("")}})),o.createElement("div",{className:"ets-list-content"},w&&w.length>0?o.createElement(o.Fragment,null,w.slice(0,100).map((function(e){return o.createElement(c,{key:e.id,data:e,checked:d===e.id,onCheck:function(){return e.id?h({id:e.id,name:e.name,split:e.split}):h({name:e.name,split:e.split})}})})),w.length>99&&o.createElement("div",{style:{color:"#d96969",paddingLeft:"18px",fontSize:"12px"}},"\u2014 \u67e5\u770b\u66f4\u591a\u8bf7\u641c\u7d22")):o.createElement("div",{className:"no_data"},"\u6682\u65e0\u6570\u636e")))):o.createElement("div",{className:"no_data"},"\u6682\u65e0\u6570\u636e")),o.createElement("div",{className:"ets-add"},o.createElement("div",{className:"ets-add-diviver"}),o.createElement("div",{className:"add_btn "+(k?"add_disabled_btn":""),onClick:function(){k||(v(),_&&N(""),"click"===f?i():r())}},l)))))};const d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleOnTagChange=function(e){n.props.onChange(e),n._setPadShowFalse()},n._setPadShowFalse=function(){n.state.show&&n.setState({show:!1})},n._setPadShowTrue=function(){!n.state.show&&n.setState({show:!0})},n._handleOnMouseEnter=function(){var e=n.state.show;setTimeout((function(){n.setState({show:!e})}),0)},n._handleOnClick=function(e){var t=n.state.show;setTimeout((function(){n.setState({show:!t})}),0)},n.tagListRef=void 0,n.state={show:!1},n.event={onClick:n._handleOnClick,onMouseEnter:n._handleOnMouseEnter,onMouseLeave:n._setPadShowFalse,onTagChange:n._handleOnTagChange,getTagListRef:function(e){return n.tagListRef=e}},n}(0,i.Z)(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){e.show!==this.props.show&&this._setPadShowTrue()},n.componentDidMount=function(){window.addEventListener("click",this._setPadShowFalse)},n.componentWillUnmount=function(){window.addEventListener("click",this._setPadShowFalse)},n.render=function(){return o.createElement(p,(0,a.Z)({},this.props,this.state,this.event))},t}(o.PureComponent)},55815:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(94578),i=n(67294),o=n(45697),r=n.n(o),c=n(43036),s=n(61409),l=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this)._handleBreadcrumbClick=function(e){var n=t.props,a=n.title,i=n.beforeJump;e!==a.length-1&&(i?new Promise((function(e,t){return i(e,t)})).then((function(){s.mW.push({pathname:a[e].url,state:a[e].state})})):s.mW.push({pathname:a[e].url,state:a[e].state}))},t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,a=t.mainTitle,o=t.rightContent,r=t.className,s=t.overlay;return i.createElement("div",{className:"breadcumb-wrapper "+r},n instanceof Array?i.createElement("div",{className:"breadcrumb-left"},i.createElement("div",null,n.map((function(t,a){return i.createElement("span",{className:t.url?"":"not_clickable",key:a,onClick:function(){return t.url&&a!==n.length-1&&e._handleBreadcrumbClick(a)}},t.title,a!==n.length-1&&" / ")}))),i.createElement("span",null,a||n[n.length-1].title,s&&i.createElement(c.Z,{placement:"top",overlay:s},i.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c",marginLeft:8}})))):i.createElement("div",{className:"normal-title"},n,s&&i.createElement(c.Z,{placement:"top",overlay:s},i.createElement("i",{className:"icon-cem_file1",style:{color:"#8c8c8c",marginLeft:8}}))),o||"")},t}(i.Component);l.propTypes={className:r().string,title:r().oneOfType([r().string,r().arrayOf(r().shape({title:r().string,url:r().string,state:r().object}))]).isRequired,overlay:r().oneOfType([r().string,r().node]),mainTitle:r().oneOfType([r().string,r().node]),beforeJump:r().func,rightContent:r().node};const u=l},61918:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(67294),i=n(45697),o=n.n(i),r=function(e){var t=e.className,n=e.onClear,i=e.onSearch,o=e.placeholder,r=e.style,c=e.defValue,s=e.signal,l=a.useState(c),u=l[0],p=l[1];a.useEffect((function(){p(c)}),[c,s]);return a.createElement("div",{style:r,className:"yt_search_input_wrapper "+(t||"")},a.createElement("input",{placeholder:o,value:u,onKeyDown:function(e){13===e.keyCode&&i(u)},onChange:function(e){return p(e.target.value)},autoComplete:"off"}),u&&a.createElement("i",{className:"icon-cem_log-off",onClick:function(){p(""),n&&n("")}}),a.createElement("i",{className:"icon-cem_small-search",onClick:function(){return i(u)}}))};r.propTypes={className:o().string,onSearch:o().func.isRequired,placeholder:o().string,style:o().object,defValue:o().string,signal:o().any,onClear:o().func};const c=r},2271:(e,t,n)=>{n.d(t,{Z:()=>V});var a=n(63366),i=n(87462),o=n(43144),r=n(94578),c=n(23279),s=n.n(c),l=n(67294),u=n(92360),p=n(35303),d=n(45697),f=n.n(d),m=[{label:"10\u9879/\u9875",value:10},{label:"20\u9879/\u9875",value:20},{label:"40\u9879/\u9875",value:40},{label:"100\u9879/\u9875",value:100}];const h=function(e){var t=e.onPageChange,n=e.onSizeChange,a=e.total,i=void 0===a?0:a,o=e.pageIndex,r=e.pageSize,c=e.currLength,s=e.layout,d=e.className,f=0===i?0:(o-1)*r+1,h=0===i?0:f+c-1;return 0===i?null:l.createElement("div",{className:"yt-awp-pagination "+(d||"")},l.createElement("span",{className:"total_num"},l.createElement("span",null,f+" - "+h+" "),"\u9879\uff0c\u5171",l.createElement("span",null," "+i+" "),"\u9879"),l.createElement("div",{style:{textAlign:"right",float:"right"},className:"new_pagination"},l.createElement(u.Pagination,{small:!0,pageSize:r,currentPage:o,pageCount:Math.ceil(i/r),layout:0===i?"":"prev, pager, next",onCurrentChange:t}),void 0===s||s.includes("sizes")?l.createElement(p.RS,{multiple:!1,tags:!1,showSearch:!1,optionFilterProp:"label",optionLabelProp:"label",animation:"slide-up",dropdownClassName:"custom-pagination-dropdown",value:r||10,onChange:n},m.map((function(e,t){return l.createElement(p.Wx,{key:t,label:e.label,value:e.value},e.label)}))):null))};f().propTypes={onPageChange:f().func,onSizeChange:f().func,total:f().number,pageIndex:f().number,pageSize:f().number,currLength:f().number,layout:f().string,className:f().string};var g=n(8201),v=n(15861),k=n(87757),y=n.n(k),S=n(49722);function E(){return(E=(0,v.Z)(y().mark((function e(t){var n,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.key,e.abrupt("return",S.h.post("/default/value/find",{projectId:n,key:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=(0,v.Z)(y().mark((function e(t){var n,a,i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,a=t.value,i=t.key,e.abrupt("return",S.h.post("/default/value/update",{projectId:n,key:i,value:a}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=n(39432),C=n(43036),w=n(51474),L=n(87219),O=function(e){function t(t){var n;return(n=e.call(this,t)||this)._setShowFalse=function(){n.setState({show:!1})},n._handleParentClick=function(e){n.state.show&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())},n._handleOnTriggerClick=function(){setTimeout((function(){n.setState({show:!n.state.show})}),0)},n._renderOptionItem=function(e,t,a,i,o,r){var c=n.state.maxLabelWidth,s=n.props,u=s.value,p=s.savedKey,d=u.find((function(t){return t.prop===e.prop}));return l.createElement("div",{className:"opt_item "+(t?"draggable":""),key:e.prop},t&&l.createElement("i",{className:"icon-cem_move my_handle"}),l.createElement("div",{className:"opt_content",style:{width:c,marginLeft:t?0:12}},l.createElement("div",{className:"item_label",onClick:function(t){t.stopPropagation(),n._handleOnItemClick(e.prop)}},l.createElement("span",{className:"icon_checkbox "+(d&&d.checked?"checkbox_checked":"")}),l.createElement("span",null,e.label)),l.createElement("div",{className:"item_control",style:{display:"product_setting_link"===p?"none":"block"}},l.createElement(C.Z,{placement:"top",overlay:a},l.createElement("span",{onClick:function(t){return i(t,e.prop)}},l.createElement("i",{className:(t?"icon-cem_up":"icon-cem_up-and-down")+" fun_icon_a"}))),l.createElement(C.Z,{placement:"top",overlay:o},l.createElement("span",{onClick:function(t){return r(t,e.prop)},style:{marginLeft:4}},l.createElement("i",{className:"icon-cem_down fun_icon_b"}))))))},n._handleOnItemClick=function(e){var t=n.props,a=t.value,i=t.onChange;i&&i((0,L.ZP)(a,(function(t){var n=t.find((function(t){return t.prop===e}));n&&(n.checked=!n.checked)})))},n._handleOnFilxedLeftClick=function(e,t){e.stopPropagation(),n._handleOnFixedChange(t,"left")},n._handleOnCancelFixedClick=function(e,t){e.stopPropagation(),n._handleOnFixedChange(t,"")},n._handleOnFixedRightClick=function(e,t){e.stopPropagation(),n._handleOnFixedChange(t,"right")},n._handleOnFixedChange=function(e,t){var a=n.props,i=a.value,o=a.onChange;o&&o((0,L.ZP)(i,(function(n){var a=n.find((function(t){return t.prop===e}));a&&(a.fixed=t)})))},n.state={show:!1,value:[],leftOpts:[],normalOpts:[],rightOpts:[],maxLabelWidth:t.value.reduce((function(e,t){return Math.max((0,N.jD)(t.label,14)+56+16+16,e)}),0)},n}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){if(JSON.stringify(e.value)!==JSON.stringify(t.value)){var n=e.value.reduce((function(t,n){var a=1;return"left"===n.fixed&&(a=0),"right"===n.fixed&&(a=2),t[a].push(e.value.find((function(e){return e.prop===n.prop}))),t}),[[],[],[]]),a=n[0],i=n[1],o=n[2];return{value:e.value,leftOpts:a,normalOpts:i,rightOpts:o,maxLabelWidth:e.value.reduce((function(e,t){return Math.max((0,N.jD)(t.label,14)+56+16+16,e)}),0)}}return null};var n=t.prototype;return n.componentDidMount=function(){var e=this;window.addEventListener("click",this._setShowFalse);var t=document.querySelectorAll("#draggable_zone");t.length&&t.forEach((function(t){w.default.create(t,{group:"draggable_zone",animation:150,filter:".undraggable",draggable:".draggable",handle:".my_handle",onEnd:function(t){var n=e.props,a=n.value,i=n.onChange,o=t.newIndex,r=t.oldIndex;if(o!==r){var c=a.filter((function(e){return"left"===e.fixed})),s=a.filter((function(e){return"right"===e.fixed})),l=(0,L.ZP)(a.filter((function(e){return!e.fixed})),(function(e){var t=e.splice(r,1)[0];e.splice(o,0,t)}));i&&i([].concat(c,l,s))}}})}))},n.componentWillUnmount=function(){window.removeEventListener("click",this._setShowFalse)},n.render=function(){var e=this,t=this.state,n=t.show,a=t.leftOpts,i=t.normalOpts,o=t.rightOpts,r=this.props,c=r.className,s=r.title;return l.createElement("div",{className:"yt_columns_selector_wrapper "+(c||""),onClick:this._handleParentClick},l.createElement("div",{className:"trigger "+(n?"sel":""),onClick:this._handleOnTriggerClick},s||"\u5217",l.createElement("i",{className:"icon-cem_arrow-launches",style:{transform:n?"rotate(-180deg)":""}})),l.createElement("div",{className:"options "+(n?"active":"")},a.length>0&&l.createElement(l.Fragment,null,l.createElement("div",{className:"opt_label"},"\u56fa\u5b9a\u5728\u5de6\u4fa7"),a.map((function(t){return e._renderOptionItem(t,!1,"\u4e0d\u56fa\u5b9a",e._handleOnCancelFixedClick,"\u56fa\u5b9a\u5728\u5217\u5c3e",e._handleOnFixedRightClick)}))),(a.length>0||o.length>0)&&l.createElement("div",{className:"opt_label"},"\u4e0d\u56fa\u5b9a"),l.createElement("div",{id:"draggable_zone",style:{visibility:i.length>0}},i.map((function(t){return e._renderOptionItem(t,!0,"\u56fa\u5b9a\u5728\u5217\u5934",e._handleOnFilxedLeftClick,"\u56fa\u5b9a\u5728\u5217\u5c3e",e._handleOnFixedRightClick)}))),o.length>0&&l.createElement(l.Fragment,null,l.createElement("div",{className:"opt_label"},"\u56fa\u5b9a\u5728\u53f3\u4fa7"),o.map((function(t){return e._renderOptionItem(t,!1,"\u4e0d\u56fa\u5b9a",e._handleOnCancelFixedClick,"\u56fa\u5b9a\u5728\u5217\u5934",e._handleOnFilxedLeftClick)})))))},t}(l.PureComponent);const b=O;O.propTypes={className:f().string,title:f().string,value:f().arrayOf(f().shape({label:f().string,prop:f().string,fixed:f().string,checked:f().bool})),onChange:f().func};var x,T,I=n(35239),P=["data","total","loading","savedKey","pageIndex","pageSize","onPageChange","onPageSizeChange","className"],Z=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handleOnResize=function(){var e=document.querySelector(".yt-listview-wrapper");e&&n.setState({tableWidth:e.clientWidth-5})},n._handleOnColumnsChange=function(e){n.setState({columns:e},(function(){n.props.savedKey&&function(e){return _.apply(this,arguments)}({projectId:I.t.get(I.V.curProject).id,key:n.props.savedKey,value:JSON.stringify(e.map((function(e){return{prop:e.prop,checked:e.checked,fixed:e.fixed}})))}).then((function(e){e.data}))}))},n.handleRoKey=function(e){var t=n.props.rowKeyProp;return t&&e&&e[t]?e[t]:JSON.stringify(e)},n.state={talbeWidth:0,columns:t.columns||[],loadingSave:!0},n}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){};var n=t.prototype;return n.componentDidMount=function(){var e=this;window.addEventListener("resize",s()(this._handleOnResize,150)),this._handleOnResize();var t=this.props,n=t.savedKey,a=t.columns;n&&function(e){return E.apply(this,arguments)}({projectId:I.t.get(I.V.curProject).id,key:n}).then((function(t){var n,o=t.data;if(2e4===o.code)try{n=a.map((function(e,t){var n=JSON.parse(o.result).filter((function(t){var n=t.prop;return e.prop===n}));return n&&n.length>0?(0,i.Z)({},e,n[0]):e})).filter((function(e){return e}))}catch(r){}finally{e.setState({columns:n||e.state.columns,loadingSave:!1})}}))},n.componentWillUnmount=function(){window.removeEventListener("resize",this._handleOnResize)},n.componentDidUpdate=function(e,t){var n=this;JSON.stringify(e.columns)!==JSON.stringify(this.props.columns)&&this.props.columns.length>0&&this.setState({columns:this.props.columns.reduce((function(e,t,a){var o=n.state.columns.findIndex((function(e){var n=e.prop;return t.prop===n}));return e.splice(o>-1?o:a,0,(0,i.Z)({},t,n.state.columns[o])),e}),[]).filter((function(e){return e}))})},n.render=function(){var e=this.props,t=e.data,n=e.total,o=void 0===n?0:n,r=e.loading,c=e.savedKey,s=e.pageIndex,p=e.pageSize,d=e.onPageChange,f=e.onPageSizeChange,m=e.className,v=void 0===m?"":m,k=(0,a.Z)(e,P),y=this.state,S=y.columns,E=y.loadingSave;return l.createElement(g.Z,{data:t,className:"yt-listview-wrapper "+v,loading:c&&E||r},(0,g.P)(t)&&l.createElement(l.Fragment,null,l.createElement(u.Table,(0,i.Z)({},k,{columns:c?this.columns:this.props.columns,data:t,rowKey:this.handleRoKey})),d&&l.createElement(h,{onPageChange:d,onSizeChange:f,total:o,currLength:t.length,pageIndex:s,pageSize:p}),c&&l.createElement(b,{className:"column_selector",value:S,savedKey:c,onChange:this._handleOnColumnsChange})))},(0,o.Z)(t,[{key:"columns",get:function(){var e=this.state,t=e.tableWidth,n=e.columns,a=this.props,i=a.columnRenders,o=void 0===i?{}:i,r=a.headerRenders,c=void 0===r?{}:r,s=a.prefixColumns,l=0,u=0,p=0,d=[].concat(void 0===s?[]:s,JSON.parse(JSON.stringify(n.filter((function(e){var t=e.checked;return void 0===t||t})))));if(d.forEach((function(e){p+=e.width,e.fixed?l+=e.width:u+=e.width;var t=o[e.prop];t&&(e.render=t);var n=c[e.prop];n&&(e.renderHeader=n)})),t>p){var f=t-l;d.forEach((function(e){void 0!==e.checked&&!e.checked||e.fixed||(e.width=e.width/u*f)}))}return d}}]),t}(l.PureComponent);Z.propTypes={className:f().string,savedKey:f().string.isRequired,rowKeyProp:f().string,data:f().any.isRequired,total:f().number,fixedHeight:f().bool,loading:f().bool,pageIndex:f().number,pageSize:f().number,onPageChange:f().func,onPageSizeChange:f().func,columnRenders:f().shape((x={},x[f().string]=f().func,x)),headerRenders:f().shape((T={},T[f().string]=f().func,T)),prefixColumns:f().arrayOf(f().shape({label:f().string,prop:f().string,fixed:f().oneOf(["","left","right"]),width:f().number,checked:f().bool})),columns:f().arrayOf(f().shape({label:f().string,prop:f().string,fixed:f().oneOf(["","left","right"]),width:f().number,checked:f().bool})).isRequired};const V=Z}}]);
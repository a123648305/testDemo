"use strict";(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[2250],{72250:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(97326),i=n(94578),c=n(67294),r=n(61193),o=n(5133),s=n(29383),l=n(49722),u=n(88308),m=n(12518),d=n(61409),p={USER:{name:"\u6210\u5458",des:"\u53ef\u5728\u7ec4\u7ec7\u67b6\u6784\u4e2d\u6dfb\u52a0\u548c\u7ba1\u7406\u6210\u5458\u3002",img:n(51114),route:"/account/organization",authority:"COMPANY_ORGANIZATION"},PROJECT:{name:"\u9879\u76ee",des:"\u53ef\u67e5\u770b\u9879\u76ee\u5217\u8868\u53ca\u5404\u9879\u76ee\u8d85\u7ea7\u7ba1\u7406\u5458\u3002",img:n(93545),route:"/account/projectManager",authority:"PROJECT_SETTING_DETAIL"},CONNECTION:{name:"\u94fe\u63a5",des:"\u6dfb\u52a0\u548c\u7ba1\u7406\u94fe\u63a5\uff0c\u7ed9\u94fe\u63a5\u914d\u7f6e\u6269\u5c55\u4fe1\u606f\u8d4b\u503c\uff0c\u79fb\u52a8\u590d\u5236\u94fe\u63a5\u7b49\u3002",img:n(30253),route:""},MESSAGE_ROUTE:{name:"\u6d88\u606f\u5904\u7406\u89c4\u5219",des:"\u901a\u8fc7\u6d88\u606f\u5904\u7406\u89c4\u5219\u53ef\u4ee5\u5c06\u6d88\u606f\u5206\u914d\u7ed9\u7528\u6237\u5904\u7406\u3002",img:n(54941),route:"/account/project/messageRule",authority:"MESSAGE_RULE"}},h=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={accountName:"",expirationTime:"2019-07-31",columns:[{label:"\u540d\u79f0",prop:"name",className:"name",width:298,render:function(e,n,i){var o,s,l,u=p[e.content];null==(o=p[e.content])||o.authority;var m=r.Z.hasAuthority(null==(s=p[e.content])?void 0:s.authority)||!(null!=(l=p[e.content])&&l.authority);return u&&c.createElement("div",{className:"account-col",onClick:m&&t.changeRoute.bind((0,a.Z)(t),u.route)},c.createElement("div",{className:"account-icon"},u.img?c.createElement("img",{src:u.img,alt:""}):c.createElement("span",null)),c.createElement("span",{className:u.route&&m?"account-name":"account-name-no-url"},u.name||e.content))}},{label:"\u4f7f\u7528\u91cf",prop:"usageAmount",width:324,render:function(e,t,n){return e.used+"/"+e.topLimit}},{label:"\u63cf\u8ff0",prop:"describe",render:function(e,t,n){var a=p[e.content];return a&&a.des}}],data:[]},t.getList=function(e){l.h.get("/account/basic_info/list",{}).then((function(e){var n=e.data.result,a=n.resource,i=n.name,c=n.expireTime;a.splice(6,1),t.setState({expireTime:c,accountName:i,data:a})}))},t.changeRoute=function(e){e&&d.mW.push(e)},t}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.getList()},n.closeInput=function(e){var t=this;l.h.post("/account/account_name/update",{newName:e}).then((function(n){o.Z.success("\u4fee\u6539\u6210\u529f"),t.setState({accountName:e})}))},n.render=function(){var e=this,t=this.state,n=t.accountName,a=t.expireTime,i=t.columns,r=t.data,o=document.documentElement.clientHeight-46-48-24;return c.createElement("div",{className:"common-wrapper"},c.createElement(m.Z,{title:"\u6743\u76ca\u6982\u89c8"}),c.createElement("div",{className:"common-padding-12"},c.createElement("div",{className:"account-container",style:{minHeight:o,backgroundColor:"#fff"}},c.createElement("ul",{className:"info-list"},c.createElement("li",{className:"info-item"},c.createElement("span",{className:"info-name"},"\u4f01\u4e1a\u540d\u79f0"),c.createElement(u.Z,{className:"info-value",id:"editName",value:n,name:"\u8d26\u6237\u540d\u79f0",confirm:function(t){return e.closeInput(t)}})),c.createElement("li",{className:"info-item"},c.createElement("span",{className:"info-name"},"\u7cfb\u7edf\u4f7f\u7528\u622a\u6b62\u65f6\u95f4"),c.createElement("span",{className:"info-value",style:{paddingLeft:"10px"}},a))),c.createElement(s.Z,{columns:i,data:r.filter((function(e){return"TEAM"!==e.content}))}))))},t}(c.Component)},88308:(e,t,n)=>{n.d(t,{Z:()=>h});var a=n(94578),i=n(67294),c=n(45697),r=n.n(c),o=n(5133),s=n(43036),l=n(94184),u=n.n(l),m={value:r().string,id:r().any.isRequired,enter:r().bool,blurFun:r().func,name:r().string,empty:r().bool,placeholder:r().string,type:r().string,confirmNoChange:r().func},d={value:"",enter:!0,name:"\u540d\u79f0",empty:!1,placeholder:"",cancel:function(e,t){},confirm:function(e,t){},type:"normal"},p=function(e){function t(t){var n;(n=e.call(this,t)||this).enter=function(e){n.props.enter&&13===e.keyCode&&n.confirmEdit()};var a=n.props.value;return n.state={isEdit:!1,curValue:a||"",lastVal:a||"",hover:!1,canEdit:!1},n}(0,a.Z)(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=this;e.value!==this.state.lastVal&&e.value&&this.setState({curValue:e.value,lastVal:e.value}),!0!==e.canEdit||this.state.canEdit||this.setState({canEdit:!0},(function(e){t.toEdit()}))},n.componentDidMount=function(){var e=this;document.body.addEventListener("click",(function(t){var n=t.target||window.event.srcElement,a=e.props.className,i="edit-input-wrap";a&&(i=a.split(" ")[0]);(function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&!n.call(e,t);)e=e.parentElement;return e})(n,"."+i)||e.cancelEdit()}))},n.changeName=function(){var e=this.props.id,t=document.getElementById(e).value;this.setState({curValue:t})},n.toEdit=function(){var e=this.state,t=e.isEdit,n=(e.canEdit,this.props.id);t||this.setState({isEdit:!0,hover:!0},(function(e){var t=document.getElementById(n);setTimeout((function(){t.focus()}))}))},n.checkEdit=function(){"normal"===this.props.type&&this.toEdit()},n.cancelEdit=function(){var e=this.state,t=e.curValue,n=e.lastVal,a=e.isEdit,i=e.canEdit,c=this.props.cancel;a&&(i&&this.setState({canEdit:!1}),this.setState({isEdit:!1,hover:!1,curValue:n},(function(e){c&&c(t,n)})))},n.borderShow=function(){var e=this.state.hover;"normal"!==this.props.type||e||this.setState({hover:!0})},n.borderHide=function(){var e=this.state,t=e.hover,n=e.isEdit;"normal"===this.props.type&&t&&!n&&this.setState({hover:!1})},n.confirmEdit=function(){var e=this.state,t=e.curValue,n=e.lastVal,a=e.canEdit,i=this.props,c=i.confirm,r=i.id,s=i.name,l=i.empty,u=i.confirmNoChange,m=i.inputType,d=document.getElementById(r);""!==String(t).replace(/\s/g,"")||l||"remark"===m?(""===String(t).replace(/\s/g,"")&&l||"remark"==m?(this.setState({isEdit:!1,hover:!1,lastVal:t},(function(e){d.blur()})),c&&c(t,n)):n===t?this.setState({isEdit:!1,hover:!1},(function(e){d.blur()})):(this.setState({isEdit:!1,hover:!1,lastVal:t},(function(e){d.blur()})),c&&c(t,n)),a&&(u&&u(t),this.setState({canEdit:!1}))):(o.Z.warning(s+"\u4e0d\u80fd\u4e3a\u7a7a"),this.setState({curValue:n},(function(e){d.focus()})))},n.render=function(){var e=this.props,t=e.id,n=e.style,a=e.className,c=e.placeholder,r=this.state,o=r.isEdit,l=r.curValue,m=r.hover,d=u()(["edit-input-wrap",a]),p=u()(["edit-input-cont",{hover:m,"is-edit":o}]),h=u()(["edit-input",{disabled:!o}]);return i.createElement("div",{className:d,style:n},i.createElement("div",{className:p,onMouseEnter:this.borderShow.bind(this),onMouseLeave:this.borderHide.bind(this),onClick:this.checkEdit.bind(this)},i.createElement("input",{id:t,className:h,type:"text",value:l,title:l,placeholder:c,style:n,disabled:!o,onInput:this.changeName.bind(this),onKeyDown:this.enter.bind(this)}),m&&!o&&i.createElement(s.Z,{placement:"top",overlay:"\u7f16\u8f91"},i.createElement("div",{className:"btn-wrap",title:"\u7f16\u8f91"},i.createElement("i",{className:"name-edit edit-btn icon-cem_edit"}))),m&&o&&i.createElement("div",{className:"btn-wrap"},i.createElement(s.Z,{placement:"top",overlay:"\u53d6\u6d88"},i.createElement("i",{className:"cancel-edit edit-btn icon-cem_delete",onClick:this.cancelEdit.bind(this),title:"\u53d6\u6d88"})),i.createElement(s.Z,{placement:"top",overlay:"\u786e\u8ba4"},i.createElement("i",{className:"confirm-edit edit-btn icon-cem_check-out",onClick:this.confirmEdit.bind(this),title:"\u786e\u8ba4"})))))},t}(i.Component);p.propTypes=m,p.defaultProps=d;const h=p},12518:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(94578),i=n(67294),c=n(45697),r=n.n(c),o=n(61409),s=n(92360),l=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this)._handleBreadcrumbClick=function(e){var n=t.props.title;e!==n.length-1&&o.mW.go(e-n.length+1)},t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,a=t.rightContent;return i.createElement("div",{className:"secondary-header"},n instanceof Array?i.createElement(s.Breadcrumb,{className:"breadcrumb-style",separator:""},n.map((function(t,n){return i.createElement(s.Breadcrumb.Item,{key:n},i.createElement("span",{onClick:function(){return e._handleBreadcrumbClick(n)}},t))}))):i.createElement("div",{className:"normal-title"},n),a&&a)},t}(i.Component);l.propTypes={title:r().oneOfType([r().string,r().array]).isRequired,rightContent:r().node};const u=l},30253:(e,t,n)=>{e.exports=n.p+"img/f5303eef2aea31881f28.png"},93545:(e,t,n)=>{e.exports=n.p+"img/c63711c2d83318752918.png"},54941:(e,t,n)=>{e.exports=n.p+"img/e76e4f0c6afdd8cf70a1.png"},51114:(e,t,n)=>{e.exports=n.p+"img/cb3e2f586c434e84da41.png"}}]);
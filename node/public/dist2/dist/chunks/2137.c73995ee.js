(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[2137],{54792:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var n=a(67154),i=a.n(n),r=a(81506),o=a.n(r),l=a(85354),s=a.n(l),t=a(67294),v=a.n(t),g=a(92360),c=a(38603),n=a(37316),u=a.n(n),E=a(39432),r=function(r){function e(){for(var a,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(a=r.call.apply(r,[this].concat(t))||this).chartRef=void 0,a.source=void 0,a.state={tableTitles:[],tableData:[]},a.getChartRef=function(e){return a.chartRef=e},a.setValue=function(e){a.source=e.reduce(function(e,t){return e.push([t.optionName,t.answeredQuestion,t.answeredQuestionProportion]),e},[["选项","答题数量","占比"]]),a.setState({tableTitles:a.source[0],tableData:a.source.slice(1)})},a.getOption=function(e,t){return{title:{text:e},dataset:[{source:a.source}],grid:{left:36,right:40,top:110,containLabel:!0},tooltip:{trigger:"item",formatter:function(e){var t=e.marker,a=e.percent,n=e.data,e=n.value;return t+" "+n.name+"："+(0,E.hE)(e)+"（"+a+"%）"}},series:[{type:"pie",hoverOffset:0,center:["48%","50%"],radius:155,label:{formatter:function(e){var t=e.data,e=t.value;return["{a|"+t.name+"}","{b|"+(0,E.hE)(e)+"}"].join("\n")},rich:{a:{color:"#000000"},b:{color:"#8C8C8C",lineHeight:14,verticalAlign:"bottom"}}},labelLine:{smooth:!0,length:13,lineStyle:{color:"#BFBFBF"}},data:a.source.slice(1).map(function(e,t){t=t<=20;return{value:e[1],name:e[0],label:{show:t},labelLine:{show:t},emphasis:{label:{show:t},labelLine:{show:t}}}})}]}},a}return s()(e,r),e.prototype.renderChart=function(e,t,a){this.setValue(e),this.chartRef.clear(),this.chartRef.setOption(this.getOption(t,a))},e}(v().PureComponent),C=a(8201),I=a(98191),p=a(50976),l=a(45697),t=a.n(l),S=a(43036),b=a(25022),n=function(e){var t=e.option,a=void 0===t?{}:t,n=e.number,r=e.titles,o=e.data,i=e.type,l=e.className,s=void 0===l?"":l,c=e.chartType,u=(e.pageIndex,e.answeredQuestion),p=e.answeredQuestionProportion,d=e.questionId,m=e.fetchReasonChart,h=e.fetchUserInfoChart,t=v().useState(1),l=t[0],f=t[1],e=v().useState([]),t=e[0],y=e[1],g=[6,4,4];return v().useEffect(function(){y("chart"!==i?o:"NPS_SCORE"===c?o.slice(0,11):o.slice(0,10))},[o]),v().createElement("div",{className:"yt_research_answer_simple_talbe_wrapper "+s,style:{height:a.height||void 0}},v().createElement("div",{className:"top"},v().createElement("span",{className:"name"},"答题数量："),v().createElement("span",null,(0,E.hE)(u)),v().createElement("span",{className:"name pecName"},"答题率："),v().createElement("span",null,(100*p).toFixed(2)+"%",v().createElement(S.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:"答题率 = 答题数量 ÷ 提交答卷的客户数"},v().createElement("i",{className:"icon-cem_file1",style:{marginLeft:4,fontSize:14,color:"#979797"}})))),v().createElement("div",{className:"st_title"},r&&r.map(function(e,t){return v().createElement("span",{key:e,style:{flex:g[t]}},e)})),v().createElement("div",{className:"st_content"},t&&t.map(function(e,t){return v().createElement("div",{key:"row_"+t,className:"st_row"},e.map(function(e,t){var a=e;return"chart"===i&&(1===t?a=(0,E.hE)(e):2===t&&(a=(100*e).toFixed(2)+"%")),v().createElement("span",{key:"col_"+t,className:"st_col ellipisis",style:{flex:g[t]},dangerouslySetInnerHTML:{__html:a}})}))})),"chart"===i&&10<o.length||"chart"!==i&&10<u&&v().createElement(b.Z,{className:"st_bottom",currLength:t.length,total:"chart"===i?o.length:u,pageIndex:l,pageSize:10,onPageChange:function(e){f(e),"chart"!==i?"reason"===i?m({number:n,pageIndex:e,pageSize:10,questionId:d}):h({pageIndex:e,pageSize:10,questionId:d}):y(o.slice(10*(e-1),10*e))},layout:"prev, pager, next"}))};const N=n;n.propTypes={className:t().string,type:t().string,titles:t().array.isRequired,data:t().array.isRequired,option:t().shape({height:t().oneOfType([t().string,t().number])}),pageIndex:t().number,answeredQuestion:t().number,answeredQuestionProportion:t().number,onPageChange:t().func};var w=a(94644),l=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(n=r.call.apply(r,[this].concat(t))||this).handleOnMoreClick=function(e){var t=n.props,a=t.title,t=t.data;"image"===e&&n.chartRef?(0,w._v)(n.chartRef,a):"data"===e&&(0,C.P)(t)&&(0,w.aT)([n.source.map(function(e){return e.map(function(e){return e%1?(100*e).toFixed(2)+"%":e})})],a)},n}s()(e,r);var t=e.prototype;return t.componentDidMount=function(){this.renderChart()},t.componentDidUpdate=function(e,t){var a=e.data,e=this.props.data;(0,C.P)(e)&&JSON.stringify(a)!==JSON.stringify(e)&&this.renderChart(),!(0,C.P)(e)&&this.chartRef&&(this.chartRef=void 0)},t.renderChart=function(){var e=this.props,t=e.data,a=e.title,e=e.type;(0,C.P)(t)&&this.chartRef&&r.prototype.renderChart.call(this,t,a,e)},t.render=function(){var e=this.props,t=e.type,a=e.data,n=e.loading,r=e.title,o=e.answeredQuestion,i=e.answeredQuestionProportion,l=this.state,e=l.tableTitles,l=l.tableData;return v().createElement(C.Z,{className:"yt_research_answer_pie_table_chart",style:{height:"NPS_SCORE"===t?"588px":"SATISFACTION"===t?"435px":"562px"},data:a,loading:n,renderTitle:v().createElement(I.Z,{title:r,data:a,onMoreClick:this.handleOnMoreClick})},v().createElement("div",{className:"answer_content"},v().createElement(p.Z,{onChartReady:this.getChartRef,theme:"yunting_multi_color",className:"content_chart",option:{},style:{height:"100%"}}),(0,C.P)(a)&&v().createElement(N,{className:"content_table",type:"chart",chartType:t,answeredQuestion:o,answeredQuestionProportion:i,data:l,titles:e})))},e}(r);l.propTypes={data:t().any,title:t().string,loading:t().bool,answeredQuestion:t().number,answeredQuestionProportion:t().number};const d=l;var m=a(70715),n=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(n=r.call.apply(r,[this].concat(t))||this).handleOnMoreClick=function(e){var t=n.props,a=t.title,t=t.data;"image"===e&&n.chartRef?(0,w._v)(n.chartRef,a):"data"===e&&(0,C.P)(t)&&(0,w.aT)([n.source.map(function(e){return e.map(function(e){return e%1?(100*e).toFixed(2)+"%":e})})],a)},n}s()(e,r);var t=e.prototype;return t.componentDidMount=function(){this.renderChart()},t.componentDidUpdate=function(e,t){var a=e.data,e=this.props.data;(0,C.P)(e)&&JSON.stringify(a)!==JSON.stringify(e)&&this.renderChart(),!(0,C.P)(e)&&this.chartRef&&(this.chartRef=void 0)},t.renderChart=function(){var e=this.props,t=e.data,e=e.title;(0,C.P)(t)&&this.chartRef&&r.prototype.renderChart.call(this,t,e)},t.render=function(){var e=this.props,t=e.data,a=e.loading,n=e.title,r=e.answeredQuestion,o=e.answeredQuestionProportion,i=this.state,e=i.tableTitles,i=i.tableData;return v().createElement(C.Z,{className:"yt_research_answer_bar_table_chart",data:t,loading:a,renderTitle:v().createElement(I.Z,{title:n,data:t,onMoreClick:this.handleOnMoreClick})},v().createElement("div",{className:"answer_content"},v().createElement(p.Z,{onChartReady:this.getChartRef,theme:"yunting_multi_color",className:"content_chart",option:{},style:{height:"100%"}}),(0,C.P)(t)&&v().createElement(N,{className:"content_table",type:"chart",answeredQuestion:r,answeredQuestionProportion:o,data:i,titles:e})))},e}(function(r){function e(){for(var a,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(a=r.call.apply(r,[this].concat(t))||this).chartRef=void 0,a.source=void 0,a.optName=void 0,a.state={tableTitles:[],tableData:[]},a.getChartRef=function(e){return a.chartRef=e},a.setValue=function(e){a.optName=[],a.source=e.reduce(function(e,t){return a.optName.push(t.optionName),e.push([t.optionName,t.answeredQuestion,t.answeredQuestionProportion]),e},[["选项","答题数量","占比"]]),a.setState({tableTitles:a.source[0],tableData:a.source.slice(1)})},a.getOption=function(e){var t=.8*a.chartRef.getWidth()/(63*a.optName.length);return{title:{text:e},dataset:[{source:a.source}],grid:{left:36,right:50,top:100,bottom:t<1?50:16,containLabel:!0},dataZoom:[{show:t<1,left:36,bottom:16,height:16,handleSize:"100%",showDetail:!1}],tooltip:{trigger:"axis",enterable:!0,hideDelay:500,formatter:function(e){var t=e[0],a=t.marker,e=t.data,t=e.value;return a+" "+e.name+"："+(0,E.hE)(t)}},xAxis:{type:"category",boundaryGap:[0,.01],data:a.optName,axisLabel:{formatter:function(e){return 7<e.length?e.substring(0,7)+"...":e}},axisTick:{show:!0,alignWithLabel:!0}},yAxis:{type:"value",minInterval:1,nameTextStyle:{color:"#262626"},axisLabel:{formatter:function(e){return(0,E.hE)(e)}}},series:[{type:"bar",data:a.source.slice(1).map(function(e,t){return{value:e[1],name:e[0],itemStyle:{color:m.Fq[t]}}}),barMaxWidth:24}]}},a}return s()(e,r),e.prototype.renderChart=function(e,t){this.setValue(e),this.chartRef.clear(),this.chartRef.setOption(this.getOption(t))},e}(v().PureComponent));n.propTypes={data:t().any,title:t().string,loading:t().bool,answeredQuestion:t().number,answeredQuestionProportion:t().number};const h=n;var _=a(36144),r=function(r){var e=r.number,t=r.data,a=r.loading,n=r.title,o=r.tableTitles,i=r.answeredQuestion,l=r.answeredQuestionProportion,s=r.fetchReasonChart,c=r.fetchUserInfoChart,u=r.questionnaireId,p=r.questionId,d=r.chartType,m=r.dateFilter,h=r.filterModel,f=r.projectId,y=v().useState([]),g=y[0],E=y[1];v().useEffect(function(){(0,C.P)(t)&&E(t)},[t]);return v().createElement(C.Z,{className:"yt_research_answer_table_list_chart",data:t,loading:a,renderTitle:v().createElement("span",{className:"research_table_list_header"},v().createElement("span",{style:{fontWeight:"bold"}},n),v().createElement(I.Z,{data:t,onMoreClick:function(e){var t=r.title,a=r.data,n=r.chartType;"data"===e&&(0,C.P)(a)&&("USER_INFO"===n?_.h.post("/questionnaire/chart/find/COMBINATION_INFO_CHART",{questionId:p,questionnaireId:u,dateFilter:m,filterModel:h,projectId:f}).then(function(e){e=e.data;2e4===e.code&&e.result.infoList&&(0,w.aT)([e.result.infoList.reduce(function(e,t){return e.push([t.name,t.phoneNumber,t.email]),e},[o]).map(function(e){return e.map(function(e){return e})})],t)}):_.h.post("/questionnaire/chart/find/QUESTION_ANSWER_CHART",{questionId:p,questionnaireId:u,dateFilter:m,filterModel:h,projectId:f}).then(function(e){e=e.data;2e4===e.code&&e.result.reasonList&&(0,w.aT)([e.result.reasonList.reduce(function(e,t){return e.push([t]),e},[o]).map(function(e){return e.map(function(e){return e})})],t)}))},moreOptions:[{title:"导出数据",type:"data"}]}))},(0,C.P)(t)&&v().createElement(N,{className:"research_answer_table",fetchUserInfoChart:c,fetchReasonChart:s,questionId:p,answeredQuestion:i,answeredQuestionProportion:l,data:g,number:e,type:d,titles:o}))};const f=r;r.propTypes={data:t().any,tableTitles:t().array,title:t().string,loading:t().bool,answeredQuestion:t().number,answeredQuestionProportion:t().number};const y=function(t){function e(e){e=t.call(this,e)||this;return e.state={},e}return s()(e,t),e.prototype.render=function(){var e=this.props,t=(e.questionId,e.type),a=e.id,n=e.userInfoData,r=e.userInfoLoading,o=i()({},this.props,this.state,this.event);switch(t){case"NPS_SCORE":case"SATISFACTION":case"SINGLE_CHOICE":case"SEX":return v().createElement(d,i()({},o,{key:a,loading:this.props["optionLoading"+a],answeredQuestion:this.props["optionsData"+a]&&this.props["optionsData"+a].answeredQuestion,answeredQuestionProportion:this.props["optionsData"+a]&&this.props["optionsData"+a].answeredQuestionProportion,data:this.props["optionsData"+a]&&this.props["optionsData"+a].optionList}));case"MULTIPLE_CHOICE":return v().createElement(h,i()({},o,{key:a,loading:this.props["optionLoading"+a],answeredQuestion:this.props["optionsData"+a]&&this.props["optionsData"+a].answeredQuestion,answeredQuestionProportion:this.props["optionsData"+a]&&this.props["optionsData"+a].answeredQuestionProportion,data:this.props["optionsData"+a]&&this.props["optionsData"+a].optionList}));case"NPS_REASON":case"SATISFACTION_REASON":case"TEXT":case"TEXTAREA":case"NAME":case"PHONE":case"EMAIL":return v().createElement(f,i()({},o,{chartType:"reason",key:a,number:a,tableTitles:["答案"],pageIndex:1,answeredQuestion:this.props["reasonData"+a]&&this.props["reasonData"+a].answeredQuestion,answeredQuestionProportion:this.props["reasonData"+a]&&this.props["reasonData"+a].answeredQuestionProportion,data:this.props["reasonData"+a]&&this.props["reasonData"+a].reasonList}));case"USER_INFO":return v().createElement(f,i()({},o,{chartType:"USER_INFO",key:a,tableTitles:["姓名","手机","邮箱"],loading:r,data:n&&n.infoList,answeredQuestion:n&&n.answeredQuestion,answeredQuestionProportion:n&&n.answeredQuestionProportion}));default:return null}},e}(v().PureComponent);const T=function(t){var e=t.questions;return v().createElement("div",{className:"yt_research_answerAnalyze_wrapper"},e&&e.map(function(e){return v().createElement(y,i()({},t,{questionId:e.id,id:e.number,key:e.number,type:e.type,title:"Q"+e.number+"："+e.title.replace("<p>","").replace("</p>","")}))}))};var D=a(35239),l=a(64396),n=a(55609),R=l.Z.research.analyze.answer,r=function(t){function e(e){e=t.call(this,e)||this;return e.state={},e._event={},e}s()(e,t);var a=e.prototype;return a.active=function(e){var t=this,a=e.filterArgs,e=(e.title,e.questionnaireId),a=a[0];this.props.fetchQuestions({questionnaireId:e,projectId:D.t.get(D.V.curProject).id,filterModel:a.filterValue,dateFilter:a.dateFilter}).then(function(e){e&&e.forEach(function(e){"SINGLE_CHOICE"!==e.type&&"MULTIPLE_CHOICE"!==e.type||t.props.fetchOptionChart({number:e.number,questionId:e.id}),"NPS_SCORE"!==e.type&&"SATISFACTION"!==e.type&&"SEX"!==e.type||t.props.fetchScoreChart({questionType:e.type,number:e.number,questionId:e.id}),"USER_INFO"===e.type&&t.props.fetchUserInfoChart({questionId:e.id,pageIndex:1,pageSize:10}),"NPS_REASON"!==e.type&&"SATISFACTION_REASON"!==e.type&&"TEXT"!==e.type&&"TEXTAREA"!==e.type&&"NAME"!==e.type&&"PHONE"!==e.type&&"EMAIL"!==e.type||t.props.fetchReasonChart({number:e.number,pageIndex:1,pageSize:10,questionId:e.id})})})},a.componentDidMount=function(){},a.render=function(){return v().createElement(T,i()({},this.props,this.state,this._event))},e}(v().PureComponent);const P=(0,n.connect)(function(e){var t=e.loading,e=u()(e,["loading"]);return i()({},e[R],{loading:t.effects[R+"/fetchQuestions"]||!1,userInfoLoading:t.effects[R+"/fetchUserInfoChart"]||!1,reasonLoading:t.effects[R+"/fetchReasonChart"]||!1})},function(t){return{save:function(e){return t({type:R+"/save",payload:e})},fetchQuestions:function(e){return t({type:R+"/fetchQuestions",payload:e})},fetchScoreChart:function(e){return t({type:R+"/fetchScoreChart",payload:e})},fetchOptionChart:function(e){return t({type:R+"/fetchOptionChart",payload:e})},fetchUserInfoChart:function(e){return t({type:R+"/fetchUserInfoChart",payload:e})},fetchReasonChart:function(e){return t({type:R+"/fetchReasonChart",payload:e})},clean:function(e){return t({type:R+"/clean",payload:e})}}},null,{withRef:!0})(r);function x(e){return v().createElement("div",{style:{maxWidth:260}},e)}var A=a(61918),O=a(71339),r=a(30381),L=a.n(r),Z=a(61193),M={SATISFACTION:["满意度分值","satisfactionScore"],NPS_SCORE:["NPS分值","npsScore"],NPS_REASON:["NPS原因题","npsReason"],SATISFACTION_REASON:["满意度原因题","satisfactionReason"]};const z=function(e){var t=e.save,a=e.visible,n=e.questions,r=e.keyword,o=e.reasonKeyword,i=e.data,l=e.loading,s=e.pageIndex,c=e.pageSize,u=e.onExport,p=e.onSearchChange,d=e.onKeywordChange,m=e.onPageChange,e=e.onPageSizeChange,h=Z.Z.hasAuthority("NPS_CONTACT_VISIBLE"),f=h||Z.Z.hasAuthority("NPS_CONTACT_HALF_VISIBLE"),y=[{label:v().createElement("span",null,"客户名称",v().createElement(S.Z,{overlay:x("客户姓名取自联系人模块，可能会与问卷收集回来的信息一致。"),placement:"top"},v().createElement("i",{className:"icon-cem_file1",style:{color:"#979797",marginLeft:"4px"}}))),prop:"contactName",minWidth:110,render:function(e){var t=e.contactName,a=e.phoneNumber,n=e.email;if(t){var r=t,o=a,i=n;return h||(r=t.substring(0,1)+new Array(t.length).join("*"),o=a?a.substring(0,3)+"****"+a.substring(7):"",i=(e=n&&n.includes("@")?n.split("@"):"")&&(2<e[0].length?e[0].substring(0,2):"")+"***@"+e[1]),v().createElement(S.Z,{overlay:x(v().createElement(v().Fragment,null,v().createElement("p",null,v().createElement("span",{style:{color:"#8c8c8c"}},"姓名："),f?t:r),v().createElement("p",null,v().createElement("span",{style:{color:"#8c8c8c"}},"手机："),f?a:o),v().createElement("p",null,v().createElement("span",{style:{color:"#8c8c8c"}},"邮箱："),f?n:i))),placement:"top"},v().createElement("span",null,f?t:r))}return"--"}},{label:v().createElement("span",null,"提交时间",v().createElement(S.Z,{overlay:x("如果至完整答题有多次构成，则提交时间展示最新提交的时间"),placement:"top"},v().createElement("i",{className:"icon-cem_file1",style:{color:"#979797",marginLeft:"4px"}}))),prop:"cTime",minWidth:110,render:function(e){return v().createElement("span",null,L()(e.cTime).format("YYYY-MM-DD"))}},{label:v().createElement("span",null,"答卷状态",v().createElement(S.Z,{overlay:v().createElement("a",{style:{color:"#0847a6"},href:"https://www.yuque.com/docs/share/60ce57e7-38b9-415b-90a2-67121a0278b2?# 《答卷状态说明》",target:"_blank",rel:"noopener noreferrer"},"了解更多"),placement:"top"},v().createElement("i",{className:"icon-cem_file1",style:{color:"#979797",marginLeft:"4px"}}))),prop:"status",minWidth:90,render:function(e){return v().createElement("div",{className:"status"},"SUBMITTED"===e.status?"已提交":"FULL_SUBMITTED"===e.status?"完整答卷":"")}}];return n&&n.forEach(function(t){"SATISFACTION"!==t.type&&"NPS_SCORE"!==t.type&&"NPS_REASON"!==t.type&&"SATISFACTION_REASON"!==t.type||y.push({label:"Q"+t.number+"："+M[t.type][0],prop:M[t.type][1],minWidth:"NPS_REASON"===t.type||"SATISFACTION_REASON"===t.type?110:90,render:function(e){return"NPS_REASON"===t.type||"SATISFACTION_REASON"===t.type?v().createElement(S.Z,{placement:"top",overlay:x(e[""+M[t.type][1]])},v().createElement("div",{className:"reason_content ellipsis"},e[""+M[t.type][1]])):v().createElement("div",null,e[""+M[t.type][1]])}})}),v().createElement("div",{className:"yt_research_answer_detail_wrapper"},v().createElement("div",{className:"content"},v().createElement("div",{className:"research_answer_detail_search_zone"},v().createElement(A.Z,{style:{width:200},placeholder:"姓名、邮箱、手机",defValue:r,onSearch:p,onClear:p}),v().createElement(A.Z,{style:{width:200},placeholder:"原因题中的关键词",defValue:o,onSearch:d,onClear:d}),v().createElement("span",null,v().createElement(g.Button,{type:"primary",onClick:u},"导出"))),v().createElement(O.Z,{columns:y,data:i&&i.list instanceof Array?i.list:[],total:i?i.total:0,loading:!i||l,pageSize:c,pageIndex:s,onPageChange:m,onPageSizeChange:e}),v().createElement(g.Dialog,{className:"research_anserDetail_export_dialog",size:"tiny",title:"正在导出中...",visible:a,lockScroll:!0,onCancel:function(){t({visible:!1})}},v().createElement(g.Dialog.Body,null,v().createElement("div",{className:"after-download-tips"},v().createElement("div",null,"请稍后查看",v().createElement("a",{target:"_blank",style:{color:"#0847a6"},rel:"noopener noreferrer",href:"/personalSettings/download"},"导出记录")),v().createElement("div",null,"导出完成后，也可从右上角的消息处下载导出数据"))),v().createElement(g.Dialog.Footer,null,v().createElement(g.Button,{type:"primary",onClick:function(){t({visible:!1})}},"确定"),v().createElement(g.Button,{onClick:function(){t({visible:!1})}},"取消")))))};var Q=l.Z.research.analyze.answerDetail,r=function(t){function e(e){var r=t.call(this,e)||this;return r._handleOnExport=function(){var e=r.props,t=e.questionnaireId,a=e.reasonKeyword,e=e.keyword;r.props.exportQuestionnaire({questionnaireId:t,reasonKeyword:a,keyword:e})},r._handleOnSearchChange=function(e){var t=r.props,a=t.reasonKeyword;(0,t.fetchDetailList)({keyword:e,reasonKeyword:a,pageIndex:1})},r._handleOnKeywordChange=function(e){var t=r.props,a=t.keyword;(0,t.fetchDetailList)({keyword:a,reasonKeyword:e,pageIndex:1})},r._handleOnPageChange=function(e){var t=r.props,a=t.reasonKeyword,n=t.keyword;(0,t.fetchDetailList)({pageIndex:e,reasonKeyword:a,keyword:n})},r._handleOnPageSizeChange=function(e){var t=r.props,a=t.reasonKeyword,n=t.keyword;(0,t.fetchDetailList)({pageSize:e,pageIndex:1,reasonKeyword:a,keyword:n})},r.state={},r._event={onExport:r._handleOnExport,onSearchChange:r._handleOnSearchChange,onKeywordChange:r._handleOnKeywordChange,onPageChange:r._handleOnPageChange,onPageSizeChange:r._handleOnPageSizeChange},r}s()(e,t);var a=e.prototype;return a.active=function(e){var t=e.filterArgs,e=(e.title,e.questionnaireId),t=t[0];this.props.fetchQuestions({projectId:D.t.get(D.V.curProject).id,filterModel:t.filterValue,dateFilter:t.dateFilter,questionnaireId:e,keyword:"",reasonKeyword:""})},a.componentWillUnmount=function(){this.props.clean()},a.render=function(){return v().createElement(z,i()({},this.props,this.state,this._event))},e}(v().PureComponent);const j=(0,n.connect)(function(e){var t=e.loading,e=u()(e,["loading"]);return i()({},e[Q],{loading:t.effects[Q+"/fetchDetailList"]||!1})},function(t){return{save:function(e){return t({type:Q+"/save",payload:e})},fetchQuestions:function(e){return t({type:Q+"/fetchQuestions",payload:e})},fetchDetailList:function(e){return t({type:Q+"/fetchDetailList",payload:e})},exportQuestionnaire:function(e){return t({type:Q+"/exportQuestionnaire",payload:e})},clean:function(e){return t({type:Q+"/clean",payload:e})}}},null,{withRef:!0})(r);r=function(e){var a=e.data,t=e.total,n=e.loading,r=e.pageIndex,o=e.pageSize,i=e.onPageChange,l=v().useState([]),e=l[0],s=l[1];return v().useEffect(function(){var t;a&&(t=[{label:"分发时间",render:function(e){e=e.sendTime;return L()(e).format("YYYY-MM-DD HH:mm")}},{label:v().createElement("span",null,"发送问卷数(回收率)",v().createElement(S.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:"回收率 = 提交问卷数 ÷ 发送问卷数"},v().createElement("i",{className:"icon-cem_file1",style:{marginLeft:4}}))),render:function(e){var t=e.sendCount,e=e.recoveryRate;return v().createElement("span",null,v().createElement("span",{style:{paddingRight:8}},t),"(",(100*e).toFixed(2)+"%",")")}},{label:v().createElement("span",null,"发送成功数(成功率)",v().createElement(S.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:"成功率 = 发送成功数 ÷ 发送问卷数"},v().createElement("i",{className:"icon-cem_file1",style:{marginLeft:4}}))),render:function(e){var t=e.successCount,e=e.successRate;return v().createElement("span",null,v().createElement("span",{style:{paddingRight:8}},t),"(",(100*e).toFixed(2)+"%",")")}},{label:v().createElement("span",null,"打开问卷数(打开率)",v().createElement(S.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:"打开率 = 打开问卷数 ÷ 发送成功数"},v().createElement("i",{className:"icon-cem_file1",style:{marginLeft:4}}))),render:function(e){var t=e.openCount,e=e.openRate;return v().createElement("span",null,v().createElement("span",{style:{paddingRight:8}},t),"(",(100*e).toFixed(2)+"%",")")}},{label:v().createElement("span",null,"提交问卷数(提交率)",v().createElement(S.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:"提交率 = 提交问卷数 ÷ 打开问卷数"},v().createElement("i",{className:"icon-cem_file1",style:{marginLeft:4}}))),render:function(e){var t=e.submittedCount,e=e.submittedRate;return v().createElement("span",null,v().createElement("span",{style:{paddingRight:8}},t),"(",(100*e).toFixed(2)+"%",")")}},{label:v().createElement("span",null,"完整答题数(答题率)",v().createElement(S.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:"答题率 = 完整答题数 ÷ 提交问卷数"},v().createElement("i",{className:"icon-cem_file1",style:{marginLeft:4}}))),render:function(e){var t=e.fullSubmittedCount,e=e.fullSubmittedRate;return v().createElement("span",null,v().createElement("span",{style:{paddingRight:8}},t),"(",(100*e).toFixed(2)+"%",")")}}],a.reduce(function(e,t){return t.type&&t.type.length>e.length&&!t.type.includes("NORMAL")?t.type:e},[]).forEach(function(a,e){t.splice(e+1,0,{label:"NPS"===a?"NPS分值":"满意度",render:function(e){var t=e.npsScore,e=e.satisfactionScore;return"NPS"===a?t||"--":e?e.toFixed(2):"--"}})}),s(t))},[a]),v().createElement("div",{className:"yt_research_record_analysis_wrapper"},v().createElement(C.Z,{data:a,className:"record_content",loading:n},v().createElement(O.Z,{columns:e,data:(0,C.P)(a)?a:[],total:t,loading:!1,pageIndex:r,pageSize:o,onPageChange:function(e){return i({pageIndex:e})},onPageSizeChange:function(e){return i({pageSize:e})}})))};const F=r;r.propTypes={data:t().any,loading:t().bool,pageIndex:t().number,pageSize:t().number,onPageChange:t().func,total:t().number};var k=l.Z.research.analyze.record,l=function(a){function e(e){var t=a.call(this,e)||this;return t._handleOnPageChange=function(e){t.props.fetchRecordList(e)},t.state={},t.event={onPageChange:t._handleOnPageChange},t}s()(e,a);var t=e.prototype;return t.active=function(e){e.filterArgs,e.title;e=e.questionnaireId;this.props.fetchRecordList({questionnaireId:e,projectId:D.t.get(D.V.curProject).id})},t.componentWillUnmount=function(){this.props.clear()},t.render=function(){return v().createElement(F,i()({},this.props,this.state,this.event))},e}(v().PureComponent);const V=(0,n.connect)(function(e){var t=e.loading,e=u()(e,["loading"]);return i()({},e[k],{loading:t.effects[k+"/fetchRecordList"]||!1})},function(t){return{fetchRecordList:function(e){return t({type:k+"/fetchRecordList",payload:e})},clear:function(e){return t({type:k+"/clear",payload:e})}}},null,{withRef:!0})(l);var q=a(87920),G=a(55363),U=a(8833);const B=function(r){function e(e){var n=r.call(this,e)||this;n._handleRefs=function(e,t){t&&(n.viewRefs[e]=t.wrappedInstance)},n._handleOnTabClick=function(e){var t=n.props.location.state,a=n.viewRefs[e.props.name];a&&a.active(i()({filterArgs:n.filterArgs},t)),n.setState({activeView:e.props.name})};var t=e.location.state,a=t.questionnaireId,e=t.title,t=t.questionnaireType,t=1===t.length?"RESEARCH_"+t[0]:"RESEARCH_ALL";return n.state={pageType:t,activeView:"RESEARCH_ALL"==t||"RESEARCH_NPS"==t?"1":"RESEARCH_SATISFACTION"==t?"2":"3",titles:[{title:"问卷管理",url:"/research/manage"},{title:e,url:"/research/manage/distribute",state:{id:a,title:e}},{title:"数据分析",url:""}]},n.viewRefs={},n.filterArgs=void 0,n._handleOnFilterChange=n.handleOnFilterChange.bind(o()(n)),n}s()(e,r);var t=e.prototype;return t.componentWillUnmount=function(){this.viewRefs={},this.filterArgs=void 0},t.handleOnFilterChange=function(){this.filterArgs=Array.from(arguments),this._handleOnTabClick({props:{name:this.state.activeView}})},t.render=function(){var t=this,e=this.state,a=e.titles,n=e.activeView,e=e.pageType;return v().createElement(U.Z,{className:"yt_research_analyasis_wrapper",pageType:e,title:v().createElement(G.Z,{titles:a}),onReady:this._handleOnFilterChange,onChange:this._handleOnFilterChange,noSavingFilterList:!0},v().createElement(g.Tabs,{activeName:n,onTabClick:this._handleOnTabClick},("RESEARCH_NPS"===e||"RESEARCH_ALL"===e)&&v().createElement(g.Tabs.Pane,{label:"NPS分析",name:"1"},v().createElement(c.Z,{ref:function(e){return t._handleRefs("1",e)}})),("RESEARCH_SATISFACTION"===e||"RESEARCH_ALL"===e)&&v().createElement(g.Tabs.Pane,{label:"满意度分析",name:"2"},v().createElement(q.Z,{ref:function(e){return t._handleRefs("2",e)}})),v().createElement(g.Tabs.Pane,{label:"答卷分析",name:"3"},v().createElement(P,{ref:function(e){return t._handleRefs("3",e)}})),v().createElement(g.Tabs.Pane,{label:"答卷详情",name:"4"},v().createElement(j,{ref:function(e){return t._handleRefs("4",e)}})),v().createElement(g.Tabs.Pane,{label:"分发记录",name:"5"},v().createElement(V,{ref:function(e){return t._handleRefs("5",e)}}))))},e}(v().PureComponent)},87920:(e,t,a)=>{"use strict";a.d(t,{Z:()=>P});function h(r,e,t){if(0===r.list.length)return"empty";var a=r.list;return{axisPointer:{link:{xAxisIndex:"all"}},title:{text:e},tooltip:{formatter:function(e){return(e||[]).map(function(e){return'<span style="font-weight: bold;font-size: 12px">'+e.name+"</span><br/>"+e.marker+e.seriesName+"："+(null===e.data?"-":e.data)}).join("<br/><br/>")}},xAxis:[{type:"category",data:a.map(function(e){return(0,u.yV)(t,e.time)}),boundaryGap:!1},{type:"category",data:a.map(function(e){return(0,u.yV)(t,e.time)}),gridIndex:1,show:!1,boundaryGap:!1}],yAxis:[{type:"value",name:"满意度",nameTextStyle:{color:"#262626",padding:[0,0,10,0]},minInterval:1,splitNumber:3},{type:"value",axisLine:{show:!1},axisLabel:{show:!1},gridIndex:1,name:"答题数量",nameTextStyle:{color:"#262626"}}],dataZoom:[{type:"slider",show:!0,realtime:!0,xAxisIndex:[0,1],height:16,top:335}],grid:[{left:470,right:50,top:80,height:"32%",tooltip:{trigger:"axis"}},{left:470,right:50,top:265,gridIndex:1,height:"15%",tooltip:{trigger:"axis"}}],graphic:[{type:"text",left:"84",top:"104",silent:!0,style:{text:r.satisfactionValue,fill:"#262626",font:"60px "+s.I8}},{type:"text",left:"84",top:268,silent:!0,style:{text:"答题客户数",fill:"#8C8C8C",font:"14px "+s.I8}},{type:"text",left:"178",top:268,silent:!0,style:{text:r.total,fill:"#262626",font:"14px "+s.I8}}].concat(new Array(5).fill(0).map(function(e,t){return{type:"image",left:83+36*t,top:194,scale:[2,2],style:{image:(a=t+1,n=r.satisfactionValue,t="",t=a<=n?"full":"none",Math.floor(n)!==Number(n)&&Math.floor(n)+1===a&&(t="harf"),p[t].image),width:"14"}};var a,n}),new Array(11).fill(0).map(function(e,t){return{type:"line",shape:{x1:84+16*t,y1:244,x2:90+16*t,y2:244},style:{fill:"#E5E5E5",stroke:"#E5E5E5"},cursor:"none"}})),series:[{data:a.map(function(e){return e.satisfactionValue}),type:"line",smooth:!0,symbol:"circle",symbolSize:2.5,markLine:{symbolSize:0,data:[{type:"average",name:"平均线"}],lineStyle:{color:"#BFBFBF"},label:{show:!1,formatter:"均值"}},lineStyle:{color:"#0074B8"},name:"满意度"},{data:a.map(function(e){return e.questionnaireTotal}),type:"line",smooth:!0,symbol:"circle",symbolSize:2,xAxisIndex:1,yAxisIndex:1,areaStyle:{color:"#E7F1F7"},itemStyle:{color:"#1574B3"},lineStyle:{color:"#1574B3"},name:"答题数量"}]}}var n=a(37316),r=a.n(n),t=a(67154),o=a.n(t),n=a(85354),i=a.n(n),t=a(67294),C=a.n(t),n=a(64396),t=a(55609),l=a(35239),I=a(10291),S=a(17582),b=a(61210),f=a(50976),y=a(8201),g=a(60496),E=a(98191),c=a(43036),s=(a(18446),a(70715)),v=a(94644),u=a(39432),p={none:{image:"data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDY0IDY0Ij48dGl0bGU+Y2VtPC90aXRsZT48cG9seWdvbiBwb2ludHM9IjMyIDUwLjQ1IDEyLjg0IDYwLjI5IDE2LjUgMzkuNDYgMSAyNC43IDIyLjQyIDIxLjY3IDMyIDIuNzEgNDEuNTggMjEuNjcgNjMgMjQuNyA0Ny41IDM5LjQ2IDUxLjE2IDYwLjI5IDMyIDUwLjQ1IiBmaWxsPSIjZTVlNWU1IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},harf:{image:"data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDY0IDY0Ij48dGl0bGU+Y2VtPC90aXRsZT48cGF0aCBkPSJNNjMsMjQuN2wtMjEuNDItM0wzMiwyLjcxVjUwLjQ1bDE5LjE2LDkuODNMNDcuNSwzOS40NloiIGZpbGw9IiNlNWU1ZTUiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGQ9Ik0yMi40MiwyMS42NywxLDI0LjcsMTYuNSwzOS40NiwxMi44NCw2MC4yOSwzMiw1MC40NVYyLjcxWiIgZmlsbD0iI2QwN2I0OSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"},full:{image:"data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDY0IDY0Ij48dGl0bGU+Y2VtPC90aXRsZT48cG9seWdvbiBwb2ludHM9IjMyIDUwLjQ1IDEyLjg0IDYwLjI5IDE2LjUgMzkuNDYgMSAyNC43IDIyLjQyIDIxLjY3IDMyIDIuNzEgNDEuNTggMjEuNjcgNjMgMjQuNyA0Ny41IDM5LjQ2IDUxLjE2IDYwLjI5IDMyIDUwLjQ1IiBmaWxsPSIjZDA3YjQ5IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="}};const N=function(e){var r=e.data,t=e.dateOptions,a=e.defaultDateType,n=e.setDefaultValue,o=e.flavorObj,i=e.className,l=e.fetchSatisAnalyzeData,e=C().useState(void 0),s=e[0],c=e[1],e=C().useState(void 0),u=e[0],p=e[1],e=C().useState(void 0),d=e[0],m=e[1];return C().useEffect(function(){var e,t;u&&s&&(e=u,(t=s).clear(),t.setOption(e))},[u,s]),C().useEffect(function(){var e;r&&(e=h(r,"满意度",d),p(e))},[r]),C().useEffect(function(){o&&m(t.some(function(e){return e.value===o.satisAnalyze})?o.satisAnalyze:a)},[o,a,t]),C().createElement(y.Z,{data:u,className:"yt_research_analyze_line_chart_wrap "+(i||""),renderTitle:C().createElement(E.Z,{data:u,onMoreClick:function(e){var t,a,n;t=s,a=r,n=void 0,"image"===(e=e)?(0,v._v)(n=t,"满意度分析"):"data"===e&&((n=a.list.map(function(e){return[e.time,e.satisfactionValue||"",e.questionnaireTotal]})).unshift(["日期","满意度","答题数量"]),(0,v.aT)(n=[n],"满意度分析"))},title:"满意度",titleOverlay:"满意度分值的均值"},C().createElement("div",null,C().createElement(g.Z,{onChange:function(e){m(e),l({dateGroupType:e})},activeObj:d,options:t,flavor:(o||{}).satisAnalyze,onFlavorChange:function(e){return n({key:"satisAnalyze",value:e})}})))},C().createElement(f.Z,{theme:"yunting_multi_color",loadingOption:{text:"加载中",color:"#20a0ff"},option:{},opts:{devicePixelRatio:2},style:{width:"100%",height:"100%"},onChartReady:function(e){return c(e)}}))};var d=a(29383);a(98245);var m=[{title:"满意度对比",value:0},{title:"答卷数量对比",value:1}];function w(a,t,n){a&&t&&new Promise(function(e){var t,r;e((t=a,r=n,e=Math.max.apply(Math,t.map(function(e){return e[r?"questionnaireTotal":"satisfactionValue"]})),{title:{text:"各省满意度对比和答题数"},tooltip:{formatter:function(e){var t=e.marker,a=e.data,n=a.name,e=a.value,a=a.other;return[t+'<span style="font-size: 16px; line-height: 30px">'+n+"</span>",(0===r?"满意度：":"答卷数量：")+(0===r&&.99===e?"无":e),(0===r?"答卷数量：":"满意度：")+(0!==r&&.99===a?"无":a)].join("<br/>")}},visualMap:{bottom:20,min:0===r?.99:0,max:0===r?5:0===e?1:e,text:0===r?["5分","1分"]:["高","低"],range:0===r?[1,5]:void 0,inRange:{color:0===r?["#D96969","#0074B8","#15B374"]:["white","#1474B3"]},outOfRange:{color:["white"]},itemWidth:10,itemHeight:80,top:350,left:40},series:[{left:70,type:"map",map:"china",label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{emphasis:{areaColor:"#CDB446"}},data:t.map(function(e){return{name:e.province.replace("省",""),value:0===r?null===e.satisfactionValue?.99:e.satisfactionValue:e.questionnaireTotal,other:0===r?e.questionnaireTotal:null===e.satisfactionValue?.99:e.satisfactionValue}})}]}))}).then(function(e){t.clear(),t.setOption(e)})}const _=function(e){var o=e.data,t=e.flavorObj,a=e.loading,n=e.setDefaultValue,e=C().useState(void 0),i=e[0],r=e[1],e=C().useState(0),l=e[0],s=e[1];return C().useEffect(function(){w(o,i,l)},[o,i,l]),C().useEffect(function(){s((t||{}).mapAnalyze||0)},[t]),C().createElement(y.Z,{className:"research_analyze_map",renderTitle:C().createElement(E.Z,{data:o,onMoreClick:function(e){var t,a,n,r;t=i,n=o,r=0===(a=e)?"满意度对比":"答卷数量对比",e=void 0,"image"===a?(0,v._v)(e=t,r):"data"===a&&((e=n.map(function(e){return[e.province,e.satisfactionValue||"无",e.questionnaireTotal]})).unshift(["省份","满意度","答题数量"]),(0,v.aT)(e=[e],"各省满意度对比和答题数"))},title:"各省满意度对比和答题数",titleOverlay:C().createElement("div",null,C().createElement("div",null,"收集到满意度的分值题就算1个答题"),C().createElement("div",null,"客户的城市是依据答题访问问卷时获得的IP"),C().createElement("div",null,"地址解析得出"))},C().createElement(g.Z,{onChange:function(e){s(e)},activeObj:l,options:m,flavor:(t||{}).mapAnalyze||null,onFlavorChange:function(e){return n({key:"mapAnalyze",value:e})}})),data:o,defTitle:"各省NPS值对比",loading:a},C().createElement("div",{className:"chart"},C().createElement(f.Z,{theme:"yunting_pos_neu_neg",option:{},style:{width:"100%",height:"100%"},onChartReady:function(e){return r(e)}})),C().createElement("div",{className:"table"},C().createElement(d.Z,{columns:[{label:"省份",prop:"province"},{label:C().createElement("div",{style:{background:"white"}},"满意度",C().createElement(c.Z,{placement:"top",overlayClassName:"alert-log-tips",overlay:"满意度分值的均值"},C().createElement("i",{className:"icon-cem_file1"}))),prop:"satisfactionValue",render:function(e){return C().createElement("div",null,e.satisfactionValue||"无")}},{label:"答题数量",prop:"questionnaireTotal"}],data:o,currentPage:1,total:34})))};var T=a(54898);const D=function(e){var t=e.fetchingSatConcerns,a=e.doubleBarChartData,n=e.graphPieChartData,r=e.wordChartData,o=e.fetchSatisAnalyzeData,i=e.satisAnalyzeData,l=e.fetchingSatisCustomerData,s=e.satisCustomerData,c=e.graphicData,u=e.custDataType,p=e.custTimeType,d=e.onFilterChange,m=e.mapData,h=e.dateOptions,f=e.defaultDateType,y=e.flavorObj,g=e.setDefaultValue,E=e.relativeData,v=e.relativeRefreshTime,e=e.relativeDataLoading;return C().createElement("div",{className:"yt_research_satisfaction_analysis_wrapper"},C().createElement(N,{data:i,dateOptions:h,defaultDateType:f,setDefaultValue:g,flavorObj:y,fetchSatisAnalyzeData:o}),C().createElement(I.Z,{loading:l,title:"满意度客户分类",titleOverlay:C().createElement("div",null,C().createElement("div",null,"好评：4分和5分"),C().createElement("div",null,"中评：3分"),C().createElement("div",null,"差评：1分和2分")),type:"SATISFACTION",dateOptions:h,customerData:s,graphicData:c,dataType:u,timeType:p,defaultDateType:f,defaultDataType:y&&y.fCustDataType,setDefaultValue:g,flavorObj:y&&y,onFilterChange:d}),C().createElement(_,{setDefaultValue:g,flavorObj:y,data:m}),C().createElement(S.Z,{title:"好评客户和差评客户关注点对比",overlay:C().createElement("div",null,C().createElement("div",null,"好评：4分和5分"),C().createElement("div",null,"中评：3分"),C().createElement("div",null,"差评：1分和2分")),positiveTitle:"好评客户",negativeTitle:"差评客户",doubleBarChartData:a,defaultDataType:y&&y.fBarCompareType,setDefaultValue:g,graphPieChartData:n,loading:t}),C().createElement(b.Z,{loading:t,data:r,title:"词频分析"}),C().createElement(T.Z,{title:"词组关联关系分析",data:E,loading:e,refreshTime:v}))};var R=n.Z.research.analyze.satisfaction,n=function(t){function e(e){var a=t.call(this,e)||this;return a._handleOnWsMessage=function(e){var t=e.data;t.type&&"ws"===t.type&&(t=(e=t.payload).type,e=e.result,"QUESTIONNAIRE_TEXT_RESULT"===t&&a.props.save({relativeData:e.data.length?e.data:"empty",relativeRefreshTime:e.createdAt,relativeDataLoading:!1}))},a._handleOnFilterChange=function(e){e.dateGroupType&&a.props.fetchSatisCustomerData({dateGroupType:e.dateGroupType})},a.state={},a.event={onFilterChange:a._handleOnFilterChange},a}i()(e,t);var a=e.prototype;return a.active=function(e){var t=e.filterArgs,a=(e.title,e.questionnaireId),n=e.questionnaireBoardId,e=t[0],t=(t[1],t[2]);this.props.fetchDatas({filterModel:e.filterValue,dateFilter:e.dateFilter,dateOptions:t.dateOptions,defaultDateType:t.defaultDateType,projectId:l.t.get(l.V.curProject).id,questionnaireId:a,questionnaireBoardId:n,pageType:"research_satis"})},a.componentDidMount=function(){window.addEventListener("message",this._handleOnWsMessage)},a.componentWillUnmount=function(){window.removeEventListener("message",this._handleOnWsMessage),this.props.clear()},a.render=function(){return C().createElement(D,o()({},this.props,this.state,this.event))},e}(C().PureComponent);const P=(0,t.connect)(function(e){var t=e.loading,e=r()(e,["loading"]);return o()({},e[R],{fetchingSatConcerns:t.effects[R+"/fetchSatConcerns"]||!1,fetchSatisCustomerData:t.effects[R+"/fetchSatisCustomerData"]||!1})},function(t){return{save:function(e){return t({type:R+"/save",payload:e})},fetchSatisAnalyzeData:function(e){return t({type:R+"/fetchSatisAnalyzeData",payload:e})},setDefaultValue:function(e){return t({type:R+"/setDefaultValue",payload:e})},fetchDatas:function(e){return t({type:R+"/fetchDatas",payload:e})},fetchSatisCustomerData:function(e){return t({type:R+"/fetchSatisCustomerData",payload:e})},clear:function(e){return t({type:R+"/clear",payload:e})}}},null,{withRef:!0})(n)},25022:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var t=a(67294),c=a.n(t),u=a(92360),p=a(35303),t=a(45697),t=a.n(t),d=[{label:"10项/页",value:10},{label:"20项/页",value:20},{label:"40项/页",value:40},{label:"100项/页",value:100}];const n=function(e){var t=e.onPageChange,a=e.onSizeChange,n=e.total,r=void 0===n?0:n,o=e.pageIndex,i=e.pageSize,l=e.layout,s=e.className,n=e.currLength,e=0===r?0:(o-1)*i+1,n=0===r?0:n?e+n-1:e+i-1;return 0===r?null:c().createElement("div",{className:"yt-awp-pagination "+(s||"")},c().createElement("span",{className:"total_num"},c().createElement("span",null,e+" - "+n+" "),"项，共",c().createElement("span",null," "+r+" "),"项"),c().createElement("div",{style:{textAlign:"right",float:"right"},className:"new_pagination"},c().createElement(u.Pagination,{small:!0,pageSize:i,currentPage:o,pageCount:Math.ceil(r/i),layout:0===r?"":"prev, pager, next",onCurrentChange:t}),void 0===l||l.includes("sizes")?c().createElement(p.RS,{multiple:!1,tags:!1,showSearch:!1,optionFilterProp:"label",optionLabelProp:"label",animation:"slide-up",dropdownClassName:"custom-pagination-dropdown",value:i||10,onChange:a},d.map(function(e,t){return c().createElement(p.Wx,{key:t,label:e.label,value:e.value},e.label)})):null))};t().propTypes={onPageChange:t().func,onSizeChange:t().func,total:t().number,pageIndex:t().number,pageSize:t().number,layout:t().string,className:t().string}},71339:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var t=a(67294),p=a.n(t),d=a(92360),m=a(25022),t=a(45697),a=a.n(t),t=function(e){var t=e.data,a=e.total,n=void 0===a?0:a,r=e.loading,o=e.pageIndex,i=e.columns,l=e.pageSize,s=e.onPageChange,a=e.onPageSizeChange,c=e.onSortChange,u=e.defaultSort,e=e.className,e=void 0===e?"":e;return p().useEffect(function(){var e=document.getElementsByClassName("is-sortable")[0];u&&e&&e.classList.add(u.order)},[u]),p().createElement("div",{className:"yt-awp-content-list "+e},p().createElement(d.Loading,{loading:r,className:"awp-content-loading"},p().createElement(d.Table,{defaultSort:u,columns:i,style:{width:"100%"},data:t,onSortChange:function(e){return c(e)}})),s&&p().createElement(m.Z,{onPageChange:s,onSizeChange:a,total:n,currLength:t.length,pageIndex:o,pageSize:l}))};t.propTypes={data:a().array,total:a().number,loading:a().bool,pageIndex:a().number,columns:a().array,pageSize:a().number,onPageChange:a().func,onPageSizeChange:a().func,onSortChange:a().func,defaultSort:a().any,className:a().string};const n=t},61918:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var t=a(67294),u=a.n(t),t=a(45697),a=a.n(t),t=function(e){var t=e.className,a=e.onClear,n=e.onSearch,r=e.placeholder,o=e.style,i=e.defValue,l=e.signal,e=u().useState(i),s=e[0],c=e[1];u().useEffect(function(){c(i)},[i,l]);return u().createElement("div",{style:o,className:"yt_search_input_wrapper "+(t||"")},u().createElement("input",{placeholder:r,value:s,onKeyDown:function(e){13===e.keyCode&&n(s)},onChange:function(e){return c(e.target.value)},autoComplete:"off"}),s&&u().createElement("i",{className:"icon-cem_log-off",onClick:function(){c(""),a&&a("")}}),u().createElement("i",{className:"icon-cem_small-search",onClick:function(){return n(s)}}))};t.propTypes={className:a().string,onSearch:a().func.isRequired,placeholder:a().string,style:a().object,defValue:a().string,signal:a().any,onClear:a().func};const n=t}}]);
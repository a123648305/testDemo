(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[1652],{56390:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var t=n(67294),u=n.n(t),d=n(50976),m=n(90646),p=n(8201),f=n(98191),t=n(45697),n=n.n(t),t=function(e){var a=e.data,i=e.title,t=(e.onMoreClick,e.loading),o=(e.onClick,e.selObj),e=u().useState(void 0),r=e[0],l=e[1],e=u().useState(void 0),s=e[0],c=e[1];return u().useEffect(function(){var e,t,n;r&&((0,p.P)(a)?(e=r.getHeight()-60,t=r.getWidth()-60,n=e<t?e:t,s?new Promise(function(e){e((0,m.p9)(a,i,s,n,o))}).then(function(e){r.clear(),r.setOption(e)}):new Promise(function(e){e((0,m.Oq)(a,n))}).then(function(e){r.clear(),r.setOption(e);e=r._zr.storage._displayList.map(function(e){return r.convertToPixel({seriesIndex:0},[e.transform[4]+30,e.transform[5]+30])});c(e)})):l(void 0))},[a,r,s,o]),u().createElement(p.Z,{className:"yt_bubble_chart_wrapper",data:a,loading:t,renderTitle:u().createElement(f.Z,{title:i,data:a,onMoreClick:function(e){return(0,m.kQ)(r,e,a,i)}})},u().createElement(d.Z,{theme:"yunting_pos_neu_neg",option:{},style:{width:"100%",height:"100%"},onChartReady:function(e){return l(e)}}))};const a=t;t.propTypes={data:n().object,title:n().string}},91476:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var t=n(67294),i=n.n(t),c=n(50976),u=n(60496),d=n(8201),m=n(98191),t=n(67154),p=n.n(t),f=n(70715),g=n(39432),h=n(94644),v=["positive","negative"],y=[{title:"比例",value:"ratio"},{title:"数量",value:"count"}];const a=function(e){var o=e.data,t=e.loading,r=e.title,e=i().useState("count"),n=e[0],a=e[1],e=i().useState(void 0),l=e[0],s=e[1];return i().useEffect(function(){var e,t,a,i;l&&((0,d.P)(o)?(e=o,t=r,i={positiveData:"count"===(a=n)?e.slice().sort(function(e,t){return t.positiveCount-e.positiveCount}).slice(0,10).filter(function(e){return 0<e.positiveCount}):e.slice().sort(function(e,t){return t.posRate-e.posRate}).slice(0,10).filter(function(e){return 0<e.posRate}),negativeData:"count"===a?e.slice().sort(function(e,t){return t.negativeCount-e.negativeCount}).slice(0,10).filter(function(e){return 0<e.negativeCount}):e.slice().sort(function(e,t){return t.negRate-e.negRate}).slice(0,10).filter(function(e){return 0<e.negRate})},t={title:{text:t},grid:[{x:"5%",y:"20%",width:"90%",height:"25%"},{x:"5%",y2:"8%",width:"90%",height:"25%"}],tooltip:{formatter:function(e){var t=e.seriesName,n=e.marker,e=e.data;return[n+" "+e.name,("positive"===t?"推荐者":"贬损者")+"声量："+e[t+"Count"],"声量占比："+(100*e[t.substring(0,3)+"Rate"]).toFixed(2)+"%"].join("<br>")}},graphic:[{type:"group",top:"13%",silent:!0,children:[{type:"text",left:22,style:{text:"TOP 10热词",font:"bolder 12px "+f.I8,fill:"#262626"}},{type:"text",left:(0,g.jD)("TOP 10热词",12)+8+20,style:{text:"(正面消息"+("count"===a?"数量":"比例")+")",font:"bolder 12px "+f.I8,fill:"#8c8c8c"}}]},{type:"group",top:"58%",silent:!0,children:[{type:"text",left:22,style:{text:"TOP 10热词",font:"bolder 12px "+f.I8,fill:"#262626"}},{type:"text",left:(0,g.jD)("TOP 10热词",12)+8+20,style:{text:"(负面消息"+("count"===a?"数量":"比例")+")",font:"bolder 12px "+f.I8,fill:"#8c8c8c"}}]}],xAxis:v.map(function(e,t){return{gridIndex:t,axisTick:{show:!0,alignWithLabel:!0},axisLabel:{interval:0},data:i[e+"Data"].map(function(e){return e.name})}}),yAxis:v.map(function(e,t){return{gridIndex:t,axisLabel:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:"#E8E8E8",type:"dashed"}}}}),series:v.map(function(t,e){var n="positive"===t?"PROMOTER":"DETRACTOR";return{type:"bar",name:t,barWidth:30,xAxisIndex:e,yAxisIndex:e,data:i[t+"Data"].map(function(e){return p()({},e,{value:"count"===a?e[t+"Count"]:e[t.substring(0,3)+"Rate"],selEmotion:[n],type:"bar",selName:e.name})})}})},l.clear(),l.setOption(t)):s(void 0))},[o,n,l]),i().createElement(d.Z,{className:"yt_double_bar_chart_wrapper",loading:t,data:o,renderTitle:i().createElement(m.Z,{title:r,data:o,onMoreClick:function(e){var t,n,a;t=l,n=o,a=r,"image"===(e=e)?(0,h._v)(t,a):"data"===e&&(n=[n.reduce(function(e,t){return[].concat(e,[[t.name,t.total,t.positiveCount,t.neutralCount,t.negativeCount]])},[["关键词","声量总数","正面","中性","负面"]])],(0,h.aT)(n,a))}},i().createElement(u.Z,{options:y,activeObj:n,objName:"formula",onChange:function(e){return a(e.formula)},overlay:"ratio"===n?"一般而言，任何一个词都有可能被推荐者、中立者和贬损者提及。“比例”公式是计算具体词被推荐者或者贬损者提及的声量占该词全部声量比重。":""}))},i().createElement(c.Z,{theme:"yunting_pos_neg",option:{},style:{width:"100%",height:"100%"},onChartReady:function(e){return s(e)}}))}},21652:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>B});var n=r(37316),a=r.n(n),i=r(67154),c=r.n(i),t=r(85354),o=r.n(t),n=r(67294),I=r.n(n),i=r(55609),R=r(19586),t=r(45697),n=r.n(t),f=r(50976),g=r(8201),h=r(98191),s=r(70715),u=["#D96969","#D07B49","#CDB446","#15B374"],t=function(e){var o=e.data,r=e.onMoreClick,t=e.loading,n=e.titleOverlay,a=e.title,e=I().useState(void 0),l=e[0],i=e[1];return I().useEffect(function(){var e;l&&((0,g.P)(o)?(e=function(e,n){e={value:+(100*e.satisfactionNumber).toFixed(2)};return{title:{text:n},tooltip:{formatter:function(e){e.seriesName;var t=e.data.value,e="";return t<25?e=u[0]:25<=t&&t<50?e=u[1]:50<=t&&t<75?e=u[2]:t<=100&&(e=u[3]),['<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+e+';"></span>'+'<span style="font-size: 16px; line-height: 30px">'+n+"</span>","满意度："+t+"%"].join("<br/>")}},series:[{name:"满意度",type:"gauge",min:0,max:100,center:["50%","52%"],splitNumber:4,radius:"60%",axisLine:{show:!0,lineStyle:{color:[[.25,"#D96969"],[.5,"#D07B49"],[.75,"#CDB446"],[1,"#15B374"]],width:20}},splitLine:{show:!0,length:20},axisTick:{show:!1},axisLabel:{color:"#262626",font:"12px "+s.I8+" 500"},detail:{offsetCenter:[0,"95%"],formatter:["{a|"+e.value+"%}","{b|满意度}"].join("\n"),rich:{a:{color:"#262626",fontSize:24,lineHeight:33,fontFamily:s.I8,fontWeight:500},b:{color:"#262626",fontSize:12,lineHeight:17,fontFamily:s.I8}}},title:{show:!1},pointer:{length:"80%",width:6},itemStyle:{color:"#1574B3"},data:[{value:e.value}]}]}}(o,a),l.clear(),l.setOption(e)):i(void 0))},[o,l]),I().createElement(g.Z,{className:"satis-chart-wrapper",data:o,loading:t,renderTitle:I().createElement(h.Z,{title:a,data:o,titleOverlay:n,onMoreClick:function(e){return t=l,n=o,a=r,i=void 0,"image"===(e=e)?i=t:"data"===e&&(i=[[["满意度"],[(0===(n=n.satisfactionNumber)?0:+(100*n).toFixed(2))+"%"]]]),void a({type:e,obj:i,name:t.getOption().title[0].text});var t,n,a,i}})},I().createElement(f.Z,{theme:"yunting_pos_neu_neg",loadingOption:{text:"",color:"#20a0ff"},option:{},style:{width:"100%",height:"100%"},onChartReady:function(e){return i(e)}}))};t.propTypes={title:n().string.isRequired,loading:n().bool.isRequired,data:n().object};const M=t;var d=r(39432),t=function(e){var o=e.data,r=e.onMoreClick,t=e.onClick,n=e.loading,a=e.title,e=I().useState(void 0),l=e[0],i=e[1];return I().useEffect(function(){var e;l&&((0,g.P)(o)?(e=function(e,t){e=[{type:e.positive?"正面":null,count:e.positive||null},{type:e.neutral?"中性":null,count:e.neutral||null},{type:e.negative?"负面":null,count:e.negative||null}];return{title:{text:t},tooltip:{triger:"item",formatter:function(e){return e.marker+" "+e.name+"："+e.value+"（"+e.percent+"%）"}},legend:{left:20,top:42,itemWidth:10,itemHeight:10,itemGap:16,data:e.map(function(e){return{name:e.type,icon:s.W4.square}})},series:[{type:"pie",radius:75,hoverAnimation:!1,center:["50%","62%"],data:e.map(function(e){return{name:e.type,value:e.count}}),label:{position:"outside",color:"#000",formatter:function(e){var t=e.data,e=t.name,t=t.value;return[""+e,"{value|"+d.ZP.getApproximateNum(t)+"}"].join("\n")},rich:{value:{fontSize:12,lineHeight:18,color:"#8c8c8c",align:"left"}}},labelLine:{smooth:!0,length:5,lineStyle:{color:"#bfbfbf"}}}]}}(o,a),l.clear(),l.setOption(e)):i(void 0))},[o,l]),I().createElement(g.Z,{className:"emotion-pie-wrapper",data:o,loading:n,renderTitle:I().createElement(h.Z,{title:a,data:o,onMoreClick:function(e){return t=l,n=e,a=r,i=void 0,e=[{type:"正面",count:(e=o).positive||0},{type:"中性",count:e.neutral||0},{type:"负面",count:e.negative||0}],"image"===n?i=t:"data"===n&&((e=e.map(function(e){return[e.type,e.count]})).splice(0,0,["情感","情感互动量"]),i=[e]),void a({type:n,obj:i,name:t.getOption().title[0].text});var t,n,a,i}})},I().createElement(f.Z,{theme:"yunting_pos_neu_neg",style:{width:"100%",height:"100%"},option:{},onChartReady:function(e){return i(e)},onEvents:{click:t}}))};t.propTypes={title:n().string.isRequired,loading:n().bool.isRequired,data:n().object};const L=t;var v=r(49975),y=r(60496),C=r(70018),t=function(e){var t=e.data,n=e.title,a=e.onMoreClick,i=e.onClick,o=e.loading,r=e.dateRange,l=e.timeType,s=e.onFilterChange,c=e.formulaType,e=I().useState(void 0),u=e[0],d=e[1],e=I().useState(c),m=e[0],p=e[1];return I().useEffect(function(){var e;u&&((0,g.P)(t)?(e=(0,C.Rl)(t,n,c,u.getWidth()),u.clear(),u.setOption(e)):d(void 0))},[t,u,m]),I().createElement(g.Z,{data:t,className:"emotion-trend-wrapper",loading:o,renderTitle:I().createElement(h.Z,{title:n,data:t,onMoreClick:function(e){return(0,C.kQ)(u,e,t,a,m)}},I().createElement(y.Z,{onChange:function(e){e=e.formulaType;p(e)},objName:"formulaType",activeObj:m,options:C.Gn}),I().createElement(v.Z,{dateRange:r,defaultValue:l,onChange:s}))},I().createElement(f.Z,{theme:"yunting_pos_neu_neg",loadingOption:{text:"",color:"#20a0ff"},option:{},style:{width:"100%",height:"100%"},onChartReady:function(e){return d(e)},onEvents:{click:i}}))};t.propTypes={title:n().string.isRequired,loading:n().bool.isRequired,data:n().object};const P=t;function m(e){return e&&14<e.length?e.slice(0,7)+"\n"+e.slice(7,14)+"...#":e||""}var p=r(43036),E=r(30133),T=r(40086),b=r(31705),x=r(94644),t=function(e){var t=e.isInitial,i=e.loading,n=e.type,a=e.onTypeChange,o=e.analysisObjName,r=e.chartData,l=e.activeSeriesIndex,s=e.activeDataIndex,c=e.onChartClick,e=I().useState(void 0),u=e[0],e=e[1];I().useEffect(function(){var e,n,a,t;!i&&u&&0<r.length&&(n=l,a=s,t=o,e={tooltip:{trigger:"item",formatter:function(e){var t=e.marker;return e.name+"<br>"+t+e.seriesName+"："+e.value}},grid:{show:!1,left:0,right:32,top:42,bottom:0,containLabel:!0},legend:{icon:"rect",itemWidth:12,itemHeight:12,itemGap:16,left:0,top:6,textStyle:{padding:[4,0,0,0]}},xAxis:{type:"value"},yAxis:{type:"category",data:(e=r).map(function(e){e=e.topicName;return e.includes("SUP_TOC")?"#"+e.split("SUP_TOC")[1]+"#":e.match(/#.*#/)[0]}),axisLabel:{formatter:function(e){return 0<e.match(/#.*#/).length?m(e.match(/#.*#/)[0]):""+m(""+e)}}},series:[{name:"与"+t+"相关的声量",type:"bar",data:e.map(function(e,t){return{value:e.aspectTotal,itemStyle:{color:-1===a||0===n&&a===t?"#1574B3":"#D2D2D2"}}}),barWidth:20},{name:"话题声量",type:"bar",data:e.map(function(e,t){return{value:e.topicTotal,itemStyle:{color:-1===a||1===n&&a===t?"#A1C7E1":"#D2D2D2"}}}),barWidth:20}],color:["#1574B3","#A1C7E1"]},u.clear(),u.setOption(e))},[u,t,i,r,n,l,s]);var a={value:n,placeholder:n.name,list:[{id:"weiboTopics",name:"微博话题"},{id:"weiboSupTopics",name:"微博超话"}],onChange:a},d=n.name+"Top10";return I().createElement("div",{className:"content-chart-wrapper"},I().createElement("div",{className:"content-chart-header"},I().createElement(T.Z,a),I().createElement(p.Z,{overlay:"按与头部筛选所选的"+o+"声量由大到小取Top10",placement:"top"},I().createElement("span",null,I().createElement("i",{className:"icon-cem_file1"}))),I().createElement(b.Z,{onDownChartClick:function(){(0,x._v)(u,d)},onDownExcelClick:function(){return function(e,t,n){e=e.map(function(e){return Object.values(e)});e.splice(0,0,["话题","话题声量","与"+t+"相关的声量"]),(0,x.aT)([e],n)}(r,o,d)}})),I().createElement("div",{className:"content-chart-body"},t?I().createElement(E.Z,null):i||r&&0!==r.length?I().createElement(f.Z,{theme:"yunting_multi_color",option:{},showLoading:i,style:{width:"100%",height:"682px",display:0<r.length?"block":"none"},loadingOption:{text:"",color:"#1574B3"},onChartReady:e,onEvents:{click:c}}):I().createElement("div",{className:"empty-block"},"暂无数据")))};const S=t;t.propTypes={isInitial:n().bool,loading:n().bool,type:n().oneOf(["WEIBO","ZHIHU"]).isRequired,onTypeChange:n().func.isRequired,analysisObjName:n().string.isRequired,chartData:n().array,chartSelectedItem:n().string};var l=r(92360),N=r(29030),t=r(30381),_=r.n(t),O={"正面":1,"中性":0,"负面":-1},t=function(e){var t=e.isInitial,n=e.loading,a=e.orderType,i=e.onOrderTypeChange,o=e.msgList,e=e.onMoreMsgClick,i={value:a,placeholder:a.name,list:[{id:"cTime_DESC",name:"时间由大到小"},{id:"cTime_ASC",name:"时间由小到大"},{id:"repostsCount_DESC",name:"转发量由大到小"},{id:"repostsCount_ASC",name:"转发量由小到大"},{id:"attitudesCount_DESC",name:"点赞量由大到小"},{id:"attitudesCount_ASC",name:"点赞量由小到大"},{id:"commentsCount_DESC",name:"评论量由大到小"},{id:"commentsCount_ASC",name:"评论量由小到大"}],onChange:i};return I().createElement("div",{className:"content-msg-list-wrapper"},I().createElement("div",{className:"content-msg-list-header"},I().createElement("span",null,"原贴"),I().createElement(T.Z,i)),I().createElement(l.Loading,{loading:!t&&n},I().createElement("ul",{className:"content-msg-list-body"},t?I().createElement(E.Z,null):o&&0!==o.length?o.map(function(e,t){return I().createElement("li",{className:"msg-wrapper",key:t},I().createElement("div",{className:"msg-header"},I().createElement("span",{className:"msg-header-left"},I().createElement("img",{src:function(e){try{return r(19635)("./"+e+".png")}catch(e){return r(81146)}}(N.z[e.sourceName]),alt:e.sourceName}),I().createElement("span",{className:"username"},e.username)),Object.values(O).includes(e.escore)&&I().createElement("div",{className:"msg-header-center"},I().createElement("i",{className:"cem-icon icon-cem_"+(-1===e.escore?"negative":0===e.escore?"neutral":"positive")})),I().createElement("span",{className:"msg-header-right"},function(e){e=_()(e).format("MM-DD").split("-");return e[0]+"月"+e[1]+"日"}(e.ctime))),I().createElement("div",{className:"msg-body content"},e.content.replace(/<.*?>/gi,"")),e.originSource&&I().createElement("div",{className:"msg-footer"},I().createElement("span",null,"来自 ",e.originSource),I().createElement("span",{className:"staics"},I().createElement("i",{className:"icon-cem_forward"}),I().createElement("span",null,e.repostsCount||0),I().createElement("i",{className:"icon-cem_reply"}),I().createElement("span",null,e.commentsCount||0),I().createElement("i",{className:"icon-cem_weibo-fabulous"}),I().createElement("span",null,e.attitudesCount||0))))}):I().createElement("div",{className:"empty-block"},"暂无数据"))),o&&100<=o.length&&I().createElement("div",{className:"content-msg-list-footer"},I().createElement("span",null,I().createElement("span",null,"最多展示最新100条，"),I().createElement("span",{onClick:e},"查看更多"))))};const w=t;t.propTypes={isInitial:n().bool,loading:n().bool,orderType:n().shape({id:n().string.isRequired,name:n().string.isRequired}),onOrderTypeChange:n().func.isRequired,msgList:n().array.isRequired,onMoreMsgClick:n().func.isRequired};t=function(e){var t=e.isInitial,n=e.type,a=e.chartLoading,i=e.msgListLoading,o=e.onTypeChange,r=e.chartData,l=e.analysisObjName,s=e.activeSeriesIndex,c=e.activeDataIndex,u=e.orderType,d=e.onOrderTypeChange,m=e.msgList,p=e.onChartClick,e=e.onMoreMsgClick;return I().createElement("div",{className:"brand_analysis_content_wrapper",style:{marginRight:0}},I().createElement(S,{isInitial:t,loading:a,type:n,onTypeChange:o,chartData:r,analysisObjName:l,activeSeriesIndex:s,activeDataIndex:c,onChartClick:p}),I().createElement(w,{isInitial:t,loading:i,msgList:m,orderType:u,onOrderTypeChange:d,onMoreMsgClick:e}))};const j=t;t.propTypes={isInitial:n().bool,chartLoading:n().bool,msgListLoading:n().bool,type:n().shape({id:n().string.isRequired,name:n().string.isRequired}),onTypeChange:n().func.isRequired,analysisObjName:n().string.isRequired,chartData:n().array,selectedBarIndex:n().number,onChartClick:n().func,orderType:n().shape({id:n().string.isRequired,name:n().string.isRequired}),onOrderTypeChange:n().func.isRequired,msgList:n().array,onMoreMsgClick:n().func.isRequired};var n=r(97189),Z=r.n(n),A=r(56390),F=r(91476);const k=function(e){var t=e.isInitial,n=e.filterParams,a=e.onMoreClick,i=e.dateRange,o=e.satisChartData,r=e.satisChartLoading,l=e.curDimensionValName,s=e.emoTrendData,c=e.satisTrendLoading,u=e.onTrendFilterChange,d=e.trendTimeType,m=e.formulaType,p=e.onEmoClick,f=e.topicLoading,g=e.topicType,h=e.activeSeriesIndex,v=e.activeDataIndex,y=e.topTenTopicData,C=e.hotWordBubbleData,E=e.hotWordDoubleData,T=e.fetchingHotWordData,b=e.msgListLoading,x=e.postList,S=e.postOrder,N=e.fetchTopTenTopic,_=e.fetchPostList,O=e.onFilterChange,w=e.onChartClick,k=e.onMoreMsgClick,D=e.getFilterRef;e.getParams;return I().createElement("div",{className:"yt_brand_analyze_of_content_wrapper"},I().createElement(R.Z,{ref:D,values:n,model:"BRAND_CONTENT_ANALYSIS",showList:["condition","time","save"],filterCondition:{filter:["TAG","MESSAGE_RELATION","DIMENSION"],filterConfig:["CHAOHUA","TOPICS"],dimension:Z().getQuery("id")},onFilterReady:O,onChange:O}),I().createElement("div",{className:"con_content"},I().createElement("div",{className:"con_content_284"},I().createElement(M,{title:l+"满意度",titleOverlay:"满意度=正面声量÷全部声量",data:o,onMoreClick:a,loading:r}),I().createElement(L,{title:l+"情感占比",data:o,loading:r,onMoreClick:a,onClick:p}),I().createElement(P,{title:l+"情感走势分析",data:s,onMoreClick:a,loading:c,dateRange:i,timeType:d,formulaType:m,onFilterChange:function(e){return u({trendTimeType:e})},onClick:p})),I().createElement("div",{className:"con_content_500"},I().createElement(A.Z,{data:C,loading:T,title:l+"的Top10热词情感"}),I().createElement(F.Z,{data:E,loading:T,title:l+"的反馈焦点"})),I().createElement("div",{className:"con_content_750"},I().createElement(j,{isInitial:t,chartLoading:f,msgListLoading:b,analysisObjName:l,type:g,onTypeChange:function(e){return N({topicType:e})},chartData:y,activeSeriesIndex:h,activeDataIndex:v,orderType:S,onOrderTypeChange:function(e){return _({postOrder:e})},msgList:x,onChartClick:w,onMoreMsgClick:k}))))};var D=r(35239),W=r(87219),n=r(64396),q=n.Z.brand.brandAnalysis,U=n.Z.brand.brandAnalysisSub.content,n=function(t){function e(e){var s=t.call(this,e)||this;return s.handleFilterChange=function(e){var t=e.dateFilter.numOfDays;s.props.fetchContentDatas({filterParams:e,projectId:D.t.get(D.V.curProject).id,dimensionId:s.state.dimensionId,dateRange:t+Math.random()}),s.getAnalysisObjName()},s.getAnalysisObjName=function(){var e=s.props.saveState,t=s.filter.refs.FilterCondition.getValue(),n=s.filter.refs.FilterCondition.getFilterList(),a=t.filter(function(e){return"dimension"===e.special})[0].values[0];if(n&&0<n.length)for(var i=0;i<n.length;i++){var o=n[i].values;if("dimension"===n[i].special){e({curDimensionValName:o.filter(function(e){return String(e.id)===String(a)})[0].name});break}}},s.handleOnChartClick=function(e){var t=s.props,n=t.activeSeriesIndex,a=t.activeDataIndex,i=t.fetchTopTenTopic,o=t.fetchPostList,t=e.dataIndex,e=e.seriesIndex;n===e&&a===t?i():o({activeSeriesIndex:e,activeDataIndex:t})},s._handleOnTrendFilterChange=function(e){s.props.fetchEmotionTrendData(c()({},e))},s._handleOnMoreClick=function(e){"image"===e.type?(0,x._v)(e.obj,e.name):"data"===e.type&&(0,x.aT)(e.obj,e.name)},s._handleOnMoreMsgClick=function(){var e=s.props,t=e.filterParams,n=e.projectId,a=e.topicType,i=e.topTenTopicData,o=e.activeSeriesIndex,r=e.activeDataIndex,e=(-1===r?"":i[r]).topicName,e=-1===r?i.map(function(e){e=e.topicName;return(e.includes("SUP_TOC")?e.split("SUP_TOC"):e.split("#"))[1]}):[(e.includes("SUP_TOC")?e.split("SUP_TOC"):e.split("#"))[1]],n={dateFilter:t.dateFilter,filterModel:c()({},t.filterModel,{dimension:0===o?t.filterModel.dimension:[],messageType:t.filterModel.messageType||["QUE_ANS_QUESTION","QUE_ANS_ANSWER","WEIBO","WEIBO_REPORT","COMMON_POST","NEWS_TEXT"]}),projectId:n};"weiboSupTopics"===a.id?n.filterModel.superTopics=[{contain:e}]:n.filterModel.topics=[{contain:e}],window.open("/inbox/public?"+encodeURIComponent(JSON.stringify(n)))},s.getEmoParams=function(o,e){var t=s.props,n=t.filterParams,r=t.trendTimeType,l=t.emoTrendData,t=JSON.parse(JSON.stringify(n));return t.projectId=s.props.projectId,t.filterModel.messageType||(t.filterModel.messageType=["QUE_ANS_QUESTION","QUE_ANS_ANSWER","WEIBO","WEIBO_REPORT","COMMON_POST","NEWS_TEXT"]),o&&(t.dateFilter=c()({},(0,W.ZP)(n.dateFilter,function(e){var t=r,n=l.datasets[0].source.slice(1).map(function(e){return e[0]}),a=(0,d.LV)(o,t),i=a.from,a=a.to;"DAY"!==t&&"HOUR"!==t&&(String(o)===String(n[0])?i=e.from:String(o)===String(n[n.length-1])&&(a=e.to)),e.from=i,e.to=a}))),e&&(t.filterModel.escore=["正面"===e?"1":"负面"===e?"-1":"0"]),t},s._handleOnEmoClick=function(e){var t;e&&"series"===e.componentType&&("pie"===e.componentSubType?(t=e.name,t=s.getEmoParams(null,t),window.open("/inbox/public?"+encodeURIComponent(JSON.stringify(t)))):(t=e.name,e=e.seriesName,e=s.getEmoParams(t,e),window.open("/inbox/public?"+encodeURIComponent(JSON.stringify(e)))))},s.state={dimensionId:Z().getQuery("id")},s.event={onChartClick:s.handleOnChartClick,onFilterChange:s.handleFilterChange,onMoreClick:s._handleOnMoreClick,onEmoClick:s._handleOnEmoClick,getFilterRef:function(e){return s.filter=e},onTrendFilterChange:s._handleOnTrendFilterChange,onMoreMsgClick:s._handleOnMoreMsgClick},s}o()(e,t);var n=e.prototype;return n.componentDidMount=function(){},n.componentWillUnmount=function(){},n.render=function(){return I().createElement(k,c()({},this.props,this.state,this.event))},e}(I().PureComponent);const B=(0,i.connect)(function(e){var t=e.loading,e=a()(e,["loading"]);return c()({},e[q][U],{topicLoading:t.effects[q+"/fetchTopTenTopic"]||!1,msgListLoading:t.effects[q+"/fetchPostList"]||!1,fetchingHotWordData:t.effects[q+"/fetchHotWordData"]||!1,satisChartLoading:t.effects[q+"/fetchSatisChartData"]||!1,satisTrendLoading:t.effects[q+"/fetchEmotionTrendData"]||!1})},function(t){return{fetchContentDatas:function(e){return t({type:q+"/fetchContentDatas",payload:e})},fetchSatisChartData:function(e){return t({type:q+"/fetchSatisChartData",payload:e})},fetchEmotionTrendData:function(e){return t({type:q+"/fetchEmotionTrendData",payload:e})},fetchTopTenTopic:function(e){return t({type:q+"/fetchTopTenTopic",payload:e})},fetchPostList:function(e){return t({type:q+"/fetchPostList",payload:e})},saveState:function(e){return t({type:q+"/saveContentState",payload:e})}}})(n)},40086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(67154),c=n.n(a),t=n(85354),i=n.n(t),a=n(67294),u=n.n(a),t=n(45697),t=n.n(t),o=function(n){function e(e){var t=n.call(this,e)||this;return t.stop=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},t._setEvent=function(e){return 0===e?{onMouseEnter:function(){t.setState({firstLiHover:!0})},onMouseLeave:function(){t.setState({firstLiHover:!1})}}:{}},t.setShowSelFalse=function(){t.setState({show:!1})},t.state={show:!1,firstSelected:!1},t}i()(e,n);var t=e.prototype;return t.changeShow=function(e){var t=this;this.state.show&&this.stop(e),setTimeout(function(){t.setState({show:!t.state.show})},0)},t.componentDidMount=function(){window.addEventListener("click",this.setShowSelFalse)},t.componentWillUnmount=function(){window.removeEventListener("click",this.setShowSelFalse)},t.render=function(){var n=this,e=this.state.show,t=this.props,a=t.placeholder,i=t.list,o=t.value,r=t.onChange,l=t.style,s=t.partingLine,t=i[0]&&i[0].id===o.id;return u().createElement("div",{className:"chart-select",style:l||{}},u().createElement("div",{className:"select "+(s?"line":""),onClick:function(e){return n.changeShow(e)}},u().createElement("div",{className:"infor "+(e?"sel":"")},u().createElement("span",{className:"placeholder"},a),u().createElement("i",{className:"icon icon-cem_arrow-launches",style:{transform:e?"rotate(-180deg)":"",top:e?"3px":""}}))),e&&u().createElement("div",{className:"position-wrap"},u().createElement("div",{className:"selItem "+(this.state.firstLiHover||t?"selPadHover":""),onClick:function(e){return n.stop(e)}},u().createElement("div",{className:"wrap"},u().createElement("ul",null,0<i.length?i.map(function(e,t){return u().createElement("li",c()({className:e.id===o.id?"sel":"",key:t,onClick:function(){n.setShowSelFalse(),r&&r(e,t)}},n._setEvent(t)),u().createElement("span",null,e.name))}):u().createElement("div",{className:"noData"},"无数据"))))))},e}(a.Component);o.defaultProps={placeholder:"请选择",list:[{name:"周",id:"week"},{name:"月",id:"month"}],value:{}},o.propTypes={placeholder:t().oneOfType([t().string,t().element]),list:t().array,value:t().object,onChange:t().func,style:t().object,partingLine:t().bool}},29030:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var a={"百度知道":"bdzd","百度贴吧":"bdtb","八爪鱼":"bzy","nps问卷":"nps","科沃斯":"ecovacs","科沃斯官网":"ecovacs","科沃斯商城":"ecovacs","国美":"gm","京东":"jd","苏宁易购":"snyg","苏宁":"snyg","天猫":"tm","淘宝":"tb","唯品会":"wph","微信":"wx","公众号":"wx","微信公众号":"wx","新浪":"xl","新浪微博":"xl","微博":"xl","新浪新闻":"xlxw","小米商城":"xm","小米社区":"xm_bbs","亚马逊":"ymx","米家有品":"yp","知乎":"zh","百度":"bd","VIVO官网":"vivo","海信":"haixin","1号店":"yhd","创维":"chuangwei","欢太商城":"htsc","自定义":"custom","云听CEM":"nps","花粉俱乐部":"huawei","vivo社区":"vivo_bbs","coloros社区":"coloros_bbs","酒仙":"jx","一点资讯":"yd","小红书":"xhs","什么值得买":"smzdm",bilibili:"bilibili","今日头条":"jrtt","网易新闻":"wyxw","百度新闻":"bdxw","腾讯新闻":"txxw","抖音":"dy","新闻":"xw","聚投诉":"jts","黑猫投诉":"hmts","拼多多":"pdd","OPPO社区":"opposq","大众点评":"dzdp","微博评论":"xl","抖音小店":"douyin"}}}]);
(self.webpackChunkyunting=self.webpackChunkyunting||[]).push([[9387],{87771:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var a=n(37316),i=n.n(a),s=n(67154),g=n.n(s),o=n(85354),r=n.n(o),t=n(67294),S=n.n(t),y=n(55815),N=n(61918),E=n(92360),T=n(35239),a=n(23279),c=n.n(a),p=n(2271),l=n(43036);const h=function(e){var t=e.data,n=e.detailList,a=e.onChooseSpu,i=e.onChooseSku,s=e.keywordSku,o=e.keywordSpu;return S().createElement("div",{className:"product_setting_edit_left_wrap"},S().createElement("div",{className:"top"},S().createElement(l.Z,{overlay:S().createElement("div",{style:{maxWidth:260},onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},onMouseUp:function(){s&&document.querySelector(".product_setting_edit_left_wrap")&&document.querySelector(".product_setting_edit_left_wrap").click(),s&&i(""),a(window.getSelection().toString().trim())}},t.name),placement:"top"},S().createElement("div",{className:"title",onClick:function(){return window.open(""+t.url)}},t.name)),S().createElement("div",{className:"content_item"},n.map(function(e){return S().createElement("div",{className:"product",key:e.id},S().createElement("span",null,e.name),S().createElement("div",{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},e.values.map(function(e,t){return S().createElement("span",{key:e.name,onMouseUp:function(){o&&document.querySelector(".product_setting_edit_left_wrap")&&document.querySelector(".product_setting_edit_left_wrap").click(),o&&a(""),i(window.getSelection().toString().trim())},className:(0===t&&"checked")+" "+(e.offShelf&&"closed")},e.name)})))}))))};var I=n(17190),_=n(35303),L=n(29257);const k=function(t){function e(e){var r=t.call(this,e)||this;return r._handleOnSelectChange=function(e,t,n){var a,i;e&&e.length&&(a=e[e.length-1],r.state["topicValue"+t].find(function(e){return e.value===a})?r.setState(((i={})["value"+n.id]=[a],i["id"+n.id]=r.state["topicValue"+t].find(function(e){return e.value===a}).id,i)):r.props.fetchAddTopicValue({value:a,topicId:n.id}).then(function(e){var t;2e4===e.code&&r.setState(((t={})["value"+n.id]=[a],t["id"+n.id]=e.result,t))})),e.length||r.setState(((e={})["value"+n.id]=void 0,e))},r.getValue=function(){var e=r.state,t=e.spu,n=e.sku,a=e.spuName,i=e.skuName,s=e.topicList,e=e.packageType,o=[];return s.forEach(function(e){r.state["value"+e.id]&&o.push({id:e.id,name:r.state["id"+e.id]})}),{spuId:t,skuId:n,spuName:a,skuName:i,customizeConfig:o,packageType:e}},r.state={spu:e.data.spuId,spuName:null,sku:e.data.skuId,skuName:null,spuTip:e.spuTip,skuTip:e.skuTip,topicList:e.topicList,oddMaxLeng:0,evenMaxLeng:0,packageType:e.data.packageType&&"null"!==e.data.packageType?e.data.packageType:L.$[0].id},r}r()(e,t);var n=e.prototype;return n.setTopicList=function(e,t,n,a){var i=this;this.setState({topicList:[].concat(t.spuTitle.map(function(e,t){return{id:e,name:e,values:n&&i.props.spuList.find(function(e){return e.id===n})?JSON.parse(i.props.spuList.find(function(e){return e.id===n}).config)[e]:""}}),t.skuTitle.map(function(e,t){return{id:e,name:e,values:a&&i.props.skuList.find(function(e){return e.id===a})?JSON.parse(i.props.skuList.find(function(e){return e.id===a}).config)[e]:""}}),e)})},n.componentDidMount=function(){var n=this;this.props.data.spuName===this.state.spuName&&this.props.data.skuName===this.state.skuName||this.setState({spu:this.props.data.spuId,spuName:this.props.data.spuName,sku:this.props.data.skuId,skuName:this.props.data.skuName},function(){n.setTopicList(n.props.topicList,n.props.data,n.props.data.spuId,n.props.data.skuId),setTimeout(function(){var e,t;n.state.topicList&&(e=n.state.topicList.filter(function(e,t){return t%2==0}).map(function(e){return e.name.length}),t=n.state.topicList.filter(function(e,t){return t%2!=0}).map(function(e){return e.name.length}),n.setState({oddMaxLeng:6<Math.max.apply(Math,e)?6:Math.max.apply(Math,e),evenMaxLeng:6<Math.max.apply(Math,t)?6:Math.max.apply(Math,t)}))},0)})},n.componentDidUpdate=function(a,i){var s=this,e=a.data,t=a.spuTip,n=a.skuTip,o=this.props,r=o.data,c=o.topicList,u=o.spuTip,p=o.skuTip,l=o.topicOpts,d=i.spuName,m=i.skuName,o=this.state,f=o.spuName,h=o.skuName,g=o.spu,k=o.sku;JSON.stringify(t)!==JSON.stringify(u)?this.setState({spuTip:u.substring(0,8)}):JSON.stringify(n)!==JSON.stringify(p)&&this.setState({skuTip:p.substring(0,8)}),JSON.stringify(d)===JSON.stringify(f)&&JSON.stringify(m)===JSON.stringify(h)||this.setTopicList([].concat(this.props.topicList.filter(function(e){return"平台"===e.id}),this.props.topicList.filter(function(e){return"店铺类型"===e.id}),this.props.topicList.filter(function(e){return"店铺"===e.id})),r,g,k),JSON.stringify(e)!==JSON.stringify(r)&&this.setState({spu:r.spuId,spuName:r.spuName,sku:r.skuId,skuName:r.skuName,spuTip:"",skuTip:"",packageType:r.packageType||L.$[0].id},function(){l&&l.forEach(function(e,t){var n;s.setState(((n={})["value"+e.id]=void 0,n))}),s.setTopicList(c,r,g,k)}),l&&l.forEach(function(t,e){var n;s.props["topicValue"+e]&&JSON.stringify(a["topicValue"+e]!==JSON.stringify(s.props["topicValue"+e]))&&s.setState(((n={})["topicValue"+e]=s.props["topicValue"+e],n)),JSON.stringify(i["value"+t.id])===JSON.stringify(s.state["value"+t.id])&&JSON.stringify(d)===JSON.stringify(f)&&JSON.stringify(m)===JSON.stringify(h)||s.setTopicList([].concat(s.props.topicList.filter(function(e){return"平台"===e.id}),s.props.topicList.filter(function(e){return"店铺类型"===e.id}),s.props.topicList.filter(function(e){return"店铺"===e.id}),l.map(function(e){return{id:e.id,name:e.name,values:e.id===t.id&&s.state["value"+t.id]&&s.state["value"+e.id]?s.state["value"+t.id][0]:s.state["value"+e.id]?s.state["value"+e.id][0]:""}})),r,g,k)})},n.render=function(){var a=this,e=this.props,t=e.spuList,n=e.skuList,i=e.topicOpts,s=e.onFocus,o=e.keywordSpu,r=e.spuShow,c=e.keywordSku,u=e.skuShow,p=this.state,l=p.spu,d=p.spuName,m=p.sku,f=p.spuTip,h=p.skuTip,g=p.topicList,k=p.oddMaxLeng,v=p.evenMaxLeng,e=p.packageType,p=T.t.get(T.V.curProject).notShowTopicList;return S().createElement("div",{className:"product_setting_edit_right_wrap"},S().createElement("div",{className:"top"},S().createElement("div",{className:"spu_sku_base"},S().createElement("span",null,"SPU词条"),S().createElement("div",null,t&&S().createElement(I.Z,{show:r,onChange:function(e){a.setState({spu:e.id,spuName:e.name,spuSplit:e.split})},trigger:"click",data:t,value:l,onTipClick:function(){f&&a.setState({spuTip:""}),s()},addText:"创建SPU词条",onAddClick:function(){window.open("/account/project/base?drawerVisible=true")},className:f?"content-error":"",keyword:o}),f&&S().createElement("span",{className:"content-error-hint"},f))),S().createElement("div",{className:"spu_sku_base"},S().createElement("span",null,"SKU词条"),S().createElement("div",null,n&&S().createElement(I.Z,{show:u,onChange:function(e){a.setState({sku:e.id,skuName:e.name,skuSplit:e.split})},trigger:"click",data:l?n.filter(function(e){return e.parentId===l}):n,value:m,onTipClick:function(){h&&a.setState({skuTip:""}),s()},addText:"创建SKU词条",disabled:!l,onAddClick:function(){window.open("/account/project/base/sku?spuId="+l+"&spuName="+d+"&drawerVisible=true")},className:h?"content-error":"",keyword:c}),h&&S().createElement("span",{className:"content-error-hint"},h))),!(p&&p.includes("PACKAGE_TYPE"))&&S().createElement("div",{className:"spu_sku_base"},S().createElement("span",null,"销售版本"),S().createElement("div",null,L.$&&S().createElement(I.Z,{onChange:function(e){a.setState({packageType:e.name})},trigger:"click",data:L.$,value:e})))),S().createElement("div",{className:"middle"},S().createElement("div",{className:"title"},S().createElement("h4",null,"自定义主题"),S().createElement("i",{className:"icon-cem_collection-settings",onClick:function(){window.open("/account/project/linkTopic?open=true")}})),S().createElement("div",{className:"topic_content"},i&&i.map(function(t,n){return S().createElement("div",{className:"item",key:t.id},S().createElement("span",{className:"ellipsis"},t.name),S().createElement(_.RS,{tags:!0,multiple:!1,onChange:function(e){a._handleOnSelectChange(e,n,t)},value:a.state["value"+t.id],optionLabelProp:"label",optionFilterProp:"label",placeholder:"请选择或者输入"},a.state["topicValue"+n]&&a.state["topicValue"+n].map(function(e){return S().createElement(_.Wx,{key:e.id,value:e.value,label:e.value},e.value)})))}))),S().createElement("div",{className:"bottom"},S().createElement("h4",null,"主题值总览"),S().createElement("div",null,S().createElement("div",{className:"topic_value_content"},g&&g.map(function(e,t){return S().createElement("span",{key:e.id},S().createElement("span",{className:"name",style:{width:t%2==0?12*k+16+"px":12*v+16+"px"}},e.name),S().createElement("span",{className:"value",style:{width:t%2==0?190-12*k-16-32+"px":190-12*v-16-32+"px"}},e.values))})))))},e}(S().PureComponent);var s=n(55609),v=n(5133),o=n(64396),u=o.Z.product.setting.subscribe.recycling,d={visible:!1,esId:"",id:"",nextId:"",topicList:[],isNext:!0,data:{spuName:"",skuName:""},detailList:[],spuTip:"",skuTip:"",keywordSpu:"",spuShow:!1,keywordSku:"",skuShow:!1},a=function(t){function e(e){var h=t.call(this,e)||this;return h.show=function(e){var t=e.id,n=e.esId,a=e.nextId,i=e.nextEsId,s=e.topicList,o=e.data,e=e.detailList;h.setState({visible:!0,id:t,nextId:a,nextEsId:i,topicList:s,data:o,detailList:e,esId:n})},h._handleOnOk=function(){h._handleOnCancel()},h._handleOnCancel=function(){h.setState({visible:!1})},h._handleOnAddIgnore=function(a){var e=h.state,t=(e.id,e.isNext),i=e.nextId,n=e.nextEsId,s=e.data,o=e.esId,r=h.props,c=r.dataList,u=r.total,p=r.keyword,l=r.pageIndex,e=r.pageSize,d=r.topicOpts;if("add"===a){if(!h.contentRef.getValue().spuId)return void h.setState({spuTip:"请选择SPU词条"+(new Date).getTime()});if(!h.contentRef.getValue().skuId)return void h.setState({skuTip:"请选择SKU词条"+(new Date).getTime()});h.props.fetchEdit(g()({connectionId:s.id,esId:o,name:s.name,url:s.url,sourceId:s.sourceId},h.contentRef.getValue()))}var m=h.contentRef.getValue().spuId,f=h.contentRef.getValue().spuName;t?i?(h.setState({id:i,esId:n}),h.props.fetchDetail({connectionId:i}).then(function(n){2e4===n.data.code&&h.props.fetchLinkList({searchTitleWord:p}).then(function(e){var t=e.findIndex(function(e){return e.id===i});e.length&&h.setState({data:g()({},e.find(function(e){return e.id===i}),{spuId:"add"===a&&!e.find(function(e){return e.id===i}).spuId&&m?m:e.find(function(e){return e.id===i}).spuId,spuName:"add"===a&&!e.find(function(e){return e.id===i}).spuId&&m?f:e.find(function(e){return e.id===i}).spuName}),topicList:[{id:"平台",name:"平台",values:e.find(function(e){return e.id===i}).sourceName},{id:"店铺类型",name:"店铺类型",values:e.find(function(e){return e.id===i}).shopType},{id:"店铺",name:"店铺",values:e.find(function(e){return e.id===i}).shopName}].concat(d.map(function(e){return{id:e.id,name:e.name,values:""}})),detailList:n.data.result,nextId:t!==e.length-1?e[t+1].id:"",nextEsId:t!==e.length-1?e[t+1].esId:""})})})):u>c.length&&l!==Math.ceil(u/e)?h.props.fetchLinkList({searchTitleWord:p,pageIndex:l+1}).then(function(t){var e,n;t.length&&(e=t[0].id,n=t[0].esId,h.setState({id:e,esId:n}),h.props.fetchDetail({connectionId:e}).then(function(e){2e4===e.data.code&&h.setState({data:g()({},t[0],{spuId:"add"===a&&!t[0].spuId&&m?m:t[0].spuId,spuName:"add"===a&&!t[0].spuId&&m?f:t[0].spuName}),topicList:[{id:"平台",name:"平台",values:t[0].sourceName},{id:"店铺类型",name:"店铺类型",values:t[0].shopType},{id:"店铺",name:"店铺",values:t[0].shopName}].concat(d.map(function(e){return{id:e.id,name:e.name,values:""}})),detailList:e.data.result,nextId:t[1]?t[1].id:"",nextEsId:t[1]?t[1].nextEsId:""})}))}):(v.Z.error("当前已是最后一个商品"),setTimeout(function(){h.props.fetchLinkList({searchTitleWord:p}),h._handleOnCancel()},100)):setTimeout(function(){h.props.fetchLinkList({searchTitleWord:p,pageIndex:1}),h._handleOnCancel()},100)},h._handleOnNextChange=function(e){h.setState({isNext:e})},h._handleOnChooseSpu=function(e){var t=h.state,n=t.spuShow;t.skuShow;h.setState({keywordSpu:e,spuShow:!n,skuShow:!1})},h._handleOnChooseSku=function(e){var t=h.state,n=t.skuShow;t.spuShow;h.setState({keywordSku:e,skuShow:!n,spuShow:!1})},h.state=g()({},Object.assign({},d)),h}return r()(e,t),e.prototype.render=function(){var t=this,e=this.state,n=e.visible,a=e.isNext,i=e.topicList,s=e.data,o=e.detailList,r=e.spuTip,c=e.skuTip,u=e.keywordSpu,p=e.spuShow,l=e.keywordSku,d=e.skuShow,m=this.props,f=m.spuList,e=m.skuList,m=m.topicOpts;return n?S().createElement(E.Dialog,{className:"yt_product_setting_recycling_edit_dialog_wrapper",title:"商品链接主题维护",size:"tiny",visible:n,onCancel:function(){t.setState({visible:!1})},lockScroll:!0},S().createElement(E.Dialog.Body,null,S().createElement("div",{style:{display:"flex"}},S().createElement(h,{data:s,detailList:o,onChooseSpu:function(e){return t._handleOnChooseSpu(e)},onChooseSku:function(e){return t._handleOnChooseSku(e)},keywordSku:l,keywordSpu:u}),S().createElement(k,g()({ref:function(e){return t.contentRef=e},data:s,spuList:f,skuList:e,topicList:i,spuTip:r,skuTip:c,topicOpts:m,keywordSpu:u,spuShow:p,keywordSku:l,skuShow:d},this.props)))),S().createElement(E.Dialog.Footer,null,S().createElement(E.Checkbox,{checked:a,onChange:this._handleOnNextChange},"下一商品"),S().createElement(E.Button,{type:"primary",onClick:function(){return t._handleOnAddIgnore("add")}},"添加"))):null},e}(S().PureComponent);const m=(0,s.connect)(function(e){var t=g()({},e),n=t[u],a=n.skuList,i=n.spuList,s=n.dataList,o=n.pageIndex,r=n.searchTitleWord,e=n.total,n=n.topicOpts;return g()({},t[u],{skuList:a,spuList:i,dataList:s,pageIndex:o,keyword:r,total:e,topicOpts:n})},function(t){return{fetchLinkList:function(e){return t({type:u+"/fetchLinkList",payload:e})},fetchDetail:function(e){return t({type:u+"/fetchDetail",payload:e})},fetchEdit:function(e){return t({type:u+"/fetchEdit",payload:e})},fetchTopicOpts:function(e){return t({type:u+"/fetchTopicOpts",payload:e})},fetchAddTopicValue:function(e){return t({type:u+"/fetchAddTopicValue",payload:e})}}},null,{withRef:!0})(a);var f=n(97189);const w=function(t){function e(e){var u=t.call(this,e)||this;return u._handleOnAddIgnore=function(e){var t=u.state,n=t.spu,a=t.spuName,i=t.sku,t=t.skuName,n=n||e.spuId,i=i||e.skuId;n?i?(u.props.onEdit({spuName:a||e.spuName,skuName:t||e.skuName,spuId:n,skuId:i,esId:e.esId,name:e.name,url:e.url,sourceId:e.sourceId,connectionId:e.id,isList:!0}),setTimeout(function(){u.setState({spu:0,sku:0,spuName:"",skuName:""})},0)):u.setState({skuTip:"请选择SKU词条"}):u.setState({spuTip:"请选择SPU词条"})},u._handleOnEdit=function(n){var a=u.props.data,i=a.findIndex(function(e){return e.id===n.id});u.props.fetchDetail({connectionId:n.id}).then(function(t){2e4===t.data.code&&u.props.fetchTopicOpts().then(function(e){e.forEach(function(e,n){u.props.fetchTopicValue({topicId:e.id,projectId:T.t.get(T.V.curProject).id}).then(function(e){var t;2e4===e.data.code&&u.props.save(((t={})["topicValue"+n]=e.data.result.result,t))})}),u.editModalRef.wrappedInstance.show({id:n.id,esId:n.esId,nextEsId:i!==a.length-1?a[i+1].esId:"",nextId:i!==a.length-1?a[i+1].id:"",data:n,topicList:[{id:"平台",name:"平台",values:n.sourceName},{id:"店铺类型",name:"店铺类型",values:n.shopType},{id:"店铺",name:"店铺",values:n.shopName}].concat(e.map(function(e){return{id:e.id,name:e.name,values:""}})),detailList:t.data.result})})})},u.state={spuTip:"",skuTip:""},u.columns=[{label:"商品详情页标题",prop:"name",width:280,fixed:"",checked:!0},{label:"SPU词条",prop:"spuName",width:220,fixed:"",checked:!0},{label:"SKU词条",prop:"skuName",width:220,fixed:"",checked:!0},{label:"操作",prop:"control",width:120,fixed:"right",checked:!0}],u.prefixColumns=[{fixed:"left",label:"",width:16}],u.columnRenders={name:function(e){return S().createElement(l.Z,{overlay:S().createElement("div",{style:{maxWidth:260}},e.name,S().createElement("div",{style:{color:"#8c8c8c"},dangerouslySetInnerHTML:{__html:""+(e.urlTopics?Object.values(JSON.parse(e.urlTopics)).join("&nbsp;"):"")}})),placement:"top"},S().createElement("div",{className:"setting_name_wrap"},S().createElement("div",{className:"name",onClick:function(){window.open(""+e.url)}},e.name),S().createElement("div",{className:"ellipsis",dangerouslySetInnerHTML:{__html:""+(e.urlTopics?Object.values(JSON.parse(e.urlTopics)).join("&nbsp;"):"")}})))},spuName:function(e){var t=u.state,n=t.spu,a=t.spuTip,i=u.props,s=i.firstId,t=i.spuList,o=i.onFocus;return e.id===s?S().createElement("div",{className:"entry_select_wrap"},S().createElement(I.Z,{onChange:function(e){u.setState({spu:e.id,spuName:e.name})},className:a?"content-error":"",trigger:"hover",data:t,value:n,onTipClick:function(){a&&u.setState({spuTip:""}),o()},defaultValue:e.spuId,addText:"创建SPU词条",onAddClick:function(){window.open("/account/project/base?drawerVisible=true")}}),a&&S().createElement("span",{className:"content-error-hint"},a)):S().createElement("span",null,e.spuName)},skuName:function(t){var e=u.state,n=e.spu,a=e.spuName,i=e.sku,s=e.skuTip,o=u.props,r=o.firstId,e=o.skuList,c=o.onFocus;return t.id===r?S().createElement("div",{className:"entry_select_wrap"},S().createElement(I.Z,{onChange:function(e){u.setState({sku:e.id,skuName:e.name})},className:s?"content-error":"",trigger:"hover",data:n?e.filter(function(e){return e.parentId===n}):t.spuId?e.filter(function(e){return e.parentId===t.spuId}):e,value:i,onTipClick:function(){s&&u.setState({skuTip:""}),c()},defaultValue:t.skuId,addText:"创建SKU词条",disabled:!t.spuId&&!n,onAddClick:function(){window.open("/account/project/base/sku?spuId="+(n||t.spuId)+"&spuName="+(a||t.spuName)+"&drawerVisible=true")}}),s&&S().createElement("span",{className:"content-error-hint"},s)):S().createElement("span",null,t.skuName)},control:function(e){var t=u.props.firstId;return S().createElement("div",{className:"control"},S().createElement("span",{onClick:function(){return e.id===t?u._handleOnAddIgnore(e):u._handleOnEdit(e)}},"添加"))}},u}r()(e,t);var n=e.prototype;return n.componentDidMount=function(){setTimeout(function(){var e=document.querySelector(".yt_product_setting_subscribe_recycling_wrapper .el-table__body-wrapper"),t=document.querySelectorAll(".yt_product_setting_subscribe_recycling_wrapper .ets-option-panel");e&&t&&e.addEventListener("mouseleave",c()(function(){t.forEach(function(e){(0,f.removeClass)(e,"ets-show")})},300))},0)},n.render=function(){var t=this,e=this.props,n=e.data,a=e.total,i=e.pageIndex,s=e.pageSize,o=e.loading,r=e.className,c=e.onPageChange,u=e.onPageSizeChange,e=e.onFocus;return S().createElement(S().Fragment,null,S().createElement(p.Z,{savedKey:"product_setting_subscribe_recycling",total:a,pageIndex:i,pageSize:s,className:r,prefixColumns:this.prefixColumns,data:n,loading:o,columns:this.columns,columnRenders:this.columnRenders,onPageChange:c,onPageSizeChange:u}),S().createElement(m,{ref:function(e){return t.editModalRef=e},onFocus:e}))},e}(t.PureComponent);const C=function(e){var t=e.loading,n=e.searchTitleWord,a=e.skuList,i=e.spuList,s=e.dataList,o=e.pageIndex,r=e.pageSize,c=e.total,u=e.firstId,p=e.onFilterChange,l=e.onPageChange,d=e.onPageSizeChange,m=e.onEdit,f=e.fetchDetail,h=e.fetchTopicOpts,g=e.fetchTopicValue,k=e.save,v=e.onFocus,e=e.location;return S().createElement("div",{className:"yt_product_setting_subscribe_recycling_wrapper"},S().createElement(y.Z,{title:function(e){e=e.title;return[{title:"所有项目",url:"/account/project"},{title:T.t.get(T.V.backProjectConfig).name,url:"/account/project/preview"},{title:e,url:"/account/project/"+location.pathname.split("/")[3]+"/subscribe"},{title:"智能订阅",url:"/account/project/"+location.pathname.split("/")[3]+"/subscribe",state:{type:"SubscribeOverview"}},{title:"回收站"}]}({title:"comment"===e.pathname.split("/")[3]?"电商评论":"电商监控"})}),S().createElement("div",{className:"content"},S().createElement("div",{className:"table_content_wrap"},S().createElement("div",{className:"top_zone"},S().createElement(N.Z,{onSearch:function(e){return p({searchTitleWord:e})},onClear:function(e){return p({searchTitleWord:e})},placeholder:"搜索商品标题",defValue:n,style:{width:168}})),s?S().createElement(w,{className:"list_content_wrap",loading:t,data:s,skuList:a,spuList:i,pageIndex:o,pageSize:r,total:c,firstId:u,onChange:p,onPageChange:l,onPageSizeChange:d,onEdit:m,fetchDetail:f,fetchTopicOpts:h,fetchTopicValue:g,save:k,onFocus:v}):S().createElement(E.Loading,{loading:t,style:{height:"100%"}}))))};var O=o.Z.product.setting.subscribe.recycling,t=function(t){function e(e){var r=t.call(this,e)||this;return r._handleOnFocus=function(){var e=r.props,t=e.spuList,n=e.skuList,e=T.t.get(T.V.newEntry)||{},a=e.spuName,i=e.skuName,s=e.spuId,o=e.skuId;(a&&!t.find(function(e){return a.includes(e.name.replaceAll(e.split,"").replaceAll("|",""))})||i&&!n.find(function(e){return i.includes(e.name.replaceAll(e.split,"").replaceAll("|",""))})||s&&!t.find(function(e){return String(e.id)===String(s)})||o&&!n.find(function(e){return String(e.id)===String(o)}))&&r.props.fetchEntryOpts({projectId:T.t.get(T.V.curProject).id,id:1})},r._handleOnEdit=function(e){console.log("woyecaole"),r.props.fetchEdit(e)},r._handleOnFilterChange=function(e){void 0!==e.searchTitleWord&&r.props.fetchLinkList({searchTitleWord:e.searchTitleWord,pageIndex:1})},r._handleOnPageChange=function(e){var t=r.props,n=t.searchTitleWord;(0,t.fetchLinkList)({pageIndex:e,searchTitleWord:n})},r._handleOnPageSizeChange=function(e){var t=r.props,n=t.searchTitleWord;(0,t.fetchLinkList)({pageSize:e,pageIndex:1,searchTitleWord:n})},r.state={},r.event={onFilterChange:r._handleOnFilterChange,onPageChange:r._handleOnPageChange,onPageSizeChange:r._handleOnPageSizeChange,onEdit:r._handleOnEdit,onFocus:r._handleOnFocus},e.save({connectionType:e.location.pathname.includes("/price")?"PRICE":"DEFAULT"}),r}r()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.fetchEntryOpts({projectId:T.t.get(T.V.curProject).id})},n.componentWillUnmount=function(){this.props.clean()},n.render=function(){return S().createElement(C,g()({},this.props,this.state,this.event))},e}(t.PureComponent);const x=(0,s.connect)(function(e){var t=e.loading,e=i()(e,["loading"]);return g()({},e[O],{loading:t.effects[O+"/fetchLinkList"]||!1})},function(t){return{save:function(e){return t({type:O+"/save",payload:e})},clean:function(e){return t({type:O+"/clean",payload:e})},fetchLinkList:function(e){return t({type:O+"/fetchLinkList",payload:e})},fetchDetail:function(e){return t({type:O+"/fetchDetail",payload:e})},fetchEntryOpts:function(e){return t({type:O+"/fetchEntryOpts",payload:e})},fetchEdit:function(e){return t({type:O+"/fetchEdit",payload:e})},fetchTopicOpts:function(e){return t({type:O+"/fetchTopicOpts",payload:e})},fetchTopicValue:function(e){return t({type:O+"/fetchTopicValue",payload:e})},fetchAddTopicValue:function(e){return t({type:O+"/fetchAddTopicValue",payload:e})}}})(t)}}]);